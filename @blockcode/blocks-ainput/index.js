import{addLocalesMessages as w,Text as y}from"@blockcode/core";import{Text as u}from"@blockcode/core";import{jsx as t}from"preact/jsx-runtime";var g=(o)=>[{id:"rawValue",text:t(u,{id:"blocks.ainput.rawValue",defaultMessage:"pin [PIN] raw value"}),output:"number",inputs:{PIN:o.boardPins?{menu:o.boardPins.adc}:{type:"positive_integer",defaultValue:1}},ino(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE);return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`analogRead(${C})`,this.ORDER_FUNCTION_CALL]},mpy(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE),s=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[s]=`${s} = ADC(Pin(${C}))`,this.definitions_[`${s}_atten`]=`${s}.atten(ADC.ATTN_11DB)`,this.definitions_[`${s}_width`]=`${s}.width(ADC.WIDTH_10BIT)`,[`${s}.read()`,this.ORDER_FUNCTION_CALL]}},{id:"percentage",text:t(u,{id:"blocks.ainput.percentage",defaultMessage:"pin [PIN] percentage"}),output:"number",inputs:{PIN:o.boardPins?{menu:o.boardPins.adc}:{type:"positive_integer",defaultValue:1}},ino(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE);return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`round((analogRead(${C}) / 1023.0f) * 100)`,this.ORDER_NONE]},mpy(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE),s=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[s]=`${s} = ADC(Pin(${C}))`,this.definitions_[`${s}_atten`]=`${s}.atten(ADC.ATTN_11DB)`,this.definitions_[`${s}_width`]=`${s}.width(ADC.WIDTH_10BIT)`,[`round((${s}.read() / 1023) * 100)`,this.ORDER_FUNCTION_CALL]}},{id:"joystick",text:t(u,{id:"blocks.ainput.joystick",defaultMessage:"pin [PIN] joystick"}),output:"number",inputs:{PIN:o.boardPins?{menu:o.boardPins.adc}:{type:"positive_integer",defaultValue:1}},ino(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE);return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`round(((analogRead(${C}) - 511) / 511.0f) * 100)`,this.ORDER_FUNCTION_CALL]},mpy(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE),s=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[s]=`${s} = ADC(Pin(${C}))`,this.definitions_[`${s}_atten`]=`${s}.atten(ADC.ATTN_11DB)`,this.definitions_[`${s}_width`]=`${s}.width(ADC.WIDTH_10BIT)`,[`round(((${s}.read() - 511) / 511) * 100)`,this.ORDER_FUNCTION_CALL]}},{id:"voltage",text:t(u,{id:"blocks.ainput.voltage",defaultMessage:"pin [PIN] voltage"}),output:"number",inputs:{PIN:o.boardPins?{menu:o.boardPins.adc}:{type:"positive_integer",defaultValue:1}},ino(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE);return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`round((analogRead(${C}) / 1023.0f) * 500) / 100.0f`,this.ORDER_NONE]},mpy(r){let C=o.boardPins?r.getFieldValue("PIN"):this.valueToCode(r,"PIN",this.ORDER_NONE),s=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[s]=`${s} = ADC(Pin(${C}))`,this.definitions_[`${s}_atten`]=`${s}.atten(ADC.ATTN_11DB)`,[`round(${s}.read_uv() / 1_000_000, 2)`,this.ORDER_FUNCTION_CALL]}}];var I={en:{"blocks.ainput.name":"Analog Input","blocks.ainput.rawValue":"pin [PIN] raw value","blocks.ainput.percentage":"pin [PIN] percentage","blocks.ainput.joystick":"pin [PIN] joystick","blocks.ainput.voltage":"pin [PIN] voltage"},"zh-Hans":{"blocks.ainput.name":"模拟输入","blocks.ainput.rawValue":"引脚[PIN]模拟值","blocks.ainput.percentage":"引脚[PIN]百分比","blocks.ainput.joystick":"引脚[PIN]摇杆值","blocks.ainput.voltage":"引脚[PIN]电压"},"zh-Hant":{"blocks.ainput.name":"模擬輸入","blocks.ainput.rawValue":"引腳[PIN]模擬值","blocks.ainput.percentage":"引腳[PIN]百分比","blocks.ainput.joystick":"引腳[PIN]搖杆值","blocks.ainput.voltage":"引腳[PIN]電壓"}};var f="./assets/icon-fjbqh9tb.svg";import{jsx as h}from"preact/jsx-runtime";w(I);var z={icon:f,name:h(y,{id:"blocks.ainput.name",defaultMessage:"Analog Input"}),blocks:g};export{z as default};
