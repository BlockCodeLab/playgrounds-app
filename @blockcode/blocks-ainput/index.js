import{addLocalesMessages as v,Text as w}from"@blockcode/core";import{Text as r}from"@blockcode/core";import{jsx as u}from"preact/jsx-runtime";var l=(o)=>o.editor==="@blockcode/gui-arduino",g=(o)=>["ArduinoNano","BLENANO"].includes(o.boardType),d=(o)=>[{id:"rawValue",text:u(r,{id:"blocks.ainput.rawValue",defaultMessage:"pin [PIN] raw value"}),output:"number",inputs:{PIN:l(o)?{menu:g(o)?"NANO_ANALOG_PINS":"UNO_ANALOG_PINS"}:{type:"integer",defaultValue:"1"}},ino(s){let C=s.getFieldValue("PIN");return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`analogRead(${C})`,this.ORDER_FUNCTION_CALL]},mpy(s){let C=this.valueToCode(s,"PIN",this.ORDER_NONE),t=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[t]=`${t} = ADC(Pin(${C}))`,this.definitions_[`${t}_atten`]=`${t}.atten(ADC.ATTN_11DB)`,this.definitions_[`${t}_width`]=`${t}.width(ADC.WIDTH_10BIT)`,[`${t}.read()`,this.ORDER_FUNCTION_CALL]}},{id:"percentage",text:u(r,{id:"blocks.ainput.percentage",defaultMessage:"pin [PIN] percentage"}),output:"number",inputs:{PIN:l(o)?{menu:g(o)?"NANO_ANALOG_PINS":"UNO_ANALOG_PINS"}:{type:"integer",defaultValue:"1"}},ino(s){let C=s.getFieldValue("PIN");return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`round((analogRead(${C}) / 1023.0f) * 100)`,this.ORDER_NONE]},mpy(s){let C=this.valueToCode(s,"PIN",this.ORDER_NONE),t=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[t]=`${t} = ADC(Pin(${C}))`,this.definitions_[`${t}_atten`]=`${t}.atten(ADC.ATTN_11DB)`,this.definitions_[`${t}_width`]=`${t}.width(ADC.WIDTH_10BIT)`,[`round((${t}.read() / 1023) * 100)`,this.ORDER_FUNCTION_CALL]}},{id:"joystick",text:u(r,{id:"blocks.ainput.joystick",defaultMessage:"pin [PIN] joystick"}),output:"number",inputs:{PIN:l(o)?{menu:g(o)?"NANO_ANALOG_PINS":"UNO_ANALOG_PINS"}:{type:"integer",defaultValue:"1"}},ino(s){let C=s.getFieldValue("PIN");return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`round(((analogRead(${C}) - 511) / 511.0f) * 100)`,this.ORDER_FUNCTION_CALL]},mpy(s){let C=this.valueToCode(s,"PIN",this.ORDER_NONE),t=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[t]=`${t} = ADC(Pin(${C}))`,this.definitions_[`${t}_atten`]=`${t}.atten(ADC.ATTN_11DB)`,this.definitions_[`${t}_width`]=`${t}.width(ADC.WIDTH_10BIT)`,[`round(((${t}.read() - 511) / 511) * 100)`,this.ORDER_FUNCTION_CALL]}},{id:"voltage",text:u(r,{id:"blocks.ainput.voltage",defaultMessage:"pin [PIN] voltage"}),output:"number",inputs:{PIN:l(o)?{menu:g(o)?"NANO_ANALOG_PINS":"UNO_ANALOG_PINS"}:{type:"integer",defaultValue:"1"}},ino(s){let C=s.getFieldValue("PIN");return this.definitions_[`setup_pin_${C}`]=`pinMode(${C}, INPUT);`,[`round((analogRead(${C}) / 1023.0f) * 500) / 100.0f`,this.ORDER_NONE]},mpy(s){let C=this.valueToCode(s,"PIN",this.ORDER_NONE),t=`pin_${C}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_adc="from machine import ADC",this.definitions_[t]=`${t} = ADC(Pin(${C}))`,this.definitions_[`${t}_atten`]=`${t}.atten(ADC.ATTN_11DB)`,[`round(${t}.read_uv() / 1_000_000, 2)`,this.ORDER_FUNCTION_CALL]}}],I={UNO_ANALOG_PINS:{items:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]]},NANO_ANALOG_PINS:{items:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"],["A6","A6"],["A7","A7"]]}};var f={en:{"blocks.ainput.name":"Analog Input","blocks.ainput.rawValue":"pin [PIN] raw value","blocks.ainput.percentage":"pin [PIN] percentage","blocks.ainput.joystick":"pin [PIN] joystick","blocks.ainput.voltage":"pin [PIN] voltage"},"zh-Hans":{"blocks.ainput.name":"模拟输入","blocks.ainput.rawValue":"引脚[PIN]模拟值","blocks.ainput.percentage":"引脚[PIN]百分比","blocks.ainput.joystick":"引脚[PIN]摇杆值","blocks.ainput.voltage":"引脚[PIN]电压"},"zh-Hant":{"blocks.ainput.name":"模擬輸入","blocks.ainput.rawValue":"引腳[PIN]模擬值","blocks.ainput.percentage":"引腳[PIN]百分比","blocks.ainput.joystick":"引腳[PIN]搖杆值","blocks.ainput.voltage":"引腳[PIN]電壓"}};var P="./assets/icon-fjbqh9tb.svg";import{jsx as y}from"preact/jsx-runtime";v(f);var V={icon:P,name:y(w,{id:"blocks.ainput.name",defaultMessage:"Analog Input"}),blocks:d,menus:I};export{V as default};
