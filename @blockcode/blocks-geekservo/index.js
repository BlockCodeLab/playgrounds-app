import{addLocalesMessages as h,Text as a}from"@blockcode/core";import{Text as t}from"@blockcode/core";import{jsx as i}from"preact/jsx-runtime";var _=(o)=>[{id:"setServo90",text:i(t,{id:"blocks.geekservo.90servo",defaultMessage:"set PIN [PIN] 90° Geekservo angle to [ANGLE]°"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle90",defaultValue:0}},mpy(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo90_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo90="from servo import Servo90",this.definitions_[s]=`${s} = Servo90(Pin(${r}))`,`${s}.write(${d})
`},ino(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo90_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${s}`]=`Servo ${s};`,this.definitions_[`setup_${s}`]=`${s}.attach(${r}, 1000, 2000);`,`${s}.write(map(${d}, 0, 90, 0, 180));
`}},{id:"setServo180",text:i(t,{id:"blocks.geekservo.180servo",defaultMessage:"set PIN [PIN] 180° Geekservo angle to [ANGLE]°"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle180",defaultValue:90}},mpy(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo180_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo180="from servo import Servo180",this.definitions_[s]=`${s} = Servo180(Pin(${r}))`,`${s}.write(${d})
`},ino(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo180_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${s}`]=`Servo ${s};`,this.definitions_[`setup_${s}`]=`${s}.attach(${r}, 500, 2500);`,`${s}.write(${d});
`}},{id:"setServo270",text:i(t,{id:"blocks.geekservo.270servo",defaultMessage:"set PIN [PIN] 270° Geekservo angle to [ANGLE]°"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle270",defaultValue:0}},mpy(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo270_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo270="from servo import Servo270",this.definitions_[s]=`${s} = Servo270(Pin(${r}))`,`${s}.write(${d})
`},ino(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo270_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${s}`]=`Servo ${s};`,this.definitions_[`setup_${s}`]=`${s}.attach(${r}, 600, 2400);`,`${s}.write(map(${d}, 0, 270, 0, 180));
`}},{id:"setServo360",text:i(t,{id:"blocks.geekservo.360servo",defaultMessage:"set PIN [PIN] 360° Geekservo angle to [ANGLE]°"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle360",defaultValue:180}},mpy(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo360_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo360="from servo import Servo360",this.definitions_[s]=`${s} = Servo360(Pin(${r}))`,`${s}.write(${d})
`},ino(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ANGLE",this.ORDER_NONE),s=`geekservo360_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${s}`]=`Servo ${s};`,this.definitions_[`setup_${s}`]=`${s}.attach(${r}, 500, 2500);`,`${s}.write(map(${d}, 0, 360, 0, 180));
`}},"---",{id:"setMotor",text:i(t,{id:"blocks.geekservo.motor",defaultMessage:"set PIN [PIN] 360° Geekservo motor rotate [ROTATE]"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ROTATE:{type:"integer",inputMode:!0,defaultValue:1,menu:[[i(t,{id:"blocks.servo.motorForward",defaultMessage:"forward"}),"1"],[i(t,{id:"blocks.servo.motorReverse",defaultMessage:"reverse"}),"2"],[i(t,{id:"blocks.servo.motorStop",defaultMessage:"stop"}),"0"]]}},mpy(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ROTATE",this.ORDER_NONE),s=`geekmotor360_${r}`;this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo="from servo import Servo360Motor",this.definitions_[s]=`${s} = Servo360Motor(Pin(${r}))`;let f="";if(d>0)`${s}.run(back=${d>1?"True":"False"})
`;else f=`${s}.stop()
`;return f},ino(e){let r=o.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),d=this.valueToCode(e,"ROTATE",this.ORDER_NONE),s=`geekmotor360_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${s}`]=`Servo ${s};`,this.definitions_[`setup_${s}`]=`${s}.attach(${r});`,`${s}.writeMicroseconds(${[1500,2000,1000][d]});
`}},{id:"angle360",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:360}},mpy(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle270",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:270}},mpy(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle180",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:180}},mpy(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle90",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:90}},mpy(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(e){return[e.getFieldValue("ANGLE")||0,this.ORDER_NONE]}}];var v="./assets/servo-d78zr6h0.py";var l={en:{"blocks.geekservo.name":"Geekservo","blocks.geekservo.90servo":"set PIN [PIN] 90° servo angle to [ANGLE]°","blocks.geekservo.180servo":"set PIN [PIN] 180° servo angle to [ANGLE]°","blocks.geekservo.270servo":"set PIN [PIN] 270° servo angle to [ANGLE]°","blocks.geekservo.360servo":"set PIN [PIN] 360° servo angle to [ANGLE]°","blocks.geekservo.motor":"set PIN [PIN] 360° motor rotate [ROTATE]","blocks.servo.motorForward":"forward","blocks.servo.motorReverse":"reverse","blocks.servo.motorStop":"stop"},"zh-Hans":{"blocks.geekservo.name":"Geekservo 舵机","blocks.geekservo.90servo":"将引脚 [PIN] 90° 舵机角度设为 [ANGLE]°","blocks.geekservo.180servo":"将引脚 [PIN] 180° 舵机角度设为 [ANGLE]°","blocks.geekservo.270servo":"将引脚 [PIN] 270° 舵机角度设为 [ANGLE]°","blocks.geekservo.360servo":"将引脚 [PIN] 360° 舵机角度设为 [ANGLE]°","blocks.geekservo.motor":"将引脚 [PIN] 360° 电机转向设为 [ROTATE]","blocks.servo.motorForward":"正转","blocks.servo.motorReverse":"反转","blocks.servo.motorStop":"停止"},"zh-Hant":{"blocks.geekservo.name":"Geekservo 舵機","blocks.geekservo.90servo":"將引腳 [PIN] 90° 舵機角度設為 [ANGLE]°","blocks.geekservo.180servo":"將引腳 [PIN] 180° 舵機角度設為 [ANGLE]°","blocks.geekservo.270servo":"將引腳 [PIN] 270° 舵機角度設為 [ANGLE]°","blocks.geekservo.360servo":"將引腳 [PIN] 360° 舵機角度設為 [ANGLE]°","blocks.geekservo.motor":"將引腳 [PIN] 360° 電機轉向設為 [ROTATE]","blocks.servo.motorForward":"正轉","blocks.servo.motorReverse":"反轉","blocks.servo.motorStop":"停止"}};var u="./assets/icon-m6cjtrma.svg";import{jsx as w}from"preact/jsx-runtime";h(l);var q={icon:u,name:w(a,{id:"blocks.geekservo.name",defaultMessage:"Geekservo"}),files(o){if(o.editor!=="@blockcode/gui-arduino")return[{common:!0,name:"servo",type:"text/x-python",uri:v}];return[]},blocks:_};export{q as default};
