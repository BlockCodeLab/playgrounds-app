import{addLocalesMessages as D,Text as p}from"@blockcode/core";import{Text as a}from"@blockcode/core";import{jsx as _}from"preact/jsx-runtime";var g=(s)=>s.editor!=="@blockcode/gui-arduino";var d=(s)=>{s.definitions_.variable_5tracker="FiveLineTracker _5tracker;",s.definitions_.setup_wire="Wire.begin();",s.definitions_.setup_5tracker="_5tracker.Initialize();"},o=(s)=>[{id:"tracking",text:_(a,{id:"blocks.tracking.tracking",defaultMessage:"pin [PIN] sensing black line?"}),output:"boolean",inputs:{PIN:{type:"integer",defaultValue:"1"}},ino(e){let r=this.valueToCode(e,"PIN",this.ORDER_NONE);return this.definitions_[`setup_${r}`]=`pinMode(${r}, INPUT);`,[`(digitalRead(${r}) == LOW)`,this.ORDER_FUNCTION_CALL]},mpy(e){let r=this.valueToCode(e,"PIN",this.ORDER_NONE),i=`pin_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_[i]=`${i} = Pin(${r}, Pin.IN)`,[`(${i}.value() == 0)`,this.ORDER_FUNCTION_CALL]}},"---",g(s)&&{id:"init5",text:_(a,{id:"blocks.tracking.init5",defaultMessage:"set 5-channel tracker pin SCL [SCL] pin SDA [SDA]"}),inputs:{SCL:{type:"integer",defaultValue:"2"},SDA:{type:"integer",defaultValue:"3"}},mpy(e){let r=this.valueToCode(e,"SCL",this.ORDER_NONE),i=this.valueToCode(e,"SDA",this.ORDER_NONE);return this.definitions_["5tracker"]=`_5tracker = five_line_tracker.FiveLineTracker(${r}, ${i})`,""}},{id:"threshold5",text:_(a,{id:"blocks.tracking.threshold5",defaultMessage:"set channel [CHAN] sensing value min [NUM1] max [NUM2]"}),inputs:{CHAN:{menu:"channels"},NUM1:{type:"integer",defaultValue:"800"},NUM2:{type:"integer",defaultValue:"850"}},ino(e){d(this);let r=this.valueToCode(e,"CHAN",this.ORDER_NONE),i=this.valueToCode(e,"NUM1",this.ORDER_NONE),n=this.valueToCode(e,"NUM2",this.ORDER_NONE),t="";return t+=`_5tracker.LowThreshold(${r}, min(${i}, ${n}));
`,t+=`_5tracker.HighThreshold(${r}, max(${i}, ${n}));
`,t},mpy(e){let r=this.valueToCode(e,"CHAN",this.ORDER_NONE),i=this.valueToCode(e,"NUM1",this.ORDER_NONE),n=this.valueToCode(e,"NUM2",this.ORDER_NONE),t="";return t+=`_5tracker.low_threshold(${r}, min(${i}, ${n}))
`,t+=`_5tracker.high_threshold(${r}, max(${i}, ${n}))
`,t}},{id:"tracking5",text:_(a,{id:"blocks.tracking.tracking5",defaultMessage:"channel [CHAN] sensing black line?"}),output:"boolean",inputs:{CHAN:{menu:"channels"}},ino(e){return d(this),[`(_5tracker.DigitalValue(${this.valueToCode(e,"CHAN",this.ORDER_NONE)}) == 0)`,this.ORDER_FUNCTION_CALL]},mpy(e){return[`(_5tracker.digital_value(${this.valueToCode(e,"CHAN",this.ORDER_NONE)}) == 0)`,this.ORDER_FUNCTION_CALL]}},{id:"value5",text:_(a,{id:"blocks.tracking.value5",defaultMessage:"channel [CHAN] sensing value"}),output:"number",inputs:{CHAN:{menu:"channels"}},ino(e){return d(this),[`_5tracker.AnalogValue(${this.valueToCode(e,"CHAN",this.ORDER_NONE)})`,this.ORDER_FUNCTION_CALL]},mpy(e){return[`_5tracker.analog_value(${this.valueToCode(e,"CHAN",this.ORDER_NONE)})`,this.ORDER_FUNCTION_CALL]}}].filter(Boolean),c={channels:{type:"integer",inputMode:!0,defaultValue:"0",items:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"]]},unoAnalogPins:{items:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]]},nanoAnalogPins:{items:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"],["A6","A6"],["A7","A7"]]}};var l="./assets/five_line_tracker-by7sj0q9.py";var h="./assets/five_line_tracker-jxegj9c2.h";var u="./assets/five_line_tracker-y12b2taa.cpp";var k=(s)=>{if(s.editor==="@blockcode/gui-arduino")return[{header:!0,name:"five_line_tracker.h",type:"text/x-c",uri:h},{name:"five_line_tracker.cpp",type:"text/x-c",uri:u}];return[{name:"five_line_tracker",type:"text/x-python",uri:l}]};var m="https://docs.emakefun.com/#/zh-cn/ph2.0_sensors/sensors/five_line_tracker_v3/five_line_tracker_v3";var L={en:{"blocks.tracking.name":"Tracking","blocks.tracking.tracking":"pin [PIN] sensing black line?","blocks.tracking.value":"pin [PIN] sensing value","blocks.tracking.threshold":"set pin [PIN] sensing value min [NUM1] max [NUM2]","blocks.tracking.init5":"set 5-channel tracker pin SCL [SCL] pin SDA [SDA]","blocks.tracking.addr5":"set 5-channel tracker I2C address [ADDR]","blocks.tracking.threshold5":"set channel [CHAN] sensing value to [NUM1] to [NUM2]","blocks.tracking.tracking5":"channel [CHAN] sensing black line?","blocks.tracking.value5":"channel [CHAN] sensing value"},"zh-Hans":{"blocks.tracking.name":"循迹模块","blocks.tracking.tracking":"引脚[PIN]侦测到黑线？","blocks.tracking.value":"引脚[PIN]的值","blocks.tracking.threshold":"将引脚[PIN]阈值设为[NUM1]到[NUM2]","blocks.tracking.init5":"初始五路循迹引脚 SCL[SCL] 引脚 SDA[SDA]","blocks.tracking.addr5":"初始五路循迹 I2C 地址[ADDR]","blocks.tracking.threshold5":"将第[CHAN]路探头阈值设为[NUM1]到[NUM2]","blocks.tracking.tracking5":"第[CHAN]路探头侦测到黑线？","blocks.tracking.value5":"第[CHAN]路探头的值"},"zh-Hant":{"blocks.tracking.name":"循跡模組","blocks.tracking.tracking":"引腳[PIN]偵測到黑線？","blocks.tracking.value":"引腳[PIN]的值","blocks.tracking.threshold":"將引腳[PIN]閾值設為[NUM1]到[NUM2]","blocks.tracking.init5":"初始五路循跡引腳 SCL[SCL] 引腳 SDA[SDA]","blocks.tracking.addr5":"初始五路循跡 I2C 地址[ADDR]","blocks.tracking.threshold5":"將第[CHAN]路探頭閾值設為[NUM1]到[NUM2]","blocks.tracking.tracking5":"第[CHAN]路探頭偵測到黑線？","blocks.tracking.value5":"第[CHAN]路探頭的值"}};var f="./assets/icon-ppebcn0d.svg";import{jsx as A}from"preact/jsx-runtime";D(L);var q={icon:f,name:A(p,{id:"blocks.tracking.name",defaultMessage:"Tracking"}),readme:m,files:k,blocks:o,menus:c};export{q as default};
