import{addLocalesMessages as L,Text as m}from"@blockcode/core";import{Text as s}from"@blockcode/core";import{jsx as i}from"preact/jsx-runtime";var p=(l)=>[{id:"init",text:i(s,{id:"blocks.ws2812pixels.init",defaultMessage:"set pin [PIN] leds [NUM]"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1},NUM:{type:"positive_integer",defaultValue:1}},mpy(e){let f=l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),n=this.valueToCode(e,"NUM",this.ORDER_NONE),o=`_ledpixel${f}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_ledpixel="from ledpixel import LedPixel",this.definitions_[`init_${o}`]=`${o} = LedPixel(Pin(${f}), ${n})`,""}},"---",{id:"color",text:i(s,{id:"blocks.ws2812pixels.led",defaultMessage:"set pin [PIN] led [POS] color [COLOR] brightness[BRIGHTNESS]"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1},POS:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},BRIGHTNESS:{shadow:"brightnessSlider",defaultValue:10}},mpy(e){let f=l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),n=this.valueToCode(e,"COLOR",this.ORDER_NONE),o=this.valueToCode(e,"BRIGHTNESS",this.ORDER_NONE),r=this.getAdjusted(e,"POS"),a=`_ledpixel${f}`,t="";if(t+=`${a}.set_led(${r}, ${o}, ${n})
`,e.getNextBlock()?.type.endsWith("-ws2812pixels_color"))return t;return t+=`${a}.write()
`,t}},{id:"brightnessSlider",shadow:!0,output:"number",inputs:{BRIGHTNESS:{type:"slider",defaultValue:0,min:0,max:10}},mpy(e){return[e.getFieldValue("BRIGHTNESS")||0,this.ORDER_NONE]}},{id:"close",text:i(s,{id:"blocks.ws2812pixels.close",defaultMessage:"close pin [PIN] leds"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1}},mpy(e){return`_ledpixel${l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE)}.clear()
`}},"---",{id:"effectWait",text:i(s,{id:"blocks.ws2812pixels.effectWait",defaultMessage:"start pin [PIN] [EFFECT] effect and wait"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let f=l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),n=e.getFieldValue("EFFECT");return`await _ledpixel${f}.${n}()
`}},{id:"effectColorWait",text:i(s,{id:"blocks.ws2812pixels.effectColorWait",defaultMessage:"start pin [PIN] [COLOR] [EFFECT] effect and wait"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let f=l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),n=this.valueToCode(e,"COLOR",this.ORDER_NONE),o=e.getFieldValue("EFFECT");return`await _ledpixel${f}.${o}(${n})
`}},"---",{id:"effect",text:i(s,{id:"blocks.ws2812pixels.effect",defaultMessage:"start pin [PIN] [EFFECT] effect"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let f=l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),n=e.getFieldValue("EFFECT");return`asyncio.create_task(_ledpixel${f}.${n}())
`}},{id:"effectColor",text:i(s,{id:"blocks.ws2812pixels.effectColor",defaultMessage:"start pin [PIN] [COLOR] [EFFECT] effect"}),inputs:{PIN:l.boardPins?{menu:l.boardPins.pwm}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let f=l.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),n=this.valueToCode(e,"COLOR",this.ORDER_NONE),o=e.getFieldValue("EFFECT");return`asyncio.create_task(_ledpixel${f}.${o}(${n}))
`}}],d=[[i(s,{id:"blocks.ws2812pixels.effect.chase",defaultMessage:"chase"}),"chase"],[i(s,{id:"blocks.ws2812pixels.effect.twinkle",defaultMessage:"twinkle"}),"twinkle"],[i(s,{id:"blocks.ws2812pixels.effect.sparkle",defaultMessage:"sparkle"}),"sparkle"],[i(s,{id:"blocks.ws2812pixels.effect.breathing",defaultMessage:"breathing"}),"breathing"],[i(s,{id:"blocks.ws2812pixels.effect.scanner",defaultMessage:"scanner"}),"scanner"],[i(s,{id:"blocks.ws2812pixels.effect.waterfall",defaultMessage:"waterfall"}),"waterfall"],[i(s,{id:"blocks.ws2812pixels.effect.whirlpool",defaultMessage:"whirlpool"}),"whirlpool"],[i(s,{id:"blocks.ws2812pixels.effect.spot",defaultMessage:"light spot"}),"light_spot"],[i(s,{id:"blocks.ws2812pixels.effect.wheel",defaultMessage:"light wheel"}),"light_wheel"]],c={effectOption:{items:[[i(s,{id:"blocks.ws2812pixels.effect.rainbow",defaultMessage:"rainbow cycle"}),"rainbow_cycle"],...d]},effectColorOption:{items:d}};var _="./assets/ledpixel-snejgtr9.py";var w=(l)=>{if(l.editor==="@blockcode/gui-arduino")return[];return[{common:!0,name:"ledpixel",type:"text/x-python",uri:_}]};var C={en:{"blocks.ws2812pixels.name":"WS2812 Pixels","blocks.ws2812pixels.init":"set pin [PIN] leds [NUM]","blocks.ws2812pixels.led":"set pin [PIN] led [POS][COLOR] brightness[BRIGHTNESS]","blocks.ws2812pixels.close":"close pin [PIN] leds","blocks.ws2812pixels.effectWait":"pin [PIN] play effect [EFFECT] until done","blocks.ws2812pixels.effectColorWait":"pin [PIN] play [COLOR] effect [EFFECT] until done","blocks.ws2812pixels.effect":"pin [PIN] start effect [EFFECT]","blocks.ws2812pixels.effectColor":"start pin [PIN] [COLOR] effect [EFFECT]","blocks.ws2812pixels.effect.rainbow":"rainbow cycle","blocks.ws2812pixels.effect.chase":"chase","blocks.ws2812pixels.effect.twinkle":"twinkle","blocks.ws2812pixels.effect.sparkle":"sparkle","blocks.ws2812pixels.effect.breathing":"breathing","blocks.ws2812pixels.effect.scanner":"scanner","blocks.ws2812pixels.effect.waterfall":"waterfall","blocks.ws2812pixels.effect.whirlpool":"whirlpool","blocks.ws2812pixels.effect.spot":"light spot","blocks.ws2812pixels.effect.wheel":"light wheel"},"zh-Hans":{"blocks.ws2812pixels.name":"WS2812 彩灯","blocks.ws2812pixels.init":"初始引脚[PIN]彩灯数量[NUM]","blocks.ws2812pixels.led":"将引脚[PIN]第[POS]个灯设为[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"关闭引脚[PIN]所有灯","blocks.ws2812pixels.effectWait":"引脚[PIN]播放效果[EFFECT]等待播完","blocks.ws2812pixels.effectColorWait":"引脚[PIN]播放[COLOR]效果[EFFECT]等待播完","blocks.ws2812pixels.effect":"引脚[PIN]播放效果[EFFECT]","blocks.ws2812pixels.effectColor":"引脚[PIN]播放[COLOR]效果[EFFECT]","blocks.ws2812pixels.effect.rainbow":"彩虹环","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆闪","blocks.ws2812pixels.effect.sparkle":"闪烁","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"扫描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩涡","blocks.ws2812pixels.effect.spot":"光点","blocks.ws2812pixels.effect.wheel":"轮盘"},"zh-Hant":{"blocks.ws2812pixels.name":"WS2812 彩燈","blocks.ws2812pixels.init":"初始引腳[PIN]彩燈數量[NUM]","blocks.ws2812pixels.led":"將引腳[PIN]第[POS]個燈設為[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"關閉引腳[PIN]所有燈","blocks.ws2812pixels.effectWait":"引腳[PIN]播放效果[EFFECT]直到結束","blocks.ws2812pixels.effectColorWait":"引腳[PIN]播放[COLOR]效果[EFFECT]直到結束","blocks.ws2812pixels.effect":"引腳[PIN]播放效果[EFFECT]","blocks.ws2812pixels.effectColor":"引腳[PIN]播放[COLOR]效果[EFFECT]","blocks.ws2812pixels.effect.rainbow":"彩虹環","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆閃","blocks.ws2812pixels.effect.sparkle":"閃爍","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"掃描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩渦","blocks.ws2812pixels.effect.spot":"光點","blocks.ws2812pixels.effect.wheel":"輪盤"}};var x="./assets/icon-tool-0mgq6nw5.svg";var g="./assets/icon-vnybg37e.svg";import{jsx as P}from"preact/jsx-runtime";L(C);var H={icon:x,blockIcon:g,name:P(m,{id:"blocks.ws2812pixels.name",defaultMessage:"LED Pixels"}),files:w,blocks:p,menus:c};export{H as default};
