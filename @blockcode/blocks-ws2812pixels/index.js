import{addLocalesMessages as L,Text as E}from"@blockcode/core";import{Text as s}from"@blockcode/core";import{jsx as i}from"preact/jsx-runtime";var n=(l)=>l.editor==="@blockcode/gui-iotbit",c=(l)=>[{id:"init",text:i(s,{id:"blocks.ws2812pixels.init",defaultMessage:"set pin [PIN] leds [NUM]"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},NUM:{type:"positive_integer",defaultValue:1}},mpy(e){let f=n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"NUM",this.ORDER_NONE),r=`_ledpixel${f}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_ledpixel="from ledpixel import LedPixel",this.definitions_[`init_${r}`]=`${r} = LedPixel(Pin(${f}), ${o})`,""}},"---",{id:"color",text:i(s,{id:"blocks.ws2812pixels.led",defaultMessage:"set pin [PIN] led [POS] color [COLOR] brightness[BRIGHTNESS]"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},POS:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},BRIGHTNESS:{shadow:"brightnessSlider",defaultValue:10}},mpy(e){let f=n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),r=this.valueToCode(e,"BRIGHTNESS",this.ORDER_NONE),a=this.getAdjusted(e,"POS"),d=`_ledpixel${f}`,t="";if(t+=`${d}.set_led(${a}, ${r}, ${o})
`,e.getNextBlock()?.type.endsWith("-ws2812pixels_color"))return t;return t+=`${d}.write()
`,t}},{id:"brightnessSlider",shadow:!0,output:"number",inputs:{BRIGHTNESS:{type:"slider",defaultValue:0,min:0,max:10}},mpy(e){return[e.getFieldValue("BRIGHTNESS")||0,this.ORDER_NONE]}},{id:"close",text:i(s,{id:"blocks.ws2812pixels.close",defaultMessage:"close pin [PIN] leds"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1}},mpy(e){return`_ledpixel${n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE)}.clear()
`}},"---",{id:"effectWait",text:i(s,{id:"blocks.ws2812pixels.effectWait",defaultMessage:"start pin [PIN] [EFFECT] effect and wait"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let f=n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=e.getFieldValue("EFFECT");return`await _ledpixel${f}.${o}()
`}},{id:"effectColorWait",text:i(s,{id:"blocks.ws2812pixels.effectColorWait",defaultMessage:"start pin [PIN] [COLOR] [EFFECT] effect and wait"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let f=n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),r=e.getFieldValue("EFFECT");return`await _ledpixel${f}.${r}(${o})
`}},"---",{id:"effect",text:i(s,{id:"blocks.ws2812pixels.effect",defaultMessage:"start pin [PIN] [EFFECT] effect"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let f=n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=e.getFieldValue("EFFECT");return`asyncio.create_task(_ledpixel${f}.${o}())
`}},{id:"effectColor",text:i(s,{id:"blocks.ws2812pixels.effectColor",defaultMessage:"start pin [PIN] [COLOR] [EFFECT] effect"}),inputs:{PIN:n(l)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let f=n(l)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),r=e.getFieldValue("EFFECT");return`asyncio.create_task(_ledpixel${f}.${r}(${o}))
`}}],p=[[i(s,{id:"blocks.ws2812pixels.effect.chase",defaultMessage:"chase"}),"chase"],[i(s,{id:"blocks.ws2812pixels.effect.twinkle",defaultMessage:"twinkle"}),"twinkle"],[i(s,{id:"blocks.ws2812pixels.effect.sparkle",defaultMessage:"sparkle"}),"sparkle"],[i(s,{id:"blocks.ws2812pixels.effect.breathing",defaultMessage:"breathing"}),"breathing"],[i(s,{id:"blocks.ws2812pixels.effect.scanner",defaultMessage:"scanner"}),"scanner"],[i(s,{id:"blocks.ws2812pixels.effect.waterfall",defaultMessage:"waterfall"}),"waterfall"],[i(s,{id:"blocks.ws2812pixels.effect.whirlpool",defaultMessage:"whirlpool"}),"whirlpool"],[i(s,{id:"blocks.ws2812pixels.effect.spot",defaultMessage:"light spot"}),"light_spot"],[i(s,{id:"blocks.ws2812pixels.effect.wheel",defaultMessage:"light wheel"}),"light_wheel"]],_={effectOption:{items:[[i(s,{id:"blocks.ws2812pixels.effect.rainbow",defaultMessage:"rainbow cycle"}),"rainbow_cycle"],...p]},effectColorOption:{items:p},iotPWMPins:{items:[["P0","33"],["P1","32"],["P5","0"],["P6","16"],["P7","17"],["P8","26"],["P9","25"],["P11","2"],["P13","18"],["P14","19"],["P15","21"],["P16","5"],["P19","22"],["P20","23"],["P23","27"],["P24","14"],["P25","12"],["P26","13"],["P27","15"],["P28","4"]]}};var w="./assets/ledpixel-snejgtr9.py";var C=(l)=>{if(l.editor==="@blockcode/gui-arduino")return[];return[{common:!0,name:"ledpixel",type:"text/x-python",uri:w}]};var x={en:{"blocks.ws2812pixels.name":"WS2812 Pixels","blocks.ws2812pixels.init":"set pin [PIN] leds [NUM]","blocks.ws2812pixels.led":"set pin [PIN] led [POS][COLOR] brightness[BRIGHTNESS]","blocks.ws2812pixels.close":"close pin [PIN] leds","blocks.ws2812pixels.effectWait":"pin [PIN] play effect [EFFECT] until done","blocks.ws2812pixels.effectColorWait":"pin [PIN] play [COLOR] effect [EFFECT] until done","blocks.ws2812pixels.effect":"pin [PIN] start effect [EFFECT]","blocks.ws2812pixels.effectColor":"start pin [PIN] [COLOR] effect [EFFECT]","blocks.ws2812pixels.effect.rainbow":"rainbow cycle","blocks.ws2812pixels.effect.chase":"chase","blocks.ws2812pixels.effect.twinkle":"twinkle","blocks.ws2812pixels.effect.sparkle":"sparkle","blocks.ws2812pixels.effect.breathing":"breathing","blocks.ws2812pixels.effect.scanner":"scanner","blocks.ws2812pixels.effect.waterfall":"waterfall","blocks.ws2812pixels.effect.whirlpool":"whirlpool","blocks.ws2812pixels.effect.spot":"light spot","blocks.ws2812pixels.effect.wheel":"light wheel"},"zh-Hans":{"blocks.ws2812pixels.name":"WS2812 彩灯","blocks.ws2812pixels.init":"初始引脚[PIN]彩灯数量[NUM]","blocks.ws2812pixels.led":"将引脚[PIN]第[POS]个灯设为[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"关闭引脚[PIN]所有灯","blocks.ws2812pixels.effectWait":"引脚[PIN]播放效果[EFFECT]等待播完","blocks.ws2812pixels.effectColorWait":"引脚[PIN]播放[COLOR]效果[EFFECT]等待播完","blocks.ws2812pixels.effect":"引脚[PIN]播放效果[EFFECT]","blocks.ws2812pixels.effectColor":"引脚[PIN]播放[COLOR]效果[EFFECT]","blocks.ws2812pixels.effect.rainbow":"彩虹环","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆闪","blocks.ws2812pixels.effect.sparkle":"闪烁","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"扫描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩涡","blocks.ws2812pixels.effect.spot":"光点","blocks.ws2812pixels.effect.wheel":"轮盘"},"zh-Hant":{"blocks.ws2812pixels.name":"WS2812 彩燈","blocks.ws2812pixels.init":"初始引腳[PIN]彩燈數量[NUM]","blocks.ws2812pixels.led":"將引腳[PIN]第[POS]個燈設為[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"關閉引腳[PIN]所有燈","blocks.ws2812pixels.effectWait":"引腳[PIN]播放效果[EFFECT]直到結束","blocks.ws2812pixels.effectColorWait":"引腳[PIN]播放[COLOR]效果[EFFECT]直到結束","blocks.ws2812pixels.effect":"引腳[PIN]播放效果[EFFECT]","blocks.ws2812pixels.effectColor":"引腳[PIN]播放[COLOR]效果[EFFECT]","blocks.ws2812pixels.effect.rainbow":"彩虹環","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆閃","blocks.ws2812pixels.effect.sparkle":"閃爍","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"掃描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩渦","blocks.ws2812pixels.effect.spot":"光點","blocks.ws2812pixels.effect.wheel":"輪盤"}};var g="./assets/icon-tool-0mgq6nw5.svg";var h="./assets/icon-vnybg37e.svg";import{jsx as P}from"preact/jsx-runtime";L(x);var T={icon:g,blockIcon:h,name:P(E,{id:"blocks.ws2812pixels.name",defaultMessage:"LED Pixels"}),files:C,blocks:c,menus:_};export{T as default};
