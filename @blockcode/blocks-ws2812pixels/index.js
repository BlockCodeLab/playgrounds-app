import{addLocalesMessages as G,Text as B}from"@blockcode/core";import{changeCase as d}from"@blockcode/utils";import{Text as s}from"@blockcode/core";import{jsx as t}from"preact/jsx-runtime";var p=(i)=>i.editor==="@blockcode/gui-arduino",a=(i)=>i.editor!=="@blockcode/gui-arduino",C=(i)=>[{id:"init",text:t(s,{id:"blocks.ws2812pixels.init",defaultMessage:"set pin [PIN] leds [NUM]"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},NUM:{type:"positive_integer",defaultValue:1}},mpy(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"NUM",this.ORDER_NONE),n=`ledpixel_${l}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_ledpixel="from ledpixel import LedPixel",this.definitions_[`init_${n}`]=`${n} = LedPixel(Pin(${l}), ${o})`,""},ino(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"NUM",this.ORDER_NONE),n=`ledpixel_${l}`;return this.definitions_[`variable_${n}`]=`LedPixel<${l}, ${o}> ${n};`,this.definitions_[`setup_${n}`]=`${n}.begin();`,""}},"---",{id:"color",text:t(s,{id:"blocks.ws2812pixels.led",defaultMessage:"set pin [PIN] led [POS] color [COLOR] brightness[BRIGHTNESS]"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},POS:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},BRIGHTNESS:{shadow:"brightnessSlider",defaultValue:10}},mpy(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),n=this.valueToCode(e,"BRIGHTNESS",this.ORDER_NONE),f=this.getAdjusted(e,"POS"),_=`ledpixel_${l}`,r="";if(r+=`${_}.set_led(${f}, ${n}, ${o})
`,e.getNextBlock()?.type.endsWith("-ws2812pixels_color"))return r;return r+=`${_}.write()
`,r},ino(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),n=this.valueToCode(e,"BRIGHTNESS",this.ORDER_NONE),f=this.getAdjusted(e,"POS"),_=`ledpixel_${l}`,r="";if(r+=`${_}.setPixel(${f}, ${n}, ${o});
`,e.getNextBlock()?.type.endsWith("-ws2812pixels_color"))return r;return r+=`${_}.show();
`,r}},{id:"brightnessSlider",shadow:!0,output:"number",inputs:{BRIGHTNESS:{type:"slider",defaultValue:0,min:0,max:10}},mpy(e){return[e.getFieldValue("BRIGHTNESS")||0,this.ORDER_NONE]},ino(e){return[e.getFieldValue("BRIGHTNESS")||0,this.ORDER_NONE]}},{id:"close",text:t(s,{id:"blocks.ws2812pixels.close",defaultMessage:"close pin [PIN] leds"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1}},mpy(e){return`ledpixel_${i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE)}.clear()
`},ino(e){return`ledpixel_${i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE)}.clear();
`}},"---",a(i)&&{id:"effectWait",text:t(s,{id:"blocks.ws2812pixels.effectWait",defaultMessage:"pin [PIN] start [EFFECT] effect and wait"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=e.getFieldValue("EFFECT");return`await ledpixel_${l}.${o}()
`}},a(i)&&{id:"effectColorWait",text:t(s,{id:"blocks.ws2812pixels.effectColorWait",defaultMessage:"pin [PIN] start [COLOR] [EFFECT] effect and wait"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),n=e.getFieldValue("EFFECT");return`await ledpixel_${l}.${n}(${o})
`}},"---",a(i)&&{id:"effect",text:t(s,{id:"blocks.ws2812pixels.effect",defaultMessage:"pin [PIN] start [EFFECT] effect"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=e.getFieldValue("EFFECT");return`asyncio.create_task(ledpixel_${l}.${o}())
`}},a(i)&&{id:"effectColor",text:t(s,{id:"blocks.ws2812pixels.effectColor",defaultMessage:"pin [PIN] start [COLOR] [EFFECT] effect"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),n=e.getFieldValue("EFFECT");return`asyncio.create_task(ledpixel_${l}.${n}(${o}))
`}},p(i)&&{id:"effect",text:t(s,{id:"blocks.ws2812pixels.effectStep",defaultMessage:"pin [PIN] [EFFECT] effect"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"arduinoEffectOption"}},ino(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=d.camelCase(e.getFieldValue("EFFECT"));return`ledpixel_${l}.${o}();
`}},p(i)&&{id:"effectColor",text:t(s,{id:"blocks.ws2812pixels.effectStepColor",defaultMessage:"pin [PIN] [COLOR] [EFFECT] effect"}),inputs:{PIN:i.boardPins?{menu:i.boardPins.out}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},ino(e){let l=i.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),o=this.valueToCode(e,"COLOR",this.ORDER_NONE),n=d.camelCase(e.getFieldValue("EFFECT"));return`ledpixel_${l}.${n}(${o});
`}}].filter(Boolean),D=[[t(s,{id:"blocks.ws2812pixels.effect.chase",defaultMessage:"chase"}),"chase"],[t(s,{id:"blocks.ws2812pixels.effect.twinkle",defaultMessage:"twinkle"}),"twinkle"],[t(s,{id:"blocks.ws2812pixels.effect.sparkle",defaultMessage:"sparkle"}),"sparkle"]],c=[[t(s,{id:"blocks.ws2812pixels.effect.chase",defaultMessage:"chase"}),"chase"],[t(s,{id:"blocks.ws2812pixels.effect.twinkle",defaultMessage:"twinkle"}),"twinkle"],[t(s,{id:"blocks.ws2812pixels.effect.sparkle",defaultMessage:"sparkle"}),"sparkle"],[t(s,{id:"blocks.ws2812pixels.effect.breathing",defaultMessage:"breathing"}),"breathing"],[t(s,{id:"blocks.ws2812pixels.effect.scanner",defaultMessage:"scanner"}),"scanner"],[t(s,{id:"blocks.ws2812pixels.effect.waterfall",defaultMessage:"waterfall"}),"waterfall"],[t(s,{id:"blocks.ws2812pixels.effect.whirlpool",defaultMessage:"whirlpool"}),"whirlpool"],[t(s,{id:"blocks.ws2812pixels.effect.spot",defaultMessage:"light spot"}),"light_spot"],[t(s,{id:"blocks.ws2812pixels.effect.wheel",defaultMessage:"light wheel"}),"light_wheel"]],u={effectOption:{items:[[t(s,{id:"blocks.ws2812pixels.effect.rainbow",defaultMessage:"rainbow cycle"}),"rainbow_cycle"],...c]},effectColorOption:{items:c},arduinoEffectOption:{items:[[t(s,{id:"blocks.ws2812pixels.effect.rainbow",defaultMessage:"rainbow cycle"}),"rainbow_cycle"],...D]}};var L="./assets/ledpixel-snejgtr9.py";var w="./assets/ledpixel-5fydw3y4.h";var h="./assets/ledpixel-pa2zmq7a.tpp";var E=(i)=>{if(i.editor==="@blockcode/gui-arduino")return[{header:!0,name:"ledpixel.h",type:"text/x-c",uri:w},{name:"ledpixel.tpp",type:"text/x-c",uri:h}];return[{common:!0,name:"ledpixel",type:"text/x-python",uri:L}]};var P={en:{"blocks.ws2812pixels.name":"WS2812 Pixels","blocks.ws2812pixels.init":"set pin [PIN] leds [NUM]","blocks.ws2812pixels.led":"set pin [PIN] led [POS][COLOR] brightness[BRIGHTNESS]","blocks.ws2812pixels.close":"close pin [PIN] leds","blocks.ws2812pixels.effectWait":"pin [PIN] play [EFFECT] effect until done","blocks.ws2812pixels.effectColorWait":"pin [PIN] play [COLOR] [EFFECT] effect until done","blocks.ws2812pixels.effect":"pin [PIN] start [EFFECT] effect","blocks.ws2812pixels.effectColor":"pin [PIN] start [COLOR] [EFFECT] effect","blocks.ws2812pixels.effectStep":"pin [PIN] effect [EFFECT]","blocks.ws2812pixels.effectStepColor":"pin [PIN] [COLOR] [EFFECT] effect","blocks.ws2812pixels.effect.rainbow":"rainbow cycle","blocks.ws2812pixels.effect.chase":"chase","blocks.ws2812pixels.effect.twinkle":"twinkle","blocks.ws2812pixels.effect.sparkle":"sparkle","blocks.ws2812pixels.effect.breathing":"breathing","blocks.ws2812pixels.effect.scanner":"scanner","blocks.ws2812pixels.effect.waterfall":"waterfall","blocks.ws2812pixels.effect.whirlpool":"whirlpool","blocks.ws2812pixels.effect.spot":"light spot","blocks.ws2812pixels.effect.wheel":"light wheel"},"zh-Hans":{"blocks.ws2812pixels.name":"WS2812 彩灯","blocks.ws2812pixels.init":"初始引脚[PIN]彩灯数量[NUM]","blocks.ws2812pixels.led":"将引脚[PIN]第[POS]个灯设为[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"关闭引脚[PIN]所有灯","blocks.ws2812pixels.effectWait":"引脚[PIN]播放[EFFECT]效果等待播完","blocks.ws2812pixels.effectColorWait":"引脚[PIN]播放[COLOR][EFFECT]效果等待播完","blocks.ws2812pixels.effect":"引脚[PIN]播放[EFFECT]效果","blocks.ws2812pixels.effectColor":"引脚[PIN]播放[COLOR][EFFECT]效果","blocks.ws2812pixels.effectStep":"引脚[PIN][EFFECT]效果","blocks.ws2812pixels.effectStepColor":"引脚[PIN][COLOR][EFFECT]效果","blocks.ws2812pixels.effect.rainbow":"彩虹环","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆闪","blocks.ws2812pixels.effect.sparkle":"闪烁","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"扫描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩涡","blocks.ws2812pixels.effect.spot":"光点","blocks.ws2812pixels.effect.wheel":"轮盘"},"zh-Hant":{"blocks.ws2812pixels.name":"WS2812 彩燈","blocks.ws2812pixels.init":"初始引腳[PIN]彩燈數量[NUM]","blocks.ws2812pixels.led":"將引腳[PIN]第[POS]個燈設為[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"關閉引腳[PIN]所有燈","blocks.ws2812pixels.effectWait":"引腳[PIN]播放[EFFECT]效果","blocks.ws2812pixels.effectColorWait":"引腳[PIN]播放[COLOR][EFFECT]效果直到結束","blocks.ws2812pixels.effect":"引腳[PIN]播放[EFFECT]效果","blocks.ws2812pixels.effectColor":"引腳[PIN]播放[COLOR][EFFECT]效果","blocks.ws2812pixels.effectStep":"引腳[PIN][EFFECT]效果","blocks.ws2812pixels.effectStepColor":"引腳[PIN][COLOR][EFFECT]效果","blocks.ws2812pixels.effect.rainbow":"彩虹環","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆閃","blocks.ws2812pixels.effect.sparkle":"閃爍","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"掃描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩渦","blocks.ws2812pixels.effect.spot":"光點","blocks.ws2812pixels.effect.wheel":"輪盤"}};var x="./assets/icon-tool-0mgq6nw5.svg";var N="./assets/icon-vnybg37e.svg";import{jsx as R}from"preact/jsx-runtime";G(P);var j={icon:x,blockIcon:N,name:R(B,{id:"blocks.ws2812pixels.name",defaultMessage:"LED Pixels"}),files:E,blocks:C,menus:u};export{j as default};
