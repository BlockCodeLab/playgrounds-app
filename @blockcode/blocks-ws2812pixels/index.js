import{addLocalesMessages as L,Text as b}from"@blockcode/core";import{Text as l}from"@blockcode/core";import{jsx as s}from"preact/jsx-runtime";var o=(i)=>i.editor==="@blockcode/gui-iotbit",c=(i)=>[{id:"init",text:s(l,{id:"blocks.ws2812pixels.init",defaultMessage:"set pin [PIN] leds [NUM]"}),inputs:{PIN:o(i)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},NUM:{type:"positive_integer",defaultValue:1}},mpy(e){let n=o(i)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),f=this.valueToCode(e,"NUM",this.ORDER_NONE),r=`_ledpixel${n}`;return this.definitions_[`init_${r}`]=`${r} = ledpixel.LedPixel(${n}, ${f})`,""}},"---",{id:"color",text:s(l,{id:"blocks.ws2812pixels.led",defaultMessage:"set pin [PIN] led [POS] color [COLOR] brightness[BRIGHTNESS]"}),inputs:{PIN:o(i)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},POS:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},BRIGHTNESS:{shadow:"brightnessSlider",defaultValue:10}},mpy(e){let n=o(i)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),f=this.valueToCode(e,"COLOR",this.ORDER_NONE),r=this.valueToCode(e,"BRIGHTNESS",this.ORDER_NONE),a=this.getAdjusted(e,"POS"),d=`_ledpixel${n}`,t="";if(t+=`${d}.set_led(${a}, ${r}, ${f})
`,e.getNextBlock()?.type.endsWith("-ws2812pixels_color"))return t;return t+=`${d}.write()
`,t}},{id:"brightnessSlider",shadow:!0,output:"number",inputs:{BRIGHTNESS:{type:"slider",defaultValue:0,min:0,max:10}},mpy(e){return[e.getFieldValue("BRIGHTNESS")||0,this.ORDER_NONE]}},{id:"close",text:s(l,{id:"blocks.ws2812pixels.close",defaultMessage:"close pin [PIN] leds"}),inputs:{PIN:o(i)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1}},mpy(e){return`_ledpixel${o(i)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE)}.clear()
`}},"---",{id:"effect",text:s(l,{id:"blocks.ws2812pixels.effect",defaultMessage:"start pin [PIN] [EFFECT] effect"}),inputs:{PIN:o(i)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},EFFECT:{menu:"effectOption"}},mpy(e){let n=o(i)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),f=e.getFieldValue("EFFECT");return`await _ledpixel${n}.${f}()
`}},{id:"effectColor",text:s(l,{id:"blocks.ws2812pixels.effectColor",defaultMessage:"start pin [PIN] [COLOR] [EFFECT] effect"}),inputs:{PIN:o(i)?{menu:"iotPWMPins"}:{type:"positive_integer",defaultValue:1},COLOR:{type:"color"},EFFECT:{menu:"effectColorOption"}},mpy(e){let n=o(i)?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE),f=this.valueToCode(e,"COLOR",this.ORDER_NONE),r=e.getFieldValue("EFFECT");return`await _ledpixel${n}.${r}(${f})
`}}],p=[[s(l,{id:"blocks.ws2812pixels.effect.chase",defaultMessage:"chase"}),"chase"],[s(l,{id:"blocks.ws2812pixels.effect.twinkle",defaultMessage:"twinkle"}),"twinkle"],[s(l,{id:"blocks.ws2812pixels.effect.sparkle",defaultMessage:"sparkle"}),"sparkle"],[s(l,{id:"blocks.ws2812pixels.effect.breathing",defaultMessage:"breathing"}),"breathing"],[s(l,{id:"blocks.ws2812pixels.effect.scanner",defaultMessage:"scanner"}),"scanner"],[s(l,{id:"blocks.ws2812pixels.effect.waterfall",defaultMessage:"waterfall"}),"waterfall"],[s(l,{id:"blocks.ws2812pixels.effect.whirlpool",defaultMessage:"whirlpool"}),"whirlpool"],[s(l,{id:"blocks.ws2812pixels.effect.spot",defaultMessage:"light spot"}),"light_spot"],[s(l,{id:"blocks.ws2812pixels.effect.wheel",defaultMessage:"light wheel"}),"light_wheel"]],_={effectOption:{items:[[s(l,{id:"blocks.ws2812pixels.effect.rainbow",defaultMessage:"rainbow cycle"}),"rainbow_cycle"],...p]},effectColorOption:{items:p},iotPWMPins:{items:[["P0","33"],["P1","32"],["P5","0"],["P6","16"],["P7","17"],["P8","26"],["P9","25"],["P11","2"],["P13","18"],["P14","19"],["P15","21"],["P16","5"],["P19","22"],["P20","23"],["P23","27"],["P24","14"],["P25","12"],["P26","13"],["P27","15"],["P28","4"]]}};var w="./assets/ledpixel-9ap5gx59.py";var x=(i)=>{if(i.editor==="@blockcode/gui-arduino")return[];return[{name:"ledpixel",type:"text/x-python",uri:w}]};var C={en:{"blocks.ws2812pixels.name":"WS2812 Pixels","blocks.ws2812pixels.init":"set pin [PIN] leds [NUM]","blocks.ws2812pixels.led":"set pin [PIN] led [POS][COLOR] brightness[BRIGHTNESS]","blocks.ws2812pixels.close":"close pin [PIN] leds","blocks.ws2812pixels.effect":"start pin [PIN] [EFFECT] effect","blocks.ws2812pixels.effectColor":"start pin [PIN] [COLOR] [EFFECT] effect","blocks.ws2812pixels.effect.rainbow":"rainbow cycle","blocks.ws2812pixels.effect.chase":"chase","blocks.ws2812pixels.effect.twinkle":"twinkle","blocks.ws2812pixels.effect.sparkle":"sparkle","blocks.ws2812pixels.effect.breathing":"breathing","blocks.ws2812pixels.effect.scanner":"scanner","blocks.ws2812pixels.effect.waterfall":"waterfall","blocks.ws2812pixels.effect.whirlpool":"whirlpool","blocks.ws2812pixels.effect.spot":"light spot","blocks.ws2812pixels.effect.wheel":"light wheel"},"zh-Hans":{"blocks.ws2812pixels.name":"WS2812 彩灯","blocks.ws2812pixels.init":"初始引脚[PIN]彩灯数量[NUM]","blocks.ws2812pixels.led":"将引脚[PIN]第[POS]个灯设为[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"关闭引脚[PIN]所有灯","blocks.ws2812pixels.effect":"开启引脚[PIN][EFFECT]效果","blocks.ws2812pixels.effectColor":"开启引脚[PIN][COLOR][EFFECT]效果","blocks.ws2812pixels.effect.rainbow":"彩虹环","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆闪","blocks.ws2812pixels.effect.sparkle":"闪烁","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"扫描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩涡","blocks.ws2812pixels.effect.spot":"光点","blocks.ws2812pixels.effect.wheel":"轮盘"},"zh-Hant":{"blocks.ws2812pixels.name":"WS2812 彩燈","blocks.ws2812pixels.init":"初始引腳[PIN]彩燈數量[NUM]","blocks.ws2812pixels.led":"將引腳[PIN]第[POS]個燈設為[COLOR]亮度[BRIGHTNESS]","blocks.ws2812pixels.close":"關閉引腳[PIN]所有燈","blocks.ws2812pixels.effect":"開啟引腳[PIN][EFFECT]效果","blocks.ws2812pixels.effectColor":"開啟引腳[PIN][COLOR][EFFECT]效果","blocks.ws2812pixels.effect.rainbow":"彩虹環","blocks.ws2812pixels.effect.chase":"追逐","blocks.ws2812pixels.effect.twinkle":"爆閃","blocks.ws2812pixels.effect.sparkle":"閃爍","blocks.ws2812pixels.effect.breathing":"呼吸","blocks.ws2812pixels.effect.scanner":"掃描","blocks.ws2812pixels.effect.waterfall":"流水","blocks.ws2812pixels.effect.whirlpool":"漩渦","blocks.ws2812pixels.effect.spot":"光點","blocks.ws2812pixels.effect.wheel":"輪盤"}};var g="./assets/icon-tool-0mgq6nw5.svg";var h="./assets/icon-vnybg37e.svg";import{jsx as P}from"preact/jsx-runtime";L(C);var T={icon:g,blockIcon:h,name:P(b,{id:"blocks.ws2812pixels.name",defaultMessage:"LED Pixels"}),files:x,blocks:c,menus:_};export{T as default};
