import{addLocalesMessages as g,Text as u}from"@blockcode/core";import{Text as l}from"@blockcode/core";import{jsx as r}from"preact/jsx-runtime";var p=(o)=>[{id:"read4pins",text:r(l,{id:"blocks.ultrasonic.read4pins",defaultMessage:"pins ECHO:[ECHO] TRIG:[TRIG] distance(cm)"}),output:"number",inputs:{ECHO:o.boardPins?{menu:o.boardPins.in}:{type:"positive_integer",defaultValue:2},TRIG:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:3}},ino(i){let n=o.boardPins?i.getFieldValue("ECHO"):this.valueToCode(i,"ECHO",this.ORDER_NONE),t=o.boardPins?i.getFieldValue("TRIG"):this.valueToCode(i,"TRIG",this.ORDER_NONE),e=`ultrasonic_${n}_${t}`;this.definitions_.include_ultrasonic="#include <EasyUltrasonic.h>",this.definitions_[`variable_${e}`]=`EasyUltrasonic ${e};`,this.definitions_[`setup_${e}`]=`${e}.attach(${t}, ${n});`;let d="";if(this.definitions_.loop_ultrasonic_compensation){let s=this.definitions_.loop_ultrasonic_compensation,[a,C]=s.replace("// ULTRASONIC_COMPENSATION:","").split(",");d=`${e}.getPreciseDistanceCM(${a.trim()}, ${C.trim()})`}else d=`${e}.getDistanceCM()`;return[d,this.ORDER_FUNCTION_CALL]}},{id:"read3pins",text:r(l,{id:"blocks.ultrasonic.read3pins",defaultMessage:"pin [PIN] distance(cm)"}),output:"number",inputs:{PIN:o.boardPins?{menu:o.boardPins.all}:{type:"positive_integer",defaultValue:2}},ino(i){let n=o.boardPins?i.getFieldValue("PIN"):this.valueToCode(i,"PIN",this.ORDER_NONE),t=`ultrasonic_${n}`;this.definitions_.include_ultrasonic="#include <EasyUltrasonic.h>",this.definitions_[`variable_${t}`]=`EasyUltrasonic ${t};`,this.definitions_[`setup_${t}`]=`${t}.attach(${n}, ${n});`;let e="";if(this.definitions_.loop_ultrasonic_compensation){let d=this.definitions_.loop_ultrasonic_compensation,[s,a]=d.replace("// ULTRASONIC_COMPENSATION:","").split(",");e=`${t}.getPreciseDistanceCM(${s.trim()}, ${a.trim()})`}else e=`${t}.getDistanceCM()`;return[e,this.ORDER_FUNCTION_CALL]}},"---",{id:"compensation",text:r(l,{id:"blocks.ultrasonic.compensation",defaultMessage:"set temperature(℃) [TEMP] and humidity(%) [HUM] compensation"}),inputs:{TEMP:{type:"integer",defaultValue:"25"},HUM:{type:"positive_integer",defaultValue:"40"}},ino(i){let n=this.valueToCode(i,"TEMP",this.ORDER_NONE),t=this.valueToCode(i,"HUM",this.ORDER_NONE);return this.definitions_.loop_ultrasonic_compensation=`// ULTRASONIC_COMPENSATION: ${n}, ${t}`,""}}];var c={en:{"blocks.ultrasonic.name":"Ultrasonic Ranging","blocks.ultrasonic.read3pins":"pin [PIN] distance(cm)","blocks.ultrasonic.read4pins":"pins ECHO:[ECHO] TRIG:[TRIG] distance(cm)","blocks.ultrasonic.compensation":"set temperature(℃) [TEMP] and humidity(%) [HUM] compensation"},"zh-Hans":{"blocks.ultrasonic.name":"超声波测距","blocks.ultrasonic.read3pins":"引脚 [PIN] 距离（cm）","blocks.ultrasonic.read4pins":"引脚 ECHO:[ECHO] TRIG:[TRIG] 距离（cm）","blocks.ultrasonic.compensation":"设置温度（℃）[TEMP] 和湿度（%）[HUM] 计算补偿"},"zh-Hant":{"blocks.ultrasonic.name":"超聲波測距","blocks.ultrasonic.read3pins":"引腳 [PIN] 距離（cm）","blocks.ultrasonic.read4pins":"引腳 ECHO:[ECHO] TRIG:[TRIG] 距離（cm）","blocks.ultrasonic.compensation":"設置溫度（℃）[TEMP] 和濕度（%）[HUM] 計算補償"}};var h="./assets/icon-tq9ezg0n.svg";import{jsx as M}from"preact/jsx-runtime";g(c);var T={icon:h,name:M(u,{id:"blocks.ultrasonic.name",defaultMessage:"Ultrasonic Ranging"}),blocks:p};export{T as default};
