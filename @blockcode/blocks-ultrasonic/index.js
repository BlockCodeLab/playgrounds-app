import{addLocalesMessages as L,Text as m}from"@blockcode/core";import{Text as l}from"@blockcode/core";import{jsx as d}from"preact/jsx-runtime";var p="float getUltrasonicDistance(EasyUltrasonic *ultra, bool inches = false, float temp = 0.0, float hum = -1.0);",h=`float getUltrasonicDistance(EasyUltrasonic *ultra, bool inches, float temp, float hum) {
  delay(5);
  if (hum < 0) return inches ? ultra->getDistanceIN() : ultra->getDistanceCM();
  return inches ? ultra->getPreciseDistanceIN(temp, hum) : ultra->getPreciseDistanceCM(temp, hum);
}`,C=(e)=>[{id:"read4pins",text:d(l,{id:"blocks.ultrasonic.read4pins",defaultMessage:"pins ECHO:[ECHO] TRIG:[TRIG] distance [UNIT]"}),output:"number",inputs:{ECHO:e.boardPins?{menu:e.boardPins.in}:{type:"positive_integer",defaultValue:2},TRIG:e.boardPins?{menu:e.boardPins.out}:{type:"positive_integer",defaultValue:3},UNIT:{menu:"Unit"}},ino(t){let o=e.boardPins?t.getFieldValue("ECHO"):this.valueToCode(t,"ECHO",this.ORDER_NONE),s=e.boardPins?t.getFieldValue("TRIG"):this.valueToCode(t,"TRIG",this.ORDER_NONE),n=t.getFieldValue("UNIT"),i=`ultrasonic_${o}_${s}`;this.definitions_.include_ultrasonic="#include <EasyUltrasonic.h>",this.definitions_[`variable_${i}`]=`EasyUltrasonic ${i};`,this.definitions_[`setup_${i}`]=`${i}.attach(${s}, ${o});`,this.definitions_.declare_getUltrasonicDistance=p,this.definitions_.getUltrasonicDistance=h;let a="";if(this.definitions_.loop_ultrasonic_compensation){let r=this.definitions_.loop_ultrasonic_compensation,[c,f]=r.replace("// ULTRASONIC_COMPENSATION:","").split(",");a=`getUltrasonicDistance(&${i}, ${n}, ${c.trim()}, ${f.trim()})`}else a=`getUltrasonicDistance(&${i}, ${n})`;return[a,this.ORDER_FUNCTION_CALL]}},{id:"read3pins",text:d(l,{id:"blocks.ultrasonic.read3pins",defaultMessage:"pin [PIN] distance [UNIT]"}),output:"number",inputs:{PIN:e.boardPins?{menu:e.boardPins.all}:{type:"positive_integer",defaultValue:2},UNIT:{menu:"Unit"}},ino(t){let o=e.boardPins?t.getFieldValue("PIN"):this.valueToCode(t,"PIN",this.ORDER_NONE),s=t.getFieldValue("UNIT"),n=`ultrasonic_${o}`;this.definitions_.include_ultrasonic="#include <EasyUltrasonic.h>",this.definitions_[`variable_${n}`]=`EasyUltrasonic ${n};`,this.definitions_[`setup_${n}`]=`${n}.attach(${o}, ${o});`,this.definitions_.declare_getUltrasonicDistance=p,this.definitions_.getUltrasonicDistance=h;let i="";if(this.definitions_.loop_ultrasonic_compensation){let a=this.definitions_.loop_ultrasonic_compensation,[r,c]=a.replace("// ULTRASONIC_COMPENSATION:","").split(",");i=`getUltrasonicDistance(&${n}, ${s}, ${r.trim()}, ${c.trim()})`}else i=`getUltrasonicDistance(&${n}, ${s})`;return[i,this.ORDER_FUNCTION_CALL]}},"---",{id:"compensation",text:d(l,{id:"blocks.ultrasonic.compensation",defaultMessage:"set temperature(℃) [TEMP] and humidity(%) [HUM] compensation"}),inputs:{TEMP:{type:"integer",defaultValue:"25"},HUM:{type:"positive_integer",defaultValue:"40"}},ino(t){let o=this.valueToCode(t,"TEMP",this.ORDER_NONE),s=this.valueToCode(t,"HUM",this.ORDER_NONE);return this.definitions_.loop_ultrasonic_compensation=`// ULTRASONIC_COMPENSATION: ${o}, ${s}`,""}}],u={Unit:{items:[[d(l,{id:"blocks.ultrasonic.unitCm",defaultMessage:"cm"}),"false"],[d(l,{id:"blocks.ultrasonic.unitIn",defaultMessage:"inches"}),"true"]]}};var g={en:{"blocks.ultrasonic.name":"Ultrasonic Ranging","blocks.ultrasonic.read3pins":"pin [PIN] distance [UNIT]","blocks.ultrasonic.read4pins":"pins ECHO:[ECHO] TRIG:[TRIG] distance [UNIT]","blocks.ultrasonic.compensation":"set temperature(℃) [TEMP] and humidity(%) [HUM] compensation","blocks.ultrasonic.unitCm":"cm","blocks.ultrasonic.unitIn":"inches"},"zh-Hans":{"blocks.ultrasonic.name":"超声波测距","blocks.ultrasonic.read3pins":"引脚 [PIN] 距离 [UNIT]","blocks.ultrasonic.read4pins":"引脚 ECHO:[ECHO] TRIG:[TRIG] 距离 [UNIT]","blocks.ultrasonic.compensation":"设置温度（℃）[TEMP] 和湿度（%）[HUM] 计算补偿","blocks.ultrasonic.unitCm":"厘米","blocks.ultrasonic.unitIn":"英寸"},"zh-Hant":{"blocks.ultrasonic.name":"超聲波測距","blocks.ultrasonic.read3pins":"引腳 [PIN] 距離 [UNIT]","blocks.ultrasonic.read4pins":"引腳 ECHO:[ECHO] TRIG:[TRIG] 距離 [UNIT]","blocks.ultrasonic.compensation":"設置溫度（℃）[TEMP] 和濕度（%）[HUM] 計算補償","blocks.ultrasonic.unitCm":"厘米","blocks.ultrasonic.unitIn":"英寸"}};var k="./assets/icon-tq9ezg0n.svg";import{jsx as P}from"preact/jsx-runtime";L(g);var O={icon:k,name:P(m,{id:"blocks.ultrasonic.name",defaultMessage:"Ultrasonic Ranging"}),blocks:C,menus:u};export{O as default};
