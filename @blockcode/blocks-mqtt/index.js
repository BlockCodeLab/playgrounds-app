import{addLocalesMessages as a3,Text as y3}from"@blockcode/core";var{defineProperty:E5,getOwnPropertyDescriptor:R7,getOwnPropertyNames:B7}=Object,P7=Object.prototype.hasOwnProperty,g1=(N,K)=>()=>(N&&(K=N(N=0)),K),D1=(N,K)=>()=>(K||N((K={exports:{}}).exports,K),K.exports),d8=(N,K)=>{for(var Y in K)E5(N,Y,{get:K[Y],enumerable:!0})},T7=(N,K,Y,J)=>{if(K&&typeof K=="object"||typeof K=="function")for(let q of B7(K))!P7.call(N,q)&&q!==Y&&E5(N,q,{get:()=>K[q],enumerable:!(J=R7(K,q))||J.enumerable});return N},m1=(N)=>T7(E5({},"__esModule",{value:!0}),N),Y1=g1(()=>{}),E1={};d8(E1,{_debugEnd:()=>V4,_debugProcess:()=>$4,_events:()=>m4,_eventsCount:()=>E4,_exiting:()=>L4,_fatalExceptions:()=>Q4,_getActiveHandles:()=>z9,_getActiveRequests:()=>G9,_kill:()=>Z4,_linkedBinding:()=>Z9,_maxListeners:()=>T4,_preload_modules:()=>B4,_rawDebug:()=>r6,_startProfilerIdleNotifier:()=>N4,_stopProfilerIdleNotifier:()=>C4,_tickCallback:()=>D4,abort:()=>A4,addListener:()=>v4,allowedNodeEnvironmentFlags:()=>q4,arch:()=>h6,argv:()=>_6,argv0:()=>R4,assert:()=>J9,binding:()=>s6,browser:()=>n6,chdir:()=>u6,config:()=>U4,cpuUsage:()=>a8,cwd:()=>o6,debugPort:()=>O4,default:()=>S5,dlopen:()=>X9,domain:()=>e6,emit:()=>h4,emitWarning:()=>g6,env:()=>f6,execArgv:()=>b6,execPath:()=>I4,exit:()=>J4,features:()=>K4,hasUncaughtExceptionCaptureCallback:()=>Y9,hrtime:()=>L6,kill:()=>z4,listeners:()=>K9,memoryUsage:()=>G4,moduleLoadList:()=>t6,nextTick:()=>U9,off:()=>d4,on:()=>X8,once:()=>S4,openStdin:()=>Y4,pid:()=>k4,platform:()=>c6,ppid:()=>x4,prependListener:()=>c4,prependOnceListener:()=>f4,reallyExit:()=>M4,release:()=>i6,removeAllListeners:()=>w4,removeListener:()=>p4,resourceUsage:()=>X4,setSourceMapsEnabled:()=>P4,setUncaughtExceptionCaptureCallback:()=>F4,stderr:()=>H4,stdin:()=>j4,stdout:()=>W4,title:()=>w6,umask:()=>l6,uptime:()=>q9,version:()=>a6,versions:()=>y6});function v5(N){throw Error("Node.js process "+N+" is not supported by JSPM core outside of Node.js")}function m7(){!I8||!k8||(I8=!1,k8.length?U8=k8.concat(U8):s8=-1,U8.length&&L9())}function L9(){if(!I8){var N=setTimeout(m7,0);I8=!0;for(var K=U8.length;K;){for(k8=U8,U8=[];++s8<K;)k8&&k8[s8].run();s8=-1,K=U8.length}k8=null,I8=!1,clearTimeout(N)}}function U9(N){var K=Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)K[Y-1]=arguments[Y];U8.push(new M9(N,K)),U8.length===1&&!I8&&setTimeout(L9,0)}function M9(N,K){this.fun=N,this.array=K}function c1(){}function Z9(N){v5("_linkedBinding")}function X9(N){v5("dlopen")}function G9(){return[]}function z9(){return[]}function J9(N,K){if(!N)throw Error(K||"assertion error")}function Y9(){return!1}function q9(){return z8.now()/1000}function L6(N){var K=Math.floor((Date.now()-z8.now())*0.001),Y=z8.now()*0.001,J=Math.floor(Y)+K,q=Math.floor(Y%1*1e9);return N&&(J=J-N[0],q=q-N[1],q<0&&(J--,q+=U6)),[J,q]}function X8(){return S5}function K9(N){return[]}var U8,I8,k8,s8,w6,h6,c6,f6,_6,b6,a6,y6,g6,s6,l6,o6,u6,i6,n6,r6,t6,e6,L4,U4,M4,Z4,a8,X4,G4,z4,J4,Y4,q4,K4,Q4,F4,D4,$4,V4,N4,C4,W4,H4,j4,A4,k4,x4,I4,O4,R4,B4,P4,z8,S6,U6,T4,m4,E4,v4,S4,d4,p4,w4,h4,c4,f4,S5,E7=g1(()=>{Y1(),K1(),q1(),U8=[],I8=!1,s8=-1,M9.prototype.run=function(){this.fun.apply(null,this.array)},w6="browser",h6="x64",c6="browser",f6={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},_6=["/usr/bin/node"],b6=[],a6="v16.8.0",y6={},g6=function(N,K){console.warn((K?K+": ":"")+N)},s6=function(N){v5("binding")},l6=function(N){return 0},o6=function(){return"/"},u6=function(N){},i6={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},n6=!0,r6=c1,t6=[],e6={},L4=!1,U4={},M4=c1,Z4=c1,a8=function(){return{}},X4=a8,G4=a8,z4=c1,J4=c1,Y4=c1,q4={},K4={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Q4=c1,F4=c1,D4=c1,$4=c1,V4=c1,N4=c1,C4=c1,W4=void 0,H4=void 0,j4=void 0,A4=c1,k4=2,x4=1,I4="/bin/usr/node",O4=9229,R4="node",B4=[],P4=c1,z8={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},z8.now===void 0&&(S6=Date.now(),z8.timing&&z8.timing.navigationStart&&(S6=z8.timing.navigationStart),z8.now=()=>Date.now()-S6),U6=1e9,L6.bigint=function(N){var K=L6(N);return typeof BigInt>"u"?K[0]*U6+K[1]:BigInt(K[0]*U6)+BigInt(K[1])},T4=10,m4={},E4=0,v4=X8,S4=X8,d4=X8,p4=X8,w4=X8,h4=c1,c4=X8,f4=X8,S5={version:a6,versions:y6,arch:h6,platform:c6,browser:n6,release:i6,_rawDebug:r6,moduleLoadList:t6,binding:s6,_linkedBinding:Z9,_events:m4,_eventsCount:E4,_maxListeners:T4,on:X8,addListener:v4,once:S4,off:d4,removeListener:p4,removeAllListeners:w4,emit:h4,prependListener:c4,prependOnceListener:f4,listeners:K9,domain:e6,_exiting:L4,config:U4,dlopen:X9,uptime:q9,_getActiveRequests:G9,_getActiveHandles:z9,reallyExit:M4,_kill:Z4,cpuUsage:a8,resourceUsage:X4,memoryUsage:G4,kill:z4,exit:J4,openStdin:Y4,allowedNodeEnvironmentFlags:q4,assert:J9,features:K4,_fatalExceptions:Q4,setUncaughtExceptionCaptureCallback:F4,hasUncaughtExceptionCaptureCallback:Y9,emitWarning:g6,nextTick:U9,_tickCallback:D4,_debugProcess:$4,_debugEnd:V4,_startProfilerIdleNotifier:N4,_stopProfilerIdleNotifier:C4,stdout:W4,stdin:j4,stderr:H4,abort:A4,umask:l6,chdir:u6,cwd:o6,env:f6,title:w6,argv:_6,execArgv:b6,pid:k4,ppid:x4,execPath:I4,debugPort:O4,hrtime:L6,argv0:R4,_preload_modules:B4,setSourceMapsEnabled:P4}}),q1=g1(()=>{E7()});function v7(){if(_4)return E8;_4=!0,E8.byteLength=M,E8.toByteArray=X,E8.fromByteArray=D;for(var N=[],K=[],Y=typeof Uint8Array<"u"?Uint8Array:Array,J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=0,Z=J.length;q<Z;++q)N[q]=J[q],K[J.charCodeAt(q)]=q;K[45]=62,K[95]=63;function U(C){var H=C.length;if(H%4>0)throw Error("Invalid string. Length must be a multiple of 4");var $=C.indexOf("=");$===-1&&($=H);var V=$===H?0:4-$%4;return[$,V]}function M(C){var H=U(C),$=H[0],V=H[1];return($+V)*3/4-V}function L(C,H,$){return(H+$)*3/4-$}function X(C){var H,$=U(C),V=$[0],A=$[1],Q=new Y(L(C,V,A)),j=0,I=A>0?V-4:V,W;for(W=0;W<I;W+=4)H=K[C.charCodeAt(W)]<<18|K[C.charCodeAt(W+1)]<<12|K[C.charCodeAt(W+2)]<<6|K[C.charCodeAt(W+3)],Q[j++]=H>>16&255,Q[j++]=H>>8&255,Q[j++]=H&255;return A===2&&(H=K[C.charCodeAt(W)]<<2|K[C.charCodeAt(W+1)]>>4,Q[j++]=H&255),A===1&&(H=K[C.charCodeAt(W)]<<10|K[C.charCodeAt(W+1)]<<4|K[C.charCodeAt(W+2)]>>2,Q[j++]=H>>8&255,Q[j++]=H&255),Q}function G(C){return N[C>>18&63]+N[C>>12&63]+N[C>>6&63]+N[C&63]}function F(C,H,$){for(var V,A=[],Q=H;Q<$;Q+=3)V=(C[Q]<<16&16711680)+(C[Q+1]<<8&65280)+(C[Q+2]&255),A.push(G(V));return A.join("")}function D(C){for(var H,$=C.length,V=$%3,A=[],Q=16383,j=0,I=$-V;j<I;j+=Q)A.push(F(C,j,j+Q>I?I:j+Q));return V===1?(H=C[$-1],A.push(N[H>>2]+N[H<<4&63]+"==")):V===2&&(H=(C[$-2]<<8)+C[$-1],A.push(N[H>>10]+N[H>>4&63]+N[H<<2&63]+"=")),A.join("")}return E8}function S7(){if(b4)return y8;return b4=!0,y8.read=function(N,K,Y,J,q){var Z,U,M=q*8-J-1,L=(1<<M)-1,X=L>>1,G=-7,F=Y?q-1:0,D=Y?-1:1,C=N[K+F];for(F+=D,Z=C&(1<<-G)-1,C>>=-G,G+=M;G>0;Z=Z*256+N[K+F],F+=D,G-=8);for(U=Z&(1<<-G)-1,Z>>=-G,G+=J;G>0;U=U*256+N[K+F],F+=D,G-=8);if(Z===0)Z=1-X;else{if(Z===L)return U?NaN:(C?-1:1)*(1/0);U=U+Math.pow(2,J),Z=Z-X}return(C?-1:1)*U*Math.pow(2,Z-J)},y8.write=function(N,K,Y,J,q,Z){var U,M,L,X=Z*8-q-1,G=(1<<X)-1,F=G>>1,D=q===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=J?0:Z-1,H=J?1:-1,$=K<0||K===0&&1/K<0?1:0;for(K=Math.abs(K),isNaN(K)||K===1/0?(M=isNaN(K)?1:0,U=G):(U=Math.floor(Math.log(K)/Math.LN2),K*(L=Math.pow(2,-U))<1&&(U--,L*=2),U+F>=1?K+=D/L:K+=D*Math.pow(2,1-F),K*L>=2&&(U++,L/=2),U+F>=G?(M=0,U=G):U+F>=1?(M=(K*L-1)*Math.pow(2,q),U=U+F):(M=K*Math.pow(2,F-1)*Math.pow(2,q),U=0));q>=8;N[Y+C]=M&255,C+=H,M/=256,q-=8);for(U=U<<q|M,X+=q;X>0;N[Y+C]=U&255,C+=H,U/=256,X-=8);N[Y+C-H]|=$*128},y8}function d7(){if(a4)return V8;a4=!0;let N=v7(),K=S7(),Y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V8.Buffer=U,V8.SlowBuffer=A,V8.INSPECT_MAX_BYTES=50;let J=2147483647;V8.kMaxLength=J,U.TYPED_ARRAY_SUPPORT=q(),!U.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function q(){try{let z=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(z,k),z.foo()===42}catch{return!1}}Object.defineProperty(U.prototype,"parent",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.buffer}}),Object.defineProperty(U.prototype,"offset",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.byteOffset}});function Z(z){if(z>J)throw RangeError('The value "'+z+'" is invalid for option "size"');let k=new Uint8Array(z);return Object.setPrototypeOf(k,U.prototype),k}function U(z,k,R){if(typeof z=="number"){if(typeof k=="string")throw TypeError('The "string" argument must be of type string. Received type number');return G(z)}return M(z,k,R)}U.poolSize=8192;function M(z,k,R){if(typeof z=="string")return F(z,k);if(ArrayBuffer.isView(z))return C(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(a(z,ArrayBuffer)||z&&a(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(a(z,SharedArrayBuffer)||z&&a(z.buffer,SharedArrayBuffer)))return H(z,k,R);if(typeof z=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let b=z.valueOf&&z.valueOf();if(b!=null&&b!==z)return U.from(b,k,R);let r=$(z);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return U.from(z[Symbol.toPrimitive]("string"),k,R);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}U.from=function(z,k,R){return M(z,k,R)},Object.setPrototypeOf(U.prototype,Uint8Array.prototype),Object.setPrototypeOf(U,Uint8Array);function L(z){if(typeof z!="number")throw TypeError('"size" argument must be of type number');if(z<0)throw RangeError('The value "'+z+'" is invalid for option "size"')}function X(z,k,R){return L(z),z<=0?Z(z):k!==void 0?typeof R=="string"?Z(z).fill(k,R):Z(z).fill(k):Z(z)}U.alloc=function(z,k,R){return X(z,k,R)};function G(z){return L(z),Z(z<0?0:V(z)|0)}U.allocUnsafe=function(z){return G(z)},U.allocUnsafeSlow=function(z){return G(z)};function F(z,k){if((typeof k!="string"||k==="")&&(k="utf8"),!U.isEncoding(k))throw TypeError("Unknown encoding: "+k);let R=Q(z,k)|0,b=Z(R),r=b.write(z,k);return r!==R&&(b=b.slice(0,r)),b}function D(z){let k=z.length<0?0:V(z.length)|0,R=Z(k);for(let b=0;b<k;b+=1)R[b]=z[b]&255;return R}function C(z){if(a(z,Uint8Array)){let k=new Uint8Array(z);return H(k.buffer,k.byteOffset,k.byteLength)}return D(z)}function H(z,k,R){if(k<0||z.byteLength<k)throw RangeError('"offset" is outside of buffer bounds');if(z.byteLength<k+(R||0))throw RangeError('"length" is outside of buffer bounds');let b;return k===void 0&&R===void 0?b=new Uint8Array(z):R===void 0?b=new Uint8Array(z,k):b=new Uint8Array(z,k,R),Object.setPrototypeOf(b,U.prototype),b}function $(z){if(U.isBuffer(z)){let k=V(z.length)|0,R=Z(k);return R.length===0||z.copy(R,0,0,k),R}if(z.length!==void 0)return typeof z.length!="number"||$1(z.length)?Z(0):D(z);if(z.type==="Buffer"&&Array.isArray(z.data))return D(z.data)}function V(z){if(z>=J)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return z|0}function A(z){return+z!=z&&(z=0),U.alloc(+z)}U.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==U.prototype},U.compare=function(z,k){if(a(z,Uint8Array)&&(z=U.from(z,z.offset,z.byteLength)),a(k,Uint8Array)&&(k=U.from(k,k.offset,k.byteLength)),!U.isBuffer(z)||!U.isBuffer(k))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===k)return 0;let R=z.length,b=k.length;for(let r=0,J1=Math.min(R,b);r<J1;++r)if(z[r]!==k[r]){R=z[r],b=k[r];break}return R<b?-1:b<R?1:0},U.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},U.concat=function(z,k){if(!Array.isArray(z))throw TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return U.alloc(0);let R;if(k===void 0)for(k=0,R=0;R<z.length;++R)k+=z[R].length;let b=U.allocUnsafe(k),r=0;for(R=0;R<z.length;++R){let J1=z[R];if(a(J1,Uint8Array))r+J1.length>b.length?(U.isBuffer(J1)||(J1=U.from(J1)),J1.copy(b,r)):Uint8Array.prototype.set.call(b,J1,r);else if(U.isBuffer(J1))J1.copy(b,r);else throw TypeError('"list" argument must be an Array of Buffers');r+=J1.length}return b};function Q(z,k){if(U.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||a(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);let R=z.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&R===0)return 0;let r=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return _(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return F1(z).length;default:if(r)return b?-1:_(z).length;k=(""+k).toLowerCase(),r=!0}}U.byteLength=Q;function j(z,k,R){let b=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,k>>>=0,R<=k))return"";for(z||(z="utf8");;)switch(z){case"hex":return g(this,k,R);case"utf8":case"utf-8":return c(this,k,R);case"ascii":return G1(this,k,R);case"latin1":case"binary":return t(this,k,R);case"base64":return P(this,k,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z1(this,k,R);default:if(b)throw TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),b=!0}}U.prototype._isBuffer=!0;function I(z,k,R){let b=z[k];z[k]=z[R],z[R]=b}U.prototype.swap16=function(){let z=this.length;if(z%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<z;k+=2)I(this,k,k+1);return this},U.prototype.swap32=function(){let z=this.length;if(z%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<z;k+=4)I(this,k,k+3),I(this,k+1,k+2);return this},U.prototype.swap64=function(){let z=this.length;if(z%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<z;k+=8)I(this,k,k+7),I(this,k+1,k+6),I(this,k+2,k+5),I(this,k+3,k+4);return this},U.prototype.toString=function(){let z=this.length;return z===0?"":arguments.length===0?c(this,0,z):j.apply(this,arguments)},U.prototype.toLocaleString=U.prototype.toString,U.prototype.equals=function(z){if(!U.isBuffer(z))throw TypeError("Argument must be a Buffer");return this===z?!0:U.compare(this,z)===0},U.prototype.inspect=function(){let z="",k=V8.INSPECT_MAX_BYTES;return z=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(z+=" ... "),"<Buffer "+z+">"},Y&&(U.prototype[Y]=U.prototype.inspect),U.prototype.compare=function(z,k,R,b,r){if(a(z,Uint8Array)&&(z=U.from(z,z.offset,z.byteLength)),!U.isBuffer(z))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(k===void 0&&(k=0),R===void 0&&(R=z?z.length:0),b===void 0&&(b=0),r===void 0&&(r=this.length),k<0||R>z.length||b<0||r>this.length)throw RangeError("out of range index");if(b>=r&&k>=R)return 0;if(b>=r)return-1;if(k>=R)return 1;if(k>>>=0,R>>>=0,b>>>=0,r>>>=0,this===z)return 0;let J1=r-b,H1=R-k,u=Math.min(J1,H1),M1=this.slice(b,r),R1=z.slice(k,R);for(let B1=0;B1<u;++B1)if(M1[B1]!==R1[B1]){J1=M1[B1],H1=R1[B1];break}return J1<H1?-1:H1<J1?1:0};function W(z,k,R,b,r){if(z.length===0)return-1;if(typeof R=="string"?(b=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,$1(R)&&(R=r?0:z.length-1),R<0&&(R=z.length+R),R>=z.length){if(r)return-1;R=z.length-1}else if(R<0)if(r)R=0;else return-1;if(typeof k=="string"&&(k=U.from(k,b)),U.isBuffer(k))return k.length===0?-1:x(z,k,R,b,r);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(z,k,R):Uint8Array.prototype.lastIndexOf.call(z,k,R):x(z,[k],R,b,r);throw TypeError("val must be string, number or Buffer")}function x(z,k,R,b,r){let J1=1,H1=z.length,u=k.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(z.length<2||k.length<2)return-1;J1=2,H1/=2,u/=2,R/=2}function M1(B1,P1){return J1===1?B1[P1]:B1.readUInt16BE(P1*J1)}let R1;if(r){let B1=-1;for(R1=R;R1<H1;R1++)if(M1(z,R1)===M1(k,B1===-1?0:R1-B1)){if(B1===-1&&(B1=R1),R1-B1+1===u)return B1*J1}else B1!==-1&&(R1-=R1-B1),B1=-1}else for(R+u>H1&&(R=H1-u),R1=R;R1>=0;R1--){let B1=!0;for(let P1=0;P1<u;P1++)if(M1(z,R1+P1)!==M1(k,P1)){B1=!1;break}if(B1)return R1}return-1}U.prototype.includes=function(z,k,R){return this.indexOf(z,k,R)!==-1},U.prototype.indexOf=function(z,k,R){return W(this,z,k,R,!0)},U.prototype.lastIndexOf=function(z,k,R){return W(this,z,k,R,!1)};function O(z,k,R,b){R=Number(R)||0;let r=z.length-R;b?(b=Number(b),b>r&&(b=r)):b=r;let J1=k.length;b>J1/2&&(b=J1/2);let H1;for(H1=0;H1<b;++H1){let u=parseInt(k.substr(H1*2,2),16);if($1(u))return H1;z[R+H1]=u}return H1}function B(z,k,R,b){return W1(_(k,z.length-R),z,R,b)}function E(z,k,R,b){return W1(L1(k),z,R,b)}function v(z,k,R,b){return W1(F1(k),z,R,b)}function h(z,k,R,b){return W1(Q1(k,z.length-R),z,R,b)}U.prototype.write=function(z,k,R,b){if(k===void 0)b="utf8",R=this.length,k=0;else if(R===void 0&&typeof k=="string")b=k,R=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(R)?(R=R>>>0,b===void 0&&(b="utf8")):(b=R,R=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let r=this.length-k;if((R===void 0||R>r)&&(R=r),z.length>0&&(R<0||k<0)||k>this.length)throw RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let J1=!1;for(;;)switch(b){case"hex":return O(this,z,k,R);case"utf8":case"utf-8":return B(this,z,k,R);case"ascii":case"latin1":case"binary":return E(this,z,k,R);case"base64":return v(this,z,k,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,z,k,R);default:if(J1)throw TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),J1=!0}},U.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(z,k,R){return k===0&&R===z.length?N.fromByteArray(z):N.fromByteArray(z.slice(k,R))}function c(z,k,R){R=Math.min(z.length,R);let b=[],r=k;for(;r<R;){let J1=z[r],H1=null,u=J1>239?4:J1>223?3:J1>191?2:1;if(r+u<=R){let M1,R1,B1,P1;switch(u){case 1:J1<128&&(H1=J1);break;case 2:M1=z[r+1],(M1&192)===128&&(P1=(J1&31)<<6|M1&63,P1>127&&(H1=P1));break;case 3:M1=z[r+1],R1=z[r+2],(M1&192)===128&&(R1&192)===128&&(P1=(J1&15)<<12|(M1&63)<<6|R1&63,P1>2047&&(P1<55296||P1>57343)&&(H1=P1));break;case 4:M1=z[r+1],R1=z[r+2],B1=z[r+3],(M1&192)===128&&(R1&192)===128&&(B1&192)===128&&(P1=(J1&15)<<18|(M1&63)<<12|(R1&63)<<6|B1&63,P1>65535&&P1<1114112&&(H1=P1))}}H1===null?(H1=65533,u=1):H1>65535&&(H1-=65536,b.push(H1>>>10&1023|55296),H1=56320|H1&1023),b.push(H1),r+=u}return w(b)}let y=4096;function w(z){let k=z.length;if(k<=y)return String.fromCharCode.apply(String,z);let R="",b=0;for(;b<k;)R+=String.fromCharCode.apply(String,z.slice(b,b+=y));return R}function G1(z,k,R){let b="";R=Math.min(z.length,R);for(let r=k;r<R;++r)b+=String.fromCharCode(z[r]&127);return b}function t(z,k,R){let b="";R=Math.min(z.length,R);for(let r=k;r<R;++r)b+=String.fromCharCode(z[r]);return b}function g(z,k,R){let b=z.length;(!k||k<0)&&(k=0),(!R||R<0||R>b)&&(R=b);let r="";for(let J1=k;J1<R;++J1)r+=k1[z[J1]];return r}function Z1(z,k,R){let b=z.slice(k,R),r="";for(let J1=0;J1<b.length-1;J1+=2)r+=String.fromCharCode(b[J1]+b[J1+1]*256);return r}U.prototype.slice=function(z,k){let R=this.length;z=~~z,k=k===void 0?R:~~k,z<0?(z+=R,z<0&&(z=0)):z>R&&(z=R),k<0?(k+=R,k<0&&(k=0)):k>R&&(k=R),k<z&&(k=z);let b=this.subarray(z,k);return Object.setPrototypeOf(b,U.prototype),b};function f(z,k,R){if(z%1!==0||z<0)throw RangeError("offset is not uint");if(z+k>R)throw RangeError("Trying to access beyond buffer length")}U.prototype.readUintLE=U.prototype.readUIntLE=function(z,k,R){z=z>>>0,k=k>>>0,R||f(z,k,this.length);let b=this[z],r=1,J1=0;for(;++J1<k&&(r*=256);)b+=this[z+J1]*r;return b},U.prototype.readUintBE=U.prototype.readUIntBE=function(z,k,R){z=z>>>0,k=k>>>0,R||f(z,k,this.length);let b=this[z+--k],r=1;for(;k>0&&(r*=256);)b+=this[z+--k]*r;return b},U.prototype.readUint8=U.prototype.readUInt8=function(z,k){return z=z>>>0,k||f(z,1,this.length),this[z]},U.prototype.readUint16LE=U.prototype.readUInt16LE=function(z,k){return z=z>>>0,k||f(z,2,this.length),this[z]|this[z+1]<<8},U.prototype.readUint16BE=U.prototype.readUInt16BE=function(z,k){return z=z>>>0,k||f(z,2,this.length),this[z]<<8|this[z+1]},U.prototype.readUint32LE=U.prototype.readUInt32LE=function(z,k){return z=z>>>0,k||f(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},U.prototype.readUint32BE=U.prototype.readUInt32BE=function(z,k){return z=z>>>0,k||f(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},U.prototype.readBigUInt64LE=V1(function(z){z=z>>>0,i(z,"offset");let k=this[z],R=this[z+7];(k===void 0||R===void 0)&&N1(z,this.length-8);let b=k+this[++z]*256+this[++z]*65536+this[++z]*16777216,r=this[++z]+this[++z]*256+this[++z]*65536+R*16777216;return BigInt(b)+(BigInt(r)<<BigInt(32))}),U.prototype.readBigUInt64BE=V1(function(z){z=z>>>0,i(z,"offset");let k=this[z],R=this[z+7];(k===void 0||R===void 0)&&N1(z,this.length-8);let b=k*16777216+this[++z]*65536+this[++z]*256+this[++z],r=this[++z]*16777216+this[++z]*65536+this[++z]*256+R;return(BigInt(b)<<BigInt(32))+BigInt(r)}),U.prototype.readIntLE=function(z,k,R){z=z>>>0,k=k>>>0,R||f(z,k,this.length);let b=this[z],r=1,J1=0;for(;++J1<k&&(r*=256);)b+=this[z+J1]*r;return r*=128,b>=r&&(b-=Math.pow(2,8*k)),b},U.prototype.readIntBE=function(z,k,R){z=z>>>0,k=k>>>0,R||f(z,k,this.length);let b=k,r=1,J1=this[z+--b];for(;b>0&&(r*=256);)J1+=this[z+--b]*r;return r*=128,J1>=r&&(J1-=Math.pow(2,8*k)),J1},U.prototype.readInt8=function(z,k){return z=z>>>0,k||f(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},U.prototype.readInt16LE=function(z,k){z=z>>>0,k||f(z,2,this.length);let R=this[z]|this[z+1]<<8;return R&32768?R|4294901760:R},U.prototype.readInt16BE=function(z,k){z=z>>>0,k||f(z,2,this.length);let R=this[z+1]|this[z]<<8;return R&32768?R|4294901760:R},U.prototype.readInt32LE=function(z,k){return z=z>>>0,k||f(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},U.prototype.readInt32BE=function(z,k){return z=z>>>0,k||f(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},U.prototype.readBigInt64LE=V1(function(z){z=z>>>0,i(z,"offset");let k=this[z],R=this[z+7];(k===void 0||R===void 0)&&N1(z,this.length-8);let b=this[z+4]+this[z+5]*256+this[z+6]*65536+(R<<24);return(BigInt(b)<<BigInt(32))+BigInt(k+this[++z]*256+this[++z]*65536+this[++z]*16777216)}),U.prototype.readBigInt64BE=V1(function(z){z=z>>>0,i(z,"offset");let k=this[z],R=this[z+7];(k===void 0||R===void 0)&&N1(z,this.length-8);let b=(k<<24)+this[++z]*65536+this[++z]*256+this[++z];return(BigInt(b)<<BigInt(32))+BigInt(this[++z]*16777216+this[++z]*65536+this[++z]*256+R)}),U.prototype.readFloatLE=function(z,k){return z=z>>>0,k||f(z,4,this.length),K.read(this,z,!0,23,4)},U.prototype.readFloatBE=function(z,k){return z=z>>>0,k||f(z,4,this.length),K.read(this,z,!1,23,4)},U.prototype.readDoubleLE=function(z,k){return z=z>>>0,k||f(z,8,this.length),K.read(this,z,!0,52,8)},U.prototype.readDoubleBE=function(z,k){return z=z>>>0,k||f(z,8,this.length),K.read(this,z,!1,52,8)};function e(z,k,R,b,r,J1){if(!U.isBuffer(z))throw TypeError('"buffer" argument must be a Buffer instance');if(k>r||k<J1)throw RangeError('"value" argument is out of bounds');if(R+b>z.length)throw RangeError("Index out of range")}U.prototype.writeUintLE=U.prototype.writeUIntLE=function(z,k,R,b){if(z=+z,k=k>>>0,R=R>>>0,!b){let H1=Math.pow(2,8*R)-1;e(this,z,k,R,H1,0)}let r=1,J1=0;for(this[k]=z&255;++J1<R&&(r*=256);)this[k+J1]=z/r&255;return k+R},U.prototype.writeUintBE=U.prototype.writeUIntBE=function(z,k,R,b){if(z=+z,k=k>>>0,R=R>>>0,!b){let H1=Math.pow(2,8*R)-1;e(this,z,k,R,H1,0)}let r=R-1,J1=1;for(this[k+r]=z&255;--r>=0&&(J1*=256);)this[k+r]=z/J1&255;return k+R},U.prototype.writeUint8=U.prototype.writeUInt8=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,1,255,0),this[k]=z&255,k+1},U.prototype.writeUint16LE=U.prototype.writeUInt16LE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,2,65535,0),this[k]=z&255,this[k+1]=z>>>8,k+2},U.prototype.writeUint16BE=U.prototype.writeUInt16BE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,2,65535,0),this[k]=z>>>8,this[k+1]=z&255,k+2},U.prototype.writeUint32LE=U.prototype.writeUInt32LE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,4,4294967295,0),this[k+3]=z>>>24,this[k+2]=z>>>16,this[k+1]=z>>>8,this[k]=z&255,k+4},U.prototype.writeUint32BE=U.prototype.writeUInt32BE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,4,4294967295,0),this[k]=z>>>24,this[k+1]=z>>>16,this[k+2]=z>>>8,this[k+3]=z&255,k+4};function m(z,k,R,b,r){s(k,b,r,z,R,7);let J1=Number(k&BigInt(4294967295));z[R++]=J1,J1=J1>>8,z[R++]=J1,J1=J1>>8,z[R++]=J1,J1=J1>>8,z[R++]=J1;let H1=Number(k>>BigInt(32)&BigInt(4294967295));return z[R++]=H1,H1=H1>>8,z[R++]=H1,H1=H1>>8,z[R++]=H1,H1=H1>>8,z[R++]=H1,R}function n(z,k,R,b,r){s(k,b,r,z,R,7);let J1=Number(k&BigInt(4294967295));z[R+7]=J1,J1=J1>>8,z[R+6]=J1,J1=J1>>8,z[R+5]=J1,J1=J1>>8,z[R+4]=J1;let H1=Number(k>>BigInt(32)&BigInt(4294967295));return z[R+3]=H1,H1=H1>>8,z[R+2]=H1,H1=H1>>8,z[R+1]=H1,H1=H1>>8,z[R]=H1,R+8}U.prototype.writeBigUInt64LE=V1(function(z,k=0){return m(this,z,k,BigInt(0),BigInt("0xffffffffffffffff"))}),U.prototype.writeBigUInt64BE=V1(function(z,k=0){return n(this,z,k,BigInt(0),BigInt("0xffffffffffffffff"))}),U.prototype.writeIntLE=function(z,k,R,b){if(z=+z,k=k>>>0,!b){let u=Math.pow(2,8*R-1);e(this,z,k,R,u-1,-u)}let r=0,J1=1,H1=0;for(this[k]=z&255;++r<R&&(J1*=256);)z<0&&H1===0&&this[k+r-1]!==0&&(H1=1),this[k+r]=(z/J1>>0)-H1&255;return k+R},U.prototype.writeIntBE=function(z,k,R,b){if(z=+z,k=k>>>0,!b){let u=Math.pow(2,8*R-1);e(this,z,k,R,u-1,-u)}let r=R-1,J1=1,H1=0;for(this[k+r]=z&255;--r>=0&&(J1*=256);)z<0&&H1===0&&this[k+r+1]!==0&&(H1=1),this[k+r]=(z/J1>>0)-H1&255;return k+R},U.prototype.writeInt8=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,1,127,-128),z<0&&(z=255+z+1),this[k]=z&255,k+1},U.prototype.writeInt16LE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,2,32767,-32768),this[k]=z&255,this[k+1]=z>>>8,k+2},U.prototype.writeInt16BE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,2,32767,-32768),this[k]=z>>>8,this[k+1]=z&255,k+2},U.prototype.writeInt32LE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,4,2147483647,-2147483648),this[k]=z&255,this[k+1]=z>>>8,this[k+2]=z>>>16,this[k+3]=z>>>24,k+4},U.prototype.writeInt32BE=function(z,k,R){return z=+z,k=k>>>0,R||e(this,z,k,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[k]=z>>>24,this[k+1]=z>>>16,this[k+2]=z>>>8,this[k+3]=z&255,k+4},U.prototype.writeBigInt64LE=V1(function(z,k=0){return m(this,z,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),U.prototype.writeBigInt64BE=V1(function(z,k=0){return n(this,z,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C1(z,k,R,b,r,J1){if(R+b>z.length)throw RangeError("Index out of range");if(R<0)throw RangeError("Index out of range")}function U1(z,k,R,b,r){return k=+k,R=R>>>0,r||C1(z,k,R,4),K.write(z,k,R,b,23,4),R+4}U.prototype.writeFloatLE=function(z,k,R){return U1(this,z,k,!0,R)},U.prototype.writeFloatBE=function(z,k,R){return U1(this,z,k,!1,R)};function j1(z,k,R,b,r){return k=+k,R=R>>>0,r||C1(z,k,R,8),K.write(z,k,R,b,52,8),R+8}U.prototype.writeDoubleLE=function(z,k,R){return j1(this,z,k,!0,R)},U.prototype.writeDoubleBE=function(z,k,R){return j1(this,z,k,!1,R)},U.prototype.copy=function(z,k,R,b){if(!U.isBuffer(z))throw TypeError("argument should be a Buffer");if(R||(R=0),!b&&b!==0&&(b=this.length),k>=z.length&&(k=z.length),k||(k=0),b>0&&b<R&&(b=R),b===R||z.length===0||this.length===0)return 0;if(k<0)throw RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw RangeError("Index out of range");if(b<0)throw RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),z.length-k<b-R&&(b=z.length-k+R);let r=b-R;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,R,b):Uint8Array.prototype.set.call(z,this.subarray(R,b),k),r},U.prototype.fill=function(z,k,R,b){if(typeof z=="string"){if(typeof k=="string"?(b=k,k=0,R=this.length):typeof R=="string"&&(b=R,R=this.length),b!==void 0&&typeof b!="string")throw TypeError("encoding must be a string");if(typeof b=="string"&&!U.isEncoding(b))throw TypeError("Unknown encoding: "+b);if(z.length===1){let J1=z.charCodeAt(0);(b==="utf8"&&J1<128||b==="latin1")&&(z=J1)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(k<0||this.length<k||this.length<R)throw RangeError("Out of range index");if(R<=k)return this;k=k>>>0,R=R===void 0?this.length:R>>>0,z||(z=0);let r;if(typeof z=="number")for(r=k;r<R;++r)this[r]=z;else{let J1=U.isBuffer(z)?z:U.from(z,b),H1=J1.length;if(H1===0)throw TypeError('The value "'+z+'" is invalid for argument "value"');for(r=0;r<R-k;++r)this[r+k]=J1[r%H1]}return this};let l={};function p(z,k,R){l[z]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}p("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),p("ERR_INVALID_ARG_TYPE",function(z,k){return`The "${z}" argument must be of type number. Received type ${typeof k}`},TypeError),p("ERR_OUT_OF_RANGE",function(z,k,R){let b=`The value of "${z}" is out of range.`,r=R;return Number.isInteger(R)&&Math.abs(R)>4294967296?r=X1(String(R)):typeof R=="bigint"&&(r=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(r=X1(r)),r+="n"),b+=` It must be ${k}. Received ${r}`,b},RangeError);function X1(z){let k="",R=z.length,b=z[0]==="-"?1:0;for(;R>=b+4;R-=3)k=`_${z.slice(R-3,R)}${k}`;return`${z.slice(0,R)}${k}`}function o(z,k,R){i(k,"offset"),(z[k]===void 0||z[k+R]===void 0)&&N1(k,z.length-(R+1))}function s(z,k,R,b,r,J1){if(z>R||z<k){let H1=typeof k=="bigint"?"n":"",u;throw k===0||k===BigInt(0)?u=`>= 0${H1} and < 2${H1} ** ${(J1+1)*8}${H1}`:u=`>= -(2${H1} ** ${(J1+1)*8-1}${H1}) and < 2 ** ${(J1+1)*8-1}${H1}`,new l.ERR_OUT_OF_RANGE("value",u,z)}o(b,r,J1)}function i(z,k){if(typeof z!="number")throw new l.ERR_INVALID_ARG_TYPE(k,"number",z)}function N1(z,k,R){throw Math.floor(z)!==z?(i(z,R),new l.ERR_OUT_OF_RANGE("offset","an integer",z)):k<0?new l.ERR_BUFFER_OUT_OF_BOUNDS:new l.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,z)}let z1=/[^+/0-9A-Za-z-_]/g;function S(z){if(z=z.split("=")[0],z=z.trim().replace(z1,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function _(z,k){k=k||1/0;let R,b=z.length,r=null,J1=[];for(let H1=0;H1<b;++H1){if(R=z.charCodeAt(H1),R>55295&&R<57344){if(!r){if(R>56319){(k-=3)>-1&&J1.push(239,191,189);continue}else if(H1+1===b){(k-=3)>-1&&J1.push(239,191,189);continue}r=R;continue}if(R<56320){(k-=3)>-1&&J1.push(239,191,189),r=R;continue}R=(r-55296<<10|R-56320)+65536}else r&&(k-=3)>-1&&J1.push(239,191,189);if(r=null,R<128){if((k-=1)<0)break;J1.push(R)}else if(R<2048){if((k-=2)<0)break;J1.push(R>>6|192,R&63|128)}else if(R<65536){if((k-=3)<0)break;J1.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((k-=4)<0)break;J1.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw Error("Invalid code point")}return J1}function L1(z){let k=[];for(let R=0;R<z.length;++R)k.push(z.charCodeAt(R)&255);return k}function Q1(z,k){let R,b,r,J1=[];for(let H1=0;H1<z.length&&!((k-=2)<0);++H1)R=z.charCodeAt(H1),b=R>>8,r=R%256,J1.push(r),J1.push(b);return J1}function F1(z){return N.toByteArray(S(z))}function W1(z,k,R,b){let r;for(r=0;r<b&&!(r+R>=k.length||r>=z.length);++r)k[r+R]=z[r];return r}function a(z,k){return z instanceof k||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===k.name}function $1(z){return z!==z}let k1=function(){let z="0123456789abcdef",k=Array(256);for(let R=0;R<16;++R){let b=R*16;for(let r=0;r<16;++r)k[b+r]=z[R]+z[r]}return k}();function V1(z){return typeof BigInt>"u"?I1:z}function I1(){throw Error("BigInt not supported")}return V8}var E8,_4,y8,b4,V8,a4,p7=g1(()=>{Y1(),K1(),q1(),E8={},_4=!1,y8={},b4=!1,V8={},a4=!1}),p1={};d8(p1,{Buffer:()=>O6,INSPECT_MAX_BYTES:()=>Q9,default:()=>G8,kMaxLength:()=>F9});var G8,O6,Q9,F9,w1=g1(()=>{Y1(),K1(),q1(),p7(),G8=d7(),G8.Buffer,G8.SlowBuffer,G8.INSPECT_MAX_BYTES,G8.kMaxLength,O6=G8.Buffer,Q9=G8.INSPECT_MAX_BYTES,F9=G8.kMaxLength}),K1=g1(()=>{w1()}),S1=D1((N,K)=>{Y1(),K1(),q1();var Y=class extends Error{constructor(J){if(!Array.isArray(J))throw TypeError(`Expected input to be an Array, got ${typeof J}`);let q="";for(let Z=0;Z<J.length;Z++)q+=`    ${J[Z].stack}
`;super(q),this.name="AggregateError",this.errors=J}};K.exports={AggregateError:Y,ArrayIsArray(J){return Array.isArray(J)},ArrayPrototypeIncludes(J,q){return J.includes(q)},ArrayPrototypeIndexOf(J,q){return J.indexOf(q)},ArrayPrototypeJoin(J,q){return J.join(q)},ArrayPrototypeMap(J,q){return J.map(q)},ArrayPrototypePop(J,q){return J.pop(q)},ArrayPrototypePush(J,q){return J.push(q)},ArrayPrototypeSlice(J,q,Z){return J.slice(q,Z)},Error,FunctionPrototypeCall(J,q,...Z){return J.call(q,...Z)},FunctionPrototypeSymbolHasInstance(J,q){return Function.prototype[Symbol.hasInstance].call(J,q)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(J,q){return Object.defineProperties(J,q)},ObjectDefineProperty(J,q,Z){return Object.defineProperty(J,q,Z)},ObjectGetOwnPropertyDescriptor(J,q){return Object.getOwnPropertyDescriptor(J,q)},ObjectKeys(J){return Object.keys(J)},ObjectSetPrototypeOf(J,q){return Object.setPrototypeOf(J,q)},Promise,PromisePrototypeCatch(J,q){return J.catch(q)},PromisePrototypeThen(J,q,Z){return J.then(q,Z)},PromiseReject(J){return Promise.reject(J)},PromiseResolve(J){return Promise.resolve(J)},ReflectApply:Reflect.apply,RegExpPrototypeTest(J,q){return J.test(q)},SafeSet:Set,String,StringPrototypeSlice(J,q,Z){return J.slice(q,Z)},StringPrototypeToLowerCase(J){return J.toLowerCase()},StringPrototypeToUpperCase(J){return J.toUpperCase()},StringPrototypeTrim(J){return J.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(J,q,Z){return J.set(q,Z)},Boolean,Uint8Array}}),D9=D1((N,K)=>{Y1(),K1(),q1(),K.exports={format(Y,...J){return Y.replace(/%([sdifj])/g,function(...[q,Z]){let U=J.shift();return Z==="f"?U.toFixed(6):Z==="j"?JSON.stringify(U):Z==="s"&&typeof U=="object"?`${U.constructor!==Object?U.constructor.name:""} {}`.trim():U.toString()})},inspect(Y){switch(typeof Y){case"string":if(Y.includes("'"))if(Y.includes('"')){if(!Y.includes("`")&&!Y.includes("${"))return`\`${Y}\``}else return`"${Y}"`;return`'${Y}'`;case"number":return isNaN(Y)?"NaN":Object.is(Y,-0)?String(Y):Y;case"bigint":return`${String(Y)}n`;case"boolean":case"undefined":return String(Y);case"object":return"{}"}}}}),a1=D1((N,K)=>{Y1(),K1(),q1();var{format:Y,inspect:J}=D9(),{AggregateError:q}=S1(),Z=globalThis.AggregateError||q,U=Symbol("kIsNodeError"),M=["string","function","number","object","Function","Object","boolean","bigint","symbol"],L=/^([A-Z][a-z0-9]*)+$/,X="__node_internal_",G={};function F(Q,j){if(!Q)throw new G.ERR_INTERNAL_ASSERTION(j)}function D(Q){let j="",I=Q.length,W=Q[0]==="-"?1:0;for(;I>=W+4;I-=3)j=`_${Q.slice(I-3,I)}${j}`;return`${Q.slice(0,I)}${j}`}function C(Q,j,I){if(typeof j=="function")return F(j.length<=I.length,`Code: ${Q}; The provided arguments length (${I.length}) does not match the required ones (${j.length}).`),j(...I);let W=(j.match(/%[dfijoOs]/g)||[]).length;return F(W===I.length,`Code: ${Q}; The provided arguments length (${I.length}) does not match the required ones (${W}).`),I.length===0?j:Y(j,...I)}function H(Q,j,I){I||(I=Error);class W extends I{constructor(...x){super(C(Q,j,x))}toString(){return`${this.name} [${Q}]: ${this.message}`}}Object.defineProperties(W.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),W.prototype.code=Q,W.prototype[U]=!0,G[Q]=W}function $(Q){let j=X+Q.name;return Object.defineProperty(Q,"name",{value:j}),Q}function V(Q,j){if(Q&&j&&Q!==j){if(Array.isArray(j.errors))return j.errors.push(Q),j;let I=new Z([j,Q],j.message);return I.code=j.code,I}return Q||j}var A=class extends Error{constructor(Q="The operation was aborted",j=void 0){if(j!==void 0&&typeof j!="object")throw new G.ERR_INVALID_ARG_TYPE("options","Object",j);super(Q,j),this.code="ABORT_ERR",this.name="AbortError"}};H("ERR_ASSERTION","%s",Error),H("ERR_INVALID_ARG_TYPE",(Q,j,I)=>{F(typeof Q=="string","'name' must be a string"),Array.isArray(j)||(j=[j]);let W="The ";Q.endsWith(" argument")?W+=`${Q} `:W+=`"${Q}" ${Q.includes(".")?"property":"argument"} `,W+="must be ";let x=[],O=[],B=[];for(let v of j)F(typeof v=="string","All expected entries have to be of type string"),M.includes(v)?x.push(v.toLowerCase()):L.test(v)?O.push(v):(F(v!=="object",'The value "object" should be written as "Object"'),B.push(v));if(O.length>0){let v=x.indexOf("object");v!==-1&&(x.splice(x,v,1),O.push("Object"))}if(x.length>0){switch(x.length){case 1:W+=`of type ${x[0]}`;break;case 2:W+=`one of type ${x[0]} or ${x[1]}`;break;default:{let v=x.pop();W+=`one of type ${x.join(", ")}, or ${v}`}}(O.length>0||B.length>0)&&(W+=" or ")}if(O.length>0){switch(O.length){case 1:W+=`an instance of ${O[0]}`;break;case 2:W+=`an instance of ${O[0]} or ${O[1]}`;break;default:{let v=O.pop();W+=`an instance of ${O.join(", ")}, or ${v}`}}B.length>0&&(W+=" or ")}switch(B.length){case 0:break;case 1:B[0].toLowerCase()!==B[0]&&(W+="an "),W+=`${B[0]}`;break;case 2:W+=`one of ${B[0]} or ${B[1]}`;break;default:{let v=B.pop();W+=`one of ${B.join(", ")}, or ${v}`}}if(I==null)W+=`. Received ${I}`;else if(typeof I=="function"&&I.name)W+=`. Received function ${I.name}`;else if(typeof I=="object"){var E;if((E=I.constructor)!==null&&E!==void 0&&E.name)W+=`. Received an instance of ${I.constructor.name}`;else{let v=J(I,{depth:-1});W+=`. Received ${v}`}}else{let v=J(I,{colors:!1});v.length>25&&(v=`${v.slice(0,25)}...`),W+=`. Received type ${typeof I} (${v})`}return W},TypeError),H("ERR_INVALID_ARG_VALUE",(Q,j,I="is invalid")=>{let W=J(j);return W.length>128&&(W=W.slice(0,128)+"..."),`The ${Q.includes(".")?"property":"argument"} '${Q}' ${I}. Received ${W}`},TypeError),H("ERR_INVALID_RETURN_VALUE",(Q,j,I)=>{var W;let x=I!=null&&(W=I.constructor)!==null&&W!==void 0&&W.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${Q} to be returned from the "${j}" function but got ${x}.`},TypeError),H("ERR_MISSING_ARGS",(...Q)=>{F(Q.length>0,"At least one arg needs to be specified");let j,I=Q.length;switch(Q=(Array.isArray(Q)?Q:[Q]).map((W)=>`"${W}"`).join(" or "),I){case 1:j+=`The ${Q[0]} argument`;break;case 2:j+=`The ${Q[0]} and ${Q[1]} arguments`;break;default:{let W=Q.pop();j+=`The ${Q.join(", ")}, and ${W} arguments`}break}return`${j} must be specified`},TypeError),H("ERR_OUT_OF_RANGE",(Q,j,I)=>{F(j,'Missing "range" argument');let W;if(Number.isInteger(I)&&Math.abs(I)>4294967296)W=D(String(I));else if(typeof I=="bigint"){W=String(I);let x=BigInt(2)**BigInt(32);(I>x||I<-x)&&(W=D(W)),W+="n"}else W=J(I);return`The value of "${Q}" is out of range. It must be ${j}. Received ${W}`},RangeError),H("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),H("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),H("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),H("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),H("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),H("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),H("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),H("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),H("ERR_STREAM_WRITE_AFTER_END","write after end",Error),H("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),K.exports={AbortError:A,aggregateTwoErrors:$(V),hideStackFrames:$,codes:G}}),o8=D1((N,K)=>{Y1(),K1(),q1();var{AbortController:Y,AbortSignal:J}=typeof self<"u"?self:typeof window<"u"?window:void 0;K.exports=Y,K.exports.AbortSignal=J,K.exports.default=Y}),W8={};d8(W8,{EventEmitter:()=>$9,default:()=>v8,defaultMaxListeners:()=>V9,init:()=>N9,listenerCount:()=>C9,on:()=>W9,once:()=>H9});function w7(){if(y4)return g8;y4=!0;var N=typeof Reflect=="object"?Reflect:null,K=N&&typeof N.apply=="function"?N.apply:function(I,W,x){return Function.prototype.apply.call(I,W,x)},Y;N&&typeof N.ownKeys=="function"?Y=N.ownKeys:Object.getOwnPropertySymbols?Y=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:Y=function(I){return Object.getOwnPropertyNames(I)};function J(I){console&&console.warn&&console.warn(I)}var q=Number.isNaN||function(I){return I!==I};function Z(){Z.init.call(this)}g8=Z,g8.once=A,Z.EventEmitter=Z,Z.prototype._events=void 0,Z.prototype._eventsCount=0,Z.prototype._maxListeners=void 0;var U=10;function M(I){if(typeof I!="function")throw TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(Z,"defaultMaxListeners",{enumerable:!0,get:function(){return U},set:function(I){if(typeof I!="number"||I<0||q(I))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");U=I}}),Z.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Z.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||q(I))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function L(I){return I._maxListeners===void 0?Z.defaultMaxListeners:I._maxListeners}Z.prototype.getMaxListeners=function(){return L(this)},Z.prototype.emit=function(I){for(var W=[],x=1;x<arguments.length;x++)W.push(arguments[x]);var O=I==="error",B=this._events;if(B!==void 0)O=O&&B.error===void 0;else if(!O)return!1;if(O){var E;if(W.length>0&&(E=W[0]),E instanceof Error)throw E;var v=Error("Unhandled error."+(E?" ("+E.message+")":""));throw v.context=E,v}var h=B[I];if(h===void 0)return!1;if(typeof h=="function")K(h,this,W);else for(var P=h.length,c=H(h,P),x=0;x<P;++x)K(c[x],this,W);return!0};function X(I,W,x,O){var B,E,v;if(M(x),E=I._events,E===void 0?(E=I._events=Object.create(null),I._eventsCount=0):(E.newListener!==void 0&&(I.emit("newListener",W,x.listener?x.listener:x),E=I._events),v=E[W]),v===void 0)v=E[W]=x,++I._eventsCount;else if(typeof v=="function"?v=E[W]=O?[x,v]:[v,x]:O?v.unshift(x):v.push(x),B=L(I),B>0&&v.length>B&&!v.warned){v.warned=!0;var h=Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(W)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=I,h.type=W,h.count=v.length,J(h)}return I}Z.prototype.addListener=function(I,W){return X(this,I,W,!1)},Z.prototype.on=Z.prototype.addListener,Z.prototype.prependListener=function(I,W){return X(this,I,W,!0)};function G(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F(I,W,x){var O={fired:!1,wrapFn:void 0,target:I,type:W,listener:x},B=G.bind(O);return B.listener=x,O.wrapFn=B,B}Z.prototype.once=function(I,W){return M(W),this.on(I,F(this,I,W)),this},Z.prototype.prependOnceListener=function(I,W){return M(W),this.prependListener(I,F(this,I,W)),this},Z.prototype.removeListener=function(I,W){var x,O,B,E,v;if(M(W),O=this._events,O===void 0)return this;if(x=O[I],x===void 0)return this;if(x===W||x.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete O[I],O.removeListener&&this.emit("removeListener",I,x.listener||W));else if(typeof x!="function"){for(B=-1,E=x.length-1;E>=0;E--)if(x[E]===W||x[E].listener===W){v=x[E].listener,B=E;break}if(B<0)return this;B===0?x.shift():$(x,B),x.length===1&&(O[I]=x[0]),O.removeListener!==void 0&&this.emit("removeListener",I,v||W)}return this},Z.prototype.off=Z.prototype.removeListener,Z.prototype.removeAllListeners=function(I){var W,x,O;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[I]),this;if(arguments.length===0){var B=Object.keys(x),E;for(O=0;O<B.length;++O)E=B[O],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=x[I],typeof W=="function")this.removeListener(I,W);else if(W!==void 0)for(O=W.length-1;O>=0;O--)this.removeListener(I,W[O]);return this};function D(I,W,x){var O=I._events;if(O===void 0)return[];var B=O[W];return B===void 0?[]:typeof B=="function"?x?[B.listener||B]:[B]:x?V(B):H(B,B.length)}Z.prototype.listeners=function(I){return D(this,I,!0)},Z.prototype.rawListeners=function(I){return D(this,I,!1)},Z.listenerCount=function(I,W){return typeof I.listenerCount=="function"?I.listenerCount(W):C.call(I,W)},Z.prototype.listenerCount=C;function C(I){var W=this._events;if(W!==void 0){var x=W[I];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}Z.prototype.eventNames=function(){return this._eventsCount>0?Y(this._events):[]};function H(I,W){for(var x=Array(W),O=0;O<W;++O)x[O]=I[O];return x}function $(I,W){for(;W+1<I.length;W++)I[W]=I[W+1];I.pop()}function V(I){for(var W=Array(I.length),x=0;x<W.length;++x)W[x]=I[x].listener||I[x];return W}function A(I,W){return new Promise(function(x,O){function B(v){I.removeListener(W,E),O(v)}function E(){typeof I.removeListener=="function"&&I.removeListener("error",B),x([].slice.call(arguments))}j(I,W,E,{once:!0}),W!=="error"&&Q(I,B,{once:!0})})}function Q(I,W,x){typeof I.on=="function"&&j(I,"error",W,x)}function j(I,W,x,O){if(typeof I.on=="function")O.once?I.once(W,x):I.on(W,x);else if(typeof I.addEventListener=="function")I.addEventListener(W,function B(E){O.once&&I.removeEventListener(W,B),x(E)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return g8}var g8,y4,v8,$9,V9,N9,C9,W9,H9,R8=g1(()=>{Y1(),K1(),q1(),g8={},y4=!1,v8=w7(),v8.once,v8.once=function(N,K){return new Promise((Y,J)=>{function q(...U){Z!==void 0&&N.removeListener("error",Z),Y(U)}let Z;K!=="error"&&(Z=(U)=>{N.removeListener(name,q),J(U)},N.once("error",Z)),N.once(K,q)})},v8.on=function(N,K){let Y=[],J=[],q=null,Z=!1,U={async next(){let X=Y.shift();if(X)return createIterResult(X,!1);if(q){let G=Promise.reject(q);return q=null,G}return Z?createIterResult(void 0,!0):new Promise((G,F)=>J.push({resolve:G,reject:F}))},async return(){N.removeListener(K,M),N.removeListener("error",L),Z=!0;for(let X of J)X.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(X){q=X,N.removeListener(K,M),N.removeListener("error",L)},[Symbol.asyncIterator](){return this}};return N.on(K,M),N.on("error",L),U;function M(...X){let G=J.shift();G?G.resolve(createIterResult(X,!1)):Y.push(X)}function L(X){Z=!0;let G=J.shift();G?G.reject(X):q=X,U.return()}},{EventEmitter:$9,defaultMaxListeners:V9,init:N9,listenerCount:C9,on:W9,once:H9}=v8}),y1=D1((N,K)=>{Y1(),K1(),q1();var Y=(w1(),m1(p1)),{format:J,inspect:q}=D9(),{codes:{ERR_INVALID_ARG_TYPE:Z}}=a1(),{kResistStopPropagation:U,AggregateError:M,SymbolDispose:L}=S1(),X=globalThis.AbortSignal||o8().AbortSignal,G=globalThis.AbortController||o8().AbortController,F=Object.getPrototypeOf(async function(){}).constructor,D=globalThis.Blob||Y.Blob,C=typeof D<"u"?function(V){return V instanceof D}:function(V){return!1},H=(V,A)=>{if(V!==void 0&&(V===null||typeof V!="object"||!("aborted"in V)))throw new Z(A,"AbortSignal",V)},$=(V,A)=>{if(typeof V!="function")throw new Z(A,"Function",V)};K.exports={AggregateError:M,kEmptyObject:Object.freeze({}),once(V){let A=!1;return function(...Q){A||(A=!0,V.apply(this,Q))}},createDeferredPromise:function(){let V,A;return{promise:new Promise((Q,j)=>{V=Q,A=j}),resolve:V,reject:A}},promisify(V){return new Promise((A,Q)=>{V((j,...I)=>j?Q(j):A(...I))})},debuglog(){return function(){}},format:J,inspect:q,types:{isAsyncFunction(V){return V instanceof F},isArrayBufferView(V){return ArrayBuffer.isView(V)}},isBlob:C,deprecate(V,A){return V},addAbortListener:(R8(),m1(W8)).addAbortListener||function(V,A){if(V===void 0)throw new Z("signal","AbortSignal",V);H(V,"signal"),$(A,"listener");let Q;return V.aborted?queueMicrotask(()=>A()):(V.addEventListener("abort",A,{__proto__:null,once:!0,[U]:!0}),Q=()=>{V.removeEventListener("abort",A)}),{__proto__:null,[L](){var j;(j=Q)===null||j===void 0||j()}}},AbortSignalAny:X.any||function(V){if(V.length===1)return V[0];let A=new G,Q=()=>A.abort();return V.forEach((j)=>{H(j,"signals"),j.addEventListener("abort",Q,{once:!0})}),A.signal.addEventListener("abort",()=>{V.forEach((j)=>j.removeEventListener("abort",Q))},{once:!0}),A.signal}},K.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),u8=D1((N,K)=>{Y1(),K1(),q1();var{ArrayIsArray:Y,ArrayPrototypeIncludes:J,ArrayPrototypeJoin:q,ArrayPrototypeMap:Z,NumberIsInteger:U,NumberIsNaN:M,NumberMAX_SAFE_INTEGER:L,NumberMIN_SAFE_INTEGER:X,NumberParseInt:G,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:D,String:C,StringPrototypeToUpperCase:H,StringPrototypeTrim:$}=S1(),{hideStackFrames:V,codes:{ERR_SOCKET_BAD_PORT:A,ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_ARG_VALUE:j,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:W}}=a1(),{normalizeEncoding:x}=y1(),{isAsyncFunction:O,isArrayBufferView:B}=y1().types,E={};function v(a){return a===(a|0)}function h(a){return a===a>>>0}var P=/^[0-7]+$/,c="must be a 32-bit unsigned integer or an octal string";function y(a,$1,k1){if(typeof a>"u"&&(a=k1),typeof a=="string"){if(D(P,a)===null)throw new j($1,a,c);a=G(a,8)}return t(a,$1),a}var w=V((a,$1,k1=X,V1=L)=>{if(typeof a!="number")throw new Q($1,"number",a);if(!U(a))throw new I($1,"an integer",a);if(a<k1||a>V1)throw new I($1,`>= ${k1} && <= ${V1}`,a)}),G1=V((a,$1,k1=-2147483648,V1=2147483647)=>{if(typeof a!="number")throw new Q($1,"number",a);if(!U(a))throw new I($1,"an integer",a);if(a<k1||a>V1)throw new I($1,`>= ${k1} && <= ${V1}`,a)}),t=V((a,$1,k1=!1)=>{if(typeof a!="number")throw new Q($1,"number",a);if(!U(a))throw new I($1,"an integer",a);let V1=k1?1:0,I1=4294967295;if(a<V1||a>I1)throw new I($1,`>= ${V1} && <= ${I1}`,a)});function g(a,$1){if(typeof a!="string")throw new Q($1,"string",a)}function Z1(a,$1,k1=void 0,V1){if(typeof a!="number")throw new Q($1,"number",a);if(k1!=null&&a<k1||V1!=null&&a>V1||(k1!=null||V1!=null)&&M(a))throw new I($1,`${k1!=null?`>= ${k1}`:""}${k1!=null&&V1!=null?" && ":""}${V1!=null?`<= ${V1}`:""}`,a)}var f=V((a,$1,k1)=>{if(!J(k1,a)){let V1="must be one of: "+q(Z(k1,(I1)=>typeof I1=="string"?`'${I1}'`:C(I1)),", ");throw new j($1,a,V1)}});function e(a,$1){if(typeof a!="boolean")throw new Q($1,"boolean",a)}function m(a,$1,k1){return a==null||!F(a,$1)?k1:a[$1]}var n=V((a,$1,k1=null)=>{let V1=m(k1,"allowArray",!1),I1=m(k1,"allowFunction",!1);if(!m(k1,"nullable",!1)&&a===null||!V1&&Y(a)||typeof a!="object"&&(!I1||typeof a!="function"))throw new Q($1,"Object",a)}),C1=V((a,$1)=>{if(a!=null&&typeof a!="object"&&typeof a!="function")throw new Q($1,"a dictionary",a)}),U1=V((a,$1,k1=0)=>{if(!Y(a))throw new Q($1,"Array",a);if(a.length<k1){let V1=`must be longer than ${k1}`;throw new j($1,a,V1)}});function j1(a,$1){U1(a,$1);for(let k1=0;k1<a.length;k1++)g(a[k1],`${$1}[${k1}]`)}function l(a,$1){U1(a,$1);for(let k1=0;k1<a.length;k1++)e(a[k1],`${$1}[${k1}]`)}function p(a,$1){U1(a,$1);for(let k1=0;k1<a.length;k1++){let V1=a[k1],I1=`${$1}[${k1}]`;if(V1==null)throw new Q(I1,"AbortSignal",V1);N1(V1,I1)}}function X1(a,$1="signal"){if(g(a,$1),E[a]===void 0)throw E[H(a)]!==void 0?new W(a+" (signals must use all capital letters)"):new W(a)}var o=V((a,$1="buffer")=>{if(!B(a))throw new Q($1,["Buffer","TypedArray","DataView"],a)});function s(a,$1){let k1=x($1),V1=a.length;if(k1==="hex"&&V1%2!==0)throw new j("encoding",$1,`is invalid for data of length ${V1}`)}function i(a,$1="Port",k1=!0){if(typeof a!="number"&&typeof a!="string"||typeof a=="string"&&$(a).length===0||+a!==+a>>>0||a>65535||a===0&&!k1)throw new A($1,a,k1);return a|0}var N1=V((a,$1)=>{if(a!==void 0&&(a===null||typeof a!="object"||!("aborted"in a)))throw new Q($1,"AbortSignal",a)}),z1=V((a,$1)=>{if(typeof a!="function")throw new Q($1,"Function",a)}),S=V((a,$1)=>{if(typeof a!="function"||O(a))throw new Q($1,"Function",a)}),_=V((a,$1)=>{if(a!==void 0)throw new Q($1,"undefined",a)});function L1(a,$1,k1){if(!J(k1,a))throw new Q($1,`('${q(k1,"|")}')`,a)}var Q1=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function F1(a,$1){if(typeof a>"u"||!D(Q1,a))throw new j($1,a,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function W1(a){if(typeof a=="string")return F1(a,"hints"),a;if(Y(a)){let $1=a.length,k1="";if($1===0)return k1;for(let V1=0;V1<$1;V1++){let I1=a[V1];F1(I1,"hints"),k1+=I1,V1!==$1-1&&(k1+=", ")}return k1}throw new j("hints",a,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}K.exports={isInt32:v,isUint32:h,parseFileMode:y,validateArray:U1,validateStringArray:j1,validateBooleanArray:l,validateAbortSignalArray:p,validateBoolean:e,validateBuffer:o,validateDictionary:C1,validateEncoding:s,validateFunction:z1,validateInt32:G1,validateInteger:w,validateNumber:Z1,validateObject:n,validateOneOf:f,validatePlainFunction:S,validatePort:i,validateSignalName:X1,validateString:g,validateUint32:t,validateUndefined:_,validateUnion:L1,validateAbortSignal:N1,validateLinkHeaderValue:W1}}),B8=D1((N,K)=>{Y1(),K1(),q1();var Y=K.exports={},J,q;function Z(){throw Error("setTimeout has not been defined")}function U(){throw Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?J=setTimeout:J=Z}catch{J=Z}try{typeof clearTimeout=="function"?q=clearTimeout:q=U}catch{q=U}})();function M(A){if(J===setTimeout)return setTimeout(A,0);if((J===Z||!J)&&setTimeout)return J=setTimeout,setTimeout(A,0);try{return J(A,0)}catch{try{return J.call(null,A,0)}catch{return J.call(this,A,0)}}}function L(A){if(q===clearTimeout)return clearTimeout(A);if((q===U||!q)&&clearTimeout)return q=clearTimeout,clearTimeout(A);try{return q(A)}catch{try{return q.call(null,A)}catch{return q.call(this,A)}}}var X=[],G=!1,F,D=-1;function C(){!G||!F||(G=!1,F.length?X=F.concat(X):D=-1,X.length&&H())}function H(){if(!G){var A=M(C);G=!0;for(var Q=X.length;Q;){for(F=X,X=[];++D<Q;)F&&F[D].run();D=-1,Q=X.length}F=null,G=!1,L(A)}}Y.nextTick=function(A){var Q=Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)Q[j-1]=arguments[j];X.push(new $(A,Q)),X.length===1&&!G&&M(H)};function $(A,Q){this.fun=A,this.array=Q}$.prototype.run=function(){this.fun.apply(null,this.array)},Y.title="browser",Y.browser=!0,Y.env={},Y.argv=[],Y.version="",Y.versions={};function V(){}Y.on=V,Y.addListener=V,Y.once=V,Y.off=V,Y.removeListener=V,Y.removeAllListeners=V,Y.emit=V,Y.prependListener=V,Y.prependOnceListener=V,Y.listeners=function(A){return[]},Y.binding=function(A){throw Error("process.binding is not supported")},Y.cwd=function(){return"/"},Y.chdir=function(A){throw Error("process.chdir is not supported")},Y.umask=function(){return 0}}),K8=D1((N,K)=>{Y1(),K1(),q1();var{SymbolAsyncIterator:Y,SymbolIterator:J,SymbolFor:q}=S1(),Z=q("nodejs.stream.destroyed"),U=q("nodejs.stream.errored"),M=q("nodejs.stream.readable"),L=q("nodejs.stream.writable"),X=q("nodejs.stream.disturbed"),G=q("nodejs.webstream.isClosedPromise"),F=q("nodejs.webstream.controllerErrorFunction");function D(m,n=!1){var C1;return!!(m&&typeof m.pipe=="function"&&typeof m.on=="function"&&(!n||typeof m.pause=="function"&&typeof m.resume=="function")&&(!m._writableState||((C1=m._readableState)===null||C1===void 0?void 0:C1.readable)!==!1)&&(!m._writableState||m._readableState))}function C(m){var n;return!!(m&&typeof m.write=="function"&&typeof m.on=="function"&&(!m._readableState||((n=m._writableState)===null||n===void 0?void 0:n.writable)!==!1))}function H(m){return!!(m&&typeof m.pipe=="function"&&m._readableState&&typeof m.on=="function"&&typeof m.write=="function")}function $(m){return m&&(m._readableState||m._writableState||typeof m.write=="function"&&typeof m.on=="function"||typeof m.pipe=="function"&&typeof m.on=="function")}function V(m){return!!(m&&!$(m)&&typeof m.pipeThrough=="function"&&typeof m.getReader=="function"&&typeof m.cancel=="function")}function A(m){return!!(m&&!$(m)&&typeof m.getWriter=="function"&&typeof m.abort=="function")}function Q(m){return!!(m&&!$(m)&&typeof m.readable=="object"&&typeof m.writable=="object")}function j(m){return V(m)||A(m)||Q(m)}function I(m,n){return m==null?!1:n===!0?typeof m[Y]=="function":n===!1?typeof m[J]=="function":typeof m[Y]=="function"||typeof m[J]=="function"}function W(m){if(!$(m))return null;let{_writableState:n,_readableState:C1}=m,U1=n||C1;return!!(m.destroyed||m[Z]||U1!=null&&U1.destroyed)}function x(m){if(!C(m))return null;if(m.writableEnded===!0)return!0;let n=m._writableState;return n!=null&&n.errored?!1:typeof n?.ended!="boolean"?null:n.ended}function O(m,n){if(!C(m))return null;if(m.writableFinished===!0)return!0;let C1=m._writableState;return C1!=null&&C1.errored?!1:typeof C1?.finished!="boolean"?null:!!(C1.finished||n===!1&&C1.ended===!0&&C1.length===0)}function B(m){if(!D(m))return null;if(m.readableEnded===!0)return!0;let n=m._readableState;return!n||n.errored?!1:typeof n?.ended!="boolean"?null:n.ended}function E(m,n){if(!D(m))return null;let C1=m._readableState;return C1!=null&&C1.errored?!1:typeof C1?.endEmitted!="boolean"?null:!!(C1.endEmitted||n===!1&&C1.ended===!0&&C1.length===0)}function v(m){return m&&m[M]!=null?m[M]:typeof m?.readable!="boolean"?null:W(m)?!1:D(m)&&m.readable&&!E(m)}function h(m){return m&&m[L]!=null?m[L]:typeof m?.writable!="boolean"?null:W(m)?!1:C(m)&&m.writable&&!x(m)}function P(m,n){return $(m)?W(m)?!0:!(n?.readable!==!1&&v(m)||n?.writable!==!1&&h(m)):null}function c(m){var n,C1;return $(m)?m.writableErrored?m.writableErrored:(n=(C1=m._writableState)===null||C1===void 0?void 0:C1.errored)!==null&&n!==void 0?n:null:null}function y(m){var n,C1;return $(m)?m.readableErrored?m.readableErrored:(n=(C1=m._readableState)===null||C1===void 0?void 0:C1.errored)!==null&&n!==void 0?n:null:null}function w(m){if(!$(m))return null;if(typeof m.closed=="boolean")return m.closed;let{_writableState:n,_readableState:C1}=m;return typeof n?.closed=="boolean"||typeof C1?.closed=="boolean"?n?.closed||C1?.closed:typeof m._closed=="boolean"&&G1(m)?m._closed:null}function G1(m){return typeof m._closed=="boolean"&&typeof m._defaultKeepAlive=="boolean"&&typeof m._removedConnection=="boolean"&&typeof m._removedContLen=="boolean"}function t(m){return typeof m._sent100=="boolean"&&G1(m)}function g(m){var n;return typeof m._consuming=="boolean"&&typeof m._dumped=="boolean"&&((n=m.req)===null||n===void 0?void 0:n.upgradeOrConnect)===void 0}function Z1(m){if(!$(m))return null;let{_writableState:n,_readableState:C1}=m,U1=n||C1;return!U1&&t(m)||!!(U1&&U1.autoDestroy&&U1.emitClose&&U1.closed===!1)}function f(m){var n;return!!(m&&((n=m[X])!==null&&n!==void 0?n:m.readableDidRead||m.readableAborted))}function e(m){var n,C1,U1,j1,l,p,X1,o,s,i;return!!(m&&((n=(C1=(U1=(j1=(l=(p=m[U])!==null&&p!==void 0?p:m.readableErrored)!==null&&l!==void 0?l:m.writableErrored)!==null&&j1!==void 0?j1:(X1=m._readableState)===null||X1===void 0?void 0:X1.errorEmitted)!==null&&U1!==void 0?U1:(o=m._writableState)===null||o===void 0?void 0:o.errorEmitted)!==null&&C1!==void 0?C1:(s=m._readableState)===null||s===void 0?void 0:s.errored)!==null&&n!==void 0?n:!((i=m._writableState)===null||i===void 0)&&i.errored))}K.exports={isDestroyed:W,kIsDestroyed:Z,isDisturbed:f,kIsDisturbed:X,isErrored:e,kIsErrored:U,isReadable:v,kIsReadable:M,kIsClosedPromise:G,kControllerErrorFunction:F,kIsWritable:L,isClosed:w,isDuplexNodeStream:H,isFinished:P,isIterable:I,isReadableNodeStream:D,isReadableStream:V,isReadableEnded:B,isReadableFinished:E,isReadableErrored:y,isNodeStream:$,isWebStream:j,isWritable:h,isWritableNodeStream:C,isWritableStream:A,isWritableEnded:x,isWritableFinished:O,isWritableErrored:c,isServerRequest:g,isServerResponse:t,willEmitClose:Z1,isTransformStream:Q}}),H8=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),{AbortError:J,codes:q}=a1(),{ERR_INVALID_ARG_TYPE:Z,ERR_STREAM_PREMATURE_CLOSE:U}=q,{kEmptyObject:M,once:L}=y1(),{validateAbortSignal:X,validateFunction:G,validateObject:F,validateBoolean:D}=u8(),{Promise:C,PromisePrototypeThen:H,SymbolDispose:$}=S1(),{isClosed:V,isReadable:A,isReadableNodeStream:Q,isReadableStream:j,isReadableFinished:I,isReadableErrored:W,isWritable:x,isWritableNodeStream:O,isWritableStream:B,isWritableFinished:E,isWritableErrored:v,isNodeStream:h,willEmitClose:P,kIsClosedPromise:c}=K8(),y;function w(f){return f.setHeader&&typeof f.abort=="function"}var G1=()=>{};function t(f,e,m){var n,C1;if(arguments.length===2?(m=e,e=M):e==null?e=M:F(e,"options"),G(m,"callback"),X(e.signal,"options.signal"),m=L(m),j(f)||B(f))return g(f,e,m);if(!h(f))throw new Z("stream",["ReadableStream","WritableStream","Stream"],f);let U1=(n=e.readable)!==null&&n!==void 0?n:Q(f),j1=(C1=e.writable)!==null&&C1!==void 0?C1:O(f),l=f._writableState,p=f._readableState,X1=()=>{f.writable||i()},o=P(f)&&Q(f)===U1&&O(f)===j1,s=E(f,!1),i=()=>{s=!0,f.destroyed&&(o=!1),!(o&&(!f.readable||U1))&&(!U1||N1)&&m.call(f)},N1=I(f,!1),z1=()=>{N1=!0,f.destroyed&&(o=!1),!(o&&(!f.writable||j1))&&(!j1||s)&&m.call(f)},S=(a)=>{m.call(f,a)},_=V(f),L1=()=>{_=!0;let a=v(f)||W(f);if(a&&typeof a!="boolean")return m.call(f,a);if(U1&&!N1&&Q(f,!0)&&!I(f,!1))return m.call(f,new U);if(j1&&!s&&!E(f,!1))return m.call(f,new U);m.call(f)},Q1=()=>{_=!0;let a=v(f)||W(f);if(a&&typeof a!="boolean")return m.call(f,a);m.call(f)},F1=()=>{f.req.on("finish",i)};w(f)?(f.on("complete",i),o||f.on("abort",L1),f.req?F1():f.on("request",F1)):j1&&!l&&(f.on("end",X1),f.on("close",X1)),!o&&typeof f.aborted=="boolean"&&f.on("aborted",L1),f.on("end",z1),f.on("finish",i),e.error!==!1&&f.on("error",S),f.on("close",L1),_?Y.nextTick(L1):l!=null&&l.errorEmitted||p!=null&&p.errorEmitted?o||Y.nextTick(Q1):(!U1&&(!o||A(f))&&(s||x(f)===!1)||!j1&&(!o||x(f))&&(N1||A(f)===!1)||p&&f.req&&f.aborted)&&Y.nextTick(Q1);let W1=()=>{m=G1,f.removeListener("aborted",L1),f.removeListener("complete",i),f.removeListener("abort",L1),f.removeListener("request",F1),f.req&&f.req.removeListener("finish",i),f.removeListener("end",X1),f.removeListener("close",X1),f.removeListener("finish",i),f.removeListener("end",z1),f.removeListener("error",S),f.removeListener("close",L1)};if(e.signal&&!_){let a=()=>{let $1=m;W1(),$1.call(f,new J(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Y.nextTick(a);else{y=y||y1().addAbortListener;let $1=y(e.signal,a),k1=m;m=L((...V1)=>{$1[$](),k1.apply(f,V1)})}}return W1}function g(f,e,m){let n=!1,C1=G1;if(e.signal)if(C1=()=>{n=!0,m.call(f,new J(void 0,{cause:e.signal.reason}))},e.signal.aborted)Y.nextTick(C1);else{y=y||y1().addAbortListener;let j1=y(e.signal,C1),l=m;m=L((...p)=>{j1[$](),l.apply(f,p)})}let U1=(...j1)=>{n||Y.nextTick(()=>m.apply(f,j1))};return H(f[c].promise,U1,U1),G1}function Z1(f,e){var m;let n=!1;return e===null&&(e=M),(m=e)!==null&&m!==void 0&&m.cleanup&&(D(e.cleanup,"cleanup"),n=e.cleanup),new C((C1,U1)=>{let j1=t(f,e,(l)=>{n&&j1(),l?U1(l):C1()})})}K.exports=t,K.exports.finished=Z1}),p8=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),{aggregateTwoErrors:J,codes:{ERR_MULTIPLE_CALLBACK:q},AbortError:Z}=a1(),{Symbol:U}=S1(),{kIsDestroyed:M,isDestroyed:L,isFinished:X,isServerRequest:G}=K8(),F=U("kDestroy"),D=U("kConstruct");function C(P,c,y){P&&(P.stack,c&&!c.errored&&(c.errored=P),y&&!y.errored&&(y.errored=P))}function H(P,c){let y=this._readableState,w=this._writableState,G1=w||y;return w!=null&&w.destroyed||y!=null&&y.destroyed?(typeof c=="function"&&c(),this):(C(P,w,y),w&&(w.destroyed=!0),y&&(y.destroyed=!0),G1.constructed?$(this,P,c):this.once(F,function(t){$(this,J(t,P),c)}),this)}function $(P,c,y){let w=!1;function G1(t){if(w)return;w=!0;let{_readableState:g,_writableState:Z1}=P;C(t,Z1,g),Z1&&(Z1.closed=!0),g&&(g.closed=!0),typeof y=="function"&&y(t),t?Y.nextTick(V,P,t):Y.nextTick(A,P)}try{P._destroy(c||null,G1)}catch(t){G1(t)}}function V(P,c){Q(P,c),A(P)}function A(P){let{_readableState:c,_writableState:y}=P;y&&(y.closeEmitted=!0),c&&(c.closeEmitted=!0),(y!=null&&y.emitClose||c!=null&&c.emitClose)&&P.emit("close")}function Q(P,c){let{_readableState:y,_writableState:w}=P;w!=null&&w.errorEmitted||y!=null&&y.errorEmitted||(w&&(w.errorEmitted=!0),y&&(y.errorEmitted=!0),P.emit("error",c))}function j(){let P=this._readableState,c=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),c&&(c.constructed=!0,c.destroyed=!1,c.closed=!1,c.closeEmitted=!1,c.errored=null,c.errorEmitted=!1,c.finalCalled=!1,c.prefinished=!1,c.ended=c.writable===!1,c.ending=c.writable===!1,c.finished=c.writable===!1)}function I(P,c,y){let{_readableState:w,_writableState:G1}=P;if(G1!=null&&G1.destroyed||w!=null&&w.destroyed)return this;w!=null&&w.autoDestroy||G1!=null&&G1.autoDestroy?P.destroy(c):c&&(c.stack,G1&&!G1.errored&&(G1.errored=c),w&&!w.errored&&(w.errored=c),y?Y.nextTick(Q,P,c):Q(P,c))}function W(P,c){if(typeof P._construct!="function")return;let{_readableState:y,_writableState:w}=P;y&&(y.constructed=!1),w&&(w.constructed=!1),P.once(D,c),!(P.listenerCount(D)>1)&&Y.nextTick(x,P)}function x(P){let c=!1;function y(w){if(c){I(P,w??new q);return}c=!0;let{_readableState:G1,_writableState:t}=P,g=t||G1;G1&&(G1.constructed=!0),t&&(t.constructed=!0),g.destroyed?P.emit(F,w):w?I(P,w,!0):Y.nextTick(O,P)}try{P._construct((w)=>{Y.nextTick(y,w)})}catch(w){Y.nextTick(y,w)}}function O(P){P.emit(D)}function B(P){return P?.setHeader&&typeof P.abort=="function"}function E(P){P.emit("close")}function v(P,c){P.emit("error",c),Y.nextTick(E,P)}function h(P,c){!P||L(P)||(!c&&!X(P)&&(c=new Z),G(P)?(P.socket=null,P.destroy(c)):B(P)?P.abort():B(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(c):typeof P.close=="function"?P.close():c?Y.nextTick(v,P,c):Y.nextTick(E,P),P.destroyed||(P[M]=!0))}K.exports={construct:W,destroyer:h,destroy:H,undestroy:j,errorOrDestroy:I}}),d5=D1((N,K)=>{Y1(),K1(),q1();var{ArrayIsArray:Y,ObjectSetPrototypeOf:J}=S1(),{EventEmitter:q}=(R8(),m1(W8));function Z(M){q.call(this,M)}J(Z.prototype,q.prototype),J(Z,q),Z.prototype.pipe=function(M,L){let X=this;function G(A){M.writable&&M.write(A)===!1&&X.pause&&X.pause()}X.on("data",G);function F(){X.readable&&X.resume&&X.resume()}M.on("drain",F),!M._isStdio&&(!L||L.end!==!1)&&(X.on("end",C),X.on("close",H));let D=!1;function C(){D||(D=!0,M.end())}function H(){D||(D=!0,typeof M.destroy=="function"&&M.destroy())}function $(A){V(),q.listenerCount(this,"error")===0&&this.emit("error",A)}U(X,"error",$),U(M,"error",$);function V(){X.removeListener("data",G),M.removeListener("drain",F),X.removeListener("end",C),X.removeListener("close",H),X.removeListener("error",$),M.removeListener("error",$),X.removeListener("end",V),X.removeListener("close",V),M.removeListener("close",V)}return X.on("end",V),X.on("close",V),M.on("close",V),M.emit("pipe",X),M};function U(M,L,X){if(typeof M.prependListener=="function")return M.prependListener(L,X);!M._events||!M._events[L]?M.on(L,X):Y(M._events[L])?M._events[L].unshift(X):M._events[L]=[X,M._events[L]]}K.exports={Stream:Z,prependListener:U}}),B6=D1((N,K)=>{Y1(),K1(),q1();var{SymbolDispose:Y}=S1(),{AbortError:J,codes:q}=a1(),{isNodeStream:Z,isWebStream:U,kControllerErrorFunction:M}=K8(),L=H8(),{ERR_INVALID_ARG_TYPE:X}=q,G,F=(D,C)=>{if(typeof D!="object"||!("aborted"in D))throw new X(C,"AbortSignal",D)};K.exports.addAbortSignal=function(D,C){if(F(D,"signal"),!Z(C)&&!U(C))throw new X("stream",["ReadableStream","WritableStream","Stream"],C);return K.exports.addAbortSignalNoValidate(D,C)},K.exports.addAbortSignalNoValidate=function(D,C){if(typeof D!="object"||!("aborted"in D))return C;let H=Z(C)?()=>{C.destroy(new J(void 0,{cause:D.reason}))}:()=>{C[M](new J(void 0,{cause:D.reason}))};if(D.aborted)H();else{G=G||y1().addAbortListener;let $=G(D,H);L(C,$[Y])}return C}}),h7=D1((N,K)=>{Y1(),K1(),q1();var{StringPrototypeSlice:Y,SymbolIterator:J,TypedArrayPrototypeSet:q,Uint8Array:Z}=S1(),{Buffer:U}=(w1(),m1(p1)),{inspect:M}=y1();K.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(L){let X={data:L,next:null};this.length>0?this.tail.next=X:this.head=X,this.tail=X,++this.length}unshift(L){let X={data:L,next:this.head};this.length===0&&(this.tail=X),this.head=X,++this.length}shift(){if(this.length===0)return;let L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}clear(){this.head=this.tail=null,this.length=0}join(L){if(this.length===0)return"";let X=this.head,G=""+X.data;for(;(X=X.next)!==null;)G+=L+X.data;return G}concat(L){if(this.length===0)return U.alloc(0);let X=U.allocUnsafe(L>>>0),G=this.head,F=0;for(;G;)q(X,G.data,F),F+=G.data.length,G=G.next;return X}consume(L,X){let G=this.head.data;if(L<G.length){let F=G.slice(0,L);return this.head.data=G.slice(L),F}return L===G.length?this.shift():X?this._getString(L):this._getBuffer(L)}first(){return this.head.data}*[J](){for(let L=this.head;L;L=L.next)yield L.data}_getString(L){let X="",G=this.head,F=0;do{let D=G.data;if(L>D.length)X+=D,L-=D.length;else{L===D.length?(X+=D,++F,G.next?this.head=G.next:this.head=this.tail=null):(X+=Y(D,0,L),this.head=G,G.data=Y(D,L));break}++F}while((G=G.next)!==null);return this.length-=F,X}_getBuffer(L){let X=U.allocUnsafe(L),G=L,F=this.head,D=0;do{let C=F.data;if(L>C.length)q(X,C,G-L),L-=C.length;else{L===C.length?(q(X,C,G-L),++D,F.next?this.head=F.next:this.head=this.tail=null):(q(X,new Z(C.buffer,C.byteOffset,L),G-L),this.head=F,F.data=C.slice(L));break}++D}while((F=F.next)!==null);return this.length-=D,X}[Symbol.for("nodejs.util.inspect.custom")](L,X){return M(this,{...X,depth:0,customInspect:!1})}}}),P6=D1((N,K)=>{Y1(),K1(),q1();var{MathFloor:Y,NumberIsInteger:J}=S1(),{validateInteger:q}=u8(),{ERR_INVALID_ARG_VALUE:Z}=a1().codes,U=16384,M=16;function L(D,C,H){return D.highWaterMark!=null?D.highWaterMark:C?D[H]:null}function X(D){return D?M:U}function G(D,C){q(C,"value",0),D?M=C:U=C}function F(D,C,H,$){let V=L(C,$,H);if(V!=null){if(!J(V)||V<0){let A=$?`options.${H}`:"options.highWaterMark";throw new Z(A,V)}return Y(V)}return X(D.objectMode)}K.exports={getHighWaterMark:F,getDefaultHighWaterMark:X,setDefaultHighWaterMark:G}}),c7=D1((N,K)=>{Y1(),K1(),q1();var Y=(w1(),m1(p1)),J=Y.Buffer;function q(U,M){for(var L in U)M[L]=U[L]}J.from&&J.alloc&&J.allocUnsafe&&J.allocUnsafeSlow?K.exports=Y:(q(Y,N),N.Buffer=Z);function Z(U,M,L){return J(U,M,L)}Z.prototype=Object.create(J.prototype),q(J,Z),Z.from=function(U,M,L){if(typeof U=="number")throw TypeError("Argument must not be a number");return J(U,M,L)},Z.alloc=function(U,M,L){if(typeof U!="number")throw TypeError("Argument must be a number");var X=J(U);return M!==void 0?typeof L=="string"?X.fill(M,L):X.fill(M):X.fill(0),X},Z.allocUnsafe=function(U){if(typeof U!="number")throw TypeError("Argument must be a number");return J(U)},Z.allocUnsafeSlow=function(U){if(typeof U!="number")throw TypeError("Argument must be a number");return Y.SlowBuffer(U)}}),f7=D1((N)=>{Y1(),K1(),q1();var K=c7().Buffer,Y=K.isEncoding||function(Q){switch(Q=""+Q,Q&&Q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function J(Q){if(!Q)return"utf8";for(var j;;)switch(Q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Q;default:if(j)return;Q=(""+Q).toLowerCase(),j=!0}}function q(Q){var j=J(Q);if(typeof j!="string"&&(K.isEncoding===Y||!Y(Q)))throw Error("Unknown encoding: "+Q);return j||Q}N.StringDecoder=Z;function Z(Q){this.encoding=q(Q);var j;switch(this.encoding){case"utf16le":this.text=D,this.end=C,j=4;break;case"utf8":this.fillLast=X,j=4;break;case"base64":this.text=H,this.end=$,j=3;break;default:this.write=V,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=K.allocUnsafe(j)}Z.prototype.write=function(Q){if(Q.length===0)return"";var j,I;if(this.lastNeed){if(j=this.fillLast(Q),j===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<Q.length?j?j+this.text(Q,I):this.text(Q,I):j||""},Z.prototype.end=F,Z.prototype.text=G,Z.prototype.fillLast=function(Q){if(this.lastNeed<=Q.length)return Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Q.length),this.lastNeed-=Q.length};function U(Q){return Q<=127?0:Q>>5===6?2:Q>>4===14?3:Q>>3===30?4:Q>>6===2?-1:-2}function M(Q,j,I){var W=j.length-1;if(W<I)return 0;var x=U(j[W]);return x>=0?(x>0&&(Q.lastNeed=x-1),x):--W<I||x===-2?0:(x=U(j[W]),x>=0?(x>0&&(Q.lastNeed=x-2),x):--W<I||x===-2?0:(x=U(j[W]),x>=0?(x>0&&(x===2?x=0:Q.lastNeed=x-3),x):0))}function L(Q,j,I){if((j[0]&192)!==128)return Q.lastNeed=0,"�";if(Q.lastNeed>1&&j.length>1){if((j[1]&192)!==128)return Q.lastNeed=1,"�";if(Q.lastNeed>2&&j.length>2&&(j[2]&192)!==128)return Q.lastNeed=2,"�"}}function X(Q){var j=this.lastTotal-this.lastNeed,I=L(this,Q,j);if(I!==void 0)return I;if(this.lastNeed<=Q.length)return Q.copy(this.lastChar,j,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Q.copy(this.lastChar,j,0,Q.length),this.lastNeed-=Q.length}function G(Q,j){var I=M(this,Q,j);if(!this.lastNeed)return Q.toString("utf8",j);this.lastTotal=I;var W=Q.length-(I-this.lastNeed);return Q.copy(this.lastChar,0,W),Q.toString("utf8",j,W)}function F(Q){var j=Q&&Q.length?this.write(Q):"";return this.lastNeed?j+"�":j}function D(Q,j){if((Q.length-j)%2===0){var I=Q.toString("utf16le",j);if(I){var W=I.charCodeAt(I.length-1);if(W>=55296&&W<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Q[Q.length-1],Q.toString("utf16le",j,Q.length-1)}function C(Q){var j=Q&&Q.length?this.write(Q):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return j+this.lastChar.toString("utf16le",0,I)}return j}function H(Q,j){var I=(Q.length-j)%3;return I===0?Q.toString("base64",j):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=Q[Q.length-1]:(this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1]),Q.toString("base64",j,Q.length-I))}function $(Q){var j=Q&&Q.length?this.write(Q):"";return this.lastNeed?j+this.lastChar.toString("base64",0,3-this.lastNeed):j}function V(Q){return Q.toString(this.encoding)}function A(Q){return Q&&Q.length?this.write(Q):""}}),j9=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),{PromisePrototypeThen:J,SymbolAsyncIterator:q,SymbolIterator:Z}=S1(),{Buffer:U}=(w1(),m1(p1)),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:L}=a1().codes;function X(G,F,D){let C;if(typeof F=="string"||F instanceof U)return new G({objectMode:!0,...D,read(){this.push(F),this.push(null)}});let H;if(F&&F[q])H=!0,C=F[q]();else if(F&&F[Z])H=!1,C=F[Z]();else throw new M("iterable",["Iterable"],F);let $=new G({objectMode:!0,highWaterMark:1,...D}),V=!1;$._read=function(){V||(V=!0,Q())},$._destroy=function(j,I){J(A(j),()=>Y.nextTick(I,j),(W)=>Y.nextTick(I,W||j))};async function A(j){let I=j!=null,W=typeof C.throw=="function";if(I&&W){let{value:x,done:O}=await C.throw(j);if(await x,O)return}if(typeof C.return=="function"){let{value:x}=await C.return();await x}}async function Q(){for(;;){try{let{value:j,done:I}=H?await C.next():C.next();if(I)$.push(null);else{let W=j&&typeof j.then=="function"?await j:j;if(W===null)throw V=!1,new L;if($.push(W))continue;V=!1}}catch(j){$.destroy(j)}break}}return $}K.exports=X}),T6=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),{ArrayPrototypeIndexOf:J,NumberIsInteger:q,NumberIsNaN:Z,NumberParseInt:U,ObjectDefineProperties:M,ObjectKeys:L,ObjectSetPrototypeOf:X,Promise:G,SafeSet:F,SymbolAsyncDispose:D,SymbolAsyncIterator:C,Symbol:H}=S1();K.exports=V1,V1.ReadableState=k1;var{EventEmitter:$}=(R8(),m1(W8)),{Stream:V,prependListener:A}=d5(),{Buffer:Q}=(w1(),m1(p1)),{addAbortSignal:j}=B6(),I=H8(),W=y1().debuglog("stream",(T)=>{W=T}),x=h7(),O=p8(),{getHighWaterMark:B,getDefaultHighWaterMark:E}=P6(),{aggregateTwoErrors:v,codes:{ERR_INVALID_ARG_TYPE:h,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:c,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w},AbortError:G1}=a1(),{validateObject:t}=u8(),g=H("kPaused"),{StringDecoder:Z1}=f7(),f=j9();X(V1.prototype,V.prototype),X(V1,V);var e=()=>{},{errorOrDestroy:m}=O,n=1,C1=2,U1=4,j1=8,l=16,p=32,X1=64,o=128,s=256,i=512,N1=1024,z1=2048,S=4096,_=8192,L1=16384,Q1=32768,F1=65536,W1=131072,a=262144;function $1(T){return{enumerable:!1,get(){return(this.state&T)!==0},set(d){d?this.state|=T:this.state&=~T}}}M(k1.prototype,{objectMode:$1(n),ended:$1(C1),endEmitted:$1(U1),reading:$1(j1),constructed:$1(l),sync:$1(p),needReadable:$1(X1),emittedReadable:$1(o),readableListening:$1(s),resumeScheduled:$1(i),errorEmitted:$1(N1),emitClose:$1(z1),autoDestroy:$1(S),destroyed:$1(_),closed:$1(L1),closeEmitted:$1(Q1),multiAwaitDrain:$1(F1),readingMore:$1(W1),dataEmitted:$1(a)});function k1(T,d,A1){typeof A1!="boolean"&&(A1=d instanceof Y8()),this.state=z1|S|l|p,T&&T.objectMode&&(this.state|=n),A1&&T&&T.readableObjectMode&&(this.state|=n),this.highWaterMark=T?B(this,T,"readableHighWaterMark",A1):E(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[g]=null,T&&T.emitClose===!1&&(this.state&=~z1),T&&T.autoDestroy===!1&&(this.state&=~S),this.errored=null,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,T&&T.encoding&&(this.decoder=new Z1(T.encoding),this.encoding=T.encoding)}function V1(T){if(!(this instanceof V1))return new V1(T);let d=this instanceof Y8();this._readableState=new k1(T,this,d),T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&!d&&j(T.signal,this)),V.call(this,T),O.construct(this,()=>{this._readableState.needReadable&&u(this,this._readableState)})}V1.prototype.destroy=O.destroy,V1.prototype._undestroy=O.undestroy,V1.prototype._destroy=function(T,d){d(T)},V1.prototype[$.captureRejectionSymbol]=function(T){this.destroy(T)},V1.prototype[D]=function(){let T;return this.destroyed||(T=this.readableEnded?null:new G1,this.destroy(T)),new G((d,A1)=>I(this,(x1)=>x1&&x1!==T?A1(x1):d(null)))},V1.prototype.push=function(T,d){return I1(this,T,d,!1)},V1.prototype.unshift=function(T,d){return I1(this,T,d,!0)};function I1(T,d,A1,x1){W("readableAddChunk",d);let O1=T._readableState,d1;if((O1.state&n)===0&&(typeof d=="string"?(A1=A1||O1.defaultEncoding,O1.encoding!==A1&&(x1&&O1.encoding?d=Q.from(d,A1).toString(O1.encoding):(d=Q.from(d,A1),A1=""))):d instanceof Q?A1="":V._isUint8Array(d)?(d=V._uint8ArrayToBuffer(d),A1=""):d!=null&&(d1=new h("chunk",["string","Buffer","Uint8Array"],d))),d1)m(T,d1);else if(d===null)O1.state&=~j1,r(T,O1);else if((O1.state&n)!==0||d&&d.length>0)if(x1)if((O1.state&U1)!==0)m(T,new w);else{if(O1.destroyed||O1.errored)return!1;z(T,O1,d,!0)}else if(O1.ended)m(T,new y);else{if(O1.destroyed||O1.errored)return!1;O1.state&=~j1,O1.decoder&&!A1?(d=O1.decoder.write(d),O1.objectMode||d.length!==0?z(T,O1,d,!1):u(T,O1)):z(T,O1,d,!1)}else x1||(O1.state&=~j1,u(T,O1));return!O1.ended&&(O1.length<O1.highWaterMark||O1.length===0)}function z(T,d,A1,x1){d.flowing&&d.length===0&&!d.sync&&T.listenerCount("data")>0?((d.state&F1)!==0?d.awaitDrainWriters.clear():d.awaitDrainWriters=null,d.dataEmitted=!0,T.emit("data",A1)):(d.length+=d.objectMode?1:A1.length,x1?d.buffer.unshift(A1):d.buffer.push(A1),(d.state&X1)!==0&&J1(T)),u(T,d)}V1.prototype.isPaused=function(){let T=this._readableState;return T[g]===!0||T.flowing===!1},V1.prototype.setEncoding=function(T){let d=new Z1(T);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;let A1=this._readableState.buffer,x1="";for(let O1 of A1)x1+=d.write(O1);return A1.clear(),x1!==""&&A1.push(x1),this._readableState.length=x1.length,this};var k=1073741824;function R(T){if(T>k)throw new c("size","<= 1GiB",T);return T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++,T}function b(T,d){return T<=0||d.length===0&&d.ended?0:(d.state&n)!==0?1:Z(T)?d.flowing&&d.length?d.buffer.first().length:d.length:T<=d.length?T:d.ended?d.length:0}V1.prototype.read=function(T){W("read",T),T===void 0?T=NaN:q(T)||(T=U(T,10));let d=this._readableState,A1=T;if(T>d.highWaterMark&&(d.highWaterMark=R(T)),T!==0&&(d.state&=~o),T===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return W("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?t1(this):J1(this),null;if(T=b(T,d),T===0&&d.ended)return d.length===0&&t1(this),null;let x1=(d.state&X1)!==0;if(W("need readable",x1),(d.length===0||d.length-T<d.highWaterMark)&&(x1=!0,W("length less than watermark",x1)),d.ended||d.reading||d.destroyed||d.errored||!d.constructed)x1=!1,W("reading, ended or constructing",x1);else if(x1){W("do read"),d.state|=j1|p,d.length===0&&(d.state|=X1);try{this._read(d.highWaterMark)}catch(d1){m(this,d1)}d.state&=~p,d.reading||(T=b(A1,d))}let O1;return T>0?O1=T8(T,d):O1=null,O1===null?(d.needReadable=d.length<=d.highWaterMark,T=0):(d.length-=T,d.multiAwaitDrain?d.awaitDrainWriters.clear():d.awaitDrainWriters=null),d.length===0&&(d.ended||(d.needReadable=!0),A1!==T&&d.ended&&t1(this)),O1!==null&&!d.errorEmitted&&!d.closeEmitted&&(d.dataEmitted=!0,this.emit("data",O1)),O1};function r(T,d){if(W("onEofChunk"),!d.ended){if(d.decoder){let A1=d.decoder.end();A1&&A1.length&&(d.buffer.push(A1),d.length+=d.objectMode?1:A1.length)}d.ended=!0,d.sync?J1(T):(d.needReadable=!1,d.emittedReadable=!0,H1(T))}}function J1(T){let d=T._readableState;W("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(W("emitReadable",d.flowing),d.emittedReadable=!0,Y.nextTick(H1,T))}function H1(T){let d=T._readableState;W("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&!d.errored&&(d.length||d.ended)&&(T.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,n1(T)}function u(T,d){!d.readingMore&&d.constructed&&(d.readingMore=!0,Y.nextTick(M1,T,d))}function M1(T,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){let A1=d.length;if(W("maybeReadMore read 0"),T.read(0),A1===d.length)break}d.readingMore=!1}V1.prototype._read=function(T){throw new P("_read()")},V1.prototype.pipe=function(T,d){let A1=this,x1=this._readableState;x1.pipes.length===1&&(x1.multiAwaitDrain||(x1.multiAwaitDrain=!0,x1.awaitDrainWriters=new F(x1.awaitDrainWriters?[x1.awaitDrainWriters]:[]))),x1.pipes.push(T),W("pipe count=%d opts=%j",x1.pipes.length,d);let O1=(!d||d.end!==!1)&&T!==Y.stdout&&T!==Y.stderr?b1:A8;x1.endEmitted?Y.nextTick(O1):A1.once("end",O1),T.on("unpipe",d1);function d1(L8,Z8){W("onunpipe"),L8===A1&&Z8&&Z8.hasUnpiped===!1&&(Z8.hasUnpiped=!0,_8())}function b1(){W("onend"),T.end()}let u1,f8=!1;function _8(){W("cleanup"),T.removeListener("close",e1),T.removeListener("finish",D8),u1&&T.removeListener("drain",u1),T.removeListener("error",j8),T.removeListener("unpipe",d1),A1.removeListener("end",b1),A1.removeListener("end",A8),A1.removeListener("data",r8),f8=!0,u1&&x1.awaitDrainWriters&&(!T._writableState||T._writableState.needDrain)&&u1()}function b8(){f8||(x1.pipes.length===1&&x1.pipes[0]===T?(W("false write response, pause",0),x1.awaitDrainWriters=T,x1.multiAwaitDrain=!1):x1.pipes.length>1&&x1.pipes.includes(T)&&(W("false write response, pause",x1.awaitDrainWriters.size),x1.awaitDrainWriters.add(T)),A1.pause()),u1||(u1=R1(A1,T),T.on("drain",u1))}A1.on("data",r8);function r8(L8){W("ondata");let Z8=T.write(L8);W("dest.write",Z8),Z8===!1&&b8()}function j8(L8){if(W("onerror",L8),A8(),T.removeListener("error",j8),T.listenerCount("error")===0){let Z8=T._writableState||T._readableState;Z8&&!Z8.errorEmitted?m(T,L8):T.emit("error",L8)}}A(T,"error",j8);function e1(){T.removeListener("finish",D8),A8()}T.once("close",e1);function D8(){W("onfinish"),T.removeListener("close",e1),A8()}T.once("finish",D8);function A8(){W("unpipe"),A1.unpipe(T)}return T.emit("pipe",A1),T.writableNeedDrain===!0?b8():x1.flowing||(W("pipe resume"),A1.resume()),T};function R1(T,d){return function(){let A1=T._readableState;A1.awaitDrainWriters===d?(W("pipeOnDrain",1),A1.awaitDrainWriters=null):A1.multiAwaitDrain&&(W("pipeOnDrain",A1.awaitDrainWriters.size),A1.awaitDrainWriters.delete(d)),(!A1.awaitDrainWriters||A1.awaitDrainWriters.size===0)&&T.listenerCount("data")&&T.resume()}}V1.prototype.unpipe=function(T){let d=this._readableState,A1={hasUnpiped:!1};if(d.pipes.length===0)return this;if(!T){let O1=d.pipes;d.pipes=[],this.pause();for(let d1=0;d1<O1.length;d1++)O1[d1].emit("unpipe",this,{hasUnpiped:!1});return this}let x1=J(d.pipes,T);return x1===-1?this:(d.pipes.splice(x1,1),d.pipes.length===0&&this.pause(),T.emit("unpipe",this,A1),this)},V1.prototype.on=function(T,d){let A1=V.prototype.on.call(this,T,d),x1=this._readableState;return T==="data"?(x1.readableListening=this.listenerCount("readable")>0,x1.flowing!==!1&&this.resume()):T==="readable"&&!x1.endEmitted&&!x1.readableListening&&(x1.readableListening=x1.needReadable=!0,x1.flowing=!1,x1.emittedReadable=!1,W("on readable",x1.length,x1.reading),x1.length?J1(this):x1.reading||Y.nextTick(P1,this)),A1},V1.prototype.addListener=V1.prototype.on,V1.prototype.removeListener=function(T,d){let A1=V.prototype.removeListener.call(this,T,d);return T==="readable"&&Y.nextTick(B1,this),A1},V1.prototype.off=V1.prototype.removeListener,V1.prototype.removeAllListeners=function(T){let d=V.prototype.removeAllListeners.apply(this,arguments);return(T==="readable"||T===void 0)&&Y.nextTick(B1,this),d};function B1(T){let d=T._readableState;d.readableListening=T.listenerCount("readable")>0,d.resumeScheduled&&d[g]===!1?d.flowing=!0:T.listenerCount("data")>0?T.resume():d.readableListening||(d.flowing=null)}function P1(T){W("readable nexttick read 0"),T.read(0)}V1.prototype.resume=function(){let T=this._readableState;return T.flowing||(W("resume"),T.flowing=!T.readableListening,T1(this,T)),T[g]=!1,this};function T1(T,d){d.resumeScheduled||(d.resumeScheduled=!0,Y.nextTick(i1,T,d))}function i1(T,d){W("resume",d.reading),d.reading||T.read(0),d.resumeScheduled=!1,T.emit("resume"),n1(T),d.flowing&&!d.reading&&T.read(0)}V1.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[g]=!0,this};function n1(T){let d=T._readableState;for(W("flow",d.flowing);d.flowing&&T.read()!==null;);}V1.prototype.wrap=function(T){let d=!1;T.on("data",(x1)=>{!this.push(x1)&&T.pause&&(d=!0,T.pause())}),T.on("end",()=>{this.push(null)}),T.on("error",(x1)=>{m(this,x1)}),T.on("close",()=>{this.destroy()}),T.on("destroy",()=>{this.destroy()}),this._read=()=>{d&&T.resume&&(d=!1,T.resume())};let A1=L(T);for(let x1=1;x1<A1.length;x1++){let O1=A1[x1];this[O1]===void 0&&typeof T[O1]=="function"&&(this[O1]=T[O1].bind(T))}return this},V1.prototype[C]=function(){return h1(this)},V1.prototype.iterator=function(T){return T!==void 0&&t(T,"options"),h1(this,T)};function h1(T,d){typeof T.read!="function"&&(T=V1.wrap(T,{objectMode:!0}));let A1=r1(T,d);return A1.stream=T,A1}async function*r1(T,d){let A1=e;function x1(b1){this===T?(A1(),A1=e):A1=b1}T.on("readable",x1);let O1,d1=I(T,{writable:!1},(b1)=>{O1=b1?v(O1,b1):null,A1(),A1=e});try{for(;;){let b1=T.destroyed?null:T.read();if(b1!==null)yield b1;else{if(O1)throw O1;if(O1===null)return;await new G(x1)}}}catch(b1){throw O1=v(O1,b1),O1}finally{(O1||d?.destroyOnReturn!==!1)&&(O1===void 0||T._readableState.autoDestroy)?O.destroyer(T,null):(T.off("readable",x1),d1())}}M(V1.prototype,{readable:{__proto__:null,get(){let T=this._readableState;return!!T&&T.readable!==!1&&!T.destroyed&&!T.errorEmitted&&!T.endEmitted},set(T){this._readableState&&(this._readableState.readable=!!T)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(T){this._readableState&&(this._readableState.flowing=T)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(T){this._readableState&&(this._readableState.destroyed=T)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),M(k1.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[g]!==!1},set(T){this[g]=!!T}}}),V1._fromList=T8;function T8(T,d){if(d.length===0)return null;let A1;return d.objectMode?A1=d.buffer.shift():!T||T>=d.length?(d.decoder?A1=d.buffer.join(""):d.buffer.length===1?A1=d.buffer.first():A1=d.buffer.concat(d.length),d.buffer.clear()):A1=d.buffer.consume(T,d.decoder),A1}function t1(T){let d=T._readableState;W("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,Y.nextTick(s1,d,T))}function s1(T,d){if(W("endReadableNT",T.endEmitted,T.length),!T.errored&&!T.closeEmitted&&!T.endEmitted&&T.length===0){if(T.endEmitted=!0,d.emit("end"),d.writable&&d.allowHalfOpen===!1)Y.nextTick(n8,d);else if(T.autoDestroy){let A1=d._writableState;(!A1||A1.autoDestroy&&(A1.finished||A1.writable===!1))&&d.destroy()}}}function n8(T){T.writable&&!T.writableEnded&&!T.destroyed&&T.end()}V1.from=function(T,d){return f(V1,T,d)};var m8;function c8(){return m8===void 0&&(m8={}),m8}V1.fromWeb=function(T,d){return c8().newStreamReadableFromReadableStream(T,d)},V1.toWeb=function(T,d){return c8().newReadableStreamFromStreamReadable(T,d)},V1.wrap=function(T,d){var A1,x1;return new V1({objectMode:(A1=(x1=T.readableObjectMode)!==null&&x1!==void 0?x1:T.objectMode)!==null&&A1!==void 0?A1:!0,...d,destroy(O1,d1){O.destroyer(T,O1),d1(O1)}}).wrap(T)}}),p5=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),{ArrayPrototypeSlice:J,Error:q,FunctionPrototypeSymbolHasInstance:Z,ObjectDefineProperty:U,ObjectDefineProperties:M,ObjectSetPrototypeOf:L,StringPrototypeToLowerCase:X,Symbol:G,SymbolHasInstance:F}=S1();K.exports=t,t.WritableState=w;var{EventEmitter:D}=(R8(),m1(W8)),C=d5().Stream,{Buffer:H}=(w1(),m1(p1)),$=p8(),{addAbortSignal:V}=B6(),{getHighWaterMark:A,getDefaultHighWaterMark:Q}=P6(),{ERR_INVALID_ARG_TYPE:j,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:W,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:B,ERR_STREAM_NULL_VALUES:E,ERR_STREAM_WRITE_AFTER_END:v,ERR_UNKNOWN_ENCODING:h}=a1().codes,{errorOrDestroy:P}=$;L(t.prototype,C.prototype),L(t,C);function c(){}var y=G("kOnFinished");function w(S,_,L1){typeof L1!="boolean"&&(L1=_ instanceof Y8()),this.objectMode=!!(S&&S.objectMode),L1&&(this.objectMode=this.objectMode||!!(S&&S.writableObjectMode)),this.highWaterMark=S?A(this,S,"writableHighWaterMark",L1):Q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Q1=!!(S&&S.decodeStrings===!1);this.decodeStrings=!Q1,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=m.bind(void 0,_),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,G1(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!S||S.emitClose!==!1,this.autoDestroy=!S||S.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[y]=[]}function G1(S){S.buffered=[],S.bufferedIndex=0,S.allBuffers=!0,S.allNoop=!0}w.prototype.getBuffer=function(){return J(this.buffered,this.bufferedIndex)},U(w.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function t(S){let _=this instanceof Y8();if(!_&&!Z(t,this))return new t(S);this._writableState=new w(S,this,_),S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&V(S.signal,this)),C.call(this,S),$.construct(this,()=>{let L1=this._writableState;L1.writing||j1(this,L1),o(this,L1)})}U(t,F,{__proto__:null,value:function(S){return Z(this,S)?!0:this!==t?!1:S&&S._writableState instanceof w}}),t.prototype.pipe=function(){P(this,new x)};function g(S,_,L1,Q1){let F1=S._writableState;if(typeof L1=="function")Q1=L1,L1=F1.defaultEncoding;else{if(!L1)L1=F1.defaultEncoding;else if(L1!=="buffer"&&!H.isEncoding(L1))throw new h(L1);typeof Q1!="function"&&(Q1=c)}if(_===null)throw new E;if(!F1.objectMode)if(typeof _=="string")F1.decodeStrings!==!1&&(_=H.from(_,L1),L1="buffer");else if(_ instanceof H)L1="buffer";else if(C._isUint8Array(_))_=C._uint8ArrayToBuffer(_),L1="buffer";else throw new j("chunk",["string","Buffer","Uint8Array"],_);let W1;return F1.ending?W1=new v:F1.destroyed&&(W1=new O("write")),W1?(Y.nextTick(Q1,W1),P(S,W1,!0),W1):(F1.pendingcb++,Z1(S,F1,_,L1,Q1))}t.prototype.write=function(S,_,L1){return g(this,S,_,L1)===!0},t.prototype.cork=function(){this._writableState.corked++},t.prototype.uncork=function(){let S=this._writableState;S.corked&&(S.corked--,S.writing||j1(this,S))},t.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=X(S)),!H.isEncoding(S))throw new h(S);return this._writableState.defaultEncoding=S,this};function Z1(S,_,L1,Q1,F1){let W1=_.objectMode?1:L1.length;_.length+=W1;let a=_.length<_.highWaterMark;return a||(_.needDrain=!0),_.writing||_.corked||_.errored||!_.constructed?(_.buffered.push({chunk:L1,encoding:Q1,callback:F1}),_.allBuffers&&Q1!=="buffer"&&(_.allBuffers=!1),_.allNoop&&F1!==c&&(_.allNoop=!1)):(_.writelen=W1,_.writecb=F1,_.writing=!0,_.sync=!0,S._write(L1,Q1,_.onwrite),_.sync=!1),a&&!_.errored&&!_.destroyed}function f(S,_,L1,Q1,F1,W1,a){_.writelen=Q1,_.writecb=a,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new O("write")):L1?S._writev(F1,_.onwrite):S._write(F1,W1,_.onwrite),_.sync=!1}function e(S,_,L1,Q1){--_.pendingcb,Q1(L1),U1(_),P(S,L1)}function m(S,_){let L1=S._writableState,Q1=L1.sync,F1=L1.writecb;if(typeof F1!="function"){P(S,new W);return}L1.writing=!1,L1.writecb=null,L1.length-=L1.writelen,L1.writelen=0,_?(_.stack,L1.errored||(L1.errored=_),S._readableState&&!S._readableState.errored&&(S._readableState.errored=_),Q1?Y.nextTick(e,S,L1,_,F1):e(S,L1,_,F1)):(L1.buffered.length>L1.bufferedIndex&&j1(S,L1),Q1?L1.afterWriteTickInfo!==null&&L1.afterWriteTickInfo.cb===F1?L1.afterWriteTickInfo.count++:(L1.afterWriteTickInfo={count:1,cb:F1,stream:S,state:L1},Y.nextTick(n,L1.afterWriteTickInfo)):C1(S,L1,1,F1))}function n({stream:S,state:_,count:L1,cb:Q1}){return _.afterWriteTickInfo=null,C1(S,_,L1,Q1)}function C1(S,_,L1,Q1){for(!_.ending&&!S.destroyed&&_.length===0&&_.needDrain&&(_.needDrain=!1,S.emit("drain"));L1-- >0;)_.pendingcb--,Q1();_.destroyed&&U1(_),o(S,_)}function U1(S){if(S.writing)return;for(let F1=S.bufferedIndex;F1<S.buffered.length;++F1){var _;let{chunk:W1,callback:a}=S.buffered[F1],$1=S.objectMode?1:W1.length;S.length-=$1,a((_=S.errored)!==null&&_!==void 0?_:new O("write"))}let L1=S[y].splice(0);for(let F1=0;F1<L1.length;F1++){var Q1;L1[F1]((Q1=S.errored)!==null&&Q1!==void 0?Q1:new O("end"))}G1(S)}function j1(S,_){if(_.corked||_.bufferProcessing||_.destroyed||!_.constructed)return;let{buffered:L1,bufferedIndex:Q1,objectMode:F1}=_,W1=L1.length-Q1;if(!W1)return;let a=Q1;if(_.bufferProcessing=!0,W1>1&&S._writev){_.pendingcb-=W1-1;let $1=_.allNoop?c:(V1)=>{for(let I1=a;I1<L1.length;++I1)L1[I1].callback(V1)},k1=_.allNoop&&a===0?L1:J(L1,a);k1.allBuffers=_.allBuffers,f(S,_,!0,_.length,k1,"",$1),G1(_)}else{do{let{chunk:$1,encoding:k1,callback:V1}=L1[a];L1[a++]=null;let I1=F1?1:$1.length;f(S,_,!1,I1,$1,k1,V1)}while(a<L1.length&&!_.writing);a===L1.length?G1(_):a>256?(L1.splice(0,a),_.bufferedIndex=0):_.bufferedIndex=a}_.bufferProcessing=!1}t.prototype._write=function(S,_,L1){if(this._writev)this._writev([{chunk:S,encoding:_}],L1);else throw new I("_write()")},t.prototype._writev=null,t.prototype.end=function(S,_,L1){let Q1=this._writableState;typeof S=="function"?(L1=S,S=null,_=null):typeof _=="function"&&(L1=_,_=null);let F1;if(S!=null){let W1=g(this,S,_);W1 instanceof q&&(F1=W1)}return Q1.corked&&(Q1.corked=1,this.uncork()),F1||(!Q1.errored&&!Q1.ending?(Q1.ending=!0,o(this,Q1,!0),Q1.ended=!0):Q1.finished?F1=new B("end"):Q1.destroyed&&(F1=new O("end"))),typeof L1=="function"&&(F1||Q1.finished?Y.nextTick(L1,F1):Q1[y].push(L1)),this};function l(S){return S.ending&&!S.destroyed&&S.constructed&&S.length===0&&!S.errored&&S.buffered.length===0&&!S.finished&&!S.writing&&!S.errorEmitted&&!S.closeEmitted}function p(S,_){let L1=!1;function Q1(F1){if(L1){P(S,F1??W());return}if(L1=!0,_.pendingcb--,F1){let W1=_[y].splice(0);for(let a=0;a<W1.length;a++)W1[a](F1);P(S,F1,_.sync)}else l(_)&&(_.prefinished=!0,S.emit("prefinish"),_.pendingcb++,Y.nextTick(s,S,_))}_.sync=!0,_.pendingcb++;try{S._final(Q1)}catch(F1){Q1(F1)}_.sync=!1}function X1(S,_){!_.prefinished&&!_.finalCalled&&(typeof S._final=="function"&&!_.destroyed?(_.finalCalled=!0,p(S,_)):(_.prefinished=!0,S.emit("prefinish")))}function o(S,_,L1){l(_)&&(X1(S,_),_.pendingcb===0&&(L1?(_.pendingcb++,Y.nextTick((Q1,F1)=>{l(F1)?s(Q1,F1):F1.pendingcb--},S,_)):l(_)&&(_.pendingcb++,s(S,_))))}function s(S,_){_.pendingcb--,_.finished=!0;let L1=_[y].splice(0);for(let Q1=0;Q1<L1.length;Q1++)L1[Q1]();if(S.emit("finish"),_.autoDestroy){let Q1=S._readableState;(!Q1||Q1.autoDestroy&&(Q1.endEmitted||Q1.readable===!1))&&S.destroy()}}M(t.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(S){this._writableState&&(this._writableState.destroyed=S)}},writable:{__proto__:null,get(){let S=this._writableState;return!!S&&S.writable!==!1&&!S.destroyed&&!S.errored&&!S.ending&&!S.ended},set(S){this._writableState&&(this._writableState.writable=!!S)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let S=this._writableState;return S?!S.destroyed&&!S.ending&&S.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var i=$.destroy;t.prototype.destroy=function(S,_){let L1=this._writableState;return!L1.destroyed&&(L1.bufferedIndex<L1.buffered.length||L1[y].length)&&Y.nextTick(U1,L1),i.call(this,S,_),this},t.prototype._undestroy=$.undestroy,t.prototype._destroy=function(S,_){_(S)},t.prototype[D.captureRejectionSymbol]=function(S){this.destroy(S)};var N1;function z1(){return N1===void 0&&(N1={}),N1}t.fromWeb=function(S,_){return z1().newStreamWritableFromWritableStream(S,_)},t.toWeb=function(S){return z1().newWritableStreamFromStreamWritable(S)}}),_7=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),J=(w1(),m1(p1)),{isReadable:q,isWritable:Z,isIterable:U,isNodeStream:M,isReadableNodeStream:L,isWritableNodeStream:X,isDuplexNodeStream:G,isReadableStream:F,isWritableStream:D}=K8(),C=H8(),{AbortError:H,codes:{ERR_INVALID_ARG_TYPE:$,ERR_INVALID_RETURN_VALUE:V}}=a1(),{destroyer:A}=p8(),Q=Y8(),j=T6(),I=p5(),{createDeferredPromise:W}=y1(),x=j9(),O=globalThis.Blob||J.Blob,B=typeof O<"u"?function(y){return y instanceof O}:function(y){return!1},E=globalThis.AbortController||o8().AbortController,{FunctionPrototypeCall:v}=S1(),h=class extends Q{constructor(y){super(y),y?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),y?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};K.exports=function y(w,G1){if(G(w))return w;if(L(w))return c({readable:w});if(X(w))return c({writable:w});if(M(w))return c({writable:!1,readable:!1});if(F(w))return c({readable:j.fromWeb(w)});if(D(w))return c({writable:I.fromWeb(w)});if(typeof w=="function"){let{value:g,write:Z1,final:f,destroy:e}=P(w);if(U(g))return x(h,g,{objectMode:!0,write:Z1,final:f,destroy:e});let m=g?.then;if(typeof m=="function"){let n,C1=v(m,g,(U1)=>{if(U1!=null)throw new V("nully","body",U1)},(U1)=>{A(n,U1)});return n=new h({objectMode:!0,readable:!1,write:Z1,final(U1){f(async()=>{try{await C1,Y.nextTick(U1,null)}catch(j1){Y.nextTick(U1,j1)}})},destroy:e})}throw new V("Iterable, AsyncIterable or AsyncFunction",G1,g)}if(B(w))return y(w.arrayBuffer());if(U(w))return x(h,w,{objectMode:!0,writable:!1});if(F(w?.readable)&&D(w?.writable))return h.fromWeb(w);if(typeof w?.writable=="object"||typeof w?.readable=="object"){let g=w!=null&&w.readable?L(w?.readable)?w?.readable:y(w.readable):void 0,Z1=w!=null&&w.writable?X(w?.writable)?w?.writable:y(w.writable):void 0;return c({readable:g,writable:Z1})}let t=w?.then;if(typeof t=="function"){let g;return v(t,w,(Z1)=>{Z1!=null&&g.push(Z1),g.push(null)},(Z1)=>{A(g,Z1)}),g=new h({objectMode:!0,writable:!1,read(){}})}throw new $(G1,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],w)};function P(y){let{promise:w,resolve:G1}=W(),t=new E,g=t.signal;return{value:y(async function*(){for(;;){let Z1=w;w=null;let{chunk:f,done:e,cb:m}=await Z1;if(Y.nextTick(m),e)return;if(g.aborted)throw new H(void 0,{cause:g.reason});({promise:w,resolve:G1}=W()),yield f}}(),{signal:g}),write(Z1,f,e){let m=G1;G1=null,m({chunk:Z1,done:!1,cb:e})},final(Z1){let f=G1;G1=null,f({done:!0,cb:Z1})},destroy(Z1,f){t.abort(),f(Z1)}}}function c(y){let w=y.readable&&typeof y.readable.read!="function"?j.wrap(y.readable):y.readable,G1=y.writable,t=!!q(w),g=!!Z(G1),Z1,f,e,m,n;function C1(U1){let j1=m;m=null,j1?j1(U1):U1&&n.destroy(U1)}return n=new h({readableObjectMode:!!(w!=null&&w.readableObjectMode),writableObjectMode:!!(G1!=null&&G1.writableObjectMode),readable:t,writable:g}),g&&(C(G1,(U1)=>{g=!1,U1&&A(w,U1),C1(U1)}),n._write=function(U1,j1,l){G1.write(U1,j1)?l():Z1=l},n._final=function(U1){G1.end(),f=U1},G1.on("drain",function(){if(Z1){let U1=Z1;Z1=null,U1()}}),G1.on("finish",function(){if(f){let U1=f;f=null,U1()}})),t&&(C(w,(U1)=>{t=!1,U1&&A(w,U1),C1(U1)}),w.on("readable",function(){if(e){let U1=e;e=null,U1()}}),w.on("end",function(){n.push(null)}),n._read=function(){for(;;){let U1=w.read();if(U1===null){e=n._read;return}if(!n.push(U1))return}}),n._destroy=function(U1,j1){!U1&&m!==null&&(U1=new H),e=null,Z1=null,f=null,m===null?j1(U1):(m=j1,A(G1,U1),A(w,U1))},n}}),Y8=D1((N,K)=>{Y1(),K1(),q1();var{ObjectDefineProperties:Y,ObjectGetOwnPropertyDescriptor:J,ObjectKeys:q,ObjectSetPrototypeOf:Z}=S1();K.exports=L;var U=T6(),M=p5();Z(L.prototype,U.prototype),Z(L,U);{let D=q(M.prototype);for(let C=0;C<D.length;C++){let H=D[C];L.prototype[H]||(L.prototype[H]=M.prototype[H])}}function L(D){if(!(this instanceof L))return new L(D);U.call(this,D),M.call(this,D),D?(this.allowHalfOpen=D.allowHalfOpen!==!1,D.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),D.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Y(L.prototype,{writable:{__proto__:null,...J(M.prototype,"writable")},writableHighWaterMark:{__proto__:null,...J(M.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...J(M.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...J(M.prototype,"writableBuffer")},writableLength:{__proto__:null,...J(M.prototype,"writableLength")},writableFinished:{__proto__:null,...J(M.prototype,"writableFinished")},writableCorked:{__proto__:null,...J(M.prototype,"writableCorked")},writableEnded:{__proto__:null,...J(M.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...J(M.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}});var X;function G(){return X===void 0&&(X={}),X}L.fromWeb=function(D,C){return G().newStreamDuplexFromReadableWritablePair(D,C)},L.toWeb=function(D){return G().newReadableWritablePairFromDuplex(D)};var F;L.from=function(D){return F||(F=_7()),F(D,"body")}}),A9=D1((N,K)=>{Y1(),K1(),q1();var{ObjectSetPrototypeOf:Y,Symbol:J}=S1();K.exports=L;var{ERR_METHOD_NOT_IMPLEMENTED:q}=a1().codes,Z=Y8(),{getHighWaterMark:U}=P6();Y(L.prototype,Z.prototype),Y(L,Z);var M=J("kCallback");function L(F){if(!(this instanceof L))return new L(F);let D=F?U(this,F,"readableHighWaterMark",!0):null;D===0&&(F={...F,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:F.writableHighWaterMark||0}),Z.call(this,F),this._readableState.sync=!1,this[M]=null,F&&(typeof F.transform=="function"&&(this._transform=F.transform),typeof F.flush=="function"&&(this._flush=F.flush)),this.on("prefinish",G)}function X(F){typeof this._flush=="function"&&!this.destroyed?this._flush((D,C)=>{if(D){F?F(D):this.destroy(D);return}C!=null&&this.push(C),this.push(null),F&&F()}):(this.push(null),F&&F())}function G(){this._final!==X&&X.call(this)}L.prototype._final=X,L.prototype._transform=function(F,D,C){throw new q("_transform()")},L.prototype._write=function(F,D,C){let H=this._readableState,$=this._writableState,V=H.length;this._transform(F,D,(A,Q)=>{if(A){C(A);return}Q!=null&&this.push(Q),$.ended||V===H.length||H.length<H.highWaterMark?C():this[M]=C})},L.prototype._read=function(){if(this[M]){let F=this[M];this[M]=null,F()}}}),k9=D1((N,K)=>{Y1(),K1(),q1();var{ObjectSetPrototypeOf:Y}=S1();K.exports=q;var J=A9();Y(q.prototype,J.prototype),Y(q,J);function q(Z){if(!(this instanceof q))return new q(Z);J.call(this,Z)}q.prototype._transform=function(Z,U,M){M(null,Z)}}),w5=D1((N,K)=>{Y1(),K1(),q1();var Y=B8(),{ArrayIsArray:J,Promise:q,SymbolAsyncIterator:Z,SymbolDispose:U}=S1(),M=H8(),{once:L}=y1(),X=p8(),G=Y8(),{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:D,ERR_INVALID_RETURN_VALUE:C,ERR_MISSING_ARGS:H,ERR_STREAM_DESTROYED:$,ERR_STREAM_PREMATURE_CLOSE:V},AbortError:A}=a1(),{validateFunction:Q,validateAbortSignal:j}=u8(),{isIterable:I,isReadable:W,isReadableNodeStream:x,isNodeStream:O,isTransformStream:B,isWebStream:E,isReadableStream:v,isReadableFinished:h}=K8(),P=globalThis.AbortController||o8().AbortController,c,y,w;function G1(U1,j1,l){let p=!1;U1.on("close",()=>{p=!0});let X1=M(U1,{readable:j1,writable:l},(o)=>{p=!o});return{destroy:(o)=>{p||(p=!0,X.destroyer(U1,o||new $("pipe")))},cleanup:X1}}function t(U1){return Q(U1[U1.length-1],"streams[stream.length - 1]"),U1.pop()}function g(U1){if(I(U1))return U1;if(x(U1))return Z1(U1);throw new D("val",["Readable","Iterable","AsyncIterable"],U1)}async function*Z1(U1){y||(y=T6()),yield*y.prototype[Z].call(U1)}async function f(U1,j1,l,{end:p}){let X1,o=null,s=(z1)=>{if(z1&&(X1=z1),o){let S=o;o=null,S()}},i=()=>new q((z1,S)=>{X1?S(X1):o=()=>{X1?S(X1):z1()}});j1.on("drain",s);let N1=M(j1,{readable:!1},s);try{j1.writableNeedDrain&&await i();for await(let z1 of U1)j1.write(z1)||await i();p&&(j1.end(),await i()),l()}catch(z1){l(X1!==z1?F(X1,z1):z1)}finally{N1(),j1.off("drain",s)}}async function e(U1,j1,l,{end:p}){B(j1)&&(j1=j1.writable);let X1=j1.getWriter();try{for await(let o of U1)await X1.ready,X1.write(o).catch(()=>{});await X1.ready,p&&await X1.close(),l()}catch(o){try{await X1.abort(o),l(o)}catch(s){l(s)}}}function m(...U1){return n(U1,L(t(U1)))}function n(U1,j1,l){if(U1.length===1&&J(U1[0])&&(U1=U1[0]),U1.length<2)throw new H("streams");let p=new P,X1=p.signal,o=l?.signal,s=[];j(o,"options.signal");function i(){F1(new A)}w=w||y1().addAbortListener;let N1;o&&(N1=w(o,i));let z1,S,_=[],L1=0;function Q1(V1){F1(V1,--L1===0)}function F1(V1,I1){var z;if(V1&&(!z1||z1.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z1=V1),!(!z1&&!I1)){for(;_.length;)_.shift()(z1);(z=N1)===null||z===void 0||z[U](),p.abort(),I1&&(z1||s.forEach((k)=>k()),Y.nextTick(j1,z1,S))}}let W1;for(let V1=0;V1<U1.length;V1++){let I1=U1[V1],z=V1<U1.length-1,k=V1>0,R=z||l?.end!==!1,b=V1===U1.length-1;if(O(I1)){let r=function(J1){J1&&J1.name!=="AbortError"&&J1.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Q1(J1)};var a=r;if(R){let{destroy:J1,cleanup:H1}=G1(I1,z,k);_.push(J1),W(I1)&&b&&s.push(H1)}I1.on("error",r),W(I1)&&b&&s.push(()=>{I1.removeListener("error",r)})}if(V1===0)if(typeof I1=="function"){if(W1=I1({signal:X1}),!I(W1))throw new C("Iterable, AsyncIterable or Stream","source",W1)}else I(I1)||x(I1)||B(I1)?W1=I1:W1=G.from(I1);else if(typeof I1=="function"){if(B(W1)){var $1;W1=g(($1=W1)===null||$1===void 0?void 0:$1.readable)}else W1=g(W1);if(W1=I1(W1,{signal:X1}),z){if(!I(W1,!0))throw new C("AsyncIterable",`transform[${V1-1}]`,W1)}else{var k1;c||(c=k9());let r=new c({objectMode:!0}),J1=(k1=W1)===null||k1===void 0?void 0:k1.then;if(typeof J1=="function")L1++,J1.call(W1,(M1)=>{S=M1,M1!=null&&r.write(M1),R&&r.end(),Y.nextTick(Q1)},(M1)=>{r.destroy(M1),Y.nextTick(Q1,M1)});else if(I(W1,!0))L1++,f(W1,r,Q1,{end:R});else if(v(W1)||B(W1)){let M1=W1.readable||W1;L1++,f(M1,r,Q1,{end:R})}else throw new C("AsyncIterable or Promise","destination",W1);W1=r;let{destroy:H1,cleanup:u}=G1(W1,!1,!0);_.push(H1),b&&s.push(u)}}else if(O(I1)){if(x(W1)){L1+=2;let r=C1(W1,I1,Q1,{end:R});W(I1)&&b&&s.push(r)}else if(B(W1)||v(W1)){let r=W1.readable||W1;L1++,f(r,I1,Q1,{end:R})}else if(I(W1))L1++,f(W1,I1,Q1,{end:R});else throw new D("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W1);W1=I1}else if(E(I1)){if(x(W1))L1++,e(g(W1),I1,Q1,{end:R});else if(v(W1)||I(W1))L1++,e(W1,I1,Q1,{end:R});else if(B(W1))L1++,e(W1.readable,I1,Q1,{end:R});else throw new D("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W1);W1=I1}else W1=G.from(I1)}return(X1!=null&&X1.aborted||o!=null&&o.aborted)&&Y.nextTick(i),W1}function C1(U1,j1,l,{end:p}){let X1=!1;if(j1.on("close",()=>{X1||l(new V)}),U1.pipe(j1,{end:!1}),p){let s=function(){X1=!0,j1.end()};var o=s;h(U1)?Y.nextTick(s):U1.once("end",s)}else l();return M(U1,{readable:!0,writable:!1},(s)=>{let i=U1._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&i&&i.ended&&!i.errored&&!i.errorEmitted?U1.once("end",l).once("error",l):l(s)}),M(j1,{readable:!1,writable:!0},l)}K.exports={pipelineImpl:n,pipeline:m}}),x9=D1((N,K)=>{Y1(),K1(),q1();var{pipeline:Y}=w5(),J=Y8(),{destroyer:q}=p8(),{isNodeStream:Z,isReadable:U,isWritable:M,isWebStream:L,isTransformStream:X,isWritableStream:G,isReadableStream:F}=K8(),{AbortError:D,codes:{ERR_INVALID_ARG_VALUE:C,ERR_MISSING_ARGS:H}}=a1(),$=H8();K.exports=function(...V){if(V.length===0)throw new H("streams");if(V.length===1)return J.from(V[0]);let A=[...V];if(typeof V[0]=="function"&&(V[0]=J.from(V[0])),typeof V[V.length-1]=="function"){let P=V.length-1;V[P]=J.from(V[P])}for(let P=0;P<V.length;++P)if(!(!Z(V[P])&&!L(V[P]))){if(P<V.length-1&&!(U(V[P])||F(V[P])||X(V[P])))throw new C(`streams[${P}]`,A[P],"must be readable");if(P>0&&!(M(V[P])||G(V[P])||X(V[P])))throw new C(`streams[${P}]`,A[P],"must be writable")}let Q,j,I,W,x;function O(P){let c=W;W=null,c?c(P):P?x.destroy(P):!h&&!v&&x.destroy()}let B=V[0],E=Y(V,O),v=!!(M(B)||G(B)||X(B)),h=!!(U(E)||F(E)||X(E));if(x=new J({writableObjectMode:!!(B!=null&&B.writableObjectMode),readableObjectMode:!!(E!=null&&E.readableObjectMode),writable:v,readable:h}),v){if(Z(B))x._write=function(c,y,w){B.write(c,y)?w():Q=w},x._final=function(c){B.end(),j=c},B.on("drain",function(){if(Q){let c=Q;Q=null,c()}});else if(L(B)){let c=(X(B)?B.writable:B).getWriter();x._write=async function(y,w,G1){try{await c.ready,c.write(y).catch(()=>{}),G1()}catch(t){G1(t)}},x._final=async function(y){try{await c.ready,c.close().catch(()=>{}),j=y}catch(w){y(w)}}}let P=X(E)?E.readable:E;$(P,()=>{if(j){let c=j;j=null,c()}})}if(h){if(Z(E))E.on("readable",function(){if(I){let P=I;I=null,P()}}),E.on("end",function(){x.push(null)}),x._read=function(){for(;;){let P=E.read();if(P===null){I=x._read;return}if(!x.push(P))return}};else if(L(E)){let P=(X(E)?E.readable:E).getReader();x._read=async function(){for(;;)try{let{value:c,done:y}=await P.read();if(!x.push(c))return;if(y){x.push(null);return}}catch{return}}}}return x._destroy=function(P,c){!P&&W!==null&&(P=new D),I=null,Q=null,j=null,W===null?c(P):(W=c,Z(E)&&q(E,P))},x}}),b7=D1((N,K)=>{Y1(),K1(),q1();var Y=globalThis.AbortController||o8().AbortController,{codes:{ERR_INVALID_ARG_VALUE:J,ERR_INVALID_ARG_TYPE:q,ERR_MISSING_ARGS:Z,ERR_OUT_OF_RANGE:U},AbortError:M}=a1(),{validateAbortSignal:L,validateInteger:X,validateObject:G}=u8(),F=S1().Symbol("kWeak"),D=S1().Symbol("kResistStopPropagation"),{finished:C}=H8(),H=x9(),{addAbortSignalNoValidate:$}=B6(),{isWritable:V,isNodeStream:A}=K8(),{deprecate:Q}=y1(),{ArrayPrototypePush:j,Boolean:I,MathFloor:W,Number:x,NumberIsNaN:O,Promise:B,PromiseReject:E,PromiseResolve:v,PromisePrototypeThen:h,Symbol:P}=S1(),c=P("kEmpty"),y=P("kEof");function w(o,s){if(s!=null&&G(s,"options"),s?.signal!=null&&L(s.signal,"options.signal"),A(o)&&!V(o))throw new J("stream",o,"must be writable");let i=H(this,o);return s!=null&&s.signal&&$(s.signal,i),i}function G1(o,s){if(typeof o!="function")throw new q("fn",["Function","AsyncFunction"],o);s!=null&&G(s,"options"),s?.signal!=null&&L(s.signal,"options.signal");let i=1;s?.concurrency!=null&&(i=W(s.concurrency));let N1=i-1;return s?.highWaterMark!=null&&(N1=W(s.highWaterMark)),X(i,"options.concurrency",1),X(N1,"options.highWaterMark",0),N1+=i,async function*(){let z1=y1().AbortSignalAny([s?.signal].filter(I)),S=this,_=[],L1={signal:z1},Q1,F1,W1=!1,a=0;function $1(){W1=!0,k1()}function k1(){a-=1,V1()}function V1(){F1&&!W1&&a<i&&_.length<N1&&(F1(),F1=null)}async function I1(){try{for await(let z of S){if(W1)return;if(z1.aborted)throw new M;try{if(z=o(z,L1),z===c)continue;z=v(z)}catch(k){z=E(k)}a+=1,h(z,k1,$1),_.push(z),Q1&&(Q1(),Q1=null),!W1&&(_.length>=N1||a>=i)&&await new B((k)=>{F1=k})}_.push(y)}catch(z){let k=E(z);h(k,k1,$1),_.push(k)}finally{W1=!0,Q1&&(Q1(),Q1=null)}}I1();try{for(;;){for(;_.length>0;){let z=await _[0];if(z===y)return;if(z1.aborted)throw new M;z!==c&&(yield z),_.shift(),V1()}await new B((z)=>{Q1=z})}}finally{W1=!0,F1&&(F1(),F1=null)}}.call(this)}function t(o=void 0){return o!=null&&G(o,"options"),o?.signal!=null&&L(o.signal,"options.signal"),async function*(){let s=0;for await(let N1 of this){var i;if(o!=null&&(i=o.signal)!==null&&i!==void 0&&i.aborted)throw new M({cause:o.signal.reason});yield[s++,N1]}}.call(this)}async function g(o,s=void 0){for await(let i of m.call(this,o,s))return!0;return!1}async function Z1(o,s=void 0){if(typeof o!="function")throw new q("fn",["Function","AsyncFunction"],o);return!await g.call(this,async(...i)=>!await o(...i),s)}async function f(o,s){for await(let i of m.call(this,o,s))return i}async function e(o,s){if(typeof o!="function")throw new q("fn",["Function","AsyncFunction"],o);async function i(N1,z1){return await o(N1,z1),c}for await(let N1 of G1.call(this,i,s));}function m(o,s){if(typeof o!="function")throw new q("fn",["Function","AsyncFunction"],o);async function i(N1,z1){return await o(N1,z1)?N1:c}return G1.call(this,i,s)}var n=class extends Z{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function C1(o,s,i){var N1;if(typeof o!="function")throw new q("reducer",["Function","AsyncFunction"],o);i!=null&&G(i,"options"),i?.signal!=null&&L(i.signal,"options.signal");let z1=arguments.length>1;if(i!=null&&(N1=i.signal)!==null&&N1!==void 0&&N1.aborted){let F1=new M(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await C(this.destroy(F1)),F1}let S=new Y,_=S.signal;if(i!=null&&i.signal){let F1={once:!0,[F]:this,[D]:!0};i.signal.addEventListener("abort",()=>S.abort(),F1)}let L1=!1;try{for await(let F1 of this){var Q1;if(L1=!0,i!=null&&(Q1=i.signal)!==null&&Q1!==void 0&&Q1.aborted)throw new M;z1?s=await o(s,F1,{signal:_}):(s=F1,z1=!0)}if(!L1&&!z1)throw new n}finally{S.abort()}return s}async function U1(o){o!=null&&G(o,"options"),o?.signal!=null&&L(o.signal,"options.signal");let s=[];for await(let N1 of this){var i;if(o!=null&&(i=o.signal)!==null&&i!==void 0&&i.aborted)throw new M(void 0,{cause:o.signal.reason});j(s,N1)}return s}function j1(o,s){let i=G1.call(this,o,s);return async function*(){for await(let N1 of i)yield*N1}.call(this)}function l(o){if(o=x(o),O(o))return 0;if(o<0)throw new U("number",">= 0",o);return o}function p(o,s=void 0){return s!=null&&G(s,"options"),s?.signal!=null&&L(s.signal,"options.signal"),o=l(o),async function*(){var i;if(s!=null&&(i=s.signal)!==null&&i!==void 0&&i.aborted)throw new M;for await(let z1 of this){var N1;if(s!=null&&(N1=s.signal)!==null&&N1!==void 0&&N1.aborted)throw new M;o--<=0&&(yield z1)}}.call(this)}function X1(o,s=void 0){return s!=null&&G(s,"options"),s?.signal!=null&&L(s.signal,"options.signal"),o=l(o),async function*(){var i;if(s!=null&&(i=s.signal)!==null&&i!==void 0&&i.aborted)throw new M;for await(let z1 of this){var N1;if(s!=null&&(N1=s.signal)!==null&&N1!==void 0&&N1.aborted)throw new M;if(o-- >0&&(yield z1),o<=0)return}}.call(this)}K.exports.streamReturningOperators={asIndexedPairs:Q(t,"readable.asIndexedPairs will be removed in a future version."),drop:p,filter:m,flatMap:j1,map:G1,take:X1,compose:w},K.exports.promiseReturningOperators={every:Z1,forEach:e,reduce:C1,toArray:U1,some:g,find:f}}),I9=D1((N,K)=>{Y1(),K1(),q1();var{ArrayPrototypePop:Y,Promise:J}=S1(),{isIterable:q,isNodeStream:Z,isWebStream:U}=K8(),{pipelineImpl:M}=w5(),{finished:L}=H8();O9();function X(...G){return new J((F,D)=>{let C,H,$=G[G.length-1];if($&&typeof $=="object"&&!Z($)&&!q($)&&!U($)){let V=Y(G);C=V.signal,H=V.end}M(G,(V,A)=>{V?D(V):F(A)},{signal:C,end:H})})}K.exports={finished:L,pipeline:X}}),O9=D1((N,K)=>{Y1(),K1(),q1();var{Buffer:Y}=(w1(),m1(p1)),{ObjectDefineProperty:J,ObjectKeys:q,ReflectApply:Z}=S1(),{promisify:{custom:U}}=y1(),{streamReturningOperators:M,promiseReturningOperators:L}=b7(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:X}}=a1(),G=x9(),{setDefaultHighWaterMark:F,getDefaultHighWaterMark:D}=P6(),{pipeline:C}=w5(),{destroyer:H}=p8(),$=H8(),V=I9(),A=K8(),Q=K.exports=d5().Stream;Q.isDestroyed=A.isDestroyed,Q.isDisturbed=A.isDisturbed,Q.isErrored=A.isErrored,Q.isReadable=A.isReadable,Q.isWritable=A.isWritable,Q.Readable=T6();for(let I of q(M)){let W=function(...O){if(new.target)throw X();return Q.Readable.from(Z(x,this,O))},x=M[I];J(W,"name",{__proto__:null,value:x.name}),J(W,"length",{__proto__:null,value:x.length}),J(Q.Readable.prototype,I,{__proto__:null,value:W,enumerable:!1,configurable:!0,writable:!0})}for(let I of q(L)){let W=function(...O){if(new.target)throw X();return Z(x,this,O)},x=L[I];J(W,"name",{__proto__:null,value:x.name}),J(W,"length",{__proto__:null,value:x.length}),J(Q.Readable.prototype,I,{__proto__:null,value:W,enumerable:!1,configurable:!0,writable:!0})}Q.Writable=p5(),Q.Duplex=Y8(),Q.Transform=A9(),Q.PassThrough=k9(),Q.pipeline=C;var{addAbortSignal:j}=B6();Q.addAbortSignal=j,Q.finished=$,Q.destroy=H,Q.compose=G,Q.setDefaultHighWaterMark=F,Q.getDefaultHighWaterMark=D,J(Q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return V}}),J(C,U,{__proto__:null,enumerable:!0,get(){return V.pipeline}}),J($,U,{__proto__:null,enumerable:!0,get(){return V.finished}}),Q.Stream=Q,Q._isUint8Array=function(I){return I instanceof Uint8Array},Q._uint8ArrayToBuffer=function(I){return Y.from(I.buffer,I.byteOffset,I.byteLength)}}),P8=D1((N,K)=>{Y1(),K1(),q1();var Y=O9(),J=I9(),q=Y.Readable.destroy;K.exports=Y.Readable,K.exports._uint8ArrayToBuffer=Y._uint8ArrayToBuffer,K.exports._isUint8Array=Y._isUint8Array,K.exports.isDisturbed=Y.isDisturbed,K.exports.isErrored=Y.isErrored,K.exports.isReadable=Y.isReadable,K.exports.Readable=Y.Readable,K.exports.Writable=Y.Writable,K.exports.Duplex=Y.Duplex,K.exports.Transform=Y.Transform,K.exports.PassThrough=Y.PassThrough,K.exports.addAbortSignal=Y.addAbortSignal,K.exports.finished=Y.finished,K.exports.destroy=Y.destroy,K.exports.destroy=q,K.exports.pipeline=Y.pipeline,K.exports.compose=Y.compose,Object.defineProperty(Y,"promises",{configurable:!0,enumerable:!0,get(){return J}}),K.exports.Stream=Y.Stream,K.exports.default=K.exports}),a7=D1((N,K)=>{Y1(),K1(),q1(),typeof Object.create=="function"?K.exports=function(Y,J){J&&(Y.super_=J,Y.prototype=Object.create(J.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}))}:K.exports=function(Y,J){if(J){Y.super_=J;var q=function(){};q.prototype=J.prototype,Y.prototype=new q,Y.prototype.constructor=Y}}}),y7=D1((N,K)=>{Y1(),K1(),q1();var{Buffer:Y}=(w1(),m1(p1)),J=Symbol.for("BufferList");function q(Z){if(!(this instanceof q))return new q(Z);q._init.call(this,Z)}q._init=function(Z){Object.defineProperty(this,J,{value:!0}),this._bufs=[],this.length=0,Z&&this.append(Z)},q.prototype._new=function(Z){return new q(Z)},q.prototype._offset=function(Z){if(Z===0)return[0,0];let U=0;for(let M=0;M<this._bufs.length;M++){let L=U+this._bufs[M].length;if(Z<L||M===this._bufs.length-1)return[M,Z-U];U=L}},q.prototype._reverseOffset=function(Z){let U=Z[0],M=Z[1];for(let L=0;L<U;L++)M+=this._bufs[L].length;return M},q.prototype.getBuffers=function(){return this._bufs},q.prototype.get=function(Z){if(Z>this.length||Z<0)return;let U=this._offset(Z);return this._bufs[U[0]][U[1]]},q.prototype.slice=function(Z,U){return typeof Z=="number"&&Z<0&&(Z+=this.length),typeof U=="number"&&U<0&&(U+=this.length),this.copy(null,0,Z,U)},q.prototype.copy=function(Z,U,M,L){if((typeof M!="number"||M<0)&&(M=0),(typeof L!="number"||L>this.length)&&(L=this.length),M>=this.length||L<=0)return Z||Y.alloc(0);let X=!!Z,G=this._offset(M),F=L-M,D=F,C=X&&U||0,H=G[1];if(M===0&&L===this.length){if(!X)return this._bufs.length===1?this._bufs[0]:Y.concat(this._bufs,this.length);for(let $=0;$<this._bufs.length;$++)this._bufs[$].copy(Z,C),C+=this._bufs[$].length;return Z}if(D<=this._bufs[G[0]].length-H)return X?this._bufs[G[0]].copy(Z,U,H,H+D):this._bufs[G[0]].slice(H,H+D);X||(Z=Y.allocUnsafe(F));for(let $=G[0];$<this._bufs.length;$++){let V=this._bufs[$].length-H;if(D>V)this._bufs[$].copy(Z,C,H),C+=V;else{this._bufs[$].copy(Z,C,H,H+D),C+=V;break}D-=V,H&&(H=0)}return Z.length>C?Z.slice(0,C):Z},q.prototype.shallowSlice=function(Z,U){if(Z=Z||0,U=typeof U!="number"?this.length:U,Z<0&&(Z+=this.length),U<0&&(U+=this.length),Z===U)return this._new();let M=this._offset(Z),L=this._offset(U),X=this._bufs.slice(M[0],L[0]+1);return L[1]===0?X.pop():X[X.length-1]=X[X.length-1].slice(0,L[1]),M[1]!==0&&(X[0]=X[0].slice(M[1])),this._new(X)},q.prototype.toString=function(Z,U,M){return this.slice(U,M).toString(Z)},q.prototype.consume=function(Z){if(Z=Math.trunc(Z),Number.isNaN(Z)||Z<=0)return this;for(;this._bufs.length;)if(Z>=this._bufs[0].length)Z-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(Z),this.length-=Z;break}return this},q.prototype.duplicate=function(){let Z=this._new();for(let U=0;U<this._bufs.length;U++)Z.append(this._bufs[U]);return Z},q.prototype.append=function(Z){return this._attach(Z,q.prototype._appendBuffer)},q.prototype.prepend=function(Z){return this._attach(Z,q.prototype._prependBuffer,!0)},q.prototype._attach=function(Z,U,M){if(Z==null)return this;if(Z.buffer)U.call(this,Y.from(Z.buffer,Z.byteOffset,Z.byteLength));else if(Array.isArray(Z)){let[L,X]=M?[Z.length-1,-1]:[0,1];for(let G=L;G>=0&&G<Z.length;G+=X)this._attach(Z[G],U,M)}else if(this._isBufferList(Z)){let[L,X]=M?[Z._bufs.length-1,-1]:[0,1];for(let G=L;G>=0&&G<Z._bufs.length;G+=X)this._attach(Z._bufs[G],U,M)}else typeof Z=="number"&&(Z=Z.toString()),U.call(this,Y.from(Z));return this},q.prototype._appendBuffer=function(Z){this._bufs.push(Z),this.length+=Z.length},q.prototype._prependBuffer=function(Z){this._bufs.unshift(Z),this.length+=Z.length},q.prototype.indexOf=function(Z,U,M){if(M===void 0&&typeof U=="string"&&(M=U,U=void 0),typeof Z=="function"||Array.isArray(Z))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof Z=="number"?Z=Y.from([Z]):typeof Z=="string"?Z=Y.from(Z,M):this._isBufferList(Z)?Z=Z.slice():Array.isArray(Z.buffer)?Z=Y.from(Z.buffer,Z.byteOffset,Z.byteLength):Y.isBuffer(Z)||(Z=Y.from(Z)),U=Number(U||0),isNaN(U)&&(U=0),U<0&&(U=this.length+U),U<0&&(U=0),Z.length===0)return U>this.length?this.length:U;let L=this._offset(U),X=L[0],G=L[1];for(;X<this._bufs.length;X++){let F=this._bufs[X];for(;G<F.length;)if(F.length-G>=Z.length){let D=F.indexOf(Z,G);if(D!==-1)return this._reverseOffset([X,D]);G=F.length-Z.length+1}else{let D=this._reverseOffset([X,G]);if(this._match(D,Z))return D;G++}G=0}return-1},q.prototype._match=function(Z,U){if(this.length-Z<U.length)return!1;for(let M=0;M<U.length;M++)if(this.get(Z+M)!==U[M])return!1;return!0},function(){let Z={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let U in Z)(function(M){Z[M]===null?q.prototype[M]=function(L,X){return this.slice(L,L+X)[M](0,X)}:q.prototype[M]=function(L=0){return this.slice(L,L+Z[M])[M](0)}})(U)}(),q.prototype._isBufferList=function(Z){return Z instanceof q||q.isBufferList(Z)},q.isBufferList=function(Z){return Z!=null&&Z[J]},K.exports=q}),g7=D1((N,K)=>{Y1(),K1(),q1();var Y=P8().Duplex,J=a7(),q=y7();function Z(U){if(!(this instanceof Z))return new Z(U);if(typeof U=="function"){this._callback=U;let M=function(L){this._callback&&(this._callback(L),this._callback=null)}.bind(this);this.on("pipe",function(L){L.on("error",M)}),this.on("unpipe",function(L){L.removeListener("error",M)}),U=null}q._init.call(this,U),Y.call(this)}J(Z,Y),Object.assign(Z.prototype,q.prototype),Z.prototype._new=function(U){return new Z(U)},Z.prototype._write=function(U,M,L){this._appendBuffer(U),typeof L=="function"&&L()},Z.prototype._read=function(U){if(!this.length)return this.push(null);U=Math.min(U,this.length),this.push(this.slice(0,U)),this.consume(U)},Z.prototype.end=function(U){Y.prototype.end.call(this,U),this._callback&&(this._callback(null,this.slice()),this._callback=null)},Z.prototype._destroy=function(U,M){this._bufs.length=0,this.length=0,M(U)},Z.prototype._isBufferList=function(U){return U instanceof Z||U instanceof q||Z.isBufferList(U)},Z.isBufferList=q.isBufferList,K.exports=Z,K.exports.BufferListStream=Z,K.exports.BufferList=q}),s7=D1((N,K)=>{Y1(),K1(),q1();var Y=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};K.exports=Y}),R9=D1((N,K)=>{Y1(),K1(),q1();var Y=K.exports,{Buffer:J}=(w1(),m1(p1));Y.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},Y.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},Y.requiredHeaderFlagsErrors={};for(let Z in Y.requiredHeaderFlags){let U=Y.requiredHeaderFlags[Z];Y.requiredHeaderFlagsErrors[Z]="Invalid header flag bits, must be 0x"+U.toString(16)+" for "+Y.types[Z]+" packet"}Y.codes={};for(let Z in Y.types){let U=Y.types[Z];Y.codes[U]=Z}Y.CMD_SHIFT=4,Y.CMD_MASK=240,Y.DUP_MASK=8,Y.QOS_MASK=3,Y.QOS_SHIFT=1,Y.RETAIN_MASK=1,Y.VARBYTEINT_MASK=127,Y.VARBYTEINT_FIN_MASK=128,Y.VARBYTEINT_MAX=268435455,Y.SESSIONPRESENT_MASK=1,Y.SESSIONPRESENT_HEADER=J.from([Y.SESSIONPRESENT_MASK]),Y.CONNACK_HEADER=J.from([Y.codes.connack<<Y.CMD_SHIFT]),Y.USERNAME_MASK=128,Y.PASSWORD_MASK=64,Y.WILL_RETAIN_MASK=32,Y.WILL_QOS_MASK=24,Y.WILL_QOS_SHIFT=3,Y.WILL_FLAG_MASK=4,Y.CLEAN_SESSION_MASK=2,Y.CONNECT_HEADER=J.from([Y.codes.connect<<Y.CMD_SHIFT]),Y.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},Y.propertiesCodes={};for(let Z in Y.properties){let U=Y.properties[Z];Y.propertiesCodes[U]=Z}Y.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function q(Z){return[0,1,2].map((U)=>[0,1].map((M)=>[0,1].map((L)=>{let X=J.alloc(1);return X.writeUInt8(Y.codes[Z]<<Y.CMD_SHIFT|(M?Y.DUP_MASK:0)|U<<Y.QOS_SHIFT|L,0,!0),X})))}Y.PUBLISH_HEADER=q("publish"),Y.SUBSCRIBE_HEADER=q("subscribe"),Y.SUBSCRIBE_OPTIONS_QOS_MASK=3,Y.SUBSCRIBE_OPTIONS_NL_MASK=1,Y.SUBSCRIBE_OPTIONS_NL_SHIFT=2,Y.SUBSCRIBE_OPTIONS_RAP_MASK=1,Y.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,Y.SUBSCRIBE_OPTIONS_RH_MASK=3,Y.SUBSCRIBE_OPTIONS_RH_SHIFT=4,Y.SUBSCRIBE_OPTIONS_RH=[0,16,32],Y.SUBSCRIBE_OPTIONS_NL=4,Y.SUBSCRIBE_OPTIONS_RAP=8,Y.SUBSCRIBE_OPTIONS_QOS=[0,1,2],Y.UNSUBSCRIBE_HEADER=q("unsubscribe"),Y.ACKS={unsuback:q("unsuback"),puback:q("puback"),pubcomp:q("pubcomp"),pubrel:q("pubrel"),pubrec:q("pubrec")},Y.SUBACK_HEADER=J.from([Y.codes.suback<<Y.CMD_SHIFT]),Y.VERSION3=J.from([3]),Y.VERSION4=J.from([4]),Y.VERSION5=J.from([5]),Y.VERSION131=J.from([131]),Y.VERSION132=J.from([132]),Y.QOS=[0,1,2].map((Z)=>J.from([Z])),Y.EMPTY={pingreq:J.from([Y.codes.pingreq<<4,0]),pingresp:J.from([Y.codes.pingresp<<4,0]),disconnect:J.from([Y.codes.disconnect<<4,0])},Y.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},Y.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},Y.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},Y.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},Y.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},Y.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),l7=D1((N,K)=>{Y1(),K1(),q1();var Y=1000,J=Y*60,q=J*60,Z=q*24,U=Z*7,M=Z*365.25;K.exports=function(D,C){C=C||{};var H=typeof D;if(H==="string"&&D.length>0)return L(D);if(H==="number"&&isFinite(D))return C.long?G(D):X(D);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(D))};function L(D){if(D=String(D),!(D.length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(D);if(C){var H=parseFloat(C[1]),$=(C[2]||"ms").toLowerCase();switch($){case"years":case"year":case"yrs":case"yr":case"y":return H*M;case"weeks":case"week":case"w":return H*U;case"days":case"day":case"d":return H*Z;case"hours":case"hour":case"hrs":case"hr":case"h":return H*q;case"minutes":case"minute":case"mins":case"min":case"m":return H*J;case"seconds":case"second":case"secs":case"sec":case"s":return H*Y;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return H;default:return}}}}function X(D){var C=Math.abs(D);return C>=Z?Math.round(D/Z)+"d":C>=q?Math.round(D/q)+"h":C>=J?Math.round(D/J)+"m":C>=Y?Math.round(D/Y)+"s":D+"ms"}function G(D){var C=Math.abs(D);return C>=Z?F(D,C,Z,"day"):C>=q?F(D,C,q,"hour"):C>=J?F(D,C,J,"minute"):C>=Y?F(D,C,Y,"second"):D+" ms"}function F(D,C,H,$){var V=C>=H*1.5;return Math.round(D/H)+" "+$+(V?"s":"")}}),o7=D1((N,K)=>{Y1(),K1(),q1();function Y(J){Z.debug=Z,Z.default=Z,Z.coerce=F,Z.disable=X,Z.enable=M,Z.enabled=G,Z.humanize=l7(),Z.destroy=D,Object.keys(J).forEach((C)=>{Z[C]=J[C]}),Z.names=[],Z.skips=[],Z.formatters={};function q(C){let H=0;for(let $=0;$<C.length;$++)H=(H<<5)-H+C.charCodeAt($),H|=0;return Z.colors[Math.abs(H)%Z.colors.length]}Z.selectColor=q;function Z(C){let H,$=null,V,A;function Q(...j){if(!Q.enabled)return;let I=Q,W=Number(new Date),x=W-(H||W);I.diff=x,I.prev=H,I.curr=W,H=W,j[0]=Z.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");let O=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(B,E)=>{if(B==="%%")return"%";O++;let v=Z.formatters[E];if(typeof v=="function"){let h=j[O];B=v.call(I,h),j.splice(O,1),O--}return B}),Z.formatArgs.call(I,j),(I.log||Z.log).apply(I,j)}return Q.namespace=C,Q.useColors=Z.useColors(),Q.color=Z.selectColor(C),Q.extend=U,Q.destroy=Z.destroy,Object.defineProperty(Q,"enabled",{enumerable:!0,configurable:!1,get:()=>$!==null?$:(V!==Z.namespaces&&(V=Z.namespaces,A=Z.enabled(C)),A),set:(j)=>{$=j}}),typeof Z.init=="function"&&Z.init(Q),Q}function U(C,H){let $=Z(this.namespace+(typeof H>"u"?":":H)+C);return $.log=this.log,$}function M(C){Z.save(C),Z.namespaces=C,Z.names=[],Z.skips=[];let H=(typeof C=="string"?C:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let $ of H)$[0]==="-"?Z.skips.push($.slice(1)):Z.names.push($)}function L(C,H){let $=0,V=0,A=-1,Q=0;for(;$<C.length;)if(V<H.length&&(H[V]===C[$]||H[V]==="*"))H[V]==="*"?(A=V,Q=$,V++):($++,V++);else if(A!==-1)V=A+1,Q++,$=Q;else return!1;for(;V<H.length&&H[V]==="*";)V++;return V===H.length}function X(){let C=[...Z.names,...Z.skips.map((H)=>"-"+H)].join(",");return Z.enable(""),C}function G(C){for(let H of Z.skips)if(L(C,H))return!1;for(let H of Z.names)if(L(C,H))return!0;return!1}function F(C){return C instanceof Error?C.stack||C.message:C}function D(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return Z.enable(Z.load()),Z}K.exports=Y}),q8=D1((N,K)=>{Y1(),K1(),q1(),N.formatArgs=J,N.save=q,N.load=Z,N.useColors=Y,N.storage=U(),N.destroy=(()=>{let L=!1;return()=>{L||(L=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),N.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Y(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let L;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(L=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(L[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function J(L){if(L[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+L[0]+(this.useColors?"%c ":" ")+"+"+K.exports.humanize(this.diff),!this.useColors)return;let X="color: "+this.color;L.splice(1,0,X,"color: inherit");let G=0,F=0;L[0].replace(/%[a-zA-Z%]/g,(D)=>{D!=="%%"&&(G++,D==="%c"&&(F=G))}),L.splice(F,0,X)}N.log=console.debug||console.log||(()=>{});function q(L){try{L?N.storage.setItem("debug",L):N.storage.removeItem("debug")}catch{}}function Z(){let L;try{L=N.storage.getItem("debug")||N.storage.getItem("DEBUG")}catch{}return!L&&typeof E1<"u"&&"env"in E1&&(L=E1.env.DEBUG),L}function U(){try{return localStorage}catch{}}K.exports=o7()(N);var{formatters:M}=K.exports;M.j=function(L){try{return JSON.stringify(L)}catch(X){return"[UnexpectedJSONParseError]: "+X.message}}}),u7=D1((N,K)=>{Y1(),K1(),q1();var Y=g7(),{EventEmitter:J}=(R8(),m1(W8)),q=s7(),Z=R9(),U=q8()("mqtt-packet:parser"),M=class L extends J{constructor(){super(),this.parser=this.constructor.parser}static parser(X){return this instanceof L?(this.settings=X||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new L().parser(X)}_resetState(){U("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new q,this.error=null,this._list=Y(),this._stateCounter=0}parse(X){for(this.error&&this._resetState(),this._list.append(X),U("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,U("parse: state complete. _stateCounter is now: %d",this._stateCounter),U("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return U("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let X=this._list.readUInt8(0),G=X>>Z.CMD_SHIFT;this.packet.cmd=Z.types[G];let F=X&15,D=Z.requiredHeaderFlags[G];return D!=null&&F!==D?this._emitError(Error(Z.requiredHeaderFlagsErrors[G])):(this.packet.retain=(X&Z.RETAIN_MASK)!==0,this.packet.qos=X>>Z.QOS_SHIFT&Z.QOS_MASK,this.packet.qos>2?this._emitError(Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(X&Z.DUP_MASK)!==0,U("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let X=this._parseVarByteNum(!0);return X&&(this.packet.length=X.value,this._list.consume(X.bytes)),U("_parseLength %d",X.value),!!X}_parsePayload(){U("_parsePayload: payload %O",this._list);let X=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(Error("Not supported"))}X=!0}return U("_parsePayload complete result: %s",X),X}_parseConnect(){U("_parseConnect");let X,G,F,D,C={},H=this.packet,$=this._parseString();if($===null)return this._emitError(Error("Cannot parse protocolId"));if($!=="MQTT"&&$!=="MQIsdp")return this._emitError(Error("Invalid protocolId"));if(H.protocolId=$,this._pos>=this._list.length)return this._emitError(Error("Packet too short"));if(H.protocolVersion=this._list.readUInt8(this._pos),H.protocolVersion>=128&&(H.bridgeMode=!0,H.protocolVersion=H.protocolVersion-128),H.protocolVersion!==3&&H.protocolVersion!==4&&H.protocolVersion!==5)return this._emitError(Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(Error("Connect flag bit 0 must be 0, but got 1"));C.username=this._list.readUInt8(this._pos)&Z.USERNAME_MASK,C.password=this._list.readUInt8(this._pos)&Z.PASSWORD_MASK,C.will=this._list.readUInt8(this._pos)&Z.WILL_FLAG_MASK;let V=!!(this._list.readUInt8(this._pos)&Z.WILL_RETAIN_MASK),A=(this._list.readUInt8(this._pos)&Z.WILL_QOS_MASK)>>Z.WILL_QOS_SHIFT;if(C.will)H.will={},H.will.retain=V,H.will.qos=A;else{if(V)return this._emitError(Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(A)return this._emitError(Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(H.clean=(this._list.readUInt8(this._pos)&Z.CLEAN_SESSION_MASK)!==0,this._pos++,H.keepalive=this._parseNum(),H.keepalive===-1)return this._emitError(Error("Packet too short"));if(H.protocolVersion===5){let j=this._parseProperties();Object.getOwnPropertyNames(j).length&&(H.properties=j)}let Q=this._parseString();if(Q===null)return this._emitError(Error("Packet too short"));if(H.clientId=Q,U("_parseConnect: packet.clientId: %s",H.clientId),C.will){if(H.protocolVersion===5){let j=this._parseProperties();Object.getOwnPropertyNames(j).length&&(H.will.properties=j)}if(X=this._parseString(),X===null)return this._emitError(Error("Cannot parse will topic"));if(H.will.topic=X,U("_parseConnect: packet.will.topic: %s",H.will.topic),G=this._parseBuffer(),G===null)return this._emitError(Error("Cannot parse will payload"));H.will.payload=G,U("_parseConnect: packet.will.paylaod: %s",H.will.payload)}if(C.username){if(D=this._parseString(),D===null)return this._emitError(Error("Cannot parse username"));H.username=D,U("_parseConnect: packet.username: %s",H.username)}if(C.password){if(F=this._parseBuffer(),F===null)return this._emitError(Error("Cannot parse password"));H.password=F}return this.settings=H,U("_parseConnect: complete"),H}_parseConnack(){U("_parseConnack");let X=this.packet;if(this._list.length<1)return null;let G=this._list.readUInt8(this._pos++);if(G>1)return this._emitError(Error("Invalid connack flags, bits 7-1 must be set to 0"));if(X.sessionPresent=!!(G&Z.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?X.reasonCode=this._list.readUInt8(this._pos++):X.reasonCode=0;else{if(this._list.length<2)return null;X.returnCode=this._list.readUInt8(this._pos++)}if(X.returnCode===-1||X.reasonCode===-1)return this._emitError(Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let F=this._parseProperties();Object.getOwnPropertyNames(F).length&&(X.properties=F)}U("_parseConnack: complete")}_parsePublish(){U("_parsePublish");let X=this.packet;if(X.topic=this._parseString(),X.topic===null)return this._emitError(Error("Cannot parse topic"));if(!(X.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let G=this._parseProperties();Object.getOwnPropertyNames(G).length&&(X.properties=G)}X.payload=this._list.slice(this._pos,X.length),U("_parsePublish: payload from buffer list: %o",X.payload)}}_parseSubscribe(){U("_parseSubscribe");let X=this.packet,G,F,D,C,H,$,V;if(X.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(X.properties=A)}if(X.length<=0)return this._emitError(Error("Malformed subscribe, no payload specified"));for(;this._pos<X.length;){if(G=this._parseString(),G===null)return this._emitError(Error("Cannot parse topic"));if(this._pos>=X.length)return this._emitError(Error("Malformed Subscribe Payload"));if(F=this._parseByte(),this.settings.protocolVersion===5){if(F&192)return this._emitError(Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(F&252)return this._emitError(Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(D=F&Z.SUBSCRIBE_OPTIONS_QOS_MASK,D>2)return this._emitError(Error("Invalid subscribe QoS, must be <= 2"));if($=(F>>Z.SUBSCRIBE_OPTIONS_NL_SHIFT&Z.SUBSCRIBE_OPTIONS_NL_MASK)!==0,H=(F>>Z.SUBSCRIBE_OPTIONS_RAP_SHIFT&Z.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,C=F>>Z.SUBSCRIBE_OPTIONS_RH_SHIFT&Z.SUBSCRIBE_OPTIONS_RH_MASK,C>2)return this._emitError(Error("Invalid retain handling, must be <= 2"));V={topic:G,qos:D},this.settings.protocolVersion===5?(V.nl=$,V.rap=H,V.rh=C):this.settings.bridgeMode&&(V.rh=0,V.rap=!0,V.nl=!0),U("_parseSubscribe: push subscription `%s` to subscription",V),X.subscriptions.push(V)}}}_parseSuback(){U("_parseSuback");let X=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let G=this._parseProperties();Object.getOwnPropertyNames(G).length&&(X.properties=G)}if(X.length<=0)return this._emitError(Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let G=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!Z.MQTT5_SUBACK_CODES[G])return this._emitError(Error("Invalid suback code"))}else if(G>2&&G!==128)return this._emitError(Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(G)}}}_parseUnsubscribe(){U("_parseUnsubscribe");let X=this.packet;if(X.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let G=this._parseProperties();Object.getOwnPropertyNames(G).length&&(X.properties=G)}if(X.length<=0)return this._emitError(Error("Malformed unsubscribe, no payload specified"));for(;this._pos<X.length;){let G=this._parseString();if(G===null)return this._emitError(Error("Cannot parse topic"));U("_parseUnsubscribe: push topic `%s` to unsubscriptions",G),X.unsubscriptions.push(G)}}}_parseUnsuback(){U("_parseUnsuback");let X=this.packet;if(!this._parseMessageId())return this._emitError(Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&X.length!==2)return this._emitError(Error("Malformed unsuback, payload length must be 2"));if(X.length<=0)return this._emitError(Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let G=this._parseProperties();for(Object.getOwnPropertyNames(G).length&&(X.properties=G),X.granted=[];this._pos<this.packet.length;){let F=this._list.readUInt8(this._pos++);if(!Z.MQTT5_UNSUBACK_CODES[F])return this._emitError(Error("Invalid unsuback code"));this.packet.granted.push(F)}}}_parseConfirmation(){U("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let X=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(X.length>2){switch(X.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!Z.MQTT5_PUBACK_PUBREC_CODES[X.reasonCode])return this._emitError(Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!Z.MQTT5_PUBREL_PUBCOMP_CODES[X.reasonCode])return this._emitError(Error("Invalid "+this.packet.cmd+" reason code"));break}U("_parseConfirmation: packet.reasonCode `%d`",X.reasonCode)}else X.reasonCode=0;if(X.length>3){let G=this._parseProperties();Object.getOwnPropertyNames(G).length&&(X.properties=G)}}return!0}_parseDisconnect(){let X=this.packet;if(U("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(X.reasonCode=this._parseByte(),Z.MQTT5_DISCONNECT_CODES[X.reasonCode]||this._emitError(Error("Invalid disconnect reason code"))):X.reasonCode=0;let G=this._parseProperties();Object.getOwnPropertyNames(G).length&&(X.properties=G)}return U("_parseDisconnect result: true"),!0}_parseAuth(){U("_parseAuth");let X=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(Error("Not supported auth packet for this version MQTT"));if(X.reasonCode=this._parseByte(),!Z.MQTT5_AUTH_CODES[X.reasonCode])return this._emitError(Error("Invalid auth reason code"));let G=this._parseProperties();return Object.getOwnPropertyNames(G).length&&(X.properties=G),U("_parseAuth: result: true"),!0}_parseMessageId(){let X=this.packet;return X.messageId=this._parseNum(),X.messageId===null?(this._emitError(Error("Cannot parse messageId")),!1):(U("_parseMessageId: packet.messageId %d",X.messageId),!0)}_parseString(X){let G=this._parseNum(),F=G+this._pos;if(G===-1||F>this._list.length||F>this.packet.length)return null;let D=this._list.toString("utf8",this._pos,F);return this._pos+=G,U("_parseString: result: %s",D),D}_parseStringPair(){return U("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let X=this._parseNum(),G=X+this._pos;if(X===-1||G>this._list.length||G>this.packet.length)return null;let F=this._list.slice(this._pos,G);return this._pos+=X,U("_parseBuffer: result: %o",F),F}_parseNum(){if(this._list.length-this._pos<2)return-1;let X=this._list.readUInt16BE(this._pos);return this._pos+=2,U("_parseNum: result: %s",X),X}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let X=this._list.readUInt32BE(this._pos);return this._pos+=4,U("_parse4ByteNum: result: %s",X),X}_parseVarByteNum(X){U("_parseVarByteNum");let G=4,F=0,D=1,C=0,H=!1,$,V=this._pos?this._pos:0;for(;F<G&&V+F<this._list.length;){if($=this._list.readUInt8(V+F++),C+=D*($&Z.VARBYTEINT_MASK),D*=128,($&Z.VARBYTEINT_FIN_MASK)===0){H=!0;break}if(this._list.length<=F)break}return!H&&F===G&&this._list.length>=F&&this._emitError(Error("Invalid variable byte integer")),V&&(this._pos+=F),H?X?H={bytes:F,value:C}:H=C:H=!1,U("_parseVarByteNum: result: %o",H),H}_parseByte(){let X;return this._pos<this._list.length&&(X=this._list.readUInt8(this._pos),this._pos++),U("_parseByte: result: %o",X),X}_parseByType(X){switch(U("_parseByType: type: %s",X),X){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){U("_parseProperties");let X=this._parseVarByteNum(),G=this._pos+X,F={};for(;this._pos<G;){let D=this._parseByte();if(!D)return this._emitError(Error("Cannot parse property code type")),!1;let C=Z.propertiesCodes[D];if(!C)return this._emitError(Error("Unknown property")),!1;if(C==="userProperties"){F[C]||(F[C]=Object.create(null));let H=this._parseByType(Z.propertiesTypes[C]);if(F[C][H.name])if(Array.isArray(F[C][H.name]))F[C][H.name].push(H.value);else{let $=F[C][H.name];F[C][H.name]=[$],F[C][H.name].push(H.value)}else F[C][H.name]=H.value;continue}F[C]?Array.isArray(F[C])?F[C].push(this._parseByType(Z.propertiesTypes[C])):(F[C]=[F[C]],F[C].push(this._parseByType(Z.propertiesTypes[C]))):F[C]=this._parseByType(Z.propertiesTypes[C])}return F}_newPacket(){return U("_newPacket"),this.packet&&(this._list.consume(this.packet.length),U("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),U("_newPacket: new packet"),this.packet=new q,this._pos=0,!0}_emitError(X){U("_emitError",X),this.error=X,this.emit("error",X)}};K.exports=M}),i7=D1((N,K)=>{Y1(),K1(),q1();var{Buffer:Y}=(w1(),m1(p1)),J=65536,q={},Z=Y.isBuffer(Y.from([1,2]).subarray(0,1));function U(G){let F=Y.allocUnsafe(2);return F.writeUInt8(G>>8,0),F.writeUInt8(G&255,1),F}function M(){for(let G=0;G<J;G++)q[G]=U(G)}function L(G){let F=0,D=0,C=Y.allocUnsafe(4);do F=G%128|0,G=G/128|0,G>0&&(F=F|128),C.writeUInt8(F,D++);while(G>0&&D<4);return G>0&&(D=0),Z?C.subarray(0,D):C.slice(0,D)}function X(G){let F=Y.allocUnsafe(4);return F.writeUInt32BE(G,0),F}K.exports={cache:q,generateCache:M,generateNumber:U,genBufVariableByteInt:L,generate4ByteBuffer:X}}),n7=D1((N,K)=>{Y1(),K1(),q1(),typeof E1>"u"||!E1.version||E1.version.indexOf("v0.")===0||E1.version.indexOf("v1.")===0&&E1.version.indexOf("v1.8.")!==0?K.exports={nextTick:Y}:K.exports=E1;function Y(J,q,Z,U){if(typeof J!="function")throw TypeError('"callback" argument must be a function');var M=arguments.length,L,X;switch(M){case 0:case 1:return E1.nextTick(J);case 2:return E1.nextTick(function(){J.call(null,q)});case 3:return E1.nextTick(function(){J.call(null,q,Z)});case 4:return E1.nextTick(function(){J.call(null,q,Z,U)});default:for(L=Array(M-1),X=0;X<L.length;)L[X++]=arguments[X];return E1.nextTick(function(){J.apply(null,L)})}}}),B9=D1((N,K)=>{Y1(),K1(),q1();var Y=R9(),{Buffer:J}=(w1(),m1(p1)),q=J.allocUnsafe(0),Z=J.from([0]),U=i7(),M=n7().nextTick,L=q8()("mqtt-packet:writeToStream"),X=U.cache,G=U.generateNumber,F=U.generateCache,D=U.genBufVariableByteInt,C=U.generate4ByteBuffer,H=t,$=!0;function V(l,p,X1){switch(L("generate called"),p.cork&&(p.cork(),M(A,p)),$&&($=!1,F()),L("generate: packet.cmd: %s",l.cmd),l.cmd){case"connect":return Q(l,p,X1);case"connack":return j(l,p,X1);case"publish":return I(l,p,X1);case"puback":case"pubrec":case"pubrel":case"pubcomp":return W(l,p,X1);case"subscribe":return x(l,p,X1);case"suback":return O(l,p,X1);case"unsubscribe":return B(l,p,X1);case"unsuback":return E(l,p,X1);case"pingreq":case"pingresp":return v(l,p,X1);case"disconnect":return h(l,p,X1);case"auth":return P(l,p,X1);default:return p.destroy(Error("Unknown command")),!1}}Object.defineProperty(V,"cacheNumbers",{get(){return H===t},set(l){l?((!X||Object.keys(X).length===0)&&($=!0),H=t):($=!1,H=g)}});function A(l){l.uncork()}function Q(l,p,X1){let o=l||{},s=o.protocolId||"MQTT",i=o.protocolVersion||4,N1=o.will,z1=o.clean,S=o.keepalive||0,_=o.clientId||"",L1=o.username,Q1=o.password,F1=o.properties;z1===void 0&&(z1=!0);let W1=0;if(!s||typeof s!="string"&&!J.isBuffer(s))return p.destroy(Error("Invalid protocolId")),!1;if(W1+=s.length+2,i!==3&&i!==4&&i!==5)return p.destroy(Error("Invalid protocol version")),!1;if(W1+=1,(typeof _=="string"||J.isBuffer(_))&&(_||i>=4)&&(_||z1))W1+=J.byteLength(_)+2;else{if(i<4)return p.destroy(Error("clientId must be supplied before 3.1.1")),!1;if(z1*1===0)return p.destroy(Error("clientId must be given if cleanSession set to 0")),!1}if(typeof S!="number"||S<0||S>65535||S%1!==0)return p.destroy(Error("Invalid keepalive")),!1;W1+=2,W1+=1;let a,$1;if(i===5){if(a=e(p,F1),!a)return!1;W1+=a.length}if(N1){if(typeof N1!="object")return p.destroy(Error("Invalid will")),!1;if(!N1.topic||typeof N1.topic!="string")return p.destroy(Error("Invalid will topic")),!1;if(W1+=J.byteLength(N1.topic)+2,W1+=2,N1.payload)if(N1.payload.length>=0)typeof N1.payload=="string"?W1+=J.byteLength(N1.payload):W1+=N1.payload.length;else return p.destroy(Error("Invalid will payload")),!1;if($1={},i===5){if($1=e(p,N1.properties),!$1)return!1;W1+=$1.length}}let k1=!1;if(L1!=null)if(j1(L1))k1=!0,W1+=J.byteLength(L1)+2;else return p.destroy(Error("Invalid username")),!1;if(Q1!=null){if(!k1)return p.destroy(Error("Username is required to use password")),!1;if(j1(Q1))W1+=U1(Q1)+2;else return p.destroy(Error("Invalid password")),!1}p.write(Y.CONNECT_HEADER),y(p,W1),f(p,s),o.bridgeMode&&(i+=128),p.write(i===131?Y.VERSION131:i===132?Y.VERSION132:i===4?Y.VERSION4:i===5?Y.VERSION5:Y.VERSION3);let V1=0;return V1|=L1!=null?Y.USERNAME_MASK:0,V1|=Q1!=null?Y.PASSWORD_MASK:0,V1|=N1&&N1.retain?Y.WILL_RETAIN_MASK:0,V1|=N1&&N1.qos?N1.qos<<Y.WILL_QOS_SHIFT:0,V1|=N1?Y.WILL_FLAG_MASK:0,V1|=z1?Y.CLEAN_SESSION_MASK:0,p.write(J.from([V1])),H(p,S),i===5&&a.write(),f(p,_),N1&&(i===5&&$1.write(),w(p,N1.topic),f(p,N1.payload)),L1!=null&&f(p,L1),Q1!=null&&f(p,Q1),!0}function j(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=o===5?s.reasonCode:s.returnCode,N1=s.properties,z1=2;if(typeof i!="number")return p.destroy(Error("Invalid return code")),!1;let S=null;if(o===5){if(S=e(p,N1),!S)return!1;z1+=S.length}return p.write(Y.CONNACK_HEADER),y(p,z1),p.write(s.sessionPresent?Y.SESSIONPRESENT_HEADER:Z),p.write(J.from([i])),S?.write(),!0}function I(l,p,X1){L("publish: packet: %o",l);let o=X1?X1.protocolVersion:4,s=l||{},i=s.qos||0,N1=s.retain?Y.RETAIN_MASK:0,z1=s.topic,S=s.payload||q,_=s.messageId,L1=s.properties,Q1=0;if(typeof z1=="string")Q1+=J.byteLength(z1)+2;else if(J.isBuffer(z1))Q1+=z1.length+2;else return p.destroy(Error("Invalid topic")),!1;if(J.isBuffer(S)?Q1+=S.length:Q1+=J.byteLength(S),i&&typeof _!="number")return p.destroy(Error("Invalid messageId")),!1;i&&(Q1+=2);let F1=null;if(o===5){if(F1=e(p,L1),!F1)return!1;Q1+=F1.length}return p.write(Y.PUBLISH_HEADER[i][s.dup?1:0][N1?1:0]),y(p,Q1),H(p,U1(z1)),p.write(z1),i>0&&H(p,_),F1?.write(),L("publish: payload: %o",S),p.write(S)}function W(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=s.cmd||"puback",N1=s.messageId,z1=s.dup&&i==="pubrel"?Y.DUP_MASK:0,S=0,_=s.reasonCode,L1=s.properties,Q1=o===5?3:2;if(i==="pubrel"&&(S=1),typeof N1!="number")return p.destroy(Error("Invalid messageId")),!1;let F1=null;if(o===5&&typeof L1=="object"){if(F1=m(p,L1,X1,Q1),!F1)return!1;Q1+=F1.length}return p.write(Y.ACKS[i][S][z1][0]),Q1===3&&(Q1+=_!==0?1:-1),y(p,Q1),H(p,N1),o===5&&Q1!==2&&p.write(J.from([_])),F1!==null?F1.write():Q1===4&&p.write(J.from([0])),!0}function x(l,p,X1){L("subscribe: packet: ");let o=X1?X1.protocolVersion:4,s=l||{},i=s.dup?Y.DUP_MASK:0,N1=s.messageId,z1=s.subscriptions,S=s.properties,_=0;if(typeof N1!="number")return p.destroy(Error("Invalid messageId")),!1;_+=2;let L1=null;if(o===5){if(L1=e(p,S),!L1)return!1;_+=L1.length}if(typeof z1=="object"&&z1.length)for(let F1=0;F1<z1.length;F1+=1){let W1=z1[F1].topic,a=z1[F1].qos;if(typeof W1!="string")return p.destroy(Error("Invalid subscriptions - invalid topic")),!1;if(typeof a!="number")return p.destroy(Error("Invalid subscriptions - invalid qos")),!1;if(o===5){if(typeof(z1[F1].nl||!1)!="boolean")return p.destroy(Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(z1[F1].rap||!1)!="boolean")return p.destroy(Error("Invalid subscriptions - invalid Retain as Published")),!1;let $1=z1[F1].rh||0;if(typeof $1!="number"||$1>2)return p.destroy(Error("Invalid subscriptions - invalid Retain Handling")),!1}_+=J.byteLength(W1)+2+1}else return p.destroy(Error("Invalid subscriptions")),!1;L("subscribe: writing to stream: %o",Y.SUBSCRIBE_HEADER),p.write(Y.SUBSCRIBE_HEADER[1][i?1:0][0]),y(p,_),H(p,N1),L1!==null&&L1.write();let Q1=!0;for(let F1 of z1){let{topic:W1,qos:a}=F1,$1=+F1.nl,k1=+F1.rap,V1=F1.rh,I1;w(p,W1),I1=Y.SUBSCRIBE_OPTIONS_QOS[a],o===5&&(I1|=$1?Y.SUBSCRIBE_OPTIONS_NL:0,I1|=k1?Y.SUBSCRIBE_OPTIONS_RAP:0,I1|=V1?Y.SUBSCRIBE_OPTIONS_RH[V1]:0),Q1=p.write(J.from([I1]))}return Q1}function O(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=s.messageId,N1=s.granted,z1=s.properties,S=0;if(typeof i!="number")return p.destroy(Error("Invalid messageId")),!1;if(S+=2,typeof N1=="object"&&N1.length)for(let L1=0;L1<N1.length;L1+=1){if(typeof N1[L1]!="number")return p.destroy(Error("Invalid qos vector")),!1;S+=1}else return p.destroy(Error("Invalid qos vector")),!1;let _=null;if(o===5){if(_=m(p,z1,X1,S),!_)return!1;S+=_.length}return p.write(Y.SUBACK_HEADER),y(p,S),H(p,i),_!==null&&_.write(),p.write(J.from(N1))}function B(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=s.messageId,N1=s.dup?Y.DUP_MASK:0,z1=s.unsubscriptions,S=s.properties,_=0;if(typeof i!="number")return p.destroy(Error("Invalid messageId")),!1;if(_+=2,typeof z1=="object"&&z1.length)for(let F1=0;F1<z1.length;F1+=1){if(typeof z1[F1]!="string")return p.destroy(Error("Invalid unsubscriptions")),!1;_+=J.byteLength(z1[F1])+2}else return p.destroy(Error("Invalid unsubscriptions")),!1;let L1=null;if(o===5){if(L1=e(p,S),!L1)return!1;_+=L1.length}p.write(Y.UNSUBSCRIBE_HEADER[1][N1?1:0][0]),y(p,_),H(p,i),L1!==null&&L1.write();let Q1=!0;for(let F1=0;F1<z1.length;F1++)Q1=w(p,z1[F1]);return Q1}function E(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=s.messageId,N1=s.dup?Y.DUP_MASK:0,z1=s.granted,S=s.properties,_=s.cmd,L1=0,Q1=2;if(typeof i!="number")return p.destroy(Error("Invalid messageId")),!1;if(o===5)if(typeof z1=="object"&&z1.length)for(let W1=0;W1<z1.length;W1+=1){if(typeof z1[W1]!="number")return p.destroy(Error("Invalid qos vector")),!1;Q1+=1}else return p.destroy(Error("Invalid qos vector")),!1;let F1=null;if(o===5){if(F1=m(p,S,X1,Q1),!F1)return!1;Q1+=F1.length}return p.write(Y.ACKS[_][L1][N1][0]),y(p,Q1),H(p,i),F1!==null&&F1.write(),o===5&&p.write(J.from(z1)),!0}function v(l,p,X1){return p.write(Y.EMPTY[l.cmd])}function h(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=s.reasonCode,N1=s.properties,z1=o===5?1:0,S=null;if(o===5){if(S=m(p,N1,X1,z1),!S)return!1;z1+=S.length}return p.write(J.from([Y.codes.disconnect<<4])),y(p,z1),o===5&&p.write(J.from([i])),S!==null&&S.write(),!0}function P(l,p,X1){let o=X1?X1.protocolVersion:4,s=l||{},i=s.reasonCode,N1=s.properties,z1=o===5?1:0;o!==5&&p.destroy(Error("Invalid mqtt version for auth packet"));let S=m(p,N1,X1,z1);return S?(z1+=S.length,p.write(J.from([Y.codes.auth<<4])),y(p,z1),p.write(J.from([i])),S!==null&&S.write(),!0):!1}var c={};function y(l,p){if(p>Y.VARBYTEINT_MAX)return l.destroy(Error(`Invalid variable byte integer: ${p}`)),!1;let X1=c[p];return X1||(X1=D(p),p<16384&&(c[p]=X1)),L("writeVarByteInt: writing to stream: %o",X1),l.write(X1)}function w(l,p){let X1=J.byteLength(p);return H(l,X1),L("writeString: %s",p),l.write(p,"utf8")}function G1(l,p,X1){w(l,p),w(l,X1)}function t(l,p){return L("writeNumberCached: number: %d",p),L("writeNumberCached: %o",X[p]),l.write(X[p])}function g(l,p){let X1=G(p);return L("writeNumberGenerated: %o",X1),l.write(X1)}function Z1(l,p){let X1=C(p);return L("write4ByteNumber: %o",X1),l.write(X1)}function f(l,p){typeof p=="string"?w(l,p):p?(H(l,p.length),l.write(p)):H(l,0)}function e(l,p){if(typeof p!="object"||p.length!=null)return{length:1,write(){C1(l,{},0)}};let X1=0;function o(s,i){let N1=Y.propertiesTypes[s],z1=0;switch(N1){case"byte":{if(typeof i!="boolean")return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=2;break}case"int8":{if(typeof i!="number"||i<0||i>255)return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=2;break}case"binary":{if(i&&i===null)return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=1+J.byteLength(i)+2;break}case"int16":{if(typeof i!="number"||i<0||i>65535)return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=3;break}case"int32":{if(typeof i!="number"||i<0||i>4294967295)return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=5;break}case"var":{if(typeof i!="number"||i<0||i>268435455)return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=1+J.byteLength(D(i));break}case"string":{if(typeof i!="string")return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=3+J.byteLength(i.toString());break}case"pair":{if(typeof i!="object")return l.destroy(Error(`Invalid ${s}: ${i}`)),!1;z1+=Object.getOwnPropertyNames(i).reduce((S,_)=>{let L1=i[_];return Array.isArray(L1)?S+=L1.reduce((Q1,F1)=>(Q1+=3+J.byteLength(_.toString())+2+J.byteLength(F1.toString()),Q1),0):S+=3+J.byteLength(_.toString())+2+J.byteLength(i[_].toString()),S},0);break}default:return l.destroy(Error(`Invalid property ${s}: ${i}`)),!1}return z1}if(p)for(let s in p){let i=0,N1=0,z1=p[s];if(z1!==void 0){if(Array.isArray(z1))for(let S=0;S<z1.length;S++){if(N1=o(s,z1[S]),!N1)return!1;i+=N1}else{if(N1=o(s,z1),!N1)return!1;i=N1}if(!i)return!1;X1+=i}}return{length:J.byteLength(D(X1))+X1,write(){C1(l,p,X1)}}}function m(l,p,X1,o){let s=["reasonString","userProperties"],i=X1&&X1.properties&&X1.properties.maximumPacketSize?X1.properties.maximumPacketSize:0,N1=e(l,p);if(i)for(;o+N1.length>i;){let z1=s.shift();if(z1&&p[z1])delete p[z1],N1=e(l,p);else return!1}return N1}function n(l,p,X1){switch(Y.propertiesTypes[p]){case"byte":{l.write(J.from([Y.properties[p]])),l.write(J.from([+X1]));break}case"int8":{l.write(J.from([Y.properties[p]])),l.write(J.from([X1]));break}case"binary":{l.write(J.from([Y.properties[p]])),f(l,X1);break}case"int16":{l.write(J.from([Y.properties[p]])),H(l,X1);break}case"int32":{l.write(J.from([Y.properties[p]])),Z1(l,X1);break}case"var":{l.write(J.from([Y.properties[p]])),y(l,X1);break}case"string":{l.write(J.from([Y.properties[p]])),w(l,X1);break}case"pair":{Object.getOwnPropertyNames(X1).forEach((o)=>{let s=X1[o];Array.isArray(s)?s.forEach((i)=>{l.write(J.from([Y.properties[p]])),G1(l,o.toString(),i.toString())}):(l.write(J.from([Y.properties[p]])),G1(l,o.toString(),s.toString()))});break}default:return l.destroy(Error(`Invalid property ${p} value: ${X1}`)),!1}}function C1(l,p,X1){y(l,X1);for(let o in p)if(Object.prototype.hasOwnProperty.call(p,o)&&p[o]!=null){let s=p[o];if(Array.isArray(s))for(let i=0;i<s.length;i++)n(l,o,s[i]);else n(l,o,s)}}function U1(l){return l?l instanceof J?l.length:J.byteLength(l):0}function j1(l){return typeof l=="string"||l instanceof J}K.exports=V}),r7=D1((N,K)=>{Y1(),K1(),q1();var Y=B9(),{EventEmitter:J}=(R8(),m1(W8)),{Buffer:q}=(w1(),m1(p1));function Z(M,L){let X=new U;return Y(M,X,L),X.concat()}var U=class extends J{constructor(){super(),this._array=Array(20),this._i=0}write(M){return this._array[this._i++]=M,!0}concat(){let M=0,L=Array(this._array.length),X=this._array,G=0,F;for(F=0;F<X.length&&X[F]!==void 0;F++)typeof X[F]!="string"?L[F]=X[F].length:L[F]=q.byteLength(X[F]),M+=L[F];let D=q.allocUnsafe(M);for(F=0;F<X.length&&X[F]!==void 0;F++)typeof X[F]!="string"?(X[F].copy(D,G),G+=L[F]):(D.write(X[F],G),G+=L[F]);return D}destroy(M){M&&this.emit("error",M)}};K.exports=Z}),t7=D1((N)=>{Y1(),K1(),q1(),N.parser=u7().parser,N.generate=r7(),N.writeToStream=B9()}),e7=D1((N,K)=>{Y1(),K1(),q1(),K.exports=J;function Y(Z){return Z instanceof O6?O6.from(Z):new Z.constructor(Z.buffer.slice(),Z.byteOffset,Z.length)}function J(Z){if(Z=Z||{},Z.circles)return q(Z);let U=new Map;if(U.set(Date,(F)=>new Date(F)),U.set(Map,(F,D)=>new Map(L(Array.from(F),D))),U.set(Set,(F,D)=>new Set(L(Array.from(F),D))),Z.constructorHandlers)for(let F of Z.constructorHandlers)U.set(F[0],F[1]);let M=null;return Z.proto?G:X;function L(F,D){let C=Object.keys(F),H=Array(C.length);for(let $=0;$<C.length;$++){let V=C[$],A=F[V];typeof A!="object"||A===null?H[V]=A:A.constructor!==Object&&(M=U.get(A.constructor))?H[V]=M(A,D):ArrayBuffer.isView(A)?H[V]=Y(A):H[V]=D(A)}return H}function X(F){if(typeof F!="object"||F===null)return F;if(Array.isArray(F))return L(F,X);if(F.constructor!==Object&&(M=U.get(F.constructor)))return M(F,X);let D={};for(let C in F){if(Object.hasOwnProperty.call(F,C)===!1)continue;let H=F[C];typeof H!="object"||H===null?D[C]=H:H.constructor!==Object&&(M=U.get(H.constructor))?D[C]=M(H,X):ArrayBuffer.isView(H)?D[C]=Y(H):D[C]=X(H)}return D}function G(F){if(typeof F!="object"||F===null)return F;if(Array.isArray(F))return L(F,G);if(F.constructor!==Object&&(M=U.get(F.constructor)))return M(F,G);let D={};for(let C in F){let H=F[C];typeof H!="object"||H===null?D[C]=H:H.constructor!==Object&&(M=U.get(H.constructor))?D[C]=M(H,G):ArrayBuffer.isView(H)?D[C]=Y(H):D[C]=G(H)}return D}}function q(Z){let U=[],M=[],L=new Map;if(L.set(Date,(C)=>new Date(C)),L.set(Map,(C,H)=>new Map(G(Array.from(C),H))),L.set(Set,(C,H)=>new Set(G(Array.from(C),H))),Z.constructorHandlers)for(let C of Z.constructorHandlers)L.set(C[0],C[1]);let X=null;return Z.proto?D:F;function G(C,H){let $=Object.keys(C),V=Array($.length);for(let A=0;A<$.length;A++){let Q=$[A],j=C[Q];if(typeof j!="object"||j===null)V[Q]=j;else if(j.constructor!==Object&&(X=L.get(j.constructor)))V[Q]=X(j,H);else if(ArrayBuffer.isView(j))V[Q]=Y(j);else{let I=U.indexOf(j);I!==-1?V[Q]=M[I]:V[Q]=H(j)}}return V}function F(C){if(typeof C!="object"||C===null)return C;if(Array.isArray(C))return G(C,F);if(C.constructor!==Object&&(X=L.get(C.constructor)))return X(C,F);let H={};U.push(C),M.push(H);for(let $ in C){if(Object.hasOwnProperty.call(C,$)===!1)continue;let V=C[$];if(typeof V!="object"||V===null)H[$]=V;else if(V.constructor!==Object&&(X=L.get(V.constructor)))H[$]=X(V,F);else if(ArrayBuffer.isView(V))H[$]=Y(V);else{let A=U.indexOf(V);A!==-1?H[$]=M[A]:H[$]=F(V)}}return U.pop(),M.pop(),H}function D(C){if(typeof C!="object"||C===null)return C;if(Array.isArray(C))return G(C,D);if(C.constructor!==Object&&(X=L.get(C.constructor)))return X(C,D);let H={};U.push(C),M.push(H);for(let $ in C){let V=C[$];if(typeof V!="object"||V===null)H[$]=V;else if(V.constructor!==Object&&(X=L.get(V.constructor)))H[$]=X(V,D);else if(ArrayBuffer.isView(V))H[$]=Y(V);else{let A=U.indexOf(V);A!==-1?H[$]=M[A]:H[$]=D(V)}}return U.pop(),M.pop(),H}}}),L0=D1((N,K)=>{Y1(),K1(),q1(),K.exports=e7()()}),U0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0}),N.validateTopic=K,N.validateTopics=Y;function K(J){let q=J.split("/");for(let Z=0;Z<q.length;Z++)if(q[Z]!=="+"){if(q[Z]==="#")return Z===q.length-1;if(q[Z].indexOf("+")!==-1||q[Z].indexOf("#")!==-1)return!1}return!0}function Y(J){if(J.length===0)return"empty_topic_list";for(let q=0;q<J.length;q++)if(!K(J[q]))return J[q];return null}}),P9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=P8(),Y={objectMode:!0},J={clean:!0},q=class{options;_inflights;constructor(Z){this.options=Z||{},this.options={...J,...Z},this._inflights=new Map}put(Z,U){return this._inflights.set(Z.messageId,Z),U&&U(),this}createStream(){let Z=new K.Readable(Y),U=[],M=!1,L=0;return this._inflights.forEach((X,G)=>{U.push(X)}),Z._read=()=>{!M&&L<U.length?Z.push(U[L++]):Z.push(null)},Z.destroy=(X)=>{if(!M)return M=!0,setTimeout(()=>{Z.emit("close")},0),Z},Z}del(Z,U){let M=this._inflights.get(Z.messageId);return M?(this._inflights.delete(Z.messageId),U(null,M)):U&&U(Error("missing packet")),this}get(Z,U){let M=this._inflights.get(Z.messageId);return M?U(null,M):U&&U(Error("missing packet")),this}close(Z){this.options.clean&&(this._inflights=null),Z&&Z()}};N.default=q}),M0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=[0,16,128,131,135,144,145,151,153],Y=(J,q,Z)=>{J.log("handlePublish: packet %o",q),Z=typeof Z<"u"?Z:J.noop;let U=q.topic.toString(),M=q.payload,{qos:L}=q,{messageId:X}=q,{options:G}=J;if(J.options.protocolVersion===5){let F;if(q.properties&&(F=q.properties.topicAlias),typeof F<"u")if(U.length===0)if(F>0&&F<=65535){let D=J.topicAliasRecv.getTopicByAlias(F);if(D)U=D,J.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",U,F);else{J.log("handlePublish :: unregistered topic alias. alias: %d",F),J.emit("error",Error("Received unregistered Topic Alias"));return}}else{J.log("handlePublish :: topic alias out of range. alias: %d",F),J.emit("error",Error("Received Topic Alias is out of range"));return}else if(J.topicAliasRecv.put(U,F))J.log("handlePublish :: registered topic: %s - alias: %d",U,F);else{J.log("handlePublish :: topic alias out of range. alias: %d",F),J.emit("error",Error("Received Topic Alias is out of range"));return}}switch(J.log("handlePublish: qos %d",L),L){case 2:{G.customHandleAcks(U,M,q,(F,D)=>{if(typeof F=="number"&&(D=F,F=null),F)return J.emit("error",F);if(K.indexOf(D)===-1)return J.emit("error",Error("Wrong reason code for pubrec"));D?J._sendPacket({cmd:"pubrec",messageId:X,reasonCode:D},Z):J.incomingStore.put(q,()=>{J._sendPacket({cmd:"pubrec",messageId:X},Z)})});break}case 1:{G.customHandleAcks(U,M,q,(F,D)=>{if(typeof F=="number"&&(D=F,F=null),F)return J.emit("error",F);if(K.indexOf(D)===-1)return J.emit("error",Error("Wrong reason code for puback"));D||J.emit("message",U,M,q),J.handleMessage(q,(C)=>{if(C)return Z&&Z(C);J._sendPacket({cmd:"puback",messageId:X,reasonCode:D},Z)})});break}case 0:J.emit("message",U,M,q),J.handleMessage(q,Z);break;default:J.log("handlePublish: unknown QoS. Doing nothing.");break}};N.default=Y}),Z0=D1((N,K)=>{K.exports={version:"5.14.1"}}),w8=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0}),N.MQTTJS_VERSION=N.nextTick=N.ErrorWithSubackPacket=N.ErrorWithReasonCode=void 0,N.applyMixin=J;var K=class q extends Error{code;constructor(Z,U){super(Z),this.code=U,Object.setPrototypeOf(this,q.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};N.ErrorWithReasonCode=K;var Y=class q extends Error{packet;constructor(Z,U){super(Z),this.packet=U,Object.setPrototypeOf(this,q.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};N.ErrorWithSubackPacket=Y;function J(q,Z,U=!1){let M=[Z];for(;;){let L=M[0],X=Object.getPrototypeOf(L);if(X?.prototype)M.unshift(X);else break}for(let L of M)for(let X of Object.getOwnPropertyNames(L.prototype))(U||X!=="constructor")&&Object.defineProperty(q.prototype,X,Object.getOwnPropertyDescriptor(L.prototype,X)??Object.create(null))}N.nextTick=typeof E1?.nextTick=="function"?E1.nextTick:(q)=>{setTimeout(q,0)},N.MQTTJS_VERSION=Z0().version}),m6=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0}),N.ReasonCodes=void 0;var K=w8();N.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var Y=(J,q)=>{let{messageId:Z}=q,U=q.cmd,M=null,L=J.outgoing[Z]?J.outgoing[Z].cb:null,X=null;if(!L){J.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(J.log("_handleAck :: packet type",U),U){case"pubcomp":case"puback":{let G=q.reasonCode;G&&G>0&&G!==16?(X=new K.ErrorWithReasonCode(`Publish error: ${N.ReasonCodes[G]}`,G),J._removeOutgoingAndStoreMessage(Z,()=>{L(X,q)})):J._removeOutgoingAndStoreMessage(Z,L);break}case"pubrec":{M={cmd:"pubrel",qos:2,messageId:Z};let G=q.reasonCode;G&&G>0&&G!==16?(X=new K.ErrorWithReasonCode(`Publish error: ${N.ReasonCodes[G]}`,G),J._removeOutgoingAndStoreMessage(Z,()=>{L(X,q)})):J._sendPacket(M);break}case"suback":{delete J.outgoing[Z],J.messageIdProvider.deallocate(Z);let G=q.granted;for(let F=0;F<G.length;F++){let D=G[F];if((D&128)!==0){X=Error(`Subscribe error: ${N.ReasonCodes[D]}`),X.code=D;let C=J.messageIdToTopic[Z];C&&C.forEach((H)=>{delete J._resubscribeTopics[H]})}}delete J.messageIdToTopic[Z],J._invokeStoreProcessingQueue(),L(X,q);break}case"unsuback":{delete J.outgoing[Z],J.messageIdProvider.deallocate(Z),J._invokeStoreProcessingQueue(),L(null,q);break}default:J.emit("error",Error("unrecognized packet type"))}J.disconnecting&&Object.keys(J.outgoing).length===0&&J.emit("outgoingEmpty")};N.default=Y}),X0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=w8(),Y=m6(),J=(q,Z)=>{let{options:U}=q,M=U.protocolVersion,L=M===5?Z.reasonCode:Z.returnCode;if(M!==5){let X=new K.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${M}`,L);q.emit("error",X);return}q.handleAuth(Z,(X,G)=>{if(X){q.emit("error",X);return}if(L===24)q.reconnecting=!1,q._sendPacket(G);else{let F=new K.ErrorWithReasonCode(`Connection refused: ${Y.ReasonCodes[L]}`,L);q.emit("error",F)}})};N.default=J}),G0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0}),N.LRUCache=void 0;var K=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Y=new Set,J=typeof E1=="object"&&E1?E1:{},q=(H,$,V,A)=>{typeof J.emitWarning=="function"?J.emitWarning(H,$,V,A):console.error(`[${V}] ${$}: ${H}`)},Z=globalThis.AbortController,U=globalThis.AbortSignal;if(typeof Z>"u"){U=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(V,A){this._onabort.push(A)}},Z=class{constructor(){$()}signal=new U;abort(V){if(!this.signal.aborted){this.signal.reason=V,this.signal.aborted=!0;for(let A of this.signal._onabort)A(V);this.signal.onabort?.(V)}}};let H=J.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",$=()=>{H&&(H=!1,q("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",$))}}var M=(H)=>!Y.has(H),L=Symbol("type"),X=(H)=>H&&H===Math.floor(H)&&H>0&&isFinite(H),G=(H)=>X(H)?H<=Math.pow(2,8)?Uint8Array:H<=Math.pow(2,16)?Uint16Array:H<=Math.pow(2,32)?Uint32Array:H<=Number.MAX_SAFE_INTEGER?F:null:null,F=class extends Array{constructor(H){super(H),this.fill(0)}},D=class H{heap;length;static#Y=!1;static create($){let V=G($);if(!V)return[];H.#Y=!0;let A=new H($,V);return H.#Y=!1,A}constructor($,V){if(!H.#Y)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new V($),this.length=0}push($){this.heap[this.length++]=$}pop(){return this.heap[--this.length]}},C=class H{#Y;#Q;#V;#N;#m;#E;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#X;#C;#Z;#M;#L;#q;#F;#J;#G;#W;#z;#H;#j;#D;#A;#R;#K;static unsafeExposeInternals($){return{starts:$.#j,ttls:$.#D,sizes:$.#H,keyMap:$.#Z,keyList:$.#M,valList:$.#L,next:$.#q,prev:$.#F,get head(){return $.#J},get tail(){return $.#G},free:$.#W,isBackgroundFetch:(V)=>$.#U(V),backgroundFetch:(V,A,Q,j)=>$.#d(V,A,Q,j),moveToTail:(V)=>$.#T(V),indexes:(V)=>$.#k(V),rindexes:(V)=>$.#x(V),isStale:(V)=>$.#$(V)}}get max(){return this.#Y}get maxSize(){return this.#Q}get calculatedSize(){return this.#C}get size(){return this.#X}get fetchMethod(){return this.#m}get memoMethod(){return this.#E}get dispose(){return this.#V}get disposeAfter(){return this.#N}constructor($){let{max:V=0,ttl:A,ttlResolution:Q=1,ttlAutopurge:j,updateAgeOnGet:I,updateAgeOnHas:W,allowStale:x,dispose:O,disposeAfter:B,noDisposeOnSet:E,noUpdateTTL:v,maxSize:h=0,maxEntrySize:P=0,sizeCalculation:c,fetchMethod:y,memoMethod:w,noDeleteOnFetchRejection:G1,noDeleteOnStaleGet:t,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:Z1,ignoreFetchAbort:f}=$;if(V!==0&&!X(V))throw TypeError("max option must be a nonnegative integer");let e=V?G(V):Array;if(!e)throw Error("invalid max value: "+V);if(this.#Y=V,this.#Q=h,this.maxEntrySize=P||this.#Q,this.sizeCalculation=c,this.sizeCalculation){if(!this.#Q&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw TypeError("sizeCalculation set to non-function")}if(w!==void 0&&typeof w!="function")throw TypeError("memoMethod must be a function if defined");if(this.#E=w,y!==void 0&&typeof y!="function")throw TypeError("fetchMethod must be a function if specified");if(this.#m=y,this.#R=!!y,this.#Z=new Map,this.#M=Array(V).fill(void 0),this.#L=Array(V).fill(void 0),this.#q=new e(V),this.#F=new e(V),this.#J=0,this.#G=0,this.#W=D.create(V),this.#X=0,this.#C=0,typeof O=="function"&&(this.#V=O),typeof B=="function"?(this.#N=B,this.#z=[]):(this.#N=void 0,this.#z=void 0),this.#A=!!this.#V,this.#K=!!this.#N,this.noDisposeOnSet=!!E,this.noUpdateTTL=!!v,this.noDeleteOnFetchRejection=!!G1,this.allowStaleOnFetchRejection=!!g,this.allowStaleOnFetchAbort=!!Z1,this.ignoreFetchAbort=!!f,this.maxEntrySize!==0){if(this.#Q!==0&&!X(this.#Q))throw TypeError("maxSize must be a positive integer if specified");if(!X(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#b()}if(this.allowStale=!!x,this.noDeleteOnStaleGet=!!t,this.updateAgeOnGet=!!I,this.updateAgeOnHas=!!W,this.ttlResolution=X(Q)||Q===0?Q:1,this.ttlAutopurge=!!j,this.ttl=A||0,this.ttl){if(!X(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#p()}if(this.#Y===0&&this.ttl===0&&this.#Q===0)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#Y&&!this.#Q){let m="LRU_CACHE_UNBOUNDED";M(m)&&(Y.add(m),q("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",m,H))}}getRemainingTTL($){return this.#Z.has($)?1/0:0}#p(){let $=new F(this.#Y),V=new F(this.#Y);this.#D=$,this.#j=V,this.#w=(j,I,W=K.now())=>{if(V[j]=I!==0?W:0,$[j]=I,I!==0&&this.ttlAutopurge){let x=setTimeout(()=>{this.#$(j)&&this.#I(this.#M[j],"expire")},I+1);x.unref&&x.unref()}},this.#B=(j)=>{V[j]=$[j]!==0?K.now():0},this.#O=(j,I)=>{if($[I]){let W=$[I],x=V[I];if(!W||!x)return;j.ttl=W,j.start=x,j.now=A||Q();let O=j.now-x;j.remainingTTL=W-O}};let A=0,Q=()=>{let j=K.now();if(this.ttlResolution>0){A=j;let I=setTimeout(()=>A=0,this.ttlResolution);I.unref&&I.unref()}return j};this.getRemainingTTL=(j)=>{let I=this.#Z.get(j);if(I===void 0)return 0;let W=$[I],x=V[I];if(!W||!x)return 1/0;let O=(A||Q())-x;return W-O},this.#$=(j)=>{let I=V[j],W=$[j];return!!W&&!!I&&(A||Q())-I>W}}#B=()=>{};#O=()=>{};#w=()=>{};#$=()=>!1;#b(){let $=new F(this.#Y);this.#C=0,this.#H=$,this.#P=(V)=>{this.#C-=$[V],$[V]=0},this.#h=(V,A,Q,j)=>{if(this.#U(A))return 0;if(!X(Q))if(j){if(typeof j!="function")throw TypeError("sizeCalculation must be a function");if(Q=j(A,V),!X(Q))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return Q},this.#v=(V,A,Q)=>{if($[V]=A,this.#Q){let j=this.#Q-$[V];for(;this.#C>j;)this.#S(!0)}this.#C+=$[V],Q&&(Q.entrySize=A,Q.totalCalculatedSize=this.#C)}}#P=($)=>{};#v=($,V,A)=>{};#h=($,V,A,Q)=>{if(A||Q)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#k({allowStale:$=this.allowStale}={}){if(this.#X)for(let V=this.#G;!(!this.#c(V)||(($||!this.#$(V))&&(yield V),V===this.#J));)V=this.#F[V]}*#x({allowStale:$=this.allowStale}={}){if(this.#X)for(let V=this.#J;!(!this.#c(V)||(($||!this.#$(V))&&(yield V),V===this.#G));)V=this.#q[V]}#c($){return $!==void 0&&this.#Z.get(this.#M[$])===$}*entries(){for(let $ of this.#k())this.#L[$]!==void 0&&this.#M[$]!==void 0&&!this.#U(this.#L[$])&&(yield[this.#M[$],this.#L[$]])}*rentries(){for(let $ of this.#x())this.#L[$]!==void 0&&this.#M[$]!==void 0&&!this.#U(this.#L[$])&&(yield[this.#M[$],this.#L[$]])}*keys(){for(let $ of this.#k()){let V=this.#M[$];V!==void 0&&!this.#U(this.#L[$])&&(yield V)}}*rkeys(){for(let $ of this.#x()){let V=this.#M[$];V!==void 0&&!this.#U(this.#L[$])&&(yield V)}}*values(){for(let $ of this.#k())this.#L[$]!==void 0&&!this.#U(this.#L[$])&&(yield this.#L[$])}*rvalues(){for(let $ of this.#x())this.#L[$]!==void 0&&!this.#U(this.#L[$])&&(yield this.#L[$])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find($,V={}){for(let A of this.#k()){let Q=this.#L[A],j=this.#U(Q)?Q.__staleWhileFetching:Q;if(j!==void 0&&$(j,this.#M[A],this))return this.get(this.#M[A],V)}}forEach($,V=this){for(let A of this.#k()){let Q=this.#L[A],j=this.#U(Q)?Q.__staleWhileFetching:Q;j!==void 0&&$.call(V,j,this.#M[A],this)}}rforEach($,V=this){for(let A of this.#x()){let Q=this.#L[A],j=this.#U(Q)?Q.__staleWhileFetching:Q;j!==void 0&&$.call(V,j,this.#M[A],this)}}purgeStale(){let $=!1;for(let V of this.#x({allowStale:!0}))this.#$(V)&&(this.#I(this.#M[V],"expire"),$=!0);return $}info($){let V=this.#Z.get($);if(V===void 0)return;let A=this.#L[V],Q=this.#U(A)?A.__staleWhileFetching:A;if(Q===void 0)return;let j={value:Q};if(this.#D&&this.#j){let I=this.#D[V],W=this.#j[V];if(I&&W){let x=I-(K.now()-W);j.ttl=x,j.start=Date.now()}}return this.#H&&(j.size=this.#H[V]),j}dump(){let $=[];for(let V of this.#k({allowStale:!0})){let A=this.#M[V],Q=this.#L[V],j=this.#U(Q)?Q.__staleWhileFetching:Q;if(j===void 0||A===void 0)continue;let I={value:j};if(this.#D&&this.#j){I.ttl=this.#D[V];let W=K.now()-this.#j[V];I.start=Math.floor(Date.now()-W)}this.#H&&(I.size=this.#H[V]),$.unshift([A,I])}return $}load($){this.clear();for(let[V,A]of $){if(A.start){let Q=Date.now()-A.start;A.start=K.now()-Q}this.set(V,A.value,A)}}set($,V,A={}){if(V===void 0)return this.delete($),this;let{ttl:Q=this.ttl,start:j,noDisposeOnSet:I=this.noDisposeOnSet,sizeCalculation:W=this.sizeCalculation,status:x}=A,{noUpdateTTL:O=this.noUpdateTTL}=A,B=this.#h($,V,A.size||0,W);if(this.maxEntrySize&&B>this.maxEntrySize)return x&&(x.set="miss",x.maxEntrySizeExceeded=!0),this.#I($,"set"),this;let E=this.#X===0?void 0:this.#Z.get($);if(E===void 0)E=this.#X===0?this.#G:this.#W.length!==0?this.#W.pop():this.#X===this.#Y?this.#S(!1):this.#X,this.#M[E]=$,this.#L[E]=V,this.#Z.set($,E),this.#q[this.#G]=E,this.#F[E]=this.#G,this.#G=E,this.#X++,this.#v(E,B,x),x&&(x.set="add"),O=!1;else{this.#T(E);let v=this.#L[E];if(V!==v){if(this.#R&&this.#U(v)){v.__abortController.abort(Error("replaced"));let{__staleWhileFetching:h}=v;h!==void 0&&!I&&(this.#A&&this.#V?.(h,$,"set"),this.#K&&this.#z?.push([h,$,"set"]))}else I||(this.#A&&this.#V?.(v,$,"set"),this.#K&&this.#z?.push([v,$,"set"]));if(this.#P(E),this.#v(E,B,x),this.#L[E]=V,x){x.set="replace";let h=v&&this.#U(v)?v.__staleWhileFetching:v;h!==void 0&&(x.oldValue=h)}}else x&&(x.set="update")}if(Q!==0&&!this.#D&&this.#p(),this.#D&&(O||this.#w(E,Q,j),x&&this.#O(x,E)),!I&&this.#K&&this.#z){let v=this.#z,h;for(;h=v?.shift();)this.#N?.(...h)}return this}pop(){try{for(;this.#X;){let $=this.#L[this.#J];if(this.#S(!0),this.#U($)){if($.__staleWhileFetching)return $.__staleWhileFetching}else if($!==void 0)return $}}finally{if(this.#K&&this.#z){let $=this.#z,V;for(;V=$?.shift();)this.#N?.(...V)}}}#S($){let V=this.#J,A=this.#M[V],Q=this.#L[V];return this.#R&&this.#U(Q)?Q.__abortController.abort(Error("evicted")):(this.#A||this.#K)&&(this.#A&&this.#V?.(Q,A,"evict"),this.#K&&this.#z?.push([Q,A,"evict"])),this.#P(V),$&&(this.#M[V]=void 0,this.#L[V]=void 0,this.#W.push(V)),this.#X===1?(this.#J=this.#G=0,this.#W.length=0):this.#J=this.#q[V],this.#Z.delete(A),this.#X--,V}has($,V={}){let{updateAgeOnHas:A=this.updateAgeOnHas,status:Q}=V,j=this.#Z.get($);if(j!==void 0){let I=this.#L[j];if(this.#U(I)&&I.__staleWhileFetching===void 0)return!1;if(this.#$(j))Q&&(Q.has="stale",this.#O(Q,j));else return A&&this.#B(j),Q&&(Q.has="hit",this.#O(Q,j)),!0}else Q&&(Q.has="miss");return!1}peek($,V={}){let{allowStale:A=this.allowStale}=V,Q=this.#Z.get($);if(Q===void 0||!A&&this.#$(Q))return;let j=this.#L[Q];return this.#U(j)?j.__staleWhileFetching:j}#d($,V,A,Q){let j=V===void 0?void 0:this.#L[V];if(this.#U(j))return j;let I=new Z,{signal:W}=A;W?.addEventListener("abort",()=>I.abort(W.reason),{signal:I.signal});let x={signal:I.signal,options:A,context:Q},O=(c,y=!1)=>{let{aborted:w}=I.signal,G1=A.ignoreFetchAbort&&c!==void 0;if(A.status&&(w&&!y?(A.status.fetchAborted=!0,A.status.fetchError=I.signal.reason,G1&&(A.status.fetchAbortIgnored=!0)):A.status.fetchResolved=!0),w&&!G1&&!y)return E(I.signal.reason);let t=h;return this.#L[V]===h&&(c===void 0?t.__staleWhileFetching?this.#L[V]=t.__staleWhileFetching:this.#I($,"fetch"):(A.status&&(A.status.fetchUpdated=!0),this.set($,c,x.options))),c},B=(c)=>(A.status&&(A.status.fetchRejected=!0,A.status.fetchError=c),E(c)),E=(c)=>{let{aborted:y}=I.signal,w=y&&A.allowStaleOnFetchAbort,G1=w||A.allowStaleOnFetchRejection,t=G1||A.noDeleteOnFetchRejection,g=h;if(this.#L[V]===h&&(!t||g.__staleWhileFetching===void 0?this.#I($,"fetch"):w||(this.#L[V]=g.__staleWhileFetching)),G1)return A.status&&g.__staleWhileFetching!==void 0&&(A.status.returnedStale=!0),g.__staleWhileFetching;if(g.__returned===g)throw c},v=(c,y)=>{let w=this.#m?.($,j,x);w&&w instanceof Promise&&w.then((G1)=>c(G1===void 0?void 0:G1),y),I.signal.addEventListener("abort",()=>{(!A.ignoreFetchAbort||A.allowStaleOnFetchAbort)&&(c(void 0),A.allowStaleOnFetchAbort&&(c=(G1)=>O(G1,!0)))})};A.status&&(A.status.fetchDispatched=!0);let h=new Promise(v).then(O,B),P=Object.assign(h,{__abortController:I,__staleWhileFetching:j,__returned:void 0});return V===void 0?(this.set($,P,{...x.options,status:void 0}),V=this.#Z.get($)):this.#L[V]=P,P}#U($){if(!this.#R)return!1;let V=$;return!!V&&V instanceof Promise&&V.hasOwnProperty("__staleWhileFetching")&&V.__abortController instanceof Z}async fetch($,V={}){let{allowStale:A=this.allowStale,updateAgeOnGet:Q=this.updateAgeOnGet,noDeleteOnStaleGet:j=this.noDeleteOnStaleGet,ttl:I=this.ttl,noDisposeOnSet:W=this.noDisposeOnSet,size:x=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:B=this.noUpdateTTL,noDeleteOnFetchRejection:E=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:v=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:P=this.allowStaleOnFetchAbort,context:c,forceRefresh:y=!1,status:w,signal:G1}=V;if(!this.#R)return w&&(w.fetch="get"),this.get($,{allowStale:A,updateAgeOnGet:Q,noDeleteOnStaleGet:j,status:w});let t={allowStale:A,updateAgeOnGet:Q,noDeleteOnStaleGet:j,ttl:I,noDisposeOnSet:W,size:x,sizeCalculation:O,noUpdateTTL:B,noDeleteOnFetchRejection:E,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:P,ignoreFetchAbort:h,status:w,signal:G1},g=this.#Z.get($);if(g===void 0){w&&(w.fetch="miss");let Z1=this.#d($,g,t,c);return Z1.__returned=Z1}else{let Z1=this.#L[g];if(this.#U(Z1)){let n=A&&Z1.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",n&&(w.returnedStale=!0)),n?Z1.__staleWhileFetching:Z1.__returned=Z1}let f=this.#$(g);if(!y&&!f)return w&&(w.fetch="hit"),this.#T(g),Q&&this.#B(g),w&&this.#O(w,g),Z1;let e=this.#d($,g,t,c),m=e.__staleWhileFetching!==void 0&&A;return w&&(w.fetch=f?"stale":"refresh",m&&f&&(w.returnedStale=!0)),m?e.__staleWhileFetching:e.__returned=e}}async forceFetch($,V={}){let A=await this.fetch($,V);if(A===void 0)throw Error("fetch() returned undefined");return A}memo($,V={}){let A=this.#E;if(!A)throw Error("no memoMethod provided to constructor");let{context:Q,forceRefresh:j,...I}=V,W=this.get($,I);if(!j&&W!==void 0)return W;let x=A($,W,{options:I,context:Q});return this.set($,x,I),x}get($,V={}){let{allowStale:A=this.allowStale,updateAgeOnGet:Q=this.updateAgeOnGet,noDeleteOnStaleGet:j=this.noDeleteOnStaleGet,status:I}=V,W=this.#Z.get($);if(W!==void 0){let x=this.#L[W],O=this.#U(x);return I&&this.#O(I,W),this.#$(W)?(I&&(I.get="stale"),O?(I&&A&&x.__staleWhileFetching!==void 0&&(I.returnedStale=!0),A?x.__staleWhileFetching:void 0):(j||this.#I($,"expire"),I&&A&&(I.returnedStale=!0),A?x:void 0)):(I&&(I.get="hit"),O?x.__staleWhileFetching:(this.#T(W),Q&&this.#B(W),x))}else I&&(I.get="miss")}#f($,V){this.#F[V]=$,this.#q[$]=V}#T($){$!==this.#G&&($===this.#J?this.#J=this.#q[$]:this.#f(this.#F[$],this.#q[$]),this.#f(this.#G,$),this.#G=$)}delete($){return this.#I($,"delete")}#I($,V){let A=!1;if(this.#X!==0){let Q=this.#Z.get($);if(Q!==void 0)if(A=!0,this.#X===1)this.#_(V);else{this.#P(Q);let j=this.#L[Q];if(this.#U(j)?j.__abortController.abort(Error("deleted")):(this.#A||this.#K)&&(this.#A&&this.#V?.(j,$,V),this.#K&&this.#z?.push([j,$,V])),this.#Z.delete($),this.#M[Q]=void 0,this.#L[Q]=void 0,Q===this.#G)this.#G=this.#F[Q];else if(Q===this.#J)this.#J=this.#q[Q];else{let I=this.#F[Q];this.#q[I]=this.#q[Q];let W=this.#q[Q];this.#F[W]=this.#F[Q]}this.#X--,this.#W.push(Q)}}if(this.#K&&this.#z?.length){let Q=this.#z,j;for(;j=Q?.shift();)this.#N?.(...j)}return A}clear(){return this.#_("delete")}#_($){for(let V of this.#x({allowStale:!0})){let A=this.#L[V];if(this.#U(A))A.__abortController.abort(Error("deleted"));else{let Q=this.#M[V];this.#A&&this.#V?.(A,Q,$),this.#K&&this.#z?.push([A,Q,$])}}if(this.#Z.clear(),this.#L.fill(void 0),this.#M.fill(void 0),this.#D&&this.#j&&(this.#D.fill(0),this.#j.fill(0)),this.#H&&this.#H.fill(0),this.#J=0,this.#G=0,this.#W.length=0,this.#C=0,this.#X=0,this.#K&&this.#z){let V=this.#z,A;for(;A=V?.shift();)this.#N?.(...A)}}};N.LRUCache=C}),Q8=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.ContainerIterator=N.Container=N.Base=void 0;var K=class{constructor(q=0){this.iteratorType=q}equals(q){return this.o===q.o}};N.ContainerIterator=K;var Y=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};N.Base=Y;var J=class extends Y{};N.Container=J}),z0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=Q8(),Y=class extends K.Base{constructor(q=[]){super(),this.S=[];let Z=this;q.forEach(function(U){Z.push(U)})}clear(){this.i=0,this.S=[]}push(q){return this.S.push(q),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},J=Y;N.default=J}),J0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=Q8(),Y=class extends K.Base{constructor(q=[]){super(),this.j=0,this.q=[];let Z=this;q.forEach(function(U){Z.push(U)})}clear(){this.q=[],this.i=this.j=0}push(q){let Z=this.q.length;if(this.j/Z>0.5&&this.j+this.i>=Z&&Z>4096){let U=this.i;for(let M=0;M<U;++M)this.q[M]=this.q[this.j+M];this.j=0,this.q[this.i]=q}else this.q[this.j+this.i]=q;return++this.i}pop(){if(this.i===0)return;let q=this.q[this.j++];return this.i-=1,q}front(){if(this.i!==0)return this.q[this.j]}},J=Y;N.default=J}),Y0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=Q8(),Y=class extends K.Base{constructor(q=[],Z=function(M,L){return M>L?-1:M<L?1:0},U=!0){if(super(),this.v=Z,Array.isArray(q))this.C=U?[...q]:q;else{this.C=[];let L=this;q.forEach(function(X){L.C.push(X)})}this.i=this.C.length;let M=this.i>>1;for(let L=this.i-1>>1;L>=0;--L)this.k(L,M)}m(q){let Z=this.C[q];for(;q>0;){let U=q-1>>1,M=this.C[U];if(this.v(M,Z)<=0)break;this.C[q]=M,q=U}this.C[q]=Z}k(q,Z){let U=this.C[q];for(;q<Z;){let M=q<<1|1,L=M+1,X=this.C[M];if(L<this.i&&this.v(X,this.C[L])>0&&(M=L,X=this.C[L]),this.v(X,U)>=0)break;this.C[q]=X,q=M}this.C[q]=U}clear(){this.i=0,this.C.length=0}push(q){this.C.push(q),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let q=this.C[0],Z=this.C.pop();return this.i-=1,this.i&&(this.C[0]=Z,this.k(0,this.i>>1)),q}top(){return this.C[0]}find(q){return this.C.indexOf(q)>=0}remove(q){let Z=this.C.indexOf(q);return Z<0?!1:(Z===0?this.pop():Z===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(Z,1,this.C.pop()),this.i-=1,this.m(Z),this.k(Z,this.i>>1)),!0)}updateItem(q){let Z=this.C.indexOf(q);return Z<0?!1:(this.m(Z),this.k(Z,this.i>>1),!0)}toArray(){return[...this.C]}},J=Y;N.default=J}),h5=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=Q8(),Y=class extends K.Container{},J=Y;N.default=J}),F8=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.throwIteratorAccessError=K;function K(){throw RangeError("Iterator access denied!")}}),T9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.RandomIterator=void 0;var K=Q8(),Y=F8(),J=class extends K.ContainerIterator{constructor(q,Z){super(Z),this.o=q,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,Y.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,Y.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,Y.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,Y.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(q){this.container.setElementByPos(this.o,q)}};N.RandomIterator=J}),q0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=J(h5()),Y=T9();function J(M){return M&&M.t?M:{default:M}}var q=class M extends Y.RandomIterator{constructor(L,X,G){super(L,G),this.container=X}copy(){return new M(this.o,this.container,this.iteratorType)}},Z=class extends K.default{constructor(M=[],L=!0){if(super(),Array.isArray(M))this.J=L?[...M]:M,this.i=M.length;else{this.J=[];let X=this;M.forEach(function(G){X.pushBack(G)})}}clear(){this.i=0,this.J.length=0}begin(){return new q(0,this)}end(){return new q(this.i,this)}rBegin(){return new q(this.i-1,this,1)}rEnd(){return new q(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(M){if(M<0||M>this.i-1)throw RangeError();return this.J[M]}eraseElementByPos(M){if(M<0||M>this.i-1)throw RangeError();return this.J.splice(M,1),this.i-=1,this.i}eraseElementByValue(M){let L=0;for(let X=0;X<this.i;++X)this.J[X]!==M&&(this.J[L++]=this.J[X]);return this.i=this.J.length=L,this.i}eraseElementByIterator(M){let L=M.o;return M=M.next(),this.eraseElementByPos(L),M}pushBack(M){return this.J.push(M),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(M,L){if(M<0||M>this.i-1)throw RangeError();this.J[M]=L}insert(M,L,X=1){if(M<0||M>this.i)throw RangeError();return this.J.splice(M,0,...Array(X).fill(L)),this.i+=X,this.i}find(M){for(let L=0;L<this.i;++L)if(this.J[L]===M)return new q(L,this);return this.end()}reverse(){this.J.reverse()}unique(){let M=1;for(let L=1;L<this.i;++L)this.J[L]!==this.J[L-1]&&(this.J[M++]=this.J[L]);return this.i=this.J.length=M,this.i}sort(M){this.J.sort(M)}forEach(M){for(let L=0;L<this.i;++L)M(this.J[L],L,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},U=Z;N.default=U}),K0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=q(h5()),Y=Q8(),J=F8();function q(L){return L&&L.t?L:{default:L}}var Z=class L extends Y.ContainerIterator{constructor(X,G,F,D){super(D),this.o=X,this.h=G,this.container=F,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o.l}set pointer(X){this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o.l=X}copy(){return new L(this.o,this.h,this.container,this.iteratorType)}},U=class extends K.default{constructor(L=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let X=this;L.forEach(function(G){X.pushBack(G)})}V(L){let{L:X,B:G}=L;X.B=G,G.L=X,L===this.p&&(this.p=G),L===this._&&(this._=X),this.i-=1}G(L,X){let G=X.B,F={l:L,L:X,B:G};X.B=F,G.L=F,X===this.h&&(this.p=F),G===this.h&&(this._=F),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new Z(this.p,this.h,this)}end(){return new Z(this.h,this.h,this)}rBegin(){return new Z(this._,this.h,this,1)}rEnd(){return new Z(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(L){if(L<0||L>this.i-1)throw RangeError();let X=this.p;for(;L--;)X=X.B;return X.l}eraseElementByPos(L){if(L<0||L>this.i-1)throw RangeError();let X=this.p;for(;L--;)X=X.B;return this.V(X),this.i}eraseElementByValue(L){let X=this.p;for(;X!==this.h;)X.l===L&&this.V(X),X=X.B;return this.i}eraseElementByIterator(L){let X=L.o;return X===this.h&&(0,J.throwIteratorAccessError)(),L=L.next(),this.V(X),L}pushBack(L){return this.G(L,this._),this.i}popBack(){if(this.i===0)return;let L=this._.l;return this.V(this._),L}pushFront(L){return this.G(L,this.h),this.i}popFront(){if(this.i===0)return;let L=this.p.l;return this.V(this.p),L}setElementByPos(L,X){if(L<0||L>this.i-1)throw RangeError();let G=this.p;for(;L--;)G=G.B;G.l=X}insert(L,X,G=1){if(L<0||L>this.i)throw RangeError();if(G<=0)return this.i;if(L===0)for(;G--;)this.pushFront(X);else if(L===this.i)for(;G--;)this.pushBack(X);else{let F=this.p;for(let C=1;C<L;++C)F=F.B;let D=F.B;for(this.i+=G;G--;)F.B={l:X,L:F},F.B.L=F,F=F.B;F.B=D,D.L=F}return this.i}find(L){let X=this.p;for(;X!==this.h;){if(X.l===L)return new Z(X,this.h,this);X=X.B}return this.end()}reverse(){if(this.i<=1)return;let L=this.p,X=this._,G=0;for(;G<<1<this.i;){let F=L.l;L.l=X.l,X.l=F,L=L.B,X=X.L,G+=1}}unique(){if(this.i<=1)return this.i;let L=this.p;for(;L!==this.h;){let X=L;for(;X.B!==this.h&&X.l===X.B.l;)X=X.B,this.i-=1;L.B=X.B,L.B.L=L,L=L.B}return this.i}sort(L){if(this.i<=1)return;let X=[];this.forEach(function(F){X.push(F)}),X.sort(L);let G=this.p;X.forEach(function(F){G.l=F,G=G.B})}merge(L){let X=this;if(this.i===0)L.forEach(function(G){X.pushBack(G)});else{let G=this.p;L.forEach(function(F){for(;G!==X.h&&G.l<=F;)G=G.B;X.G(F,G.L)})}return this.i}forEach(L){let X=this.p,G=0;for(;X!==this.h;)L(X.l,G++,this),X=X.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let L=this.p;for(;L!==this.h;)yield L.l,L=L.B}.bind(this)()}},M=U;N.default=M}),Q0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=J(h5()),Y=T9();function J(M){return M&&M.t?M:{default:M}}var q=class M extends Y.RandomIterator{constructor(L,X,G){super(L,G),this.container=X}copy(){return new M(this.o,this.container,this.iteratorType)}},Z=class extends K.default{constructor(M=[],L=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let X=(()=>{if(typeof M.length=="number")return M.length;if(typeof M.size=="number")return M.size;if(typeof M.size=="function")return M.size();throw TypeError("Cannot get the length or size of the container")})();this.F=L,this.P=Math.max(Math.ceil(X/this.F),1);for(let D=0;D<this.P;++D)this.A.push(Array(this.F));let G=Math.ceil(X/this.F);this.j=this.R=(this.P>>1)-(G>>1),this.D=this.N=this.F-X%this.F>>1;let F=this;M.forEach(function(D){F.pushBack(D)})}T(){let M=[],L=Math.max(this.P>>1,1);for(let X=0;X<L;++X)M[X]=Array(this.F);for(let X=this.j;X<this.P;++X)M[M.length]=this.A[X];for(let X=0;X<this.R;++X)M[M.length]=this.A[X];M[M.length]=[...this.A[this.R]],this.j=L,this.R=M.length-1;for(let X=0;X<L;++X)M[M.length]=Array(this.F);this.A=M,this.P=M.length}O(M){let L=this.D+M+1,X=L%this.F,G=X-1,F=this.j+(L-X)/this.F;return X===0&&(F-=1),F%=this.P,G<0&&(G+=this.F),{curNodeBucketIndex:F,curNodePointerIndex:G}}clear(){this.A=[Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new q(0,this)}end(){return new q(this.i,this)}rBegin(){return new q(this.i-1,this,1)}rEnd(){return new q(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(M){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=M,this.i}popBack(){if(this.i===0)return;let M=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,M}pushFront(M){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=M,this.i}popFront(){if(this.i===0)return;let M=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,M}getElementByPos(M){if(M<0||M>this.i-1)throw RangeError();let{curNodeBucketIndex:L,curNodePointerIndex:X}=this.O(M);return this.A[L][X]}setElementByPos(M,L){if(M<0||M>this.i-1)throw RangeError();let{curNodeBucketIndex:X,curNodePointerIndex:G}=this.O(M);this.A[X][G]=L}insert(M,L,X=1){if(M<0||M>this.i)throw RangeError();if(M===0)for(;X--;)this.pushFront(L);else if(M===this.i)for(;X--;)this.pushBack(L);else{let G=[];for(let F=M;F<this.i;++F)G.push(this.getElementByPos(F));this.cut(M-1);for(let F=0;F<X;++F)this.pushBack(L);for(let F=0;F<G.length;++F)this.pushBack(G[F])}return this.i}cut(M){if(M<0)return this.clear(),0;let{curNodeBucketIndex:L,curNodePointerIndex:X}=this.O(M);return this.R=L,this.N=X,this.i=M+1,this.i}eraseElementByPos(M){if(M<0||M>this.i-1)throw RangeError();if(M===0)this.popFront();else if(M===this.i-1)this.popBack();else{let L=[];for(let G=M+1;G<this.i;++G)L.push(this.getElementByPos(G));this.cut(M),this.popBack();let X=this;L.forEach(function(G){X.pushBack(G)})}return this.i}eraseElementByValue(M){if(this.i===0)return 0;let L=[];for(let G=0;G<this.i;++G){let F=this.getElementByPos(G);F!==M&&L.push(F)}let X=L.length;for(let G=0;G<X;++G)this.setElementByPos(G,L[G]);return this.cut(X-1)}eraseElementByIterator(M){let L=M.o;return this.eraseElementByPos(L),M=M.next(),M}find(M){for(let L=0;L<this.i;++L)if(this.getElementByPos(L)===M)return new q(L,this);return this.end()}reverse(){let M=0,L=this.i-1;for(;M<L;){let X=this.getElementByPos(M);this.setElementByPos(M,this.getElementByPos(L)),this.setElementByPos(L,X),M+=1,L-=1}}unique(){if(this.i<=1)return this.i;let M=1,L=this.getElementByPos(0);for(let X=1;X<this.i;++X){let G=this.getElementByPos(X);G!==L&&(L=G,this.setElementByPos(M++,G))}for(;this.i>M;)this.popBack();return this.i}sort(M){let L=[];for(let X=0;X<this.i;++X)L.push(this.getElementByPos(X));L.sort(M);for(let X=0;X<this.i;++X)this.setElementByPos(X,L[X])}shrinkToFit(){if(this.i===0)return;let M=[];this.forEach(function(L){M.push(L)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let L=0;L<this.P;++L)this.A.push(Array(this.F));for(let L=0;L<M.length;++L)this.pushBack(M[L])}forEach(M){for(let L=0;L<this.i;++L)M(this.getElementByPos(L),L,this)}[Symbol.iterator](){return function*(){for(let M=0;M<this.i;++M)yield this.getElementByPos(M)}.bind(this)()}},U=Z;N.default=U}),F0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.TreeNodeEnableIndex=N.TreeNode=void 0;var K=class{constructor(J,q){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=J,this.l=q}L(){let J=this;if(J.ee===1&&J.tt.tt===J)J=J.W;else if(J.U)for(J=J.U;J.W;)J=J.W;else{let q=J.tt;for(;q.U===J;)J=q,q=J.tt;J=q}return J}B(){let J=this;if(J.W){for(J=J.W;J.U;)J=J.U;return J}else{let q=J.tt;for(;q.W===J;)J=q,q=J.tt;return J.W!==q?q:J}}te(){let J=this.tt,q=this.W,Z=q.U;return J.tt===this?J.tt=q:J.U===this?J.U=q:J.W=q,q.tt=J,q.U=this,this.tt=q,this.W=Z,Z&&(Z.tt=this),q}se(){let J=this.tt,q=this.U,Z=q.W;return J.tt===this?J.tt=q:J.U===this?J.U=q:J.W=q,q.tt=J,q.W=this,this.tt=q,this.U=Z,Z&&(Z.tt=this),q}};N.TreeNode=K;var Y=class extends K{constructor(){super(...arguments),this.rt=1}te(){let J=super.te();return this.ie(),J.ie(),J}se(){let J=super.se();return this.ie(),J.ie(),J}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};N.TreeNodeEnableIndex=Y}),m9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=F0(),Y=Q8(),J=F8(),q=class extends Y.Container{constructor(U=function(L,X){return L<X?-1:L>X?1:0},M=!1){super(),this.Y=void 0,this.v=U,M?(this.re=K.TreeNodeEnableIndex,this.M=function(L,X,G){let F=this.ne(L,X,G);if(F){let D=F.tt;for(;D!==this.h;)D.rt+=1,D=D.tt;let C=this.he(F);if(C){let{parentNode:H,grandParent:$,curNode:V}=C;H.ie(),$.ie(),V.ie()}}return this.i},this.V=function(L){let X=this.fe(L);for(;X!==this.h;)X.rt-=1,X=X.tt}):(this.re=K.TreeNode,this.M=function(L,X,G){let F=this.ne(L,X,G);return F&&this.he(F),this.i},this.V=this.fe),this.h=new this.re}X(U,M){let L=this.h;for(;U;){let X=this.v(U.u,M);if(X<0)U=U.W;else if(X>0)L=U,U=U.U;else return U}return L}Z(U,M){let L=this.h;for(;U;)this.v(U.u,M)<=0?U=U.W:(L=U,U=U.U);return L}$(U,M){let L=this.h;for(;U;){let X=this.v(U.u,M);if(X<0)L=U,U=U.W;else if(X>0)U=U.U;else return U}return L}rr(U,M){let L=this.h;for(;U;)this.v(U.u,M)<0?(L=U,U=U.W):U=U.U;return L}ue(U){for(;;){let M=U.tt;if(M===this.h)return;if(U.ee===1){U.ee=0;return}if(U===M.U){let L=M.W;if(L.ee===1)L.ee=0,M.ee=1,M===this.Y?this.Y=M.te():M.te();else if(L.W&&L.W.ee===1){L.ee=M.ee,M.ee=0,L.W.ee=0,M===this.Y?this.Y=M.te():M.te();return}else L.U&&L.U.ee===1?(L.ee=1,L.U.ee=0,L.se()):(L.ee=1,U=M)}else{let L=M.U;if(L.ee===1)L.ee=0,M.ee=1,M===this.Y?this.Y=M.se():M.se();else if(L.U&&L.U.ee===1){L.ee=M.ee,M.ee=0,L.U.ee=0,M===this.Y?this.Y=M.se():M.se();return}else L.W&&L.W.ee===1?(L.ee=1,L.W.ee=0,L.te()):(L.ee=1,U=M)}}}fe(U){if(this.i===1)return this.clear(),this.h;let M=U;for(;M.U||M.W;){if(M.W)for(M=M.W;M.U;)M=M.U;else M=M.U;[U.u,M.u]=[M.u,U.u],[U.l,M.l]=[M.l,U.l],U=M}this.h.U===M?this.h.U=M.tt:this.h.W===M&&(this.h.W=M.tt),this.ue(M);let L=M.tt;return M===L.U?L.U=void 0:L.W=void 0,this.i-=1,this.Y.ee=0,L}oe(U,M){return U===void 0?!1:this.oe(U.U,M)||M(U)?!0:this.oe(U.W,M)}he(U){for(;;){let M=U.tt;if(M.ee===0)return;let L=M.tt;if(M===L.U){let X=L.W;if(X&&X.ee===1){if(X.ee=M.ee=0,L===this.Y)return;L.ee=1,U=L;continue}else if(U===M.W){if(U.ee=0,U.U&&(U.U.tt=M),U.W&&(U.W.tt=L),M.W=U.U,L.U=U.W,U.U=M,U.W=L,L===this.Y)this.Y=U,this.h.tt=U;else{let G=L.tt;G.U===L?G.U=U:G.W=U}return U.tt=L.tt,M.tt=U,L.tt=U,L.ee=1,{parentNode:M,grandParent:L,curNode:U}}else M.ee=0,L===this.Y?this.Y=L.se():L.se(),L.ee=1}else{let X=L.U;if(X&&X.ee===1){if(X.ee=M.ee=0,L===this.Y)return;L.ee=1,U=L;continue}else if(U===M.U){if(U.ee=0,U.U&&(U.U.tt=L),U.W&&(U.W.tt=M),L.W=U.U,M.U=U.W,U.U=L,U.W=M,L===this.Y)this.Y=U,this.h.tt=U;else{let G=L.tt;G.U===L?G.U=U:G.W=U}return U.tt=L.tt,M.tt=U,L.tt=U,L.ee=1,{parentNode:M,grandParent:L,curNode:U}}else M.ee=0,L===this.Y?this.Y=L.te():L.te(),L.ee=1}return}}ne(U,M,L){if(this.Y===void 0){this.i+=1,this.Y=new this.re(U,M),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let X,G=this.h.U,F=this.v(G.u,U);if(F===0){G.l=M;return}else if(F>0)G.U=new this.re(U,M),G.U.tt=G,X=G.U,this.h.U=X;else{let D=this.h.W,C=this.v(D.u,U);if(C===0){D.l=M;return}else if(C<0)D.W=new this.re(U,M),D.W.tt=D,X=D.W,this.h.W=X;else{if(L!==void 0){let H=L.o;if(H!==this.h){let $=this.v(H.u,U);if($===0){H.l=M;return}else if($>0){let V=H.L(),A=this.v(V.u,U);if(A===0){V.l=M;return}else A<0&&(X=new this.re(U,M),V.W===void 0?(V.W=X,X.tt=V):(H.U=X,X.tt=H))}}}if(X===void 0)for(X=this.Y;;){let H=this.v(X.u,U);if(H>0){if(X.U===void 0){X.U=new this.re(U,M),X.U.tt=X,X=X.U;break}X=X.U}else if(H<0){if(X.W===void 0){X.W=new this.re(U,M),X.W.tt=X,X=X.W;break}X=X.W}else{X.l=M;return}}}}return this.i+=1,X}I(U,M){for(;U;){let L=this.v(U.u,M);if(L<0)U=U.W;else if(L>0)U=U.U;else return U}return U||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(U,M){let L=U.o;if(L===this.h&&(0,J.throwIteratorAccessError)(),this.i===1)return L.u=M,!0;if(L===this.h.U)return this.v(L.B().u,M)>0?(L.u=M,!0):!1;if(L===this.h.W)return this.v(L.L().u,M)<0?(L.u=M,!0):!1;let X=L.L().u;if(this.v(X,M)>=0)return!1;let G=L.B().u;return this.v(G,M)<=0?!1:(L.u=M,!0)}eraseElementByPos(U){if(U<0||U>this.i-1)throw RangeError();let M=0,L=this;return this.oe(this.Y,function(X){return U===M?(L.V(X),!0):(M+=1,!1)}),this.i}eraseElementByKey(U){if(this.i===0)return!1;let M=this.I(this.Y,U);return M===this.h?!1:(this.V(M),!0)}eraseElementByIterator(U){let M=U.o;M===this.h&&(0,J.throwIteratorAccessError)();let L=M.W===void 0;return U.iteratorType===0?L&&U.next():(!L||M.U===void 0)&&U.next(),this.V(M),U}forEach(U){let M=0;for(let L of this)U(L,M++,this)}getElementByPos(U){if(U<0||U>this.i-1)throw RangeError();let M,L=0;for(let X of this){if(L===U){M=X;break}L+=1}return M}getHeight(){if(this.i===0)return 0;let U=function(M){return M?Math.max(U(M.U),U(M.W))+1:0};return U(this.Y)}},Z=q;N.default=Z}),E9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=Q8(),Y=F8(),J=class extends K.ContainerIterator{constructor(Z,U,M){super(M),this.o=Z,this.h=U,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,Y.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,Y.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,Y.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,Y.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let Z=this.o,U=this.h.tt;if(Z===this.h)return U?U.rt-1:0;let M=0;for(Z.U&&(M+=Z.U.rt);Z!==U;){let L=Z.tt;Z===L.W&&(M+=1,L.U&&(M+=L.U.rt)),Z=L}return M}},q=J;N.default=q}),D0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=q(m9()),Y=q(E9()),J=F8();function q(L){return L&&L.t?L:{default:L}}var Z=class L extends Y.default{constructor(X,G,F,D){super(X,G,D),this.container=F}get pointer(){return this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o.u}copy(){return new L(this.o,this.h,this.container,this.iteratorType)}},U=class extends K.default{constructor(L=[],X,G){super(X,G);let F=this;L.forEach(function(D){F.insert(D)})}*K(L){L!==void 0&&(yield*this.K(L.U),yield L.u,yield*this.K(L.W))}begin(){return new Z(this.h.U||this.h,this.h,this)}end(){return new Z(this.h,this.h,this)}rBegin(){return new Z(this.h.W||this.h,this.h,this,1)}rEnd(){return new Z(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(L,X){return this.M(L,void 0,X)}find(L){let X=this.I(this.Y,L);return new Z(X,this.h,this)}lowerBound(L){let X=this.X(this.Y,L);return new Z(X,this.h,this)}upperBound(L){let X=this.Z(this.Y,L);return new Z(X,this.h,this)}reverseLowerBound(L){let X=this.$(this.Y,L);return new Z(X,this.h,this)}reverseUpperBound(L){let X=this.rr(this.Y,L);return new Z(X,this.h,this)}union(L){let X=this;return L.forEach(function(G){X.insert(G)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},M=U;N.default=M}),$0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=q(m9()),Y=q(E9()),J=F8();function q(L){return L&&L.t?L:{default:L}}var Z=class L extends Y.default{constructor(X,G,F,D){super(X,G,D),this.container=F}get pointer(){this.o===this.h&&(0,J.throwIteratorAccessError)();let X=this;return new Proxy([],{get(G,F){if(F==="0")return X.o.u;if(F==="1")return X.o.l},set(G,F,D){if(F!=="1")throw TypeError("props must be 1");return X.o.l=D,!0}})}copy(){return new L(this.o,this.h,this.container,this.iteratorType)}},U=class extends K.default{constructor(L=[],X,G){super(X,G);let F=this;L.forEach(function(D){F.setElement(D[0],D[1])})}*K(L){L!==void 0&&(yield*this.K(L.U),yield[L.u,L.l],yield*this.K(L.W))}begin(){return new Z(this.h.U||this.h,this.h,this)}end(){return new Z(this.h,this.h,this)}rBegin(){return new Z(this.h.W||this.h,this.h,this,1)}rEnd(){return new Z(this.h,this.h,this,1)}front(){if(this.i===0)return;let L=this.h.U;return[L.u,L.l]}back(){if(this.i===0)return;let L=this.h.W;return[L.u,L.l]}lowerBound(L){let X=this.X(this.Y,L);return new Z(X,this.h,this)}upperBound(L){let X=this.Z(this.Y,L);return new Z(X,this.h,this)}reverseLowerBound(L){let X=this.$(this.Y,L);return new Z(X,this.h,this)}reverseUpperBound(L){let X=this.rr(this.Y,L);return new Z(X,this.h,this)}setElement(L,X,G){return this.M(L,X,G)}find(L){let X=this.I(this.Y,L);return new Z(X,this.h,this)}getElementByKey(L){return this.I(this.Y,L).l}union(L){let X=this;return L.forEach(function(G){X.setElement(G[0],G[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},M=U;N.default=M}),v9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=K;function K(Y){let J=typeof Y;return J==="object"&&Y!==null||J==="function"}}),S9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.HashContainerIterator=N.HashContainer=void 0;var K=Q8(),Y=q(v9()),J=F8();function q(M){return M&&M.t?M:{default:M}}var Z=class extends K.ContainerIterator{constructor(M,L,X){super(X),this.o=M,this.h=L,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,J.throwIteratorAccessError)(),this.o=this.o.L,this})}};N.HashContainerIterator=Z;var U=class extends K.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(M){let{L,B:X}=M;L.B=X,X.L=L,M===this.p&&(this.p=X),M===this._&&(this._=L),this.i-=1}M(M,L,X){X===void 0&&(X=(0,Y.default)(M));let G;if(X){let F=M[this.HASH_TAG];if(F!==void 0)return this.H[F].l=L,this.i;Object.defineProperty(M,this.HASH_TAG,{value:this.H.length,configurable:!0}),G={u:M,l:L,L:this._,B:this.h},this.H.push(G)}else{let F=this.g[M];if(F)return F.l=L,this.i;G={u:M,l:L,L:this._,B:this.h},this.g[M]=G}return this.i===0?(this.p=G,this.h.B=G):this._.B=G,this._=G,this.h.L=G,++this.i}I(M,L){if(L===void 0&&(L=(0,Y.default)(M)),L){let X=M[this.HASH_TAG];return X===void 0?this.h:this.H[X]}else return this.g[M]||this.h}clear(){let M=this.HASH_TAG;this.H.forEach(function(L){delete L.u[M]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(M,L){let X;if(L===void 0&&(L=(0,Y.default)(M)),L){let G=M[this.HASH_TAG];if(G===void 0)return!1;delete M[this.HASH_TAG],X=this.H[G],delete this.H[G]}else{if(X=this.g[M],X===void 0)return!1;delete this.g[M]}return this.V(X),!0}eraseElementByIterator(M){let L=M.o;return L===this.h&&(0,J.throwIteratorAccessError)(),this.V(L),M.next()}eraseElementByPos(M){if(M<0||M>this.i-1)throw RangeError();let L=this.p;for(;M--;)L=L.B;return this.V(L),this.i}};N.HashContainer=U}),V0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=S9(),Y=F8(),J=class U extends K.HashContainerIterator{constructor(M,L,X,G){super(M,L,G),this.container=X}get pointer(){return this.o===this.h&&(0,Y.throwIteratorAccessError)(),this.o.u}copy(){return new U(this.o,this.h,this.container,this.iteratorType)}},q=class extends K.HashContainer{constructor(U=[]){super();let M=this;U.forEach(function(L){M.insert(L)})}begin(){return new J(this.p,this.h,this)}end(){return new J(this.h,this.h,this)}rBegin(){return new J(this._,this.h,this,1)}rEnd(){return new J(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(U,M){return this.M(U,void 0,M)}getElementByPos(U){if(U<0||U>this.i-1)throw RangeError();let M=this.p;for(;U--;)M=M.B;return M.u}find(U,M){let L=this.I(U,M);return new J(L,this.h,this)}forEach(U){let M=0,L=this.p;for(;L!==this.h;)U(L.u,M++,this),L=L.B}[Symbol.iterator](){return function*(){let U=this.p;for(;U!==this.h;)yield U.u,U=U.B}.bind(this)()}},Z=q;N.default=Z}),N0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),N.default=void 0;var K=S9(),Y=q(v9()),J=F8();function q(L){return L&&L.t?L:{default:L}}var Z=class L extends K.HashContainerIterator{constructor(X,G,F,D){super(X,G,D),this.container=F}get pointer(){this.o===this.h&&(0,J.throwIteratorAccessError)();let X=this;return new Proxy([],{get(G,F){if(F==="0")return X.o.u;if(F==="1")return X.o.l},set(G,F,D){if(F!=="1")throw TypeError("props must be 1");return X.o.l=D,!0}})}copy(){return new L(this.o,this.h,this.container,this.iteratorType)}},U=class extends K.HashContainer{constructor(L=[]){super();let X=this;L.forEach(function(G){X.setElement(G[0],G[1])})}begin(){return new Z(this.p,this.h,this)}end(){return new Z(this.h,this.h,this)}rBegin(){return new Z(this._,this.h,this,1)}rEnd(){return new Z(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(L,X,G){return this.M(L,X,G)}getElementByKey(L,X){if(X===void 0&&(X=(0,Y.default)(L)),X){let F=L[this.HASH_TAG];return F!==void 0?this.H[F].l:void 0}let G=this.g[L];return G?G.l:void 0}getElementByPos(L){if(L<0||L>this.i-1)throw RangeError();let X=this.p;for(;L--;)X=X.B;return[X.u,X.l]}find(L,X){let G=this.I(L,X);return new Z(G,this.h,this)}forEach(L){let X=0,G=this.p;for(;G!==this.h;)L([G.u,G.l],X++,this),G=G.B}[Symbol.iterator](){return function*(){let L=this.p;for(;L!==this.h;)yield[L.u,L.l],L=L.B}.bind(this)()}},M=U;N.default=M}),C0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"t",{value:!0}),Object.defineProperty(N,"Deque",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(N,"HashMap",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(N,"HashSet",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(N,"LinkList",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(N,"OrderedMap",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(N,"OrderedSet",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(N,"PriorityQueue",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(N,"Queue",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(N,"Stack",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(N,"Vector",{enumerable:!0,get:function(){return q.default}});var K=F(z0()),Y=F(J0()),J=F(Y0()),q=F(q0()),Z=F(K0()),U=F(Q0()),M=F(D0()),L=F($0()),X=F(V0()),G=F(N0());function F(D){return D&&D.t?D:{default:D}}}),W0=D1((N,K)=>{Y1(),K1(),q1();var Y=C0().OrderedSet,J=q8()("number-allocator:trace"),q=q8()("number-allocator:error");function Z(M,L){this.low=M,this.high=L}Z.prototype.equals=function(M){return this.low===M.low&&this.high===M.high},Z.prototype.compare=function(M){return this.low<M.low&&this.high<M.low?-1:M.low<this.low&&M.high<this.low?1:0};function U(M,L){if(!(this instanceof U))return new U(M,L);this.min=M,this.max=L,this.ss=new Y([],(X,G)=>X.compare(G)),J("Create"),this.clear()}U.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},U.prototype.alloc=function(){if(this.ss.size()===0)return J("alloc():empty"),null;let M=this.ss.begin(),L=M.pointer.low,X=M.pointer.high,G=L;return G+1<=X?this.ss.updateKeyByIterator(M,new Z(L+1,X)):this.ss.eraseElementByPos(0),J("alloc():"+G),G},U.prototype.use=function(M){let L=new Z(M,M),X=this.ss.lowerBound(L);if(!X.equals(this.ss.end())){let G=X.pointer.low,F=X.pointer.high;return X.pointer.equals(L)?(this.ss.eraseElementByIterator(X),J("use():"+M),!0):G>M?!1:G===M?(this.ss.updateKeyByIterator(X,new Z(G+1,F)),J("use():"+M),!0):F===M?(this.ss.updateKeyByIterator(X,new Z(G,F-1)),J("use():"+M),!0):(this.ss.updateKeyByIterator(X,new Z(M+1,F)),this.ss.insert(new Z(G,M-1)),J("use():"+M),!0)}return J("use():failed"),!1},U.prototype.free=function(M){if(M<this.min||M>this.max){q("free():"+M+" is out of range");return}let L=new Z(M,M),X=this.ss.upperBound(L);if(X.equals(this.ss.end())){if(X.equals(this.ss.begin())){this.ss.insert(L);return}X.pre();let G=X.pointer.high;X.pointer.high+1===M?this.ss.updateKeyByIterator(X,new Z(G,M)):this.ss.insert(L)}else if(X.equals(this.ss.begin()))if(M+1===X.pointer.low){let G=X.pointer.high;this.ss.updateKeyByIterator(X,new Z(M,G))}else this.ss.insert(L);else{let G=X.pointer.low,F=X.pointer.high;X.pre();let D=X.pointer.low;X.pointer.high+1===M?M+1===G?(this.ss.eraseElementByIterator(X),this.ss.updateKeyByIterator(X,new Z(D,F))):this.ss.updateKeyByIterator(X,new Z(D,M)):M+1===G?(this.ss.eraseElementByIterator(X.next()),this.ss.insert(new Z(M,F))):this.ss.insert(L)}J("free():"+M)},U.prototype.clear=function(){J("clear()"),this.ss.clear(),this.ss.insert(new Z(this.min,this.max))},U.prototype.intervalCount=function(){return this.ss.size()},U.prototype.dump=function(){console.log("length:"+this.ss.size());for(let M of this.ss)console.log(M)},K.exports=U}),d9=D1((N,K)=>{Y1(),K1(),q1();var Y=W0();K.exports.NumberAllocator=Y}),H0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=G0(),Y=d9(),J=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(q){q>0&&(this.aliasToTopic=new K.LRUCache({max:q}),this.topicToAlias={},this.numberAllocator=new Y.NumberAllocator(1,q),this.max=q,this.length=0)}put(q,Z){if(Z===0||Z>this.max)return!1;let U=this.aliasToTopic.get(Z);return U&&delete this.topicToAlias[U],this.aliasToTopic.set(Z,q),this.topicToAlias[q]=Z,this.numberAllocator.use(Z),this.length=this.aliasToTopic.size,!0}getTopicByAlias(q){return this.aliasToTopic.get(q)}getAliasByTopic(q){let Z=this.topicToAlias[q];return typeof Z<"u"&&this.aliasToTopic.get(Z),Z}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};N.default=J}),j0=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(N,"__esModule",{value:!0});var Y=m6(),J=K(H0()),q=w8(),Z=(U,M)=>{U.log("_handleConnack");let{options:L}=U,X=L.protocolVersion===5?M.reasonCode:M.returnCode;if(clearTimeout(U.connackTimer),delete U.topicAliasSend,M.properties){if(M.properties.topicAliasMaximum){if(M.properties.topicAliasMaximum>65535){U.emit("error",Error("topicAliasMaximum from broker is out of range"));return}M.properties.topicAliasMaximum>0&&(U.topicAliasSend=new J.default(M.properties.topicAliasMaximum))}M.properties.serverKeepAlive&&L.keepalive&&(L.keepalive=M.properties.serverKeepAlive),M.properties.maximumPacketSize&&(L.properties||(L.properties={}),L.properties.maximumPacketSize=M.properties.maximumPacketSize)}if(X===0)U.reconnecting=!1,U._onConnect(M);else if(X>0){let G=new q.ErrorWithReasonCode(`Connection refused: ${Y.ReasonCodes[X]}`,X);U.emit("error",G),U.options.reconnectOnConnackError&&U._cleanUp(!0)}};N.default=Z}),A0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=(Y,J,q)=>{Y.log("handling pubrel packet");let Z=typeof q<"u"?q:Y.noop,{messageId:U}=J,M={cmd:"pubcomp",messageId:U};Y.incomingStore.get(J,(L,X)=>{L?Y._sendPacket(M,Z):(Y.emit("message",X.topic,X.payload,X),Y.handleMessage(X,(G)=>{if(G)return Z(G);Y.incomingStore.del(X,Y.noop),Y._sendPacket(M,Z)}))})};N.default=K}),k0=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(N,"__esModule",{value:!0});var Y=K(M0()),J=K(X0()),q=K(j0()),Z=K(m6()),U=K(A0()),M=(L,X,G)=>{let{options:F}=L;if(F.protocolVersion===5&&F.properties&&F.properties.maximumPacketSize&&F.properties.maximumPacketSize<X.length)return L.emit("error",Error(`exceeding packets size ${X.cmd}`)),L.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),L;switch(L.log("_handlePacket :: emitting packetreceive"),L.emit("packetreceive",X),X.cmd){case"publish":(0,Y.default)(L,X,G);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":L.reschedulePing(),(0,Z.default)(L,X),G();break;case"pubrel":L.reschedulePing(),(0,U.default)(L,X,G);break;case"connack":(0,q.default)(L,X),G();break;case"auth":L.reschedulePing(),(0,J.default)(L,X),G();break;case"pingresp":L.log("_handlePacket :: received pingresp"),L.reschedulePing(!0),G();break;case"disconnect":L.emit("disconnect",X),G();break;default:L.log("_handlePacket :: unknown command"),G();break}};N.default=M}),p9=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let Y=this.nextId++;return this.nextId===65536&&(this.nextId=1),Y}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(Y){return!0}deallocate(Y){}clear(){}};N.default=K}),x0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=class{aliasToTopic;max;length;constructor(Y){this.aliasToTopic={},this.max=Y}put(Y,J){return J===0||J>this.max?!1:(this.aliasToTopic[J]=Y,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(Y){return this.aliasToTopic[Y]}clear(){this.aliasToTopic={}}};N.default=K}),I0=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(N,"__esModule",{value:!0}),N.TypedEventEmitter=void 0;var Y=K((R8(),m1(W8))),J=w8(),q=class{};N.TypedEventEmitter=q,(0,J.applyMixin)(q,Y.default)}),E6=D1((N,K)=>{Y1(),K1(),q1();function Y(J){return K.exports=Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},K.exports.__esModule=!0,K.exports.default=K.exports,Y(J)}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),O0=D1((N,K)=>{Y1(),K1(),q1();var Y=E6().default;function J(q,Z){if(Y(q)!="object"||!q)return q;var U=q[Symbol.toPrimitive];if(U!==void 0){var M=U.call(q,Z||"default");if(Y(M)!="object")return M;throw TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(q)}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),R0=D1((N,K)=>{Y1(),K1(),q1();var Y=E6().default,J=O0();function q(Z){var U=J(Z,"string");return Y(U)=="symbol"?U:U+""}K.exports=q,K.exports.__esModule=!0,K.exports.default=K.exports}),B0=D1((N,K)=>{Y1(),K1(),q1();var Y=R0();function J(q,Z,U){return(Z=Y(Z))in q?Object.defineProperty(q,Z,{value:U,enumerable:!0,configurable:!0,writable:!0}):q[Z]=U,q}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),P0=D1((N,K)=>{Y1(),K1(),q1();function Y(J){if(Array.isArray(J))return J}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),T0=D1((N,K)=>{Y1(),K1(),q1();function Y(J,q){var Z=J==null?null:typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(Z!=null){var U,M,L,X,G=[],F=!0,D=!1;try{if(L=(Z=Z.call(J)).next,q===0){if(Object(Z)!==Z)return;F=!1}else for(;!(F=(U=L.call(Z)).done)&&(G.push(U.value),G.length!==q);F=!0);}catch(C){D=!0,M=C}finally{try{if(!F&&Z.return!=null&&(X=Z.return(),Object(X)!==X))return}finally{if(D)throw M}}return G}}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),m0=D1((N,K)=>{Y1(),K1(),q1();function Y(J,q){(q==null||q>J.length)&&(q=J.length);for(var Z=0,U=Array(q);Z<q;Z++)U[Z]=J[Z];return U}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),E0=D1((N,K)=>{Y1(),K1(),q1();var Y=m0();function J(q,Z){if(q){if(typeof q=="string")return Y(q,Z);var U={}.toString.call(q).slice(8,-1);return U==="Object"&&q.constructor&&(U=q.constructor.name),U==="Map"||U==="Set"?Array.from(q):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?Y(q,Z):void 0}}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),v0=D1((N,K)=>{Y1(),K1(),q1();function Y(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),S0=D1((N,K)=>{Y1(),K1(),q1();var Y=P0(),J=T0(),q=E0(),Z=v0();function U(M,L){return Y(M)||J(M,L)||q(M,L)||Z()}K.exports=U,K.exports.__esModule=!0,K.exports.default=K.exports}),w9=D1((N,K)=>{Y1(),K1(),q1(),function(Y,J){typeof N=="object"&&typeof K<"u"?J(N):typeof define=="function"&&define.amd?define(["exports"],J):(Y=typeof globalThis<"u"?globalThis:Y||self,J(Y.fastUniqueNumbers={}))}(N,function(Y){var J=function(C){return function(H){var $=C(H);return H.add($),$}},q=function(C){return function(H,$){return C.set(H,$),$}},Z=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,U=536870912,M=U*2,L=function(C,H){return function($){var V=H.get($),A=V===void 0?$.size:V<M?V+1:0;if(!$.has(A))return C($,A);if($.size<U){for(;$.has(A);)A=Math.floor(Math.random()*M);return C($,A)}if($.size>Z)throw Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;$.has(A);)A=Math.floor(Math.random()*Z);return C($,A)}},X=new WeakMap,G=q(X),F=L(G,X),D=J(F);Y.addUniqueNumber=D,Y.generateUniqueNumber=F})}),d0=D1((N,K)=>{Y1(),K1(),q1();function Y(q,Z,U,M,L,X,G){try{var F=q[X](G),D=F.value}catch(C){return void U(C)}F.done?Z(D):Promise.resolve(D).then(M,L)}function J(q){return function(){var Z=this,U=arguments;return new Promise(function(M,L){var X=q.apply(Z,U);function G(D){Y(X,M,L,G,F,"next",D)}function F(D){Y(X,M,L,G,F,"throw",D)}G(void 0)})}}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),h9=D1((N,K)=>{Y1(),K1(),q1();function Y(J,q){this.v=J,this.k=q}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),c9=D1((N,K)=>{Y1(),K1(),q1();function Y(J,q,Z,U){var M=Object.defineProperty;try{M({},"",{})}catch{M=0}K.exports=Y=function(L,X,G,F){function D(C,H){Y(L,C,function($){return this._invoke(C,H,$)})}X?M?M(L,X,{value:G,enumerable:!F,configurable:!F,writable:!F}):L[X]=G:(D("next",0),D("throw",1),D("return",2))},K.exports.__esModule=!0,K.exports.default=K.exports,Y(J,q,Z,U)}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),f9=D1((N,K)=>{Y1(),K1(),q1();var Y=c9();function J(){var q,Z,U=typeof Symbol=="function"?Symbol:{},M=U.iterator||"@@iterator",L=U.toStringTag||"@@toStringTag";function X(A,Q,j,I){var W=Q&&Q.prototype instanceof F?Q:F,x=Object.create(W.prototype);return Y(x,"_invoke",function(O,B,E){var v,h,P,c=0,y=E||[],w=!1,G1={p:0,n:0,v:q,a:t,f:t.bind(q,4),d:function(g,Z1){return v=g,h=0,P=q,G1.n=Z1,G}};function t(g,Z1){for(h=g,P=Z1,Z=0;!w&&c&&!f&&Z<y.length;Z++){var f,e=y[Z],m=G1.p,n=e[2];g>3?(f=n===Z1)&&(P=e[(h=e[4])?5:(h=3,3)],e[4]=e[5]=q):e[0]<=m&&((f=g<2&&m<e[1])?(h=0,G1.v=Z1,G1.n=e[1]):m<n&&(f=g<3||e[0]>Z1||Z1>n)&&(e[4]=g,e[5]=Z1,G1.n=n,h=0))}if(f||g>1)return G;throw w=!0,Z1}return function(g,Z1,f){if(c>1)throw TypeError("Generator is already running");for(w&&Z1===1&&t(Z1,f),h=Z1,P=f;(Z=h<2?q:P)||!w;){v||(h?h<3?(h>1&&(G1.n=-1),t(h,P)):G1.n=P:G1.v=P);try{if(c=2,v){if(h||(g="next"),Z=v[g]){if(!(Z=Z.call(v,P)))throw TypeError("iterator result is not an object");if(!Z.done)return Z;P=Z.value,h<2&&(h=0)}else h===1&&(Z=v.return)&&Z.call(v),h<2&&(P=TypeError("The iterator does not provide a '"+g+"' method"),h=1);v=q}else if((Z=(w=G1.n<0)?P:O.call(B,G1))!==G)break}catch(e){v=q,h=1,P=e}finally{c=1}}return{value:Z,done:w}}}(A,j,I),!0),x}var G={};function F(){}function D(){}function C(){}Z=Object.getPrototypeOf;var H=[][M]?Z(Z([][M]())):(Y(Z={},M,function(){return this}),Z),$=C.prototype=F.prototype=Object.create(H);function V(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,C):(A.__proto__=C,Y(A,L,"GeneratorFunction")),A.prototype=Object.create($),A}return D.prototype=C,Y($,"constructor",C),Y(C,"constructor",D),D.displayName="GeneratorFunction",Y(C,L,"GeneratorFunction"),Y($),Y($,L,"Generator"),Y($,M,function(){return this}),Y($,"toString",function(){return"[object Generator]"}),(K.exports=J=function(){return{w:X,m:V}},K.exports.__esModule=!0,K.exports.default=K.exports)()}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),_9=D1((N,K)=>{Y1(),K1(),q1();var Y=h9(),J=c9();function q(Z,U){function M(X,G,F,D){try{var C=Z[X](G),H=C.value;return H instanceof Y?U.resolve(H.v).then(function($){M("next",$,F,D)},function($){M("throw",$,F,D)}):U.resolve(H).then(function($){C.value=$,F(C)},function($){return M("throw",$,F,D)})}catch($){D($)}}var L;this.next||(J(q.prototype),J(q.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),J(this,"_invoke",function(X,G,F){function D(){return new U(function(C,H){M(X,F,C,H)})}return L=L?L.then(D,D):D()},!0)}K.exports=q,K.exports.__esModule=!0,K.exports.default=K.exports}),b9=D1((N,K)=>{Y1(),K1(),q1();var Y=f9(),J=_9();function q(Z,U,M,L,X){return new J(Y().w(Z,U,M,L),X||Promise)}K.exports=q,K.exports.__esModule=!0,K.exports.default=K.exports}),p0=D1((N,K)=>{Y1(),K1(),q1();var Y=b9();function J(q,Z,U,M,L){var X=Y(q,Z,U,M,L);return X.next().then(function(G){return G.done?G.value:X.next()})}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),w0=D1((N,K)=>{Y1(),K1(),q1();function Y(J){var q=Object(J),Z=[];for(var U in q)Z.unshift(U);return function M(){for(;Z.length;)if((U=Z.pop())in q)return M.value=U,M.done=!1,M;return M.done=!0,M}}K.exports=Y,K.exports.__esModule=!0,K.exports.default=K.exports}),h0=D1((N,K)=>{Y1(),K1(),q1();var Y=E6().default;function J(q){if(q!=null){var Z=q[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],U=0;if(Z)return Z.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return{next:function(){return q&&U>=q.length&&(q=void 0),{value:q&&q[U++],done:!q}}}}throw TypeError(Y(q)+" is not iterable")}K.exports=J,K.exports.__esModule=!0,K.exports.default=K.exports}),c0=D1((N,K)=>{Y1(),K1(),q1();var Y=h9(),J=f9(),q=p0(),Z=b9(),U=_9(),M=w0(),L=h0();function X(){var G=J(),F=G.m(X),D=(Object.getPrototypeOf?Object.getPrototypeOf(F):F.__proto__).constructor;function C(V){var A=typeof V=="function"&&V.constructor;return!!A&&(A===D||(A.displayName||A.name)==="GeneratorFunction")}var H={throw:1,return:2,break:3,continue:3};function $(V){var A,Q;return function(j){A||(A={stop:function(){return Q(j.a,2)},catch:function(){return j.v},abrupt:function(I,W){return Q(j.a,H[I],W)},delegateYield:function(I,W,x){return A.resultName=W,Q(j.d,L(I),x)},finish:function(I){return Q(j.f,I)}},Q=function(I,W,x){j.p=A.prev,j.n=A.next;try{return I(W,x)}finally{A.next=j.n}}),A.resultName&&(A[A.resultName]=j.v,A.resultName=void 0),A.sent=j.v,A.next=j.n;try{return V.call(this,A)}finally{j.p=A.prev,j.n=A.next}}}return(K.exports=X=function(){return{wrap:function(V,A,Q,j){return G.w($(V),A,Q,j&&j.reverse())},isGeneratorFunction:C,mark:G.m,awrap:function(V,A){return new Y(V,A)},AsyncIterator:U,async:function(V,A,Q,j,I){return(C(A)?Z:q)($(V),A,Q,j,I)},keys:M,values:L}},K.exports.__esModule=!0,K.exports.default=K.exports)()}K.exports=X,K.exports.__esModule=!0,K.exports.default=K.exports}),f0=D1((N,K)=>{Y1(),K1(),q1();var Y=c0()();K.exports=Y;try{regeneratorRuntime=Y}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Y:Function("r","regeneratorRuntime = r")(Y)}}),_0=D1((N,K)=>{Y1(),K1(),q1(),function(Y,J){typeof N=="object"&&typeof K<"u"?J(N,B0(),S0(),w9(),d0(),f0()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],J):(Y=typeof globalThis<"u"?globalThis:Y||self,J(Y.brokerFactory={},Y._defineProperty,Y._slicedToArray,Y.fastUniqueNumbers,Y._asyncToGenerator,Y._regeneratorRuntime))}(N,function(Y,J,q,Z,U,M){var L=function(Q){return typeof Q.start=="function"},X=new WeakMap;function G(Q,j){var I=Object.keys(Q);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Q);j&&(W=W.filter(function(x){return Object.getOwnPropertyDescriptor(Q,x).enumerable})),I.push.apply(I,W)}return I}function F(Q){for(var j=1;j<arguments.length;j++){var I=arguments[j]!=null?arguments[j]:{};j%2?G(Object(I),!0).forEach(function(W){J(Q,W,I[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(I)):G(Object(I)).forEach(function(W){Object.defineProperty(Q,W,Object.getOwnPropertyDescriptor(I,W))})}return Q}var D=function(Q){return F(F({},Q),{},{connect:function(j){var I=j.call;return U(M.mark(function W(){var x,O,B,E;return M.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return x=new MessageChannel,O=x.port1,B=x.port2,v.next=1,I("connect",{port:O},[O]);case 1:return E=v.sent,X.set(B,E),v.abrupt("return",B);case 2:case"end":return v.stop()}},W)}))},disconnect:function(j){var I=j.call;return function(){var W=U(M.mark(function x(O){var B;return M.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(B=X.get(O),B!==void 0){E.next=1;break}throw Error("The given port is not connected.");case 1:return E.next=2,I("disconnect",{portId:B});case 2:case"end":return E.stop()}},x)}));return function(x){return W.apply(this,arguments)}}()},isSupported:function(j){var I=j.call;return function(){return I("isSupported")}}})};function C(Q,j){var I=Object.keys(Q);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Q);j&&(W=W.filter(function(x){return Object.getOwnPropertyDescriptor(Q,x).enumerable})),I.push.apply(I,W)}return I}function H(Q){for(var j=1;j<arguments.length;j++){var I=arguments[j]!=null?arguments[j]:{};j%2?C(Object(I),!0).forEach(function(W){J(Q,W,I[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(I)):C(Object(I)).forEach(function(W){Object.defineProperty(Q,W,Object.getOwnPropertyDescriptor(I,W))})}return Q}var $=new WeakMap,V=function(Q){if($.has(Q))return $.get(Q);var j=new Map;return $.set(Q,j),j},A=function(Q){var j=D(Q);return function(I){var W=V(I);I.addEventListener("message",function(y){var w=y.data,G1=w.id;if(G1!==null&&W.has(G1)){var t=W.get(G1),g=t.reject,Z1=t.resolve;W.delete(G1),w.error===void 0?Z1(w.result):g(Error(w.error.message))}}),L(I)&&I.start();for(var x=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,G1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(t,g){var Z1=Z.generateUniqueNumber(W);W.set(Z1,{reject:g,resolve:t}),w===null?I.postMessage({id:Z1,method:y},G1):I.postMessage({id:Z1,method:y,params:w},G1)})},O=function(y,w){var G1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];I.postMessage({id:null,method:y,params:w},G1)},B={},E=0,v=Object.entries(j);E<v.length;E++){var h=q(v[E],2),P=h[0],c=h[1];B=H(H({},B),{},J({},P,c({call:x,notify:O})))}return H({},B)}};Y.createBroker=A})}),b0=D1((N,K)=>{Y1(),K1(),q1(),function(Y,J){typeof N=="object"&&typeof K<"u"?J(N,E6(),_0(),w9()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],J):(Y=typeof globalThis<"u"?globalThis:Y||self,J(Y.workerTimersBroker={},Y._typeof,Y.brokerFactory,Y.fastUniqueNumbers))}(N,function(Y,J,q,Z){var U=new Map([[0,null]]),M=new Map([[0,null]]),L=q.createBroker({clearInterval:function(G){var F=G.call;return function(D){J(U.get(D))==="symbol"&&(U.set(D,null),F("clear",{timerId:D,timerType:"interval"}).then(function(){U.delete(D)}))}},clearTimeout:function(G){var F=G.call;return function(D){J(M.get(D))==="symbol"&&(M.set(D,null),F("clear",{timerId:D,timerType:"timeout"}).then(function(){M.delete(D)}))}},setInterval:function(G){var F=G.call;return function(D){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=arguments.length,$=Array(H>2?H-2:0),V=2;V<H;V++)$[V-2]=arguments[V];var A=Symbol(),Q=Z.generateUniqueNumber(U);U.set(Q,A);var j=function(){return F("set",{delay:C,now:performance.timeOrigin+performance.now(),timerId:Q,timerType:"interval"}).then(function(){var I=U.get(Q);if(I===void 0)throw Error("The timer is in an undefined state.");I===A&&(D.apply(void 0,$),U.get(Q)===A&&j())})};return j(),Q}},setTimeout:function(G){var F=G.call;return function(D){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=arguments.length,$=Array(H>2?H-2:0),V=2;V<H;V++)$[V-2]=arguments[V];var A=Symbol(),Q=Z.generateUniqueNumber(M);return M.set(Q,A),F("set",{delay:C,now:performance.timeOrigin+performance.now(),timerId:Q,timerType:"timeout"}).then(function(){var j=M.get(Q);if(j===void 0)throw Error("The timer is in an undefined state.");j===A&&(M.delete(Q),D.apply(void 0,$))}),Q}}}),X=function(G){var F=new Worker(G);return L(F)};Y.load=X,Y.wrap=L})}),a0=D1((N,K)=>{Y1(),K1(),q1(),function(Y,J){typeof N=="object"&&typeof K<"u"?J(N,b0()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],J):(Y=typeof globalThis<"u"?globalThis:Y||self,J(Y.workerTimers={},Y.workerTimersBroker))}(N,function(Y,J){var q=function(F,D){var C=null;return function(){if(C!==null)return C;var H=new Blob([D],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(H);return C=F($),setTimeout(function(){return URL.revokeObjectURL($)}),C}},Z='(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a(\'The requested method called "\'.concat(e,\'" is not supported.\'),u.METHOD_NOT_FOUND)},s=function(e){return a(\'The handler of the method called "\'.concat(e,\'" returned no required result.\'),u.INTERNAL_ERROR)},c=function(e){return a(\'The handler of the method called "\'.concat(e,\'" returned an unexpected result.\'),u.INTERNAL_ERROR)},f=function(e){return a(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a \'"+o+"\' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();',U=q(J.load,Z),M=function(F){return U().clearInterval(F)},L=function(F){return U().clearTimeout(F)},X=function(){var F;return(F=U()).setInterval.apply(F,arguments)},G=function(){var F;return(F=U()).setTimeout.apply(F,arguments)};Y.clearInterval=M,Y.clearTimeout=L,Y.setInterval=X,Y.setTimeout=G})}),v6=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0}),N.isReactNativeBrowser=N.isWebWorker=void 0;var K=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&E1?.versions?!Object.prototype.hasOwnProperty.call(E1.versions,"electron"):typeof window.document<"u":!1,Y=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),J=()=>typeof navigator<"u"&&navigator.product==="ReactNative",q=K()||Y()||J();N.isWebWorker=Y(),N.isReactNativeBrowser=J(),N.default=q}),y0=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__createBinding||(Object.create?function(X,G,F,D){D===void 0&&(D=F);var C=Object.getOwnPropertyDescriptor(G,F);(!C||("get"in C?!G.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return G[F]}}),Object.defineProperty(X,D,C)}:function(X,G,F,D){D===void 0&&(D=F),X[D]=G[F]}),Y=N&&N.__setModuleDefault||(Object.create?function(X,G){Object.defineProperty(X,"default",{enumerable:!0,value:G})}:function(X,G){X.default=G}),J=N&&N.__importStar||function(){var X=function(G){return X=Object.getOwnPropertyNames||function(F){var D=[];for(var C in F)Object.prototype.hasOwnProperty.call(F,C)&&(D[D.length]=C);return D},X(G)};return function(G){if(G&&G.__esModule)return G;var F={};if(G!=null)for(var D=X(G),C=0;C<D.length;C++)D[C]!=="default"&&K(F,G,D[C]);return Y(F,G),F}}();Object.defineProperty(N,"__esModule",{value:!0});var q=a0(),Z=J(v6()),U={set:q.setInterval,clear:q.clearInterval},M={set:(X,G)=>setInterval(X,G),clear:(X)=>clearInterval(X)},L=(X)=>{switch(X){case"native":return M;case"worker":return U;case"auto":default:return Z.default&&!Z.isWebWorker&&!Z.isReactNativeBrowser?U:M}};N.default=L}),a9=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(N,"__esModule",{value:!0});var Y=K(y0()),J=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(q,Z){this.client=q,this.timer=typeof Z=="object"&&"set"in Z&&"clear"in Z?Z:(0,Y.default)(Z),this.setKeepalive(q.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(q){if(q*=1000,isNaN(q)||q<=0||q>2147483647)throw Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${q}`);this._keepalive=q,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${q}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let q=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+q,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};N.default=J}),g4=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__createBinding||(Object.create?function(W,x,O,B){B===void 0&&(B=O);var E=Object.getOwnPropertyDescriptor(x,O);(!E||("get"in E?!x.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return x[O]}}),Object.defineProperty(W,B,E)}:function(W,x,O,B){B===void 0&&(B=O),W[B]=x[O]}),Y=N&&N.__setModuleDefault||(Object.create?function(W,x){Object.defineProperty(W,"default",{enumerable:!0,value:x})}:function(W,x){W.default=x}),J=N&&N.__importStar||function(){var W=function(x){return W=Object.getOwnPropertyNames||function(O){var B=[];for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(B[B.length]=E);return B},W(x)};return function(x){if(x&&x.__esModule)return x;var O={};if(x!=null)for(var B=W(x),E=0;E<B.length;E++)B[E]!=="default"&&K(O,x,B[E]);return Y(O,x),O}}(),q=N&&N.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(N,"__esModule",{value:!0});var Z=q(t7()),U=P8(),M=q(L0()),L=q(q8()),X=J(U0()),G=q(P9()),F=q(k0()),D=q(p9()),C=q(x0()),H=w8(),$=I0(),V=q(a9()),A=J(v6()),Q=globalThis.setImmediate||((...W)=>{let x=W.shift();(0,H.nextTick)(()=>{x(...W)})}),j={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1000,connectTimeout:30000,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},I=class W extends $.TypedEventEmitter{static VERSION=H.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(x,O){super(),this.options=O||{};for(let B in j)typeof this.options[B]>"u"?this.options[B]=j[B]:this.options[B]=O[B];this.log=this.options.log||(0,L.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",W.VERSION),A.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",A.default?"browser":"node"),this.log("MqttClient :: options.protocol",O.protocol),this.log("MqttClient :: options.protocolVersion",O.protocolVersion),this.log("MqttClient :: options.username",O.username),this.log("MqttClient :: options.keepalive",O.keepalive),this.log("MqttClient :: options.reconnectPeriod",O.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",O.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",O.properties?O.properties.topicAliasMaximum:void 0),this.options.clientId=typeof O.clientId=="string"?O.clientId:W.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=O.protocolVersion===5&&O.customHandleAcks?O.customHandleAcks:(...B)=>{B[3](null,0)},this.options.writeCache||(Z.default.writeToStream.cacheNumbers=!1),this.streamBuilder=x,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new D.default:this.options.messageIdProvider,this.outgoingStore=O.outgoingStore||new G.default,this.incomingStore=O.incomingStore||new G.default,this.queueQoSZero=O.queueQoSZero===void 0?!0:O.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,O.properties&&O.properties.topicAliasMaximum>0&&(O.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new C.default(O.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:B}=this,E=()=>{let v=B.shift();this.log("deliver :: entry %o",v);let h=null;if(!v){this._resubscribe();return}h=v.packet,this.log("deliver :: call _sendPacket for %o",h);let P=!0;h.messageId&&h.messageId!==0&&(this.messageIdProvider.register(h.messageId)||(P=!1)),P?this._sendPacket(h,(c)=>{v.cb&&v.cb(c),E()}):(this.log("messageId: %d has already used. The message is skipped and removed.",h.messageId),E())};this.log("connect :: sending queued packets"),E()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(x,O){O()}handleMessage(x,O){O()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let x=new U.Writable,O=Z.default.parser(this.options),B=null,E=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new G.default,this.outgoingStore=this.options.outgoingStore||new G.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),O.on("packet",(y)=>{this.log("parser :: on packet push to packets array."),E.push(y)});let v=()=>{this.log("work :: getting next packet in queue");let y=E.shift();if(y)this.log("work :: packet pulled from queue"),(0,F.default)(this,y,h);else{this.log("work :: no packets in queue");let w=B;B=null,this.log("work :: done flag is %s",!!w),w&&w()}},h=()=>{if(E.length)(0,H.nextTick)(v);else{let y=B;B=null,y()}};x._write=(y,w,G1)=>{B=G1,this.log("writable stream :: parsing buffer"),O.parse(y),v()};let P=(y)=>{this.log("streamErrorHandler :: error",y.message),y.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",y)):this.noop(y)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(x),this.stream.on("error",P),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),O.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let y={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(y)}}return this.stream.setMaxListeners(1000),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(x,O,B,E){this.log("publish :: message `%s` to topic `%s`",O,x);let{options:v}=this;typeof B=="function"&&(E=B,B=null),B=B||{},B={...{qos:0,retain:!1,dup:!1},...B};let{qos:h,retain:P,dup:c,properties:y,cbStorePut:w}=B;if(this._checkDisconnecting(E))return this;let G1=()=>{let t=0;if((h===1||h===2)&&(t=this._nextId(),t===null))return this.log("No messageId left"),!1;let g={cmd:"publish",topic:x,payload:O,qos:h,retain:P,messageId:t,dup:c};switch(v.protocolVersion===5&&(g.properties=y),this.log("publish :: qos",h),h){case 1:case 2:this.outgoing[g.messageId]={volatile:!1,cb:E||this.noop},this.log("MqttClient:publish: packet cmd: %s",g.cmd),this._sendPacket(g,void 0,w);break;default:this.log("MqttClient:publish: packet cmd: %s",g.cmd),this._sendPacket(g,E,w);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!G1())&&this._storeProcessingQueue.push({invoke:G1,cbStorePut:B.cbStorePut,callback:E}),this}publishAsync(x,O,B){return new Promise((E,v)=>{this.publish(x,O,B,(h,P)=>{h?v(h):E(P)})})}subscribe(x,O,B){let E=this.options.protocolVersion;typeof O=="function"&&(B=O),B=B||this.noop;let v=!1,h=[];typeof x=="string"?(x=[x],h=x):Array.isArray(x)?h=x:typeof x=="object"&&(v=x.resubscribe,delete x.resubscribe,h=Object.keys(x));let P=X.validateTopics(h);if(P!==null)return Q(B,Error(`Invalid topic ${P}`)),this;if(this._checkDisconnecting(B))return this.log("subscribe: discconecting true"),this;let c={qos:0};E===5&&(c.nl=!1,c.rap=!1,c.rh=0),O={...c,...O};let{properties:y}=O,w=[],G1=(Z1,f)=>{if(f=f||O,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Z1)||this._resubscribeTopics[Z1].qos<f.qos||v){let e={topic:Z1,qos:f.qos};E===5&&(e.nl=f.nl,e.rap=f.rap,e.rh=f.rh,e.properties=y),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",e.topic,e.qos),w.push(e)}};if(Array.isArray(x)?x.forEach((Z1)=>{this.log("subscribe: array topic %s",Z1),G1(Z1)}):Object.keys(x).forEach((Z1)=>{this.log("subscribe: object topic %s, %o",Z1,x[Z1]),G1(Z1,x[Z1])}),!w.length)return B(null,[]),this;let t=(Z1,f)=>{let e={cmd:"subscribe",subscriptions:Z1,messageId:f};if(y&&(e.properties=y),this.options.resubscribe){this.log("subscribe :: resubscribe true");let n=[];Z1.forEach((C1)=>{if(this.options.reconnectPeriod>0){let U1={qos:C1.qos};E===5&&(U1.nl=C1.nl||!1,U1.rap=C1.rap||!1,U1.rh=C1.rh||0,U1.properties=C1.properties),this._resubscribeTopics[C1.topic]=U1,n.push(C1.topic)}}),this.messageIdToTopic[e.messageId]=n}let m=new Promise((n,C1)=>{this.outgoing[e.messageId]={volatile:!0,cb(U1,j1){if(!U1){let{granted:l}=j1;for(let p=0;p<l.length;p+=1)Z1[p].qos=l[p]}U1?C1(new H.ErrorWithSubackPacket(U1.message,j1)):n(j1)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(e),m},g=()=>{let Z1=this.options.subscribeBatchSize??w.length,f=[];for(let e=0;e<w.length;e+=Z1){let m=w.slice(e,e+Z1),n=this._nextId();if(n===null)return this.log("No messageId left"),!1;f.push(t(m,n))}return Promise.all(f).then((e)=>{B(null,w,e.at(-1))}).catch((e)=>{B(e,w,e.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,callback:B}),this}subscribeAsync(x,O){return new Promise((B,E)=>{this.subscribe(x,O,(v,h)=>{v?E(v):B(h)})})}unsubscribe(x,O,B){typeof x=="string"&&(x=[x]),typeof O=="function"&&(B=O),B=B||this.noop;let E=X.validateTopics(x);if(E!==null)return Q(B,Error(`Invalid topic ${E}`)),this;if(this._checkDisconnecting(B))return this;let v=()=>{let h=this._nextId();if(h===null)return this.log("No messageId left"),!1;let P={cmd:"unsubscribe",messageId:h,unsubscriptions:[]};return typeof x=="string"?P.unsubscriptions=[x]:Array.isArray(x)&&(P.unsubscriptions=x),this.options.resubscribe&&P.unsubscriptions.forEach((c)=>{delete this._resubscribeTopics[c]}),typeof O=="object"&&O.properties&&(P.properties=O.properties),this.outgoing[P.messageId]={volatile:!0,cb:B},this.log("unsubscribe: call _sendPacket"),this._sendPacket(P),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!v())&&this._storeProcessingQueue.push({invoke:v,callback:B}),this}unsubscribeAsync(x,O){return new Promise((B,E)=>{this.unsubscribe(x,O,(v,h)=>{v?E(v):B(h)})})}end(x,O,B){this.log("end :: (%s)",this.options.clientId),(x==null||typeof x!="boolean")&&(B=B||O,O=x,x=!1),typeof O!="object"&&(B=B||O,O=null),this.log("end :: cb? %s",!!B),(!B||typeof B!="function")&&(B=this.noop);let E=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close((h)=>{this.outgoingStore.close((P)=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),B){let c=h||P;this.log("end :: closeStores: invoking callback with args"),B(c)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},v=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,x),this._cleanUp(x,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,H.nextTick)(E)},O)};return this.disconnecting?(B(),this):(this._clearReconnect(),this.disconnecting=!0,!x&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,v,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),v()),this)}endAsync(x,O){return new Promise((B,E)=>{this.end(x,O,(v)=>{v?E(v):B()})})}removeOutgoingMessage(x){if(this.outgoing[x]){let{cb:O}=this.outgoing[x];this._removeOutgoingAndStoreMessage(x,()=>{O(Error("Message removed"))})}return this}reconnect(x){this.log("client reconnect");let O=()=>{x?(this.options.incomingStore=x.incomingStore,this.options.outgoingStore=x.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new G.default,this.outgoingStore=this.options.outgoingStore||new G.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=O:O(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach((x)=>{this.outgoing[x].volatile&&typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(Error("Connection closed")),delete this.outgoing[x])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach((x)=>{typeof this.outgoing[x].cb=="function"&&(this.outgoing[x].cb(Error("Connection closed")),delete this.outgoing[x])}))}_removeTopicAliasAndRecoverTopicName(x){let O;x.properties&&(O=x.properties.topicAlias);let B=x.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",O,B),B.length===0){if(typeof O>"u")return Error("Unregistered Topic Alias");if(B=this.topicAliasSend.getTopicByAlias(O),typeof B>"u")return Error("Unregistered Topic Alias");x.topic=B}O&&delete x.properties.topicAlias}_checkDisconnecting(x){return this.disconnecting&&(x&&x!==this.noop?x(Error("client disconnecting")):this.emit("error",Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(x,O,B={}){if(O&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",O)),this.log("_cleanUp :: forced? %s",x),x)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let E={cmd:"disconnect",...B};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(E,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),Q(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),O&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",O),O())}_storeAndSend(x,O,B){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",x.cmd);let E=x,v;if(E.cmd==="publish"&&(E=(0,M.default)(x),v=this._removeTopicAliasAndRecoverTopicName(E),v))return O&&O(v);this.outgoingStore.put(E,(h)=>{if(h)return O&&O(h);B(),this._writePacket(x,O)})}_applyTopicAlias(x){if(this.options.protocolVersion===5&&x.cmd==="publish"){let O;x.properties&&(O=x.properties.topicAlias);let B=x.topic.toString();if(this.topicAliasSend)if(O){if(B.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",B,O),!this.topicAliasSend.put(B,O)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",B,O),Error("Sending Topic Alias out of range")}else B.length!==0&&(this.options.autoAssignTopicAlias?(O=this.topicAliasSend.getAliasByTopic(B),O?(x.topic="",x.properties={...x.properties,topicAlias:O},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",B,O)):(O=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(B,O),x.properties={...x.properties,topicAlias:O},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",B,O))):this.options.autoUseTopicAlias&&(O=this.topicAliasSend.getAliasByTopic(B),O&&(x.topic="",x.properties={...x.properties,topicAlias:O},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",B,O))));else if(O)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",B,O),Error("Sending Topic Alias out of range")}}_noop(x){this.log("noop ::",x)}_writePacket(x,O){this.log("_writePacket :: packet: %O",x),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",x),this.log("_writePacket :: writing to stream");let B=Z.default.writeToStream(x,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",B),!B&&O&&O!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",O)):O&&(this.log("_writePacket :: invoking cb"),O())}_sendPacket(x,O,B,E){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),B=B||this.noop,O=O||this.noop;let v=this._applyTopicAlias(x);if(v){O(v);return}if(!this.connected){if(x.cmd==="auth"){this._writePacket(x,O);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(x,O,B);return}if(E){this._writePacket(x,O);return}switch(x.cmd){case"publish":break;case"pubrel":this._storeAndSend(x,O,B);return;default:this._writePacket(x,O);return}switch(x.qos){case 2:case 1:this._storeAndSend(x,O,B);break;case 0:default:this._writePacket(x,O);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(x,O,B){this.log("_storePacket :: packet: %o",x),this.log("_storePacket :: cb? %s",!!O),B=B||this.noop;let E=x;if(E.cmd==="publish"){E=(0,M.default)(x);let h=this._removeTopicAliasAndRecoverTopicName(E);if(h)return O&&O(h)}let v=E.qos||0;v===0&&this.queueQoSZero||E.cmd!=="publish"?this.queue.push({packet:E,cb:O}):v>0?(O=this.outgoing[E.messageId]?this.outgoing[E.messageId].cb:null,this.outgoingStore.put(E,(h)=>{if(h)return O&&O(h);B()})):O&&O(Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new V.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(x=!1){this.keepaliveManager&&this.options.keepalive&&(x||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let x=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&x.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let O=0;O<x.length;O++){let B={};B[x[O]]=this._resubscribeTopics[x[O]],B.resubscribe=!0,this.subscribe(B,{properties:B[x[O]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(x){if(this.disconnected){this.emit("connect",x);return}this.connackPacket=x,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let O=()=>{let B=this.outgoingStore.createStream(),E=()=>{B.destroy(),B=null,this._flushStoreProcessingQueue(),v()},v=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",E),B.on("error",(P)=>{v(),this._flushStoreProcessingQueue(),this.removeListener("close",E),this.emit("error",P)});let h=()=>{if(!B)return;let P=B.read(1),c;if(!P){B.once("readable",h);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[P.messageId]){h();return}!this.disconnecting&&!this.reconnectTimer?(c=this.outgoing[P.messageId]?this.outgoing[P.messageId].cb:null,this.outgoing[P.messageId]={volatile:!1,cb(y,w){c&&c(y,w),h()}},this._packetIdsDuringStoreProcessing[P.messageId]=!0,this.messageIdProvider.register(P.messageId)?this._sendPacket(P,void 0,void 0,!0):this.log("messageId: %d has already used.",P.messageId)):B.destroy&&B.destroy()};B.on("end",()=>{let P=!0;for(let c in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[c]){P=!1;break}this.removeListener("close",E),P?(v(),this._invokeAllStoreProcessingQueue(),this.emit("connect",x)):O()}),h()};O()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let x=this._storeProcessingQueue[0];if(x&&x.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let x of this._storeProcessingQueue)x.cbStorePut&&x.cbStorePut(Error("Connection closed")),x.callback&&x.callback(Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(x,O){delete this.outgoing[x],this.outgoingStore.del({messageId:x},(B,E)=>{O(B,E),this.messageIdProvider.deallocate(x),this._invokeStoreProcessingQueue()})}};N.default=I}),g0=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=d9(),Y=class{numberAllocator;lastId;constructor(){this.numberAllocator=new K.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(J){return this.numberAllocator.use(J)}deallocate(J){this.numberAllocator.free(J)}clear(){this.numberAllocator.clear()}};N.default=Y});function s0(){if(s4)return M6;s4=!0;let N=2147483647,K=36,Y=1,J=26,q=38,Z=700,U=72,M=128,L="-",X=/^xn--/,G=/[^\0-\x7F]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=K-Y,H=Math.floor,$=String.fromCharCode;function V(v){throw RangeError(D[v])}function A(v,h){let P=[],c=v.length;for(;c--;)P[c]=h(v[c]);return P}function Q(v,h){let P=v.split("@"),c="";P.length>1&&(c=P[0]+"@",v=P[1]),v=v.replace(F,".");let y=v.split("."),w=A(y,h).join(".");return c+w}function j(v){let h=[],P=0,c=v.length;for(;P<c;){let y=v.charCodeAt(P++);if(y>=55296&&y<=56319&&P<c){let w=v.charCodeAt(P++);(w&64512)==56320?h.push(((y&1023)<<10)+(w&1023)+65536):(h.push(y),P--)}else h.push(y)}return h}let I=(v)=>String.fromCodePoint(...v),W=function(v){return v>=48&&v<58?26+(v-48):v>=65&&v<91?v-65:v>=97&&v<123?v-97:K},x=function(v,h){return v+22+75*(v<26)-((h!=0)<<5)},O=function(v,h,P){let c=0;for(v=P?H(v/Z):v>>1,v+=H(v/h);v>C*J>>1;c+=K)v=H(v/C);return H(c+(C+1)*v/(v+q))},B=function(v){let h=[],P=v.length,c=0,y=M,w=U,G1=v.lastIndexOf(L);G1<0&&(G1=0);for(let t=0;t<G1;++t)v.charCodeAt(t)>=128&&V("not-basic"),h.push(v.charCodeAt(t));for(let t=G1>0?G1+1:0;t<P;){let g=c;for(let f=1,e=K;;e+=K){t>=P&&V("invalid-input");let m=W(v.charCodeAt(t++));m>=K&&V("invalid-input"),m>H((N-c)/f)&&V("overflow"),c+=m*f;let n=e<=w?Y:e>=w+J?J:e-w;if(m<n)break;let C1=K-n;f>H(N/C1)&&V("overflow"),f*=C1}let Z1=h.length+1;w=O(c-g,Z1,g==0),H(c/Z1)>N-y&&V("overflow"),y+=H(c/Z1),c%=Z1,h.splice(c++,0,y)}return String.fromCodePoint(...h)},E=function(v){let h=[];v=j(v);let P=v.length,c=M,y=0,w=U;for(let g of v)g<128&&h.push($(g));let G1=h.length,t=G1;for(G1&&h.push(L);t<P;){let g=N;for(let f of v)f>=c&&f<g&&(g=f);let Z1=t+1;g-c>H((N-y)/Z1)&&V("overflow"),y+=(g-c)*Z1,c=g;for(let f of v)if(f<c&&++y>N&&V("overflow"),f===c){let e=y;for(let m=K;;m+=K){let n=m<=w?Y:m>=w+J?J:m-w;if(e<n)break;let C1=e-n,U1=K-n;h.push($(x(n+C1%U1,0))),e=H(C1/U1)}h.push($(x(e,0))),w=O(y,Z1,t===G1),y=0,++t}++y,++c}return h.join("")};return M6={version:"2.3.1",ucs2:{decode:j,encode:I},decode:B,encode:E,toASCII:function(v){return Q(v,function(h){return G.test(h)?"xn--"+E(h):h})},toUnicode:function(v){return Q(v,function(h){return X.test(h)?B(h.slice(4).toLowerCase()):h})}},M6}var M6,s4,N8,l0,o0,u0,i0,n0,r0,t0=g1(()=>{Y1(),K1(),q1(),M6={},s4=!1,N8=s0(),l0=N8.decode,o0=N8.encode,u0=N8.toASCII,i0=N8.toUnicode,n0=N8.ucs2,r0=N8.version});function e0(){return o4||(o4=!0,l4=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var N={},K=Symbol("test"),Y=Object(K);if(typeof K=="string"||Object.prototype.toString.call(K)!=="[object Symbol]"||Object.prototype.toString.call(Y)!=="[object Symbol]")return!1;var J=42;N[K]=J;for(K in N)return!1;if(typeof Object.keys=="function"&&Object.keys(N).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(N).length!==0)return!1;var q=Object.getOwnPropertySymbols(N);if(q.length!==1||q[0]!==K||!Object.prototype.propertyIsEnumerable.call(N,K))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var Z=Object.getOwnPropertyDescriptor(N,K);if(Z.value!==J||Z.enumerable!==!0)return!1}return!0}),l4}function L3(){return i4||(i4=!0,u4=Error),u4}function U3(){return r4||(r4=!0,n4=EvalError),n4}function M3(){return e4||(e4=!0,t4=RangeError),t4}function Z3(){return U5||(U5=!0,L5=ReferenceError),L5}function y9(){return Z5||(Z5=!0,M5=SyntaxError),M5}function i8(){return G5||(G5=!0,X5=TypeError),X5}function X3(){return J5||(J5=!0,z5=URIError),z5}function G3(){if(Y5)return Z6;Y5=!0;var N=typeof Symbol<"u"&&Symbol,K=e0();return Z6=function(){return typeof N!="function"||typeof Symbol!="function"||typeof N("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:K()},Z6}function z3(){if(q5)return X6;q5=!0;var N={__proto__:null,foo:{}},K=Object;return X6=function(){return{__proto__:N}.foo===N.foo&&!(N instanceof K)},X6}function J3(){if(K5)return G6;K5=!0;var N="Function.prototype.bind called on incompatible ",K=Object.prototype.toString,Y=Math.max,J="[object Function]",q=function(M,L){for(var X=[],G=0;G<M.length;G+=1)X[G]=M[G];for(var F=0;F<L.length;F+=1)X[F+M.length]=L[F];return X},Z=function(M,L){for(var X=[],G=L,F=0;G<M.length;G+=1,F+=1)X[F]=M[G];return X},U=function(M,L){for(var X="",G=0;G<M.length;G+=1)X+=M[G],G+1<M.length&&(X+=L);return X};return G6=function(M){var L=this;if(typeof L!="function"||K.apply(L)!==J)throw TypeError(N+L);for(var X=Z(arguments,1),G,F=function(){if(this instanceof G){var V=L.apply(this,q(X,arguments));return Object(V)===V?V:this}return L.apply(M,q(X,arguments))},D=Y(0,L.length-X.length),C=[],H=0;H<D;H++)C[H]="$"+H;if(G=Function("binder","return function ("+U(C,",")+"){ return binder.apply(this,arguments); }")(F),L.prototype){var $=function(){};$.prototype=L.prototype,G.prototype=new $,$.prototype=null}return G},G6}function c5(){if(Q5)return z6;Q5=!0;var N=J3();return z6=Function.prototype.bind||N,z6}function Y3(){if(F5)return J6;F5=!0;var N=Function.prototype.call,K=Object.prototype.hasOwnProperty,Y=c5();return J6=Y.call(N,K),J6}function h8(){if(D5)return Y6;D5=!0;var N,K=L3(),Y=U3(),J=M3(),q=Z3(),Z=y9(),U=i8(),M=X3(),L=Function,X=function(t){try{return L('"use strict"; return ('+t+").constructor;")()}catch{}},G=Object.getOwnPropertyDescriptor;if(G)try{G({},"")}catch{G=null}var F=function(){throw new U},D=G?function(){try{return arguments.callee,F}catch{try{return G(arguments,"callee").get}catch{return F}}}():F,C=G3()(),H=z3()(),$=Object.getPrototypeOf||(H?function(t){return t.__proto__}:null),V={},A=typeof Uint8Array>"u"||!$?N:$(Uint8Array),Q={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?N:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?N:ArrayBuffer,"%ArrayIteratorPrototype%":C&&$?$([][Symbol.iterator]()):N,"%AsyncFromSyncIteratorPrototype%":N,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?N:Atomics,"%BigInt%":typeof BigInt>"u"?N:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?N:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?N:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?N:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":K,"%eval%":eval,"%EvalError%":Y,"%Float32Array%":typeof Float32Array>"u"?N:Float32Array,"%Float64Array%":typeof Float64Array>"u"?N:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?N:FinalizationRegistry,"%Function%":L,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?N:Int8Array,"%Int16Array%":typeof Int16Array>"u"?N:Int16Array,"%Int32Array%":typeof Int32Array>"u"?N:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&$?$($([][Symbol.iterator]())):N,"%JSON%":typeof JSON=="object"?JSON:N,"%Map%":typeof Map>"u"?N:Map,"%MapIteratorPrototype%":typeof Map>"u"||!C||!$?N:$(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?N:Promise,"%Proxy%":typeof Proxy>"u"?N:Proxy,"%RangeError%":J,"%ReferenceError%":q,"%Reflect%":typeof Reflect>"u"?N:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?N:Set,"%SetIteratorPrototype%":typeof Set>"u"||!C||!$?N:$(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?N:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&$?$(""[Symbol.iterator]()):N,"%Symbol%":C?Symbol:N,"%SyntaxError%":Z,"%ThrowTypeError%":D,"%TypedArray%":A,"%TypeError%":U,"%Uint8Array%":typeof Uint8Array>"u"?N:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?N:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?N:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?N:Uint32Array,"%URIError%":M,"%WeakMap%":typeof WeakMap>"u"?N:WeakMap,"%WeakRef%":typeof WeakRef>"u"?N:WeakRef,"%WeakSet%":typeof WeakSet>"u"?N:WeakSet};if($)try{null.error}catch(t){var j=$($(t));Q["%Error.prototype%"]=j}var I=function t(g){var Z1;if(g==="%AsyncFunction%")Z1=X("async function () {}");else if(g==="%GeneratorFunction%")Z1=X("function* () {}");else if(g==="%AsyncGeneratorFunction%")Z1=X("async function* () {}");else if(g==="%AsyncGenerator%"){var f=t("%AsyncGeneratorFunction%");f&&(Z1=f.prototype)}else if(g==="%AsyncIteratorPrototype%"){var e=t("%AsyncGenerator%");e&&$&&(Z1=$(e.prototype))}return Q[g]=Z1,Z1},W={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=c5(),O=Y3(),B=x.call(Function.call,Array.prototype.concat),E=x.call(Function.apply,Array.prototype.splice),v=x.call(Function.call,String.prototype.replace),h=x.call(Function.call,String.prototype.slice),P=x.call(Function.call,RegExp.prototype.exec),c=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g,w=function(t){var g=h(t,0,1),Z1=h(t,-1);if(g==="%"&&Z1!=="%")throw new Z("invalid intrinsic syntax, expected closing `%`");if(Z1==="%"&&g!=="%")throw new Z("invalid intrinsic syntax, expected opening `%`");var f=[];return v(t,c,function(e,m,n,C1){f[f.length]=n?v(C1,y,"$1"):m||e}),f},G1=function(t,g){var Z1=t,f;if(O(W,Z1)&&(f=W[Z1],Z1="%"+f[0]+"%"),O(Q,Z1)){var e=Q[Z1];if(e===V&&(e=I(Z1)),typeof e>"u"&&!g)throw new U("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:f,name:Z1,value:e}}throw new Z("intrinsic "+t+" does not exist!")};return Y6=function(t,g){if(typeof t!="string"||t.length===0)throw new U("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof g!="boolean")throw new U('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,t)===null)throw new Z("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Z1=w(t),f=Z1.length>0?Z1[0]:"",e=G1("%"+f+"%",g),m=e.name,n=e.value,C1=!1,U1=e.alias;U1&&(f=U1[0],E(Z1,B([0,1],U1)));for(var j1=1,l=!0;j1<Z1.length;j1+=1){var p=Z1[j1],X1=h(p,0,1),o=h(p,-1);if((X1==='"'||X1==="'"||X1==="`"||o==='"'||o==="'"||o==="`")&&X1!==o)throw new Z("property names with quotes must have matching quotes");if((p==="constructor"||!l)&&(C1=!0),f+="."+p,m="%"+f+"%",O(Q,m))n=Q[m];else if(n!=null){if(!(p in n)){if(!g)throw new U("base intrinsic for "+t+" exists, but the property is not available.");return}if(G&&j1+1>=Z1.length){var s=G(n,p);l=!!s,l&&"get"in s&&!("originalValue"in s.get)?n=s.get:n=n[p]}else l=O(n,p),n=n[p];l&&!C1&&(Q[m]=n)}}return n},Y6}function f5(){if($5)return q6;$5=!0;var N=h8(),K=N("%Object.defineProperty%",!0)||!1;if(K)try{K({},"a",{value:1})}catch{K=!1}return q6=K,q6}function g9(){if(V5)return K6;V5=!0;var N=h8(),K=N("%Object.getOwnPropertyDescriptor%",!0);if(K)try{K([],"length")}catch{K=null}return K6=K,K6}function q3(){if(N5)return Q6;N5=!0;var N=f5(),K=y9(),Y=i8(),J=g9();return Q6=function(q,Z,U){if(!q||typeof q!="object"&&typeof q!="function")throw new Y("`obj` must be an object or a function`");if(typeof Z!="string"&&typeof Z!="symbol")throw new Y("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Y("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Y("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Y("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Y("`loose`, if provided, must be a boolean");var M=arguments.length>3?arguments[3]:null,L=arguments.length>4?arguments[4]:null,X=arguments.length>5?arguments[5]:null,G=arguments.length>6?arguments[6]:!1,F=!!J&&J(q,Z);if(N)N(q,Z,{configurable:X===null&&F?F.configurable:!X,enumerable:M===null&&F?F.enumerable:!M,value:U,writable:L===null&&F?F.writable:!L});else if(G||!M&&!L&&!X)q[Z]=U;else throw new K("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Q6}function K3(){if(C5)return F6;C5=!0;var N=f5(),K=function(){return!!N};return K.hasArrayLengthDefineBug=function(){if(!N)return null;try{return N([],"length",{value:1}).length!==1}catch{return!0}},F6=K,F6}function Q3(){if(W5)return D6;W5=!0;var N=h8(),K=q3(),Y=K3()(),J=g9(),q=i8(),Z=N("%Math.floor%");return D6=function(U,M){if(typeof U!="function")throw new q("`fn` is not a function");if(typeof M!="number"||M<0||M>4294967295||Z(M)!==M)throw new q("`length` must be a positive 32-bit integer");var L=arguments.length>2&&!!arguments[2],X=!0,G=!0;if("length"in U&&J){var F=J(U,"length");F&&!F.configurable&&(X=!1),F&&!F.writable&&(G=!1)}return(X||G||!L)&&(Y?K(U,"length",M,!0,!0):K(U,"length",M)),U},D6}function F3(){if(H5)return S8;H5=!0;var N=c5(),K=h8(),Y=Q3(),J=i8(),q=K("%Function.prototype.apply%"),Z=K("%Function.prototype.call%"),U=K("%Reflect.apply%",!0)||N.call(Z,q),M=f5(),L=K("%Math.max%");S8=function(G){if(typeof G!="function")throw new J("a function is required");var F=U(N,Z,arguments);return Y(F,1+L(0,G.length-(arguments.length-1)),!0)};var X=function(){return U(N,q,arguments)};return M?M(S8,"apply",{value:X}):S8.apply=X,S8}function D3(){if(j5)return $6;j5=!0;var N=h8(),K=F3(),Y=K(N("String.prototype.indexOf"));return $6=function(J,q){var Z=N(J,!!q);return typeof Z=="function"&&Y(J,".prototype.")>-1?K(Z):Z},$6}var l4,o4,u4,i4,n4,r4,t4,e4,L5,U5,M5,Z5,X5,G5,z5,J5,Z6,Y5,X6,q5,G6,K5,z6,Q5,J6,F5,Y6,D5,q6,$5,K6,V5,Q6,N5,F6,C5,D6,W5,S8,H5,$6,j5,$3=g1(()=>{Y1(),K1(),q1(),l4={},o4=!1,u4={},i4=!1,n4={},r4=!1,t4={},e4=!1,L5={},U5=!1,M5={},Z5=!1,X5={},G5=!1,z5={},J5=!1,Z6={},Y5=!1,X6={},q5=!1,G6={},K5=!1,z6={},Q5=!1,J6={},F5=!1,Y6={},D5=!1,q6={},$5=!1,K6={},V5=!1,Q6={},N5=!1,F6={},C5=!1,D6={},W5=!1,S8={},H5=!1,$6={},j5=!1});function _5(N){throw Error("Node.js process "+N+" is not supported by JSPM core outside of Node.js")}function V3(){!O8||!x8||(O8=!1,x8.length?M8=x8.concat(M8):l8=-1,M8.length&&s9())}function s9(){if(!O8){var N=setTimeout(V3,0);O8=!0;for(var K=M8.length;K;){for(x8=M8,M8=[];++l8<K;)x8&&x8[l8].run();l8=-1,K=M8.length}x8=null,O8=!1,clearTimeout(N)}}function N3(N){var K=Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)K[Y-1]=arguments[Y];M8.push(new l9(N,K)),M8.length===1&&!O8&&setTimeout(s9,0)}function l9(N,K){this.fun=N,this.array=K}function f1(){}function C3(N){_5("_linkedBinding")}function W3(N){_5("dlopen")}function H3(){return[]}function j3(){return[]}function A3(N,K){if(!N)throw Error(K||"assertion error")}function k3(){return!1}function x3(){return J8.now()/1000}function d6(N){var K=Math.floor((Date.now()-J8.now())*0.001),Y=J8.now()*0.001,J=Math.floor(Y)+K,q=Math.floor(Y%1*1e9);return N&&(J=J-N[0],q=q-N[1],q<0&&(J--,q+=V6)),[J,q]}function $8(){return b5}function I3(N){return[]}var M8,O8,x8,l8,s5,l5,o5,u5,i5,n5,r5,t5,e5,L2,U2,M2,Z2,X2,G2,z2,J2,Y2,q2,K2,Q2,t8,F2,D2,$2,V2,N2,C2,W2,H2,j2,A2,k2,x2,I2,O2,R2,B2,P2,T2,m2,E2,v2,S2,d2,p2,w2,J8,p6,V6,h2,c2,f2,_2,b2,a2,y2,g2,s2,l2,o2,b5,o9=g1(()=>{Y1(),K1(),q1(),M8=[],O8=!1,l8=-1,l9.prototype.run=function(){this.fun.apply(null,this.array)},s5="browser",l5="x64",o5="browser",u5={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},i5=["/usr/bin/node"],n5=[],r5="v16.8.0",t5={},e5=function(N,K){console.warn((K?K+": ":"")+N)},L2=function(N){_5("binding")},U2=function(N){return 0},M2=function(){return"/"},Z2=function(N){},X2={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},G2=f1,z2=[],J2={},Y2=!1,q2={},K2=f1,Q2=f1,t8=function(){return{}},F2=t8,D2=t8,$2=f1,V2=f1,N2=f1,C2={},W2={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},H2=f1,j2=f1,A2=f1,k2=f1,x2=f1,I2=f1,O2=f1,R2=void 0,B2=void 0,P2=void 0,T2=f1,m2=2,E2=1,v2="/bin/usr/node",S2=9229,d2="node",p2=[],w2=f1,J8={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},J8.now===void 0&&(p6=Date.now(),J8.timing&&J8.timing.navigationStart&&(p6=J8.timing.navigationStart),J8.now=()=>Date.now()-p6),V6=1e9,d6.bigint=function(N){var K=d6(N);return typeof BigInt>"u"?K[0]*V6+K[1]:BigInt(K[0]*V6)+BigInt(K[1])},h2=10,c2={},f2=0,_2=$8,b2=$8,a2=$8,y2=$8,g2=$8,s2=f1,l2=$8,o2=$8,b5={version:r5,versions:t5,arch:l5,platform:o5,release:X2,_rawDebug:G2,moduleLoadList:z2,binding:L2,_linkedBinding:C3,_events:c2,_eventsCount:f2,_maxListeners:h2,on:$8,addListener:_2,once:b2,off:a2,removeListener:y2,removeAllListeners:g2,emit:s2,prependListener:l2,prependOnceListener:o2,listeners:I3,domain:J2,_exiting:Y2,config:q2,dlopen:W3,uptime:x3,_getActiveRequests:H3,_getActiveHandles:j3,reallyExit:K2,_kill:Q2,cpuUsage:t8,resourceUsage:F2,memoryUsage:D2,kill:$2,exit:V2,openStdin:N2,allowedNodeEnvironmentFlags:C2,assert:A3,features:W2,_fatalExceptions:H2,setUncaughtExceptionCaptureCallback:j2,hasUncaughtExceptionCaptureCallback:k3,emitWarning:e5,nextTick:N3,_tickCallback:A2,_debugProcess:k2,_debugEnd:x2,_startProfilerIdleNotifier:I2,_stopProfilerIdleNotifier:O2,stdout:R2,stdin:P2,stderr:B2,abort:T2,umask:U2,chdir:Z2,cwd:M2,env:u5,title:s5,argv:i5,execArgv:n5,pid:m2,ppid:E2,execPath:v2,debugPort:S2,hrtime:d6,argv0:d2,_preload_modules:p2,setSourceMapsEnabled:w2}});function O3(){if(A5)return N6;A5=!0;var N=b5;function K(Z){if(typeof Z!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(Z))}function Y(Z,U){for(var M="",L=0,X=-1,G=0,F,D=0;D<=Z.length;++D){if(D<Z.length)F=Z.charCodeAt(D);else{if(F===47)break;F=47}if(F===47){if(!(X===D-1||G===1))if(X!==D-1&&G===2){if(M.length<2||L!==2||M.charCodeAt(M.length-1)!==46||M.charCodeAt(M.length-2)!==46){if(M.length>2){var C=M.lastIndexOf("/");if(C!==M.length-1){C===-1?(M="",L=0):(M=M.slice(0,C),L=M.length-1-M.lastIndexOf("/")),X=D,G=0;continue}}else if(M.length===2||M.length===1){M="",L=0,X=D,G=0;continue}}U&&(M.length>0?M+="/..":M="..",L=2)}else M.length>0?M+="/"+Z.slice(X+1,D):M=Z.slice(X+1,D),L=D-X-1;X=D,G=0}else F===46&&G!==-1?++G:G=-1}return M}function J(Z,U){var M=U.dir||U.root,L=U.base||(U.name||"")+(U.ext||"");return M?M===U.root?M+L:M+Z+L:L}var q={resolve:function(){for(var Z="",U=!1,M,L=arguments.length-1;L>=-1&&!U;L--){var X;L>=0?X=arguments[L]:(M===void 0&&(M=N.cwd()),X=M),K(X),X.length!==0&&(Z=X+"/"+Z,U=X.charCodeAt(0)===47)}return Z=Y(Z,!U),U?Z.length>0?"/"+Z:"/":Z.length>0?Z:"."},normalize:function(Z){if(K(Z),Z.length===0)return".";var U=Z.charCodeAt(0)===47,M=Z.charCodeAt(Z.length-1)===47;return Z=Y(Z,!U),Z.length===0&&!U&&(Z="."),Z.length>0&&M&&(Z+="/"),U?"/"+Z:Z},isAbsolute:function(Z){return K(Z),Z.length>0&&Z.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var Z,U=0;U<arguments.length;++U){var M=arguments[U];K(M),M.length>0&&(Z===void 0?Z=M:Z+="/"+M)}return Z===void 0?".":q.normalize(Z)},relative:function(Z,U){if(K(Z),K(U),Z===U||(Z=q.resolve(Z),U=q.resolve(U),Z===U))return"";for(var M=1;M<Z.length&&Z.charCodeAt(M)===47;++M);for(var L=Z.length,X=L-M,G=1;G<U.length&&U.charCodeAt(G)===47;++G);for(var F=U.length,D=F-G,C=X<D?X:D,H=-1,$=0;$<=C;++$){if($===C){if(D>C){if(U.charCodeAt(G+$)===47)return U.slice(G+$+1);if($===0)return U.slice(G+$)}else X>C&&(Z.charCodeAt(M+$)===47?H=$:$===0&&(H=0));break}var V=Z.charCodeAt(M+$),A=U.charCodeAt(G+$);if(V!==A)break;V===47&&(H=$)}var Q="";for($=M+H+1;$<=L;++$)($===L||Z.charCodeAt($)===47)&&(Q.length===0?Q+="..":Q+="/..");return Q.length>0?Q+U.slice(G+H):(G+=H,U.charCodeAt(G)===47&&++G,U.slice(G))},_makeLong:function(Z){return Z},dirname:function(Z){if(K(Z),Z.length===0)return".";for(var U=Z.charCodeAt(0),M=U===47,L=-1,X=!0,G=Z.length-1;G>=1;--G)if(U=Z.charCodeAt(G),U===47){if(!X){L=G;break}}else X=!1;return L===-1?M?"/":".":M&&L===1?"//":Z.slice(0,L)},basename:function(Z,U){if(U!==void 0&&typeof U!="string")throw TypeError('"ext" argument must be a string');K(Z);var M=0,L=-1,X=!0,G;if(U!==void 0&&U.length>0&&U.length<=Z.length){if(U.length===Z.length&&U===Z)return"";var F=U.length-1,D=-1;for(G=Z.length-1;G>=0;--G){var C=Z.charCodeAt(G);if(C===47){if(!X){M=G+1;break}}else D===-1&&(X=!1,D=G+1),F>=0&&(C===U.charCodeAt(F)?--F===-1&&(L=G):(F=-1,L=D))}return M===L?L=D:L===-1&&(L=Z.length),Z.slice(M,L)}else{for(G=Z.length-1;G>=0;--G)if(Z.charCodeAt(G)===47){if(!X){M=G+1;break}}else L===-1&&(X=!1,L=G+1);return L===-1?"":Z.slice(M,L)}},extname:function(Z){K(Z);for(var U=-1,M=0,L=-1,X=!0,G=0,F=Z.length-1;F>=0;--F){var D=Z.charCodeAt(F);if(D===47){if(!X){M=F+1;break}continue}L===-1&&(X=!1,L=F+1),D===46?U===-1?U=F:G!==1&&(G=1):U!==-1&&(G=-1)}return U===-1||L===-1||G===0||G===1&&U===L-1&&U===M+1?"":Z.slice(U,L)},format:function(Z){if(Z===null||typeof Z!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof Z);return J("/",Z)},parse:function(Z){K(Z);var U={root:"",dir:"",base:"",ext:"",name:""};if(Z.length===0)return U;var M=Z.charCodeAt(0),L=M===47,X;L?(U.root="/",X=1):X=0;for(var G=-1,F=0,D=-1,C=!0,H=Z.length-1,$=0;H>=X;--H){if(M=Z.charCodeAt(H),M===47){if(!C){F=H+1;break}continue}D===-1&&(C=!1,D=H+1),M===46?G===-1?G=H:$!==1&&($=1):G!==-1&&($=-1)}return G===-1||D===-1||$===0||$===1&&G===D-1&&G===F+1?D!==-1&&(F===0&&L?U.base=U.name=Z.slice(1,D):U.base=U.name=Z.slice(F,D)):(F===0&&L?(U.name=Z.slice(1,G),U.base=Z.slice(1,D)):(U.name=Z.slice(F,G),U.base=Z.slice(F,D)),U.ext=Z.slice(G,D)),F>0?U.dir=Z.slice(0,F-1):L&&(U.dir="/"),U},sep:"/",delimiter:":",win32:null,posix:null};return q.posix=q,N6=q,N6}var N6,A5,k5,R3=g1(()=>{Y1(),K1(),q1(),o9(),N6={},A5=!1,k5=O3()}),u9={};d8(u9,{URL:()=>X7,Url:()=>e9,default:()=>_1,fileURLToPath:()=>n9,format:()=>L7,parse:()=>Z7,pathToFileURL:()=>r9,resolve:()=>U7,resolveObject:()=>M7});function B3(){if(x5)return C6;x5=!0;var N=typeof Map=="function"&&Map.prototype,K=Object.getOwnPropertyDescriptor&&N?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Y=N&&K&&typeof K.get=="function"?K.get:null,J=N&&Map.prototype.forEach,q=typeof Set=="function"&&Set.prototype,Z=Object.getOwnPropertyDescriptor&&q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,U=q&&Z&&typeof Z.get=="function"?Z.get:null,M=q&&Set.prototype.forEach,L=typeof WeakMap=="function"&&WeakMap.prototype,X=L?WeakMap.prototype.has:null,G=typeof WeakSet=="function"&&WeakSet.prototype,F=G?WeakSet.prototype.has:null,D=typeof WeakRef=="function"&&WeakRef.prototype,C=D?WeakRef.prototype.deref:null,H=Boolean.prototype.valueOf,$=Object.prototype.toString,V=Function.prototype.toString,A=String.prototype.match,Q=String.prototype.slice,j=String.prototype.replace,I=String.prototype.toUpperCase,W=String.prototype.toLowerCase,x=RegExp.prototype.test,O=Array.prototype.concat,B=Array.prototype.join,E=Array.prototype.slice,v=Math.floor,h=typeof BigInt=="function"?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,y=typeof Symbol=="function"&&typeof Symbol.iterator=="object",w=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===y||!0)?Symbol.toStringTag:null,G1=Object.prototype.propertyIsEnumerable,t=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(u){return u.__proto__}:null);function g(u,M1){if(u===1/0||u===-1/0||u!==u||u&&u>-1000&&u<1000||x.call(/e/,M1))return M1;var R1=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof u=="number"){var B1=u<0?-v(-u):v(u);if(B1!==u){var P1=String(B1),T1=Q.call(M1,P1.length+1);return j.call(P1,R1,"$&_")+"."+j.call(j.call(T1,/([0-9]{3})/g,"$&_"),/_$/,"")}}return j.call(M1,R1,"$&_")}var Z1=t9,f=Z1.custom,e=s(f)?f:null;C6=function u(M1,R1,B1,P1){var T1=R1||{};if(z1(T1,"quoteStyle")&&T1.quoteStyle!=="single"&&T1.quoteStyle!=="double")throw TypeError('option "quoteStyle" must be "single" or "double"');if(z1(T1,"maxStringLength")&&(typeof T1.maxStringLength=="number"?T1.maxStringLength<0&&T1.maxStringLength!==1/0:T1.maxStringLength!==null))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i1=z1(T1,"customInspect")?T1.customInspect:!0;if(typeof i1!="boolean"&&i1!=="symbol")throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z1(T1,"indent")&&T1.indent!==null&&T1.indent!=="\t"&&!(parseInt(T1.indent,10)===T1.indent&&T1.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z1(T1,"numericSeparator")&&typeof T1.numericSeparator!="boolean")throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var n1=T1.numericSeparator;if(typeof M1>"u")return"undefined";if(M1===null)return"null";if(typeof M1=="boolean")return M1?"true":"false";if(typeof M1=="string")return V1(M1,T1);if(typeof M1=="number"){if(M1===0)return 1/0/M1>0?"0":"-0";var h1=String(M1);return n1?g(M1,h1):h1}if(typeof M1=="bigint"){var r1=String(M1)+"n";return n1?g(M1,r1):r1}var T8=typeof T1.depth>"u"?5:T1.depth;if(typeof B1>"u"&&(B1=0),B1>=T8&&T8>0&&typeof M1=="object")return C1(M1)?"[Array]":"[Object]";var t1=r(T1,B1);if(typeof P1>"u")P1=[];else if(L1(P1,M1)>=0)return"[Circular]";function s1(e1,D8,A8){if(D8&&(P1=E.call(P1),P1.push(D8)),A8){var L8={depth:T1.depth};return z1(T1,"quoteStyle")&&(L8.quoteStyle=T1.quoteStyle),u(e1,L8,B1+1,P1)}return u(e1,T1,B1+1,P1)}if(typeof M1=="function"&&!j1(M1)){var n8=_(M1),m8=H1(M1,s1);return"[Function"+(n8?": "+n8:" (anonymous)")+"]"+(m8.length>0?" { "+B.call(m8,", ")+" }":"")}if(s(M1)){var c8=y?j.call(String(M1),/^(Symbol\(.*\))_[^)]*$/,"$1"):c.call(M1);return typeof M1=="object"&&!y?z(c8):c8}if(k1(M1)){for(var T="<"+W.call(String(M1.nodeName)),d=M1.attributes||[],A1=0;A1<d.length;A1++)T+=" "+d[A1].name+"="+m(n(d[A1].value),"double",T1);return T+=">",M1.childNodes&&M1.childNodes.length&&(T+="..."),T+="</"+W.call(String(M1.nodeName))+">",T}if(C1(M1)){if(M1.length===0)return"[]";var x1=H1(M1,s1);return t1&&!b(x1)?"["+J1(x1,t1)+"]":"[ "+B.call(x1,", ")+" ]"}if(l(M1)){var O1=H1(M1,s1);return!("cause"in Error.prototype)&&"cause"in M1&&!G1.call(M1,"cause")?"{ ["+String(M1)+"] "+B.call(O.call("[cause]: "+s1(M1.cause),O1),", ")+" }":O1.length===0?"["+String(M1)+"]":"{ ["+String(M1)+"] "+B.call(O1,", ")+" }"}if(typeof M1=="object"&&i1){if(e&&typeof M1[e]=="function"&&Z1)return Z1(M1,{depth:T8-B1});if(i1!=="symbol"&&typeof M1.inspect=="function")return M1.inspect()}if(Q1(M1)){var d1=[];return J&&J.call(M1,function(e1,D8){d1.push(s1(D8,M1,!0)+" => "+s1(e1,M1))}),R("Map",Y.call(M1),d1,t1)}if(a(M1)){var b1=[];return M&&M.call(M1,function(e1){b1.push(s1(e1,M1))}),R("Set",U.call(M1),b1,t1)}if(F1(M1))return k("WeakMap");if($1(M1))return k("WeakSet");if(W1(M1))return k("WeakRef");if(X1(M1))return z(s1(Number(M1)));if(i(M1))return z(s1(h.call(M1)));if(o(M1))return z(H.call(M1));if(p(M1))return z(s1(String(M1)));if(typeof window<"u"&&M1===window)return"{ [object Window] }";if(typeof globalThis<"u"&&M1===globalThis||typeof W6<"u"&&M1===W6)return"{ [object globalThis] }";if(!U1(M1)&&!j1(M1)){var u1=H1(M1,s1),f8=t?t(M1)===Object.prototype:M1 instanceof Object||M1.constructor===Object,_8=M1 instanceof Object?"":"null prototype",b8=!f8&&w&&Object(M1)===M1&&w in M1?Q.call(S(M1),8,-1):_8?"Object":"",r8=f8||typeof M1.constructor!="function"?"":M1.constructor.name?M1.constructor.name+" ":"",j8=r8+(b8||_8?"["+B.call(O.call([],b8||[],_8||[]),": ")+"] ":"");return u1.length===0?j8+"{}":t1?j8+"{"+J1(u1,t1)+"}":j8+"{ "+B.call(u1,", ")+" }"}return String(M1)};function m(u,M1,R1){var B1=(R1.quoteStyle||M1)==="double"?'"':"'";return B1+u+B1}function n(u){return j.call(String(u),/"/g,"&quot;")}function C1(u){return S(u)==="[object Array]"&&(!w||!(typeof u=="object"&&(w in u)))}function U1(u){return S(u)==="[object Date]"&&(!w||!(typeof u=="object"&&(w in u)))}function j1(u){return S(u)==="[object RegExp]"&&(!w||!(typeof u=="object"&&(w in u)))}function l(u){return S(u)==="[object Error]"&&(!w||!(typeof u=="object"&&(w in u)))}function p(u){return S(u)==="[object String]"&&(!w||!(typeof u=="object"&&(w in u)))}function X1(u){return S(u)==="[object Number]"&&(!w||!(typeof u=="object"&&(w in u)))}function o(u){return S(u)==="[object Boolean]"&&(!w||!(typeof u=="object"&&(w in u)))}function s(u){if(y)return u&&typeof u=="object"&&u instanceof Symbol;if(typeof u=="symbol")return!0;if(!u||typeof u!="object"||!c)return!1;try{return c.call(u),!0}catch{}return!1}function i(u){if(!u||typeof u!="object"||!h)return!1;try{return h.call(u),!0}catch{}return!1}var N1=Object.prototype.hasOwnProperty||function(u){return u in(this||W6)};function z1(u,M1){return N1.call(u,M1)}function S(u){return $.call(u)}function _(u){if(u.name)return u.name;var M1=A.call(V.call(u),/^function\s*([\w$]+)/);return M1?M1[1]:null}function L1(u,M1){if(u.indexOf)return u.indexOf(M1);for(var R1=0,B1=u.length;R1<B1;R1++)if(u[R1]===M1)return R1;return-1}function Q1(u){if(!Y||!u||typeof u!="object")return!1;try{Y.call(u);try{U.call(u)}catch{return!0}return u instanceof Map}catch{}return!1}function F1(u){if(!X||!u||typeof u!="object")return!1;try{X.call(u,X);try{F.call(u,F)}catch{return!0}return u instanceof WeakMap}catch{}return!1}function W1(u){if(!C||!u||typeof u!="object")return!1;try{return C.call(u),!0}catch{}return!1}function a(u){if(!U||!u||typeof u!="object")return!1;try{U.call(u);try{Y.call(u)}catch{return!0}return u instanceof Set}catch{}return!1}function $1(u){if(!F||!u||typeof u!="object")return!1;try{F.call(u,F);try{X.call(u,X)}catch{return!0}return u instanceof WeakSet}catch{}return!1}function k1(u){return!u||typeof u!="object"?!1:typeof HTMLElement<"u"&&u instanceof HTMLElement?!0:typeof u.nodeName=="string"&&typeof u.getAttribute=="function"}function V1(u,M1){if(u.length>M1.maxStringLength){var R1=u.length-M1.maxStringLength,B1="... "+R1+" more character"+(R1>1?"s":"");return V1(Q.call(u,0,M1.maxStringLength),M1)+B1}var P1=j.call(j.call(u,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,I1);return m(P1,"single",M1)}function I1(u){var M1=u.charCodeAt(0),R1={8:"b",9:"t",10:"n",12:"f",13:"r"}[M1];return R1?"\\"+R1:"\\x"+(M1<16?"0":"")+I.call(M1.toString(16))}function z(u){return"Object("+u+")"}function k(u){return u+" { ? }"}function R(u,M1,R1,B1){var P1=B1?J1(R1,B1):B.call(R1,", ");return u+" ("+M1+") {"+P1+"}"}function b(u){for(var M1=0;M1<u.length;M1++)if(L1(u[M1],`
`)>=0)return!1;return!0}function r(u,M1){var R1;if(u.indent==="\t")R1="\t";else if(typeof u.indent=="number"&&u.indent>0)R1=B.call(Array(u.indent+1)," ");else return null;return{base:R1,prev:B.call(Array(M1+1),R1)}}function J1(u,M1){if(u.length===0)return"";var R1=`
`+M1.prev+M1.base;return R1+B.call(u,","+R1)+`
`+M1.prev}function H1(u,M1){var R1=C1(u),B1=[];if(R1){B1.length=u.length;for(var P1=0;P1<u.length;P1++)B1[P1]=z1(u,P1)?M1(u[P1],u):""}var T1=typeof P=="function"?P(u):[],i1;if(y){i1={};for(var n1=0;n1<T1.length;n1++)i1["$"+T1[n1]]=T1[n1]}for(var h1 in u)z1(u,h1)&&(R1&&String(Number(h1))===h1&&h1<u.length||y&&i1["$"+h1]instanceof Symbol||(x.call(/[^\w$]/,h1)?B1.push(M1(h1,u)+": "+M1(u[h1],u)):B1.push(h1+": "+M1(u[h1],u))));if(typeof P=="function")for(var r1=0;r1<T1.length;r1++)G1.call(u,T1[r1])&&B1.push("["+M1(T1[r1])+"]: "+M1(u[T1[r1]],u));return B1}return C6}function P3(){if(I5)return H6;I5=!0;var N=h8(),K=D3(),Y=B3(),J=i8(),q=N("%WeakMap%",!0),Z=N("%Map%",!0),U=K("WeakMap.prototype.get",!0),M=K("WeakMap.prototype.set",!0),L=K("WeakMap.prototype.has",!0),X=K("Map.prototype.get",!0),G=K("Map.prototype.set",!0),F=K("Map.prototype.has",!0),D=function(V,A){for(var Q=V,j;(j=Q.next)!==null;Q=j)if(j.key===A)return Q.next=j.next,j.next=V.next,V.next=j,j},C=function(V,A){var Q=D(V,A);return Q&&Q.value},H=function(V,A,Q){var j=D(V,A);j?j.value=Q:V.next={key:A,next:V.next,value:Q}},$=function(V,A){return!!D(V,A)};return H6=function(){var V,A,Q,j={assert:function(I){if(!j.has(I))throw new J("Side channel does not contain "+Y(I))},get:function(I){if(q&&I&&(typeof I=="object"||typeof I=="function")){if(V)return U(V,I)}else if(Z){if(A)return X(A,I)}else if(Q)return C(Q,I)},has:function(I){if(q&&I&&(typeof I=="object"||typeof I=="function")){if(V)return L(V,I)}else if(Z){if(A)return F(A,I)}else if(Q)return $(Q,I);return!1},set:function(I,W){q&&I&&(typeof I=="object"||typeof I=="function")?(V||(V=new q),M(V,I,W)):Z?(A||(A=new Z),G(A,I,W)):(Q||(Q={key:{},next:null}),H(Q,I,W))}};return j},H6}function a5(){if(O5)return j6;O5=!0;var N=String.prototype.replace,K=/%20/g,Y={RFC1738:"RFC1738",RFC3986:"RFC3986"};return j6={default:Y.RFC3986,formatters:{RFC1738:function(J){return N.call(J,K,"+")},RFC3986:function(J){return String(J)}},RFC1738:Y.RFC1738,RFC3986:Y.RFC3986},j6}function i9(){if(R5)return A6;R5=!0;var N=a5(),K=Object.prototype.hasOwnProperty,Y=Array.isArray,J=function(){for(var V=[],A=0;A<256;++A)V.push("%"+((A<16?"0":"")+A.toString(16)).toUpperCase());return V}(),q=function(V){for(;V.length>1;){var A=V.pop(),Q=A.obj[A.prop];if(Y(Q)){for(var j=[],I=0;I<Q.length;++I)typeof Q[I]<"u"&&j.push(Q[I]);A.obj[A.prop]=j}}},Z=function(V,A){for(var Q=A&&A.plainObjects?Object.create(null):{},j=0;j<V.length;++j)typeof V[j]<"u"&&(Q[j]=V[j]);return Q},U=function V(A,Q,j){if(!Q)return A;if(typeof Q!="object"){if(Y(A))A.push(Q);else if(A&&typeof A=="object")(j&&(j.plainObjects||j.allowPrototypes)||!K.call(Object.prototype,Q))&&(A[Q]=!0);else return[A,Q];return A}if(!A||typeof A!="object")return[A].concat(Q);var I=A;return Y(A)&&!Y(Q)&&(I=Z(A,j)),Y(A)&&Y(Q)?(Q.forEach(function(W,x){if(K.call(A,x)){var O=A[x];O&&typeof O=="object"&&W&&typeof W=="object"?A[x]=V(O,W,j):A.push(W)}else A[x]=W}),A):Object.keys(Q).reduce(function(W,x){var O=Q[x];return K.call(W,x)?W[x]=V(W[x],O,j):W[x]=O,W},I)},M=function(V,A){return Object.keys(A).reduce(function(Q,j){return Q[j]=A[j],Q},V)},L=function(V,A,Q){var j=V.replace(/\+/g," ");if(Q==="iso-8859-1")return j.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(j)}catch{return j}},X=1024,G=function(V,A,Q,j,I){if(V.length===0)return V;var W=V;if(typeof V=="symbol"?W=Symbol.prototype.toString.call(V):typeof V!="string"&&(W=String(V)),Q==="iso-8859-1")return escape(W).replace(/%u[0-9a-f]{4}/gi,function(P){return"%26%23"+parseInt(P.slice(2),16)+"%3B"});for(var x="",O=0;O<W.length;O+=X){for(var B=W.length>=X?W.slice(O,O+X):W,E=[],v=0;v<B.length;++v){var h=B.charCodeAt(v);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||I===N.RFC1738&&(h===40||h===41)){E[E.length]=B.charAt(v);continue}if(h<128){E[E.length]=J[h];continue}if(h<2048){E[E.length]=J[192|h>>6]+J[128|h&63];continue}if(h<55296||h>=57344){E[E.length]=J[224|h>>12]+J[128|h>>6&63]+J[128|h&63];continue}v+=1,h=65536+((h&1023)<<10|B.charCodeAt(v)&1023),E[E.length]=J[240|h>>18]+J[128|h>>12&63]+J[128|h>>6&63]+J[128|h&63]}x+=E.join("")}return x},F=function(V){for(var A=[{obj:{o:V},prop:"o"}],Q=[],j=0;j<A.length;++j)for(var I=A[j],W=I.obj[I.prop],x=Object.keys(W),O=0;O<x.length;++O){var B=x[O],E=W[B];typeof E=="object"&&E!==null&&Q.indexOf(E)===-1&&(A.push({obj:W,prop:B}),Q.push(E))}return q(A),V},D=function(V){return Object.prototype.toString.call(V)==="[object RegExp]"},C=function(V){return!V||typeof V!="object"?!1:!!(V.constructor&&V.constructor.isBuffer&&V.constructor.isBuffer(V))},H=function(V,A){return[].concat(V,A)},$=function(V,A){if(Y(V)){for(var Q=[],j=0;j<V.length;j+=1)Q.push(A(V[j]));return Q}return A(V)};return A6={arrayToObject:Z,assign:M,combine:H,compact:F,decode:L,encode:G,isBuffer:C,isRegExp:D,maybeMap:$,merge:U},A6}function T3(){if(B5)return k6;B5=!0;var N=P3(),K=i9(),Y=a5(),J=Object.prototype.hasOwnProperty,q={brackets:function($){return $+"[]"},comma:"comma",indices:function($,V){return $+"["+V+"]"},repeat:function($){return $}},Z=Array.isArray,U=Array.prototype.push,M=function($,V){U.apply($,Z(V)?V:[V])},L=Date.prototype.toISOString,X=Y.default,G={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:K.encode,encodeValuesOnly:!1,format:X,formatter:Y.formatters[X],indices:!1,serializeDate:function($){return L.call($)},skipNulls:!1,strictNullHandling:!1},F=function($){return typeof $=="string"||typeof $=="number"||typeof $=="boolean"||typeof $=="symbol"||typeof $=="bigint"},D={},C=function $(V,A,Q,j,I,W,x,O,B,E,v,h,P,c,y,w,G1,t){for(var g=V,Z1=t,f=0,e=!1;(Z1=Z1.get(D))!==void 0&&!e;){var m=Z1.get(V);if(f+=1,typeof m<"u"){if(m===f)throw RangeError("Cyclic object value");e=!0}typeof Z1.get(D)>"u"&&(f=0)}if(typeof E=="function"?g=E(A,g):g instanceof Date?g=P(g):Q==="comma"&&Z(g)&&(g=K.maybeMap(g,function(S){return S instanceof Date?P(S):S})),g===null){if(W)return B&&!w?B(A,G.encoder,G1,"key",c):A;g=""}if(F(g)||K.isBuffer(g)){if(B){var n=w?A:B(A,G.encoder,G1,"key",c);return[y(n)+"="+y(B(g,G.encoder,G1,"value",c))]}return[y(A)+"="+y(String(g))]}var C1=[];if(typeof g>"u")return C1;var U1;if(Q==="comma"&&Z(g))w&&B&&(g=K.maybeMap(g,B)),U1=[{value:g.length>0?g.join(",")||null:void 0}];else if(Z(E))U1=E;else{var j1=Object.keys(g);U1=v?j1.sort(v):j1}var l=O?A.replace(/\./g,"%2E"):A,p=j&&Z(g)&&g.length===1?l+"[]":l;if(I&&Z(g)&&g.length===0)return p+"[]";for(var X1=0;X1<U1.length;++X1){var o=U1[X1],s=typeof o=="object"&&typeof o.value<"u"?o.value:g[o];if(!(x&&s===null)){var i=h&&O?o.replace(/\./g,"%2E"):o,N1=Z(g)?typeof Q=="function"?Q(p,i):p:p+(h?"."+i:"["+i+"]");t.set(V,f);var z1=N();z1.set(D,t),M(C1,$(s,N1,Q,j,I,W,x,O,Q==="comma"&&w&&Z(g)?null:B,E,v,h,P,c,y,w,G1,z1))}}return C1},H=function($){if(!$)return G;if(typeof $.allowEmptyArrays<"u"&&typeof $.allowEmptyArrays!="boolean")throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof $.encodeDotInKeys<"u"&&typeof $.encodeDotInKeys!="boolean")throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if($.encoder!==null&&typeof $.encoder<"u"&&typeof $.encoder!="function")throw TypeError("Encoder has to be a function.");var V=$.charset||G.charset;if(typeof $.charset<"u"&&$.charset!=="utf-8"&&$.charset!=="iso-8859-1")throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var A=Y.default;if(typeof $.format<"u"){if(!J.call(Y.formatters,$.format))throw TypeError("Unknown format option provided.");A=$.format}var Q=Y.formatters[A],j=G.filter;(typeof $.filter=="function"||Z($.filter))&&(j=$.filter);var I;if($.arrayFormat in q?I=$.arrayFormat:("indices"in $)?I=$.indices?"indices":"repeat":I=G.arrayFormat,"commaRoundTrip"in $&&typeof $.commaRoundTrip!="boolean")throw TypeError("`commaRoundTrip` must be a boolean, or absent");var W=typeof $.allowDots>"u"?$.encodeDotInKeys===!0?!0:G.allowDots:!!$.allowDots;return{addQueryPrefix:typeof $.addQueryPrefix=="boolean"?$.addQueryPrefix:G.addQueryPrefix,allowDots:W,allowEmptyArrays:typeof $.allowEmptyArrays=="boolean"?!!$.allowEmptyArrays:G.allowEmptyArrays,arrayFormat:I,charset:V,charsetSentinel:typeof $.charsetSentinel=="boolean"?$.charsetSentinel:G.charsetSentinel,commaRoundTrip:$.commaRoundTrip,delimiter:typeof $.delimiter>"u"?G.delimiter:$.delimiter,encode:typeof $.encode=="boolean"?$.encode:G.encode,encodeDotInKeys:typeof $.encodeDotInKeys=="boolean"?$.encodeDotInKeys:G.encodeDotInKeys,encoder:typeof $.encoder=="function"?$.encoder:G.encoder,encodeValuesOnly:typeof $.encodeValuesOnly=="boolean"?$.encodeValuesOnly:G.encodeValuesOnly,filter:j,format:A,formatter:Q,serializeDate:typeof $.serializeDate=="function"?$.serializeDate:G.serializeDate,skipNulls:typeof $.skipNulls=="boolean"?$.skipNulls:G.skipNulls,sort:typeof $.sort=="function"?$.sort:null,strictNullHandling:typeof $.strictNullHandling=="boolean"?$.strictNullHandling:G.strictNullHandling}};return k6=function($,V){var A=$,Q=H(V),j,I;typeof Q.filter=="function"?(I=Q.filter,A=I("",A)):Z(Q.filter)&&(I=Q.filter,j=I);var W=[];if(typeof A!="object"||A===null)return"";var x=q[Q.arrayFormat],O=x==="comma"&&Q.commaRoundTrip;j||(j=Object.keys(A)),Q.sort&&j.sort(Q.sort);for(var B=N(),E=0;E<j.length;++E){var v=j[E];Q.skipNulls&&A[v]===null||M(W,C(A[v],v,x,O,Q.allowEmptyArrays,Q.strictNullHandling,Q.skipNulls,Q.encodeDotInKeys,Q.encode?Q.encoder:null,Q.filter,Q.sort,Q.allowDots,Q.serializeDate,Q.format,Q.formatter,Q.encodeValuesOnly,Q.charset,B))}var h=W.join(Q.delimiter),P=Q.addQueryPrefix===!0?"?":"";return Q.charsetSentinel&&(Q.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),h.length>0?P+h:""},k6}function m3(){if(P5)return x6;P5=!0;var N=i9(),K=Object.prototype.hasOwnProperty,Y=Array.isArray,J={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:N.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1000,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},q=function(D){return D.replace(/&#(\d+);/g,function(C,H){return String.fromCharCode(parseInt(H,10))})},Z=function(D,C){return D&&typeof D=="string"&&C.comma&&D.indexOf(",")>-1?D.split(","):D},U="utf8=%26%2310003%3B",M="utf8=%E2%9C%93",L=function(D,C){var H={__proto__:null},$=C.ignoreQueryPrefix?D.replace(/^\?/,""):D;$=$.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var V=C.parameterLimit===1/0?void 0:C.parameterLimit,A=$.split(C.delimiter,V),Q=-1,j,I=C.charset;if(C.charsetSentinel)for(j=0;j<A.length;++j)A[j].indexOf("utf8=")===0&&(A[j]===M?I="utf-8":A[j]===U&&(I="iso-8859-1"),Q=j,j=A.length);for(j=0;j<A.length;++j)if(j!==Q){var W=A[j],x=W.indexOf("]="),O=x===-1?W.indexOf("="):x+1,B,E;O===-1?(B=C.decoder(W,J.decoder,I,"key"),E=C.strictNullHandling?null:""):(B=C.decoder(W.slice(0,O),J.decoder,I,"key"),E=N.maybeMap(Z(W.slice(O+1),C),function(h){return C.decoder(h,J.decoder,I,"value")})),E&&C.interpretNumericEntities&&I==="iso-8859-1"&&(E=q(E)),W.indexOf("[]=")>-1&&(E=Y(E)?[E]:E);var v=K.call(H,B);v&&C.duplicates==="combine"?H[B]=N.combine(H[B],E):(!v||C.duplicates==="last")&&(H[B]=E)}return H},X=function(D,C,H,$){for(var V=$?C:Z(C,H),A=D.length-1;A>=0;--A){var Q,j=D[A];if(j==="[]"&&H.parseArrays)Q=H.allowEmptyArrays&&(V===""||H.strictNullHandling&&V===null)?[]:[].concat(V);else{Q=H.plainObjects?Object.create(null):{};var I=j.charAt(0)==="["&&j.charAt(j.length-1)==="]"?j.slice(1,-1):j,W=H.decodeDotInKeys?I.replace(/%2E/g,"."):I,x=parseInt(W,10);!H.parseArrays&&W===""?Q={0:V}:!isNaN(x)&&j!==W&&String(x)===W&&x>=0&&H.parseArrays&&x<=H.arrayLimit?(Q=[],Q[x]=V):W!=="__proto__"&&(Q[W]=V)}V=Q}return V},G=function(D,C,H,$){if(D){var V=H.allowDots?D.replace(/\.([^.[]+)/g,"[$1]"):D,A=/(\[[^[\]]*])/,Q=/(\[[^[\]]*])/g,j=H.depth>0&&A.exec(V),I=j?V.slice(0,j.index):V,W=[];if(I){if(!H.plainObjects&&K.call(Object.prototype,I)&&!H.allowPrototypes)return;W.push(I)}for(var x=0;H.depth>0&&(j=Q.exec(V))!==null&&x<H.depth;){if(x+=1,!H.plainObjects&&K.call(Object.prototype,j[1].slice(1,-1))&&!H.allowPrototypes)return;W.push(j[1])}if(j){if(H.strictDepth===!0)throw RangeError("Input depth exceeded depth option of "+H.depth+" and strictDepth is true");W.push("["+V.slice(j.index)+"]")}return X(W,C,H,$)}},F=function(D){if(!D)return J;if(typeof D.allowEmptyArrays<"u"&&typeof D.allowEmptyArrays!="boolean")throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof D.decodeDotInKeys<"u"&&typeof D.decodeDotInKeys!="boolean")throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(D.decoder!==null&&typeof D.decoder<"u"&&typeof D.decoder!="function")throw TypeError("Decoder has to be a function.");if(typeof D.charset<"u"&&D.charset!=="utf-8"&&D.charset!=="iso-8859-1")throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=typeof D.charset>"u"?J.charset:D.charset,H=typeof D.duplicates>"u"?J.duplicates:D.duplicates;if(H!=="combine"&&H!=="first"&&H!=="last")throw TypeError("The duplicates option must be either combine, first, or last");var $=typeof D.allowDots>"u"?D.decodeDotInKeys===!0?!0:J.allowDots:!!D.allowDots;return{allowDots:$,allowEmptyArrays:typeof D.allowEmptyArrays=="boolean"?!!D.allowEmptyArrays:J.allowEmptyArrays,allowPrototypes:typeof D.allowPrototypes=="boolean"?D.allowPrototypes:J.allowPrototypes,allowSparse:typeof D.allowSparse=="boolean"?D.allowSparse:J.allowSparse,arrayLimit:typeof D.arrayLimit=="number"?D.arrayLimit:J.arrayLimit,charset:C,charsetSentinel:typeof D.charsetSentinel=="boolean"?D.charsetSentinel:J.charsetSentinel,comma:typeof D.comma=="boolean"?D.comma:J.comma,decodeDotInKeys:typeof D.decodeDotInKeys=="boolean"?D.decodeDotInKeys:J.decodeDotInKeys,decoder:typeof D.decoder=="function"?D.decoder:J.decoder,delimiter:typeof D.delimiter=="string"||N.isRegExp(D.delimiter)?D.delimiter:J.delimiter,depth:typeof D.depth=="number"||D.depth===!1?+D.depth:J.depth,duplicates:H,ignoreQueryPrefix:D.ignoreQueryPrefix===!0,interpretNumericEntities:typeof D.interpretNumericEntities=="boolean"?D.interpretNumericEntities:J.interpretNumericEntities,parameterLimit:typeof D.parameterLimit=="number"?D.parameterLimit:J.parameterLimit,parseArrays:D.parseArrays!==!1,plainObjects:typeof D.plainObjects=="boolean"?D.plainObjects:J.plainObjects,strictDepth:typeof D.strictDepth=="boolean"?!!D.strictDepth:J.strictDepth,strictNullHandling:typeof D.strictNullHandling=="boolean"?D.strictNullHandling:J.strictNullHandling}};return x6=function(D,C){var H=F(C);if(D===""||D===null||typeof D>"u")return H.plainObjects?Object.create(null):{};for(var $=typeof D=="string"?L(D,H):D,V=H.plainObjects?Object.create(null):{},A=Object.keys($),Q=0;Q<A.length;++Q){var j=A[Q],I=G(j,$[j],H,typeof D=="string");V=N.merge(V,I,H)}return H.allowSparse===!0?V:N.compact(V)},x6}function E3(){if(T5)return I6;T5=!0;var N=T3(),K=m3(),Y=a5();return I6={formats:Y,parse:K,stringify:N},I6}function v3(){if(m5)return C8;m5=!0;var N=N8;function K(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Y=/^([a-z0-9.+-]+:)/i,J=/:[0-9]*$/,q=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Z=["<",">",'"',"`"," ","\r",`
`,"\t"],U=["{","}","|","\\","^","`"].concat(Z),M=["'"].concat(U),L=["%","/","?",";","#"].concat(M),X=["/","?","#"],G=255,F=/^[+a-z0-9A-Z_-]{0,63}$/,D=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},H={javascript:!0,"javascript:":!0},$={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=E3();function A(W,x,O){if(W&&typeof W=="object"&&W instanceof K)return W;var B=new K;return B.parse(W,x,O),B}K.prototype.parse=function(W,x,O){if(typeof W!="string")throw TypeError("Parameter 'url' must be a string, not "+typeof W);var B=W.indexOf("?"),E=B!==-1&&B<W.indexOf("#")?"?":"#",v=W.split(E),h=/\\/g;v[0]=v[0].replace(h,"/"),W=v.join(E);var P=W;if(P=P.trim(),!O&&W.split("#").length===1){var c=q.exec(P);if(c)return this.path=P,this.href=P,this.pathname=c[1],c[2]?(this.search=c[2],x?this.query=V.parse(this.search.substr(1)):this.query=this.search.substr(1)):x&&(this.search="",this.query={}),this}var y=Y.exec(P);if(y){y=y[0];var w=y.toLowerCase();this.protocol=w,P=P.substr(y.length)}if(O||y||P.match(/^\/\/[^@/]+@[^@/]+/)){var G1=P.substr(0,2)==="//";G1&&!(y&&H[y])&&(P=P.substr(2),this.slashes=!0)}if(!H[y]&&(G1||y&&!$[y])){for(var t=-1,g=0;g<X.length;g++){var Z1=P.indexOf(X[g]);Z1!==-1&&(t===-1||Z1<t)&&(t=Z1)}var f,e;t===-1?e=P.lastIndexOf("@"):e=P.lastIndexOf("@",t),e!==-1&&(f=P.slice(0,e),P=P.slice(e+1),this.auth=decodeURIComponent(f)),t=-1;for(var g=0;g<L.length;g++){var Z1=P.indexOf(L[g]);Z1!==-1&&(t===-1||Z1<t)&&(t=Z1)}t===-1&&(t=P.length),this.host=P.slice(0,t),P=P.slice(t),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var n=this.hostname.split(/\./),g=0,C1=n.length;g<C1;g++){var U1=n[g];if(U1&&!U1.match(F)){for(var j1="",l=0,p=U1.length;l<p;l++)U1.charCodeAt(l)>127?j1+="x":j1+=U1[l];if(!j1.match(F)){var X1=n.slice(0,g),o=n.slice(g+1),s=U1.match(D);s&&(X1.push(s[1]),o.unshift(s[2])),o.length&&(P="/"+o.join(".")+P),this.hostname=X1.join(".");break}}}this.hostname.length>G?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=N.toASCII(this.hostname));var i=this.port?":"+this.port:"",N1=this.hostname||"";this.host=N1+i,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),P[0]!=="/"&&(P="/"+P))}if(!C[w])for(var g=0,C1=M.length;g<C1;g++){var z1=M[g];if(P.indexOf(z1)!==-1){var S=encodeURIComponent(z1);S===z1&&(S=escape(z1)),P=P.split(z1).join(S)}}var _=P.indexOf("#");_!==-1&&(this.hash=P.substr(_),P=P.slice(0,_));var L1=P.indexOf("?");if(L1!==-1?(this.search=P.substr(L1),this.query=P.substr(L1+1),x&&(this.query=V.parse(this.query)),P=P.slice(0,L1)):x&&(this.search="",this.query={}),P&&(this.pathname=P),$[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var i=this.pathname||"",Q1=this.search||"";this.path=i+Q1}return this.href=this.format(),this};function Q(W){return typeof W=="string"&&(W=A(W)),W instanceof K?W.format():K.prototype.format.call(W)}K.prototype.format=function(){var W=this.auth||"";W&&(W=encodeURIComponent(W),W=W.replace(/%3A/i,":"),W+="@");var x=this.protocol||"",O=this.pathname||"",B=this.hash||"",E=!1,v="";this.host?E=W+this.host:this.hostname&&(E=W+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(E+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(v=V.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var h=this.search||v&&"?"+v||"";return x&&x.substr(-1)!==":"&&(x+=":"),this.slashes||(!x||$[x])&&E!==!1?(E="//"+(E||""),O&&O.charAt(0)!=="/"&&(O="/"+O)):E||(E=""),B&&B.charAt(0)!=="#"&&(B="#"+B),h&&h.charAt(0)!=="?"&&(h="?"+h),O=O.replace(/[?#]/g,function(P){return encodeURIComponent(P)}),h=h.replace("#","%23"),x+E+O+h+B};function j(W,x){return A(W,!1,!0).resolve(x)}K.prototype.resolve=function(W){return this.resolveObject(A(W,!1,!0)).format()};function I(W,x){return W?A(W,!1,!0).resolveObject(x):x}return K.prototype.resolveObject=function(W){if(typeof W=="string"){var x=new K;x.parse(W,!1,!0),W=x}for(var O=new K,B=Object.keys(this),E=0;E<B.length;E++){var v=B[E];O[v]=this[v]}if(O.hash=W.hash,W.href==="")return O.href=O.format(),O;if(W.slashes&&!W.protocol){for(var h=Object.keys(W),P=0;P<h.length;P++){var c=h[P];c!=="protocol"&&(O[c]=W[c])}return $[O.protocol]&&O.hostname&&!O.pathname&&(O.pathname="/",O.path=O.pathname),O.href=O.format(),O}if(W.protocol&&W.protocol!==O.protocol){if(!$[W.protocol]){for(var y=Object.keys(W),w=0;w<y.length;w++){var G1=y[w];O[G1]=W[G1]}return O.href=O.format(),O}if(O.protocol=W.protocol,!W.host&&!H[W.protocol]){for(var C1=(W.pathname||"").split("/");C1.length&&!(W.host=C1.shift()););W.host||(W.host=""),W.hostname||(W.hostname=""),C1[0]!==""&&C1.unshift(""),C1.length<2&&C1.unshift(""),O.pathname=C1.join("/")}else O.pathname=W.pathname;if(O.search=W.search,O.query=W.query,O.host=W.host||"",O.auth=W.auth,O.hostname=W.hostname||W.host,O.port=W.port,O.pathname||O.search){var t=O.pathname||"",g=O.search||"";O.path=t+g}return O.slashes=O.slashes||W.slashes,O.href=O.format(),O}var Z1=O.pathname&&O.pathname.charAt(0)==="/",f=W.host||W.pathname&&W.pathname.charAt(0)==="/",e=f||Z1||O.host&&W.pathname,m=e,n=O.pathname&&O.pathname.split("/")||[],C1=W.pathname&&W.pathname.split("/")||[],U1=O.protocol&&!$[O.protocol];if(U1&&(O.hostname="",O.port=null,O.host&&(n[0]===""?n[0]=O.host:n.unshift(O.host)),O.host="",W.protocol&&(W.hostname=null,W.port=null,W.host&&(C1[0]===""?C1[0]=W.host:C1.unshift(W.host)),W.host=null),e=e&&(C1[0]===""||n[0]==="")),f)O.host=W.host||W.host===""?W.host:O.host,O.hostname=W.hostname||W.hostname===""?W.hostname:O.hostname,O.search=W.search,O.query=W.query,n=C1;else if(C1.length)n||(n=[]),n.pop(),n=n.concat(C1),O.search=W.search,O.query=W.query;else if(W.search!=null){if(U1){O.host=n.shift(),O.hostname=O.host;var j1=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;j1&&(O.auth=j1.shift(),O.hostname=j1.shift(),O.host=O.hostname)}return O.search=W.search,O.query=W.query,(O.pathname!==null||O.search!==null)&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.href=O.format(),O}if(!n.length)return O.pathname=null,O.search?O.path="/"+O.search:O.path=null,O.href=O.format(),O;for(var l=n.slice(-1)[0],p=(O.host||W.host||n.length>1)&&(l==="."||l==="..")||l==="",X1=0,o=n.length;o>=0;o--)l=n[o],l==="."?n.splice(o,1):l===".."?(n.splice(o,1),X1++):X1&&(n.splice(o,1),X1--);if(!e&&!m)for(;X1--;X1)n.unshift("..");e&&n[0]!==""&&(!n[0]||n[0].charAt(0)!=="/")&&n.unshift(""),p&&n.join("/").substr(-1)!=="/"&&n.push("");var s=n[0]===""||n[0]&&n[0].charAt(0)==="/";if(U1){O.hostname=s?"":n.length?n.shift():"",O.host=O.hostname;var j1=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;j1&&(O.auth=j1.shift(),O.hostname=j1.shift(),O.host=O.hostname)}return e=e||O.host&&n.length,e&&!s&&n.unshift(""),n.length>0?O.pathname=n.join("/"):(O.pathname=null,O.path=null),(O.pathname!==null||O.search!==null)&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.auth=W.auth||O.auth,O.slashes=O.slashes||W.slashes,O.href=O.format(),O},K.prototype.parseHost=function(){var W=this.host,x=J.exec(W);x&&(x=x[0],x!==":"&&(this.port=x.substr(1)),W=W.substr(0,W.length-x.length)),W&&(this.hostname=W)},C8.parse=A,C8.resolve=j,C8.resolveObject=I,C8.format=Q,C8.Url=K,C8}function n9(N){if(typeof N=="string")N=new URL(N);else if(!(N instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(N.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return R6?S3(N):d3(N)}function S3(N){let{hostname:K,pathname:Y}=N;for(let J=0;J<Y.length;J++)if(Y[J]==="%"){let q=Y.codePointAt(J+2)||32;if(Y[J+1]==="2"&&q===102||Y[J+1]==="5"&&q===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(Y=Y.replace(q7,"\\"),Y=decodeURIComponent(Y),K!=="")return`\\\\${K}${Y}`;{let J=Y.codePointAt(1)|32,q=Y[2];if(J<J7||J>Y7||q!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return Y.slice(1)}}function d3(N){if(N.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let K=N.pathname;for(let Y=0;Y<K.length;Y++)if(K[Y]==="%"){let J=K.codePointAt(Y+2)||32;if(K[Y+1]==="2"&&J===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(K)}function r9(N){let K=k5.resolve(N),Y=N.charCodeAt(N.length-1);(Y===z7||R6&&Y===G7)&&K[K.length-1]!==k5.sep&&(K+="/");let J=new URL("file://");return K.includes("%")&&(K=K.replace(K7,"%25")),!R6&&K.includes("\\")&&(K=K.replace(Q7,"%5C")),K.includes(`
`)&&(K=K.replace(F7,"%0A")),K.includes("\r")&&(K=K.replace(D7,"%0D")),K.includes("\t")&&(K=K.replace($7,"%09")),J.pathname=K,J}var t9,C6,x5,W6,H6,I5,j6,O5,A6,R5,k6,B5,x6,P5,I6,T5,C8,m5,_1,u2,e9,L7,U7,M7,Z7,X7,G7,z7,J7,Y7,R6,q7,K7,Q7,F7,D7,$7,p3=g1(()=>{Y1(),K1(),q1(),t0(),$3(),R3(),o9(),t9=Object.freeze(Object.create(null)),C6={},x5=!1,W6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,H6={},I5=!1,j6={},O5=!1,A6={},R5=!1,k6={},B5=!1,x6={},P5=!1,I6={},T5=!1,C8={},m5=!1,_1=v3(),_1.parse,_1.resolve,_1.resolveObject,_1.format,_1.Url,u2=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,_1.URL=typeof URL<"u"?URL:null,_1.pathToFileURL=r9,_1.fileURLToPath=n9,e9=_1.Url,L7=_1.format,U7=_1.resolve,M7=_1.resolveObject,Z7=_1.parse,X7=_1.URL,G7=92,z7=47,J7=97,Y7=122,R6=u2==="win32",q7=/\//g,K7=/%/g,Q7=/\\/g,F7=/\n/g,D7=/\r/g,$7=/\t/g}),w3=D1((N,K)=>{Y1(),K1(),q1(),K.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),y5=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0}),N.BufferedDuplex=void 0,N.writev=J;var K=P8(),Y=(w1(),m1(p1));function J(Z,U){let M=Array(Z.length);for(let L=0;L<Z.length;L++)typeof Z[L].chunk=="string"?M[L]=Y.Buffer.from(Z[L].chunk,"utf8"):M[L]=Z[L].chunk;this._write(Y.Buffer.concat(M),"binary",U)}var q=class extends K.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(Z,U,M){super({objectMode:!0}),this.proxy=U,this.socket=M,this.writeQueue=[],Z.objectMode||(this._writev=J.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",(L)=>{!this.destroyed&&this.readable&&this.push(L)})}_read(Z){this.proxy.read(Z)}_write(Z,U,M){this.isSocketOpen?this.writeToProxy(Z,U,M):this.writeQueue.push({chunk:Z,encoding:U,cb:M})}_final(Z){this.writeQueue=[],this.proxy.end(Z)}_destroy(Z,U){this.writeQueue=[],this.proxy.destroy(),U(Z)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(Z,U,M){this.proxy.write(Z,U)===!1?this.proxy.once("drain",M):M()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:Z,encoding:U,cb:M}=this.writeQueue.shift();this.writeToProxy(Z,U,M)}}};N.BufferedDuplex=q}),e8=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(N,"__esModule",{value:!0}),N.streamBuilder=N.browserStreamBuilder=void 0;var Y=(w1(),m1(p1)),J=K(w3()),q=K(q8()),Z=P8(),U=K(v6()),M=y5(),L=(0,q.default)("mqttjs:ws"),X=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function G(A,Q){let j=`${A.protocol}://${A.hostname}:${A.port}${A.path}`;return typeof A.transformWsUrl=="function"&&(j=A.transformWsUrl(j,A,Q)),j}function F(A){let Q=A;return A.port||(A.protocol==="wss"?Q.port=443:Q.port=80),A.path||(Q.path="/"),A.wsOptions||(Q.wsOptions={}),!U.default&&!A.forceNativeWebSocket&&A.protocol==="wss"&&X.forEach((j)=>{Object.prototype.hasOwnProperty.call(A,j)&&!Object.prototype.hasOwnProperty.call(A.wsOptions,j)&&(Q.wsOptions[j]=A[j])}),Q}function D(A){let Q=F(A);if(Q.hostname||(Q.hostname=Q.host),!Q.hostname){if(typeof document>"u")throw Error("Could not determine host. Specify host manually.");let j=new URL(document.URL);Q.hostname=j.hostname,Q.port||(Q.port=Number(j.port))}return Q.objectMode===void 0&&(Q.objectMode=!(Q.binary===!0||Q.binary===void 0)),Q}function C(A,Q,j){L("createWebSocket"),L(`protocol: ${j.protocolId} ${j.protocolVersion}`);let I=j.protocolId==="MQIsdp"&&j.protocolVersion===3?"mqttv3.1":"mqtt";L(`creating new Websocket for url: ${Q} and protocol: ${I}`);let W;return j.createWebsocket?W=j.createWebsocket(Q,[I],j):W=new J.default(Q,[I],j.wsOptions),W}function H(A,Q){let j=Q.protocolId==="MQIsdp"&&Q.protocolVersion===3?"mqttv3.1":"mqtt",I=G(Q,A),W;return Q.createWebsocket?W=Q.createWebsocket(I,[j],Q):W=new WebSocket(I,[j]),W.binaryType="arraybuffer",W}var $=(A,Q)=>{L("streamBuilder");let j=F(Q);j.hostname=j.hostname||j.host||"localhost";let I=G(j,A),W=C(A,I,j),x=J.default.createWebSocketStream(W,j.wsOptions);return x.url=I,W.on("close",()=>{x.destroy()}),x};N.streamBuilder=$;var V=(A,Q)=>{L("browserStreamBuilder");let j,I=D(Q).browserBufferSize||524288,W=Q.browserBufferTimeout||1000,x=!Q.objectMode,O=H(A,Q),B=v(Q,w,G1);Q.objectMode||(B._writev=M.writev.bind(B)),B.on("close",()=>{O.close()});let E=typeof O.addEventListener<"u";O.readyState===O.OPEN?(j=B,j.socket=O):(j=new M.BufferedDuplex(Q,B,O),E?O.addEventListener("open",h):O.onopen=h),E?(O.addEventListener("close",P),O.addEventListener("error",c),O.addEventListener("message",y)):(O.onclose=P,O.onerror=c,O.onmessage=y);function v(t,g,Z1){let f=new Z.Transform({objectMode:t.objectMode});return f._write=g,f._flush=Z1,f}function h(){L("WebSocket onOpen"),j instanceof M.BufferedDuplex&&j.socketReady()}function P(t){L("WebSocket onClose",t),j.end(),j.destroy()}function c(t){L("WebSocket onError",t);let g=Error("WebSocket error");g.event=t,j.destroy(g)}async function y(t){if(!B||!B.readable||!B.writable)return;let{data:g}=t;g instanceof ArrayBuffer?g=Y.Buffer.from(g):g instanceof Blob?g=Y.Buffer.from(await new Response(g).arrayBuffer()):g=Y.Buffer.from(g,"utf8"),B.push(g)}function w(t,g,Z1){if(O.bufferedAmount>I){setTimeout(w,W,t,g,Z1);return}x&&typeof t=="string"&&(t=Y.Buffer.from(t,"utf8"));try{O.send(t)}catch(f){return Z1(f)}Z1()}function G1(t){O.close(),t()}return j};N.browserStreamBuilder=V}),g5={};d8(g5,{Server:()=>v1,Socket:()=>v1,Stream:()=>v1,_createServerHandle:()=>v1,_normalizeArgs:()=>v1,_setSimultaneousAccepts:()=>v1,connect:()=>v1,createConnection:()=>v1,createServer:()=>v1,default:()=>V7,isIP:()=>v1,isIPv4:()=>v1,isIPv6:()=>v1});function v1(){throw Error("Node.js net module is not supported by JSPM core outside of Node.js")}var V7,N7=g1(()=>{Y1(),K1(),q1(),V7={_createServerHandle:v1,_normalizeArgs:v1,_setSimultaneousAccepts:v1,connect:v1,createConnection:v1,createServer:v1,isIP:v1,isIPv4:v1,isIPv6:v1,Server:v1,Socket:v1,Stream:v1}}),C7=D1((N,K)=>{Y1(),K1(),q1(),K.exports={}}),i2=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(N,"__esModule",{value:!0});var Y=K((N7(),m1(g5))),J=K(q8()),q=K(C7()),Z=(0,J.default)("mqttjs:tcp"),U=(M,L)=>{if(L.port=L.port||1883,L.hostname=L.hostname||L.host||"localhost",L.socksProxy)return(0,q.default)(L.hostname,L.port,L.socksProxy,{timeout:L.socksTimeout});let{port:X,path:G}=L,F=L.hostname;return Z("port %d and host %s",X,F),Y.default.createConnection({port:X,host:F,path:G})};N.default=U}),W7={};d8(W7,{default:()=>H7});var H7,h3=g1(()=>{Y1(),K1(),q1(),H7={}}),n2=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(N,"__esModule",{value:!0});var Y=(h3(),m1(W7)),J=K((N7(),m1(g5))),q=K(q8()),Z=K(C7()),U=(0,q.default)("mqttjs:tls");function M(X){let{host:G,port:F,socksProxy:D,...C}=X;if(D!==void 0){let H=(0,Z.default)(G,F,D,{timeout:X.socksTimeout});return(0,Y.connect)({...C,socket:H})}return(0,Y.connect)(X)}var L=(X,G)=>{G.port=G.port||8883,G.host=G.hostname||G.host||"localhost",J.default.isIP(G.host)===0&&(G.servername=G.host),G.rejectUnauthorized=G.rejectUnauthorized!==!1,delete G.path,U("port %d host %s rejectUnauthorized %b",G.port,G.host,G.rejectUnauthorized);let F=M(G);F.on("secureConnect",()=>{G.rejectUnauthorized&&!F.authorized?F.emit("error",Error("TLS not authorized")):F.removeListener("error",D)});function D(C){G.rejectUnauthorized&&X.emit("error",C),F.end()}return F.on("error",D),F};N.default=L}),r2=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=(w1(),m1(p1)),Y=P8(),J=y5(),q,Z,U;function M(){let D=new Y.Transform;return D._write=(C,H,$)=>{q.send({data:C.buffer,success(){$()},fail(V){$(Error(V))}})},D._flush=(C)=>{q.close({success(){C()}})},D}function L(D){D.hostname||(D.hostname="localhost"),D.path||(D.path="/"),D.wsOptions||(D.wsOptions={})}function X(D,C){let H=D.protocol==="wxs"?"wss":"ws",$=`${H}://${D.hostname}${D.path}`;return D.port&&D.port!==80&&D.port!==443&&($=`${H}://${D.hostname}:${D.port}${D.path}`),typeof D.transformWsUrl=="function"&&($=D.transformWsUrl($,D,C)),$}function G(){q.onOpen(()=>{U.socketReady()}),q.onMessage((D)=>{let{data:C}=D;C instanceof ArrayBuffer?C=K.Buffer.from(C):C=K.Buffer.from(C,"utf8"),Z.push(C)}),q.onClose(()=>{U.emit("close"),U.end(),U.destroy()}),q.onError((D)=>{let C=Error(D.errMsg);U.destroy(C)})}var F=(D,C)=>{if(C.hostname=C.hostname||C.host,!C.hostname)throw Error("Could not determine host. Specify host manually.");let H=C.protocolId==="MQIsdp"&&C.protocolVersion===3?"mqttv3.1":"mqtt";L(C);let $=X(C,D);q=wx.connectSocket({url:$,protocols:[H]}),Z=M(),U=new J.BufferedDuplex(C,Z,q),U._destroy=(A,Q)=>{q.close({success(){Q&&Q(A)}})};let V=U.destroy;return U.destroy=(A,Q)=>(U.destroy=V,setTimeout(()=>{q.close({fail(){U._destroy(A,Q)}})},0),U),G(),U};N.default=F}),t2=D1((N)=>{Y1(),K1(),q1(),Object.defineProperty(N,"__esModule",{value:!0});var K=(w1(),m1(p1)),Y=P8(),J=y5(),q,Z,U,M=!1;function L(){let C=new Y.Transform;return C._write=(H,$,V)=>{q.sendSocketMessage({data:H.buffer,success(){V()},fail(){V(Error())}})},C._flush=(H)=>{q.closeSocket({success(){H()}})},C}function X(C){C.hostname||(C.hostname="localhost"),C.path||(C.path="/"),C.wsOptions||(C.wsOptions={})}function G(C,H){let $=C.protocol==="alis"?"wss":"ws",V=`${$}://${C.hostname}${C.path}`;return C.port&&C.port!==80&&C.port!==443&&(V=`${$}://${C.hostname}:${C.port}${C.path}`),typeof C.transformWsUrl=="function"&&(V=C.transformWsUrl(V,C,H)),V}function F(){M||(M=!0,q.onSocketOpen(()=>{U.socketReady()}),q.onSocketMessage((C)=>{if(typeof C.data=="string"){let H=K.Buffer.from(C.data,"base64");Z.push(H)}else{let H=new FileReader;H.addEventListener("load",()=>{if(H.result instanceof ArrayBuffer){Z.push(K.Buffer.from(H.result));return}Z.push(K.Buffer.from(H.result,"utf-8"))}),H.readAsArrayBuffer(C.data)}}),q.onSocketClose(()=>{U.end(),U.destroy()}),q.onSocketError((C)=>{U.destroy(C)}))}var D=(C,H)=>{if(H.hostname=H.hostname||H.host,!H.hostname)throw Error("Could not determine host. Specify host manually.");let $=H.protocolId==="MQIsdp"&&H.protocolVersion===3?"mqttv3.1":"mqtt";X(H);let V=G(H,C);return q=H.my,q.connectSocket({url:V,protocols:$}),Z=L(),U=new J.BufferedDuplex(H,Z,q),F(),U};N.default=D}),c3=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(N,"__esModule",{value:!0}),N.connectAsync=G;var Y=K(q8()),J=K((p3(),m1(u9))),q=K(g4()),Z=K(v6());typeof E1?.nextTick!="function"&&(E1.nextTick=setImmediate);var U=(0,Y.default)("mqttjs"),M=null;function L(F){let D;if(F.auth)if(D=F.auth.match(/^(.+):(.+)$/),D){let[,C,H]=D;F.username=C,F.password=H}else F.username=F.auth}function X(F,D){if(U("connecting to an MQTT broker..."),typeof F=="object"&&!D&&(D=F,F=""),D=D||{},F&&typeof F=="string"){let $=J.default.parse(F,!0),V={};if($.port!=null&&(V.port=Number($.port)),V.host=$.hostname,V.query=$.query,V.auth=$.auth,V.protocol=$.protocol,V.path=$.path,D={...V,...D},!D.protocol)throw Error("Missing protocol");D.protocol=D.protocol.replace(/:$/,"")}if(D.unixSocket=D.unixSocket||D.protocol?.includes("+unix"),D.unixSocket?D.protocol=D.protocol.replace("+unix",""):!D.protocol?.startsWith("ws")&&!D.protocol?.startsWith("wx")&&delete D.path,L(D),D.query&&typeof D.query.clientId=="string"&&(D.clientId=D.query.clientId),Z.default||D.unixSocket?D.socksProxy=void 0:D.socksProxy===void 0&&typeof E1<"u"&&(D.socksProxy=E1.env.MQTTJS_SOCKS_PROXY),D.cert&&D.key)if(D.protocol){if(["mqtts","wss","wxs","alis"].indexOf(D.protocol)===-1)switch(D.protocol){case"mqtt":D.protocol="mqtts";break;case"ws":D.protocol="wss";break;case"wx":D.protocol="wxs";break;case"ali":D.protocol="alis";break;default:throw Error(`Unknown protocol for secure connection: "${D.protocol}"!`)}}else throw Error("Missing secure protocol key");if(M||(M={},!Z.default&&!D.forceNativeWebSocket?(M.ws=e8().streamBuilder,M.wss=e8().streamBuilder,M.mqtt=i2().default,M.tcp=i2().default,M.ssl=n2().default,M.tls=M.ssl,M.mqtts=n2().default):(M.ws=e8().browserStreamBuilder,M.wss=e8().browserStreamBuilder,M.wx=r2().default,M.wxs=r2().default,M.ali=t2().default,M.alis=t2().default)),!M[D.protocol]){let $=["mqtts","wss"].indexOf(D.protocol)!==-1;D.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((V,A)=>$&&A%2===0?!1:typeof M[V]=="function")[0]}if(D.clean===!1&&!D.clientId)throw Error("Missing clientId for unclean clients");D.protocol&&(D.defaultProtocol=D.protocol);function C($){return D.servers&&((!$._reconnectCount||$._reconnectCount===D.servers.length)&&($._reconnectCount=0),D.host=D.servers[$._reconnectCount].host,D.port=D.servers[$._reconnectCount].port,D.protocol=D.servers[$._reconnectCount].protocol?D.servers[$._reconnectCount].protocol:D.defaultProtocol,D.hostname=D.host,$._reconnectCount++),U("calling streambuilder for",D.protocol),M[D.protocol]($,D)}let H=new q.default(C,D);return H.on("error",()=>{}),H}function G(F,D,C=!0){return new Promise((H,$)=>{let V=X(F,D),A={connect:(j)=>{Q(),H(V)},end:()=>{Q(),H(V)},error:(j)=>{Q(),V.end(),$(j)}};C===!1&&(A.close=()=>{A.error(Error("Couldn't connect to server"))});function Q(){Object.keys(A).forEach((j)=>{V.off(j,A[j])})}Object.keys(A).forEach((j)=>{V.on(j,A[j])})})}N.default=X}),e2=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__createBinding||(Object.create?function(C,H,$,V){V===void 0&&(V=$);var A=Object.getOwnPropertyDescriptor(H,$);(!A||("get"in A?!H.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return H[$]}}),Object.defineProperty(C,V,A)}:function(C,H,$,V){V===void 0&&(V=$),C[V]=H[$]}),Y=N&&N.__setModuleDefault||(Object.create?function(C,H){Object.defineProperty(C,"default",{enumerable:!0,value:H})}:function(C,H){C.default=H}),J=N&&N.__importStar||function(){var C=function(H){return C=Object.getOwnPropertyNames||function($){var V=[];for(var A in $)Object.prototype.hasOwnProperty.call($,A)&&(V[V.length]=A);return V},C(H)};return function(H){if(H&&H.__esModule)return H;var $={};if(H!=null)for(var V=C(H),A=0;A<V.length;A++)V[A]!=="default"&&K($,H,V[A]);return Y($,H),$}}(),q=N&&N.__exportStar||function(C,H){for(var $ in C)$!=="default"&&!Object.prototype.hasOwnProperty.call(H,$)&&K(H,C,$)},Z=N&&N.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(N,"__esModule",{value:!0}),N.ReasonCodes=N.KeepaliveManager=N.UniqueMessageIdProvider=N.DefaultMessageIdProvider=N.Store=N.MqttClient=N.connectAsync=N.connect=N.Client=void 0;var U=Z(g4());N.MqttClient=U.default;var M=Z(p9());N.DefaultMessageIdProvider=M.default;var L=Z(g0());N.UniqueMessageIdProvider=L.default;var X=Z(P9());N.Store=X.default;var G=J(c3());N.connect=G.default,Object.defineProperty(N,"connectAsync",{enumerable:!0,get:function(){return G.connectAsync}});var F=Z(a9());N.KeepaliveManager=F.default,N.Client=U.default,q(g4(),N),q(w8(),N);var D=m6();Object.defineProperty(N,"ReasonCodes",{enumerable:!0,get:function(){return D.ReasonCodes}})}),f3=D1((N)=>{Y1(),K1(),q1();var K=N&&N.__createBinding||(Object.create?function(U,M,L,X){X===void 0&&(X=L);var G=Object.getOwnPropertyDescriptor(M,L);(!G||("get"in G?!M.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return M[L]}}),Object.defineProperty(U,X,G)}:function(U,M,L,X){X===void 0&&(X=L),U[X]=M[L]}),Y=N&&N.__setModuleDefault||(Object.create?function(U,M){Object.defineProperty(U,"default",{enumerable:!0,value:M})}:function(U,M){U.default=M}),J=N&&N.__importStar||function(){var U=function(M){return U=Object.getOwnPropertyNames||function(L){var X=[];for(var G in L)Object.prototype.hasOwnProperty.call(L,G)&&(X[X.length]=G);return X},U(M)};return function(M){if(M&&M.__esModule)return M;var L={};if(M!=null)for(var X=U(M),G=0;G<X.length;G++)X[G]!=="default"&&K(L,M,X[G]);return Y(L,M),L}}(),q=N&&N.__exportStar||function(U,M){for(var L in U)L!=="default"&&!Object.prototype.hasOwnProperty.call(M,L)&&K(M,U,L)};Object.defineProperty(N,"__esModule",{value:!0});var Z=J(e2());N.default=Z,q(e2(),N)}),j7=f3();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/function A7(N){let K=null;return N.on("stop",()=>{if(K)K.end()}),{get key(){return"mqtt"},async connect(Y){try{K=await j7.connectAsync(Y),K.on("message",()=>{}),N.call("mqtt.connected")}catch(J){K=null}},isConnected(){return K?.connected}}}import{Text as l1}from"@blockcode/core";import{jsx as o1}from"preact/jsx-runtime";var k7=[{id:"connect",text:o1(l1,{id:"blocks.mqtt.connect",defaultMessage:"connect to [URL]"}),inputs:{URL:{type:"string",defaultValue:"mqtt://test.mosquitto.org:1883"}},emu(N){}},"---",{id:"subscribe",text:o1(l1,{id:"blocks.mqtt.subscribe",defaultMessage:"subscribe topic [TOPIC]"}),inputs:{TOPIC:{type:"string",defaultValue:o1(l1,{id:"blocks.mqtt.messageTopic",defaultMessage:"topic"})}}},{id:"publish",text:o1(l1,{id:"blocks.mqtt.publish",defaultMessage:"publish message [MESSAGE] to topic [TOPIC]"}),inputs:{MESSAGE:{type:"string",defaultValue:o1(l1,{id:"blocks.mqtt.messageContent",defaultMessage:"hello"})},TOPIC:{type:"string",defaultValue:o1(l1,{id:"blocks.mqtt.messageTopic",defaultMessage:"greeting"})}}},"---",{id:"whenReceived",hat:!0,text:o1(l1,{id:"blocks.mqtt.whenReceived",defaultMessage:"when received from topic [TOPIC]"}),inputs:{TOPIC:{type:"string",defaultValue:o1(l1,{id:"blocks.mqtt.messageTopic",defaultMessage:"greeting"})}}},{id:"message",text:o1(l1,{id:"blocks.mqtt.message",defaultMessage:"last message from [TOPIC]"}),output:"string",inputs:{TOPIC:{type:"string",defaultValue:o1(l1,{id:"blocks.mqtt.messageTopic",defaultMessage:"greeting"})}}},"---",{id:"whenConnected",text:o1(l1,{id:"blocks.mqtt.whenConnected",defaultMessage:"when connected to MQTT server"}),hat:!0},{id:"isConnected",text:o1(l1,{id:"blocks.mqtt.isConnected",defaultMessage:"is connected?"}),output:"boolean"},"---",{id:"close",text:o1(l1,{id:"blocks.mqtt.close",defaultMessage:"close connection"})}];var x7="./assets/mqtt-d1917y77.py";var I7={en:{"blocks.mqtt.name":"MQTT","blocks.mqtt.connect":"connect to [URL]","blocks.mqtt.subscribe":"subscribe topic [TOPIC]","blocks.mqtt.publish":"publish message [MESSAGE] to topic [TOPIC]","blocks.mqtt.whenReceived":"when received from topic [TOPIC]","blocks.mqtt.message":"last message from topic [TOPIC]","blocks.mqtt.messageTopic":"greeting","blocks.mqtt.messageContent":"hello","blocks.mqtt.whenConnected":"when connected to MQTT server","blocks.mqtt.isConnected":"is connected?","blocks.mqtt.close":"close connection"},"zh-Hans":{"blocks.mqtt.name":"MQTT","blocks.mqtt.connect":"连接到 [URL]","blocks.mqtt.subscribe":"订阅主题 [TOPIC]","blocks.mqtt.publish":"向主题 [TOPIC] 发送消息 [MESSAGE]","blocks.mqtt.whenReceived":"当接收到来自主题 [TOPIC] 的消息","blocks.mqtt.message":"主题 [TOPIC] 最后的消息","blocks.mqtt.messageTopic":"问候","blocks.mqtt.messageContent":"你好","blocks.mqtt.whenConnected":"当连接到 MQTT 服务器","blocks.mqtt.isConnected":"连接成功？","blocks.mqtt.close":"关闭连接"},"zh-Hant":{"blocks.mqtt.name":"MQTT","blocks.mqtt.connect":"連接到 [URL]","blocks.mqtt.subscribe":"訂閱主題 [TOPIC]","blocks.mqtt.publish":"向主題 [TOPIC] 發送消息 [MESSAGE]","blocks.mqtt.whenReceived":"當接收到來自主題 [TOPIC] 的消息","blocks.mqtt.message":"主題 [TOPIC] 最後的消息","blocks.mqtt.messageTopic":"問候","blocks.mqtt.messageContent":"你好","blocks.mqtt.whenConnected":"當連接到 MQTT 服務器","blocks.mqtt.isConnected":"連接成功？","blocks.mqtt.close":"關閉連接"}};var O7="./assets/icon-czt934qp.svg";import{jsx as g3}from"preact/jsx-runtime";a3(I7);var lL={icon:O7,name:g3(y3,{id:"blocks.mqtt.name",defaultMessage:"MQTT"}),files:[{name:"mqtt",type:"text/x-python",uri:x7}],emulator:A7,blocks:k7};export{lL as default};
