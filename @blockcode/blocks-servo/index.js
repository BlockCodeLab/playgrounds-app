import{addLocalesMessages as I,Text as N}from"@blockcode/core";var w={en:{"blocks.servo.name":"9g Servo","blocks.servo.90servo":"set PIN [PIN] 90° servo angle to [ANGLE]°","blocks.servo.180servo":"set PIN [PIN] 180° servo angle to [ANGLE]°","blocks.servo.270servo":"set PIN [PIN] 270° servo angle to [ANGLE]°","blocks.servo.motor":"set PIN [PIN] 360° servo rotate [ROTATE]","blocks.servo.motorClockwise":"clockwise","blocks.servo.motorAnticlockwise":"anticlockwise","blocks.servo.motorStop":"stop"},"zh-Hans":{"blocks.servo.name":"9g 舵机","blocks.servo.90servo":"将引脚 [PIN] 90° 舵机角度设为 [ANGLE]°","blocks.servo.180servo":"将引脚 [PIN] 180° 舵机角度设为 [ANGLE]°","blocks.servo.270servo":"将引脚 [PIN] 270° 舵机角度设为 [ANGLE]°","blocks.servo.motor":"将引脚 [PIN] 360° 舵机转向设为 [ROTATE]","blocks.servo.motorClockwise":"顺时针","blocks.servo.motorAnticlockwise":"逆时针","blocks.servo.motorStop":"停止"},"zh-Hant":{"blocks.servo.name":"9g 舵機","blocks.servo.90servo":"將引腳 [PIN] 90° 舵機角度設為 [ANGLE]°","blocks.servo.180servo":"將引腳 [PIN] 180° 舵機角度設為 [ANGLE]°","blocks.servo.270servo":"將引腳 [PIN] 270° 舵機角度設為 [ANGLE]°","blocks.servo.motor":"將引腳 [PIN] 360° 舵機轉向設為 [ROTATE]","blocks.servo.motorClockwise":"順時針","blocks.servo.motorAnticlockwise":"逆時針","blocks.servo.motorStop":"停止"}};var P="./assets/icon-ta0m7ch5.png";var _="./assets/servo-bvrs0155.py";import{jsx as n}from"preact/jsx-runtime";var i=(v)=>v.editor==="@blockcode/gui-iotbit";I(w);var R={icon:P,name:n(N,{id:"blocks.servo.name",defaultMessage:"9g Servo"}),files(v){if(v.editor!=="@blockcode/gui-arduino")return[{name:"servo",type:"text/x-python",uri:_}];return[]},blocks:(v)=>[{id:"setServo180",text:n(N,{id:"blocks.servo.180servo",defaultMessage:"set PIN [PIN] 180° servo angle to [ANGLE]°"}),inputs:{PIN:i(v)?{menu:"iotOutPins"}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle180",defaultValue:90}},mpy(s){let r=i(v)?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),e=this.valueToCode(s,"ANGLE",this.ORDER_NONE);return`servo.set_angle(${r}, ${e})
`},ino(s){let r=this.valueToCode(s,"PIN",this.ORDER_NONE),e=this.valueToCode(s,"ANGLE",this.ORDER_NONE);this.definitions_.include_servo="#include <Servo.h>",this.definitions_.variable_servo="Servo _servo;";let o="";return o+=`_servo.attach(${r}); `,o+=`_servo.write(${e});
`,o}},{id:"setServo270",text:n(N,{id:"blocks.servo.270servo",defaultMessage:"set PIN [PIN] 270° servo angle to [ANGLE]°"}),inputs:{PIN:i(v)?{menu:"iotOutPins"}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle270",defaultValue:0}},mpy(s){let r=i(v)?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),e=this.valueToCode(s,"ANGLE",this.ORDER_NONE)||0;return`servo.set_angle(${r}, ${e}, angle=270)
`},ino(s){let r=this.valueToCode(s,"PIN",this.ORDER_NONE),e=this.valueToCode(s,"ANGLE",this.ORDER_NONE);this.definitions_.include_servo="#include <Servo.h>",this.definitions_.variable_servo="Servo _servo;";let o="";return o+=`_servo.attach(${r}); `,o+=`_servo.write(map(${e}, 0, 270, 0, 180));
`,o}},"---",{id:"setMotor",text:n(N,{id:"blocks.servo.motor",defaultMessage:"set PIN [PIN] 360° servo rotate [ROTATE]"}),inputs:{PIN:i(v)?{menu:"iotOutPins"}:{type:"positive_integer",defaultValue:1},ROTATE:{type:"integer",inputMode:!0,defaultValue:1,menu:[[n(N,{id:"blocks.servo.motorClockwise",defaultMessage:"clockwise"}),"1"],[n(N,{id:"blocks.servo.motorAnticlockwise",defaultMessage:"anticlockwise"}),"-1"],[n(N,{id:"blocks.servo.motorStop",defaultMessage:"stop"}),"0"]]}},mpy(s){let r=i(v)?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),e=s.getFieldValue("ROTATE")||"1";return`servo.set_motor(${r}, ${e})
`},ino(s){let r=this.valueToCode(s,"PIN",this.ORDER_NONE)||0,e=s.getFieldValue("ROTATE")||"1";this.definitions_.include_servo="#include <Servo.h>",this.definitions_.variable_servo="Servo _servo;";let o="";return o+=`_servo.attach(${r}); `,o+=`_servo.writeMicroseconds(${[1500,2000,1000][e]});
`,o}},{id:"angle180",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:180}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle270",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:270}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle90",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:90}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}}],menus:{iotOutPins:{items:[["P0","33"],["P1","32"],["P5","0"],["P6","16"],["P7","17"],["P8","26"],["P9","25"],["P11","2"],["P13","18"],["P14","19"],["P15","21"],["P16","5"],["P19","22"],["P20","23"],["P23","27"],["P24","14"],["P25","12"],["P26","13"],["P27","15"],["P28","4"]]}}};export{R as default};
