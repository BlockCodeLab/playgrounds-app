import{addLocalesMessages as g,Text as P}from"@blockcode/core";import{Text as f}from"@blockcode/core";import{jsx as v}from"preact/jsx-runtime";var i=(o)=>[{id:"setServo180",text:v(f,{id:"blocks.servo.180servo",defaultMessage:"set PIN [PIN] 180° servo angle to [ANGLE]°"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle180",defaultValue:90}},mpy(s){let r=o.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),_=this.valueToCode(s,"ANGLE",this.ORDER_NONE),e=`servo180_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo="from servo import Servo",this.definitions_[e]=`${e} = Servo(Pin(${r}))`,`${e}.write(${_})
`},ino(s){let r=o.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),_=this.valueToCode(s,"ANGLE",this.ORDER_NONE),e=`servo180_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${e}`]=`Servo ${e};`,this.definitions_[`setup_${e}`]=`${e}.attach(${r});`,`${e}.write(${_});
`}},{id:"setServo270",text:v(f,{id:"blocks.servo.270servo",defaultMessage:"set PIN [PIN] 270° servo angle to [ANGLE]°"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle270",defaultValue:0}},mpy(s){let r=o.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),_=this.valueToCode(s,"ANGLE",this.ORDER_NONE),e=`servo270_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo="from servo import Servo",this.definitions_[e]=`${e} = Servo(Pin(${r}), max_deg=270)`,`${e}.write(${_})
`},ino(s){let r=o.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),_=this.valueToCode(s,"ANGLE",this.ORDER_NONE),e=`servo270_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${e}`]=`Servo ${e};`,this.definitions_[`setup_${e}`]=`${e}.attach(${r});`,`${e}.write(map(${_}, 0, 270, 0, 180));
`}},"---",{id:"setMotor",text:v(f,{id:"blocks.servo.motor",defaultMessage:"set PIN [PIN] 360° servo rotate [ROTATE]"}),inputs:{PIN:o.boardPins?{menu:o.boardPins.out}:{type:"positive_integer",defaultValue:1},ROTATE:{type:"integer",inputMode:!0,defaultValue:1,menu:[[v(f,{id:"blocks.servo.motorForward",defaultMessage:"forward"}),"1"],[v(f,{id:"blocks.servo.motorReverse",defaultMessage:"reverse"}),"2"],[v(f,{id:"blocks.servo.motorStop",defaultMessage:"stop"}),"0"]]}},mpy(s){let r=o.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),_=this.valueToCode(s,"ROTATE",this.ORDER_NONE),e=`motor360_${r}`;return this.definitions_.import_pin="from machine import Pin",this.definitions_.import_servo="from servo import Servo",this.definitions_[e]=`${e} = Servo(Pin(${r}))`,`${e}.write_us(${[1500,2000,1000][_]})
`},ino(s){let r=o.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),_=this.valueToCode(s,"ROTATE",this.ORDER_NONE),e=`motor360_${r}`;return this.definitions_.include_servo="#include <Servo.h>",this.definitions_[`variable_${e}`]=`Servo ${e};`,this.definitions_[`setup_${e}`]=`${e}.attach(${r});`,`${e}.writeMicroseconds(${[1500,2000,1000][_]});
`}},{id:"angle270",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:270}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle180",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:180}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}}];var u={en:{"blocks.servo.name":"9g Servo","blocks.servo.90servo":"set PIN [PIN] 90° servo angle to [ANGLE]°","blocks.servo.180servo":"set PIN [PIN] 180° servo angle to [ANGLE]°","blocks.servo.270servo":"set PIN [PIN] 270° servo angle to [ANGLE]°","blocks.servo.360servo":"set PIN [PIN] 360° servo angle to [ANGLE]°","blocks.servo.motor":"set PIN [PIN] 360° motor rotate [ROTATE]","blocks.servo.motorForward":"forward","blocks.servo.motorReverse":"reverse","blocks.servo.motorStop":"stop"},"zh-Hans":{"blocks.servo.name":"9g 舵机","blocks.servo.90servo":"将引脚 [PIN] 90°舵机角度设为 [ANGLE]°","blocks.servo.180servo":"将引脚 [PIN] 180°舵机角度设为 [ANGLE]°","blocks.servo.270servo":"将引脚 [PIN] 270°舵机角度设为 [ANGLE]°","blocks.servo.360servo":"将引脚 [PIN] 360°舵机角度设为 [ANGLE]°","blocks.servo.motor":"将引脚 [PIN] 360°电机转向设为 [ROTATE]","blocks.servo.motorForward":"正转","blocks.servo.motorReverse":"反转","blocks.servo.motorStop":"停止"},"zh-Hant":{"blocks.servo.name":"9g 舵機","blocks.servo.90servo":"將引腳 [PIN] 90°舵機角度設為 [ANGLE]°","blocks.servo.180servo":"將引腳 [PIN] 180°舵機角度設為 [ANGLE]°","blocks.servo.270servo":"將引腳 [PIN] 270°舵機角度設為 [ANGLE]°","blocks.servo.360servo":"將引腳 [PIN] 360°舵機角度設為 [ANGLE]°","blocks.servo.motor":"將引腳 [PIN] 360°電機轉向設為 [ROTATE]","blocks.servo.motorForward":"正轉","blocks.servo.motorReverse":"反轉","blocks.servo.motorStop":"停止"}};var t="./assets/icon-ta0m7ch5.png";var m="./assets/servo-d78zr6h0.py";import{jsx as a}from"preact/jsx-runtime";g(u);var M={icon:t,name:a(P,{id:"blocks.servo.name",defaultMessage:"9g Servo"}),files(o){if(o.editor!=="@blockcode/gui-arduino")return[{common:!0,name:"servo",type:"text/x-python",uri:m}];return[]},blocks:i};export{M as default};
