import{addLocalesMessages as f,Text as u}from"@blockcode/core";import{Text as t}from"@blockcode/core";import{jsx as v}from"preact/jsx-runtime";var n=(e)=>[{id:"setServo180",text:v(t,{id:"blocks.servo.180servo",defaultMessage:"set PIN [PIN] 180° servo angle to [ANGLE]°"}),inputs:{PIN:e.boardPins?{menu:e.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle180",defaultValue:90}},mpy(s){let r=e.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),i=this.valueToCode(s,"ANGLE",this.ORDER_NONE);return`servo.set_angle(${r}, ${i})
`},ino(s){let r=e.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),i=this.valueToCode(s,"ANGLE",this.ORDER_NONE);this.definitions_.include_servo="#include <Servo.h>",this.definitions_.variable_servo="Servo _servo;";let o="";return o+=`_servo.attach(${r}); `,o+=`_servo.write(${i});
`,o}},{id:"setServo270",text:v(t,{id:"blocks.servo.270servo",defaultMessage:"set PIN [PIN] 270° servo angle to [ANGLE]°"}),inputs:{PIN:e.boardPins?{menu:e.boardPins.out}:{type:"positive_integer",defaultValue:1},ANGLE:{shadow:"angle270",defaultValue:0}},mpy(s){let r=e.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),i=this.valueToCode(s,"ANGLE",this.ORDER_NONE)||0;return`servo.set_angle(${r}, ${i}, angle=270)
`},ino(s){let r=e.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),i=this.valueToCode(s,"ANGLE",this.ORDER_NONE);this.definitions_.include_servo="#include <Servo.h>",this.definitions_.variable_servo="Servo _servo;";let o="";return o+=`_servo.attach(${r}); `,o+=`_servo.write(map(${i}, 0, 270, 0, 180));
`,o}},"---",{id:"setMotor",text:v(t,{id:"blocks.servo.motor",defaultMessage:"set PIN [PIN] 360° servo rotate [ROTATE]"}),inputs:{PIN:e.boardPins?{menu:e.boardPins.out}:{type:"positive_integer",defaultValue:1},ROTATE:{type:"integer",inputMode:!0,defaultValue:1,menu:[[v(t,{id:"blocks.servo.motorClockwise",defaultMessage:"clockwise"}),"1"],[v(t,{id:"blocks.servo.motorAnticlockwise",defaultMessage:"anticlockwise"}),"-1"],[v(t,{id:"blocks.servo.motorStop",defaultMessage:"stop"}),"0"]]}},mpy(s){let r=e.boardPins?s.getFieldValue("PIN"):this.valueToCode(s,"PIN",this.ORDER_NONE),i=s.getFieldValue("ROTATE")||"1";return`servo.set_motor(${r}, ${i})
`},ino(s){let r=this.valueToCode(s,"PIN",this.ORDER_NONE)||0,i=s.getFieldValue("ROTATE")||"1";this.definitions_.include_servo="#include <Servo.h>",this.definitions_.variable_servo="Servo _servo;";let o="";return o+=`_servo.attach(${r}); `,o+=`_servo.writeMicroseconds(${[1500,2000,1000][i]});
`,o}},{id:"angle180",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:180}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle270",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:270}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}},{id:"angle90",shadow:!0,output:"number",inputs:{ANGLE:{type:"slider",defaultValue:0,min:0,max:90}},mpy(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]},ino(s){return[s.getFieldValue("ANGLE")||0,this.ORDER_NONE]}}];var N={en:{"blocks.servo.name":"9g Servo","blocks.servo.90servo":"set PIN [PIN] 90° servo angle to [ANGLE]°","blocks.servo.180servo":"set PIN [PIN] 180° servo angle to [ANGLE]°","blocks.servo.270servo":"set PIN [PIN] 270° servo angle to [ANGLE]°","blocks.servo.motor":"set PIN [PIN] 360° servo rotate [ROTATE]","blocks.servo.motorClockwise":"clockwise","blocks.servo.motorAnticlockwise":"anticlockwise","blocks.servo.motorStop":"stop"},"zh-Hans":{"blocks.servo.name":"9g 舵机","blocks.servo.90servo":"将引脚 [PIN] 90° 舵机角度设为 [ANGLE]°","blocks.servo.180servo":"将引脚 [PIN] 180° 舵机角度设为 [ANGLE]°","blocks.servo.270servo":"将引脚 [PIN] 270° 舵机角度设为 [ANGLE]°","blocks.servo.motor":"将引脚 [PIN] 360° 舵机转向设为 [ROTATE]","blocks.servo.motorClockwise":"顺时针","blocks.servo.motorAnticlockwise":"逆时针","blocks.servo.motorStop":"停止"},"zh-Hant":{"blocks.servo.name":"9g 舵機","blocks.servo.90servo":"將引腳 [PIN] 90° 舵機角度設為 [ANGLE]°","blocks.servo.180servo":"將引腳 [PIN] 180° 舵機角度設為 [ANGLE]°","blocks.servo.270servo":"將引腳 [PIN] 270° 舵機角度設為 [ANGLE]°","blocks.servo.motor":"將引腳 [PIN] 360° 舵機轉向設為 [ROTATE]","blocks.servo.motorClockwise":"順時針","blocks.servo.motorAnticlockwise":"逆時針","blocks.servo.motorStop":"停止"}};var m="./assets/icon-ta0m7ch5.png";var p="./assets/servo-bvrs0155.py";import{jsx as _}from"preact/jsx-runtime";f(N);var B={icon:m,name:_(u,{id:"blocks.servo.name",defaultMessage:"9g Servo"}),files(e){if(e.editor!=="@blockcode/gui-arduino")return[{name:"servo",type:"text/x-python",uri:p}];return[]},blocks:n};export{B as default};
