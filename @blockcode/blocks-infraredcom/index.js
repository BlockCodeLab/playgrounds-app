import{addLocalesMessages as l,Text as S}from"@blockcode/core";import{Text as i}from"@blockcode/core";import{jsx as n}from"preact/jsx-runtime";var f=(d)=>[{id:"initReceive",text:n(i,{id:"blocks.infraredcom.initReceive",defaultMessage:"set pin [PIN] to ir receiver"}),inputs:{PIN:d.boardPins?{menu:d.boardPins.in}:{type:"positive_integer",defaultValue:"1"}},ino(e){let r=d.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE);return this.definitions_.include_irremote="#include <IRremote.h>",this.definitions_.setup_irreceiver=`IrReceiver.begin(${r});`,""}},{id:"isReceived",text:n(i,{id:"blocks.infraredcom.isReceived",defaultMessage:"received?"}),output:"boolean",ino(e){return this.definitions_.include_irremote="#include <IRremote.h>",this.definitions_.variable_irreceiver="bool _IrReceivedNewData = false;",this.definitions_.loop_irreceiver="_IrReceivedNewData = IrReceiver.decode(); IrReceiver.resume();",["(_IrReceivedNewData && IrReceiver.decodedIRData.protocol != UNKNOWN)",this.ORDER_ATOMIC]}},{id:"receive",text:n(i,{id:"blocks.infraredcom.receive",defaultMessage:"received command"}),output:"string",ino(e){return this.definitions_.include_irremote="#include <IRremote.h>",["IrReceiver.decodedIRData.command",this.ORDER_ATOMIC]}},{id:"receiveAddr",text:n(i,{id:"blocks.infraredcom.receiveAddr",defaultMessage:"received address"}),output:"string",ino(e){return this.definitions_.include_irremote="#include <IRremote.h>",["IrReceiver.decodedIRData.address",this.ORDER_ATOMIC]}},"---",{id:"initSend",text:n(i,{id:"blocks.infraredcom.initSend",defaultMessage:"set pin [PIN] to ir sender"}),inputs:{PIN:d.boardPins?{menu:d.boardPins.out}:{type:"positive_integer",defaultValue:"1"}},ino(e){let r=d.boardPins?e.getFieldValue("PIN"):this.valueToCode(e,"PIN",this.ORDER_NONE);return this.definitions_.include_irremote="#include <IRremote.h>",this.definitions_.setup_irsender=`IrSender.begin(${r});`,""}},{id:"send",text:n(i,{id:"blocks.infraredcom.send",defaultMessage:"send command [CMD] encode [PROTO]"}),inputs:{CMD:{type:"hex16",defaultValue:"0"},PROTO:{menu:"PROTO"}},ino(e){let r=this.valueToCode(e,"CMD",this.ORDER_NONE),s=e.getFieldValue("PROTO");this.definitions_.include_irremote="#include <IRremote.h>";let c="";return c+=`IrSender.write(${s}, 0x0, ${r}, 0);
`,c+=`IrSender.space(20);
`,c}},{id:"sendAddr",text:n(i,{id:"blocks.infraredcom.sendAddr",defaultMessage:"send command:[CMD] address:[ADDR] encode [PROTO]"}),inputs:{CMD:{type:"hex16",defaultValue:"0"},ADDR:{type:"hex16",defaultValue:"0"},PROTO:{menu:"PROTO"}},ino(e){let r=this.valueToCode(e,"CMD",this.ORDER_NONE),s=this.valueToCode(e,"ADDR",this.ORDER_NONE),c=e.getFieldValue("PROTO");this.definitions_.include_irremote="#include <IRremote.h>";let o="";return o+=`IrSender.write(${c}, ${s}, ${r}, 0);
`,o+=`IrSender.space(20);
`,o}}],m={PROTO:{items:[["NEC","NEC"],["Samsung","SAMSUNG"],["Samsung48","SAMSUNG48"],["SamsungLG","SAMSUNGLG"],["Song","SONY"],["Panasonic","PANASONIC"],["Denon","DENON"],["Sharp","SHARP"],["LG","LG"],["JVC","JVC"],["RC5","RC5"],["RC6","RC6"],["Kaseikyo JVC","KASEIKYO_JVC"],["Kaseikyo Denon","KASEIKYO_DENON"],["Kaseikyo Sharp","KASEIKYO_SHARP"],["Kaseikyo Mitsubishi","KASEIKYO_MITSUBISHI"],["NEC2","NEC2"],["Onkyo","ONKYO"],["Apple","APPLE"],["BoseWave","BOSEWAVE"],["FAST","FAST"],["Lego","LEGO_PF"]]}};var a={en:{"blocks.infraredcom.name":"Infrared Communication","blocks.infraredcom.initReceive":"set pin [PIN] to ir receiver","blocks.infraredcom.isReceived":"received?","blocks.infraredcom.receive":"received command","blocks.infraredcom.receiveAddr":"received address","blocks.infraredcom.receiveText":"received String","blocks.infraredcom.initSend":"set pin [PIN] to ir sender","blocks.infraredcom.send":"send command [CMD] encode [PROTO]","blocks.infraredcom.sendAddr":"send command:[CMD] address:[ADDR] encode [PROTO]","blocks.infraredcom.sendText":"send String [TEXT]"},"zh-Hans":{"blocks.infraredcom.name":"红外线通讯","blocks.infraredcom.initReceive":"初始红外接收引脚[PIN]","blocks.infraredcom.isReceived":"收到新信号?","blocks.infraredcom.receive":"收到的信号","blocks.infraredcom.receiveAddr":"收到的信号地址","blocks.infraredcom.receiveText":"收到 String","blocks.infraredcom.initSend":"初始红外发送引脚[PIN]","blocks.infraredcom.send":"发送[PROTO]协议信号[CMD]","blocks.infraredcom.sendAddr":"发送[PROTO]协议信号:[CMD]地址:[ADDR]","blocks.infraredcom.sendText":"发送 String [TEXT]"},"zh-Hant":{"blocks.infraredcom.name":"紅外線通訊","blocks.infraredcom.initReceive":"初始紅外接收引腳[PIN]","blocks.infraredcom.isReceived":"收到新信號?","blocks.infraredcom.receive":"收到的信號","blocks.infraredcom.receiveAddr":"收到的信號地址","blocks.infraredcom.receiveText":"收到 String","blocks.infraredcom.initSend":"初始紅外發送引腳[PIN]","blocks.infraredcom.send":"發送[PROTO]協議信號[CMD]","blocks.infraredcom.sendAddr":"發送[PROTO]協議信號:[CMD]地址:[ADDR]","blocks.infraredcom.sendText":"發送 String [TEXT]"}};var v="./assets/icon-49ctbwwk.png";import{jsx as D}from"preact/jsx-runtime";l(a);var I={icon:v,name:D(S,{id:"blocks.infraredcom.name",defaultMessage:"Infrared Communication"}),blocks:f,menus:m};export{I as default};
