var q10=Object.create;var{getPrototypeOf:U10,defineProperty:oR,getOwnPropertyNames:z10}=Object;var H10=Object.prototype.hasOwnProperty;var tR=(J,$,Q)=>{Q=J!=null?q10(U10(J)):{};let X=$||!J||!J.__esModule?oR(Q,"default",{value:J,enumerable:!0}):Q;for(let Y of z10(J))if(!H10.call(X,Y))oR(X,Y,{get:()=>J[Y],enumerable:!0});return X};var eR=(J,$)=>()=>($||J(($={exports:{}}).exports,$),$.exports);var gX=(J,$)=>{for(var Q in $)oR(J,Q,{get:$[Q],enumerable:!0,configurable:!0,set:(X)=>$[Q]=()=>X})};var E=(J,$)=>()=>(J&&($=J(J=0)),$);function _0(J){let $=globalThis.document,Q=$.createElement("style");Q.appendChild($.createTextNode(J)),$.head.append(Q)}function G9(J,$=0){return J[J.length-(1+$)]}function ox(J){if(J.length===0)throw Error("Invalid tail call");return[J.slice(0,J.length-1),J[J.length-1]]}function B6(J,$,Q=(X,Y)=>X===Y){if(J===$)return!0;if(!J||!$)return!1;if(J.length!==$.length)return!1;for(let X=0,Y=J.length;X<Y;X++)if(!Q(J[X],$[X]))return!1;return!0}function tx(J,$){let Q=J.length-1;if($<Q)J[$]=J[Q];J.pop()}function _W(J,$,Q){return V10(J.length,(X)=>Q(J[X],$))}function V10(J,$){let Q=0,X=J-1;while(Q<=X){let Y=(Q+X)/2|0,Z=$(Y);if(Z<0)Q=Y+1;else if(Z>0)X=Y-1;else return Y}return-(Q+1)}function OW(J,$,Q){if(J=J|0,J>=$.length)throw TypeError("invalid index");let X=$[Math.floor($.length*Math.random())],Y=[],Z=[],G=[];for(let q of $){let U=Q(q,X);if(U<0)Y.push(q);else if(U>0)Z.push(q);else G.push(q)}if(J<Y.length)return OW(J,Y,Q);else if(J<Y.length+G.length)return G[0];else return OW(J-(Y.length+G.length),Z,Q)}function JM(J,$){let Q=[],X=void 0;for(let Y of J.slice(0).sort($))if(!X||$(X[0],Y)!==0)X=[Y],Q.push(X);else X.push(Y);return Q}function*vG(J,$){let Q,X;for(let Y of J){if(X!==void 0&&$(X,Y))Q.push(Y);else{if(Q)yield Q;Q=[Y]}X=Y}if(Q)yield Q}function NW(J,$){for(let Q=0;Q<=J.length;Q++)$(Q===0?void 0:J[Q-1],Q===J.length?void 0:J[Q])}function ex(J,$){for(let Q=0;Q<J.length;Q++)$(Q===0?void 0:J[Q-1],J[Q],Q+1===J.length?void 0:J[Q+1])}function TW(J){return J.filter(($)=>!!$)}function $M(J){let $=0;for(let Q=0;Q<J.length;Q++)if(J[Q])J[$]=J[Q],$+=1;J.length=$}function wW(J){return!Array.isArray(J)||J.length===0}function y9(J){return Array.isArray(J)&&J.length>0}function V4(J,$=(Q)=>Q){let Q=new Set;return J.filter((X)=>{let Y=$(X);if(Q.has(Y))return!1;return Q.add(Y),!0})}function hG(J,$){return J.length>0?J[0]:$}function g5(J,$){let Q=typeof $==="number"?J:0;if(typeof $==="number")Q=J;else Q=0,$=J;let X=[];if(Q<=$)for(let Y=Q;Y<$;Y++)X.push(Y);else for(let Y=Q;Y>$;Y--)X.push(Y);return X}function pX(J,$,Q){let X=J.slice(0,$),Y=J.slice($);return X.concat(Q,Y)}function LW(J,$){let Q=J.indexOf($);if(Q>-1)J.splice(Q,1),J.unshift($)}function cU(J,$){let Q=J.indexOf($);if(Q>-1)J.splice(Q,1),J.push($)}function lU(J,$){for(let Q of $)J.push(Q)}function Jb(J){return Array.isArray(J)?J:[J]}function W10(J,$,Q){let X=$b(J,$),Y=J.length,Z=Q.length;J.length=Y+Z;for(let G=Y-1;G>=X;G--)J[G+Z]=J[G];for(let G=0;G<Z;G++)J[G+X]=Q[G]}function QM(J,$,Q,X){let Y=$b(J,$),Z=J.splice(Y,Q);if(Z===void 0)Z=[];return W10(J,Y,X),Z}function $b(J,$){return $<0?Math.max($+J.length,0):Math.min($,J.length)}function v7(J,$){return(Q,X)=>$(J(Q),J(X))}function Qb(...J){return($,Q)=>{for(let X of J){let Y=X($,Q);if(!uU.isNeitherLessOrGreaterThan(Y))return Y}return uU.neitherLessOrGreaterThan}}function Yb(J){return($,Q)=>-J($,Q)}class $7{constructor(J){this.items=J,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(J){let $=this.firstIdx;while($<this.items.length&&J(this.items[$]))$++;let Q=$===this.firstIdx?null:this.items.slice(this.firstIdx,$);return this.firstIdx=$,Q}takeFromEndWhile(J){let $=this.lastIdx;while($>=0&&J(this.items[$]))$--;let Q=$===this.lastIdx?null:this.items.slice($+1,this.lastIdx+1);return this.lastIdx=$,Q}peek(){if(this.length===0)return;return this.items[this.firstIdx]}dequeue(){let J=this.items[this.firstIdx];return this.firstIdx++,J}takeCount(J){let $=this.items.slice(this.firstIdx,this.firstIdx+J);return this.firstIdx+=J,$}}class j4{constructor(J){this.iterate=J}toArray(){let J=[];return this.iterate(($)=>{return J.push($),!0}),J}filter(J){return new j4(($)=>this.iterate((Q)=>J(Q)?$(Q):!0))}map(J){return new j4(($)=>this.iterate((Q)=>$(J(Q))))}findLast(J){let $;return this.iterate((Q)=>{if(J(Q))$=Q;return!0}),$}findLastMaxBy(J){let $,Q=!0;return this.iterate((X)=>{if(Q||uU.isGreaterThan(J(X,$)))Q=!1,$=X;return!0}),$}}var uU,WQ=(J,$)=>J-$,Xb=(J,$)=>WQ(J?1:0,$?1:0);var B1=E(()=>{(function(J){function $(Z){return Z<0}J.isLessThan=$;function Q(Z){return Z<=0}J.isLessThanOrEqual=Q;function X(Z){return Z>0}J.isGreaterThan=X;function Y(Z){return Z===0}J.isNeitherLessOrGreaterThan=Y,J.greaterThan=1,J.lessThan=-1,J.neitherLessOrGreaterThan=0})(uU||(uU={}));j4.empty=new j4((J)=>{})});function P5(J){return typeof J==="string"}function z5(J){return typeof J==="object"&&J!==null&&!Array.isArray(J)&&!(J instanceof RegExp)&&!(J instanceof Date)}function Zb(J){let $=Object.getPrototypeOf(Uint8Array);return typeof J==="object"&&J instanceof $}function q9(J){return typeof J==="number"&&!isNaN(J)}function XM(J){return!!J&&typeof J[Symbol.iterator]==="function"}function kW(J){return J===!0||J===!1}function q8(J){return typeof J>"u"}function BQ(J){return!N8(J)}function N8(J){return q8(J)||J===null}function D5(J,$){if(!J)throw Error($?`Unexpected type, expected '${$}'`:"Unexpected type")}function EW(J){if(N8(J))throw Error("Assertion Failed: argument is undefined or null");return J}function fG(J){return typeof J==="function"}function Gb(J,$){let Q=Math.min(J.length,$.length);for(let X=0;X<Q;X++)B10(J[X],$[X])}function B10(J,$){if(P5($)){if(typeof J!==$)throw Error(`argument does not match constraint: typeof ${$}`)}else if(fG($)){try{if(J instanceof $)return}catch(Q){}if(!N8(J)&&J.constructor===$)return;if($.length===1&&$.call(void 0,J)===!0)return;throw Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function J$(J){if(!J||typeof J!=="object")return J;if(J instanceof RegExp)return J;let $=Array.isArray(J)?[]:{};return Object.entries(J).forEach(([Q,X])=>{$[Q]=X&&typeof X==="object"?J$(X):X}),$}function qb(J){if(!J||typeof J!=="object")return J;let $=[J];while($.length>0){let Q=$.shift();Object.freeze(Q);for(let X in Q)if(Ub.call(Q,X)){let Y=Q[X];if(typeof Y==="object"&&!Object.isFrozen(Y)&&!Zb(Y))$.push(Y)}}return J}function IW(J,$){return YM(J,$,new Set)}function YM(J,$,Q){if(N8(J))return J;let X=$(J);if(typeof X<"u")return X;if(Array.isArray(J)){let Y=[];for(let Z of J)Y.push(YM(Z,$,Q));return Y}if(z5(J)){if(Q.has(J))throw Error("Cannot clone recursive data-structure");Q.add(J);let Y={};for(let Z in J)if(Ub.call(J,Z))Y[Z]=YM(J[Z],$,Q);return Q.delete(J),Y}return J}function ZM(J,$,Q=!0){if(!z5(J))return $;if(z5($))Object.keys($).forEach((X)=>{if(X in J){if(Q)if(z5(J[X])&&z5($[X]))ZM(J[X],$[X],Q);else J[X]=$[X]}else J[X]=$[X]});return J}function p5(J,$){if(J===$)return!0;if(J===null||J===void 0||$===null||$===void 0)return!1;if(typeof J!==typeof $)return!1;if(typeof J!=="object")return!1;if(Array.isArray(J)!==Array.isArray($))return!1;let Q,X;if(Array.isArray(J)){if(J.length!==$.length)return!1;for(Q=0;Q<J.length;Q++)if(!p5(J[Q],$[Q]))return!1}else{let Y=[];for(X in J)Y.push(X);Y.sort();let Z=[];for(X in $)Z.push(X);if(Z.sort(),!p5(Y,Z))return!1;for(Q=0;Q<Y.length;Q++)if(!p5(J[Y[Q]],$[Y[Q]]))return!1}return!0}function F10(J){let $=[];while(Object.prototype!==J)$=$.concat(Object.getOwnPropertyNames(J)),J=Object.getPrototypeOf(J);return $}function mX(J){let $=[];for(let Q of F10(J))if(typeof J[Q]==="function")$.push(Q);return $}function zb(J,$){let Q=(Y)=>{return function(){let Z=Array.prototype.slice.call(arguments,0);return $(Y,Z)}},X={};for(let Y of J)X[Y]=Q(Y);return X}var Ub;var P7=E(()=>{Ub=Object.prototype.hasOwnProperty});function A10(J,$){let Q;if($.length===0)Q=J;else Q=J.replace(/\{(\d+)\}/g,(X,Y)=>{let Z=Y[0],G=$[Z],q=X;if(typeof G==="string")q=G;else if(typeof G==="number"||typeof G==="boolean"||G===void 0||G===null)q=String(G);return q});if(K10)Q="［"+Q.replace(/[aouei]/g,"$&$&")+"］";return Q}function M(J,$,...Q){return A10($,Q)}function Hb(J){return}var K10;var a0=E(()=>{K10=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0});function Pb(){if(!Wb){Wb=!0;let J=new Uint8Array(2);J[0]=1,J[1]=2,Vb=new Uint16Array(J.buffer)[0]===513}return Vb}var GM,gG="en",aU=!1,rU=!1,sU=!1,P10=!1,Bb=!1,zM=!1,D10=!1,HM=!1,R10=!1,Fb=!1,yW=void 0,qM,jb,M10=void 0,$J=void 0,KQ,Q7=void 0,Kb,O10,UM=0,c6,$1,w6,uX,Q$,_10,Ab,x9,xW,$$,N10,bW,f8,Vb=!0,Wb=!1,jM,Db,Rb,Mb,Ob;var E1=E(()=>{a0();qM=gG,jb=gG,KQ=globalThis;if(typeof KQ.vscode<"u"&&typeof KQ.vscode.process<"u")Q7=KQ.vscode.process;else if(typeof process<"u")Q7=process;Kb=typeof((GM=Q7===null||Q7===void 0?void 0:Q7.versions)===null||GM===void 0?void 0:GM.electron)==="string",O10=Kb&&(Q7===null||Q7===void 0?void 0:Q7.type)==="renderer";if(typeof Q7==="object"){aU=Q7.platform==="win32",rU=Q7.platform==="darwin",sU=Q7.platform==="linux",P10=sU&&!!Q7.env.SNAP&&!!Q7.env.SNAP_REVISION,D10=Kb,R10=!!Q7.env.CI||!!Q7.env.BUILD_ARTIFACTSTAGINGDIRECTORY,yW=gG,qM=gG;let J=Q7.env.VSCODE_NLS_CONFIG;if(J)try{let $=JSON.parse(J),Q=$.availableLanguages["*"];yW=$.locale,jb=$.osLocale,qM=Q?Q:gG,M10=$._translationsConfigFile}catch($){}Bb=!0}else if(typeof navigator==="object"&&!O10)$J=navigator.userAgent,aU=$J.indexOf("Windows")>=0,rU=$J.indexOf("Macintosh")>=0,HM=($J.indexOf("Macintosh")>=0||$J.indexOf("iPad")>=0||$J.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,sU=$J.indexOf("Linux")>=0,Fb=($J===null||$J===void 0?void 0:$J.indexOf("Mobi"))>=0,zM=!0,yW=Hb(M({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||gG,qM=yW,jb=navigator.language;else console.error("Unable to resolve platform.");if(rU)UM=1;else if(aU)UM=3;else if(sU)UM=2;c6=aU,$1=rU,w6=sU,uX=Bb,Q$=zM,_10=zM&&typeof KQ.importScripts==="function",Ab=_10?KQ.origin:void 0,x9=HM,xW=Fb,$$=$J,N10=typeof KQ.postMessage==="function"&&!KQ.importScripts,bW=(()=>{if(N10){let J=[];KQ.addEventListener("message",(Q)=>{if(Q.data&&Q.data.vscodeScheduleAsyncWork)for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(Z.id===Q.data.vscodeScheduleAsyncWork){J.splice(X,1),Z.callback();return}}});let $=0;return(Q)=>{let X=++$;J.push({id:X,callback:Q}),KQ.postMessage({vscodeScheduleAsyncWork:X},"*")}}return(J)=>setTimeout(J)})(),f8=rU||HM?2:aU?1:3;jM=!!($$&&$$.indexOf("Chrome")>=0),Db=!!($$&&$$.indexOf("Firefox")>=0),Rb=!!(!jM&&($$&&$$.indexOf("Safari")>=0)),Mb=!!($$&&$$.indexOf("Edg/")>=0),Ob=!!($$&&$$.indexOf("Android")>=0)});var E5;var iU=E(()=>{E5={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}});var D1;var b9=E(()=>{(function(J){function $(R){return R&&typeof R==="object"&&typeof R[Symbol.iterator]==="function"}J.is=$;let Q=Object.freeze([]);function X(){return Q}J.empty=X;function*Y(R){yield R}J.single=Y;function Z(R){if($(R))return R;else return Y(R)}J.wrap=Z;function G(R){return R||Q}J.from=G;function*q(R){for(let D=R.length-1;D>=0;D--)yield R[D]}J.reverse=q;function U(R){return!R||R[Symbol.iterator]().next().done===!0}J.isEmpty=U;function z(R){return R[Symbol.iterator]().next().value}J.first=z;function H(R,D){for(let _ of R)if(D(_))return!0;return!1}J.some=H;function j(R,D){for(let _ of R)if(D(_))return _;return}J.find=j;function*B(R,D){for(let _ of R)if(D(_))yield _}J.filter=B;function*V(R,D){let _=0;for(let O of R)yield D(O,_++)}J.map=V;function*W(...R){for(let D of R)yield*D}J.concat=W;function K(R,D,_){let O=_;for(let N of R)O=D(O,N);return O}J.reduce=K;function*A(R,D,_=R.length){if(D<0)D+=R.length;if(_<0)_+=R.length;else if(_>R.length)_=R.length;for(;D<_;D++)yield R[D]}J.slice=A;function F(R,D=Number.POSITIVE_INFINITY){let _=[];if(D===0)return[_,R];let O=R[Symbol.iterator]();for(let N=0;N<D;N++){let w=O.next();if(w.done)return[_,J.empty()];_.push(w.value)}return[_,{[Symbol.iterator](){return O}}]}J.consume=F;async function P(R){let D=[];for await(let _ of R)D.push(_);return Promise.resolve(D)}J.asyncToArray=P})(D1||(D1={}))});class t6{constructor(J){this.element=J,this.next=t6.Undefined,this.prev=t6.Undefined}}var l6;var S9=E(()=>{t6.Undefined=new t6(void 0);l6=class l6{constructor(){this._first=t6.Undefined,this._last=t6.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===t6.Undefined}clear(){let J=this._first;while(J!==t6.Undefined){let $=J.next;J.prev=t6.Undefined,J.next=t6.Undefined,J=$}this._first=t6.Undefined,this._last=t6.Undefined,this._size=0}unshift(J){return this._insert(J,!1)}push(J){return this._insert(J,!0)}_insert(J,$){let Q=new t6(J);if(this._first===t6.Undefined)this._first=Q,this._last=Q;else if($){let Y=this._last;this._last=Q,Q.prev=Y,Y.next=Q}else{let Y=this._first;this._first=Q,Q.next=Y,Y.prev=Q}this._size+=1;let X=!1;return()=>{if(!X)X=!0,this._remove(Q)}}shift(){if(this._first===t6.Undefined)return;else{let J=this._first.element;return this._remove(this._first),J}}pop(){if(this._last===t6.Undefined)return;else{let J=this._last.element;return this._remove(this._last),J}}_remove(J){if(J.prev!==t6.Undefined&&J.next!==t6.Undefined){let $=J.prev;$.next=J.next,J.next.prev=$}else if(J.prev===t6.Undefined&&J.next===t6.Undefined)this._first=t6.Undefined,this._last=t6.Undefined;else if(J.next===t6.Undefined)this._last=this._last.prev,this._last.next=t6.Undefined;else if(J.prev===t6.Undefined)this._first=this._first.next,this._first.prev=t6.Undefined;this._size-=1}*[Symbol.iterator](){let J=this._first;while(J!==t6.Undefined)yield J.element,J=J.next}}});function T10(J=""){let $="(-?\\d*\\.\\d\\w*)|([^";for(let Q of VM){if(J.indexOf(Q)>=0)continue;$+="\\"+Q}return $+="\\s]+)",new RegExp($,"g")}function oU(J){let $=nU;if(J&&J instanceof RegExp)if(!J.global){let Q="g";if(J.ignoreCase)Q+="i";if(J.multiline)Q+="m";if(J.unicode)Q+="u";$=new RegExp(J.source,Q)}else $=J;return $.lastIndex=0,$}function cX(J,$,Q,X,Y){if($=oU($),!Y)Y=D1.first(_b);if(Q.length>Y.maxLen){let z=J-Y.maxLen/2;if(z<0)z=0;else X+=z;return Q=Q.substring(z,J+Y.maxLen/2),cX(J,$,Q,X,Y)}let Z=Date.now(),G=J-1-X,q=-1,U=null;for(let z=1;;z++){if(Date.now()-Z>=Y.timeBudget)break;let H=G-Y.windowSize*z;$.lastIndex=Math.max(0,H);let j=w10($,Q,G,q);if(!j&&U)break;if(U=j,H<=0)break;q=H}if(U){let z={word:U[0],startColumn:X+1+U.index,endColumn:X+1+U.index+U[0].length};return $.lastIndex=0,z}return null}function w10(J,$,Q,X){let Y;while(Y=J.exec($)){let Z=Y.index||0;if(Z<=Q&&J.lastIndex>=Q)return Y;else if(X>0&&Z>X)return null}return null}var VM="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",nU,_b;var pG=E(()=>{b9();S9();nU=T10();_b=new l6;_b.unshift({maxLen:1000,windowSize:15,timeBudget:150})});class eU{constructor(J){this._values=J}hasChanged(J){return this._values[J]}}class SW{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class M6{constructor(J,$,Q,X){this.id=J,this.name=$,this.defaultValue=Q,this.schema=X}applyUpdate(J,$){return CW(J,$)}compute(J,$,Q){return Q}}class kZ{constructor(J,$){this.newValue=J,this.didChange=$}}function CW(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return new kZ($,J!==$);if(Array.isArray(J)||Array.isArray($)){let X=Array.isArray(J)&&Array.isArray($)&&B6(J,$);return new kZ($,!X)}let Q=!1;for(let X in $)if($.hasOwnProperty(X)){let Y=CW(J[X],$[X]);if(Y.didChange)J[X]=Y.newValue,Q=!0}return new kZ(J,Q)}class uG{constructor(J){this.schema=void 0,this.id=J,this.name="_never_",this.defaultValue=void 0}applyUpdate(J,$){return CW(J,$)}validate(J){return this.defaultValue}}class IZ{constructor(J,$,Q,X){this.id=J,this.name=$,this.defaultValue=Q,this.schema=X}applyUpdate(J,$){return CW(J,$)}validate(J){if(typeof J>"u")return this.defaultValue;return J}compute(J,$,Q){return Q}}function C0(J,$){if(typeof J>"u")return $;if(J==="false")return!1;return Boolean(J)}function lX(J,$,Q,X){if(typeof J>"u")return $;let Y=parseInt(J,10);if(isNaN(Y))return $;return Y=Math.max(Q,Y),Y=Math.min(X,Y),Y|0}function Tb(J,$,Q,X){if(typeof J>"u")return $;let Y=B4.float(J,$);return B4.clamp(Y,Q,X)}function d6(J,$,Q,X){if(typeof J!=="string")return $;if(X&&J in X)return X[J];if(Q.indexOf(J)===-1)return $;return J}function L10(J){switch(J){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}function k10(J){switch(J){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}function E10(J){switch(J){case"line":return I5.Line;case"block":return I5.Block;case"underline":return I5.Underline;case"line-thin":return I5.LineThin;case"block-outline":return I5.BlockOutline;case"underline-thin":return I5.UnderlineThin}}function I10(J){if(J==="ctrlCmd")return $1?"metaKey":"ctrlKey";return"altKey"}function yZ(J){let $=J.get(97);if($==="editable")return J.get(90);return $==="on"?!1:!0}function Nb(J,$){if(typeof J!=="string")return $;switch(J){case"hidden":return 2;case"visible":return 3;default:return 1}}function mG(J,$,Q){let X=Q.indexOf(J);if(X===-1)return $;return Q[X]}function j0(J){return dX[J.id]=J,J}var PQ=8,L1,Z6,B4,D7,L6,tU,wb,Lb,I5,kb,Eb,Ib,X7,W4,yb,xb,X$,bb,Sb,EZ,Cb,AQ,vb,hb,fb,gb,pb,mb,ub,cb,lb,db,sb,ab,rb,ib,QJ="inUntrustedWorkspace",LZ,nb,ob,tb,eb,JS,$S,QS,XS,YS,ZS,y10="Consolas, 'Courier New', monospace",x10="Menlo, Monaco, 'Courier New', monospace",b10="'Droid Sans Mono', 'monospace', monospace",g8,dX,XJ;var U8=E(()=>{B1();P7();E1();iU();pG();a0();L1=class L1 extends IZ{constructor(J,$,Q,X=void 0){if(typeof X<"u")X.type="boolean",X.default=Q;super(J,$,Q,X)}validate(J){return C0(J,this.defaultValue)}};Z6=class Z6 extends IZ{static clampedInt(J,$,Q,X){return lX(J,$,Q,X)}constructor(J,$,Q,X,Y,Z=void 0){if(typeof Z<"u")Z.type="integer",Z.default=Q,Z.minimum=X,Z.maximum=Y;super(J,$,Q,Z);this.minimum=X,this.maximum=Y}validate(J){return Z6.clampedInt(J,this.defaultValue,this.minimum,this.maximum)}};B4=class B4 extends IZ{static clamp(J,$,Q){if(J<$)return $;if(J>Q)return Q;return J}static float(J,$){if(typeof J==="number")return J;if(typeof J>"u")return $;let Q=parseFloat(J);return isNaN(Q)?$:Q}constructor(J,$,Q,X,Y){if(typeof Y<"u")Y.type="number",Y.default=Q;super(J,$,Q,Y);this.validationFn=X}validate(J){return this.validationFn(B4.float(J,this.defaultValue))}};D7=class D7 extends IZ{static string(J,$){if(typeof J!=="string")return $;return J}constructor(J,$,Q,X=void 0){if(typeof X<"u")X.type="string",X.default=Q;super(J,$,Q,X)}validate(J){return D7.string(J,this.defaultValue)}};L6=class L6 extends IZ{constructor(J,$,Q,X,Y=void 0){if(typeof Y<"u")Y.type="string",Y.enum=X,Y.default=Q;super(J,$,Q,Y);this._allowedValues=X}validate(J){return d6(J,this.defaultValue,this._allowedValues)}};tU=class tU extends M6{constructor(J,$,Q,X,Y,Z,G=void 0){if(typeof G<"u")G.type="string",G.enum=Y,G.default=X;super(J,$,Q,G);this._allowedValues=Y,this._convert=Z}validate(J){if(typeof J!=="string")return this.defaultValue;if(this._allowedValues.indexOf(J)===-1)return this.defaultValue;return this._convert(J)}};wb=class wb extends M6{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[M("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),M("accessibilitySupport.on","Optimize for usage with a Screen Reader."),M("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:M("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(J){switch(J){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(J,$,Q){if(Q===0)return J.accessibilitySupport;return Q}};Lb=class Lb extends M6{constructor(){let J={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",J,{"editor.comments.insertSpace":{type:"boolean",default:J.insertSpace,description:M("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:J.ignoreEmptyLines,description:M("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{insertSpace:C0($.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:C0($.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(I5||(I5={}));kb=class kb extends uG{constructor(){super(140)}compute(J,$,Q){let X=["monaco-editor"];if($.get(39))X.push($.get(39));if(J.extraEditorClassName)X.push(J.extraEditorClassName);if($.get(73)==="default")X.push("mouse-default");else if($.get(73)==="copy")X.push("mouse-copy");if($.get(110))X.push("showUnused");if($.get(138))X.push("showDeprecated");return X.join(" ")}};Eb=class Eb extends L1{constructor(){super(37,"emptySelectionClipboard",!0,{description:M("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(J,$,Q){return Q&&J.emptySelectionClipboard}};Ib=class Ib extends M6{constructor(){let J={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",J,{"editor.find.cursorMoveOnType":{type:"boolean",default:J.cursorMoveOnType,description:M("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:J.seedSearchStringFromSelection,enumDescriptions:[M("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),M("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),M("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:M("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:J.autoFindInSelection,enumDescriptions:[M("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),M("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),M("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:M("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:J.globalFindClipboard,description:M("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:$1},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:J.addExtraSpaceOnTop,description:M("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:J.loop,description:M("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{cursorMoveOnType:C0($.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof J.seedSearchStringFromSelection==="boolean"?J.seedSearchStringFromSelection?"always":"never":d6($.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof J.autoFindInSelection==="boolean"?J.autoFindInSelection?"always":"never":d6($.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:C0($.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:C0($.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:C0($.loop,this.defaultValue.loop)}}};X7=class X7 extends M6{constructor(){super(51,"fontLigatures",X7.OFF,{anyOf:[{type:"boolean",description:M("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:M("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:M("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(J){if(typeof J>"u")return this.defaultValue;if(typeof J==="string"){if(J==="false"||J.length===0)return X7.OFF;if(J==="true")return X7.ON;return J}if(Boolean(J))return X7.ON;return X7.OFF}};X7.OFF='"liga" off, "calt" off';X7.ON='"liga" on, "calt" on';W4=class W4 extends M6{constructor(){super(54,"fontVariations",W4.OFF,{anyOf:[{type:"boolean",description:M("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:M("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:M("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(J){if(typeof J>"u")return this.defaultValue;if(typeof J==="string"){if(J==="false")return W4.OFF;if(J==="true")return W4.TRANSLATE;return J}if(Boolean(J))return W4.TRANSLATE;return W4.OFF}compute(J,$,Q){return J.fontInfo.fontVariationSettings}};W4.OFF="normal";W4.TRANSLATE="translate";yb=class yb extends uG{constructor(){super(50)}compute(J,$,Q){return J.fontInfo}};xb=class xb extends IZ{constructor(){super(52,"fontSize",g8.fontSize,{type:"number",minimum:6,maximum:100,default:g8.fontSize,description:M("fontSize","Controls the font size in pixels.")})}validate(J){let $=B4.float(J,this.defaultValue);if($===0)return g8.fontSize;return B4.clamp($,6,100)}compute(J,$,Q){return J.fontInfo.fontSize}};X$=class X$ extends M6{constructor(){super(53,"fontWeight",g8.fontWeight,{anyOf:[{type:"number",minimum:X$.MINIMUM_VALUE,maximum:X$.MAXIMUM_VALUE,errorMessage:M("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:X$.SUGGESTION_VALUES}],default:g8.fontWeight,description:M("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(J){if(J==="normal"||J==="bold")return J;return String(Z6.clampedInt(J,g8.fontWeight,X$.MINIMUM_VALUE,X$.MAXIMUM_VALUE))}};X$.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];X$.MINIMUM_VALUE=1;X$.MAXIMUM_VALUE=1000;bb=class bb extends M6{constructor(){let J={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},$={type:"string",enum:["peek","gotoAndPeek","goto"],default:J.multiple,enumDescriptions:[M("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),M("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),M("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Q=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",J,{"editor.gotoLocation.multiple":{deprecationMessage:M("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:M("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleTypeDefinitions":{description:M("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleDeclarations":{description:M("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleImplementations":{description:M("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleReferences":{description:M("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...$},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:J.alternativeDefinitionCommand,enum:Q,description:M("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:J.alternativeTypeDefinitionCommand,enum:Q,description:M("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:J.alternativeDeclarationCommand,enum:Q,description:M("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:J.alternativeImplementationCommand,enum:Q,description:M("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:J.alternativeReferenceCommand,enum:Q,description:M("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(J){var $,Q,X,Y,Z;if(!J||typeof J!=="object")return this.defaultValue;let G=J;return{multiple:d6(G.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:($=G.multipleDefinitions)!==null&&$!==void 0?$:d6(G.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Q=G.multipleTypeDefinitions)!==null&&Q!==void 0?Q:d6(G.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(X=G.multipleDeclarations)!==null&&X!==void 0?X:d6(G.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Y=G.multipleImplementations)!==null&&Y!==void 0?Y:d6(G.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Z=G.multipleReferences)!==null&&Z!==void 0?Z:d6(G.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:D7.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:D7.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:D7.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:D7.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:D7.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}};Sb=class Sb extends M6{constructor(){let J={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",J,{"editor.hover.enabled":{type:"boolean",default:J.enabled,description:M("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:J.delay,minimum:0,maximum:1e4,description:M("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:J.sticky,description:M("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:J.hidingDelay,description:M("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:J.above,description:M("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),delay:Z6.clampedInt($.delay,this.defaultValue.delay,0,1e4),sticky:C0($.sticky,this.defaultValue.sticky),hidingDelay:Z6.clampedInt($.hidingDelay,this.defaultValue.hidingDelay,0,600000),above:C0($.above,this.defaultValue.above)}}};EZ=class EZ extends uG{constructor(){super(143)}compute(J,$,Q){return EZ.computeLayout($,{memory:J.memory,outerWidth:J.outerWidth,outerHeight:J.outerHeight,isDominatedByLongLines:J.isDominatedByLongLines,lineHeight:J.fontInfo.lineHeight,viewLineCount:J.viewLineCount,lineNumbersDigitCount:J.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:J.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:J.fontInfo.maxDigitWidth,pixelRatio:J.pixelRatio,glyphMarginDecorationLaneCount:J.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(J){let $=J.height/J.lineHeight,Q=Math.floor(J.paddingTop/J.lineHeight),X=Math.floor(J.paddingBottom/J.lineHeight);if(J.scrollBeyondLastLine)X=Math.max(X,$-1);let Y=(Q+J.viewLineCount+X)/(J.pixelRatio*J.height),Z=Math.floor(J.viewLineCount/Y);return{typicalViewportLineCount:$,extraLinesBeforeFirstLine:Q,extraLinesBeyondLastLine:X,desiredRatio:Y,minimapLineCount:Z}}static _computeMinimapLayout(J,$){let{outerWidth:Q,outerHeight:X,pixelRatio:Y}=J;if(!J.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Y*X),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:X};let Z=$.stableMinimapLayoutInput,G=Z&&J.outerHeight===Z.outerHeight&&J.lineHeight===Z.lineHeight&&J.typicalHalfwidthCharacterWidth===Z.typicalHalfwidthCharacterWidth&&J.pixelRatio===Z.pixelRatio&&J.scrollBeyondLastLine===Z.scrollBeyondLastLine&&J.paddingTop===Z.paddingTop&&J.paddingBottom===Z.paddingBottom&&J.minimap.enabled===Z.minimap.enabled&&J.minimap.side===Z.minimap.side&&J.minimap.size===Z.minimap.size&&J.minimap.showSlider===Z.minimap.showSlider&&J.minimap.renderCharacters===Z.minimap.renderCharacters&&J.minimap.maxColumn===Z.minimap.maxColumn&&J.minimap.scale===Z.minimap.scale&&J.verticalScrollbarWidth===Z.verticalScrollbarWidth&&J.isViewportWrapping===Z.isViewportWrapping,q=J.lineHeight,U=J.typicalHalfwidthCharacterWidth,z=J.scrollBeyondLastLine,H=J.minimap.renderCharacters,j=Y>=2?Math.round(J.minimap.scale*2):J.minimap.scale,B=J.minimap.maxColumn,V=J.minimap.size,W=J.minimap.side,K=J.verticalScrollbarWidth,A=J.viewLineCount,F=J.remainingWidth,P=J.isViewportWrapping,R=H?2:3,D=Math.floor(Y*X),_=D/Y,O=!1,N=!1,w=R*j,T=j/Y,I=1;if(V==="fill"||V==="fit"){let{typicalViewportLineCount:b,extraLinesBeforeFirstLine:h,extraLinesBeyondLastLine:u,desiredRatio:$0,minimapLineCount:Z0}=EZ.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:z,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:X,lineHeight:q,pixelRatio:Y});if(A/Z0>1)O=!0,N=!0,j=1,w=1,T=j/Y;else{let Q0=!1,o=j+1;if(V==="fit"){let m=Math.ceil((h+A+u)*w);if(P&&G&&F<=$.stableFitRemainingWidth)Q0=!0,o=$.stableFitMaxMinimapScale;else Q0=m>D}if(V==="fill"||Q0){O=!0;let m=j;if(w=Math.min(q*Y,Math.max(1,Math.floor(1/$0))),P&&G&&F<=$.stableFitRemainingWidth)o=$.stableFitMaxMinimapScale;if(j=Math.min(o,Math.max(1,Math.floor(w/R))),j>m)I=Math.min(2,j/m);if(T=j/Y/I,D=Math.ceil(Math.max(b,h+A+u)*w),P)$.stableMinimapLayoutInput=J,$.stableFitRemainingWidth=F,$.stableFitMaxMinimapScale=j;else $.stableMinimapLayoutInput=null,$.stableFitRemainingWidth=0}}}let k=Math.floor(B*T),x=Math.min(k,Math.max(0,Math.floor((F-K-2)*T/(U+T)))+PQ),S=Math.floor(Y*x),l=S/Y;S=Math.floor(S*I);let d=H?1:2,y=W==="left"?0:Q-x-K;return{renderMinimap:d,minimapLeft:y,minimapWidth:x,minimapHeightIsEditorHeight:O,minimapIsSampling:N,minimapScale:j,minimapLineHeight:w,minimapCanvasInnerWidth:S,minimapCanvasInnerHeight:D,minimapCanvasOuterWidth:l,minimapCanvasOuterHeight:_}}static computeLayout(J,$){let Q=$.outerWidth|0,X=$.outerHeight|0,Y=$.lineHeight|0,Z=$.lineNumbersDigitCount|0,G=$.typicalHalfwidthCharacterWidth,q=$.maxDigitWidth,U=$.pixelRatio,z=$.viewLineCount,H=J.get(135),j=H==="inherit"?J.get(134):H,B=j==="inherit"?J.get(130):j,V=J.get(133),W=$.isDominatedByLongLines,K=J.get(57),A=J.get(67).renderType!==0,F=J.get(68),P=J.get(104),R=J.get(83),D=J.get(72),_=J.get(102),O=_.verticalScrollbarSize,N=_.verticalHasArrows,w=_.arrowSize,T=_.horizontalScrollbarSize,I=J.get(43),k=J.get(109)!=="never",x=J.get(65);if(I&&k)x+=16;let S=0;if(A){let z0=Math.max(Z,F);S=Math.round(z0*q)}let l=0;if(K)l=Y*$.glyphMarginDecorationLaneCount;let d=0,y=d+l,b=y+S,h=b+x,u=Q-l-S-x,$0=!1,Z0=!1,U0=-1;if(j==="inherit"&&W)$0=!0,Z0=!0;else if(B==="on"||B==="bounded")Z0=!0;else if(B==="wordWrapColumn")U0=V;let Q0=EZ._computeMinimapLayout({outerWidth:Q,outerHeight:X,lineHeight:Y,typicalHalfwidthCharacterWidth:G,pixelRatio:U,scrollBeyondLastLine:P,paddingTop:R.top,paddingBottom:R.bottom,minimap:D,verticalScrollbarWidth:O,viewLineCount:z,remainingWidth:u,isViewportWrapping:Z0},$.memory||new SW);if(Q0.renderMinimap!==0&&Q0.minimapLeft===0)d+=Q0.minimapWidth,y+=Q0.minimapWidth,b+=Q0.minimapWidth,h+=Q0.minimapWidth;let o=u-Q0.minimapWidth,m=Math.max(1,Math.floor((o-O-2)/G)),A0=N?w:0;if(Z0){if(U0=Math.max(1,m),B==="bounded")U0=Math.min(U0,V)}return{width:Q,height:X,glyphMarginLeft:d,glyphMarginWidth:l,glyphMarginDecorationLaneCount:$.glyphMarginDecorationLaneCount,lineNumbersLeft:y,lineNumbersWidth:S,decorationsLeft:b,decorationsWidth:x,contentLeft:h,contentWidth:o,minimap:Q0,viewportColumn:m,isWordWrapMinified:$0,isViewportWrapping:Z0,wrappingColumn:U0,verticalScrollbarWidth:O,horizontalScrollbarHeight:T,overviewRuler:{top:A0,width:O,height:X-2*A0,right:0}}}};Cb=class Cb extends M6{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[M("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),M("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:M("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(J){return d6(J,"simple",["simple","advanced"])}compute(J,$,Q){if($.get(2)===2)return"advanced";return Q}};(function(J){J.Off="off",J.OnCode="onCode",J.On="on"})(AQ||(AQ={}));vb=class vb extends M6{constructor(){let J={enabled:AQ.OnCode};super(64,"lightbulb",J,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[AQ.Off,AQ.OnCode,AQ.On],default:J.enabled,enumDescriptions:[M("editor.lightbulb.enabled.off","Disable the code action menu."),M("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),M("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:M("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{enabled:d6(J.enabled,this.defaultValue.enabled,[AQ.Off,AQ.OnCode,AQ.On])}}};hb=class hb extends M6{constructor(){let J={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",J,{"editor.stickyScroll.enabled":{type:"boolean",default:J.enabled,description:M("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:J.maxLineCount,minimum:1,maximum:10,description:M("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:J.defaultModel,description:M("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:J.scrollWithEditor,description:M("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),maxLineCount:Z6.clampedInt($.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:d6($.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:C0($.scrollWithEditor,this.defaultValue.scrollWithEditor)}}};fb=class fb extends M6{constructor(){let J={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",J,{"editor.inlayHints.enabled":{type:"string",default:J.enabled,description:M("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[M("editor.inlayHints.on","Inlay hints are enabled"),M("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",$1?"Ctrl+Option":"Ctrl+Alt"),M("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",$1?"Ctrl+Option":"Ctrl+Alt"),M("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:J.fontSize,markdownDescription:M("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:J.fontFamily,markdownDescription:M("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:J.padding,description:M("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;if(typeof $.enabled==="boolean")$.enabled=$.enabled?"on":"off";return{enabled:d6($.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Z6.clampedInt($.fontSize,this.defaultValue.fontSize,0,100),fontFamily:D7.string($.fontFamily,this.defaultValue.fontFamily),padding:C0($.padding,this.defaultValue.padding)}}};gb=class gb extends M6{constructor(){super(65,"lineDecorationsWidth",10)}validate(J){if(typeof J==="string"&&/^\d+(\.\d+)?ch$/.test(J))return-parseFloat(J.substring(0,J.length-2));else return Z6.clampedInt(J,this.defaultValue,0,1000)}compute(J,$,Q){if(Q<0)return Z6.clampedInt(-Q*J.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1000);else return Q}};pb=class pb extends B4{constructor(){super(66,"lineHeight",g8.lineHeight,(J)=>B4.clamp(J,0,150),{markdownDescription:M("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(J,$,Q){return J.fontInfo.lineHeight}};mb=class mb extends M6{constructor(){let J={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",J,{"editor.minimap.enabled":{type:"boolean",default:J.enabled,description:M("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:J.autohide,description:M("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[M("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),M("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),M("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:J.size,description:M("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:J.side,description:M("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:J.showSlider,description:M("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:J.scale,minimum:1,maximum:3,enum:[1,2,3],description:M("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:J.renderCharacters,description:M("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:J.maxColumn,description:M("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),autohide:C0($.autohide,this.defaultValue.autohide),size:d6($.size,this.defaultValue.size,["proportional","fill","fit"]),side:d6($.side,this.defaultValue.side,["right","left"]),showSlider:d6($.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:C0($.renderCharacters,this.defaultValue.renderCharacters),scale:Z6.clampedInt($.scale,1,1,3),maxColumn:Z6.clampedInt($.maxColumn,this.defaultValue.maxColumn,1,1e4)}}};ub=class ub extends M6{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1000,description:M("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1000,description:M("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{top:Z6.clampedInt($.top,0,0,1000),bottom:Z6.clampedInt($.bottom,0,0,1000)}}};cb=class cb extends M6{constructor(){let J={enabled:!0,cycle:!0};super(85,"parameterHints",J,{"editor.parameterHints.enabled":{type:"boolean",default:J.enabled,description:M("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:J.cycle,description:M("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),cycle:C0($.cycle,this.defaultValue.cycle)}}};lb=class lb extends uG{constructor(){super(141)}compute(J,$,Q){return J.pixelRatio}};db=class db extends M6{constructor(){let J={other:"on",comments:"off",strings:"off"},$=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[M("on","Quick suggestions show inside the suggest widget"),M("inline","Quick suggestions show as ghost text"),M("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",J,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:$,default:J.strings,description:M("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:$,default:J.comments,description:M("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:$,default:J.other,description:M("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:J,markdownDescription:M("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")});this.defaultValue=J}validate(J){if(typeof J==="boolean"){let U=J?"on":"off";return{comments:U,strings:U,other:U}}if(!J||typeof J!=="object")return this.defaultValue;let{other:$,comments:Q,strings:X}=J,Y=["on","inline","off"],Z,G,q;if(typeof $==="boolean")Z=$?"on":"off";else Z=d6($,this.defaultValue.other,Y);if(typeof Q==="boolean")G=Q?"on":"off";else G=d6(Q,this.defaultValue.comments,Y);if(typeof X==="boolean")q=X?"on":"off";else q=d6(X,this.defaultValue.strings,Y);return{other:Z,comments:G,strings:q}}};sb=class sb extends M6{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[M("lineNumbers.off","Line numbers are not rendered."),M("lineNumbers.on","Line numbers are rendered as absolute number."),M("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),M("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:M("lineNumbers","Controls the display of line numbers.")})}validate(J){let $=this.defaultValue.renderType,Q=this.defaultValue.renderFn;if(typeof J<"u")if(typeof J==="function")$=4,Q=J;else if(J==="interval")$=3;else if(J==="relative")$=2;else if(J==="on")$=1;else $=0;return{renderType:$,renderFn:Q}}};ab=class ab extends M6{constructor(){let J=[],$={type:"number",description:M("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",J,{type:"array",items:{anyOf:[$,{type:["object"],properties:{column:$,color:{type:"string",description:M("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:J,description:M("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(J){if(Array.isArray(J)){let $=[];for(let Q of J)if(typeof Q==="number")$.push({column:Z6.clampedInt(Q,0,0,1e4),color:null});else if(Q&&typeof Q==="object"){let X=Q;$.push({column:Z6.clampedInt(X.column,0,0,1e4),color:X.color})}return $.sort((Q,X)=>Q.column-X.column),$}return this.defaultValue}};rb=class rb extends M6{constructor(){super(91,"readOnlyMessage",void 0)}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return J}};ib=class ib extends M6{constructor(){let J={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",J,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[M("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),M("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),M("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:M("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[M("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),M("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),M("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:M("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:J.verticalScrollbarSize,description:M("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:J.horizontalScrollbarSize,description:M("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:J.scrollByPage,description:M("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:J.ignoreHorizontalScrollbarInContentHeight,description:M("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J,Q=Z6.clampedInt($.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1000),X=Z6.clampedInt($.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1000);return{arrowSize:Z6.clampedInt($.arrowSize,this.defaultValue.arrowSize,0,1000),vertical:Nb($.vertical,this.defaultValue.vertical),horizontal:Nb($.horizontal,this.defaultValue.horizontal),useShadows:C0($.useShadows,this.defaultValue.useShadows),verticalHasArrows:C0($.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:C0($.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:C0($.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:C0($.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Q,horizontalSliderSize:Z6.clampedInt($.horizontalSliderSize,Q,0,1000),verticalScrollbarSize:X,verticalSliderSize:Z6.clampedInt($.verticalSliderSize,X,0,1000),scrollByPage:C0($.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:C0($.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};LZ={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};nb=class nb extends M6{constructor(){let J={nonBasicASCII:QJ,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:QJ,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",J,{[LZ.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,QJ],default:J.nonBasicASCII,description:M("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[LZ.invisibleCharacters]:{restricted:!0,type:"boolean",default:J.invisibleCharacters,description:M("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[LZ.ambiguousCharacters]:{restricted:!0,type:"boolean",default:J.ambiguousCharacters,description:M("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[LZ.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,QJ],default:J.includeComments,description:M("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[LZ.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,QJ],default:J.includeStrings,description:M("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[LZ.allowedCharacters]:{restricted:!0,type:"object",default:J.allowedCharacters,description:M("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[LZ.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:J.allowedLocales,description:M("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(J,$){let Q=!1;if($.allowedCharacters&&J){if(!p5(J.allowedCharacters,$.allowedCharacters))J={...J,allowedCharacters:$.allowedCharacters},Q=!0}if($.allowedLocales&&J){if(!p5(J.allowedLocales,$.allowedLocales))J={...J,allowedLocales:$.allowedLocales},Q=!0}let X=super.applyUpdate(J,$);if(Q)return new kZ(X.newValue,!0);return X}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{nonBasicASCII:mG($.nonBasicASCII,QJ,[!0,!1,QJ]),invisibleCharacters:C0($.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:C0($.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:mG($.includeComments,QJ,[!0,!1,QJ]),includeStrings:mG($.includeStrings,QJ,[!0,!1,QJ]),allowedCharacters:this.validateBooleanMap(J.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(J.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(J,$){if(typeof J!=="object"||!J)return $;let Q={};for(let[X,Y]of Object.entries(J))if(Y===!0)Q[X]=!0;return Q}};ob=class ob extends M6{constructor(){let J={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",J,{"editor.inlineSuggest.enabled":{type:"boolean",default:J.enabled,description:M("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:J.showToolbar,enum:["always","onHover","never"],enumDescriptions:[M("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),M("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),M("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:M("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:J.suppressSuggestions,description:M("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:J.fontFamily,description:M("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),mode:d6($.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:d6($.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:C0($.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:C0($.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:D7.string($.fontFamily,this.defaultValue.fontFamily)}}};tb=class tb extends M6{constructor(){let J={enabled:E5.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:E5.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",J,{"editor.bracketPairColorization.enabled":{type:"boolean",default:J.enabled,markdownDescription:M("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:J.independentColorPoolPerBracketType,description:M("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:C0($.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}};eb=class eb extends M6{constructor(){let J={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",J,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[M("editor.guides.bracketPairs.true","Enables bracket pair guides."),M("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),M("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:J.bracketPairs,description:M("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[M("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),M("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),M("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:J.bracketPairsHorizontal,description:M("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:J.highlightActiveBracketPair,description:M("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:J.indentation,description:M("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[M("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),M("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),M("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:J.highlightActiveIndentation,description:M("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{bracketPairs:mG($.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:mG($.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:C0($.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:C0($.indentation,this.defaultValue.indentation),highlightActiveIndentation:mG($.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}};JS=class JS extends M6{constructor(){let J={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",J,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[M("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),M("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:J.insertMode,description:M("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:J.filterGraceful,description:M("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:J.localityBonus,description:M("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:J.shareSuggestSelections,markdownDescription:M("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[M("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),M("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),M("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),M("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:J.selectionMode,markdownDescription:M("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:J.snippetsPreventQuickSuggestions,description:M("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:J.showIcons,description:M("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:J.showStatusBar,description:M("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:J.preview,description:M("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:J.showInlineDetails,description:M("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:M("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:M("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:M("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{insertMode:d6($.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:C0($.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:C0($.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:C0($.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:C0($.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:d6($.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:C0($.showIcons,this.defaultValue.showIcons),showStatusBar:C0($.showStatusBar,this.defaultValue.showStatusBar),preview:C0($.preview,this.defaultValue.preview),previewMode:d6($.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:C0($.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:C0($.showMethods,this.defaultValue.showMethods),showFunctions:C0($.showFunctions,this.defaultValue.showFunctions),showConstructors:C0($.showConstructors,this.defaultValue.showConstructors),showDeprecated:C0($.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:C0($.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:C0($.showFields,this.defaultValue.showFields),showVariables:C0($.showVariables,this.defaultValue.showVariables),showClasses:C0($.showClasses,this.defaultValue.showClasses),showStructs:C0($.showStructs,this.defaultValue.showStructs),showInterfaces:C0($.showInterfaces,this.defaultValue.showInterfaces),showModules:C0($.showModules,this.defaultValue.showModules),showProperties:C0($.showProperties,this.defaultValue.showProperties),showEvents:C0($.showEvents,this.defaultValue.showEvents),showOperators:C0($.showOperators,this.defaultValue.showOperators),showUnits:C0($.showUnits,this.defaultValue.showUnits),showValues:C0($.showValues,this.defaultValue.showValues),showConstants:C0($.showConstants,this.defaultValue.showConstants),showEnums:C0($.showEnums,this.defaultValue.showEnums),showEnumMembers:C0($.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:C0($.showKeywords,this.defaultValue.showKeywords),showWords:C0($.showWords,this.defaultValue.showWords),showColors:C0($.showColors,this.defaultValue.showColors),showFiles:C0($.showFiles,this.defaultValue.showFiles),showReferences:C0($.showReferences,this.defaultValue.showReferences),showFolders:C0($.showFolders,this.defaultValue.showFolders),showTypeParameters:C0($.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:C0($.showSnippets,this.defaultValue.showSnippets),showUsers:C0($.showUsers,this.defaultValue.showUsers),showIssues:C0($.showIssues,this.defaultValue.showIssues)}}};$S=class $S extends M6{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:M("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:M("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{selectLeadingAndTrailingWhitespace:C0(J.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:C0(J.selectSubwords,this.defaultValue.selectSubwords)}}};QS=class QS extends M6{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[M("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),M("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),M("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),M("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:M("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(J){switch(J){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(J,$,Q){if($.get(2)===2)return 0;return Q}};XS=class XS extends uG{constructor(){super(144)}compute(J,$,Q){let X=$.get(143);return{isDominatedByLongLines:J.isDominatedByLongLines,isWordWrapMinified:X.isWordWrapMinified,isViewportWrapping:X.isViewportWrapping,wrappingColumn:X.wrappingColumn}}};YS=class YS extends M6{constructor(){let J={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",J,{"editor.dropIntoEditor.enabled":{type:"boolean",default:J.enabled,markdownDescription:M("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:M("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[M("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),M("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),showDropSelector:d6($.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}};ZS=class ZS extends M6{constructor(){let J={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",J,{"editor.pasteAs.enabled":{type:"boolean",default:J.enabled,markdownDescription:M("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:M("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[M("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),M("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:C0($.enabled,this.defaultValue.enabled),showPasteSelector:d6($.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}};g8={fontFamily:$1?x10:w6?b10:y10,fontWeight:"normal",fontSize:$1?12:14,lineHeight:0,letterSpacing:0},dX=[];XJ={acceptSuggestionOnCommitCharacter:j0(new L1(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:M("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:j0(new L6(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",M("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:M("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:j0(new wb),accessibilityPageSize:j0(new Z6(3,"accessibilityPageSize",10,1,1073741824,{description:M("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:j0(new D7(4,"ariaLabel",M("editorViewAccessibleLabel","Editor content"))),ariaRequired:j0(new L1(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:j0(new L1(8,"screenReaderAnnounceInlineSuggestion",!0,{description:M("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:j0(new L6(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",M("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),M("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:M("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:j0(new L6(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",M("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),M("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:M("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:j0(new L6(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",M("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:M("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:j0(new L6(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",M("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:M("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:j0(new L6(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",M("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),M("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:M("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:j0(new tU(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],L10,{enumDescriptions:[M("editor.autoIndent.none","The editor will not insert indentation automatically."),M("editor.autoIndent.keep","The editor will keep the current line's indentation."),M("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),M("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),M("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:M("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:j0(new L1(13,"automaticLayout",!1)),autoSurround:j0(new L6(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[M("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),M("editor.autoSurround.quotes","Surround with quotes but not brackets."),M("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:M("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:j0(new tb),bracketPairGuides:j0(new eb),stickyTabStops:j0(new L1(115,"stickyTabStops",!1,{description:M("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:j0(new L1(17,"codeLens",!0,{description:M("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:j0(new D7(18,"codeLensFontFamily","",{description:M("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:j0(new Z6(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:M("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:j0(new L1(20,"colorDecorators",!0,{description:M("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:j0(new L6(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[M("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),M("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),M("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:M("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:j0(new Z6(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:M("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:j0(new L1(22,"columnSelection",!1,{description:M("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:j0(new Lb),contextmenu:j0(new L1(24,"contextmenu",!0)),copyWithSyntaxHighlighting:j0(new L1(25,"copyWithSyntaxHighlighting",!0,{description:M("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:j0(new tU(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],k10,{description:M("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:j0(new L6(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[M("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),M("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),M("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:M("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:j0(new tU(28,"cursorStyle",I5.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],E10,{description:M("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:j0(new Z6(29,"cursorSurroundingLines",0,0,1073741824,{description:M("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:j0(new L6(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[M("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),M("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:M("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:j0(new Z6(31,"cursorWidth",0,0,1073741824,{markdownDescription:M("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:j0(new L1(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:j0(new L1(33,"disableMonospaceOptimizations",!1)),domReadOnly:j0(new L1(34,"domReadOnly",!1)),dragAndDrop:j0(new L1(35,"dragAndDrop",!0,{description:M("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:j0(new Eb),dropIntoEditor:j0(new YS),stickyScroll:j0(new hb),experimentalWhitespaceRendering:j0(new L6(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[M("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),M("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),M("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:M("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:j0(new D7(39,"extraEditorClassName","")),fastScrollSensitivity:j0(new B4(40,"fastScrollSensitivity",5,(J)=>J<=0?5:J,{markdownDescription:M("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:j0(new Ib),fixedOverflowWidgets:j0(new L1(42,"fixedOverflowWidgets",!1)),folding:j0(new L1(43,"folding",!0,{description:M("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:j0(new L6(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[M("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),M("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:M("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:j0(new L1(45,"foldingHighlight",!0,{description:M("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:j0(new L1(46,"foldingImportsByDefault",!1,{description:M("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:j0(new Z6(47,"foldingMaximumRegions",5000,10,65000,{description:M("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:j0(new L1(48,"unfoldOnClickAfterEndOfLine",!1,{description:M("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:j0(new D7(49,"fontFamily",g8.fontFamily,{description:M("fontFamily","Controls the font family.")})),fontInfo:j0(new yb),fontLigatures2:j0(new X7),fontSize:j0(new xb),fontWeight:j0(new X$),fontVariations:j0(new W4),formatOnPaste:j0(new L1(55,"formatOnPaste",!1,{description:M("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:j0(new L1(56,"formatOnType",!1,{description:M("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:j0(new L1(57,"glyphMargin",!0,{description:M("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:j0(new bb),hideCursorInOverviewRuler:j0(new L1(59,"hideCursorInOverviewRuler",!1,{description:M("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:j0(new Sb),inDiffEditor:j0(new L1(61,"inDiffEditor",!1)),letterSpacing:j0(new B4(63,"letterSpacing",g8.letterSpacing,(J)=>B4.clamp(J,-5,20),{description:M("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:j0(new vb),lineDecorationsWidth:j0(new gb),lineHeight:j0(new pb),lineNumbers:j0(new sb),lineNumbersMinChars:j0(new Z6(68,"lineNumbersMinChars",5,1,300)),linkedEditing:j0(new L1(69,"linkedEditing",!1,{description:M("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:j0(new L1(70,"links",!0,{description:M("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:j0(new L6(71,"matchBrackets","always",["always","near","never"],{description:M("matchBrackets","Highlight matching brackets.")})),minimap:j0(new mb),mouseStyle:j0(new L6(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:j0(new B4(74,"mouseWheelScrollSensitivity",1,(J)=>J===0?1:J,{markdownDescription:M("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:j0(new L1(75,"mouseWheelZoom",!1,{markdownDescription:$1?M("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):M("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:j0(new L1(76,"multiCursorMergeOverlapping",!0,{description:M("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:j0(new tU(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],I10,{markdownEnumDescriptions:[M("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),M("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:M({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:j0(new L6(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[M("multiCursorPaste.spread","Each cursor pastes a single line of the text."),M("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:M("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:j0(new Z6(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:M("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:j0(new L6(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[M("occurrencesHighlight.off","Does not highlight occurrences."),M("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),M("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:M("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:j0(new L1(81,"overviewRulerBorder",!0,{description:M("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:j0(new Z6(82,"overviewRulerLanes",3,0,3)),padding:j0(new ub),pasteAs:j0(new ZS),parameterHints:j0(new cb),peekWidgetDefaultFocus:j0(new L6(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[M("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),M("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:M("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:j0(new L1(87,"definitionLinkOpensInPeek",!1,{description:M("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:j0(new db),quickSuggestionsDelay:j0(new Z6(89,"quickSuggestionsDelay",10,0,1073741824,{description:M("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:j0(new L1(90,"readOnly",!1)),readOnlyMessage:j0(new rb),renameOnType:j0(new L1(92,"renameOnType",!1,{description:M("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:M("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:j0(new L1(93,"renderControlCharacters",!0,{description:M("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:j0(new L6(94,"renderFinalNewline",w6?"dimmed":"on",["off","on","dimmed"],{description:M("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:j0(new L6(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",M("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:M("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:j0(new L1(96,"renderLineHighlightOnlyWhenFocus",!1,{description:M("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:j0(new L6(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:j0(new L6(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",M("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),M("renderWhitespace.selection","Render whitespace characters only on selected text."),M("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:M("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:j0(new Z6(99,"revealHorizontalRightPadding",15,0,1000)),roundedSelection:j0(new L1(100,"roundedSelection",!0,{description:M("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:j0(new ab),scrollbar:j0(new ib),scrollBeyondLastColumn:j0(new Z6(103,"scrollBeyondLastColumn",4,0,1073741824,{description:M("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:j0(new L1(104,"scrollBeyondLastLine",!0,{description:M("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:j0(new L1(105,"scrollPredominantAxis",!0,{description:M("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:j0(new L1(106,"selectionClipboard",!0,{description:M("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:w6})),selectionHighlight:j0(new L1(107,"selectionHighlight",!0,{description:M("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:j0(new L1(108,"selectOnLineNumbers",!0)),showFoldingControls:j0(new L6(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[M("showFoldingControls.always","Always show the folding controls."),M("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),M("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:M("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:j0(new L1(110,"showUnused",!0,{description:M("showUnused","Controls fading out of unused code.")})),showDeprecated:j0(new L1(138,"showDeprecated",!0,{description:M("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:j0(new fb),snippetSuggestions:j0(new L6(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[M("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),M("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),M("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),M("snippetSuggestions.none","Do not show snippet suggestions.")],description:M("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:j0(new $S),smoothScrolling:j0(new L1(113,"smoothScrolling",!1,{description:M("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:j0(new Z6(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:j0(new JS),inlineSuggest:j0(new ob),inlineCompletionsAccessibilityVerbose:j0(new L1(147,"inlineCompletionsAccessibilityVerbose",!1,{description:M("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:j0(new Z6(118,"suggestFontSize",0,0,1000,{markdownDescription:M("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:j0(new Z6(119,"suggestLineHeight",0,0,1000,{markdownDescription:M("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:j0(new L1(120,"suggestOnTriggerCharacters",!0,{description:M("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:j0(new L6(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[M("suggestSelection.first","Always select the first suggestion."),M("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),M("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:M("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:j0(new L6(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[M("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),M("tabCompletion.off","Disable tab completions."),M("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:M("tabCompletion","Enables tab completions.")})),tabIndex:j0(new Z6(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:j0(new nb),unusualLineTerminators:j0(new L6(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[M("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),M("unusualLineTerminators.off","Unusual line terminators are ignored."),M("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:M("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:j0(new L1(126,"useShadowDOM",!0)),useTabStops:j0(new L1(127,"useTabStops",!0,{description:M("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:j0(new L6(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[M("wordBreak.normal","Use the default line break rule."),M("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:M("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:j0(new D7(129,"wordSeparators",VM,{description:M("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:j0(new L6(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[M("wordWrap.off","Lines will never wrap."),M("wordWrap.on","Lines will wrap at the viewport width."),M({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),M({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:M({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:j0(new D7(131,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:j0(new D7(132,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:j0(new Z6(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:M({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:j0(new L6(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:j0(new L6(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:j0(new kb),defaultColorDecorators:j0(new L1(145,"defaultColorDecorators",!1,{markdownDescription:M("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:j0(new lb),tabFocusMode:j0(new L1(142,"tabFocusMode",!1,{markdownDescription:M("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:j0(new EZ),wrappingInfo:j0(new XS),wrappingIndent:j0(new QS),wrappingStrategy:j0(new Cb)}});class GS{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(J){setTimeout(()=>{if(J.stack){if(cG.isErrorNoTelemetry(J))throw new cG(J.message+`

`+J.stack);throw Error(J.message+`

`+J.stack)}throw J},0)}}emit(J){this.listeners.forEach(($)=>{$(J)})}onUnexpectedError(J){this.unexpectedErrorHandler(J),this.emit(J)}onUnexpectedExternalError(J){this.unexpectedErrorHandler(J)}}function Z1(J){if(!Z$(J))qS.onUnexpectedError(J);return}function Y$(J){if(!Z$(J))qS.onUnexpectedExternalError(J);return}function WM(J){if(J instanceof Error){let{name:$,message:Q}=J,X=J.stacktrace||J.stack;return{$isError:!0,name:$,message:Q,stack:X,noTelemetry:cG.isErrorNoTelemetry(J)}}return J}function Z$(J){if(J instanceof DQ)return!0;return J instanceof Error&&J.name===vW&&J.message===vW}function US(){let J=Error(vW);return J.name=J.message,J}function YJ(J){if(J)return Error(`Illegal argument: ${J}`);else return Error("Illegal argument")}function lG(J){if(J)return Error(`Illegal state: ${J}`);else return Error("Illegal state")}var qS,vW="Canceled",DQ,BM,cG,l1;var T1=E(()=>{qS=new GS;DQ=class DQ extends Error{constructor(){super(vW);this.name=this.message}};BM=class BM extends Error{constructor(J){super("NotSupported");if(J)this.message=J}};cG=class cG extends Error{constructor(J){super(J);this.name="CodeExpectedError"}static fromError(J){if(J instanceof cG)return J;let $=new cG;return $.message=J.message,$.stack=J.stack,$}static isErrorNoTelemetry(J){return J.name==="CodeExpectedError"}};l1=class l1 extends Error{constructor(J){super(J||"An unexpected bug occurred.");Object.setPrototypeOf(this,l1.prototype)}}});function ZJ(J,$){let Q=this,X=!1,Y;return function(){if(X)return Y;if(X=!0,$)try{Y=J.apply(Q,arguments)}finally{$()}else Y=J.apply(Q,arguments);return Y}}function v10(J){h7=J}function xZ(J){return h7===null||h7===void 0||h7.trackDisposable(J),J}function bZ(J){h7===null||h7===void 0||h7.markAsDisposed(J)}function hW(J,$){h7===null||h7===void 0||h7.setParent(J,$)}function h10(J,$){if(!h7)return;for(let Q of J)h7.setParent(Q,$)}function SZ(J){return h7===null||h7===void 0||h7.markAsSingleton(J),J}function fW(J){return typeof J.dispose==="function"&&J.dispose.length===0}function h1(J){if(D1.is(J)){let $=[];for(let Q of J)if(Q)try{Q.dispose()}catch(X){$.push(X)}if($.length===1)throw $[0];else if($.length>1)throw AggregateError($,"Encountered errors while disposing of store");return Array.isArray(J)?[]:J}else if(J)return J.dispose(),J}function p8(...J){let $=y0(()=>h1(J));return h10(J,$),$}function y0(J){let $=xZ({dispose:ZJ(()=>{bZ($),J()})});return $}class q0{constructor(){this._toDispose=new Set,this._isDisposed=!1,xZ(this)}dispose(){if(this._isDisposed)return;bZ(this),this._isDisposed=!0,this.clear()}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size===0)return;try{h1(this._toDispose)}finally{this._toDispose.clear()}}add(J){if(!J)return J;if(J===this)throw Error("Cannot register a disposable on itself!");if(hW(J,this),this._isDisposed){if(!q0.DISABLE_DISPOSED_WARNING)console.warn(Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack)}else this._toDispose.add(J);return J}deleteAndLeak(J){if(!J)return;if(this._toDispose.has(J))this._toDispose.delete(J),hW(J,null)}}class r{constructor(){this._store=new q0,xZ(this),hW(this._store,this)}dispose(){bZ(this),this._store.dispose()}_register(J){if(J===this)throw Error("Cannot register a disposable on itself!");return this._store.add(J)}}class r5{constructor(){this._isDisposed=!1,xZ(this)}get value(){return this._isDisposed?void 0:this._value}set value(J){var $;if(this._isDisposed||J===this._value)return;if(($=this._value)===null||$===void 0||$.dispose(),J)hW(J,this);this._value=J}clear(){this.value=void 0}dispose(){var J;this._isDisposed=!0,bZ(this),(J=this._value)===null||J===void 0||J.dispose(),this._value=void 0}}class FM{constructor(J){this.object=J}dispose(){}}var C10=!1,h7=null,CZ;var B0=E(()=>{b9();if(C10)v10(new class{trackDisposable($){let Q=Error("Potentially leaked disposable").stack;setTimeout(()=>{if(!$.__is_disposable_tracked__)console.log(Q)},3000)}setParent($,Q){if($&&$!==r.None)try{$.__is_disposable_tracked__=!0}catch(X){}}markAsDisposed($){if($&&$!==r.None)try{$.__is_disposable_tracked__=!0}catch(Q){}}markAsSingleton($){}});q0.DISABLE_DISPOSED_WARNING=!1;r.None=Object.freeze({dispose(){}});CZ=class CZ{constructor(){this._store=new Map,this._isDisposed=!1,xZ(this)}dispose(){bZ(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(!this._store.size)return;try{h1(this._store.values())}finally{this._store.clear()}}get(J){return this._store.get(J)}set(J,$,Q=!1){var X;if(this._isDisposed)console.warn(Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack);if(!Q)(X=this._store.get(J))===null||X===void 0||X.dispose();this._store.set(J,$)}deleteAndDispose(J){var $;($=this._store.get(J))===null||$===void 0||$.dispose(),this._store.delete(J)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}});class R5{static create(J){return new R5(J)}constructor(J){this._now=f10&&J===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){if(this._stopTime!==-1)return this._stopTime-this._startTime;return this._now()-this._startTime}}var f10;var G$=E(()=>{f10=globalThis.performance&&typeof globalThis.performance.now==="function"});class dG{constructor(J){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${J}_${dG._idPool++}`,dG.all.add(this)}start(J){this._stopWatch=new R5,this.listenerCount=J}stop(){if(this._stopWatch){let J=this._stopWatch.elapsed();this.durations.push(J),this.elapsedOverall+=J,this.invocationCount+=1,this._stopWatch=void 0}}}class jS{constructor(J,$=Math.random().toString(18).slice(2,5)){this.threshold=J,this.name=$,this._warnCountdown=0}dispose(){var J;(J=this._stacks)===null||J===void 0||J.clear()}check(J,$){let Q=this.threshold;if(Q<=0||$<Q)return;if(!this._stacks)this._stacks=new Map;let X=this._stacks.get(J.value)||0;if(this._stacks.set(J.value,X+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=Q*0.5;let Y,Z=0;for(let[G,q]of this._stacks)if(!Y||Z<q)Y=G,Z=q;console.warn(`[${this.name}] potential listener LEAK detected, having ${$} listeners already. MOST frequent listener (${Z}):`),console.warn(Y)}return()=>{let Y=this._stacks.get(J.value)||0;this._stacks.set(J.value,Y-1)}}}class $z{static create(){var J;return new $z((J=Error().stack)!==null&&J!==void 0?J:"")}constructor(J){this.value=J}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class Jz{constructor(J){this.value=J}}class p{constructor(J){var $,Q,X,Y,Z;this._size=0,this._options=J,this._leakageMon=HS>0||(($=this._options)===null||$===void 0?void 0:$.leakWarningThreshold)?new jS((X=(Q=this._options)===null||Q===void 0?void 0:Q.leakWarningThreshold)!==null&&X!==void 0?X:HS):void 0,this._perfMon=((Y=this._options)===null||Y===void 0?void 0:Y._profName)?new dG(this._options._profName):void 0,this._deliveryQueue=(Z=this._options)===null||Z===void 0?void 0:Z.deliveryQueue}dispose(){var J,$,Q,X;if(!this._disposed){if(this._disposed=!0,((J=this._deliveryQueue)===null||J===void 0?void 0:J.current)===this)this._deliveryQueue.reset();if(this._listeners){if(zS){let Y=this._listeners;queueMicrotask(()=>{m10(Y,(Z)=>{var G;return(G=Z.stack)===null||G===void 0?void 0:G.print()})})}this._listeners=void 0,this._size=0}(Q=($=this._options)===null||$===void 0?void 0:$.onDidRemoveLastListener)===null||Q===void 0||Q.call($),(X=this._leakageMon)===null||X===void 0||X.dispose()}}get event(){var J;return(J=this._event)!==null&&J!==void 0||(this._event=($,Q,X)=>{var Y,Z,G,q,U;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),r.None;if(this._disposed)return r.None;if(Q)$=$.bind(Q);let z=new Jz($),H,j;if(this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*0.2))z.stack=$z.create(),H=this._leakageMon.check(z.stack,this._size+1);if(zS)z.stack=j!==null&&j!==void 0?j:$z.create();if(!this._listeners)(Z=(Y=this._options)===null||Y===void 0?void 0:Y.onWillAddFirstListener)===null||Z===void 0||Z.call(Y,this),this._listeners=z,(q=(G=this._options)===null||G===void 0?void 0:G.onDidAddFirstListener)===null||q===void 0||q.call(G,this);else if(this._listeners instanceof Jz)(U=this._deliveryQueue)!==null&&U!==void 0||(this._deliveryQueue=new KM),this._listeners=[this._listeners,z];else this._listeners.push(z);this._size++;let B=y0(()=>{H===null||H===void 0||H(),this._removeListener(z)});if(X instanceof q0)X.add(B);else if(Array.isArray(X))X.push(B);return B}),this._event}_removeListener(J){var $,Q,X,Y;if((Q=($=this._options)===null||$===void 0?void 0:$.onWillRemoveListener)===null||Q===void 0||Q.call($,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(Y=(X=this._options)===null||X===void 0?void 0:X.onDidRemoveLastListener)===null||Y===void 0||Y.call(X,this),this._size=0;return}let Z=this._listeners,G=Z.indexOf(J);if(G===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),Error("Attempted to dispose unknown listener");this._size--,Z[G]=void 0;let q=this._deliveryQueue.current===this;if(this._size*p10<=Z.length){let U=0;for(let z=0;z<Z.length;z++)if(Z[z])Z[U++]=Z[z];else if(q){if(this._deliveryQueue.end--,U<this._deliveryQueue.i)this._deliveryQueue.i--}Z.length=U}}_deliver(J,$){var Q;if(!J)return;let X=((Q=this._options)===null||Q===void 0?void 0:Q.onListenerError)||Z1;if(!X){J.value($);return}try{J.value($)}catch(Y){X(Y)}}_deliverQueue(J){let $=J.current._listeners;while(J.i<J.end)this._deliver($[J.i++],J.value);J.reset()}fire(J){var $,Q,X,Y;if(($=this._deliveryQueue)===null||$===void 0?void 0:$.current)this._deliverQueue(this._deliveryQueue),(Q=this._perfMon)===null||Q===void 0||Q.stop();if((X=this._perfMon)===null||X===void 0||X.start(this._size),!this._listeners);else if(this._listeners instanceof Jz)this._deliver(this._listeners,J);else{let Z=this._deliveryQueue;Z.enqueue(this,J,this._listeners.length),this._deliverQueue(Z)}(Y=this._perfMon)===null||Y===void 0||Y.stop()}hasListeners(){return this._size>0}}class KM{constructor(){this.i=-1,this.end=0}enqueue(J,$,Q){this.i=0,this.end=Q,this.current=J,this.value=$}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class PM{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new p({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(J){let $={event:J,listener:null};if(this.events.push($),this.hasListeners)this.hook($);return y0(ZJ(()=>{if(this.hasListeners)this.unhook($);let X=this.events.indexOf($);this.events.splice(X,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach((J)=>this.hook(J))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach((J)=>this.unhook(J))}hook(J){J.listener=J.event(($)=>this.emitter.fire($))}unhook(J){if(J.listener)J.listener.dispose();J.listener=null}dispose(){this.emitter.dispose()}}class vZ{constructor(){this.buffers=[]}wrapEvent(J){return($,Q,X)=>{return J((Y)=>{let Z=this.buffers[this.buffers.length-1];if(Z)Z.push(()=>$.call(Q,Y));else $.call(Q,Y)},void 0,X)}}bufferEvents(J){let $=[];this.buffers.push($);let Q=J();return this.buffers.pop(),$.forEach((X)=>X()),Q}}class gW{constructor(){this.listening=!1,this.inputEvent=V0.None,this.inputEventListener=r.None,this.emitter=new p({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(J){if(this.inputEvent=J,this.listening)this.inputEventListener.dispose(),this.inputEventListener=J(this.emitter.fire,this.emitter)}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}var zS=!1,g10=!1,V0,HS=-1,p10=2,m10=(J,$)=>{if(J instanceof Jz)$(J);else for(let Q=0;Q<J.length;Q++){let X=J[Q];if(X)$(X)}},VS=()=>new KM,F4,Qz,AM;var E0=E(()=>{T1();B0();S9();G$();(function(J){J.None=()=>r.None;function $(x){if(g10){let{onDidAddListener:S}=x,l=$z.create(),d=0;x.onDidAddListener=()=>{if(++d===2)console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),l.print();S===null||S===void 0||S()}}}function Q(x,S){return B(x,()=>{return},0,void 0,!0,void 0,S)}J.defer=Q;function X(x){return(S,l=null,d)=>{let y=!1,b=void 0;if(b=x((h)=>{if(y)return;else if(b)b.dispose();else y=!0;return S.call(l,h)},null,d),y)b.dispose();return b}}J.once=X;function Y(x,S,l){return H((d,y=null,b)=>x((h)=>d.call(y,S(h)),null,b),l)}J.map=Y;function Z(x,S,l){return H((d,y=null,b)=>x((h)=>{S(h),d.call(y,h)},null,b),l)}J.forEach=Z;function G(x,S,l){return H((d,y=null,b)=>x((h)=>S(h)&&d.call(y,h),null,b),l)}J.filter=G;function q(x){return x}J.signal=q;function U(...x){return(S,l=null,d)=>{let y=p8(...x.map((b)=>b((h)=>S.call(l,h))));return j(y,d)}}J.any=U;function z(x,S,l,d){let y=l;return Y(x,(b)=>{return y=S(y,b),y},d)}J.reduce=z;function H(x,S){let l,d={onWillAddFirstListener(){l=x(y.fire,y)},onDidRemoveLastListener(){l===null||l===void 0||l.dispose()}};if(!S)$(d);let y=new p(d);return S===null||S===void 0||S.add(y),y.event}function j(x,S){if(S instanceof Array)S.push(x);else if(S)S.add(x);return x}function B(x,S,l=100,d=!1,y=!1,b,h){let u,$0=void 0,Z0=void 0,U0=0,Q0,o={leakWarningThreshold:b,onWillAddFirstListener(){u=x((A0)=>{if(U0++,$0=S($0,A0),d&&!Z0)m.fire($0),$0=void 0;if(Q0=()=>{let z0=$0;if($0=void 0,Z0=void 0,!d||U0>1)m.fire(z0);U0=0},typeof l==="number")clearTimeout(Z0),Z0=setTimeout(Q0,l);else if(Z0===void 0)Z0=0,queueMicrotask(Q0)})},onWillRemoveListener(){if(y&&U0>0)Q0===null||Q0===void 0||Q0()},onDidRemoveLastListener(){Q0=void 0,u.dispose()}};if(!h)$(o);let m=new p(o);return h===null||h===void 0||h.add(m),m.event}J.debounce=B;function V(x,S=0,l){return J.debounce(x,(d,y)=>{if(!d)return[y];return d.push(y),d},S,void 0,!0,void 0,l)}J.accumulate=V;function W(x,S=(d,y)=>d===y,l){let d=!0,y;return G(x,(b)=>{let h=d||!S(b,y);return d=!1,y=b,h},l)}J.latch=W;function K(x,S,l){return[J.filter(x,S,l),J.filter(x,(d)=>!S(d),l)]}J.split=K;function A(x,S=!1,l=[],d){let y=l.slice(),b=x(($0)=>{if(y)y.push($0);else u.fire($0)});if(d)d.add(b);let h=()=>{y===null||y===void 0||y.forEach(($0)=>u.fire($0)),y=null},u=new p({onWillAddFirstListener(){if(!b){if(b=x(($0)=>u.fire($0)),d)d.add(b)}},onDidAddFirstListener(){if(y)if(S)setTimeout(h);else h()},onDidRemoveLastListener(){if(b)b.dispose();b=null}});if(d)d.add(u);return u.event}J.buffer=A;function F(x,S){return(d,y,b)=>{let h=S(new R);return x(function(u){let $0=h.evaluate(u);if($0!==P)d.call(y,$0)},void 0,b)}}J.chain=F;let P=Symbol("HaltChainable");class R{constructor(){this.steps=[]}map(x){return this.steps.push(x),this}forEach(x){return this.steps.push((S)=>{return x(S),S}),this}filter(x){return this.steps.push((S)=>x(S)?S:P),this}reduce(x,S){let l=S;return this.steps.push((d)=>{return l=x(l,d),l}),this}latch(x=(S,l)=>S===l){let S=!0,l;return this.steps.push((d)=>{let y=S||!x(d,l);return S=!1,l=d,y?d:P}),this}evaluate(x){for(let S of this.steps)if(x=S(x),x===P)break;return x}}function D(x,S,l=(d)=>d){let d=(...u)=>h.fire(l(...u)),h=new p({onWillAddFirstListener:()=>x.on(S,d),onDidRemoveLastListener:()=>x.removeListener(S,d)});return h.event}J.fromNodeEventEmitter=D;function _(x,S,l=(d)=>d){let d=(...u)=>h.fire(l(...u)),h=new p({onWillAddFirstListener:()=>x.addEventListener(S,d),onDidRemoveLastListener:()=>x.removeEventListener(S,d)});return h.event}J.fromDOMEventEmitter=_;function O(x){return new Promise((S)=>X(x)(S))}J.toPromise=O;function N(x){let S=new p;return x.then((l)=>{S.fire(l)},()=>{S.fire(void 0)}).finally(()=>{S.dispose()}),S.event}J.fromPromise=N;function w(x,S,l){return S(l),x((d)=>S(d))}J.runAndSubscribe=w;class T{constructor(x,S){this._observable=x,this._counter=0,this._hasChanged=!1;let l={onWillAddFirstListener:()=>{x.addObserver(this)},onDidRemoveLastListener:()=>{x.removeObserver(this)}};if(!S)$(l);if(this.emitter=new p(l),S)S.add(this.emitter)}beginUpdate(x){this._counter++}handlePossibleChange(x){}handleChange(x,S){this._hasChanged=!0}endUpdate(x){if(this._counter--,this._counter===0){if(this._observable.reportChanges(),this._hasChanged)this._hasChanged=!1,this.emitter.fire(this._observable.get())}}}function I(x,S){return new T(x,S).emitter.event}J.fromObservable=I;function k(x){return(S,l,d)=>{let y=0,b=!1,h={beginUpdate(){y++},endUpdate(){if(y--,y===0){if(x.reportChanges(),b)b=!1,S.call(l)}},handlePossibleChange(){},handleChange(){b=!0}};x.addObserver(h),x.reportChanges();let u={dispose(){x.removeObserver(h)}};if(d instanceof q0)d.add(u);else if(Array.isArray(d))d.push(u);return u}}J.fromObservableLight=k})(V0||(V0={}));dG.all=new Set;dG._idPool=0;F4=class F4 extends p{constructor(J){super(J);this._isPaused=0,this._eventQueue=new l6,this._mergeFn=J===null||J===void 0?void 0:J.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){let J=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(J))}}else while(!this._isPaused&&this._eventQueue.size!==0)super.fire(this._eventQueue.shift())}fire(J){if(this._size)if(this._isPaused!==0)this._eventQueue.push(J);else super.fire(J)}};Qz=class Qz extends F4{constructor(J){var $;super(J);this._delay=($=J.delay)!==null&&$!==void 0?$:100}fire(J){if(!this._handle)this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay);super.fire(J)}};AM=class AM extends p{constructor(J){super(J);this._queuedEvents=[],this._mergeFn=J===null||J===void 0?void 0:J.merge}fire(J){if(!this.hasListeners())return;if(this._queuedEvents.push(J),this._queuedEvents.length===1)queueMicrotask(()=>{if(this._mergeFn)super.fire(this._mergeFn(this._queuedEvents));else this._queuedEvents.forEach(($)=>super.fire($));this._queuedEvents=[]})}}});class Xz{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return WS;if(!this._emitter)this._emitter=new p;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=null}}class M5{constructor(J){this._token=void 0,this._parentListener=void 0,this._parentListener=J&&J.onCancellationRequested(this.cancel,this)}get token(){if(!this._token)this._token=new Xz;return this._token}cancel(){if(!this._token)this._token=j5.Cancelled;else if(this._token instanceof Xz)this._token.cancel()}dispose(J=!1){var $;if(J)this.cancel();if(($=this._parentListener)===null||$===void 0||$.dispose(),!this._token)this._token=j5.None;else if(this._token instanceof Xz)this._token.dispose()}}var WS,j5;var z8=E(()=>{E0();WS=Object.freeze(function(J,$){let Q=setTimeout(J.bind($),0);return{dispose(){clearTimeout(Q)}}});(function(J){function $(Q){if(Q===J.None||Q===J.Cancelled)return!0;if(Q instanceof Xz)return!0;if(!Q||typeof Q!=="object")return!1;return typeof Q.isCancellationRequested==="boolean"&&typeof Q.onCancellationRequested==="function"}J.isCancellationToken=$,J.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:V0.None}),J.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:WS})})(j5||(j5={}))});class mW{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(J,$){this._keyCodeToStr[J]=$,this._strToKeyCode[$.toLowerCase()]=J}keyCodeToStr(J){return this._keyCodeToStr[J]}strToKeyCode(J){return this._strToKeyCode[J.toLowerCase()]||0}}function m8(J,$){let Q=($&65535)<<16>>>0;return(J|Q)>>>0}var pW,DM,RM,OM,c10,l10,d10,s10,uW,MM,K4;var hZ=E(()=>{pW=new mW,DM=new mW,RM=new mW,OM=Array(230),c10={},l10=[],d10=Object.create(null),s10=Object.create(null),uW=[],MM=[];for(let J=0;J<=193;J++)uW[J]=-1;for(let J=0;J<=132;J++)MM[J]=-1;(function(){let $=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN","",""],[1,1,"Hyper",0,"",0,"","",""],[1,2,"Super",0,"",0,"","",""],[1,3,"Fn",0,"",0,"","",""],[1,4,"FnLock",0,"",0,"","",""],[1,5,"Suspend",0,"",0,"","",""],[1,6,"Resume",0,"",0,"","",""],[1,7,"Turbo",0,"",0,"","",""],[1,8,"Sleep",0,"",0,"VK_SLEEP","",""],[1,9,"WakeUp",0,"",0,"","",""],[0,10,"KeyA",31,"A",65,"VK_A","",""],[0,11,"KeyB",32,"B",66,"VK_B","",""],[0,12,"KeyC",33,"C",67,"VK_C","",""],[0,13,"KeyD",34,"D",68,"VK_D","",""],[0,14,"KeyE",35,"E",69,"VK_E","",""],[0,15,"KeyF",36,"F",70,"VK_F","",""],[0,16,"KeyG",37,"G",71,"VK_G","",""],[0,17,"KeyH",38,"H",72,"VK_H","",""],[0,18,"KeyI",39,"I",73,"VK_I","",""],[0,19,"KeyJ",40,"J",74,"VK_J","",""],[0,20,"KeyK",41,"K",75,"VK_K","",""],[0,21,"KeyL",42,"L",76,"VK_L","",""],[0,22,"KeyM",43,"M",77,"VK_M","",""],[0,23,"KeyN",44,"N",78,"VK_N","",""],[0,24,"KeyO",45,"O",79,"VK_O","",""],[0,25,"KeyP",46,"P",80,"VK_P","",""],[0,26,"KeyQ",47,"Q",81,"VK_Q","",""],[0,27,"KeyR",48,"R",82,"VK_R","",""],[0,28,"KeyS",49,"S",83,"VK_S","",""],[0,29,"KeyT",50,"T",84,"VK_T","",""],[0,30,"KeyU",51,"U",85,"VK_U","",""],[0,31,"KeyV",52,"V",86,"VK_V","",""],[0,32,"KeyW",53,"W",87,"VK_W","",""],[0,33,"KeyX",54,"X",88,"VK_X","",""],[0,34,"KeyY",55,"Y",89,"VK_Y","",""],[0,35,"KeyZ",56,"Z",90,"VK_Z","",""],[0,36,"Digit1",22,"1",49,"VK_1","",""],[0,37,"Digit2",23,"2",50,"VK_2","",""],[0,38,"Digit3",24,"3",51,"VK_3","",""],[0,39,"Digit4",25,"4",52,"VK_4","",""],[0,40,"Digit5",26,"5",53,"VK_5","",""],[0,41,"Digit6",27,"6",54,"VK_6","",""],[0,42,"Digit7",28,"7",55,"VK_7","",""],[0,43,"Digit8",29,"8",56,"VK_8","",""],[0,44,"Digit9",30,"9",57,"VK_9","",""],[0,45,"Digit0",21,"0",48,"VK_0","",""],[1,46,"Enter",3,"Enter",13,"VK_RETURN","",""],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE","",""],[1,48,"Backspace",1,"Backspace",8,"VK_BACK","",""],[1,49,"Tab",2,"Tab",9,"VK_TAB","",""],[1,50,"Space",10,"Space",32,"VK_SPACE","",""],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,"",0,"","",""],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL","",""],[1,64,"F1",59,"F1",112,"VK_F1","",""],[1,65,"F2",60,"F2",113,"VK_F2","",""],[1,66,"F3",61,"F3",114,"VK_F3","",""],[1,67,"F4",62,"F4",115,"VK_F4","",""],[1,68,"F5",63,"F5",116,"VK_F5","",""],[1,69,"F6",64,"F6",117,"VK_F6","",""],[1,70,"F7",65,"F7",118,"VK_F7","",""],[1,71,"F8",66,"F8",119,"VK_F8","",""],[1,72,"F9",67,"F9",120,"VK_F9","",""],[1,73,"F10",68,"F10",121,"VK_F10","",""],[1,74,"F11",69,"F11",122,"VK_F11","",""],[1,75,"F12",70,"F12",123,"VK_F12","",""],[1,76,"PrintScreen",0,"",0,"","",""],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL","",""],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE","",""],[1,79,"Insert",19,"Insert",45,"VK_INSERT","",""],[1,80,"Home",14,"Home",36,"VK_HOME","",""],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR","",""],[1,82,"Delete",20,"Delete",46,"VK_DELETE","",""],[1,83,"End",13,"End",35,"VK_END","",""],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT","",""],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",""],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",""],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",""],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",""],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK","",""],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE","",""],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY","",""],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT","",""],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD","",""],[1,94,"NumpadEnter",3,"",0,"","",""],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1","",""],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2","",""],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3","",""],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4","",""],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5","",""],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6","",""],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7","",""],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8","",""],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9","",""],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0","",""],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL","",""],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102","",""],[1,107,"ContextMenu",58,"ContextMenu",93,"","",""],[1,108,"Power",0,"",0,"","",""],[1,109,"NumpadEqual",0,"",0,"","",""],[1,110,"F13",71,"F13",124,"VK_F13","",""],[1,111,"F14",72,"F14",125,"VK_F14","",""],[1,112,"F15",73,"F15",126,"VK_F15","",""],[1,113,"F16",74,"F16",127,"VK_F16","",""],[1,114,"F17",75,"F17",128,"VK_F17","",""],[1,115,"F18",76,"F18",129,"VK_F18","",""],[1,116,"F19",77,"F19",130,"VK_F19","",""],[1,117,"F20",78,"F20",131,"VK_F20","",""],[1,118,"F21",79,"F21",132,"VK_F21","",""],[1,119,"F22",80,"F22",133,"VK_F22","",""],[1,120,"F23",81,"F23",134,"VK_F23","",""],[1,121,"F24",82,"F24",135,"VK_F24","",""],[1,122,"Open",0,"",0,"","",""],[1,123,"Help",0,"",0,"","",""],[1,124,"Select",0,"",0,"","",""],[1,125,"Again",0,"",0,"","",""],[1,126,"Undo",0,"",0,"","",""],[1,127,"Cut",0,"",0,"","",""],[1,128,"Copy",0,"",0,"","",""],[1,129,"Paste",0,"",0,"","",""],[1,130,"Find",0,"",0,"","",""],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE","",""],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP","",""],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN","",""],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR","",""],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1","",""],[1,136,"KanaMode",0,"",0,"","",""],[0,137,"IntlYen",0,"",0,"","",""],[1,138,"Convert",0,"",0,"","",""],[1,139,"NonConvert",0,"",0,"","",""],[1,140,"Lang1",0,"",0,"","",""],[1,141,"Lang2",0,"",0,"","",""],[1,142,"Lang3",0,"",0,"","",""],[1,143,"Lang4",0,"",0,"","",""],[1,144,"Lang5",0,"",0,"","",""],[1,145,"Abort",0,"",0,"","",""],[1,146,"Props",0,"",0,"","",""],[1,147,"NumpadParenLeft",0,"",0,"","",""],[1,148,"NumpadParenRight",0,"",0,"","",""],[1,149,"NumpadBackspace",0,"",0,"","",""],[1,150,"NumpadMemoryStore",0,"",0,"","",""],[1,151,"NumpadMemoryRecall",0,"",0,"","",""],[1,152,"NumpadMemoryClear",0,"",0,"","",""],[1,153,"NumpadMemoryAdd",0,"",0,"","",""],[1,154,"NumpadMemorySubtract",0,"",0,"","",""],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR","",""],[1,156,"NumpadClearEntry",0,"",0,"","",""],[1,0,"",5,"Ctrl",17,"VK_CONTROL","",""],[1,0,"",4,"Shift",16,"VK_SHIFT","",""],[1,0,"",6,"Alt",18,"VK_MENU","",""],[1,0,"",57,"Meta",91,"VK_COMMAND","",""],[1,157,"ControlLeft",5,"",0,"VK_LCONTROL","",""],[1,158,"ShiftLeft",4,"",0,"VK_LSHIFT","",""],[1,159,"AltLeft",6,"",0,"VK_LMENU","",""],[1,160,"MetaLeft",57,"",0,"VK_LWIN","",""],[1,161,"ControlRight",5,"",0,"VK_RCONTROL","",""],[1,162,"ShiftRight",4,"",0,"VK_RSHIFT","",""],[1,163,"AltRight",6,"",0,"VK_RMENU","",""],[1,164,"MetaRight",57,"",0,"VK_RWIN","",""],[1,165,"BrightnessUp",0,"",0,"","",""],[1,166,"BrightnessDown",0,"",0,"","",""],[1,167,"MediaPlay",0,"",0,"","",""],[1,168,"MediaRecord",0,"",0,"","",""],[1,169,"MediaFastForward",0,"",0,"","",""],[1,170,"MediaRewind",0,"",0,"","",""],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK","",""],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK","",""],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP","",""],[1,174,"Eject",0,"",0,"","",""],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE","",""],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT","",""],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL","",""],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2","",""],[1,179,"LaunchApp1",0,"",0,"VK_MEDIA_LAUNCH_APP1","",""],[1,180,"SelectTask",0,"",0,"","",""],[1,181,"LaunchScreenSaver",0,"",0,"","",""],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH","",""],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME","",""],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK","",""],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD","",""],[1,186,"BrowserStop",0,"",0,"VK_BROWSER_STOP","",""],[1,187,"BrowserRefresh",0,"",0,"VK_BROWSER_REFRESH","",""],[1,188,"BrowserFavorites",0,"",0,"VK_BROWSER_FAVORITES","",""],[1,189,"ZoomToggle",0,"",0,"","",""],[1,190,"MailReply",0,"",0,"","",""],[1,191,"MailForward",0,"",0,"","",""],[1,192,"MailSend",0,"",0,"","",""],[1,0,"",114,"KeyInComposition",229,"","",""],[1,0,"",116,"ABNT_C2",194,"VK_ABNT_C2","",""],[1,0,"",96,"OEM_8",223,"VK_OEM_8","",""],[1,0,"",0,"",0,"VK_KANA","",""],[1,0,"",0,"",0,"VK_HANGUL","",""],[1,0,"",0,"",0,"VK_JUNJA","",""],[1,0,"",0,"",0,"VK_FINAL","",""],[1,0,"",0,"",0,"VK_HANJA","",""],[1,0,"",0,"",0,"VK_KANJI","",""],[1,0,"",0,"",0,"VK_CONVERT","",""],[1,0,"",0,"",0,"VK_NONCONVERT","",""],[1,0,"",0,"",0,"VK_ACCEPT","",""],[1,0,"",0,"",0,"VK_MODECHANGE","",""],[1,0,"",0,"",0,"VK_SELECT","",""],[1,0,"",0,"",0,"VK_PRINT","",""],[1,0,"",0,"",0,"VK_EXECUTE","",""],[1,0,"",0,"",0,"VK_SNAPSHOT","",""],[1,0,"",0,"",0,"VK_HELP","",""],[1,0,"",0,"",0,"VK_APPS","",""],[1,0,"",0,"",0,"VK_PROCESSKEY","",""],[1,0,"",0,"",0,"VK_PACKET","",""],[1,0,"",0,"",0,"VK_DBE_SBCSCHAR","",""],[1,0,"",0,"",0,"VK_DBE_DBCSCHAR","",""],[1,0,"",0,"",0,"VK_ATTN","",""],[1,0,"",0,"",0,"VK_CRSEL","",""],[1,0,"",0,"",0,"VK_EXSEL","",""],[1,0,"",0,"",0,"VK_EREOF","",""],[1,0,"",0,"",0,"VK_PLAY","",""],[1,0,"",0,"",0,"VK_ZOOM","",""],[1,0,"",0,"",0,"VK_NONAME","",""],[1,0,"",0,"",0,"VK_PA1","",""],[1,0,"",0,"",0,"VK_OEM_CLEAR","",""]],Q=[],X=[];for(let Y of $){let[Z,G,q,U,z,H,j,B,V]=Y;if(!X[G]){if(X[G]=!0,l10[G]=q,d10[q]=G,s10[q.toLowerCase()]=G,Z){if(uW[G]=U,U!==0&&U!==3&&U!==5&&U!==4&&U!==6&&U!==57)MM[U]=G}}if(!Q[U]){if(Q[U]=!0,!z)throw Error(`String representation missing for key code ${U} around scan code ${q}`);pW.define(U,z),DM.define(U,B||z),RM.define(U,V||B||z)}if(H)OM[H]=U;if(j)c10[j]=U}MM[3]=46})();(function(J){function $(q){return pW.keyCodeToStr(q)}J.toString=$;function Q(q){return pW.strToKeyCode(q)}J.fromString=Q;function X(q){return DM.keyCodeToStr(q)}J.toUserSettingsUS=X;function Y(q){return RM.keyCodeToStr(q)}J.toUserSettingsGeneral=Y;function Z(q){return DM.strToKeyCode(q)||RM.strToKeyCode(q)}J.fromUserSettings=Z;function G(q){if(q>=98&&q<=113)return null;switch(q){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return pW.keyCodeToStr(q)}J.toElectronAccelerator=G})(K4||(K4={}))});var sG,_M,Yz,Zz,BS;var NM=E(()=>{E1();_M=globalThis.vscode;if(typeof _M<"u"&&typeof _M.process<"u"){let J=_M.process;sG={get platform(){return J.platform},get arch(){return J.arch},get env(){return J.env},cwd(){return J.cwd()}}}else if(typeof process<"u")sG={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}};else sG={get platform(){return c6?"win32":$1?"darwin":"linux"},get arch(){return},get env(){return{}},cwd(){return"/"}};Yz=sG.cwd,Zz=sG.env,BS=sG.platform});function e10(J,$){if(J===null||typeof J!=="object")throw new wM($,"Object",J)}function m5(J,$){if(typeof J!=="string")throw new wM($,"string",J)}function r1(J){return J===u8||J===U9}function TM(J){return J===u8}function aX(J){return J>=r10&&J<=n10||J>=i10&&J<=o10}function cW(J,$,Q,X){let Y="",Z=0,G=-1,q=0,U=0;for(let z=0;z<=J.length;++z){if(z<J.length)U=J.charCodeAt(z);else if(X(U))break;else U=u8;if(X(U)){if(G===z-1||q===1);else if(q===2){if(Y.length<2||Z!==2||Y.charCodeAt(Y.length-1)!==rX||Y.charCodeAt(Y.length-2)!==rX){if(Y.length>2){let H=Y.lastIndexOf(Q);if(H===-1)Y="",Z=0;else Y=Y.slice(0,H),Z=Y.length-1-Y.lastIndexOf(Q);G=z,q=0;continue}else if(Y.length!==0){Y="",Z=0,G=z,q=0;continue}}if($)Y+=Y.length>0?`${Q}..`:"..",Z=2}else{if(Y.length>0)Y+=`${Q}${J.slice(G+1,z)}`;else Y=J.slice(G+1,z);Z=z-G-1}G=z,q=0}else if(U===rX&&q!==-1)++q;else q=-1}return Y}function FS(J,$){e10($,"pathObject");let Q=$.dir||$.root,X=$.base||`${$.name||""}${$.ext||""}`;if(!Q)return X;return Q===$.root?`${Q}${X}`:`${Q}${J}${X}`}var r10=65,i10=97,n10=90,o10=122,rX=46,u8=47,U9=92,sX=58,t10=63,wM,iX,R7,J60,v6,lW,KS,AS,dW,A4,PS,GJ;var RQ=E(()=>{NM();wM=class wM extends Error{constructor(J,$,Q){let X;if(typeof $==="string"&&$.indexOf("not ")===0)X="must not be",$=$.replace(/^not /,"");else X="must be";let Y=J.indexOf(".")!==-1?"property":"argument",Z=`The "${J}" ${Y} ${X} of type ${$}`;Z+=`. Received type ${typeof Q}`;super(Z);this.code="ERR_INVALID_ARG_TYPE"}};iX=BS==="win32";R7={resolve(...J){let $="",Q="",X=!1;for(let Y=J.length-1;Y>=-1;Y--){let Z;if(Y>=0){if(Z=J[Y],m5(Z,"path"),Z.length===0)continue}else if($.length===0)Z=Yz();else if(Z=Zz[`=${$}`]||Yz(),Z===void 0||Z.slice(0,2).toLowerCase()!==$.toLowerCase()&&Z.charCodeAt(2)===U9)Z=`${$}\\`;let G=Z.length,q=0,U="",z=!1,H=Z.charCodeAt(0);if(G===1){if(r1(H))q=1,z=!0}else if(r1(H))if(z=!0,r1(Z.charCodeAt(1))){let j=2,B=j;while(j<G&&!r1(Z.charCodeAt(j)))j++;if(j<G&&j!==B){let V=Z.slice(B,j);B=j;while(j<G&&r1(Z.charCodeAt(j)))j++;if(j<G&&j!==B){B=j;while(j<G&&!r1(Z.charCodeAt(j)))j++;if(j===G||j!==B)U=`\\\\${V}\\${Z.slice(B,j)}`,q=j}}}else q=1;else if(aX(H)&&Z.charCodeAt(1)===sX){if(U=Z.slice(0,2),q=2,G>2&&r1(Z.charCodeAt(2)))z=!0,q=3}if(U.length>0)if($.length>0){if(U.toLowerCase()!==$.toLowerCase())continue}else $=U;if(X){if($.length>0)break}else if(Q=`${Z.slice(q)}\\${Q}`,X=z,z&&$.length>0)break}return Q=cW(Q,!X,"\\",r1),X?`${$}\\${Q}`:`${$}${Q}`||"."},normalize(J){m5(J,"path");let $=J.length;if($===0)return".";let Q=0,X,Y=!1,Z=J.charCodeAt(0);if($===1)return TM(Z)?"\\":J;if(r1(Z))if(Y=!0,r1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!r1(J.charCodeAt(q)))q++;if(q<$&&q!==U){let z=J.slice(U,q);U=q;while(q<$&&r1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!r1(J.charCodeAt(q)))q++;if(q===$)return`\\\\${z}\\${J.slice(U)}\\`;if(q!==U)X=`\\\\${z}\\${J.slice(U,q)}`,Q=q}}}else Q=1;else if(aX(Z)&&J.charCodeAt(1)===sX){if(X=J.slice(0,2),Q=2,$>2&&r1(J.charCodeAt(2)))Y=!0,Q=3}let G=Q<$?cW(J.slice(Q),!Y,"\\",r1):"";if(G.length===0&&!Y)G=".";if(G.length>0&&r1(J.charCodeAt($-1)))G+="\\";if(X===void 0)return Y?`\\${G}`:G;return Y?`${X}\\${G}`:`${X}${G}`},isAbsolute(J){m5(J,"path");let $=J.length;if($===0)return!1;let Q=J.charCodeAt(0);return r1(Q)||$>2&&aX(Q)&&J.charCodeAt(1)===sX&&r1(J.charCodeAt(2))},join(...J){if(J.length===0)return".";let $,Q;for(let Z=0;Z<J.length;++Z){let G=J[Z];if(m5(G,"path"),G.length>0)if($===void 0)$=Q=G;else $+=`\\${G}`}if($===void 0)return".";let X=!0,Y=0;if(typeof Q==="string"&&r1(Q.charCodeAt(0))){++Y;let Z=Q.length;if(Z>1&&r1(Q.charCodeAt(1))){if(++Y,Z>2)if(r1(Q.charCodeAt(2)))++Y;else X=!1}}if(X){while(Y<$.length&&r1($.charCodeAt(Y)))Y++;if(Y>=2)$=`\\${$.slice(Y)}`}return R7.normalize($)},relative(J,$){if(m5(J,"from"),m5($,"to"),J===$)return"";let Q=R7.resolve(J),X=R7.resolve($);if(Q===X)return"";if(J=Q.toLowerCase(),$=X.toLowerCase(),J===$)return"";let Y=0;while(Y<J.length&&J.charCodeAt(Y)===U9)Y++;let Z=J.length;while(Z-1>Y&&J.charCodeAt(Z-1)===U9)Z--;let G=Z-Y,q=0;while(q<$.length&&$.charCodeAt(q)===U9)q++;let U=$.length;while(U-1>q&&$.charCodeAt(U-1)===U9)U--;let z=U-q,H=G<z?G:z,j=-1,B=0;for(;B<H;B++){let W=J.charCodeAt(Y+B);if(W!==$.charCodeAt(q+B))break;else if(W===U9)j=B}if(B!==H){if(j===-1)return X}else{if(z>H){if($.charCodeAt(q+B)===U9)return X.slice(q+B+1);if(B===2)return X.slice(q+B)}if(G>H){if(J.charCodeAt(Y+B)===U9)j=B;else if(B===2)j=3}if(j===-1)j=0}let V="";for(B=Y+j+1;B<=Z;++B)if(B===Z||J.charCodeAt(B)===U9)V+=V.length===0?"..":"\\..";if(q+=j,V.length>0)return`${V}${X.slice(q,U)}`;if(X.charCodeAt(q)===U9)++q;return X.slice(q,U)},toNamespacedPath(J){if(typeof J!=="string"||J.length===0)return J;let $=R7.resolve(J);if($.length<=2)return J;if($.charCodeAt(0)===U9){if($.charCodeAt(1)===U9){let Q=$.charCodeAt(2);if(Q!==t10&&Q!==rX)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(aX($.charCodeAt(0))&&$.charCodeAt(1)===sX&&$.charCodeAt(2)===U9)return`\\\\?\\${$}`;return J},dirname(J){m5(J,"path");let $=J.length;if($===0)return".";let Q=-1,X=0,Y=J.charCodeAt(0);if($===1)return r1(Y)?J:".";if(r1(Y)){if(Q=X=1,r1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!r1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&r1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!r1(J.charCodeAt(q)))q++;if(q===$)return J;if(q!==U)Q=X=q+1}}}}else if(aX(Y)&&J.charCodeAt(1)===sX)Q=$>2&&r1(J.charCodeAt(2))?3:2,X=Q;let Z=-1,G=!0;for(let q=$-1;q>=X;--q)if(r1(J.charCodeAt(q))){if(!G){Z=q;break}}else G=!1;if(Z===-1){if(Q===-1)return".";Z=Q}return J.slice(0,Z)},basename(J,$){if($!==void 0)m5($,"ext");m5(J,"path");let Q=0,X=-1,Y=!0,Z;if(J.length>=2&&aX(J.charCodeAt(0))&&J.charCodeAt(1)===sX)Q=2;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=Q;--Z){let U=J.charCodeAt(Z);if(r1(U)){if(!Y){Q=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)X=Z}else G=-1,X=q}}if(Q===X)X=q;else if(X===-1)X=J.length;return J.slice(Q,X)}for(Z=J.length-1;Z>=Q;--Z)if(r1(J.charCodeAt(Z))){if(!Y){Q=Z+1;break}}else if(X===-1)Y=!1,X=Z+1;if(X===-1)return"";return J.slice(Q,X)},extname(J){m5(J,"path");let $=0,Q=-1,X=0,Y=-1,Z=!0,G=0;if(J.length>=2&&J.charCodeAt(1)===sX&&aX(J.charCodeAt(0)))$=X=2;for(let q=J.length-1;q>=$;--q){let U=J.charCodeAt(q);if(r1(U)){if(!Z){X=q+1;break}continue}if(Y===-1)Z=!1,Y=q+1;if(U===rX){if(Q===-1)Q=q;else if(G!==1)G=1}else if(Q!==-1)G=-1}if(Q===-1||Y===-1||G===0||G===1&&Q===Y-1&&Q===X+1)return"";return J.slice(Q,Y)},format:FS.bind(null,"\\"),parse(J){m5(J,"path");let $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;let Q=J.length,X=0,Y=J.charCodeAt(0);if(Q===1){if(r1(Y))return $.root=$.dir=J,$;return $.base=$.name=J,$}if(r1(Y)){if(X=1,r1(J.charCodeAt(1))){let j=2,B=j;while(j<Q&&!r1(J.charCodeAt(j)))j++;if(j<Q&&j!==B){B=j;while(j<Q&&r1(J.charCodeAt(j)))j++;if(j<Q&&j!==B){B=j;while(j<Q&&!r1(J.charCodeAt(j)))j++;if(j===Q)X=j;else if(j!==B)X=j+1}}}}else if(aX(Y)&&J.charCodeAt(1)===sX){if(Q<=2)return $.root=$.dir=J,$;if(X=2,r1(J.charCodeAt(2))){if(Q===3)return $.root=$.dir=J,$;X=3}}if(X>0)$.root=J.slice(0,X);let Z=-1,G=X,q=-1,U=!0,z=J.length-1,H=0;for(;z>=X;--z){if(Y=J.charCodeAt(z),r1(Y)){if(!U){G=z+1;break}continue}if(q===-1)U=!1,q=z+1;if(Y===rX){if(Z===-1)Z=z;else if(H!==1)H=1}else if(Z!==-1)H=-1}if(q!==-1)if(Z===-1||H===0||H===1&&Z===q-1&&Z===G+1)$.base=$.name=J.slice(G,q);else $.name=J.slice(G,Z),$.base=J.slice(G,q),$.ext=J.slice(Z,q);if(G>0&&G!==X)$.dir=J.slice(0,G-1);else $.dir=$.root;return $},sep:"\\",delimiter:";",win32:null,posix:null},J60=(()=>{if(iX){let J=/\\/g;return()=>{let $=Yz().replace(J,"/");return $.slice($.indexOf("/"))}}return()=>Yz()})(),v6={resolve(...J){let $="",Q=!1;for(let X=J.length-1;X>=-1&&!Q;X--){let Y=X>=0?J[X]:J60();if(m5(Y,"path"),Y.length===0)continue;$=`${Y}/${$}`,Q=Y.charCodeAt(0)===u8}if($=cW($,!Q,"/",TM),Q)return`/${$}`;return $.length>0?$:"."},normalize(J){if(m5(J,"path"),J.length===0)return".";let $=J.charCodeAt(0)===u8,Q=J.charCodeAt(J.length-1)===u8;if(J=cW(J,!$,"/",TM),J.length===0){if($)return"/";return Q?"./":"."}if(Q)J+="/";return $?`/${J}`:J},isAbsolute(J){return m5(J,"path"),J.length>0&&J.charCodeAt(0)===u8},join(...J){if(J.length===0)return".";let $;for(let Q=0;Q<J.length;++Q){let X=J[Q];if(m5(X,"path"),X.length>0)if($===void 0)$=X;else $+=`/${X}`}if($===void 0)return".";return v6.normalize($)},relative(J,$){if(m5(J,"from"),m5($,"to"),J===$)return"";if(J=v6.resolve(J),$=v6.resolve($),J===$)return"";let Q=1,X=J.length,Y=X-Q,Z=1,G=$.length-Z,q=Y<G?Y:G,U=-1,z=0;for(;z<q;z++){let j=J.charCodeAt(Q+z);if(j!==$.charCodeAt(Z+z))break;else if(j===u8)U=z}if(z===q){if(G>q){if($.charCodeAt(Z+z)===u8)return $.slice(Z+z+1);if(z===0)return $.slice(Z+z)}else if(Y>q){if(J.charCodeAt(Q+z)===u8)U=z;else if(z===0)U=0}}let H="";for(z=Q+U+1;z<=X;++z)if(z===X||J.charCodeAt(z)===u8)H+=H.length===0?"..":"/..";return`${H}${$.slice(Z+U)}`},toNamespacedPath(J){return J},dirname(J){if(m5(J,"path"),J.length===0)return".";let $=J.charCodeAt(0)===u8,Q=-1,X=!0;for(let Y=J.length-1;Y>=1;--Y)if(J.charCodeAt(Y)===u8){if(!X){Q=Y;break}}else X=!1;if(Q===-1)return $?"/":".";if($&&Q===1)return"//";return J.slice(0,Q)},basename(J,$){if($!==void 0)m5($,"ext");m5(J,"path");let Q=0,X=-1,Y=!0,Z;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=0;--Z){let U=J.charCodeAt(Z);if(U===u8){if(!Y){Q=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)X=Z}else G=-1,X=q}}if(Q===X)X=q;else if(X===-1)X=J.length;return J.slice(Q,X)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===u8){if(!Y){Q=Z+1;break}}else if(X===-1)Y=!1,X=Z+1;if(X===-1)return"";return J.slice(Q,X)},extname(J){m5(J,"path");let $=-1,Q=0,X=-1,Y=!0,Z=0;for(let G=J.length-1;G>=0;--G){let q=J.charCodeAt(G);if(q===u8){if(!Y){Q=G+1;break}continue}if(X===-1)Y=!1,X=G+1;if(q===rX){if($===-1)$=G;else if(Z!==1)Z=1}else if($!==-1)Z=-1}if($===-1||X===-1||Z===0||Z===1&&$===X-1&&$===Q+1)return"";return J.slice($,X)},format:FS.bind(null,"/"),parse(J){m5(J,"path");let $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;let Q=J.charCodeAt(0)===u8,X;if(Q)$.root="/",X=1;else X=0;let Y=-1,Z=0,G=-1,q=!0,U=J.length-1,z=0;for(;U>=X;--U){let H=J.charCodeAt(U);if(H===u8){if(!q){Z=U+1;break}continue}if(G===-1)q=!1,G=U+1;if(H===rX){if(Y===-1)Y=U;else if(z!==1)z=1}else if(Y!==-1)z=-1}if(G!==-1){let H=Z===0&&Q?1:Z;if(Y===-1||z===0||z===1&&Y===G-1&&Y===Z+1)$.base=$.name=J.slice(H,G);else $.name=J.slice(H,Y),$.base=J.slice(H,G),$.ext=J.slice(Y,G)}if(Z>0)$.dir=J.slice(0,Z-1);else if(Q)$.dir="/";return $},sep:"/",delimiter:":",win32:null,posix:null};v6.win32=R7.win32=R7;v6.posix=R7.posix=v6;lW=iX?R7.normalize:v6.normalize,KS=iX?R7.resolve:v6.resolve,AS=iX?R7.relative:v6.relative,dW=iX?R7.dirname:v6.dirname,A4=iX?R7.basename:v6.basename,PS=iX?R7.extname:v6.extname,GJ=iX?R7.sep:v6.sep});function Y60(J,$){if(!J.scheme&&$)throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${J.authority}", path: "${J.path}", query: "${J.query}", fragment: "${J.fragment}"}`);if(J.scheme&&!$60.test(J.scheme))throw Error("[UriError]: Scheme contains illegal characters.");if(J.path){if(J.authority){if(!Q60.test(J.path))throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(X60.test(J.path))throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function Z60(J,$){if(!J&&!$)return"file";return J}function G60(J,$){switch(J){case"https":case"http":case"file":if(!$)$=qJ;else if($[0]!==qJ)$=qJ+$;break}return $}class m0{static isUri(J){if(J instanceof m0)return!0;if(!J)return!1;return typeof J.authority==="string"&&typeof J.fragment==="string"&&typeof J.path==="string"&&typeof J.query==="string"&&typeof J.scheme==="string"&&typeof J.fsPath==="string"&&typeof J.with==="function"&&typeof J.toString==="function"}constructor(J,$,Q,X,Y,Z=!1){if(typeof J==="object")this.scheme=J.scheme||X5,this.authority=J.authority||X5,this.path=J.path||X5,this.query=J.query||X5,this.fragment=J.fragment||X5;else this.scheme=Z60(J,Z),this.authority=$||X5,this.path=G60(this.scheme,Q||X5),this.query=X||X5,this.fragment=Y||X5,Y60(this,Z)}get fsPath(){return Gz(this,!1)}with(J){if(!J)return this;let{scheme:$,authority:Q,path:X,query:Y,fragment:Z}=J;if($===void 0)$=this.scheme;else if($===null)$=X5;if(Q===void 0)Q=this.authority;else if(Q===null)Q=X5;if(X===void 0)X=this.path;else if(X===null)X=X5;if(Y===void 0)Y=this.query;else if(Y===null)Y=X5;if(Z===void 0)Z=this.fragment;else if(Z===null)Z=X5;if($===this.scheme&&Q===this.authority&&X===this.path&&Y===this.query&&Z===this.fragment)return this;return new fZ($,Q,X,Y,Z)}static parse(J,$=!1){let Q=q60.exec(J);if(!Q)return new fZ(X5,X5,X5,X5,X5);return new fZ(Q[2]||X5,sW(Q[4]||X5),sW(Q[5]||X5),sW(Q[7]||X5),sW(Q[9]||X5),$)}static file(J){let $=X5;if(c6)J=J.replace(/\\/g,qJ);if(J[0]===qJ&&J[1]===qJ){let Q=J.indexOf(qJ,2);if(Q===-1)$=J.substring(2),J=qJ;else $=J.substring(2,Q),J=J.substring(Q)||qJ}return new fZ("file",$,J,X5,X5)}static from(J,$){return new fZ(J.scheme,J.authority,J.path,J.query,J.fragment,$)}static joinPath(J,...$){if(!J.path)throw Error("[UriError]: cannot call joinPath on URI without path");let Q;if(c6&&J.scheme==="file")Q=m0.file(R7.join(Gz(J,!0),...$)).path;else Q=v6.join(J.path,...$);return J.with({path:Q})}toString(J=!1){return kM(this,J)}toJSON(){return this}static revive(J){var $,Q;if(!J)return J;else if(J instanceof m0)return J;else{let X=new fZ(J);return X._formatted=($=J.external)!==null&&$!==void 0?$:null,X._fsPath=J._sep===MS?(Q=J.fsPath)!==null&&Q!==void 0?Q:null:null,X}}}function DS(J,$,Q){let X=void 0,Y=-1;for(let Z=0;Z<J.length;Z++){let G=J.charCodeAt(Z);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||$&&G===47||Q&&G===91||Q&&G===93||Q&&G===58){if(Y!==-1)X+=encodeURIComponent(J.substring(Y,Z)),Y=-1;if(X!==void 0)X+=J.charAt(Z)}else{if(X===void 0)X=J.substr(0,Z);let q=OS[G];if(q!==void 0){if(Y!==-1)X+=encodeURIComponent(J.substring(Y,Z)),Y=-1;X+=q}else if(Y===-1)Y=Z}}if(Y!==-1)X+=encodeURIComponent(J.substring(Y));return X!==void 0?X:J}function U60(J){let $=void 0;for(let Q=0;Q<J.length;Q++){let X=J.charCodeAt(Q);if(X===35||X===63){if($===void 0)$=J.substr(0,Q);$+=OS[X]}else if($!==void 0)$+=J[Q]}return $!==void 0?$:J}function Gz(J,$){let Q;if(J.authority&&J.path.length>1&&J.scheme==="file")Q=`//${J.authority}${J.path}`;else if(J.path.charCodeAt(0)===47&&(J.path.charCodeAt(1)>=65&&J.path.charCodeAt(1)<=90||J.path.charCodeAt(1)>=97&&J.path.charCodeAt(1)<=122)&&J.path.charCodeAt(2)===58)if(!$)Q=J.path[1].toLowerCase()+J.path.substr(2);else Q=J.path.substr(1);else Q=J.path;if(c6)Q=Q.replace(/\//g,"\\");return Q}function kM(J,$){let Q=!$?DS:U60,X="",{scheme:Y,authority:Z,path:G,query:q,fragment:U}=J;if(Y)X+=Y,X+=":";if(Z||Y==="file")X+=qJ,X+=qJ;if(Z){let z=Z.indexOf("@");if(z!==-1){let H=Z.substr(0,z);if(Z=Z.substr(z+1),z=H.lastIndexOf(":"),z===-1)X+=Q(H,!1,!1);else X+=Q(H.substr(0,z),!1,!1),X+=":",X+=Q(H.substr(z+1),!1,!0);X+="@"}if(Z=Z.toLowerCase(),z=Z.lastIndexOf(":"),z===-1)X+=Q(Z,!1,!0);else X+=Q(Z.substr(0,z),!1,!0),X+=Z.substr(z)}if(G){if(G.length>=3&&G.charCodeAt(0)===47&&G.charCodeAt(2)===58){let z=G.charCodeAt(1);if(z>=65&&z<=90)G=`/${String.fromCharCode(z+32)}:${G.substr(3)}`}else if(G.length>=2&&G.charCodeAt(1)===58){let z=G.charCodeAt(0);if(z>=65&&z<=90)G=`${String.fromCharCode(z+32)}:${G.substr(2)}`}X+=Q(G,!0,!1)}if(q)X+="?",X+=Q(q,!1,!1);if(U)X+="#",X+=!$?DS(U,!1,!1):U;return X}function _S(J){try{return decodeURIComponent(J)}catch($){if(J.length>3)return J.substr(0,3)+_S(J.substr(3));else return J}}function sW(J){if(!J.match(RS))return J;return J.replace(RS,($)=>_S($))}var $60,Q60,X60,X5="",qJ="/",q60,MS,fZ,OS,RS;var V5=E(()=>{RQ();E1();$60=/^\w[\w\d+.-]*$/,Q60=/^\//,X60=/^\/\//;q60=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;MS=c6?1:void 0;fZ=class fZ extends m0{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){if(!this._fsPath)this._fsPath=Gz(this,!1);return this._fsPath}toString(J=!1){if(!J){if(!this._formatted)this._formatted=kM(this,!1);return this._formatted}else return kM(this,!0)}toJSON(){let J={$mid:1};if(this._fsPath)J.fsPath=this._fsPath,J._sep=MS;if(this._formatted)J.external=this._formatted;if(this.path)J.path=this.path;if(this.scheme)J.scheme=this.scheme;if(this.authority)J.authority=this.authority;if(this.query)J.query=this.query;if(this.fragment)J.fragment=this.fragment;return J}};OS={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};RS=/(%[0-9A-Za-z][0-9A-Za-z])+/g});class s{constructor(J,$){this.lineNumber=J,this.column=$}with(J=this.lineNumber,$=this.column){if(J===this.lineNumber&&$===this.column)return this;else return new s(J,$)}delta(J=0,$=0){return this.with(this.lineNumber+J,this.column+$)}equals(J){return s.equals(this,J)}static equals(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.lineNumber===$.lineNumber&&J.column===$.column}isBefore(J){return s.isBefore(this,J)}static isBefore(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<$.column}isBeforeOrEqual(J){return s.isBeforeOrEqual(this,J)}static isBeforeOrEqual(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<=$.column}static compare(J,$){let Q=J.lineNumber|0,X=$.lineNumber|0;if(Q===X){let Y=J.column|0,Z=$.column|0;return Y-Z}return Q-X}clone(){return new s(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(J){return new s(J.lineNumber,J.column)}static isIPosition(J){return J&&typeof J.lineNumber==="number"&&typeof J.column==="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}class v{constructor(J,$,Q,X){if(J>Q||J===Q&&$>X)this.startLineNumber=Q,this.startColumn=X,this.endLineNumber=J,this.endColumn=$;else this.startLineNumber=J,this.startColumn=$,this.endLineNumber=Q,this.endColumn=X}isEmpty(){return v.isEmpty(this)}static isEmpty(J){return J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn}containsPosition(J){return v.containsPosition(this,J)}static containsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>J.endColumn)return!1;return!0}static strictContainsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<=J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>=J.endColumn)return!1;return!0}containsRange(J){return v.containsRange(this,J)}static containsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>J.endColumn)return!1;return!0}strictContainsRange(J){return v.strictContainsRange(this,J)}static strictContainsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<=J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>=J.endColumn)return!1;return!0}plusRange(J){return v.plusRange(this,J)}static plusRange(J,$){let Q,X,Y,Z;if($.startLineNumber<J.startLineNumber)Q=$.startLineNumber,X=$.startColumn;else if($.startLineNumber===J.startLineNumber)Q=$.startLineNumber,X=Math.min($.startColumn,J.startColumn);else Q=J.startLineNumber,X=J.startColumn;if($.endLineNumber>J.endLineNumber)Y=$.endLineNumber,Z=$.endColumn;else if($.endLineNumber===J.endLineNumber)Y=$.endLineNumber,Z=Math.max($.endColumn,J.endColumn);else Y=J.endLineNumber,Z=J.endColumn;return new v(Q,X,Y,Z)}intersectRanges(J){return v.intersectRanges(this,J)}static intersectRanges(J,$){let{startLineNumber:Q,startColumn:X,endLineNumber:Y,endColumn:Z}=J,G=$.startLineNumber,q=$.startColumn,U=$.endLineNumber,z=$.endColumn;if(Q<G)Q=G,X=q;else if(Q===G)X=Math.max(X,q);if(Y>U)Y=U,Z=z;else if(Y===U)Z=Math.min(Z,z);if(Q>Y)return null;if(Q===Y&&X>Z)return null;return new v(Q,X,Y,Z)}equalsRange(J){return v.equalsRange(this,J)}static equalsRange(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.startLineNumber===$.startLineNumber&&J.startColumn===$.startColumn&&J.endLineNumber===$.endLineNumber&&J.endColumn===$.endColumn}getEndPosition(){return v.getEndPosition(this)}static getEndPosition(J){return new s(J.endLineNumber,J.endColumn)}getStartPosition(){return v.getStartPosition(this)}static getStartPosition(J){return new s(J.startLineNumber,J.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(J,$){return new v(this.startLineNumber,this.startColumn,J,$)}setStartPosition(J,$){return new v(J,$,this.endLineNumber,this.endColumn)}collapseToStart(){return v.collapseToStart(this)}static collapseToStart(J){return new v(J.startLineNumber,J.startColumn,J.startLineNumber,J.startColumn)}collapseToEnd(){return v.collapseToEnd(this)}static collapseToEnd(J){return new v(J.endLineNumber,J.endColumn,J.endLineNumber,J.endColumn)}delta(J){return new v(this.startLineNumber+J,this.startColumn,this.endLineNumber+J,this.endColumn)}static fromPositions(J,$=J){return new v(J.lineNumber,J.column,$.lineNumber,$.column)}static lift(J){if(!J)return null;return new v(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)}static isIRange(J){return J&&typeof J.startLineNumber==="number"&&typeof J.startColumn==="number"&&typeof J.endLineNumber==="number"&&typeof J.endColumn==="number"}static areIntersectingOrTouching(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<J.startColumn)return!1;return!0}static areIntersecting(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<=$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<=J.startColumn)return!1;return!0}static compareRangesUsingStarts(J,$){if(J&&$){let Y=J.startLineNumber|0,Z=$.startLineNumber|0;if(Y===Z){let G=J.startColumn|0,q=$.startColumn|0;if(G===q){let U=J.endLineNumber|0,z=$.endLineNumber|0;if(U===z){let H=J.endColumn|0,j=$.endColumn|0;return H-j}return U-z}return G-q}return Y-Z}return(J?1:0)-($?1:0)}static compareRangesUsingEnds(J,$){if(J.endLineNumber===$.endLineNumber){if(J.endColumn===$.endColumn){if(J.startLineNumber===$.startLineNumber)return J.startColumn-$.startColumn;return J.startLineNumber-$.startLineNumber}return J.endColumn-$.endColumn}return J.endLineNumber-$.endLineNumber}static spansMultipleLines(J){return J.endLineNumber>J.startLineNumber}toJSON(){return this}}var e0=()=>{};var d0;var u5=E(()=>{e0();d0=class d0 extends v{constructor(J,$,Q,X){super(J,$,Q,X);this.selectionStartLineNumber=J,this.selectionStartColumn=$,this.positionLineNumber=Q,this.positionColumn=X}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(J){return d0.selectionsEqual(this,J)}static selectionsEqual(J,$){return J.selectionStartLineNumber===$.selectionStartLineNumber&&J.selectionStartColumn===$.selectionStartColumn&&J.positionLineNumber===$.positionLineNumber&&J.positionColumn===$.positionColumn}getDirection(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn)return 0;return 1}setEndPosition(J,$){if(this.getDirection()===0)return new d0(this.startLineNumber,this.startColumn,J,$);return new d0(J,$,this.startLineNumber,this.startColumn)}getPosition(){return new s(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new s(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(J,$){if(this.getDirection()===0)return new d0(J,$,this.endLineNumber,this.endColumn);return new d0(this.endLineNumber,this.endColumn,J,$)}static fromPositions(J,$=J){return new d0(J.lineNumber,J.column,$.lineNumber,$.column)}static fromRange(J,$){if($===0)return new d0(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);else return new d0(J.endLineNumber,J.endColumn,J.startLineNumber,J.startColumn)}static liftSelection(J){return new d0(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn)}static selectionsArrEqual(J,$){if(J&&!$||!J&&$)return!1;if(!J&&!$)return!0;if(J.length!==$.length)return!1;for(let Q=0,X=J.length;Q<X;Q++)if(!this.selectionsEqual(J[Q],$[Q]))return!1;return!0}static isISelection(J){return J&&typeof J.selectionStartLineNumber==="number"&&typeof J.selectionStartColumn==="number"&&typeof J.positionLineNumber==="number"&&typeof J.positionColumn==="number"}static createWithDirection(J,$,Q,X,Y){if(Y===0)return new d0(J,$,Q,X);return new d0(Q,X,J,$)}}});function L(J,$){if(P5($)){let Q=EM[$];if(Q===void 0)throw Error(`${J} references an unknown codicon: ${$}`);$=Q}return EM[J]=$,{id:J}}function aW(){return EM}var EM,O0;var O5=E(()=>{EM=Object.create(null);O0={add:L("add",60000),plus:L("plus",60000),gistNew:L("gist-new",60000),repoCreate:L("repo-create",60000),lightbulb:L("lightbulb",60001),lightBulb:L("light-bulb",60001),repo:L("repo",60002),repoDelete:L("repo-delete",60002),gistFork:L("gist-fork",60003),repoForked:L("repo-forked",60003),gitPullRequest:L("git-pull-request",60004),gitPullRequestAbandoned:L("git-pull-request-abandoned",60004),recordKeys:L("record-keys",60005),keyboard:L("keyboard",60005),tag:L("tag",60006),tagAdd:L("tag-add",60006),tagRemove:L("tag-remove",60006),gitPullRequestLabel:L("git-pull-request-label",60006),person:L("person",60007),personFollow:L("person-follow",60007),personOutline:L("person-outline",60007),personFilled:L("person-filled",60007),gitBranch:L("git-branch",60008),gitBranchCreate:L("git-branch-create",60008),gitBranchDelete:L("git-branch-delete",60008),sourceControl:L("source-control",60008),mirror:L("mirror",60009),mirrorPublic:L("mirror-public",60009),star:L("star",60010),starAdd:L("star-add",60010),starDelete:L("star-delete",60010),starEmpty:L("star-empty",60010),comment:L("comment",60011),commentAdd:L("comment-add",60011),alert:L("alert",60012),warning:L("warning",60012),search:L("search",60013),searchSave:L("search-save",60013),logOut:L("log-out",60014),signOut:L("sign-out",60014),logIn:L("log-in",60015),signIn:L("sign-in",60015),eye:L("eye",60016),eyeUnwatch:L("eye-unwatch",60016),eyeWatch:L("eye-watch",60016),circleFilled:L("circle-filled",60017),primitiveDot:L("primitive-dot",60017),closeDirty:L("close-dirty",60017),debugBreakpoint:L("debug-breakpoint",60017),debugBreakpointDisabled:L("debug-breakpoint-disabled",60017),debugBreakpointPending:L("debug-breakpoint-pending",60377),debugHint:L("debug-hint",60017),primitiveSquare:L("primitive-square",60018),edit:L("edit",60019),pencil:L("pencil",60019),info:L("info",60020),issueOpened:L("issue-opened",60020),gistPrivate:L("gist-private",60021),gitForkPrivate:L("git-fork-private",60021),lock:L("lock",60021),mirrorPrivate:L("mirror-private",60021),close:L("close",60022),removeClose:L("remove-close",60022),x:L("x",60022),repoSync:L("repo-sync",60023),sync:L("sync",60023),clone:L("clone",60024),desktopDownload:L("desktop-download",60024),beaker:L("beaker",60025),microscope:L("microscope",60025),vm:L("vm",60026),deviceDesktop:L("device-desktop",60026),file:L("file",60027),fileText:L("file-text",60027),more:L("more",60028),ellipsis:L("ellipsis",60028),kebabHorizontal:L("kebab-horizontal",60028),mailReply:L("mail-reply",60029),reply:L("reply",60029),organization:L("organization",60030),organizationFilled:L("organization-filled",60030),organizationOutline:L("organization-outline",60030),newFile:L("new-file",60031),fileAdd:L("file-add",60031),newFolder:L("new-folder",60032),fileDirectoryCreate:L("file-directory-create",60032),trash:L("trash",60033),trashcan:L("trashcan",60033),history:L("history",60034),clock:L("clock",60034),folder:L("folder",60035),fileDirectory:L("file-directory",60035),symbolFolder:L("symbol-folder",60035),logoGithub:L("logo-github",60036),markGithub:L("mark-github",60036),github:L("github",60036),terminal:L("terminal",60037),console:L("console",60037),repl:L("repl",60037),zap:L("zap",60038),symbolEvent:L("symbol-event",60038),error:L("error",60039),stop:L("stop",60039),variable:L("variable",60040),symbolVariable:L("symbol-variable",60040),array:L("array",60042),symbolArray:L("symbol-array",60042),symbolModule:L("symbol-module",60043),symbolPackage:L("symbol-package",60043),symbolNamespace:L("symbol-namespace",60043),symbolObject:L("symbol-object",60043),symbolMethod:L("symbol-method",60044),symbolFunction:L("symbol-function",60044),symbolConstructor:L("symbol-constructor",60044),symbolBoolean:L("symbol-boolean",60047),symbolNull:L("symbol-null",60047),symbolNumeric:L("symbol-numeric",60048),symbolNumber:L("symbol-number",60048),symbolStructure:L("symbol-structure",60049),symbolStruct:L("symbol-struct",60049),symbolParameter:L("symbol-parameter",60050),symbolTypeParameter:L("symbol-type-parameter",60050),symbolKey:L("symbol-key",60051),symbolText:L("symbol-text",60051),symbolReference:L("symbol-reference",60052),goToFile:L("go-to-file",60052),symbolEnum:L("symbol-enum",60053),symbolValue:L("symbol-value",60053),symbolRuler:L("symbol-ruler",60054),symbolUnit:L("symbol-unit",60054),activateBreakpoints:L("activate-breakpoints",60055),archive:L("archive",60056),arrowBoth:L("arrow-both",60057),arrowDown:L("arrow-down",60058),arrowLeft:L("arrow-left",60059),arrowRight:L("arrow-right",60060),arrowSmallDown:L("arrow-small-down",60061),arrowSmallLeft:L("arrow-small-left",60062),arrowSmallRight:L("arrow-small-right",60063),arrowSmallUp:L("arrow-small-up",60064),arrowUp:L("arrow-up",60065),bell:L("bell",60066),bold:L("bold",60067),book:L("book",60068),bookmark:L("bookmark",60069),debugBreakpointConditionalUnverified:L("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:L("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:L("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:L("debug-breakpoint-data-unverified",60072),debugBreakpointData:L("debug-breakpoint-data",60073),debugBreakpointDataDisabled:L("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:L("debug-breakpoint-log-unverified",60074),debugBreakpointLog:L("debug-breakpoint-log",60075),debugBreakpointLogDisabled:L("debug-breakpoint-log-disabled",60075),briefcase:L("briefcase",60076),broadcast:L("broadcast",60077),browser:L("browser",60078),bug:L("bug",60079),calendar:L("calendar",60080),caseSensitive:L("case-sensitive",60081),check:L("check",60082),checklist:L("checklist",60083),chevronDown:L("chevron-down",60084),dropDownButton:L("drop-down-button",60084),chevronLeft:L("chevron-left",60085),chevronRight:L("chevron-right",60086),chevronUp:L("chevron-up",60087),chromeClose:L("chrome-close",60088),chromeMaximize:L("chrome-maximize",60089),chromeMinimize:L("chrome-minimize",60090),chromeRestore:L("chrome-restore",60091),circle:L("circle",60092),circleOutline:L("circle-outline",60092),debugBreakpointUnverified:L("debug-breakpoint-unverified",60092),circleSlash:L("circle-slash",60093),circuitBoard:L("circuit-board",60094),clearAll:L("clear-all",60095),clippy:L("clippy",60096),closeAll:L("close-all",60097),cloudDownload:L("cloud-download",60098),cloudUpload:L("cloud-upload",60099),code:L("code",60100),collapseAll:L("collapse-all",60101),colorMode:L("color-mode",60102),commentDiscussion:L("comment-discussion",60103),compareChanges:L("compare-changes",60157),creditCard:L("credit-card",60105),dash:L("dash",60108),dashboard:L("dashboard",60109),database:L("database",60110),debugContinue:L("debug-continue",60111),debugDisconnect:L("debug-disconnect",60112),debugPause:L("debug-pause",60113),debugRestart:L("debug-restart",60114),debugStart:L("debug-start",60115),debugStepInto:L("debug-step-into",60116),debugStepOut:L("debug-step-out",60117),debugStepOver:L("debug-step-over",60118),debugStop:L("debug-stop",60119),debug:L("debug",60120),deviceCameraVideo:L("device-camera-video",60121),deviceCamera:L("device-camera",60122),deviceMobile:L("device-mobile",60123),diffAdded:L("diff-added",60124),diffIgnored:L("diff-ignored",60125),diffModified:L("diff-modified",60126),diffRemoved:L("diff-removed",60127),diffRenamed:L("diff-renamed",60128),diff:L("diff",60129),discard:L("discard",60130),editorLayout:L("editor-layout",60131),emptyWindow:L("empty-window",60132),exclude:L("exclude",60133),extensions:L("extensions",60134),eyeClosed:L("eye-closed",60135),fileBinary:L("file-binary",60136),fileCode:L("file-code",60137),fileMedia:L("file-media",60138),filePdf:L("file-pdf",60139),fileSubmodule:L("file-submodule",60140),fileSymlinkDirectory:L("file-symlink-directory",60141),fileSymlinkFile:L("file-symlink-file",60142),fileZip:L("file-zip",60143),files:L("files",60144),filter:L("filter",60145),flame:L("flame",60146),foldDown:L("fold-down",60147),foldUp:L("fold-up",60148),fold:L("fold",60149),folderActive:L("folder-active",60150),folderOpened:L("folder-opened",60151),gear:L("gear",60152),gift:L("gift",60153),gistSecret:L("gist-secret",60154),gist:L("gist",60155),gitCommit:L("git-commit",60156),gitCompare:L("git-compare",60157),gitMerge:L("git-merge",60158),githubAction:L("github-action",60159),githubAlt:L("github-alt",60160),globe:L("globe",60161),grabber:L("grabber",60162),graph:L("graph",60163),gripper:L("gripper",60164),heart:L("heart",60165),home:L("home",60166),horizontalRule:L("horizontal-rule",60167),hubot:L("hubot",60168),inbox:L("inbox",60169),issueClosed:L("issue-closed",60324),issueReopened:L("issue-reopened",60171),issues:L("issues",60172),italic:L("italic",60173),jersey:L("jersey",60174),json:L("json",60175),bracket:L("bracket",60175),kebabVertical:L("kebab-vertical",60176),key:L("key",60177),law:L("law",60178),lightbulbAutofix:L("lightbulb-autofix",60179),linkExternal:L("link-external",60180),link:L("link",60181),listOrdered:L("list-ordered",60182),listUnordered:L("list-unordered",60183),liveShare:L("live-share",60184),loading:L("loading",60185),location:L("location",60186),mailRead:L("mail-read",60187),mail:L("mail",60188),markdown:L("markdown",60189),megaphone:L("megaphone",60190),mention:L("mention",60191),milestone:L("milestone",60192),gitPullRequestMilestone:L("git-pull-request-milestone",60192),mortarBoard:L("mortar-board",60193),move:L("move",60194),multipleWindows:L("multiple-windows",60195),mute:L("mute",60196),noNewline:L("no-newline",60197),note:L("note",60198),octoface:L("octoface",60199),openPreview:L("open-preview",60200),package:L("package",60201),paintcan:L("paintcan",60202),pin:L("pin",60203),play:L("play",60204),run:L("run",60204),plug:L("plug",60205),preserveCase:L("preserve-case",60206),preview:L("preview",60207),project:L("project",60208),pulse:L("pulse",60209),question:L("question",60210),quote:L("quote",60211),radioTower:L("radio-tower",60212),reactions:L("reactions",60213),references:L("references",60214),refresh:L("refresh",60215),regex:L("regex",60216),remoteExplorer:L("remote-explorer",60217),remote:L("remote",60218),remove:L("remove",60219),replaceAll:L("replace-all",60220),replace:L("replace",60221),repoClone:L("repo-clone",60222),repoForcePush:L("repo-force-push",60223),repoPull:L("repo-pull",60224),repoPush:L("repo-push",60225),report:L("report",60226),requestChanges:L("request-changes",60227),rocket:L("rocket",60228),rootFolderOpened:L("root-folder-opened",60229),rootFolder:L("root-folder",60230),rss:L("rss",60231),ruby:L("ruby",60232),saveAll:L("save-all",60233),saveAs:L("save-as",60234),save:L("save",60235),screenFull:L("screen-full",60236),screenNormal:L("screen-normal",60237),searchStop:L("search-stop",60238),server:L("server",60240),settingsGear:L("settings-gear",60241),settings:L("settings",60242),shield:L("shield",60243),smiley:L("smiley",60244),sortPrecedence:L("sort-precedence",60245),splitHorizontal:L("split-horizontal",60246),splitVertical:L("split-vertical",60247),squirrel:L("squirrel",60248),starFull:L("star-full",60249),starHalf:L("star-half",60250),symbolClass:L("symbol-class",60251),symbolColor:L("symbol-color",60252),symbolCustomColor:L("symbol-customcolor",60252),symbolConstant:L("symbol-constant",60253),symbolEnumMember:L("symbol-enum-member",60254),symbolField:L("symbol-field",60255),symbolFile:L("symbol-file",60256),symbolInterface:L("symbol-interface",60257),symbolKeyword:L("symbol-keyword",60258),symbolMisc:L("symbol-misc",60259),symbolOperator:L("symbol-operator",60260),symbolProperty:L("symbol-property",60261),wrench:L("wrench",60261),wrenchSubaction:L("wrench-subaction",60261),symbolSnippet:L("symbol-snippet",60262),tasklist:L("tasklist",60263),telescope:L("telescope",60264),textSize:L("text-size",60265),threeBars:L("three-bars",60266),thumbsdown:L("thumbsdown",60267),thumbsup:L("thumbsup",60268),tools:L("tools",60269),triangleDown:L("triangle-down",60270),triangleLeft:L("triangle-left",60271),triangleRight:L("triangle-right",60272),triangleUp:L("triangle-up",60273),twitter:L("twitter",60274),unfold:L("unfold",60275),unlock:L("unlock",60276),unmute:L("unmute",60277),unverified:L("unverified",60278),verified:L("verified",60279),versions:L("versions",60280),vmActive:L("vm-active",60281),vmOutline:L("vm-outline",60282),vmRunning:L("vm-running",60283),watch:L("watch",60284),whitespace:L("whitespace",60285),wholeWord:L("whole-word",60286),window:L("window",60287),wordWrap:L("word-wrap",60288),zoomIn:L("zoom-in",60289),zoomOut:L("zoom-out",60290),listFilter:L("list-filter",60291),listFlat:L("list-flat",60292),listSelection:L("list-selection",60293),selection:L("selection",60293),listTree:L("list-tree",60294),debugBreakpointFunctionUnverified:L("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:L("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:L("debug-breakpoint-function-disabled",60296),debugStackframeActive:L("debug-stackframe-active",60297),circleSmallFilled:L("circle-small-filled",60298),debugStackframeDot:L("debug-stackframe-dot",60298),debugStackframe:L("debug-stackframe",60299),debugStackframeFocused:L("debug-stackframe-focused",60299),debugBreakpointUnsupported:L("debug-breakpoint-unsupported",60300),symbolString:L("symbol-string",60301),debugReverseContinue:L("debug-reverse-continue",60302),debugStepBack:L("debug-step-back",60303),debugRestartFrame:L("debug-restart-frame",60304),callIncoming:L("call-incoming",60306),callOutgoing:L("call-outgoing",60307),menu:L("menu",60308),expandAll:L("expand-all",60309),feedback:L("feedback",60310),gitPullRequestReviewer:L("git-pull-request-reviewer",60310),groupByRefType:L("group-by-ref-type",60311),ungroupByRefType:L("ungroup-by-ref-type",60312),account:L("account",60313),gitPullRequestAssignee:L("git-pull-request-assignee",60313),bellDot:L("bell-dot",60314),debugConsole:L("debug-console",60315),library:L("library",60316),output:L("output",60317),runAll:L("run-all",60318),syncIgnored:L("sync-ignored",60319),pinned:L("pinned",60320),githubInverted:L("github-inverted",60321),debugAlt:L("debug-alt",60305),serverProcess:L("server-process",60322),serverEnvironment:L("server-environment",60323),pass:L("pass",60324),stopCircle:L("stop-circle",60325),playCircle:L("play-circle",60326),record:L("record",60327),debugAltSmall:L("debug-alt-small",60328),vmConnect:L("vm-connect",60329),cloud:L("cloud",60330),merge:L("merge",60331),exportIcon:L("export",60332),graphLeft:L("graph-left",60333),magnet:L("magnet",60334),notebook:L("notebook",60335),redo:L("redo",60336),checkAll:L("check-all",60337),pinnedDirty:L("pinned-dirty",60338),passFilled:L("pass-filled",60339),circleLargeFilled:L("circle-large-filled",60340),circleLarge:L("circle-large",60341),circleLargeOutline:L("circle-large-outline",60341),combine:L("combine",60342),gather:L("gather",60342),table:L("table",60343),variableGroup:L("variable-group",60344),typeHierarchy:L("type-hierarchy",60345),typeHierarchySub:L("type-hierarchy-sub",60346),typeHierarchySuper:L("type-hierarchy-super",60347),gitPullRequestCreate:L("git-pull-request-create",60348),runAbove:L("run-above",60349),runBelow:L("run-below",60350),notebookTemplate:L("notebook-template",60351),debugRerun:L("debug-rerun",60352),workspaceTrusted:L("workspace-trusted",60353),workspaceUntrusted:L("workspace-untrusted",60354),workspaceUnspecified:L("workspace-unspecified",60355),terminalCmd:L("terminal-cmd",60356),terminalDebian:L("terminal-debian",60357),terminalLinux:L("terminal-linux",60358),terminalPowershell:L("terminal-powershell",60359),terminalTmux:L("terminal-tmux",60360),terminalUbuntu:L("terminal-ubuntu",60361),terminalBash:L("terminal-bash",60362),arrowSwap:L("arrow-swap",60363),copy:L("copy",60364),personAdd:L("person-add",60365),filterFilled:L("filter-filled",60366),wand:L("wand",60367),debugLineByLine:L("debug-line-by-line",60368),inspect:L("inspect",60369),layers:L("layers",60370),layersDot:L("layers-dot",60371),layersActive:L("layers-active",60372),compass:L("compass",60373),compassDot:L("compass-dot",60374),compassActive:L("compass-active",60375),azure:L("azure",60376),issueDraft:L("issue-draft",60377),gitPullRequestClosed:L("git-pull-request-closed",60378),gitPullRequestDraft:L("git-pull-request-draft",60379),debugAll:L("debug-all",60380),debugCoverage:L("debug-coverage",60381),runErrors:L("run-errors",60382),folderLibrary:L("folder-library",60383),debugContinueSmall:L("debug-continue-small",60384),beakerStop:L("beaker-stop",60385),graphLine:L("graph-line",60386),graphScatter:L("graph-scatter",60387),pieChart:L("pie-chart",60388),bracketDot:L("bracket-dot",60389),bracketError:L("bracket-error",60390),lockSmall:L("lock-small",60391),azureDevops:L("azure-devops",60392),verifiedFilled:L("verified-filled",60393),newLine:L("newline",60394),layout:L("layout",60395),layoutActivitybarLeft:L("layout-activitybar-left",60396),layoutActivitybarRight:L("layout-activitybar-right",60397),layoutPanelLeft:L("layout-panel-left",60398),layoutPanelCenter:L("layout-panel-center",60399),layoutPanelJustify:L("layout-panel-justify",60400),layoutPanelRight:L("layout-panel-right",60401),layoutPanel:L("layout-panel",60402),layoutSidebarLeft:L("layout-sidebar-left",60403),layoutSidebarRight:L("layout-sidebar-right",60404),layoutStatusbar:L("layout-statusbar",60405),layoutMenubar:L("layout-menubar",60406),layoutCentered:L("layout-centered",60407),layoutSidebarRightOff:L("layout-sidebar-right-off",60416),layoutPanelOff:L("layout-panel-off",60417),layoutSidebarLeftOff:L("layout-sidebar-left-off",60418),target:L("target",60408),indent:L("indent",60409),recordSmall:L("record-small",60410),errorSmall:L("error-small",60411),arrowCircleDown:L("arrow-circle-down",60412),arrowCircleLeft:L("arrow-circle-left",60413),arrowCircleRight:L("arrow-circle-right",60414),arrowCircleUp:L("arrow-circle-up",60415),heartFilled:L("heart-filled",60420),map:L("map",60421),mapFilled:L("map-filled",60422),circleSmall:L("circle-small",60423),bellSlash:L("bell-slash",60424),bellSlashDot:L("bell-slash-dot",60425),commentUnresolved:L("comment-unresolved",60426),gitPullRequestGoToChanges:L("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:L("git-pull-request-new-changes",60428),searchFuzzy:L("search-fuzzy",60429),commentDraft:L("comment-draft",60430),send:L("send",60431),sparkle:L("sparkle",60432),insert:L("insert",60433),mic:L("mic",60434),thumbsDownFilled:L("thumbsdown-filled",60435),thumbsUpFilled:L("thumbsup-filled",60436),coffee:L("coffee",60437),snake:L("snake",60438),game:L("game",60439),vr:L("vr",60440),chip:L("chip",60441),piano:L("piano",60442),music:L("music",60443),micFilled:L("mic-filled",60444),gitFetch:L("git-fetch",60445),copilot:L("copilot",60446),lightbulbSparkle:L("lightbulb-sparkle",60447),lightbulbSparkleAutofix:L("lightbulb-sparkle-autofix",60447),robot:L("robot",60448),sparkleFilled:L("sparkle-filled",60449),diffSingle:L("diff-single",60450),diffMultiple:L("diff-multiple",60451),surroundWith:L("surround-with",60452),gitStash:L("git-stash",60454),gitStashApply:L("git-stash-apply",60455),gitStashPop:L("git-stash-pop",60456),dialogError:L("dialog-error","error"),dialogWarning:L("dialog-warning","warning"),dialogInfo:L("dialog-info","info"),dialogClose:L("dialog-close","close"),treeItemExpanded:L("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:L("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:L("tree-filter-on-type-off","list-selection"),treeFilterClear:L("tree-filter-clear","close"),treeItemLoading:L("tree-item-loading","loading"),menuSelection:L("menu-selection","check"),menuSubmenu:L("menu-submenu","chevron-right"),menuBarMore:L("menubar-more","more"),scrollbarButtonLeft:L("scrollbar-button-left","triangle-left"),scrollbarButtonRight:L("scrollbar-button-right","triangle-right"),scrollbarButtonUp:L("scrollbar-button-up","triangle-up"),scrollbarButtonDown:L("scrollbar-button-down","triangle-down"),toolBarMore:L("toolbar-more","more"),quickInputBack:L("quick-input-back","arrow-left")}});class IM{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new p,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(J){this._onDidChange.fire({changedLanguages:J,changedColorMap:!1})}register(J,$){return this._tokenizationSupports.set(J,$),this.handleChange([J]),y0(()=>{if(this._tokenizationSupports.get(J)!==$)return;this._tokenizationSupports.delete(J),this.handleChange([J])})}get(J){return this._tokenizationSupports.get(J)||null}registerFactory(J,$){var Q;(Q=this._factories.get(J))===null||Q===void 0||Q.dispose();let X=new NS(this,J,$);return this._factories.set(J,X),y0(()=>{let Y=this._factories.get(J);if(!Y||Y!==X)return;this._factories.delete(J),Y.dispose()})}async getOrCreate(J){let $=this.get(J);if($)return $;let Q=this._factories.get(J);if(!Q||Q.isResolved)return null;return await Q.resolve(),this.get(J)}isResolved(J){if(this.get(J))return!0;let Q=this._factories.get(J);if(!Q||Q.isResolved)return!0;return!1}setColorMap(J){this._colorMap=J,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){if(this._colorMap&&this._colorMap.length>2)return this._colorMap[2];return null}}var NS;var TS=E(()=>{E0();B0();NS=class NS extends r{get isResolved(){return this._isResolved}constructor(J,$,Q){super();this._registry=J,this._languageId=$,this._factory=Q,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){if(!this._resolvePromise)this._resolvePromise=this._create();return this._resolvePromise}async _create(){let J=await this._factory.tokenizationSupport;if(this._isResolved=!0,J&&!this._isDisposed)this._register(this._registry.register(this._languageId,J))}}});class q${constructor(J,$,Q){this.offset=J,this.type=$,this.language=Q,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class pZ{constructor(J,$){this.tokens=J,this.endState=$,this._tokenizationResultBrand=void 0}}class nX{constructor(J,$){this.tokens=J,this.endState=$,this._encodedTokenizationResultBrand=void 0}}class yM{constructor(J,$,Q,X){this.range=J,this.text=$,this.completionKind=Q,this.isSnippetText=X}equals(J){return v.lift(this.range).equalsRange(J.range)&&this.text===J.text&&this.completionKind===J.completionKind&&this.isSnippetText===J.isSnippetText}}class T8{static fromValue(J){switch(J){case"comment":return T8.Comment;case"imports":return T8.Imports;case"region":return T8.Region}return new T8(J)}constructor(J){this.value=J}}class xM{constructor(J){this.createSupport=J,this._tokenizationSupport=null}dispose(){if(this._tokenizationSupport)this._tokenizationSupport.then((J)=>{if(J)J.dispose()})}get tokenizationSupport(){if(!this._tokenizationSupport)this._tokenizationSupport=this.createSupport();return this._tokenizationSupport}}var gZ,wS,LS,kS,hG0,rW,ES,IS,Q6;var w8=E(()=>{O5();V5();e0();TS();a0();(function(J){let $=new Map;$.set(0,O0.symbolMethod),$.set(1,O0.symbolFunction),$.set(2,O0.symbolConstructor),$.set(3,O0.symbolField),$.set(4,O0.symbolVariable),$.set(5,O0.symbolClass),$.set(6,O0.symbolStruct),$.set(7,O0.symbolInterface),$.set(8,O0.symbolModule),$.set(9,O0.symbolProperty),$.set(10,O0.symbolEvent),$.set(11,O0.symbolOperator),$.set(12,O0.symbolUnit),$.set(13,O0.symbolValue),$.set(15,O0.symbolEnum),$.set(14,O0.symbolConstant),$.set(15,O0.symbolEnum),$.set(16,O0.symbolEnumMember),$.set(17,O0.symbolKeyword),$.set(27,O0.symbolSnippet),$.set(18,O0.symbolText),$.set(19,O0.symbolColor),$.set(20,O0.symbolFile),$.set(21,O0.symbolReference),$.set(22,O0.symbolCustomColor),$.set(23,O0.symbolFolder),$.set(24,O0.symbolTypeParameter),$.set(25,O0.account),$.set(26,O0.issues);function Q(Z){let G=$.get(Z);if(!G)console.info("No codicon found for CompletionItemKind "+Z),G=O0.symbolProperty;return G}J.toIcon=Q;let X=new Map;X.set("method",0),X.set("function",1),X.set("constructor",2),X.set("field",3),X.set("variable",4),X.set("class",5),X.set("struct",6),X.set("interface",7),X.set("module",8),X.set("property",9),X.set("event",10),X.set("operator",11),X.set("unit",12),X.set("value",13),X.set("constant",14),X.set("enum",15),X.set("enum-member",16),X.set("enumMember",16),X.set("keyword",17),X.set("snippet",27),X.set("text",18),X.set("color",19),X.set("file",20),X.set("reference",21),X.set("customcolor",22),X.set("folder",23),X.set("type-parameter",24),X.set("typeParameter",24),X.set("account",25),X.set("issue",26);function Y(Z,G){let q=X.get(Z);if(typeof q>"u"&&!G)q=9;return q}J.fromString=Y})(gZ||(gZ={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(wS||(wS={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(LS||(LS={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(kS||(kS={}));hG0={[17]:M("Array","array"),[16]:M("Boolean","boolean"),[4]:M("Class","class"),[13]:M("Constant","constant"),[8]:M("Constructor","constructor"),[9]:M("Enum","enumeration"),[21]:M("EnumMember","enumeration member"),[23]:M("Event","event"),[7]:M("Field","field"),[0]:M("File","file"),[11]:M("Function","function"),[10]:M("Interface","interface"),[19]:M("Key","key"),[5]:M("Method","method"),[1]:M("Module","module"),[2]:M("Namespace","namespace"),[20]:M("Null","null"),[15]:M("Number","number"),[18]:M("Object","object"),[24]:M("Operator","operator"),[3]:M("Package","package"),[6]:M("Property","property"),[14]:M("String","string"),[22]:M("Struct","struct"),[25]:M("TypeParameter","type parameter"),[12]:M("Variable","variable")};(function(J){let $=new Map;$.set(0,O0.symbolFile),$.set(1,O0.symbolModule),$.set(2,O0.symbolNamespace),$.set(3,O0.symbolPackage),$.set(4,O0.symbolClass),$.set(5,O0.symbolMethod),$.set(6,O0.symbolProperty),$.set(7,O0.symbolField),$.set(8,O0.symbolConstructor),$.set(9,O0.symbolEnum),$.set(10,O0.symbolInterface),$.set(11,O0.symbolFunction),$.set(12,O0.symbolVariable),$.set(13,O0.symbolConstant),$.set(14,O0.symbolString),$.set(15,O0.symbolNumber),$.set(16,O0.symbolBoolean),$.set(17,O0.symbolArray),$.set(18,O0.symbolObject),$.set(19,O0.symbolKey),$.set(20,O0.symbolNull),$.set(21,O0.symbolEnumMember),$.set(22,O0.symbolStruct),$.set(23,O0.symbolEvent),$.set(24,O0.symbolOperator),$.set(25,O0.symbolTypeParameter);function Q(X){let Y=$.get(X);if(!Y)console.info("No codicon found for SymbolKind "+X),Y=O0.symbolProperty;return Y}J.toIcon=Q})(rW||(rW={}));T8.Comment=new T8("comment");T8.Imports=new T8("imports");T8.Region=new T8("region");(function(J){function $(Q){if(!Q||typeof Q!=="object")return!1;return typeof Q.id==="string"&&typeof Q.title==="string"}J.is=$})(ES||(ES={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(IS||(IS={}));Q6=new IM});var iW,nW,oW,tW,eW,JB,$B,QB,XB,YB,ZB,GB,qB,UB,zB,HB,jB,VB,WB,BB,FB,KB,AB,PB,DB,RB,MB,OB,_B,NB,TB,wB,LB,kB,EB,IB,yB,xB,bB,SB;var CB=E(()=>{(function(J){J[J.Unknown=0]="Unknown",J[J.Disabled=1]="Disabled",J[J.Enabled=2]="Enabled"})(iW||(iW={}));(function(J){J[J.Invoke=1]="Invoke",J[J.Auto=2]="Auto"})(nW||(nW={}));(function(J){J[J.None=0]="None",J[J.KeepWhitespace=1]="KeepWhitespace",J[J.InsertAsSnippet=4]="InsertAsSnippet"})(oW||(oW={}));(function(J){J[J.Method=0]="Method",J[J.Function=1]="Function",J[J.Constructor=2]="Constructor",J[J.Field=3]="Field",J[J.Variable=4]="Variable",J[J.Class=5]="Class",J[J.Struct=6]="Struct",J[J.Interface=7]="Interface",J[J.Module=8]="Module",J[J.Property=9]="Property",J[J.Event=10]="Event",J[J.Operator=11]="Operator",J[J.Unit=12]="Unit",J[J.Value=13]="Value",J[J.Constant=14]="Constant",J[J.Enum=15]="Enum",J[J.EnumMember=16]="EnumMember",J[J.Keyword=17]="Keyword",J[J.Text=18]="Text",J[J.Color=19]="Color",J[J.File=20]="File",J[J.Reference=21]="Reference",J[J.Customcolor=22]="Customcolor",J[J.Folder=23]="Folder",J[J.TypeParameter=24]="TypeParameter",J[J.User=25]="User",J[J.Issue=26]="Issue",J[J.Snippet=27]="Snippet"})(tW||(tW={}));(function(J){J[J.Deprecated=1]="Deprecated"})(eW||(eW={}));(function(J){J[J.Invoke=0]="Invoke",J[J.TriggerCharacter=1]="TriggerCharacter",J[J.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(JB||(JB={}));(function(J){J[J.EXACT=0]="EXACT",J[J.ABOVE=1]="ABOVE",J[J.BELOW=2]="BELOW"})($B||($B={}));(function(J){J[J.NotSet=0]="NotSet",J[J.ContentFlush=1]="ContentFlush",J[J.RecoverFromMarkers=2]="RecoverFromMarkers",J[J.Explicit=3]="Explicit",J[J.Paste=4]="Paste",J[J.Undo=5]="Undo",J[J.Redo=6]="Redo"})(QB||(QB={}));(function(J){J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(XB||(XB={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(YB||(YB={}));(function(J){J[J.None=0]="None",J[J.Keep=1]="Keep",J[J.Brackets=2]="Brackets",J[J.Advanced=3]="Advanced",J[J.Full=4]="Full"})(ZB||(ZB={}));(function(J){J[J.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",J[J.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",J[J.accessibilitySupport=2]="accessibilitySupport",J[J.accessibilityPageSize=3]="accessibilityPageSize",J[J.ariaLabel=4]="ariaLabel",J[J.ariaRequired=5]="ariaRequired",J[J.autoClosingBrackets=6]="autoClosingBrackets",J[J.autoClosingComments=7]="autoClosingComments",J[J.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",J[J.autoClosingDelete=9]="autoClosingDelete",J[J.autoClosingOvertype=10]="autoClosingOvertype",J[J.autoClosingQuotes=11]="autoClosingQuotes",J[J.autoIndent=12]="autoIndent",J[J.automaticLayout=13]="automaticLayout",J[J.autoSurround=14]="autoSurround",J[J.bracketPairColorization=15]="bracketPairColorization",J[J.guides=16]="guides",J[J.codeLens=17]="codeLens",J[J.codeLensFontFamily=18]="codeLensFontFamily",J[J.codeLensFontSize=19]="codeLensFontSize",J[J.colorDecorators=20]="colorDecorators",J[J.colorDecoratorsLimit=21]="colorDecoratorsLimit",J[J.columnSelection=22]="columnSelection",J[J.comments=23]="comments",J[J.contextmenu=24]="contextmenu",J[J.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",J[J.cursorBlinking=26]="cursorBlinking",J[J.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",J[J.cursorStyle=28]="cursorStyle",J[J.cursorSurroundingLines=29]="cursorSurroundingLines",J[J.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",J[J.cursorWidth=31]="cursorWidth",J[J.disableLayerHinting=32]="disableLayerHinting",J[J.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",J[J.domReadOnly=34]="domReadOnly",J[J.dragAndDrop=35]="dragAndDrop",J[J.dropIntoEditor=36]="dropIntoEditor",J[J.emptySelectionClipboard=37]="emptySelectionClipboard",J[J.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",J[J.extraEditorClassName=39]="extraEditorClassName",J[J.fastScrollSensitivity=40]="fastScrollSensitivity",J[J.find=41]="find",J[J.fixedOverflowWidgets=42]="fixedOverflowWidgets",J[J.folding=43]="folding",J[J.foldingStrategy=44]="foldingStrategy",J[J.foldingHighlight=45]="foldingHighlight",J[J.foldingImportsByDefault=46]="foldingImportsByDefault",J[J.foldingMaximumRegions=47]="foldingMaximumRegions",J[J.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",J[J.fontFamily=49]="fontFamily",J[J.fontInfo=50]="fontInfo",J[J.fontLigatures=51]="fontLigatures",J[J.fontSize=52]="fontSize",J[J.fontWeight=53]="fontWeight",J[J.fontVariations=54]="fontVariations",J[J.formatOnPaste=55]="formatOnPaste",J[J.formatOnType=56]="formatOnType",J[J.glyphMargin=57]="glyphMargin",J[J.gotoLocation=58]="gotoLocation",J[J.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",J[J.hover=60]="hover",J[J.inDiffEditor=61]="inDiffEditor",J[J.inlineSuggest=62]="inlineSuggest",J[J.letterSpacing=63]="letterSpacing",J[J.lightbulb=64]="lightbulb",J[J.lineDecorationsWidth=65]="lineDecorationsWidth",J[J.lineHeight=66]="lineHeight",J[J.lineNumbers=67]="lineNumbers",J[J.lineNumbersMinChars=68]="lineNumbersMinChars",J[J.linkedEditing=69]="linkedEditing",J[J.links=70]="links",J[J.matchBrackets=71]="matchBrackets",J[J.minimap=72]="minimap",J[J.mouseStyle=73]="mouseStyle",J[J.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",J[J.mouseWheelZoom=75]="mouseWheelZoom",J[J.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",J[J.multiCursorModifier=77]="multiCursorModifier",J[J.multiCursorPaste=78]="multiCursorPaste",J[J.multiCursorLimit=79]="multiCursorLimit",J[J.occurrencesHighlight=80]="occurrencesHighlight",J[J.overviewRulerBorder=81]="overviewRulerBorder",J[J.overviewRulerLanes=82]="overviewRulerLanes",J[J.padding=83]="padding",J[J.pasteAs=84]="pasteAs",J[J.parameterHints=85]="parameterHints",J[J.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",J[J.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",J[J.quickSuggestions=88]="quickSuggestions",J[J.quickSuggestionsDelay=89]="quickSuggestionsDelay",J[J.readOnly=90]="readOnly",J[J.readOnlyMessage=91]="readOnlyMessage",J[J.renameOnType=92]="renameOnType",J[J.renderControlCharacters=93]="renderControlCharacters",J[J.renderFinalNewline=94]="renderFinalNewline",J[J.renderLineHighlight=95]="renderLineHighlight",J[J.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",J[J.renderValidationDecorations=97]="renderValidationDecorations",J[J.renderWhitespace=98]="renderWhitespace",J[J.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",J[J.roundedSelection=100]="roundedSelection",J[J.rulers=101]="rulers",J[J.scrollbar=102]="scrollbar",J[J.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",J[J.scrollBeyondLastLine=104]="scrollBeyondLastLine",J[J.scrollPredominantAxis=105]="scrollPredominantAxis",J[J.selectionClipboard=106]="selectionClipboard",J[J.selectionHighlight=107]="selectionHighlight",J[J.selectOnLineNumbers=108]="selectOnLineNumbers",J[J.showFoldingControls=109]="showFoldingControls",J[J.showUnused=110]="showUnused",J[J.snippetSuggestions=111]="snippetSuggestions",J[J.smartSelect=112]="smartSelect",J[J.smoothScrolling=113]="smoothScrolling",J[J.stickyScroll=114]="stickyScroll",J[J.stickyTabStops=115]="stickyTabStops",J[J.stopRenderingLineAfter=116]="stopRenderingLineAfter",J[J.suggest=117]="suggest",J[J.suggestFontSize=118]="suggestFontSize",J[J.suggestLineHeight=119]="suggestLineHeight",J[J.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",J[J.suggestSelection=121]="suggestSelection",J[J.tabCompletion=122]="tabCompletion",J[J.tabIndex=123]="tabIndex",J[J.unicodeHighlighting=124]="unicodeHighlighting",J[J.unusualLineTerminators=125]="unusualLineTerminators",J[J.useShadowDOM=126]="useShadowDOM",J[J.useTabStops=127]="useTabStops",J[J.wordBreak=128]="wordBreak",J[J.wordSeparators=129]="wordSeparators",J[J.wordWrap=130]="wordWrap",J[J.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",J[J.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",J[J.wordWrapColumn=133]="wordWrapColumn",J[J.wordWrapOverride1=134]="wordWrapOverride1",J[J.wordWrapOverride2=135]="wordWrapOverride2",J[J.wrappingIndent=136]="wrappingIndent",J[J.wrappingStrategy=137]="wrappingStrategy",J[J.showDeprecated=138]="showDeprecated",J[J.inlayHints=139]="inlayHints",J[J.editorClassName=140]="editorClassName",J[J.pixelRatio=141]="pixelRatio",J[J.tabFocusMode=142]="tabFocusMode",J[J.layoutInfo=143]="layoutInfo",J[J.wrappingInfo=144]="wrappingInfo",J[J.defaultColorDecorators=145]="defaultColorDecorators",J[J.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",J[J.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(GB||(GB={}));(function(J){J[J.TextDefined=0]="TextDefined",J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(qB||(qB={}));(function(J){J[J.LF=0]="LF",J[J.CRLF=1]="CRLF"})(UB||(UB={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=3]="Right"})(zB||(zB={}));(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(HB||(HB={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(jB||(jB={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(VB||(VB={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(WB||(WB={}));(function(J){J[J.DependsOnKbLayout=-1]="DependsOnKbLayout",J[J.Unknown=0]="Unknown",J[J.Backspace=1]="Backspace",J[J.Tab=2]="Tab",J[J.Enter=3]="Enter",J[J.Shift=4]="Shift",J[J.Ctrl=5]="Ctrl",J[J.Alt=6]="Alt",J[J.PauseBreak=7]="PauseBreak",J[J.CapsLock=8]="CapsLock",J[J.Escape=9]="Escape",J[J.Space=10]="Space",J[J.PageUp=11]="PageUp",J[J.PageDown=12]="PageDown",J[J.End=13]="End",J[J.Home=14]="Home",J[J.LeftArrow=15]="LeftArrow",J[J.UpArrow=16]="UpArrow",J[J.RightArrow=17]="RightArrow",J[J.DownArrow=18]="DownArrow",J[J.Insert=19]="Insert",J[J.Delete=20]="Delete",J[J.Digit0=21]="Digit0",J[J.Digit1=22]="Digit1",J[J.Digit2=23]="Digit2",J[J.Digit3=24]="Digit3",J[J.Digit4=25]="Digit4",J[J.Digit5=26]="Digit5",J[J.Digit6=27]="Digit6",J[J.Digit7=28]="Digit7",J[J.Digit8=29]="Digit8",J[J.Digit9=30]="Digit9",J[J.KeyA=31]="KeyA",J[J.KeyB=32]="KeyB",J[J.KeyC=33]="KeyC",J[J.KeyD=34]="KeyD",J[J.KeyE=35]="KeyE",J[J.KeyF=36]="KeyF",J[J.KeyG=37]="KeyG",J[J.KeyH=38]="KeyH",J[J.KeyI=39]="KeyI",J[J.KeyJ=40]="KeyJ",J[J.KeyK=41]="KeyK",J[J.KeyL=42]="KeyL",J[J.KeyM=43]="KeyM",J[J.KeyN=44]="KeyN",J[J.KeyO=45]="KeyO",J[J.KeyP=46]="KeyP",J[J.KeyQ=47]="KeyQ",J[J.KeyR=48]="KeyR",J[J.KeyS=49]="KeyS",J[J.KeyT=50]="KeyT",J[J.KeyU=51]="KeyU",J[J.KeyV=52]="KeyV",J[J.KeyW=53]="KeyW",J[J.KeyX=54]="KeyX",J[J.KeyY=55]="KeyY",J[J.KeyZ=56]="KeyZ",J[J.Meta=57]="Meta",J[J.ContextMenu=58]="ContextMenu",J[J.F1=59]="F1",J[J.F2=60]="F2",J[J.F3=61]="F3",J[J.F4=62]="F4",J[J.F5=63]="F5",J[J.F6=64]="F6",J[J.F7=65]="F7",J[J.F8=66]="F8",J[J.F9=67]="F9",J[J.F10=68]="F10",J[J.F11=69]="F11",J[J.F12=70]="F12",J[J.F13=71]="F13",J[J.F14=72]="F14",J[J.F15=73]="F15",J[J.F16=74]="F16",J[J.F17=75]="F17",J[J.F18=76]="F18",J[J.F19=77]="F19",J[J.F20=78]="F20",J[J.F21=79]="F21",J[J.F22=80]="F22",J[J.F23=81]="F23",J[J.F24=82]="F24",J[J.NumLock=83]="NumLock",J[J.ScrollLock=84]="ScrollLock",J[J.Semicolon=85]="Semicolon",J[J.Equal=86]="Equal",J[J.Comma=87]="Comma",J[J.Minus=88]="Minus",J[J.Period=89]="Period",J[J.Slash=90]="Slash",J[J.Backquote=91]="Backquote",J[J.BracketLeft=92]="BracketLeft",J[J.Backslash=93]="Backslash",J[J.BracketRight=94]="BracketRight",J[J.Quote=95]="Quote",J[J.OEM_8=96]="OEM_8",J[J.IntlBackslash=97]="IntlBackslash",J[J.Numpad0=98]="Numpad0",J[J.Numpad1=99]="Numpad1",J[J.Numpad2=100]="Numpad2",J[J.Numpad3=101]="Numpad3",J[J.Numpad4=102]="Numpad4",J[J.Numpad5=103]="Numpad5",J[J.Numpad6=104]="Numpad6",J[J.Numpad7=105]="Numpad7",J[J.Numpad8=106]="Numpad8",J[J.Numpad9=107]="Numpad9",J[J.NumpadMultiply=108]="NumpadMultiply",J[J.NumpadAdd=109]="NumpadAdd",J[J.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",J[J.NumpadSubtract=111]="NumpadSubtract",J[J.NumpadDecimal=112]="NumpadDecimal",J[J.NumpadDivide=113]="NumpadDivide",J[J.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",J[J.ABNT_C1=115]="ABNT_C1",J[J.ABNT_C2=116]="ABNT_C2",J[J.AudioVolumeMute=117]="AudioVolumeMute",J[J.AudioVolumeUp=118]="AudioVolumeUp",J[J.AudioVolumeDown=119]="AudioVolumeDown",J[J.BrowserSearch=120]="BrowserSearch",J[J.BrowserHome=121]="BrowserHome",J[J.BrowserBack=122]="BrowserBack",J[J.BrowserForward=123]="BrowserForward",J[J.MediaTrackNext=124]="MediaTrackNext",J[J.MediaTrackPrevious=125]="MediaTrackPrevious",J[J.MediaStop=126]="MediaStop",J[J.MediaPlayPause=127]="MediaPlayPause",J[J.LaunchMediaPlayer=128]="LaunchMediaPlayer",J[J.LaunchMail=129]="LaunchMail",J[J.LaunchApp2=130]="LaunchApp2",J[J.Clear=131]="Clear",J[J.MAX_VALUE=132]="MAX_VALUE"})(BB||(BB={}));(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(FB||(FB={}));(function(J){J[J.Unnecessary=1]="Unnecessary",J[J.Deprecated=2]="Deprecated"})(KB||(KB={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(AB||(AB={}));(function(J){J[J.UNKNOWN=0]="UNKNOWN",J[J.TEXTAREA=1]="TEXTAREA",J[J.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",J[J.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",J[J.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",J[J.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",J[J.CONTENT_TEXT=6]="CONTENT_TEXT",J[J.CONTENT_EMPTY=7]="CONTENT_EMPTY",J[J.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",J[J.CONTENT_WIDGET=9]="CONTENT_WIDGET",J[J.OVERVIEW_RULER=10]="OVERVIEW_RULER",J[J.SCROLLBAR=11]="SCROLLBAR",J[J.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",J[J.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(PB||(PB={}));(function(J){J[J.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",J[J.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",J[J.TOP_CENTER=2]="TOP_CENTER"})(DB||(DB={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(RB||(RB={}));(function(J){J[J.Left=0]="Left",J[J.Right=1]="Right",J[J.None=2]="None",J[J.LeftOfInjectedText=3]="LeftOfInjectedText",J[J.RightOfInjectedText=4]="RightOfInjectedText"})(MB||(MB={}));(function(J){J[J.Off=0]="Off",J[J.On=1]="On",J[J.Relative=2]="Relative",J[J.Interval=3]="Interval",J[J.Custom=4]="Custom"})(OB||(OB={}));(function(J){J[J.None=0]="None",J[J.Text=1]="Text",J[J.Blocks=2]="Blocks"})(_B||(_B={}));(function(J){J[J.Smooth=0]="Smooth",J[J.Immediate=1]="Immediate"})(NB||(NB={}));(function(J){J[J.Auto=1]="Auto",J[J.Hidden=2]="Hidden",J[J.Visible=3]="Visible"})(TB||(TB={}));(function(J){J[J.LTR=0]="LTR",J[J.RTL=1]="RTL"})(wB||(wB={}));(function(J){J.Off="off",J.OnCode="onCode",J.On="on"})(LB||(LB={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(kB||(kB={}));(function(J){J[J.File=0]="File",J[J.Module=1]="Module",J[J.Namespace=2]="Namespace",J[J.Package=3]="Package",J[J.Class=4]="Class",J[J.Method=5]="Method",J[J.Property=6]="Property",J[J.Field=7]="Field",J[J.Constructor=8]="Constructor",J[J.Enum=9]="Enum",J[J.Interface=10]="Interface",J[J.Function=11]="Function",J[J.Variable=12]="Variable",J[J.Constant=13]="Constant",J[J.String=14]="String",J[J.Number=15]="Number",J[J.Boolean=16]="Boolean",J[J.Array=17]="Array",J[J.Object=18]="Object",J[J.Key=19]="Key",J[J.Null=20]="Null",J[J.EnumMember=21]="EnumMember",J[J.Struct=22]="Struct",J[J.Event=23]="Event",J[J.Operator=24]="Operator",J[J.TypeParameter=25]="TypeParameter"})(EB||(EB={}));(function(J){J[J.Deprecated=1]="Deprecated"})(IB||(IB={}));(function(J){J[J.Hidden=0]="Hidden",J[J.Blink=1]="Blink",J[J.Smooth=2]="Smooth",J[J.Phase=3]="Phase",J[J.Expand=4]="Expand",J[J.Solid=5]="Solid"})(yB||(yB={}));(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(xB||(xB={}));(function(J){J[J.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",J[J.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",J[J.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",J[J.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(bB||(bB={}));(function(J){J[J.None=0]="None",J[J.Same=1]="Same",J[J.Indent=2]="Indent",J[J.DeepIndent=3]="DeepIndent"})(SB||(SB={}))});class aG{static chord(J,$){return m8(J,$)}}function vB(){return{editor:void 0,languages:void 0,CancellationTokenSource:M5,Emitter:p,KeyCode:BB,KeyMod:aG,Position:s,Range:v,Selection:d0,SelectionDirection:wB,MarkerSeverity:FB,MarkerTag:KB,Uri:m0,Token:q$}}var CM=E(()=>{z8();E0();hZ();V5();e0();u5();w8();CB();aG.CtrlCmd=2048;aG.Shift=1024;aG.Alt=512;aG.WinCtrl=256});function yS(J,$){let Q=J;if(typeof Q.vscodeWindowId!=="number")Object.defineProperty(Q,"vscodeWindowId",{get:()=>$})}var F1,MQ;var H8=E(()=>{F1=window,MQ=F1});class vM{constructor(J){this.fn=J,this.lastCache=void 0,this.lastArgKey=void 0}get(J){let $=JSON.stringify(J);if(this.lastArgKey!==$)this.lastArgKey=$,this.lastCache=this.fn(J);return this.lastCache}}class hB{get cachedValues(){return this._map}constructor(J){this.fn=J,this._map=new Map}get(J){if(this._map.has(J))return this._map.get(J);let $=this.fn(J);return this._map.set(J,$),$}}class z9{constructor(J){this.executor=J,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(J){this._error=J}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function fB(J){if(!J||typeof J!=="string")return!0;return J.trim().length===0}function tX(J,...$){if($.length===0)return J;return J.replace(z60,function(Q,X){let Y=parseInt(X,10);return isNaN(Y)||Y<0||Y>=$.length?Q:$[Y]})}function bS(J){return J.replace(/[<>"'&]/g,($)=>{switch($){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return $})}function uZ(J){return J.replace(/[<>&]/g,function($){switch($){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return $}})}function Y7(J){return J.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function eX(J,$){if(!J||!$)return J;let Q=$.length;if(Q===0||J.length===0)return J;let X=0;while(J.indexOf($,X)===X)X=X+Q;return J.substring(X)}function SS(J,$){if(!J||!$)return J;let Q=$.length,X=J.length;if(Q===0||X===0)return J;let Y=X,Z=-1;while(!0){if(Z=J.lastIndexOf($,Y-1),Z===-1||Z+Q!==Y)break;if(Z===0)return"";Y=Z}return J.substring(0,Y)}function CS(J){return J.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function gB(J,$,Q={}){if(!J)throw Error("Cannot create regex from empty string");if(!$)J=Y7(J);if(Q.wholeWord){if(!/\B/.test(J.charAt(0)))J="\\b"+J;if(!/\B/.test(J.charAt(J.length-1)))J=J+"\\b"}let X="";if(Q.global)X+="g";if(!Q.matchCase)X+="i";if(Q.multiline)X+="m";if(Q.unicode)X+="u";return new RegExp(J,X)}function vS(J){if(J.source==="^"||J.source==="^$"||J.source==="$"||J.source==="^\\s*$")return!1;return!!(J.exec("")&&J.lastIndex===0)}function H9(J){return J.split(/\r\n|\r|\n/)}function s6(J){for(let $=0,Q=J.length;$<Q;$++){let X=J.charCodeAt($);if(X!==32&&X!==9)return $}return-1}function W5(J,$=0,Q=J.length){for(let X=$;X<Q;X++){let Y=J.charCodeAt(X);if(Y!==32&&Y!==9)return J.substring($,X)}return J.substring($,Q)}function j9(J,$=J.length-1){for(let Q=$;Q>=0;Q--){let X=J.charCodeAt(Q);if(X!==32&&X!==9)return Q}return-1}function qz(J,$){if(J<$)return-1;else if(J>$)return 1;else return 0}function pB(J,$,Q=0,X=J.length,Y=0,Z=$.length){for(;Q<X&&Y<Z;Q++,Y++){let U=J.charCodeAt(Q),z=$.charCodeAt(Y);if(U<z)return-1;else if(U>z)return 1}let G=X-Q,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function Uz(J,$){return iG(J,$,0,J.length,0,$.length)}function iG(J,$,Q=0,X=J.length,Y=0,Z=$.length){for(;Q<X&&Y<Z;Q++,Y++){let U=J.charCodeAt(Q),z=$.charCodeAt(Y);if(U===z)continue;if(U>=128||z>=128)return pB(J.toLowerCase(),$.toLowerCase(),Q,X,Y,Z);if(mZ(U))U-=32;if(mZ(z))z-=32;let H=U-z;if(H===0)continue;return H}let G=X-Q,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function zz(J){return J>=48&&J<=57}function mZ(J){return J>=97&&J<=122}function U$(J){return J>=65&&J<=90}function _Q(J,$){return J.length===$.length&&iG(J,$)===0}function nG(J,$){let Q=$.length;if($.length>J.length)return!1;return iG(J,$,0,Q)===0}function cZ(J,$){let Q=Math.min(J.length,$.length),X;for(X=0;X<Q;X++)if(J.charCodeAt(X)!==$.charCodeAt(X))return X;return Q}function Hz(J,$){let Q=Math.min(J.length,$.length),X,Y=J.length-1,Z=$.length-1;for(X=0;X<Q;X++)if(J.charCodeAt(Y-X)!==$.charCodeAt(Z-X))return X;return Q}function P6(J){return 55296<=J&&J<=56319}function z$(J){return 56320<=J&&J<=57343}function mB(J,$){return(J-55296<<10)+($-56320)+65536}function oG(J,$,Q){let X=J.charCodeAt(Q);if(P6(X)&&Q+1<$){let Y=J.charCodeAt(Q+1);if(z$(Y))return mB(X,Y)}return X}function H60(J,$){let Q=J.charCodeAt($-1);if(z$(Q)&&$>1){let X=J.charCodeAt($-2);if(P6(X))return mB(X,Q)}return Q}class uB{get offset(){return this._offset}constructor(J,$=0){this._str=J,this._len=J.length,this._offset=$}setOffset(J){this._offset=J}prevCodePoint(){let J=H60(this._str,this._offset);return this._offset-=J>=65536?2:1,J}nextCodePoint(){let J=oG(this._str,this._len,this._offset);return this._offset+=J>=65536?2:1,J}eol(){return this._offset>=this._len}}class tG{get offset(){return this._iterator.offset}constructor(J,$=0){this._iterator=new uB(J,$)}nextGraphemeLength(){let J=oX.getInstance(),$=this._iterator,Q=$.offset,X=J.getGraphemeBreakType($.nextCodePoint());while(!$.eol()){let Y=$.offset,Z=J.getGraphemeBreakType($.nextCodePoint());if(xS(X,Z)){$.setOffset(Y);break}X=Z}return $.offset-Q}prevGraphemeLength(){let J=oX.getInstance(),$=this._iterator,Q=$.offset,X=J.getGraphemeBreakType($.prevCodePoint());while($.offset>0){let Y=$.offset,Z=J.getGraphemeBreakType($.prevCodePoint());if(xS(Z,X)){$.setOffset(Y);break}X=Z}return Q-$.offset}eol(){return this._iterator.eol()}}function jz(J,$){return new tG(J,$).nextGraphemeLength()}function fM(J,$){return new tG(J,$).prevGraphemeLength()}function hS(J,$){if($>0&&z$(J.charCodeAt($)))$--;let Q=$+jz(J,$);return[Q-fM(J,Q),Q]}function j60(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function NQ(J){if(!hM)hM=j60();return hM.test(J)}function eG(J){return V60.test(J)}function cB(J){return gM.test(J)}function C9(J){return J>=11904&&J<=55215||J>=63744&&J<=64255||J>=65281&&J<=65374}function Vz(J){return J>=127462&&J<=127487||J===8986||J===8987||J===9200||J===9203||J>=9728&&J<=10175||J===11088||J===11093||J>=127744&&J<=128591||J>=128640&&J<=128764||J>=128992&&J<=129008||J>=129280&&J<=129535||J>=129648&&J<=129782}function J3(J){return!!(J&&J.length>0&&J.charCodeAt(0)===65279)}function lB(J){if(J=J%52,J<26)return String.fromCharCode(97+J);return String.fromCharCode(65+J-26)}function xS(J,$){if(J===0)return $!==5&&$!==7;if(J===2){if($===3)return!1}if(J===4||J===2||J===3)return!0;if($===4||$===2||$===3)return!0;if(J===8){if($===8||$===9||$===11||$===12)return!1}if(J===11||J===9){if($===9||$===10)return!1}if(J===12||J===10){if($===10)return!1}if($===5||$===13)return!1;if($===7)return!1;if(J===1)return!1;if(J===13&&$===14)return!1;if(J===6&&$===6)return!1;return!0}class oX{static getInstance(){if(!oX._INSTANCE)oX._INSTANCE=new oX;return oX._INSTANCE}constructor(){this._data=W60()}getGraphemeBreakType(J){if(J<32){if(J===10)return 3;if(J===13)return 2;return 4}if(J<127)return 0;let $=this._data,Q=$.length/3,X=1;while(X<=Q)if(J<$[3*X])X=2*X;else if(J>$[3*X+1])X=2*X+1;else return $[3*X+2];return 0}}function W60(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function gS(J,$){if(J===0)return 0;let Q=B60(J,$);if(Q!==void 0)return Q;let X=new uB($,J);return X.prevCodePoint(),X.offset}function B60(J,$){let Q=new uB($,J),X=Q.prevCodePoint();while(F60(X)||X===65039||X===8419){if(Q.offset===0)return;X=Q.prevCodePoint()}if(!Vz(X))return;let Y=Q.offset;if(Y>0){if(Q.prevCodePoint()===8205)Y=Q.offset}return Y}function F60(J){return 127995<=J&&J<=127999}class TQ{static getInstance(J){return rG.cache.get(Array.from(J))}static getLocales(){return rG._locales.value}constructor(J){this.confusableDictionary=J}isAmbiguous(J){return this.confusableDictionary.has(J)}getPrimaryConfusable(J){return this.confusableDictionary.get(J)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class OQ{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){if(!this._data)this._data=new Set(OQ.getRawData());return this._data}static isInvisibleCharacter(J){return OQ.getData().has(J)}static get codePoints(){return OQ.getData()}}var rG,z60,hM=void 0,V60,gM,fS;var G1=E(()=>{z60=/{(\d+)}/g;V60=/^[\t\n\r\x20-\x7E]*$/;gM=/[\u2028\u2029]/;fS=String.fromCharCode(65279);oX._INSTANCE=null;rG=TQ;TQ.ambiguousCharacterData=new z9(()=>{return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')});TQ.cache=new vM((J)=>{function $(z){let H=new Map;for(let j=0;j<z.length;j+=2)H.set(z[j],z[j+1]);return H}function Q(z,H){let j=new Map(z);for(let[B,V]of H)j.set(B,V);return j}function X(z,H){if(!z)return H;let j=new Map;for(let[B,V]of z)if(H.has(B))j.set(B,V);return j}let Y=rG.ambiguousCharacterData.value,Z=J.filter((z)=>!z.startsWith("_")&&(z in Y));if(Z.length===0)Z=["_default"];let G=void 0;for(let z of Z){let H=$(Y[z]);G=X(G,H)}let q=$(Y._common),U=Q(q,G);return new rG(U)});TQ._locales=new z9(()=>Object.keys(rG.ambiguousCharacterData.value).filter((J)=>!J.startsWith("_")));OQ._data=void 0});var pS=E(()=>{_0('.monaco-editor{--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace;font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif}.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);width:1px;height:1px;margin:-1px;padding:0;top:0;overflow:hidden;position:absolute!important}.monaco-editor,.monaco-diff-editor .synthetic-focus,.monaco-editor,.monaco-diff-editor [tabindex="0"]:focus,.monaco-editor,.monaco-diff-editor [tabindex="-1"]:focus,.monaco-editor,.monaco-diff-editor button:focus,.monaco-editor,.monaco-diff-editor input[type=button]:focus,.monaco-editor,.monaco-diff-editor input[type=checkbox]:focus,.monaco-editor,.monaco-diff-editor input[type=search]:focus,.monaco-editor,.monaco-diff-editor input[type=text]:focus,.monaco-editor,.monaco-diff-editor select:focus,.monaco-editor,.monaco-diff-editor textarea:focus{outline-offset:-1px;outline-width:1px;outline-style:solid;outline-color:var(--vscode-focusBorder);opacity:1}')});class sB{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(J){var $;return($=this.mapWindowIdToZoomFactor.get(this.getWindowId(J)))!==null&&$!==void 0?$:1}getWindowId(J){return J.vscodeWindowId}}class cS{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){if(!this._pixelRatioMonitor)this._pixelRatioMonitor=SZ(new uS);return this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function pM(J,$,Q){if(typeof $==="string")$=J.matchMedia($);$.addEventListener("change",Q)}function lS(J){return sB.INSTANCE.getZoomFactor(J)}function dS(){return dB}var mS,uS,$3,Q3,i5,UJ,H$,f7,aB,Q30,mM,dB=!1;var M7=E(()=>{H8();E0();B0();sB.INSTANCE=new sB;mS=class mS extends r{constructor(){super();this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(J){var $;if(($=this._mediaQueryList)===null||$===void 0||$.removeEventListener("change",this._listener),this._mediaQueryList=MQ.matchMedia(`(resolution: ${MQ.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),J)this._onDidChange.fire()}};uS=class uS extends r{get value(){return this._value}constructor(){super();this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();let J=this._register(new mS);this._register(J.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){let J=document.createElement("canvas").getContext("2d"),$=MQ.devicePixelRatio||1,Q=J.webkitBackingStorePixelRatio||J.mozBackingStorePixelRatio||J.msBackingStorePixelRatio||J.oBackingStorePixelRatio||J.backingStorePixelRatio||1;return $/Q}};$3=new cS;Q3=navigator.userAgent,i5=Q3.indexOf("Firefox")>=0,UJ=Q3.indexOf("AppleWebKit")>=0,H$=Q3.indexOf("Chrome")>=0,f7=!H$&&Q3.indexOf("Safari")>=0,aB=!H$&&!f7&&UJ,Q30=Q3.indexOf("Electron/")>=0,mM=Q3.indexOf("Android")>=0;if(typeof F1.matchMedia==="function"){let J=F1.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),$=F1.matchMedia("(display-mode: fullscreen)");dB=J.matches,pM(F1,J,({matches:Q})=>{if(dB&&$.matches)return;dB=Q})}});class rB{constructor(J){this.domNode=J,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(J){let $=zJ(J);if(this._maxWidth===$)return;this._maxWidth=$,this.domNode.style.maxWidth=this._maxWidth}setWidth(J){let $=zJ(J);if(this._width===$)return;this._width=$,this.domNode.style.width=this._width}setHeight(J){let $=zJ(J);if(this._height===$)return;this._height=$,this.domNode.style.height=this._height}setTop(J){let $=zJ(J);if(this._top===$)return;this._top=$,this.domNode.style.top=this._top}setLeft(J){let $=zJ(J);if(this._left===$)return;this._left=$,this.domNode.style.left=this._left}setBottom(J){let $=zJ(J);if(this._bottom===$)return;this._bottom=$,this.domNode.style.bottom=this._bottom}setRight(J){let $=zJ(J);if(this._right===$)return;this._right=$,this.domNode.style.right=this._right}setPaddingLeft(J){let $=zJ(J);if(this._paddingLeft===$)return;this._paddingLeft=$,this.domNode.style.paddingLeft=this._paddingLeft}setFontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.domNode.style.fontFamily=this._fontFamily}setFontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.domNode.style.fontWeight=this._fontWeight}setFontSize(J){let $=zJ(J);if(this._fontSize===$)return;this._fontSize=$,this.domNode.style.fontSize=this._fontSize}setFontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J,this.domNode.style.fontStyle=this._fontStyle}setFontFeatureSettings(J){if(this._fontFeatureSettings===J)return;this._fontFeatureSettings=J,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings}setFontVariationSettings(J){if(this._fontVariationSettings===J)return;this._fontVariationSettings=J,this.domNode.style.fontVariationSettings=this._fontVariationSettings}setTextDecoration(J){if(this._textDecoration===J)return;this._textDecoration=J,this.domNode.style.textDecoration=this._textDecoration}setLineHeight(J){let $=zJ(J);if(this._lineHeight===$)return;this._lineHeight=$,this.domNode.style.lineHeight=this._lineHeight}setLetterSpacing(J){let $=zJ(J);if(this._letterSpacing===$)return;this._letterSpacing=$,this.domNode.style.letterSpacing=this._letterSpacing}setClassName(J){if(this._className===J)return;this._className=J,this.domNode.className=this._className}toggleClassName(J,$){this.domNode.classList.toggle(J,$),this._className=this.domNode.className}setDisplay(J){if(this._display===J)return;this._display=J,this.domNode.style.display=this._display}setPosition(J){if(this._position===J)return;this._position=J,this.domNode.style.position=this._position}setVisibility(J){if(this._visibility===J)return;this._visibility=J,this.domNode.style.visibility=this._visibility}setColor(J){if(this._color===J)return;this._color=J,this.domNode.style.color=this._color}setBackgroundColor(J){if(this._backgroundColor===J)return;this._backgroundColor=J,this.domNode.style.backgroundColor=this._backgroundColor}setLayerHinting(J){if(this._layerHint===J)return;this._layerHint=J,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":""}setBoxShadow(J){if(this._boxShadow===J)return;this._boxShadow=J,this.domNode.style.boxShadow=J}setContain(J){if(this._contain===J)return;this._contain=J,this.domNode.style.contain=this._contain}setAttribute(J,$){this.domNode.setAttribute(J,$)}removeAttribute(J){this.domNode.removeAttribute(J)}appendChild(J){this.domNode.appendChild(J.domNode)}removeChild(J){this.domNode.removeChild(J.domNode)}}function zJ(J){return typeof J==="number"?`${J}px`:J}function q1(J){return new rB(J)}function h6(J,$){if(J instanceof rB)J.setFontFamily($.getMassagedFontFamily()),J.setFontWeight($.fontWeight),J.setFontSize($.fontSize),J.setFontFeatureSettings($.fontFeatureSettings),J.setFontVariationSettings($.fontVariationSettings),J.setLineHeight($.lineHeight),J.setLetterSpacing($.letterSpacing);else J.style.fontFamily=$.getMassagedFontFamily(),J.style.fontWeight=$.fontWeight,J.style.fontSize=$.fontSize+"px",J.style.fontFeatureSettings=$.fontFeatureSettings,J.style.fontVariationSettings=$.fontVariationSettings,J.style.lineHeight=$.lineHeight+"px",J.style.letterSpacing=$.letterSpacing+"px"}var P4=()=>{};class uM{constructor(J,$){this.chr=J,this.type=$,this.width=0}fulfill(J){this.width=J}}class cM{constructor(J,$){this._bareFontInfo=J,this._requests=$,this._container=null,this._testElements=null}read(){this._createDomElements(),MQ.document.body.appendChild(this._container),this._readFromDomElements(),MQ.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){let J=document.createElement("div");J.style.position="absolute",J.style.top="-50000px",J.style.width="50000px";let $=document.createElement("div");h6($,this._bareFontInfo),J.appendChild($);let Q=document.createElement("div");h6(Q,this._bareFontInfo),Q.style.fontWeight="bold",J.appendChild(Q);let X=document.createElement("div");h6(X,this._bareFontInfo),X.style.fontStyle="italic",J.appendChild(X);let Y=[];for(let Z of this._requests){let G;if(Z.type===0)G=$;if(Z.type===2)G=Q;if(Z.type===1)G=X;G.appendChild(document.createElement("br"));let q=document.createElement("span");cM._render(q,Z),G.appendChild(q),Y.push(q)}this._container=J,this._testElements=Y}static _render(J,$){if($.chr===" "){let Q=" ";for(let X=0;X<8;X++)Q+=Q;J.innerText=Q}else{let Q=$.chr;for(let X=0;X<8;X++)Q+=Q;J.textContent=Q}}_readFromDomElements(){for(let J=0,$=this._requests.length;J<$;J++){let Q=this._requests[J],X=this._testElements[J];Q.fulfill(X.offsetWidth/256)}}}function sS(J,$){new cM(J,$).read()}var aS=E(()=>{H8();P4()});var D4;var Wz=E(()=>{E0();D4=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new p,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(J){if(J=Math.min(Math.max(-5,J),20),this._zoomLevel===J)return;this._zoomLevel=J,this._onDidChangeZoomLevel.fire(this._zoomLevel)}}});class LQ{static createFromValidatedSettings(J,$,Q){let X=J.get(49),Y=J.get(53),Z=J.get(52),G=J.get(51),q=J.get(54),U=J.get(66),z=J.get(63);return LQ._create(X,Y,Z,G,q,U,z,$,Q)}static _create(J,$,Q,X,Y,Z,G,q,U){if(Z===0)Z=K60*Q;else if(Z<lM)Z=Z*Q;if(Z=Math.round(Z),Z<lM)Z=lM;let z=1+(U?0:D4.getZoomLevel()*0.1);if(Q*=z,Z*=z,Y===W4.TRANSLATE)if($==="normal"||$==="bold")Y=W4.OFF;else Y=`'wght' ${parseInt($,10)}`,$="normal";return new LQ({pixelRatio:q,fontFamily:J,fontWeight:$,fontSize:Q,fontFeatureSettings:X,fontVariationSettings:Y,lineHeight:Z,letterSpacing:G})}constructor(J){this._bareFontInfoBrand=void 0,this.pixelRatio=J.pixelRatio,this.fontFamily=String(J.fontFamily),this.fontWeight=String(J.fontWeight),this.fontSize=J.fontSize,this.fontFeatureSettings=J.fontFeatureSettings,this.fontVariationSettings=J.fontVariationSettings,this.lineHeight=J.lineHeight|0,this.letterSpacing=J.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){let J=g8.fontFamily,$=LQ._wrapInQuotes(this.fontFamily);if(J&&this.fontFamily!==J)return`${$}, ${J}`;return $}static _wrapInQuotes(J){if(/[,"']/.test(J))return J;if(/[+ ]/.test(J))return`"${J}"`;return J}}var K60,lM=8,A60=2,X3;var iB=E(()=>{E1();U8();Wz();K60=$1?1.5:1.35;X3=class X3 extends LQ{constructor(J,$){super(J);this._editorStylingBrand=void 0,this.version=A60,this.isTrusted=$,this.isMonospace=J.isMonospace,this.typicalHalfwidthCharacterWidth=J.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=J.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=J.canUseHalfwidthRightwardsArrow,this.spaceWidth=J.spaceWidth,this.middotWidth=J.middotWidth,this.wsmiddotWidth=J.wsmiddotWidth,this.maxDigitWidth=J.maxDigitWidth}equals(J){return this.fontFamily===J.fontFamily&&this.fontWeight===J.fontWeight&&this.fontSize===J.fontSize&&this.fontFeatureSettings===J.fontFeatureSettings&&this.fontVariationSettings===J.fontVariationSettings&&this.lineHeight===J.lineHeight&&this.letterSpacing===J.letterSpacing&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===J.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.maxDigitWidth===J.maxDigitWidth}}});class dM{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(J){let $=J.getId();return!!this._values[$]}get(J){let $=J.getId();return this._values[$]}put(J,$){let Q=J.getId();this._keys[Q]=J,this._values[Q]=$}remove(J){let $=J.getId();delete this._keys[$],delete this._values[$]}getValues(){return Object.keys(this._keys).map((J)=>this._values[J])}}var rS,Bz;var sM=E(()=>{M7();H8();E0();B0();aS();U8();iB();rS=class rS extends r{constructor(){super();this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._cache=new dM,this._evictUntrustedReadingsTimeout=-1}dispose(){if(this._evictUntrustedReadingsTimeout!==-1)clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1;super.dispose()}clearAllFontInfos(){this._cache=new dM,this._onDidChange.fire()}_writeToCache(J,$){if(this._cache.put(J,$),!$.isTrusted&&this._evictUntrustedReadingsTimeout===-1)this._evictUntrustedReadingsTimeout=F1.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5000)}_evictUntrustedReadings(){let J=this._cache.getValues(),$=!1;for(let Q of J)if(!Q.isTrusted)$=!0,this._cache.remove(Q);if($)this._onDidChange.fire()}readFontInfo(J){if(!this._cache.has(J)){let $=this._actualReadFontInfo(J);if($.typicalHalfwidthCharacterWidth<=2||$.typicalFullwidthCharacterWidth<=2||$.spaceWidth<=2||$.maxDigitWidth<=2)$=new X3({pixelRatio:$3.value,fontFamily:$.fontFamily,fontWeight:$.fontWeight,fontSize:$.fontSize,fontFeatureSettings:$.fontFeatureSettings,fontVariationSettings:$.fontVariationSettings,lineHeight:$.lineHeight,letterSpacing:$.letterSpacing,isMonospace:$.isMonospace,typicalHalfwidthCharacterWidth:Math.max($.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max($.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:$.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max($.spaceWidth,5),middotWidth:Math.max($.middotWidth,5),wsmiddotWidth:Math.max($.wsmiddotWidth,5),maxDigitWidth:Math.max($.maxDigitWidth,5)},!1);this._writeToCache(J,$)}return this._cache.get(J)}_createRequest(J,$,Q,X){let Y=new uM(J,$);return Q.push(Y),X===null||X===void 0||X.push(Y),Y}_actualReadFontInfo(J){let $=[],Q=[],X=this._createRequest("n",0,$,Q),Y=this._createRequest("ｍ",0,$,null),Z=this._createRequest(" ",0,$,Q),G=this._createRequest("0",0,$,Q),q=this._createRequest("1",0,$,Q),U=this._createRequest("2",0,$,Q),z=this._createRequest("3",0,$,Q),H=this._createRequest("4",0,$,Q),j=this._createRequest("5",0,$,Q),B=this._createRequest("6",0,$,Q),V=this._createRequest("7",0,$,Q),W=this._createRequest("8",0,$,Q),K=this._createRequest("9",0,$,Q),A=this._createRequest("→",0,$,Q),F=this._createRequest("￫",0,$,null),P=this._createRequest("·",0,$,Q),R=this._createRequest(String.fromCharCode(11825),0,$,null),D="|/-_ilm%";for(let T=0,I=8;T<I;T++)this._createRequest("|/-_ilm%".charAt(T),0,$,Q),this._createRequest("|/-_ilm%".charAt(T),1,$,Q),this._createRequest("|/-_ilm%".charAt(T),2,$,Q);sS(J,$);let _=Math.max(G.width,q.width,U.width,z.width,H.width,j.width,B.width,V.width,W.width,K.width),O=J.fontFeatureSettings===X7.OFF,N=Q[0].width;for(let T=1,I=Q.length;O&&T<I;T++){let k=N-Q[T].width;if(k<-0.001||k>0.001){O=!1;break}}let w=!0;if(O&&F.width!==N)w=!1;if(F.width>A.width)w=!1;return new X3({pixelRatio:$3.value,fontFamily:J.fontFamily,fontWeight:J.fontWeight,fontSize:J.fontSize,fontFeatureSettings:J.fontFeatureSettings,fontVariationSettings:J.fontVariationSettings,lineHeight:J.lineHeight,letterSpacing:J.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:X.width,typicalFullwidthCharacterWidth:Y.width,canUseHalfwidthRightwardsArrow:w,spaceWidth:Z.width,middotWidth:P.width,wsmiddotWidth:R.width,maxDigitWidth:_},!0)}};Bz=new rS});function P60(J,$,Q){if($[R4.DI_TARGET]===$)$[R4.DI_DEPENDENCIES].push({id:J,index:Q});else $[R4.DI_DEPENDENCIES]=[{id:J,index:Q}],$[R4.DI_TARGET]=$}function b0(J){if(R4.serviceIds.has(J))return R4.serviceIds.get(J);let $=function(Q,X,Y){if(arguments.length!==3)throw Error("@IServiceName-decorator can only be used to decorate a parameter");P60($,Q,Y)};return $.toString=()=>J,R4.serviceIds.set(J,$),$}var R4,r0;var n0=E(()=>{(function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies";function $(Q){return Q[J.DI_DEPENDENCIES]||[]}J.getServiceDependencies=$})(R4||(R4={}));r0=b0("instantiationService")});var X6;var V9=E(()=>{n0();X6=b0("codeEditorService")});var _5;var kQ=E(()=>{n0();_5=b0("modelService")});var EQ;var Fz=E(()=>{n0();EQ=b0("textModelService")});class Y5{constructor(){this.id=Y5.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...J){let $=[];for(let Q of J)if(!Q.length);else if($.length)$=[...$,new Y5,...Q];else $=Q;return $}async run(){}}class IQ{get actions(){return this._actions}constructor(J,$,Q,X){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=J,this.label=$,this.class=X,this._actions=Q}async run(){}}function lZ(J){var $,Q;return{id:J.id,label:J.label,class:J.class,enabled:($=J.enabled)!==null&&$!==void 0?$:!0,checked:(Q=J.checked)!==null&&Q!==void 0?Q:!1,run:async(...X)=>J.run(...X),tooltip:J.label}}var O7,W9,Kz;var Z7=E(()=>{E0();B0();a0();O7=class O7 extends r{constructor(J,$="",Q="",X=!0,Y){super();this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=J,this._label=$,this._cssClass=Q,this._enabled=X,this._actionCallback=Y}get id(){return this._id}get label(){return this._label}set label(J){this._setLabel(J)}_setLabel(J){if(this._label!==J)this._label=J,this._onDidChange.fire({label:J})}get tooltip(){return this._tooltip||""}set tooltip(J){this._setTooltip(J)}_setTooltip(J){if(this._tooltip!==J)this._tooltip=J,this._onDidChange.fire({tooltip:J})}get class(){return this._cssClass}set class(J){this._setClass(J)}_setClass(J){if(this._cssClass!==J)this._cssClass=J,this._onDidChange.fire({class:J})}get enabled(){return this._enabled}set enabled(J){this._setEnabled(J)}_setEnabled(J){if(this._enabled!==J)this._enabled=J,this._onDidChange.fire({enabled:J})}get checked(){return this._checked}set checked(J){this._setChecked(J)}_setChecked(J){if(this._checked!==J)this._checked=J,this._onDidChange.fire({checked:J})}async run(J,$){if(this._actionCallback)await this._actionCallback(J)}};W9=class W9 extends r{constructor(){super(...arguments);this._onWillRun=this._register(new p),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new p),this.onDidRun=this._onDidRun.event}async run(J,$){if(!J.enabled)return;this._onWillRun.fire({action:J});let Q=void 0;try{await this.runAction(J,$)}catch(X){Q=X}this._onDidRun.fire({action:J,error:Q})}async runAction(J,$){await J.run($)}};Y5.ID="vs.actions.separator";Kz=class Kz extends O7{constructor(){super(Kz.ID,M("submenu.empty","(empty)"),void 0,!1)}};Kz.ID="vs.actions.empty"});var aM,c0;var N5=E(()=>{O5();(function(J){function $(Q){return Q&&typeof Q==="object"&&typeof Q.id==="string"}J.isThemeColor=$})(aM||(aM={}));(function(J){J.iconNameSegment="[A-Za-z0-9]+",J.iconNameExpression="[A-Za-z0-9-]+",J.iconModifierExpression="~[A-Za-z]+",J.iconNameCharacter="[A-Za-z0-9~-]";let $=new RegExp(`^(${J.iconNameExpression})(${J.iconModifierExpression})?$`);function Q(B){let V=$.exec(B.id);if(!V)return Q(O0.error);let[,W,K]=V,A=["codicon","codicon-"+W];if(K)A.push("codicon-modifier-"+K.substring(1));return A}J.asClassNameArray=Q;function X(B){return Q(B).join(" ")}J.asClassName=X;function Y(B){return"."+Q(B).join(".")}J.asCSSSelector=Y;function Z(B){return B&&typeof B==="object"&&typeof B.id==="string"&&(typeof B.color>"u"||aM.isThemeColor(B.color))}J.isThemeIcon=Z;let G=new RegExp(`^\\$\\((${J.iconNameExpression}(?:${J.iconModifierExpression})?)\\)$`);function q(B){let V=G.exec(B);if(!V)return;let[,W]=V;return{id:W}}J.fromString=q;function U(B){return{id:B}}J.fromId=U;function z(B,V){let W=B.id,K=W.lastIndexOf("~");if(K!==-1)W=W.substring(0,K);if(V)W=`${W}~${V}`;return{id:W}}J.modify=z;function H(B){let V=B.id.lastIndexOf("~");if(V!==-1)return B.id.substring(V+1);return}J.getModifier=H;function j(B,V){var W,K;return B.id===V.id&&((W=B.color)===null||W===void 0?void 0:W.id)===((K=V.color)===null||K===void 0?void 0:K.id)}J.isEqual=j})(c0||(c0={}))});var T5,O6;var G7=E(()=>{E0();b9();B0();S9();n0();T5=b0("commandService"),O6=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new p,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(J,$){if(!J)throw Error("invalid command");if(typeof J==="string"){if(!$)throw Error("invalid command");return this.registerCommand({id:J,handler:$})}if(J.metadata&&Array.isArray(J.metadata.args)){let G=[];for(let U of J.metadata.args)G.push(U.constraint);let q=J.handler;J.handler=function(U,...z){return Gb(z,G),q(U,...z)}}let{id:Q}=J,X=this._commands.get(Q);if(!X)X=new l6,this._commands.set(Q,X);let Y=X.unshift(J),Z=y0(()=>{Y();let G=this._commands.get(Q);if(G===null||G===void 0?void 0:G.isEmpty())this._commands.delete(Q)});return this._onDidRegisterCommand.fire(Q),Z}registerCommandAlias(J,$){return O6.registerCommand(J,(Q,...X)=>Q.get(T5).executeCommand($,...X))}getCommand(J){let $=this._commands.get(J);if(!$||$.isEmpty())return;return D1.first($)}getCommands(){let J=new Map;for(let $ of this._commands.keys()){let Q=this.getCommand($);if(Q)J.set($,Q)}return J}};O6.registerCommand("noop",()=>{})});function rM(...J){switch(J.length){case 1:return M("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",J[0]);case 2:return M("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",J[0],J[1]);case 3:return M("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",J[0],J[1],J[2]);default:return}}class HJ{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(J){switch(J.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return J.isTripleEq?"===":"==";case 4:return J.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return J.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return J.lexeme;case 18:return J.lexeme;case 19:return J.lexeme;case 20:return"EOF";default:throw lG(`unhandled token type: ${JSON.stringify(J)}; have you forgotten to add a case?`)}}reset(J){return this._input=J,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){while(!this._isAtEnd())switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let $=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:$})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let $=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:$})}else if(this._match(126))this._addToken(9);else this._error(rM("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:if(this._match(38))this._addToken(15);else this._error(rM("&&"));break;case 124:if(this._match(124))this._addToken(16);else this._error(rM("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(J){if(this._isAtEnd())return!1;if(this._input.charCodeAt(this._current)!==J)return!1;return this._current++,!0}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(J){this._tokens.push({type:J,offset:this._start})}_error(J){let $=this._start,Q=this._input.substring(this._start,this._current),X={type:19,offset:this._start,lexeme:Q};this._errors.push({offset:$,lexeme:Q,additionalInfo:J}),this._tokens.push(X)}_string(){this.stringRe.lastIndex=this._start;let J=this.stringRe.exec(this._input);if(J){this._current=this._start+J[0].length;let $=this._input.substring(this._start,this._current),Q=HJ._keywords.get($);if(Q)this._addToken(Q);else this._tokens.push({type:17,lexeme:$,offset:this._start})}}_quotedString(){while(this._peek()!==39&&!this._isAtEnd())this._advance();if(this._isAtEnd()){this._error(D60);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let J=this._current,$=!1,Q=!1;while(!0){if(J>=this._input.length){this._current=J,this._error(R60);return}let Y=this._input.charCodeAt(J);if($)$=!1;else if(Y===47&&!Q){J++;break}else if(Y===91)Q=!0;else if(Y===92)$=!0;else if(Y===93)Q=!1;J++}while(J<this._input.length&&HJ._regexFlags.has(this._input.charCodeAt(J)))J++;this._current=J;let X=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:X,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var D60,R60;var iS=E(()=>{T1();a0();D60=M("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),R60=M("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");HJ._regexFlags=new Set(["i","g","s","m","y","u"].map((J)=>J.charCodeAt(0)));HJ._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])});class dZ{constructor(J=O60){this._config=J,this._scanner=new HJ,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(J){if(J===""){this._parsingErrors.push({message:_60,offset:0,lexeme:"",additionalInfo:N60});return}this._tokens=this._scanner.reset(J).scan(),this._current=0,this._parsingErrors=[];try{let $=this._expr();if(!this._isAtEnd()){let Q=this._peek(),X=Q.type===17?L60:void 0;throw this._parsingErrors.push({message:w60,offset:Q.offset,lexeme:HJ.getLexeme(Q),additionalInfo:X}),dZ._parseError}return $}catch($){if($!==dZ._parseError)throw $;return}}_expr(){return this._or()}_or(){let J=[this._and()];while(this._matchOne(16)){let $=this._and();J.push($)}return J.length===1?J[0]:v0.or(...J)}_and(){let J=[this._term()];while(this._matchOne(15)){let $=this._term();J.push($)}return J.length===1?J[0]:v0.and(...J)}_term(){if(this._matchOne(2)){let J=this._peek();switch(J.type){case 11:return this._advance(),c8.INSTANCE;case 12:return this._advance(),q7.INSTANCE;case 0:{this._advance();let $=this._expr();return this._consume(1,nS),$===null||$===void 0?void 0:$.negate()}case 17:return this._advance(),rZ.create(J.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",J)}}return this._primary()}_primary(){let J=this._peek();switch(J.type){case 11:return this._advance(),v0.true();case 12:return this._advance(),v0.false();case 0:{this._advance();let $=this._expr();return this._consume(1,nS),$}case 17:{let $=J.lexeme;if(this._advance(),this._matchOne(9)){let X=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),X.type!==10)throw this._errExpectedButGot("REGEX",X);let Y=X.lexeme,Z=Y.lastIndexOf("/"),G=Z===Y.length-1?void 0:this._removeFlagsGY(Y.substring(Z+1)),q;try{q=new RegExp(Y.substring(1,Z),G)}catch(U){throw this._errExpectedButGot("REGEX",X)}return Pz.create($,q)}switch(X.type){case 10:case 19:{let Y=[X.lexeme];this._advance();let Z=this._peek(),G=0;for(let j=0;j<X.lexeme.length;j++)if(X.lexeme.charCodeAt(j)===40)G++;else if(X.lexeme.charCodeAt(j)===41)G--;while(!this._isAtEnd()&&Z.type!==15&&Z.type!==16){switch(Z.type){case 0:G++;break;case 1:G--;break;case 10:case 18:for(let j=0;j<Z.lexeme.length;j++)if(Z.lexeme.charCodeAt(j)===40)G++;else if(X.lexeme.charCodeAt(j)===41)G--}if(G<0)break;Y.push(HJ.getLexeme(Z)),this._advance(),Z=this._peek()}let q=Y.join(""),U=q.lastIndexOf("/"),z=U===q.length-1?void 0:this._removeFlagsGY(q.substring(U+1)),H;try{H=new RegExp(q.substring(1,U),z)}catch(j){throw this._errExpectedButGot("REGEX",X)}return v0.regex($,H)}case 18:{let Y=X.lexeme;this._advance();let Z=null;if(!fB(Y)){let G=Y.indexOf("/"),q=Y.lastIndexOf("/");if(G!==q&&G>=0){let U=Y.slice(G+1,q),z=Y[q+1]==="i"?"i":"";try{Z=new RegExp(U,z)}catch(H){throw this._errExpectedButGot("REGEX",X)}}}if(Z===null)throw this._errExpectedButGot("REGEX",X);return Pz.create($,Z)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,T60);let X=this._value();return v0.notIn($,X)}switch(this._peek().type){case 3:{this._advance();let X=this._value();if(this._previous().type===18)return v0.equals($,X);switch(X){case"true":return v0.has($);case"false":return v0.not($);default:return v0.equals($,X)}}case 4:{this._advance();let X=this._value();if(this._previous().type===18)return v0.notEquals($,X);switch(X){case"true":return v0.not($);case"false":return v0.has($);default:return v0.notEquals($,X)}}case 5:return this._advance(),XF.create($,this._value());case 6:return this._advance(),YF.create($,this._value());case 7:return this._advance(),$F.create($,this._value());case 8:return this._advance(),QF.create($,this._value());case 13:return this._advance(),v0.in($,this._value());default:return v0.has($)}}case 20:throw this._parsingErrors.push({message:k60,offset:J.offset,lexeme:"",additionalInfo:E60}),dZ._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let J=this._peek();switch(J.type){case 17:case 18:return this._advance(),J.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(J){return J.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(J){if(this._check(J))return this._advance(),!0;return!1}_advance(){if(!this._isAtEnd())this._current++;return this._previous()}_consume(J,$){if(this._check(J))return this._advance();throw this._errExpectedButGot($,this._peek())}_errExpectedButGot(J,$,Q){let X=M("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,J,HJ.getLexeme($)),Y=$.offset,Z=HJ.getLexeme($);return this._parsingErrors.push({message:X,offset:Y,lexeme:Z,additionalInfo:Q}),dZ._parseError}_check(J){return this._peek().type===J}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}class v0{static false(){return c8.INSTANCE}static true(){return q7.INSTANCE}static has(J){return aZ.create(J)}static equals(J,$){return Dz.create(J,$)}static notEquals(J,$){return eB.create(J,$)}static regex(J,$){return Pz.create(J,$)}static in(J,$){return oB.create(J,$)}static notIn(J,$){return tB.create(J,$)}static not(J){return rZ.create(J)}static and(...J){return sZ.create(J,null,!0)}static or(...J){return yQ.create(J,null,!0)}static deserialize(J){if(J===void 0||J===null)return;return this._parser.parse(J)}}function eS(J,$){let Q=J?J.substituteConstants():void 0,X=$?$.substituteConstants():void 0;if(!Q&&!X)return!0;if(!Q||!X)return!1;return Q.equals(X)}function Az(J,$){return J.cmp($)}class c8{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return q7.INSTANCE}}class q7{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return c8.INSTANCE}}class aZ{static create(J,$=null){let Q=L8.get(J);if(typeof Q==="boolean")return Q?q7.INSTANCE:c8.INSTANCE;return new aZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=2}cmp(J){if(J.type!==this.type)return this.type-J.type;return $C(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){let J=L8.get(this.key);if(typeof J==="boolean")return J?q7.INSTANCE:c8.INSTANCE;return this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){if(!this.negated)this.negated=rZ.create(this.key,this);return this.negated}}class Dz{static create(J,$,Q=null){if(typeof $==="boolean")return $?aZ.create(J,Q):rZ.create(J,Q);let X=L8.get(J);if(typeof X==="boolean")return $===(X?"true":"false")?q7.INSTANCE:c8.INSTANCE;return new Dz(J,$,Q)}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=4}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){let J=L8.get(this.key);if(typeof J==="boolean"){let $=J?"true":"false";return this.value===$?q7.INSTANCE:c8.INSTANCE}return this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=eB.create(this.key,this.value,this);return this.negated}}class oB{static create(J,$){return new oB(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=10,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.valueKey,J.key,J.valueKey)}equals(J){if(J.type===this.type)return this.key===J.key&&this.valueKey===J.valueKey;return!1}substituteConstants(){return this}evaluate(J){let $=J.getValue(this.valueKey),Q=J.getValue(this.key);if(Array.isArray($))return $.includes(Q);if(typeof Q==="string"&&typeof $==="object"&&$!==null)return M60.call($,Q);return!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){if(!this.negated)this.negated=tB.create(this.key,this.valueKey);return this.negated}}class tB{static create(J,$){return new tB(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=11,this._negated=oB.create(J,$)}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._negated.cmp(J._negated)}equals(J){if(J.type===this.type)return this._negated.equals(J._negated);return!1}substituteConstants(){return this}evaluate(J){return!this._negated.evaluate(J)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class eB{static create(J,$,Q=null){if(typeof $==="boolean"){if($)return rZ.create(J,Q);return aZ.create(J,Q)}let X=L8.get(J);if(typeof X==="boolean")return $===(X?"true":"false")?c8.INSTANCE:q7.INSTANCE;return new eB(J,$,Q)}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=5}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){let J=L8.get(this.key);if(typeof J==="boolean"){let $=J?"true":"false";return this.value===$?c8.INSTANCE:q7.INSTANCE}return this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=Dz.create(this.key,this.value,this);return this.negated}}class rZ{static create(J,$=null){let Q=L8.get(J);if(typeof Q==="boolean")return Q?c8.INSTANCE:q7.INSTANCE;return new rZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=3}cmp(J){if(J.type!==this.type)return this.type-J.type;return $C(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){let J=L8.get(this.key);if(typeof J==="boolean")return J?c8.INSTANCE:q7.INSTANCE;return this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=aZ.create(this.key,this);return this.negated}}function JF(J,$){if(typeof J==="string"){let Q=parseFloat(J);if(!isNaN(Q))J=Q}if(typeof J==="string"||typeof J==="number")return $(J);return c8.INSTANCE}class $F{static create(J,$,Q=null){return JF($,(X)=>new $F(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=12}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=YF.create(this.key,this.value,this);return this.negated}}class QF{static create(J,$,Q=null){return JF($,(X)=>new QF(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=13}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=XF.create(this.key,this.value,this);return this.negated}}class XF{static create(J,$,Q=null){return JF($,(X)=>new XF(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=14}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=QF.create(this.key,this.value,this);return this.negated}}class YF{static create(J,$,Q=null){return JF($,(X)=>new YF(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=15}cmp(J){if(J.type!==this.type)return this.type-J.type;return iZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=$F.create(this.key,this.value,this);return this.negated}}class Pz{static create(J,$){return new Pz(J,$)}constructor(J,$){this.key=J,this.regexp=$,this.type=7,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;let $=this.regexp?this.regexp.source:"",Q=J.regexp?J.regexp.source:"";if($<Q)return-1;if($>Q)return 1;return 0}equals(J){if(J.type===this.type){let $=this.regexp?this.regexp.source:"",Q=J.regexp?J.regexp.source:"";return this.key===J.key&&$===Q}return!1}substituteConstants(){return this}evaluate(J){let $=J.getValue(this.key);return this.regexp?this.regexp.test($):!1}serialize(){let J=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${J}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=iM.create(this);return this.negated}}class iM{static create(J){return new iM(J)}constructor(J){this._actual=J,this.type=8}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._actual.cmp(J._actual)}equals(J){if(J.type===this.type)return this._actual.equals(J._actual);return!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function JC(J){let $=null;for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q].substituteConstants();if(J[Q]!==Y){if($===null){$=[];for(let Z=0;Z<Q;Z++)$[Z]=J[Z]}}if($!==null)$[Q]=Y}if($===null)return J;return $}class sZ{static create(J,$,Q){return sZ._normalizeArr(J,$,Q)}constructor(J,$){this.expr=J,this.negated=$,this.type=6}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,Q=this.expr.length;$<Q;$++){let X=Az(this.expr[$],J.expr[$]);if(X!==0)return X}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,Q=this.expr.length;$<Q;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){let J=JC(this.expr);if(J===this.expr)return this;return sZ.create(J,this.negated,!1)}evaluate(J){for(let $=0,Q=this.expr.length;$<Q;$++)if(!this.expr[$].evaluate(J))return!1;return!0}static _normalizeArr(J,$,Q){let X=[],Y=!1;for(let Z of J){if(!Z)continue;if(Z.type===1){Y=!0;continue}if(Z.type===0)return c8.INSTANCE;if(Z.type===6){X.push(...Z.expr);continue}X.push(Z)}if(X.length===0&&Y)return q7.INSTANCE;if(X.length===0)return;if(X.length===1)return X[0];X.sort(Az);for(let Z=1;Z<X.length;Z++)if(X[Z-1].equals(X[Z]))X.splice(Z,1),Z--;if(X.length===1)return X[0];while(X.length>1){let Z=X[X.length-1];if(Z.type!==9)break;X.pop();let G=X.pop(),q=X.length===0,U=yQ.create(Z.expr.map((z)=>sZ.create([z,G],null,Q)),null,q);if(U)X.push(U),X.sort(Az)}if(X.length===1)return X[0];if(Q){for(let Z=0;Z<X.length;Z++)for(let G=Z+1;G<X.length;G++)if(X[Z].negate().equals(X[G]))return c8.INSTANCE;if(X.length===1)return X[0]}return new sZ(X,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" && ")}keys(){let J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){let J=[];for(let $ of this.expr)J.push($.negate());this.negated=yQ.create(J,this,!0)}return this.negated}}class yQ{static create(J,$,Q){return yQ._normalizeArr(J,$,Q)}constructor(J,$){this.expr=J,this.negated=$,this.type=9}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,Q=this.expr.length;$<Q;$++){let X=Az(this.expr[$],J.expr[$]);if(X!==0)return X}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,Q=this.expr.length;$<Q;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){let J=JC(this.expr);if(J===this.expr)return this;return yQ.create(J,this.negated,!1)}evaluate(J){for(let $=0,Q=this.expr.length;$<Q;$++)if(this.expr[$].evaluate(J))return!0;return!1}static _normalizeArr(J,$,Q){let X=[],Y=!1;if(J){for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z];if(!q)continue;if(q.type===0){Y=!0;continue}if(q.type===1)return q7.INSTANCE;if(q.type===9){X=X.concat(q.expr);continue}X.push(q)}if(X.length===0&&Y)return c8.INSTANCE;X.sort(Az)}if(X.length===0)return;if(X.length===1)return X[0];for(let Z=1;Z<X.length;Z++)if(X[Z-1].equals(X[Z]))X.splice(Z,1),Z--;if(X.length===1)return X[0];if(Q){for(let Z=0;Z<X.length;Z++)for(let G=Z+1;G<X.length;G++)if(X[Z].negate().equals(X[G]))return q7.INSTANCE;if(X.length===1)return X[0]}return new yQ(X,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" || ")}keys(){let J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){let J=[];for(let $ of this.expr)J.push($.negate());while(J.length>1){let $=J.shift(),Q=J.shift(),X=[];for(let Y of tS($))for(let Z of tS(Q))X.push(sZ.create([Y,Z],null,!1));J.unshift(yQ.create(X,null,!1))}this.negated=yQ.create(J,this,!0)}return this.negated}}function $C(J,$){if(J<$)return-1;if(J>$)return 1;return 0}function iZ(J,$,Q,X){if(J<Q)return-1;if(J>Q)return 1;if($<X)return-1;if($>X)return 1;return 0}function nB(J,$){if(J.type===0||$.type===1)return!0;if(J.type===9){if($.type===9)return oS(J.expr,$.expr);return!1}if($.type===9){for(let Q of $.expr)if(nB(J,Q))return!0;return!1}if(J.type===6){if($.type===6)return oS($.expr,J.expr);for(let Q of J.expr)if(nB(Q,$))return!0;return!1}return J.equals($)}function oS(J,$){let Q=0,X=0;while(Q<J.length&&X<$.length){let Y=J[Q].cmp($[X]);if(Y<0)return!1;else if(Y===0)Q++,X++;else X++}return Q===J.length}function tS(J){if(J.type===9)return J.expr;return[J]}var L8,M60,O60,_60,N60,T60,nS,w60,L60,k60,E60,T0,s0;var e1=E(()=>{E1();G1();iS();n0();a0();L8=new Map;L8.set("false",!1);L8.set("true",!0);L8.set("isMac",$1);L8.set("isLinux",w6);L8.set("isWindows",c6);L8.set("isWeb",Q$);L8.set("isMacNative",$1&&!Q$);L8.set("isEdge",Mb);L8.set("isFirefox",Db);L8.set("isChrome",jM);L8.set("isSafari",Rb);M60=Object.prototype.hasOwnProperty,O60={regexParsingWithErrorRecovery:!0},_60=M("contextkey.parser.error.emptyString","Empty context key expression"),N60=M("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),T60=M("contextkey.parser.error.noInAfterNot","'in' after 'not'."),nS=M("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),w60=M("contextkey.parser.error.unexpectedToken","Unexpected token"),L60=M("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),k60=M("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),E60=M("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");dZ._parseError=Error();v0._parser=new dZ({regexParsingWithErrorRecovery:!1});c8.INSTANCE=new c8;q7.INSTANCE=new q7;T0=class T0 extends aZ{static all(){return T0._info.values()}constructor(J,$,Q){super(J,null);if(this._defaultValue=$,typeof Q==="object")T0._info.push({...Q,key:J});else if(Q!==!0)T0._info.push({key:J,description:Q,type:$!==null&&$!==void 0?typeof $:void 0})}bindTo(J){return J.createKey(this.key,this._defaultValue)}getValue(J){return J.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(J){return Dz.create(this.key,J)}};T0._info=[];s0=b0("contextKeyService")});function Rz(J,$){if(typeof J==="number"){if(J===0)return null;let Q=(J&65535)>>>0,X=(J&4294901760)>>>16;if(X!==0)return new GF([ZF(Q,$),ZF(X,$)]);return new GF([ZF(Q,$)])}else{let Q=[];for(let X=0;X<J.length;X++)Q.push(ZF(J[X],$));return new GF(Q)}}function ZF(J,$){let Q=J&2048?!0:!1,X=J&256?!0:!1,Y=$===2?X:Q,Z=J&1024?!0:!1,G=J&512?!0:!1,q=$===2?Q:X,U=J&255;return new v9(Y,Z,G,q,U)}class v9{constructor(J,$,Q,X,Y){this.ctrlKey=J,this.shiftKey=$,this.altKey=Q,this.metaKey=X,this.keyCode=Y}equals(J){return J instanceof v9&&this.ctrlKey===J.ctrlKey&&this.shiftKey===J.shiftKey&&this.altKey===J.altKey&&this.metaKey===J.metaKey&&this.keyCode===J.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class GF{constructor(J){if(J.length===0)throw YJ("chords");this.chords=J}}class nM{constructor(J,$,Q,X,Y,Z){this.ctrlKey=J,this.shiftKey=$,this.altKey=Q,this.metaKey=X,this.keyLabel=Y,this.keyAriaLabel=Z}}class oM{}var nZ=E(()=>{T1()});function qF(J,$){if(!J)throw Error($?`Assertion failed (${$})`:"Assertion Failed")}function Y3(J,$="Unreachable"){throw Error($)}function tM(J){if(!J)Z1(new l1("Assertion Failed"))}function j$(J){if(!J()){debugger;J(),Z1(new l1("Assertion Failed"))}}function UF(J,$){let Q=0;while(Q<J.length-1){let X=J[Q],Y=J[Q+1];if(!$(X,Y))return!1;Q++}return!0}var V$=E(()=>{T1()});class QC{constructor(){this.data=new Map}add(J,$){qF(P5(J)),qF(z5($)),qF(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,$)}as(J){return this.data.get(J)||null}}var G6;var U7=E(()=>{V$();G6=new QC});class eM{constructor(){this._coreKeybindings=new l6,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(J){if(f8===1){if(J&&J.win)return J.win}else if(f8===2){if(J&&J.mac)return J.mac}else if(J&&J.linux)return J.linux;return J}registerKeybindingRule(J){let $=eM.bindToCurrentPlatform(J),Q=new q0;if($&&$.primary){let X=Rz($.primary,f8);if(X)Q.add(this._registerDefaultKeybinding(X,J.id,J.args,J.weight,0,J.when))}if($&&Array.isArray($.secondary))for(let X=0,Y=$.secondary.length;X<Y;X++){let Z=$.secondary[X],G=Rz(Z,f8);if(G)Q.add(this._registerDefaultKeybinding(G,J.id,J.args,J.weight,-X-1,J.when))}return Q}registerCommandAndKeybindingRule(J){return p8(this.registerKeybindingRule(J),O6.registerCommand(J))}_registerDefaultKeybinding(J,$,Q,X,Y,Z){let G=this._coreKeybindings.push({keybinding:J,command:$,commandArgs:Q,when:Z,weight1:X,weight2:Y,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,y0(()=>{G(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){if(!this._cachedMergedKeybindings)this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(x60);return this._cachedMergedKeybindings.slice(0)}}function x60(J,$){if(J.weight1!==$.weight1)return J.weight1-$.weight1;if(J.command&&$.command){if(J.command<$.command)return-1;if(J.command>$.command)return 1}return J.weight2-$.weight2}var jJ,y60;var Z3=E(()=>{nZ();E1();G7();U7();B0();S9();jJ=new eM,y60={EditorModes:"platform.keybindingsRegistry"};G6.add(y60.EditorModes,jJ)});function G3(J){return J.command!==void 0}function YC(J){return J.submenu!==void 0}class g{constructor(J){if(g._instances.has(J))throw TypeError(`MenuId with identifier '${J}' already exists. Use MenuId.for(ident) or a unique identifier`);g._instances.set(J,this),this.id=J}}class xQ{static for(J){let $=this._all.get(J);if(!$)$=new xQ(J),this._all.set(J,$);return $}static merge(J){let $=new Set;for(let Q of J)if(Q instanceof xQ)$.add(Q.id);return $}constructor(J){this.id=J,this.has=($)=>$===J}}var b60=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},XC=function(J,$){return function(Q,X){$(Q,X,J)}},HF,O4,W$,oZ,M4;var _4=E(()=>{Z7();N5();E0();B0();S9();G7();e1();n0();Z3();g._instances=new Map;g.CommandPalette=new g("CommandPalette");g.DebugBreakpointsContext=new g("DebugBreakpointsContext");g.DebugCallStackContext=new g("DebugCallStackContext");g.DebugConsoleContext=new g("DebugConsoleContext");g.DebugVariablesContext=new g("DebugVariablesContext");g.DebugHoverContext=new g("DebugHoverContext");g.DebugWatchContext=new g("DebugWatchContext");g.DebugToolBar=new g("DebugToolBar");g.DebugToolBarStop=new g("DebugToolBarStop");g.EditorContext=new g("EditorContext");g.SimpleEditorContext=new g("SimpleEditorContext");g.EditorContent=new g("EditorContent");g.EditorLineNumberContext=new g("EditorLineNumberContext");g.EditorContextCopy=new g("EditorContextCopy");g.EditorContextPeek=new g("EditorContextPeek");g.EditorContextShare=new g("EditorContextShare");g.EditorTitle=new g("EditorTitle");g.EditorTitleRun=new g("EditorTitleRun");g.EditorTitleContext=new g("EditorTitleContext");g.EditorTitleContextShare=new g("EditorTitleContextShare");g.EmptyEditorGroup=new g("EmptyEditorGroup");g.EmptyEditorGroupContext=new g("EmptyEditorGroupContext");g.EditorTabsBarContext=new g("EditorTabsBarContext");g.EditorTabsBarShowTabsSubmenu=new g("EditorTabsBarShowTabsSubmenu");g.EditorTabsBarShowTabsZenModeSubmenu=new g("EditorTabsBarShowTabsZenModeSubmenu");g.EditorActionsPositionSubmenu=new g("EditorActionsPositionSubmenu");g.ExplorerContext=new g("ExplorerContext");g.ExplorerContextShare=new g("ExplorerContextShare");g.ExtensionContext=new g("ExtensionContext");g.GlobalActivity=new g("GlobalActivity");g.CommandCenter=new g("CommandCenter");g.CommandCenterCenter=new g("CommandCenterCenter");g.LayoutControlMenuSubmenu=new g("LayoutControlMenuSubmenu");g.LayoutControlMenu=new g("LayoutControlMenu");g.MenubarMainMenu=new g("MenubarMainMenu");g.MenubarAppearanceMenu=new g("MenubarAppearanceMenu");g.MenubarDebugMenu=new g("MenubarDebugMenu");g.MenubarEditMenu=new g("MenubarEditMenu");g.MenubarCopy=new g("MenubarCopy");g.MenubarFileMenu=new g("MenubarFileMenu");g.MenubarGoMenu=new g("MenubarGoMenu");g.MenubarHelpMenu=new g("MenubarHelpMenu");g.MenubarLayoutMenu=new g("MenubarLayoutMenu");g.MenubarNewBreakpointMenu=new g("MenubarNewBreakpointMenu");g.PanelAlignmentMenu=new g("PanelAlignmentMenu");g.PanelPositionMenu=new g("PanelPositionMenu");g.ActivityBarPositionMenu=new g("ActivityBarPositionMenu");g.MenubarPreferencesMenu=new g("MenubarPreferencesMenu");g.MenubarRecentMenu=new g("MenubarRecentMenu");g.MenubarSelectionMenu=new g("MenubarSelectionMenu");g.MenubarShare=new g("MenubarShare");g.MenubarSwitchEditorMenu=new g("MenubarSwitchEditorMenu");g.MenubarSwitchGroupMenu=new g("MenubarSwitchGroupMenu");g.MenubarTerminalMenu=new g("MenubarTerminalMenu");g.MenubarViewMenu=new g("MenubarViewMenu");g.MenubarHomeMenu=new g("MenubarHomeMenu");g.OpenEditorsContext=new g("OpenEditorsContext");g.OpenEditorsContextShare=new g("OpenEditorsContextShare");g.ProblemsPanelContext=new g("ProblemsPanelContext");g.SCMInputBox=new g("SCMInputBox");g.SCMIncomingChanges=new g("SCMIncomingChanges");g.SCMOutgoingChanges=new g("SCMOutgoingChanges");g.SCMIncomingChangesAllChangesContext=new g("SCMIncomingChangesAllChangesContext");g.SCMIncomingChangesHistoryItemContext=new g("SCMIncomingChangesHistoryItemContext");g.SCMOutgoingChangesAllChangesContext=new g("SCMOutgoingChangesAllChangesContext");g.SCMOutgoingChangesHistoryItemContext=new g("SCMOutgoingChangesHistoryItemContext");g.SCMChangeContext=new g("SCMChangeContext");g.SCMResourceContext=new g("SCMResourceContext");g.SCMResourceContextShare=new g("SCMResourceContextShare");g.SCMResourceFolderContext=new g("SCMResourceFolderContext");g.SCMResourceGroupContext=new g("SCMResourceGroupContext");g.SCMSourceControl=new g("SCMSourceControl");g.SCMSourceControlInline=new g("SCMSourceControlInline");g.SCMTitle=new g("SCMTitle");g.SearchContext=new g("SearchContext");g.SearchActionMenu=new g("SearchActionContext");g.StatusBarWindowIndicatorMenu=new g("StatusBarWindowIndicatorMenu");g.StatusBarRemoteIndicatorMenu=new g("StatusBarRemoteIndicatorMenu");g.StickyScrollContext=new g("StickyScrollContext");g.TestItem=new g("TestItem");g.TestItemGutter=new g("TestItemGutter");g.TestMessageContext=new g("TestMessageContext");g.TestMessageContent=new g("TestMessageContent");g.TestPeekElement=new g("TestPeekElement");g.TestPeekTitle=new g("TestPeekTitle");g.TouchBarContext=new g("TouchBarContext");g.TitleBarContext=new g("TitleBarContext");g.TitleBarTitleContext=new g("TitleBarTitleContext");g.TunnelContext=new g("TunnelContext");g.TunnelPrivacy=new g("TunnelPrivacy");g.TunnelProtocol=new g("TunnelProtocol");g.TunnelPortInline=new g("TunnelInline");g.TunnelTitle=new g("TunnelTitle");g.TunnelLocalAddressInline=new g("TunnelLocalAddressInline");g.TunnelOriginInline=new g("TunnelOriginInline");g.ViewItemContext=new g("ViewItemContext");g.ViewContainerTitle=new g("ViewContainerTitle");g.ViewContainerTitleContext=new g("ViewContainerTitleContext");g.ViewTitle=new g("ViewTitle");g.ViewTitleContext=new g("ViewTitleContext");g.CommentEditorActions=new g("CommentEditorActions");g.CommentThreadTitle=new g("CommentThreadTitle");g.CommentThreadActions=new g("CommentThreadActions");g.CommentThreadAdditionalActions=new g("CommentThreadAdditionalActions");g.CommentThreadTitleContext=new g("CommentThreadTitleContext");g.CommentThreadCommentContext=new g("CommentThreadCommentContext");g.CommentTitle=new g("CommentTitle");g.CommentActions=new g("CommentActions");g.InteractiveToolbar=new g("InteractiveToolbar");g.InteractiveCellTitle=new g("InteractiveCellTitle");g.InteractiveCellDelete=new g("InteractiveCellDelete");g.InteractiveCellExecute=new g("InteractiveCellExecute");g.InteractiveInputExecute=new g("InteractiveInputExecute");g.NotebookToolbar=new g("NotebookToolbar");g.NotebookStickyScrollContext=new g("NotebookStickyScrollContext");g.NotebookCellTitle=new g("NotebookCellTitle");g.NotebookCellDelete=new g("NotebookCellDelete");g.NotebookCellInsert=new g("NotebookCellInsert");g.NotebookCellBetween=new g("NotebookCellBetween");g.NotebookCellListTop=new g("NotebookCellTop");g.NotebookCellExecute=new g("NotebookCellExecute");g.NotebookCellExecutePrimary=new g("NotebookCellExecutePrimary");g.NotebookDiffCellInputTitle=new g("NotebookDiffCellInputTitle");g.NotebookDiffCellMetadataTitle=new g("NotebookDiffCellMetadataTitle");g.NotebookDiffCellOutputsTitle=new g("NotebookDiffCellOutputsTitle");g.NotebookOutputToolbar=new g("NotebookOutputToolbar");g.NotebookEditorLayoutConfigure=new g("NotebookEditorLayoutConfigure");g.NotebookKernelSource=new g("NotebookKernelSource");g.BulkEditTitle=new g("BulkEditTitle");g.BulkEditContext=new g("BulkEditContext");g.TimelineItemContext=new g("TimelineItemContext");g.TimelineTitle=new g("TimelineTitle");g.TimelineTitleContext=new g("TimelineTitleContext");g.TimelineFilterSubMenu=new g("TimelineFilterSubMenu");g.AccountsContext=new g("AccountsContext");g.SidebarTitle=new g("SidebarTitle");g.PanelTitle=new g("PanelTitle");g.AuxiliaryBarTitle=new g("AuxiliaryBarTitle");g.TerminalInstanceContext=new g("TerminalInstanceContext");g.TerminalEditorInstanceContext=new g("TerminalEditorInstanceContext");g.TerminalNewDropdownContext=new g("TerminalNewDropdownContext");g.TerminalTabContext=new g("TerminalTabContext");g.TerminalTabEmptyAreaContext=new g("TerminalTabEmptyAreaContext");g.TerminalStickyScrollContext=new g("TerminalStickyScrollContext");g.WebviewContext=new g("WebviewContext");g.InlineCompletionsActions=new g("InlineCompletionsActions");g.NewFile=new g("NewFile");g.MergeInput1Toolbar=new g("MergeToolbar1Toolbar");g.MergeInput2Toolbar=new g("MergeToolbar2Toolbar");g.MergeBaseToolbar=new g("MergeBaseToolbar");g.MergeInputResultToolbar=new g("MergeToolbarResultToolbar");g.InlineSuggestionToolbar=new g("InlineSuggestionToolbar");g.ChatContext=new g("ChatContext");g.ChatCodeBlock=new g("ChatCodeblock");g.ChatMessageTitle=new g("ChatMessageTitle");g.ChatExecute=new g("ChatExecute");g.ChatInputSide=new g("ChatInputSide");g.AccessibleView=new g("AccessibleView");g.MultiDiffEditorFileToolbar=new g("MultiDiffEditorFileToolbar");O4=b0("menuService");xQ._all=new Map;W$=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new AM({merge:xQ.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(J){return this._commands.set(J.id,J),this._onDidChangeMenu.fire(xQ.for(g.CommandPalette)),y0(()=>{if(this._commands.delete(J.id))this._onDidChangeMenu.fire(xQ.for(g.CommandPalette))})}getCommand(J){return this._commands.get(J)}getCommands(){let J=new Map;return this._commands.forEach(($,Q)=>J.set(Q,$)),J}appendMenuItem(J,$){let Q=this._menuItems.get(J);if(!Q)Q=new l6,this._menuItems.set(J,Q);let X=Q.push($);return this._onDidChangeMenu.fire(xQ.for(J)),y0(()=>{X(),this._onDidChangeMenu.fire(xQ.for(J))})}appendMenuItems(J){let $=new q0;for(let{id:Q,item:X}of J)$.add(this.appendMenuItem(Q,X));return $}getMenuItems(J){let $;if(this._menuItems.has(J))$=[...this._menuItems.get(J)];else $=[];if(J===g.CommandPalette)this._appendImplicitItems($);return $}_appendImplicitItems(J){let $=new Set;for(let Q of J)if(G3(Q)){if($.add(Q.command.id),Q.alt)$.add(Q.alt.id)}this._commands.forEach((Q,X)=>{if(!$.has(X))J.push({command:Q})})}};oZ=class oZ extends IQ{constructor(J,$,Q){super(`submenuitem.${J.submenu.id}`,typeof J.title==="string"?J.title:J.title.value,Q,"submenu");this.item=J,this.hideActions=$}};M4=HF=class{static label($,Q){return(Q===null||Q===void 0?void 0:Q.renderShortTitle)&&$.shortTitle?typeof $.shortTitle==="string"?$.shortTitle:$.shortTitle.value:typeof $.title==="string"?$.title:$.title.value}constructor($,Q,X,Y,Z,G){var q,U;this.hideActions=Y,this._commandService=G,this.id=$.id,this.label=HF.label($,X),this.tooltip=(U=typeof $.tooltip==="string"?$.tooltip:(q=$.tooltip)===null||q===void 0?void 0:q.value)!==null&&U!==void 0?U:"",this.enabled=!$.precondition||Z.contextMatchesRules($.precondition),this.checked=void 0;let z;if($.toggled){let H=$.toggled.condition?$.toggled:{condition:$.toggled};if(this.checked=Z.contextMatchesRules(H.condition),this.checked&&H.tooltip)this.tooltip=typeof H.tooltip==="string"?H.tooltip:H.tooltip.value;if(this.checked&&c0.isThemeIcon(H.icon))z=H.icon;if(this.checked&&H.title)this.label=typeof H.title==="string"?H.title:H.title.value}if(!z)z=c0.isThemeIcon($.icon)?$.icon:void 0;this.item=$,this.alt=Q?new HF(Q,void 0,X,Y,Z,G):void 0,this._options=X,this.class=z&&c0.asClassName(z)}run(...$){var Q,X;let Y=[];if((Q=this._options)===null||Q===void 0?void 0:Q.arg)Y=[...Y,this._options.arg];if((X=this._options)===null||X===void 0?void 0:X.shouldForwardArgs)Y=[...Y,...$];return this._commandService.executeCommand(this.id,...Y)}};M4=HF=b60([XC(4,s0),XC(5,T5)],M4)});var z7;var JY=E(()=>{n0();z7=b0("telemetryService")});function S60(J){switch(J){case n5.Trace:return"trace";case n5.Debug:return"debug";case n5.Info:return"info";case n5.Warning:return"warn";case n5.Error:return"error";case n5.Off:return"off"}}var A5,n5,ZC,JO,$O,QO,Nq0;var B9=E(()=>{E0();B0();e1();n0();A5=b0("logService");(function(J){J[J.Off=0]="Off",J[J.Trace=1]="Trace",J[J.Debug=2]="Debug",J[J.Info=3]="Info",J[J.Warning=4]="Warning",J[J.Error=5]="Error"})(n5||(n5={}));ZC=n5.Info;JO=class JO extends r{constructor(){super(...arguments);this.level=ZC,this._onDidChangeLogLevel=this._register(new p),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(J){if(this.level!==J)this.level=J,this._onDidChangeLogLevel.fire(this.level)}getLevel(){return this.level}checkLogLevel(J){return this.level!==n5.Off&&this.level<=J}};$O=class $O extends JO{constructor(J=ZC,$=!0){super();this.useColors=$,this.setLevel(J)}trace(J,...$){if(this.checkLogLevel(n5.Trace))if(this.useColors)console.log("%cTRACE","color: #888",J,...$);else console.log(J,...$)}debug(J,...$){if(this.checkLogLevel(n5.Debug))if(this.useColors)console.log("%cDEBUG","background: #eee; color: #888",J,...$);else console.log(J,...$)}info(J,...$){if(this.checkLogLevel(n5.Info))if(this.useColors)console.log("%c INFO","color: #33f",J,...$);else console.log(J,...$)}warn(J,...$){if(this.checkLogLevel(n5.Warning))if(this.useColors)console.log("%c WARN","color: #993",J,...$);else console.log(J,...$)}error(J,...$){if(this.checkLogLevel(n5.Error))if(this.useColors)console.log("%c  ERR","color: #f33",J,...$);else console.error(J,...$)}};QO=class QO extends JO{constructor(J){super();if(this.loggers=J,J.length)this.setLevel(J[0].getLevel())}setLevel(J){for(let $ of this.loggers)$.setLevel(J);super.setLevel(J)}trace(J,...$){for(let Q of this.loggers)Q.trace(J,...$)}debug(J,...$){for(let Q of this.loggers)Q.debug(J,...$)}info(J,...$){for(let Q of this.loggers)Q.info(J,...$)}warn(J,...$){for(let Q of this.loggers)Q.warn(J,...$)}error(J,...$){for(let Q of this.loggers)Q.error(J,...$)}dispose(){for(let J of this.loggers)J.dispose();super.dispose()}};Nq0=new T0("logLevel",S60(n5.Info))});var q3;var jF=E(()=>{M7();H8();E1();q3={clipboard:{writeText:uX||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:uX||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>{if(uX||dS())return 0;if(navigator.keyboard||f7)return 1;return 2})(),touch:"ontouchstart"in F1||navigator.maxTouchPoints>0,pointerEvents:F1.PointerEvent&&(("ontouchstart"in F1)||navigator.maxTouchPoints>0)}});function C60(J){if(J.charCode){let Q=String.fromCharCode(J.charCode).toUpperCase();return K4.fromString(Q)}let $=J.keyCode;if($===3)return 7;else if(i5)switch($){case 59:return 85;case 60:if(w6)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if($1)return 57;break}else if(UJ){if($1&&$===93)return 57;else if(!$1&&$===92)return 57}return OM[$]||0}class _1{constructor(J){this._standardKeyboardEventBrand=!0;let $=J;this.browserEvent=$,this.target=$.target,this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,this.altGraphKey=$.getModifierState("AltGraph"),this.keyCode=C60($),this.code=$.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){if(this.browserEvent&&this.browserEvent.preventDefault)this.browserEvent.preventDefault()}stopPropagation(){if(this.browserEvent&&this.browserEvent.stopPropagation)this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(J){return this._asKeybinding===J}_computeKeybinding(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;let $=0;if(this.ctrlKey)$|=v60;if(this.altKey)$|=h60;if(this.shiftKey)$|=f60;if(this.metaKey)$|=g60;return $|=J,$}_computeKeyCodeChord(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;return new v9(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,J)}}var v60,h60=512,f60=1024,g60;var k8=E(()=>{M7();hZ();nZ();E1();v60=$1?256:2048,g60=$1?2048:256});function p60(J){if(!J.parent||J.parent===J)return null;try{let $=J.location,Q=J.parent.location;if($.origin!=="null"&&Q.origin!=="null"&&$.origin!==Q.origin)return null}catch($){return null}return J.parent}class XO{static getSameOriginWindowChain(J){let $=GC.get(J);if(!$){$=[],GC.set(J,$);let Q=J,X;do{if(X=p60(Q),X)$.push({window:new WeakRef(Q),iframeElement:Q.frameElement||null});else $.push({window:new WeakRef(Q),iframeElement:null});Q=X}while(Q)}return $.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(J,$){var Q,X;if(!$||J===$)return{top:0,left:0};let Y=0,Z=0,G=this.getSameOriginWindowChain(J);for(let q of G){let U=q.window.deref();if(Y+=(Q=U===null||U===void 0?void 0:U.scrollY)!==null&&Q!==void 0?Q:0,Z+=(X=U===null||U===void 0?void 0:U.scrollX)!==null&&X!==void 0?X:0,U===$)break;if(!q.iframeElement)break;let z=q.iframeElement.getBoundingClientRect();Y+=z.top,Z+=z.left}return{top:Y,left:Z}}}var GC;var qC=E(()=>{GC=new WeakMap});class j8{constructor(J,$){if(this.timestamp=Date.now(),this.browserEvent=$,this.leftButton=$.button===0,this.middleButton=$.button===1,this.rightButton=$.button===2,this.buttons=$.buttons,this.target=$.target,this.detail=$.detail||1,$.type==="dblclick")this.detail=2;if(this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,typeof $.pageX==="number")this.posx=$.pageX,this.posy=$.pageY;else this.posx=$.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=$.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop;let Q=XO.getPositionOfChildWindowRelativeToAncestorWindow(J,$.view);this.posx-=Q.left,this.posy-=Q.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class N4{constructor(J,$=0,Q=0){var X;if(this.browserEvent=J||null,this.target=J?J.target||J.targetNode||J.srcElement:null,this.deltaY=Q,this.deltaX=$,J){let Y=J,Z=J,G=((X=J.view)===null||X===void 0?void 0:X.devicePixelRatio)||1;if(typeof Y.wheelDeltaY<"u")if(H$)this.deltaY=Y.wheelDeltaY/(120*G);else this.deltaY=Y.wheelDeltaY/120;else if(typeof Z.VERTICAL_AXIS<"u"&&Z.axis===Z.VERTICAL_AXIS)this.deltaY=-Z.detail/3;else if(J.type==="wheel"){let q=J;if(q.deltaMode===q.DOM_DELTA_LINE)if(i5&&!$1)this.deltaY=-J.deltaY/3;else this.deltaY=-J.deltaY;else this.deltaY=-J.deltaY/40}if(typeof Y.wheelDeltaX<"u")if(f7&&c6)this.deltaX=-(Y.wheelDeltaX/120);else if(H$)this.deltaX=Y.wheelDeltaX/(120*G);else this.deltaX=Y.wheelDeltaX/120;else if(typeof Z.HORIZONTAL_AXIS<"u"&&Z.axis===Z.HORIZONTAL_AXIS)this.deltaX=-J.detail/3;else if(J.type==="wheel"){let q=J;if(q.deltaMode===q.DOM_DELTA_LINE)if(i5&&!$1)this.deltaX=-J.deltaX/3;else this.deltaX=-J.deltaX;else this.deltaX=-J.deltaX/40}if(this.deltaY===0&&this.deltaX===0&&J.wheelDelta)if(H$)this.deltaY=J.wheelDelta/(120*G);else this.deltaY=J.wheelDelta/120}}preventDefault(){var J;(J=this.browserEvent)===null||J===void 0||J.preventDefault()}stopPropagation(){var J;(J=this.browserEvent)===null||J===void 0||J.stopPropagation()}}var h9=E(()=>{M7();qC();E1()});var VF;var YO=E(()=>{VF=Symbol("MicrotaskDelay")});function BF(J){return!!J&&typeof J.then==="function"}function tZ(J){let $=new M5,Q=J($.token),X=new Promise((Y,Z)=>{let G=$.token.onCancellationRequested(()=>{G.dispose(),Z(new DQ)});Promise.resolve(Q).then((q)=>{G.dispose(),$.dispose(),Y(q)},(q)=>{G.dispose(),$.dispose(),Z(q)})});return new class{cancel(){$.cancel(),$.dispose()}then(Y,Z){return X.then(Y,Z)}catch(Y){return this.then(void 0,Y)}finally(Y){return X.finally(Y)}}}class UC{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(J){if(this.isDisposed)return Promise.reject(Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=J,!this.queuedPromise){let $=()=>{if(this.queuedPromise=null,this.isDisposed)return;let Q=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,Q};this.queuedPromise=new Promise((Q)=>{this.activePromise.then($,$).then(Q)})}return new Promise(($,Q)=>{this.queuedPromise.then($,Q)})}return this.activePromise=J(),new Promise(($,Q)=>{this.activePromise.then((X)=>{this.activePromise=null,$(X)},(X)=>{this.activePromise=null,Q(X)})})}dispose(){this.isDisposed=!0}}class T4{constructor(J){this.defaultDelay=J,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(J,$=this.defaultDelay){if(this.task=J,this.cancelTimeout(),!this.completionPromise)this.completionPromise=new Promise((X,Y)=>{this.doResolve=X,this.doReject=Y}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let X=this.task;return this.task=null,X()}return});let Q=()=>{var X;this.deferred=null,(X=this.doResolve)===null||X===void 0||X.call(this,null)};return this.deferred=$===VF?u60(Q):m60($,Q),this.completionPromise}isTriggered(){var J;return!!((J=this.deferred)===null||J===void 0?void 0:J.isTriggered())}cancel(){var J;if(this.cancelTimeout(),this.completionPromise)(J=this.doReject)===null||J===void 0||J.call(this,new DQ),this.completionPromise=null}cancelTimeout(){var J;(J=this.deferred)===null||J===void 0||J.dispose(),this.deferred=null}dispose(){this.cancel()}}class Mz{constructor(J){this.delayer=new T4(J),this.throttler=new UC}trigger(J,$){return this.delayer.trigger(()=>this.throttler.queue(J),$)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function bQ(J,$){if(!$)return tZ((Q)=>bQ(J,Q));return new Promise((Q,X)=>{let Y=setTimeout(()=>{Z.dispose(),Q()},J),Z=$.onCancellationRequested(()=>{clearTimeout(Y),Z.dispose(),X(new DQ)})})}function $Y(J,$=0,Q){let X=setTimeout(()=>{if(J(),Q)Y.dispose()},$),Y=y0(()=>{clearTimeout(X),Q===null||Q===void 0||Q.deleteAndLeak(Y)});return Q===null||Q===void 0||Q.add(Y),Y}class E8{constructor(J,$){if(this._token=-1,typeof J==="function"&&typeof $==="number")this.setIfNotSet(J,$)}dispose(){this.cancel()}cancel(){if(this._token!==-1)clearTimeout(this._token),this._token=-1}cancelAndSet(J,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,J()},$)}setIfNotSet(J,$){if(this._token!==-1)return;this._token=setTimeout(()=>{this._token=-1,J()},$)}}class eZ{constructor(){this.disposable=void 0}cancel(){var J;(J=this.disposable)===null||J===void 0||J.dispose(),this.disposable=void 0}cancelAndSet(J,$,Q=globalThis){this.cancel();let X=Q.setInterval(()=>{J()},$);this.disposable=y0(()=>{Q.clearInterval(X),this.disposable=void 0})}dispose(){this.cancel()}}class z6{constructor(J,$){this.timeoutToken=-1,this.runner=J,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){if(this.isScheduled())clearTimeout(this.timeoutToken),this.timeoutToken=-1}schedule(J=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,J)}get delay(){return this.timeout}set delay(J){this.timeout=J}isScheduled(){return this.timeoutToken!==-1}onTimeout(){if(this.timeoutToken=-1,this.runner)this.doRun()}doRun(){var J;(J=this.runner)===null||J===void 0||J.call(this)}}class FF{constructor(J,$){this._didRun=!1,this._executor=()=>{try{this._value=$()}catch(Q){this._error=Q}finally{this._didRun=!0}},this._handle=U3(J,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(!this._didRun)this._handle.dispose(),this._executor();if(this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class Oz{get isRejected(){var J;return((J=this.outcome)===null||J===void 0?void 0:J.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((J,$)=>{this.completeCallback=J,this.errorCallback=$})}complete(J){return new Promise(($)=>{this.completeCallback(J),this.outcome={outcome:0,value:J},$()})}error(J){return new Promise(($)=>{this.errorCallback(J),this.outcome={outcome:1,value:J},$()})}cancel(){return this.error(new DQ)}}var m60=(J,$)=>{let Q=!0,X=setTimeout(()=>{Q=!1,$()},J);return{isTriggered:()=>Q,dispose:()=>{clearTimeout(X),Q=!1}}},u60=(J)=>{let $=!0;return queueMicrotask(()=>{if($)$=!1,J()}),{isTriggered:()=>$,dispose:()=>{$=!1}}},ZO,U3,GO,WF,F9;var J6=E(()=>{z8();T1();E0();B0();E1();YO();(function(){if(typeof globalThis.requestIdleCallback!=="function"||typeof globalThis.cancelIdleCallback!=="function")U3=(J,$)=>{bW(()=>{if(Q)return;let X=Date.now()+15;$(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,X-Date.now())}}))});let Q=!1;return{dispose(){if(Q)return;Q=!0}}};else U3=(J,$,Q)=>{let X=J.requestIdleCallback($,typeof Q==="number"?{timeout:Q}:void 0),Y=!1;return{dispose(){if(Y)return;Y=!0,J.cancelIdleCallback(X)}}};ZO=(J)=>U3(globalThis,J)})();GO=class GO extends FF{constructor(J){super(globalThis,J)}};(function(J){async function $(X){let Y=void 0,Z=await Promise.all(X.map((G)=>G.then((q)=>q,(q)=>{if(!Y)Y=q;return})));if(typeof Y<"u")throw Y;return Z}J.settled=$;function Q(X){return new Promise(async(Y,Z)=>{try{await X(Y,Z)}catch(G){Z(G)}})}J.withAsyncBody=Q})(WF||(WF={}));F9=class F9{static fromArray(J){return new F9(($)=>{$.emitMany(J)})}static fromPromise(J){return new F9(async($)=>{$.emitMany(await J)})}static fromPromises(J){return new F9(async($)=>{await Promise.all(J.map(async(Q)=>$.emitOne(await Q)))})}static merge(J){return new F9(async($)=>{await Promise.all(J.map(async(Q)=>{for await(let X of Q)$.emitOne(X)}))})}constructor(J){this._state=0,this._results=[],this._error=null,this._onStateChanged=new p,queueMicrotask(async()=>{let $={emitOne:(Q)=>this.emitOne(Q),emitMany:(Q)=>this.emitMany(Q),reject:(Q)=>this.reject(Q)};try{await Promise.resolve(J($)),this.resolve()}catch(Q){this.reject(Q)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}})}[Symbol.asyncIterator](){let J=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(J<this._results.length)return{done:!1,value:this._results[J++]};if(this._state===1)return{done:!0,value:void 0};await V0.toPromise(this._onStateChanged.event)}while(!0)}}}static map(J,$){return new F9(async(Q)=>{for await(let X of J)Q.emitOne($(X))})}map(J){return F9.map(this,J)}static filter(J,$){return new F9(async(Q)=>{for await(let X of J)if($(X))Q.emitOne(X)})}filter(J){return F9.filter(this,J)}static coalesce(J){return F9.filter(J,($)=>!!$)}coalesce(){return F9.coalesce(this)}static async toPromise(J){let $=[];for await(let Q of J)$.push(Q);return $}toPromise(){return F9.toPromise(this)}emitOne(J){if(this._state!==0)return;this._results.push(J),this._onStateChanged.fire()}emitMany(J){if(this._state!==0)return;this._results=this._results.concat(J),this._onStateChanged.fire()}resolve(){if(this._state!==0)return;this._state=1,this._onStateChanged.fire()}reject(J){if(this._state!==0)return;this._state=2,this._error=J,this._onStateChanged.fire()}};F9.EMPTY=F9.fromArray([])});function w4(J){return function($){for(var Q=arguments.length,X=Array(Q>1?Q-1:0),Y=1;Y<Q;Y++)X[Y-1]=arguments[Y];return VO(J,$,X)}}function o60(J){return function(){for(var $=arguments.length,Q=Array($),X=0;X<$;X++)Q[X]=arguments[X];return WO(J,Q)}}function n1(J,$,Q){var X;if(Q=(X=Q)!==null&&X!==void 0?X:PF,zC)zC(J,null);let Y=$.length;while(Y--){let Z=$[Y];if(typeof Z==="string"){let G=Q(Z);if(G!==Z){if(!c60($))$[Y]=G;Z=G}}J[Z]=!0}return J}function z3(J){let $=s60(null);for(let[Q,X]of KC(J))$[Q]=X;return $}function KF(J,$){while(J!==null){let X=d60(J,$);if(X){if(X.get)return w4(X.get);if(typeof X.value==="function")return w4(X.value)}J=l60(J)}function Q(X){return console.warn("fallback value for",X),null}return Q}function DC(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q50(),$=(P1)=>DC(P1);if($.version="3.0.5",$.removed=[],!J||!J.document||J.document.nodeType!==9)return $.isSupported=!1,$;let Q=J.document,X=Q.currentScript,{document:Y}=J,{DocumentFragment:Z,HTMLTemplateElement:G,Node:q,Element:U,NodeFilter:z,NamedNodeMap:H=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:j,DOMParser:B,trustedTypes:V}=J,W=U.prototype,K=KF(W,"cloneNode"),A=KF(W,"nextSibling"),F=KF(W,"childNodes"),P=KF(W,"parentNode");if(typeof G==="function"){let P1=Y.createElement("template");if(P1.content&&P1.content.ownerDocument)Y=P1.content.ownerDocument}let R,D="",{implementation:_,createNodeIterator:O,createDocumentFragment:N,getElementsByTagName:w}=Y,{importNode:T}=Q,I={};$.isSupported=typeof KC==="function"&&typeof P==="function"&&_&&_.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:k,ERB_EXPR:x,TMPLIT_EXPR:S,DATA_ATTR:l,ARIA_ATTR:d,IS_SCRIPT_OR_DATA:y,ATTR_WHITESPACE:b}=FC,{IS_ALLOWED_URI:h}=FC,u=null,$0=n1({},[...jC,...UO,...zO,...HO,...VC]),Z0=null,U0=n1({},[...WC,...jO,...BC,...AF]),Q0=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),o=null,m=null,A0=!0,z0=!0,h0=!1,N0=!0,w1=!1,R0=!1,u1=!1,W6=!1,S6=!1,O1=!1,T6=!1,g1=!0,a1=!1,t1="user-content-",e=!0,n=!1,J0={},C=null,c=n1({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),i=null,a=n1({},["audio","video","img","source","image","track"]),G0=null,K0=n1({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),I0="http://www.w3.org/1998/Math/MathML",k0="http://www.w3.org/2000/svg",z1="http://www.w3.org/1999/xhtml",Y1=z1,$6=!1,c1=null,t0=n1({},[I0,k0,z1],qO),C6,R6=["application/xhtml+xml","text/html"],C7="text/html",v1,U5=null,OZ=Y.createElement("form"),_Z=function(Y0){return Y0 instanceof RegExp||Y0 instanceof Function},e4=function(Y0){if(U5&&U5===Y0)return;if(!Y0||typeof Y0!=="object")Y0={};if(Y0=z3(Y0),C6=R6.indexOf(Y0.PARSER_MEDIA_TYPE)===-1?C6=C7:C6=Y0.PARSER_MEDIA_TYPE,v1=C6==="application/xhtml+xml"?qO:PF,u="ALLOWED_TAGS"in Y0?n1({},Y0.ALLOWED_TAGS,v1):$0,Z0="ALLOWED_ATTR"in Y0?n1({},Y0.ALLOWED_ATTR,v1):U0,c1="ALLOWED_NAMESPACES"in Y0?n1({},Y0.ALLOWED_NAMESPACES,qO):t0,G0="ADD_URI_SAFE_ATTR"in Y0?n1(z3(K0),Y0.ADD_URI_SAFE_ATTR,v1):K0,i="ADD_DATA_URI_TAGS"in Y0?n1(z3(a),Y0.ADD_DATA_URI_TAGS,v1):a,C="FORBID_CONTENTS"in Y0?n1({},Y0.FORBID_CONTENTS,v1):c,o="FORBID_TAGS"in Y0?n1({},Y0.FORBID_TAGS,v1):{},m="FORBID_ATTR"in Y0?n1({},Y0.FORBID_ATTR,v1):{},J0="USE_PROFILES"in Y0?Y0.USE_PROFILES:!1,A0=Y0.ALLOW_ARIA_ATTR!==!1,z0=Y0.ALLOW_DATA_ATTR!==!1,h0=Y0.ALLOW_UNKNOWN_PROTOCOLS||!1,N0=Y0.ALLOW_SELF_CLOSE_IN_ATTR!==!1,w1=Y0.SAFE_FOR_TEMPLATES||!1,R0=Y0.WHOLE_DOCUMENT||!1,S6=Y0.RETURN_DOM||!1,O1=Y0.RETURN_DOM_FRAGMENT||!1,T6=Y0.RETURN_TRUSTED_TYPE||!1,W6=Y0.FORCE_BODY||!1,g1=Y0.SANITIZE_DOM!==!1,a1=Y0.SANITIZE_NAMED_PROPS||!1,e=Y0.KEEP_CONTENT!==!1,n=Y0.IN_PLACE||!1,h=Y0.ALLOWED_URI_REGEXP||AC,Y1=Y0.NAMESPACE||z1,Q0=Y0.CUSTOM_ELEMENT_HANDLING||{},Y0.CUSTOM_ELEMENT_HANDLING&&_Z(Y0.CUSTOM_ELEMENT_HANDLING.tagNameCheck))Q0.tagNameCheck=Y0.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(Y0.CUSTOM_ELEMENT_HANDLING&&_Z(Y0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))Q0.attributeNameCheck=Y0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(Y0.CUSTOM_ELEMENT_HANDLING&&typeof Y0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")Q0.allowCustomizedBuiltInElements=Y0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(w1)z0=!1;if(O1)S6=!0;if(J0){if(u=n1({},[...VC]),Z0=[],J0.html===!0)n1(u,jC),n1(Z0,WC);if(J0.svg===!0)n1(u,UO),n1(Z0,jO),n1(Z0,AF);if(J0.svgFilters===!0)n1(u,zO),n1(Z0,jO),n1(Z0,AF);if(J0.mathMl===!0)n1(u,HO),n1(Z0,BC),n1(Z0,AF)}if(Y0.ADD_TAGS){if(u===$0)u=z3(u);n1(u,Y0.ADD_TAGS,v1)}if(Y0.ADD_ATTR){if(Z0===U0)Z0=z3(Z0);n1(Z0,Y0.ADD_ATTR,v1)}if(Y0.ADD_URI_SAFE_ATTR)n1(G0,Y0.ADD_URI_SAFE_ATTR,v1);if(Y0.FORBID_CONTENTS){if(C===c)C=z3(C);n1(C,Y0.FORBID_CONTENTS,v1)}if(e)u["#text"]=!0;if(R0)n1(u,["html","head","body"]);if(u.table)n1(u,["tbody"]),delete o.tbody;if(Y0.TRUSTED_TYPES_POLICY){if(typeof Y0.TRUSTED_TYPES_POLICY.createHTML!=="function")throw Nz('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Y0.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw Nz('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=Y0.TRUSTED_TYPES_POLICY,D=R.createHTML("")}else{if(R===void 0)R=U50(V,X);if(R!==null&&typeof D==="string")D=R.createHTML("")}if(g7)g7(Y0);U5=Y0},fX=n1({},["mi","mo","mn","ms","mtext"]),NZ=n1({},["foreignobject","desc","title","annotation-xml"]),TZ=n1({},["title","style","font","a","script"]),CG=n1({},UO);n1(CG,zO),n1(CG,t60);let wZ=n1({},HO);n1(wZ,e60);let iR=function(Y0){let S0=P(Y0);if(!S0||!S0.tagName)S0={namespaceURI:Y1,tagName:"template"};let i0=PF(Y0.tagName),o6=PF(S0.tagName);if(!c1[Y0.namespaceURI])return!1;if(Y0.namespaceURI===k0){if(S0.namespaceURI===z1)return i0==="svg";if(S0.namespaceURI===I0)return i0==="svg"&&(o6==="annotation-xml"||fX[o6]);return Boolean(CG[i0])}if(Y0.namespaceURI===I0){if(S0.namespaceURI===z1)return i0==="math";if(S0.namespaceURI===k0)return i0==="math"&&NZ[o6];return Boolean(wZ[i0])}if(Y0.namespaceURI===z1){if(S0.namespaceURI===k0&&!NZ[o6])return!1;if(S0.namespaceURI===I0&&!fX[o6])return!1;return!wZ[i0]&&(TZ[i0]||!CG[i0])}if(C6==="application/xhtml+xml"&&c1[Y0.namespaceURI])return!0;return!1},tJ=function(Y0){_z($.removed,{element:Y0});try{Y0.parentNode.removeChild(Y0)}catch(S0){Y0.remove()}},pU=function(Y0,S0){try{_z($.removed,{attribute:S0.getAttributeNode(Y0),from:S0})}catch(i0){_z($.removed,{attribute:null,from:S0})}if(S0.removeAttribute(Y0),Y0==="is"&&!Z0[Y0])if(S6||O1)try{tJ(S0)}catch(i0){}else try{S0.setAttribute(Y0,"")}catch(i0){}},mU=function(Y0){let S0,i0;if(W6)Y0="<remove></remove>"+Y0;else{let H4=r60(Y0,/^[\r\n\t ]+/);i0=H4&&H4[0]}if(C6==="application/xhtml+xml"&&Y1===z1)Y0='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y0+"</body></html>";let o6=R?R.createHTML(Y0):Y0;if(Y1===z1)try{S0=new B().parseFromString(o6,C6)}catch(H4){}if(!S0||!S0.documentElement){S0=_.createDocument(Y1,"template",null);try{S0.documentElement.innerHTML=$6?D:o6}catch(H4){}}let h8=S0.body||S0.documentElement;if(Y0&&i0)h8.insertBefore(Y.createTextNode(i0),h8.childNodes[0]||null);if(Y1===z1)return w.call(S0,R0?"html":"body")[0];return R0?S0.documentElement:h8},RW=function(Y0){return O.call(Y0.ownerDocument||Y0,Y0,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null,!1)},Z10=function(Y0){return Y0 instanceof j&&(typeof Y0.nodeName!=="string"||typeof Y0.textContent!=="string"||typeof Y0.removeChild!=="function"||!(Y0.attributes instanceof H)||typeof Y0.removeAttribute!=="function"||typeof Y0.setAttribute!=="function"||typeof Y0.namespaceURI!=="string"||typeof Y0.insertBefore!=="function"||typeof Y0.hasChildNodes!=="function")},MW=function(Y0){return typeof q==="object"?Y0 instanceof q:Y0&&typeof Y0==="object"&&typeof Y0.nodeType==="number"&&typeof Y0.nodeName==="string"},VQ=function(Y0,S0,i0){if(!I[Y0])return;a60(I[Y0],(o6)=>{o6.call($,S0,i0,U5)})},cx=function(Y0){let S0;if(VQ("beforeSanitizeElements",Y0,null),Z10(Y0))return tJ(Y0),!0;let i0=v1(Y0.nodeName);if(VQ("uponSanitizeElement",Y0,{tagName:i0,allowedTags:u}),Y0.hasChildNodes()&&!MW(Y0.firstElementChild)&&(!MW(Y0.content)||!MW(Y0.content.firstElementChild))&&f9(/<[/\w]/g,Y0.innerHTML)&&f9(/<[/\w]/g,Y0.textContent))return tJ(Y0),!0;if(!u[i0]||o[i0]){if(!o[i0]&&dx(i0)){if(Q0.tagNameCheck instanceof RegExp&&f9(Q0.tagNameCheck,i0))return!1;if(Q0.tagNameCheck instanceof Function&&Q0.tagNameCheck(i0))return!1}if(e&&!C[i0]){let o6=P(Y0)||Y0.parentNode,h8=F(Y0)||Y0.childNodes;if(h8&&o6){let H4=h8.length;for(let k5=H4-1;k5>=0;--k5)o6.insertBefore(K(h8[k5],!0),A(Y0))}}return tJ(Y0),!0}if(Y0 instanceof U&&!iR(Y0))return tJ(Y0),!0;if((i0==="noscript"||i0==="noembed"||i0==="noframes")&&f9(/<\/no(script|embed|frames)/i,Y0.innerHTML))return tJ(Y0),!0;if(w1&&Y0.nodeType===3){if(S0=Y0.textContent,S0=VJ(S0,k," "),S0=VJ(S0,x," "),S0=VJ(S0,S," "),Y0.textContent!==S0)_z($.removed,{element:Y0.cloneNode()}),Y0.textContent=S0}return VQ("afterSanitizeElements",Y0,null),!1},lx=function(Y0,S0,i0){if(g1&&(S0==="id"||S0==="name")&&((i0 in Y)||(i0 in OZ)))return!1;if(z0&&!m[S0]&&f9(l,S0));else if(A0&&f9(d,S0));else if(!Z0[S0]||m[S0])if(dx(Y0)&&(Q0.tagNameCheck instanceof RegExp&&f9(Q0.tagNameCheck,Y0)||Q0.tagNameCheck instanceof Function&&Q0.tagNameCheck(Y0))&&(Q0.attributeNameCheck instanceof RegExp&&f9(Q0.attributeNameCheck,S0)||Q0.attributeNameCheck instanceof Function&&Q0.attributeNameCheck(S0))||S0==="is"&&Q0.allowCustomizedBuiltInElements&&(Q0.tagNameCheck instanceof RegExp&&f9(Q0.tagNameCheck,i0)||Q0.tagNameCheck instanceof Function&&Q0.tagNameCheck(i0)));else return!1;else if(G0[S0]);else if(f9(h,VJ(i0,b,"")));else if((S0==="src"||S0==="xlink:href"||S0==="href")&&Y0!=="script"&&i60(i0,"data:")===0&&i[Y0]);else if(h0&&!f9(y,VJ(i0,b,"")));else if(i0)return!1;return!0},dx=function(Y0){return Y0.indexOf("-")>0},sx=function(Y0){let S0,i0,o6,h8;VQ("beforeSanitizeAttributes",Y0,null);let{attributes:H4}=Y0;if(!H4)return;let k5={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z0};h8=H4.length;while(h8--){S0=H4[h8];let{name:eJ,namespaceURI:nR}=S0;if(i0=eJ==="value"?S0.value:n60(S0.value),o6=v1(eJ),k5.attrName=o6,k5.attrValue=i0,k5.keepAttr=!0,k5.forceKeepAttr=void 0,VQ("uponSanitizeAttribute",Y0,k5),i0=k5.attrValue,k5.forceKeepAttr)continue;if(pU(eJ,Y0),!k5.keepAttr)continue;if(!N0&&f9(/\/>/i,i0)){pU(eJ,Y0);continue}if(w1)i0=VJ(i0,k," "),i0=VJ(i0,x," "),i0=VJ(i0,S," ");let ax=v1(Y0.nodeName);if(!lx(ax,o6,i0))continue;if(a1&&(o6==="id"||o6==="name"))pU(eJ,Y0),i0=t1+i0;if(R&&typeof V==="object"&&typeof V.getAttributeType==="function")if(nR);else switch(V.getAttributeType(ax,o6)){case"TrustedHTML":{i0=R.createHTML(i0);break}case"TrustedScriptURL":{i0=R.createScriptURL(i0);break}}try{if(nR)Y0.setAttributeNS(nR,eJ,i0);else Y0.setAttribute(eJ,i0);HC($.removed)}catch(S20){}}VQ("afterSanitizeAttributes",Y0,null)},G10=function P1(Y0){let S0,i0=RW(Y0);VQ("beforeSanitizeShadowDOM",Y0,null);while(S0=i0.nextNode()){if(VQ("uponSanitizeShadowNode",S0,null),cx(S0))continue;if(S0.content instanceof Z)P1(S0.content);sx(S0)}VQ("afterSanitizeShadowDOM",Y0,null)};return $.sanitize=function(P1){let Y0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S0,i0,o6,h8;if($6=!P1,$6)P1="<!-->";if(typeof P1!=="string"&&!MW(P1))if(typeof P1.toString==="function"){if(P1=P1.toString(),typeof P1!=="string")throw Nz("dirty is not a string, aborting")}else throw Nz("toString is not a function");if(!$.isSupported)return P1;if(!u1)e4(Y0);if($.removed=[],typeof P1==="string")n=!1;if(n){if(P1.nodeName){let eJ=v1(P1.nodeName);if(!u[eJ]||o[eJ])throw Nz("root node is forbidden and cannot be sanitized in-place")}}else if(P1 instanceof q)if(S0=mU("<!---->"),i0=S0.ownerDocument.importNode(P1,!0),i0.nodeType===1&&i0.nodeName==="BODY")S0=i0;else if(i0.nodeName==="HTML")S0=i0;else S0.appendChild(i0);else{if(!S6&&!w1&&!R0&&P1.indexOf("<")===-1)return R&&T6?R.createHTML(P1):P1;if(S0=mU(P1),!S0)return S6?null:T6?D:""}if(S0&&W6)tJ(S0.firstChild);let H4=RW(n?P1:S0);while(o6=H4.nextNode()){if(cx(o6))continue;if(o6.content instanceof Z)G10(o6.content);sx(o6)}if(n)return P1;if(S6){if(O1){h8=N.call(S0.ownerDocument);while(S0.firstChild)h8.appendChild(S0.firstChild)}else h8=S0;if(Z0.shadowroot||Z0.shadowrootmode)h8=T.call(Q,h8,!0);return h8}let k5=R0?S0.outerHTML:S0.innerHTML;if(R0&&u["!doctype"]&&S0.ownerDocument&&S0.ownerDocument.doctype&&S0.ownerDocument.doctype.name&&f9(PC,S0.ownerDocument.doctype.name))k5="<!DOCTYPE "+S0.ownerDocument.doctype.name+`>
`+k5;if(w1)k5=VJ(k5,k," "),k5=VJ(k5,x," "),k5=VJ(k5,S," ");return R&&T6?R.createHTML(k5):k5},$.setConfig=function(P1){e4(P1),u1=!0},$.clearConfig=function(){U5=null,u1=!1},$.isValidAttribute=function(P1,Y0,S0){if(!U5)e4({});let i0=v1(P1),o6=v1(Y0);return lx(i0,o6,S0)},$.addHook=function(P1,Y0){if(typeof Y0!=="function")return;I[P1]=I[P1]||[],_z(I[P1],Y0)},$.removeHook=function(P1){if(I[P1])return HC(I[P1])},$.removeHooks=function(P1){if(I[P1])I[P1]=[]},$.removeAllHooks=function(){I={}},$}var KC,zC,c60,l60,d60,g7,WJ,s60,VO,WO,a60,HC,_z,PF,qO,r60,VJ,i60,n60,f9,Nz,jC,UO,zO,t60,HO,e60,VC,WC,jO,BC,AF,J50,$50,Q50,X50,Y50,AC,Z50,G50,PC,FC,q50=()=>typeof window>"u"?null:window,U50=function($,Q){if(typeof $!=="object"||typeof $.createPolicy!=="function")return null;let X=null,Y="data-tt-policy-suffix";if(Q&&Q.hasAttribute(Y))X=Q.getAttribute(Y);let Z="dompurify"+(X?"#"+X:"");try{return $.createPolicy(Z,{createHTML(G){return G},createScriptURL(G){return G}})}catch(G){return console.warn("TrustedTypes policy "+Z+" could not be created."),null}},B$,cq0,lq0,DF,dq0,sq0,aq0,Tz,RF,rq0,iq0;var MF=E(()=>{/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */({entries:KC,setPrototypeOf:zC,isFrozen:c60,getPrototypeOf:l60,getOwnPropertyDescriptor:d60}=Object),{freeze:g7,seal:WJ,create:s60}=Object,{apply:VO,construct:WO}=typeof Reflect<"u"&&Reflect;if(!VO)VO=function($,Q,X){return $.apply(Q,X)};if(!g7)g7=function($){return $};if(!WJ)WJ=function($){return $};if(!WO)WO=function($,Q){return new $(...Q)};a60=w4(Array.prototype.forEach),HC=w4(Array.prototype.pop),_z=w4(Array.prototype.push),PF=w4(String.prototype.toLowerCase),qO=w4(String.prototype.toString),r60=w4(String.prototype.match),VJ=w4(String.prototype.replace),i60=w4(String.prototype.indexOf),n60=w4(String.prototype.trim),f9=w4(RegExp.prototype.test),Nz=o60(TypeError);jC=g7(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),UO=g7(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zO=g7(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t60=g7(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),HO=g7(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),e60=g7(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VC=g7(["#text"]),WC=g7(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jO=g7(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BC=g7(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),AF=g7(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J50=WJ(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$50=WJ(/<%[\w\W]*|[\w\W]*%>/gm),Q50=WJ(/\${[\w\W]*}/gm),X50=WJ(/^data-[\-\w.\u00B7-\uFFFF]/),Y50=WJ(/^aria-[\-\w]+$/),AC=WJ(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z50=WJ(/^(?:\w+script|data):/i),G50=WJ(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PC=WJ(/^html$/i),FC=Object.freeze({__proto__:null,MUSTACHE_EXPR:J50,ERB_EXPR:$50,TMPLIT_EXPR:Q50,DATA_ATTR:X50,ARIA_ATTR:Y50,IS_ALLOWED_URI:AC,IS_SCRIPT_OR_DATA:Z50,ATTR_WHITESPACE:G50,DOCTYPE_NAME:PC});B$=DC(),cq0=B$.version,lq0=B$.isSupported,DF=B$.sanitize,dq0=B$.setConfig,sq0=B$.clearConfig,aq0=B$.isValidAttribute,Tz=B$.addHook,RF=B$.removeHook,rq0=B$.removeHooks,iq0=B$.removeAllHooks});function Lz(J,$){if(m0.isUri(J))return _Q(J.scheme,$);else return nG(J,$+":")}function BO(J,...$){return $.some((Q)=>Lz(J,Q))}class OC{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${H1.vscodeRemoteResource}`}setPreferredWebSchema(J){this._preferredWebSchema=J}rewrite(J){if(this._delegate)try{return this._delegate(J)}catch(G){return Z1(G),J}let $=J.authority,Q=this._hosts[$];if(Q&&Q.indexOf(":")!==-1&&Q.indexOf("[")===-1)Q=`[${Q}]`;let X=this._ports[$],Y=this._connectionTokens[$],Z=`path=${encodeURIComponent(J.path)}`;if(typeof Y==="string")Z+=`&${z50}=${encodeURIComponent(Y)}`;return m0.from({scheme:Q$?this._preferredWebSchema:H1.vscodeRemoteResource,authority:`${Q}:${X}`,path:this._remoteResourcesPath,query:Z})}}class wz{uriToBrowserUri(J){if(J.scheme===H1.vscodeRemote)return FO.rewrite(J);if(J.scheme===H1.file&&(uX||Ab===`${H1.vscodeFileResource}://${wz.FALLBACK_AUTHORITY}`))return J.with({scheme:H1.vscodeFileResource,authority:J.authority||wz.FALLBACK_AUTHORITY,query:null,fragment:null});return J}}var H1,z50="tkn",FO,H50="vscode-app",OF,MC;var K9=E(()=>{T1();E1();G1();V5();(function(J){J.inMemory="inmemory",J.vscode="vscode",J.internal="private",J.walkThrough="walkThrough",J.walkThroughSnippet="walkThroughSnippet",J.http="http",J.https="https",J.file="file",J.mailto="mailto",J.untitled="untitled",J.data="data",J.command="command",J.vscodeRemote="vscode-remote",J.vscodeRemoteResource="vscode-remote-resource",J.vscodeManagedRemoteResource="vscode-managed-remote-resource",J.vscodeUserData="vscode-userdata",J.vscodeCustomEditor="vscode-custom-editor",J.vscodeNotebookCell="vscode-notebook-cell",J.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",J.vscodeNotebookCellOutput="vscode-notebook-cell-output",J.vscodeInteractiveInput="vscode-interactive-input",J.vscodeSettings="vscode-settings",J.vscodeWorkspaceTrust="vscode-workspace-trust",J.vscodeTerminal="vscode-terminal",J.vscodeChatSesssion="vscode-chat-editor",J.webviewPanel="webview-panel",J.vscodeWebview="vscode-webview",J.extension="extension",J.vscodeFileResource="vscode-file",J.tmp="tmp",J.vsls="vsls",J.vscodeSourceControl="vscode-scm"})(H1||(H1={}));FO=new OC;wz.FALLBACK_AUTHORITY=H50;OF=new wz;(function(J){let $=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);J.CoopAndCoep=Object.freeze($.get("3"));let Q="vscode-coi";function X(Z){let G;if(typeof Z==="string")G=new URL(Z).searchParams;else if(Z instanceof URL)G=Z.searchParams;else if(m0.isUri(Z))G=new URL(Z.toString(!0)).searchParams;let q=G===null||G===void 0?void 0:G.get(Q);if(!q)return;return $.get(q)}J.getHeadersFromQuery=X;function Y(Z,G,q){if(!globalThis.crossOriginIsolated)return;let U=G&&q?"3":q?"2":"1";if(Z instanceof URLSearchParams)Z.set(Q,U);else Z[Q]=U}J.addSearchParam=Y})(MC||(MC={}))});function QY(J){return Ez(J,0)}function Ez(J,$){switch(typeof J){case"object":if(J===null)return SQ(349,$);else if(Array.isArray(J))return V50(J,$);return W50(J,$);case"string":return _F(J,$);case"boolean":return j50(J,$);case"number":return SQ(J,$);case"undefined":return SQ(937,$);default:return SQ(617,$)}}function SQ(J,$){return($<<5)-$+J|0}function j50(J,$){return SQ(J?433:863,$)}function _F(J,$){$=SQ(149417,$);for(let Q=0,X=J.length;Q<X;Q++)$=SQ(J.charCodeAt(Q),$);return $}function V50(J,$){return $=SQ(104579,$),J.reduce((Q,X)=>Ez(X,Q),$)}function W50(J,$){return $=SQ(181387,$),Object.keys(J).sort().reduce((Q,X)=>{return Q=_F(X,Q),Ez(J[X],Q)},$)}function KO(J,$,Q=32){let X=Q-$,Y=~((1<<X)-1);return(J<<$|(Y&J)>>>X)>>>0}function _C(J,$=0,Q=J.byteLength,X=0){for(let Y=0;Y<Q;Y++)J[$+Y]=X}function B50(J,$,Q="0"){while(J.length<$)J=Q+J;return J}function kz(J,$=32){if(J instanceof ArrayBuffer)return Array.from(new Uint8Array(J)).map((Q)=>Q.toString(16).padStart(2,"0")).join("");return B50((J>>>0).toString(16),$/4)}class Iz{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(J){let $=J.length;if($===0)return;let Q=this._buff,X=this._buffLen,Y=this._leftoverHighSurrogate,Z,G;if(Y!==0)Z=Y,G=-1,Y=0;else Z=J.charCodeAt(0),G=0;while(!0){let q=Z;if(P6(Z))if(G+1<$){let U=J.charCodeAt(G+1);if(z$(U))G++,q=mB(Z,U);else q=65533}else{Y=Z;break}else if(z$(Z))q=65533;if(X=this._push(Q,X,q),G++,G<$)Z=J.charCodeAt(G);else break}this._buffLen=X,this._leftoverHighSurrogate=Y}_push(J,$,Q){if(Q<128)J[$++]=Q;else if(Q<2048)J[$++]=192|(Q&1984)>>>6,J[$++]=128|(Q&63)>>>0;else if(Q<65536)J[$++]=224|(Q&61440)>>>12,J[$++]=128|(Q&4032)>>>6,J[$++]=128|(Q&63)>>>0;else J[$++]=240|(Q&1835008)>>>18,J[$++]=128|(Q&258048)>>>12,J[$++]=128|(Q&4032)>>>6,J[$++]=128|(Q&63)>>>0;if($>=64)this._step(),$-=64,this._totalLen+=64,J[0]=J[64],J[1]=J[65],J[2]=J[66];return $}digest(){if(!this._finished){if(this._finished=!0,this._leftoverHighSurrogate)this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533);this._totalLen+=this._buffLen,this._wrapUp()}return kz(this._h0)+kz(this._h1)+kz(this._h2)+kz(this._h3)+kz(this._h4)}_wrapUp(){if(this._buff[this._buffLen++]=128,_C(this._buff,this._buffLen),this._buffLen>56)this._step(),_C(this._buff);let J=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(J/4294967296),!1),this._buffDV.setUint32(60,J%4294967296,!1),this._step()}_step(){let J=Iz._bigBlock32,$=this._buffDV;for(let H=0;H<64;H+=4)J.setUint32(H,$.getUint32(H,!1),!1);for(let H=64;H<320;H+=4)J.setUint32(H,KO(J.getUint32(H-12,!1)^J.getUint32(H-32,!1)^J.getUint32(H-56,!1)^J.getUint32(H-64,!1),1),!1);let Q=this._h0,X=this._h1,Y=this._h2,Z=this._h3,G=this._h4,q,U,z;for(let H=0;H<80;H++){if(H<20)q=X&Y|~X&Z,U=1518500249;else if(H<40)q=X^Y^Z,U=1859775393;else if(H<60)q=X&Y|X&Z|Y&Z,U=2400959708;else q=X^Y^Z,U=3395469782;z=KO(Q,5)+q+G+U+J.getUint32(H*4,!1)&4294967295,G=Z,Z=Y,Y=KO(X,30),X=Q,Q=z}this._h0=this._h0+Q&4294967295,this._h1=this._h1+X&4294967295,this._h2=this._h2+Y&4294967295,this._h3=this._h3+Z&4294967295,this._h4=this._h4+G&4294967295}}var XY=E(()=>{G1();Iz._bigBlock32=new DataView(new ArrayBuffer(320))});function c5(J){while(J.firstChild)J.firstChild.remove()}class kC{constructor(J,$,Q,X){this._node=J,this._type=$,this._handler=Q,this._options=X||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){if(!this._handler)return;this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null}}function t(J,$,Q,X){return new kC(J,$,Q,X)}function K50(J,$){return function(Q){return $(new j8(J,Q))}}function A50(J){return function($){return J(new _1($))}}function xz(J,$,Q){return U3(J,$,Q)}class NF{constructor(J,$=0){this._runner=J,this.priority=$,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(this._canceled)return;try{this._runner()}catch(J){Z1(J)}}static sort(J,$){return $.priority-J.priority}}function PO(J){return L0(J).getComputedStyle(J,null)}function K$(J,$){let Q=L0(J),X=Q.document;if(J!==X.body)return new Y6(J.clientWidth,J.clientHeight);if(x9&&(Q===null||Q===void 0?void 0:Q.visualViewport))return new Y6(Q.visualViewport.width,Q.visualViewport.height);if((Q===null||Q===void 0?void 0:Q.innerWidth)&&Q.innerHeight)return new Y6(Q.innerWidth,Q.innerHeight);if(X.body&&X.body.clientWidth&&X.body.clientHeight)return new Y6(X.body.clientWidth,X.body.clientHeight);if(X.documentElement&&X.documentElement.clientWidth&&X.documentElement.clientHeight)return new Y6(X.documentElement.clientWidth,X.documentElement.clientHeight);if($)return K$($);throw Error("Unable to figure out browser width and height")}class e6{static convertToPixels(J,$){return parseFloat($)||0}static getDimension(J,$,Q){let X=PO(J),Y=X?X.getPropertyValue($):"0";return e6.convertToPixels(J,Y)}static getBorderLeftWidth(J){return e6.getDimension(J,"border-left-width","borderLeftWidth")}static getBorderRightWidth(J){return e6.getDimension(J,"border-right-width","borderRightWidth")}static getBorderTopWidth(J){return e6.getDimension(J,"border-top-width","borderTopWidth")}static getBorderBottomWidth(J){return e6.getDimension(J,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(J){return e6.getDimension(J,"padding-left","paddingLeft")}static getPaddingRight(J){return e6.getDimension(J,"padding-right","paddingRight")}static getPaddingTop(J){return e6.getDimension(J,"padding-top","paddingTop")}static getPaddingBottom(J){return e6.getDimension(J,"padding-bottom","paddingBottom")}static getMarginLeft(J){return e6.getDimension(J,"margin-left","marginLeft")}static getMarginTop(J){return e6.getDimension(J,"margin-top","marginTop")}static getMarginRight(J){return e6.getDimension(J,"margin-right","marginRight")}static getMarginBottom(J){return e6.getDimension(J,"margin-bottom","marginBottom")}}class Y6{constructor(J,$){this.width=J,this.height=$}with(J=this.width,$=this.height){if(J!==this.width||$!==this.height)return new Y6(J,$);else return this}static is(J){return typeof J==="object"&&typeof J.height==="number"&&typeof J.width==="number"}static lift(J){if(J instanceof Y6)return J;else return new Y6(J.width,J.height)}static equals(J,$){if(J===$)return!0;if(!J||!$)return!1;return J.width===$.width&&J.height===$.height}}function EC(J){let{offsetParent:$,offsetTop:Q,offsetLeft:X}=J;while((J=J.parentNode)!==null&&J!==J.ownerDocument.body&&J!==J.ownerDocument.documentElement){Q-=J.scrollTop;let Y=xC(J)?null:PO(J);if(Y)X-=Y.direction!=="rtl"?J.scrollLeft:-J.scrollLeft;if(J===$)X+=e6.getBorderLeftWidth(J),Q+=e6.getBorderTopWidth(J),Q+=J.offsetTop,X+=J.offsetLeft,$=J.offsetParent}return{left:X,top:Q}}function IC(J,$,Q){if(typeof $==="number")J.style.width=`${$}px`;if(typeof Q==="number")J.style.height=`${Q}px`}function x5(J){let $=J.getBoundingClientRect(),Q=L0(J);return{left:$.left+Q.scrollX,top:$.top+Q.scrollY,width:$.width,height:$.height}}function wF(J){let $=J,Q=1;do{let X=PO($).zoom;if(X!==null&&X!==void 0&&X!=="1")Q*=X;$=$.parentElement}while($!==null&&$!==$.ownerDocument.documentElement);return Q}function j3(J){let $=e6.getMarginLeft(J)+e6.getMarginRight(J);return J.offsetWidth+$}function LF(J){let $=e6.getBorderLeftWidth(J)+e6.getBorderRightWidth(J),Q=e6.getPaddingLeft(J)+e6.getPaddingRight(J);return J.offsetWidth-$-Q}function yC(J){let $=e6.getBorderTopWidth(J)+e6.getBorderBottomWidth(J),Q=e6.getPaddingTop(J)+e6.getPaddingBottom(J);return J.offsetHeight-$-Q}function Sz(J){let $=e6.getMarginTop(J)+e6.getMarginBottom(J);return J.offsetHeight+$}function J5(J,$){return Boolean($===null||$===void 0?void 0:$.contains(J))}function P50(J,$,Q){while(J&&J.nodeType===J.ELEMENT_NODE){if(J.classList.contains($))return J;if(Q){if(typeof Q==="string"){if(J.classList.contains(Q))return null}else if(J===Q)return null}J=J.parentNode}return null}function kF(J,$,Q){return!!P50(J,$,Q)}function xC(J){return J&&!!J.host&&!!J.mode}function Q2(J){return!!CQ(J)}function CQ(J){var $;while(J.parentNode){if(J===(($=J.ownerDocument)===null||$===void 0?void 0:$.body))return null;J=J.parentNode}return xC(J)?J:null}function B5(){let J=IF().activeElement;while(J===null||J===void 0?void 0:J.shadowRoot)J=J.shadowRoot.activeElement;return J}function X2(J){return B5()===J}function EF(J){return J5(B5(),J)}function IF(){var J;if(F50()<=1)return F1.document;return(J=Array.from(wC()).map(({window:Q})=>Q.document).find((Q)=>Q.hasFocus()))!==null&&J!==void 0?J:F1.document}function bC(){var J,$;return($=(J=IF().defaultView)===null||J===void 0?void 0:J.window)!==null&&$!==void 0?$:F1}function b5(J=F1.document.head,$,Q){let X=document.createElement("style");if(X.type="text/css",X.media="screen",$===null||$===void 0||$(X),J.appendChild(X),Q)Q.add(y0(()=>J.removeChild(X)));if(J===F1.document.head){let Y=new Set;SC.set(X,Y);for(let{window:Z,disposables:G}of wC()){if(Z===F1)continue;let q=G.add(D50(X,Y,Z));Q===null||Q===void 0||Q.add(q)}}return X}function D50(J,$,Q){var X,Y;let Z=new q0,G=J.cloneNode(!0);Q.document.head.appendChild(G),Z.add(y0(()=>Q.document.head.removeChild(G)));for(let q of O50(J))(X=G.sheet)===null||X===void 0||X.insertRule(q.cssText,(Y=G.sheet)===null||Y===void 0?void 0:Y.cssRules.length);return Z.add(R50.observe(J,Z,{childList:!0})(()=>{G.textContent=J.textContent})),$.add(G),Z.add(y0(()=>$.delete(G))),Z}function M50(){if(!AO)AO=b5();return AO}function O50(J){var $,Q;if(($=J===null||J===void 0?void 0:J.sheet)===null||$===void 0?void 0:$.rules)return J.sheet.rules;if((Q=J===null||J===void 0?void 0:J.sheet)===null||Q===void 0?void 0:Q.cssRules)return J.sheet.cssRules;return[]}function yF(J,$,Q=M50()){var X,Y;if(!Q||!$)return;(X=Q.sheet)===null||X===void 0||X.insertRule(`${J} {${$}}`,0);for(let Z of(Y=SC.get(Q))!==null&&Y!==void 0?Y:[])yF(J,$,Z)}function V3(J){return J instanceof MouseEvent||J instanceof L0(J).MouseEvent}function W3(J){return J instanceof KeyboardEvent||J instanceof L0(J).KeyboardEvent}function CC(J){let $=J;return!!($&&typeof $.preventDefault==="function"&&typeof $.stopPropagation==="function")}function vC(J){let $=[];for(let Q=0;J&&J.nodeType===J.ELEMENT_NODE;Q++)$[Q]=J.scrollTop,J=J.parentNode;return $}function hC(J,$){for(let Q=0;J&&J.nodeType===J.ELEMENT_NODE;Q++){if(J.scrollTop!==$[Q])J.scrollTop=$[Q];J=J.parentNode}}function vQ(J){return new TF(J)}function fC(J,$){return J.after($),$}function P0(J,...$){if(J.append(...$),$.length===1&&typeof $[0]!=="string")return $[0]}function B3(J,$){return J.insertBefore($,J.firstChild),$}function w5(J,...$){J.innerText="",P0(J,...$)}function gC(J,$,Q,...X){let Y=_50.exec($);if(!Y)throw Error("Bad use of emmet");let Z=Y[1]||"div",G;if(J!==yz.HTML)G=document.createElementNS(J,Z);else G=document.createElement(Z);if(Y[3])G.id=Y[3];if(Y[4])G.className=Y[4].replace(/\./g," ").trim();if(Q)Object.entries(Q).forEach(([q,U])=>{if(typeof U>"u")return;if(/^on\w+$/.test(q))G[q]=U;else if(q==="selected"){if(U)G.setAttribute(q,"true")}else G.setAttribute(q,U)});return G.append(...X),G}function M0(J,$,...Q){return gC(yz.HTML,J,$,...Q)}function p7(...J){for(let $ of J)$.style.display="",$.removeAttribute("aria-hidden")}function m7(...J){for(let $ of J)$.style.display="none",$.setAttribute("aria-hidden","true")}function DO(J,$){let Q=J.devicePixelRatio*$;return Math.max(1,Math.floor(Q))/J.devicePixelRatio}function xF(J){F1.open(J,"_blank","noopener")}function pC(J,$){let Q=()=>{$(),X=y5(J,Q)},X=y5(J,Q);return y0(()=>X.dispose())}function L4(J){if(!J)return"url('')";return`url('${OF.uriToBrowserUri(J).toString(!0).replace(/'/g,"%27")}')`}function RO(J){return`'${J.replace(/'/g,"%27")}'`}function g9(J,$){if(J!==void 0){let Q=J.match(/^\s*var\((.+)\)$/);if(Q){let X=Q[1].split(",",2);if(X.length===2)$=g9(X[1].trim(),$);return`var(${X[0]}, ${$})`}return J}return $}function mC(J,$=!1){let Q=document.createElement("a");return Tz("afterSanitizeAttributes",(X)=>{for(let Y of["href","src"])if(X.hasAttribute(Y)){let Z=X.getAttribute(Y);if(Y==="href"&&Z.startsWith("#"))continue;if(Q.href=Z,!J.includes(Q.protocol.replace(/:$/,""))){if($&&Y==="src"&&Q.href.startsWith("data:"))continue;X.removeAttribute(Y)}}}),y0(()=>{RF("afterSanitizeAttributes")})}function o1(J,...$){let Q,X;if(Array.isArray($[0]))Q={},X=$[0];else Q=$[0]||{},X=$[1];let Y=N50.exec(J);if(!Y||!Y.groups)throw Error("Bad use of h");let Z=Y.groups.tag||"div",G=document.createElement(Z);if(Y.groups.id)G.id=Y.groups.id;let q=[];if(Y.groups.class){for(let z of Y.groups.class.split("."))if(z!=="")q.push(z)}if(Q.className!==void 0){for(let z of Q.className.split("."))if(z!=="")q.push(z)}if(q.length>0)G.className=q.join(" ");let U={};if(Y.groups.name)U[Y.groups.name]=G;if(X){for(let z of X)if(z instanceof HTMLElement)G.appendChild(z);else if(typeof z==="string")G.append(z);else if("root"in z)Object.assign(U,z),G.appendChild(z.root)}for(let[z,H]of Object.entries(Q))if(z==="className")continue;else if(z==="style")for(let[j,B]of Object.entries(H))G.style.setProperty(TC(j),typeof B==="number"?B+"px":""+B);else if(z==="tabIndex")G.tabIndex=H;else G.setAttribute(TC(z),H.toString());return U.root=G,U}function TC(J){return J.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var zU0,L0,HU0,wC,F50,NC,jU0,VU0,J2,LC,WU0,q6=function($,Q,X,Y){let Z=X;if(Q==="click"||Q==="mousedown")Z=K50(L0($),X);else if(Q==="keydown"||Q==="keypress"||Q==="keyup")Z=A50(X);return t($,Q,Z,Y)},bz,H3,y5,$2,SC,R50,AO=null,W0,o0,TF,_50,yz,uC,BU0,F$,MO,N50;var x0=E(()=>{M7();jF();k8();h9();J6();T1();E0();MF();B0();K9();E1();XY();H8();({registerWindow:zU0,getWindow:L0,getDocument:HU0,getWindows:wC,getWindowsCount:F50,getWindowId:NC,getWindowById:jU0,hasWindow:VU0,onDidRegisterWindow:J2,onWillUnregisterWindow:LC,onDidUnregisterWindow:WU0}=function(){let J=new Map;yS(F1,1),J.set(F1.vscodeWindowId,{window:F1,disposables:new q0});let $=new p,Q=new p,X=new p;return{onDidRegisterWindow:$.event,onWillUnregisterWindow:X.event,onDidUnregisterWindow:Q.event,registerWindow(Y){if(J.has(Y.vscodeWindowId))return r.None;let Z=new q0,G={window:Y,disposables:Z.add(new q0)};return J.set(Y.vscodeWindowId,G),Z.add(y0(()=>{J.delete(Y.vscodeWindowId),Q.fire(Y)})),Z.add(t(Y,W0.BEFORE_UNLOAD,()=>{X.fire(Y)})),$.fire(G),Z},getWindows(){return J.values()},getWindowsCount(){return J.size},getWindowId(Y){return Y.vscodeWindowId},hasWindow(Y){return J.has(Y)},getWindowById(Y){return J.get(Y)},getWindow(Y){var Z;let G=Y;if((Z=G===null||G===void 0?void 0:G.ownerDocument)===null||Z===void 0?void 0:Z.defaultView)return G.ownerDocument.defaultView.window;let q=Y;if(q===null||q===void 0?void 0:q.view)return q.view.window;return F1},getDocument(Y){return L0(Y).document}}}());bz=class bz extends FF{constructor(J,$){super(J,$)}};$2=class $2 extends eZ{constructor(J){super();this.defaultTarget=J&&L0(J)}cancelAndSet(J,$,Q){return super.cancelAndSet(J,$,Q!==null&&Q!==void 0?Q:this.defaultTarget)}};(function(){let J=new Map,$=new Map,Q=new Map,X=new Map,Y=(Z)=>{var G;Q.set(Z,!1);let q=(G=J.get(Z))!==null&&G!==void 0?G:[];$.set(Z,q),J.set(Z,[]),X.set(Z,!0);while(q.length>0)q.sort(NF.sort),q.shift().execute();X.set(Z,!1)};y5=(Z,G,q=0)=>{let U=NC(Z),z=new NF(G,q),H=J.get(U);if(!H)H=[],J.set(U,H);if(H.push(z),!Q.get(U))Q.set(U,!0),Z.requestAnimationFrame(()=>Y(U));return z},H3=(Z,G,q)=>{let U=NC(Z);if(X.get(U)){let z=new NF(G,q),H=$.get(U);if(!H)H=[],$.set(U,H);return H.push(z),z}else return y5(Z,G,q)}})();Y6.None=new Y6(0,0);SC=new Map;R50=new class{constructor(){this.mutationObservers=new Map}observe(J,$,Q){let X=this.mutationObservers.get(J);if(!X)X=new Map,this.mutationObservers.set(J,X);let Y=QY(Q),Z=X.get(Y);if(!Z){let G=new p,q=new MutationObserver((z)=>G.fire(z));q.observe(J,Q);let U=Z={users:1,observer:q,onDidMutate:G.event};$.add(y0(()=>{if(U.users-=1,U.users===0){if(G.dispose(),q.disconnect(),X===null||X===void 0||X.delete(Y),(X===null||X===void 0?void 0:X.size)===0)this.mutationObservers.delete(J)}})),X.set(Y,Z)}else Z.users+=1;return Z.onDidMutate}};W0={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:UJ?"webkitAnimationStart":"animationstart",ANIMATION_END:UJ?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:UJ?"webkitAnimationIteration":"animationiteration"};o0={stop:(J,$)=>{if(J.preventDefault(),$)J.stopPropagation();return J}};TF=class TF extends r{static hasFocusWithin(J){if(J instanceof HTMLElement){let $=CQ(J),Q=$?$.activeElement:J.ownerDocument.activeElement;return J5(Q,J)}else{let $=J;return J5($.document.activeElement,$.document)}}constructor(J){super();this._onDidFocus=this._register(new p),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new p),this.onDidBlur=this._onDidBlur.event;let $=TF.hasFocusWithin(J),Q=!1,X=()=>{if(Q=!1,!$)$=!0,this._onDidFocus.fire()},Y=()=>{if($)Q=!0,(J instanceof HTMLElement?L0(J):J).setTimeout(()=>{if(Q)Q=!1,$=!1,this._onDidBlur.fire()},0)};if(this._refreshStateHandler=()=>{if(TF.hasFocusWithin(J)!==$)if($)Y();else X()},this._register(t(J,W0.FOCUS,X,!0)),this._register(t(J,W0.BLUR,Y,!0)),J instanceof HTMLElement)this._register(t(J,W0.FOCUS_IN,()=>this._refreshStateHandler())),this._register(t(J,W0.FOCUS_OUT,()=>this._refreshStateHandler()))}};_50=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(J){J.HTML="http://www.w3.org/1999/xhtml",J.SVG="http://www.w3.org/2000/svg"})(yz||(yz={}));M0.SVG=function(J,$,...Q){return gC(yz.SVG,J,$,...Q)};FO.setPreferredWebSchema(/^https:/.test(F1.location.href)?"https":"http");uC=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),BU0=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});F$=class F$ extends p{constructor(){super();this._subscriptions=new q0,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(V0.runAndSubscribe(J2,({window:J,disposables:$})=>this.registerListeners(J,$),{window:F1,disposables:this._subscriptions}))}registerListeners(J,$){$.add(t(J,"keydown",(Q)=>{if(Q.defaultPrevented)return;let X=new _1(Q);if(X.keyCode===6&&Q.repeat)return;if(Q.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Q.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Q.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Q.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(X.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;if(this._keyStatus.altKey=Q.altKey,this._keyStatus.ctrlKey=Q.ctrlKey,this._keyStatus.metaKey=Q.metaKey,this._keyStatus.shiftKey=Q.shiftKey,this._keyStatus.lastKeyPressed)this._keyStatus.event=Q,this.fire(this._keyStatus)},!0)),$.add(t(J,"keyup",(Q)=>{if(Q.defaultPrevented)return;if(!Q.altKey&&this._keyStatus.altKey)this._keyStatus.lastKeyReleased="alt";else if(!Q.ctrlKey&&this._keyStatus.ctrlKey)this._keyStatus.lastKeyReleased="ctrl";else if(!Q.metaKey&&this._keyStatus.metaKey)this._keyStatus.lastKeyReleased="meta";else if(!Q.shiftKey&&this._keyStatus.shiftKey)this._keyStatus.lastKeyReleased="shift";else this._keyStatus.lastKeyReleased=void 0;if(this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased)this._keyStatus.lastKeyPressed=void 0;if(this._keyStatus.altKey=Q.altKey,this._keyStatus.ctrlKey=Q.ctrlKey,this._keyStatus.metaKey=Q.metaKey,this._keyStatus.shiftKey=Q.shiftKey,this._keyStatus.lastKeyReleased)this._keyStatus.event=Q,this.fire(this._keyStatus)},!0)),$.add(t(J.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),$.add(t(J.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),$.add(t(J.document.body,"mousemove",(Q)=>{if(Q.buttons)this._keyStatus.lastKeyPressed=void 0},!0)),$.add(t(J,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){if(!F$.instance)F$.instance=new F$;return F$.instance}dispose(){super.dispose(),this._subscriptions.dispose()}};MO=class MO extends r{constructor(J,$){super();this.element=J,this.callbacks=$,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){if(this.callbacks.onDragStart)this._register(t(this.element,W0.DRAG_START,(J)=>{var $,Q;(Q=($=this.callbacks).onDragStart)===null||Q===void 0||Q.call($,J)}));if(this.callbacks.onDrag)this._register(t(this.element,W0.DRAG,(J)=>{var $,Q;(Q=($=this.callbacks).onDrag)===null||Q===void 0||Q.call($,J)}));this._register(t(this.element,W0.DRAG_ENTER,(J)=>{var $,Q;this.counter++,this.dragStartTime=J.timeStamp,(Q=($=this.callbacks).onDragEnter)===null||Q===void 0||Q.call($,J)})),this._register(t(this.element,W0.DRAG_OVER,(J)=>{var $,Q;J.preventDefault(),(Q=($=this.callbacks).onDragOver)===null||Q===void 0||Q.call($,J,J.timeStamp-this.dragStartTime)})),this._register(t(this.element,W0.DRAG_LEAVE,(J)=>{var $,Q;if(this.counter--,this.counter===0)this.dragStartTime=0,(Q=($=this.callbacks).onDragLeave)===null||Q===void 0||Q.call($,J)})),this._register(t(this.element,W0.DRAG_END,(J)=>{var $,Q;this.counter=0,this.dragStartTime=0,(Q=($=this.callbacks).onDragEnd)===null||Q===void 0||Q.call($,J)})),this._register(t(this.element,W0.DROP,(J)=>{var $,Q;this.counter=0,this.dragStartTime=0,(Q=($=this.callbacks).onDrop)===null||Q===void 0||Q.call($,J)}))}};N50=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/});class F3{constructor(J){this.id=J.id,this.precondition=J.precondition,this._kbOpts=J.kbOpts,this._menuOpts=J.menuOpts,this.metadata=J.metadata}register(){if(Array.isArray(this._menuOpts))this._menuOpts.forEach(this._registerMenuItem,this);else if(this._menuOpts)this._registerMenuItem(this._menuOpts);if(this._kbOpts){let J=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let $ of J){let Q=$.kbExpr;if(this.precondition)if(Q)Q=v0.and(Q,this.precondition);else Q=this.precondition;let X={id:this.id,weight:$.weight,args:$.args,when:Q,primary:$.primary,secondary:$.secondary,win:$.win,linux:$.linux,mac:$.mac};jJ.registerKeybindingRule(X)}}O6.registerCommand({id:this.id,handler:(J,$)=>this.runCommand(J,$),metadata:this.metadata})}_registerMenuItem(J){W$.appendMenuItem(J.menuId,{group:J.group,command:{id:this.id,title:J.title,icon:J.icon,precondition:this.precondition},when:J.when,order:J.order})}}function f0(J){return p9.INSTANCE.registerEditorCommand(J),J}function F5(J){let $=new J;return p9.INSTANCE.registerEditorAction($),$}function cC(J){p9.INSTANCE.registerEditorAction(J)}function m9(J,$,Q){p9.INSTANCE.registerEditorContribution(J,$,Q)}class p9{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(J,$,Q){this.editorContributions.push({id:J,ctor:$,instantiation:Q})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(J){J.register(),this.editorActions.push(J)}getEditorActions(){return this.editorActions}registerEditorCommand(J){J.register(),this.editorCommands[J.id]=J}getEditorCommand(J){return this.editorCommands[J]||null}}function Cz(J){return J.register(),J}var bF,OO,u7,k4,YY,T50,_O,NO,lC;var u9=E(()=>{a0();V5();V9();kQ();Fz();_4();G7();e1();n0();Z3();U7();JY();B9();x0();bF=class bF extends F3{constructor(){super(...arguments);this._implementations=[]}addImplementation(J,$,Q,X){return this._implementations.push({priority:J,name:$,implementation:Q,when:X}),this._implementations.sort((Y,Z)=>Z.priority-Y.priority),{dispose:()=>{for(let Y=0;Y<this._implementations.length;Y++)if(this._implementations[Y].implementation===Q){this._implementations.splice(Y,1);return}}}}runCommand(J,$){let Q=J.get(A5),X=J.get(s0);Q.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let Y of this._implementations){if(Y.when){let G=X.getContext(B5());if(!Y.when.evaluate(G))continue}let Z=Y.implementation(J,$);if(Z){if(Q.trace(`Command '${this.id}' was handled by '${Y.name}'.`),typeof Z==="boolean")return;return Z}}Q.trace(`The Command '${this.id}' was not handled by any implementation.`)}};OO=class OO extends F3{constructor(J,$){super($);this.command=J}runCommand(J,$){return this.command.runCommand(J,$)}};u7=class u7 extends F3{static bindToContribution(J){return class extends u7{constructor(Q){super(Q);this._callback=Q.handler}runEditorCommand(Q,X,Y){let Z=J(X);if(Z)this._callback(Z,Y)}}}static runEditorCommand(J,$,Q,X){let Y=J.get(X6),Z=Y.getFocusedCodeEditor()||Y.getActiveCodeEditor();if(!Z)return;return Z.invokeWithinContext((G)=>{if(!G.get(s0).contextMatchesRules(Q!==null&&Q!==void 0?Q:void 0))return;return X(G,Z,$)})}runCommand(J,$){return u7.runEditorCommand(J,$,this.precondition,(Q,X,Y)=>this.runEditorCommand(Q,X,Y))}};k4=class k4 extends u7{static convertOptions(J){let $;if(Array.isArray(J.menuOpts))$=J.menuOpts;else if(J.menuOpts)$=[J.menuOpts];else $=[];function Q(X){if(!X.menuId)X.menuId=g.EditorContext;if(!X.title)X.title=J.label;return X.when=v0.and(J.precondition,X.when),X}if(Array.isArray(J.contextMenuOpts))$.push(...J.contextMenuOpts.map(Q));else if(J.contextMenuOpts)$.push(Q(J.contextMenuOpts));return J.menuOpts=$,J}constructor(J){super(k4.convertOptions(J));this.label=J.label,this.alias=J.alias}runEditorCommand(J,$,Q){return this.reportTelemetry(J,$),this.run(J,$,Q||{})}reportTelemetry(J,$){J.get(z7).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}};(function(J){function $(G){return p9.INSTANCE.getEditorCommand(G)}J.getEditorCommand=$;function Q(){return p9.INSTANCE.getEditorActions()}J.getEditorActions=Q;function X(){return p9.INSTANCE.getEditorContributions()}J.getEditorContributions=X;function Y(G){return p9.INSTANCE.getEditorContributions().filter((q)=>G.indexOf(q.id)>=0)}J.getSomeEditorContributions=Y;function Z(){return p9.INSTANCE.getDiffEditorContributions()}J.getDiffEditorContributions=Z})(YY||(YY={}));T50={EditorCommonContributions:"editor.contributions"};p9.INSTANCE=new p9;G6.add(T50.EditorCommonContributions,p9.INSTANCE);_O=Cz(new bF({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:g.MenubarEditMenu,group:"1_do",title:M({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:g.CommandPalette,group:"",title:M("undo","Undo"),order:1}]}));Cz(new OO(_O,{id:"default:undo",precondition:void 0}));NO=Cz(new bF({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:g.MenubarEditMenu,group:"1_do",title:M({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:g.CommandPalette,group:"",title:M("redo","Redo"),order:1}]}));Cz(new OO(NO,{id:"default:redo",precondition:void 0}));lC=Cz(new bF({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:g.MenubarSelectionMenu,group:"1_basic",title:M({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:g.CommandPalette,group:"",title:M("selectAll","Select All"),order:1}]}))});function vz(J){if(!Q$)return;if(!dC)dC=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq");console.warn(J.message)}class aC{constructor(J,$,Q,X){this.vsWorker=J,this.req=$,this.method=Q,this.args=X,this.type=0}}class TO{constructor(J,$,Q,X){this.vsWorker=J,this.seq=$,this.res=Q,this.err=X,this.type=1}}class rC{constructor(J,$,Q,X){this.vsWorker=J,this.req=$,this.eventName=Q,this.arg=X,this.type=2}}class iC{constructor(J,$,Q){this.vsWorker=J,this.req=$,this.event=Q,this.type=3}}class nC{constructor(J,$){this.vsWorker=J,this.req=$,this.type=4}}class wO{constructor(J){this._workerId=-1,this._handler=J,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(J){this._workerId=J}sendMessage(J,$){let Q=String(++this._lastSentReq);return new Promise((X,Y)=>{this._pendingReplies[Q]={resolve:X,reject:Y},this._send(new aC(this._workerId,Q,J,$))})}listen(J,$){let Q=null,X=new p({onWillAddFirstListener:()=>{Q=String(++this._lastSentReq),this._pendingEmitters.set(Q,X),this._send(new rC(this._workerId,Q,J,$))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Q),this._send(new nC(this._workerId,Q)),Q=null}});return X.event}handleMessage(J){if(!J||!J.vsWorker)return;if(this._workerId!==-1&&J.vsWorker!==this._workerId)return;this._handleMessage(J)}_handleMessage(J){switch(J.type){case 1:return this._handleReplyMessage(J);case 0:return this._handleRequestMessage(J);case 2:return this._handleSubscribeEventMessage(J);case 3:return this._handleEventMessage(J);case 4:return this._handleUnsubscribeEventMessage(J)}}_handleReplyMessage(J){if(!this._pendingReplies[J.seq]){console.warn("Got reply to unknown seq");return}let $=this._pendingReplies[J.seq];if(delete this._pendingReplies[J.seq],J.err){let Q=J.err;if(J.err.$isError)Q=Error(),Q.name=J.err.name,Q.message=J.err.message,Q.stack=J.err.stack;$.reject(Q);return}$.resolve(J.res)}_handleRequestMessage(J){let $=J.req;this._handler.handleMessage(J.method,J.args).then((X)=>{this._send(new TO(this._workerId,$,X,void 0))},(X)=>{if(X.detail instanceof Error)X.detail=WM(X.detail);this._send(new TO(this._workerId,$,void 0,WM(X)))})}_handleSubscribeEventMessage(J){let $=J.req,Q=this._handler.handleEvent(J.eventName,J.arg)((X)=>{this._send(new iC(this._workerId,$,X))});this._pendingEvents.set($,Q)}_handleEventMessage(J){if(!this._pendingEmitters.has(J.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(J.req).fire(J.event)}_handleUnsubscribeEventMessage(J){if(!this._pendingEvents.has(J.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(J.req).dispose(),this._pendingEvents.delete(J.req)}_send(J){let $=[];if(J.type===0){for(let Q=0;Q<J.args.length;Q++)if(J.args[Q]instanceof ArrayBuffer)$.push(J.args[Q])}else if(J.type===1){if(J.res instanceof ArrayBuffer)$.push(J.res)}this._handler.sendMessage(J,$)}}function kO(J){return J[0]==="o"&&J[1]==="n"&&U$(J.charCodeAt(2))}function EO(J){return/^onDynamic/.test(J)&&U$(J.charCodeAt(9))}function oC(J,$,Q){let X=(G)=>{return function(){let q=Array.prototype.slice.call(arguments,0);return $(G,q)}},Y=(G)=>{return function(q){return Q(G,q)}},Z={};for(let G of J){if(EO(G)){Z[G]=Y(G);continue}if(kO(G)){Z[G]=Q(G,void 0);continue}Z[G]=X(G)}return Z}class w50{constructor(J,$){this._requestHandlerFactory=$,this._requestHandler=null,this._protocol=new wO({sendMessage:(Q,X)=>{J(Q,X)},handleMessage:(Q,X)=>this._handleMessage(Q,X),handleEvent:(Q,X)=>this._handleEvent(Q,X)})}onmessage(J){this._protocol.handleMessage(J)}_handleMessage(J,$){if(J===sC)return this.initialize($[0],$[1],$[2],$[3]);if(!this._requestHandler||typeof this._requestHandler[J]!=="function")return Promise.reject(Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._requestHandler[J].apply(this._requestHandler,$))}catch(Q){return Promise.reject(Q)}}_handleEvent(J,$){if(!this._requestHandler)throw Error("Missing requestHandler");if(EO(J)){let Q=this._requestHandler[J].call(this._requestHandler,$);if(typeof Q!=="function")throw Error(`Missing dynamic event ${J} on request handler.`);return Q}if(kO(J)){let Q=this._requestHandler[J];if(typeof Q!=="function")throw Error(`Missing event ${J} on request handler.`);return Q}throw Error(`Malformed event name ${J}`)}initialize(J,$,Q,X){this._protocol.setWorkerId(J);let G=oC(X,(q,U)=>{return this._protocol.sendMessage(q,U)},(q,U)=>{return this._protocol.listen(q,U)});if(this._requestHandlerFactory)return this._requestHandler=this._requestHandlerFactory(G),Promise.resolve(mX(this._requestHandler));if($){if(typeof $.baseUrl<"u")delete $.baseUrl;if(typeof $.paths<"u"){if(typeof $.paths.vs<"u")delete $.paths.vs}if(typeof $.trustedTypesPolicy<"u")delete $.trustedTypesPolicy;$.catchError=!0,globalThis.require.config($)}return new Promise((q,U)=>{let z=globalThis.require;z([Q],(H)=>{if(this._requestHandler=H.create(G),!this._requestHandler){U(Error("No RequestHandler!"));return}q(mX(this._requestHandler))},U)})}}var sC="$initialize",dC=!1,LO;var IO=E(()=>{T1();E0();B0();P7();E1();G1();LO=class LO extends r{constructor(J,$,Q){super();let X=null;this._worker=this._register(J.create("vs/base/common/worker/simpleWorker",(z)=>{this._protocol.handleMessage(z)},(z)=>{X===null||X===void 0||X(z)})),this._protocol=new wO({sendMessage:(z,H)=>{this._worker.postMessage(z,H)},handleMessage:(z,H)=>{if(typeof Q[z]!=="function")return Promise.reject(Error("Missing method "+z+" on main thread host."));try{return Promise.resolve(Q[z].apply(Q,H))}catch(j){return Promise.reject(j)}},handleEvent:(z,H)=>{if(EO(z)){let j=Q[z].call(Q,H);if(typeof j!=="function")throw Error(`Missing dynamic event ${z} on main thread host.`);return j}if(kO(z)){let j=Q[z];if(typeof j!=="function")throw Error(`Missing event ${z} on main thread host.`);return j}throw Error(`Malformed event name ${z}`)}}),this._protocol.setWorkerId(this._worker.getId());let Y=null,Z=globalThis.require;if(typeof Z<"u"&&typeof Z.getConfig==="function")Y=Z.getConfig();else if(typeof globalThis.requirejs<"u")Y=globalThis.requirejs.s.contexts._.config;let G=mX(Q);this._onModuleLoaded=this._protocol.sendMessage(sC,[this._worker.getId(),JSON.parse(JSON.stringify(Y)),$,G]);let q=(z,H)=>{return this._request(z,H)},U=(z,H)=>{return this._protocol.listen(z,H)};this._lazyProxy=new Promise((z,H)=>{X=H,this._onModuleLoaded.then((j)=>{z(oC(j,q,U))},(j)=>{H(j),this._onError("Worker failed to load "+$,j)})})}getProxyObject(){return this._lazyProxy}_request(J,$){return new Promise((Q,X)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(J,$).then(Q,X)},X)})}_onError(J,$){console.error(J),console.info($)}}});function A9(J,$){var Q;let X=globalThis.MonacoEnvironment;if(X===null||X===void 0?void 0:X.createTrustedTypesPolicy)try{return X.createTrustedTypesPolicy(J,$)}catch(Y){Z1(Y);return}try{return(Q=F1.trustedTypes)===null||Q===void 0?void 0:Q.createPolicy(J,$)}catch(Y){Z1(Y);return}}var ZY=E(()=>{H8();T1()});function L50(J){let $=globalThis.MonacoEnvironment;if($){if(typeof $.getWorker==="function")return $.getWorker("workerMain.js",J);if(typeof $.getWorkerUrl==="function"){let Q=$.getWorkerUrl("workerMain.js",J);return new Worker(tC?tC.createScriptURL(Q):Q,{name:J})}}throw Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function k50(J){if(typeof J.then==="function")return!0;return!1}class hz{constructor(J){this._label=J,this._webWorkerFailedBeforeError=!1}create(J,$,Q){let X=++hz.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new eC(J,X,this._label||"anonymous"+X,$,(Y)=>{vz(Y),this._webWorkerFailedBeforeError=Y,Q(Y)})}}var tC,eC;var Jv=E(()=>{ZY();T1();IO();B0();tC=A9("defaultWorkerFactory",{createScriptURL:(J)=>J});eC=class eC extends r{constructor(J,$,Q,X,Y){super();this.id=$,this.label=Q;let Z=L50(Q);if(k50(Z))this.worker=Z;else this.worker=Promise.resolve(Z);this.postMessage(J,[]),this.worker.then((G)=>{if(G.onmessage=function(q){X(q.data)},G.onmessageerror=Y,typeof G.addEventListener==="function")G.addEventListener("error",Y)}),this._register(y0(()=>{var G;(G=this.worker)===null||G===void 0||G.then((q)=>{q.onmessage=null,q.onmessageerror=null,q.removeEventListener("error",Y),q.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(J,$){var Q;(Q=this.worker)===null||Q===void 0||Q.then((X)=>{try{X.postMessage(J,$)}catch(Y){Z1(Y),Z1(Error(`FAILED to post message to '${this.label}'-worker`,{cause:Y}))}})}};hz.LAST_WORKER_ID=0});class gz{constructor(J){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=J.open,this.close=J.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(J.notIn))for(let $=0,Q=J.notIn.length;$<Q;$++)switch(J.notIn[$]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(J){switch(J){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(J,$){if(J.getTokenCount()===0)return!0;let Q=J.findTokenIndexAtOffset($-2),X=J.getStandardTokenType(Q);return this.isOK(X)}_findNeutralCharacterInRange(J,$){for(let Q=J;Q<=$;Q++){let X=String.fromCharCode(Q);if(!this.open.includes(X)&&!this.close.includes(X))return X}return null}findNeutralCharacter(){if(!this._neutralCharacterSearched){if(this._neutralCharacterSearched=!0,!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(48,57);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(97,122);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(65,90)}return this._neutralCharacter}}class yO{constructor(J){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let $ of J)if(fz(this.autoClosingPairsOpenByStart,$.open.charAt(0),$),fz(this.autoClosingPairsOpenByEnd,$.open.charAt($.open.length-1),$),fz(this.autoClosingPairsCloseByStart,$.close.charAt(0),$),fz(this.autoClosingPairsCloseByEnd,$.close.charAt($.close.length-1),$),$.close.length===1&&$.open.length===1)fz(this.autoClosingPairsCloseSingleChar,$.close,$)}}function fz(J,$,Q){if(J.has($))J.get($).push(Q);else J.set($,[Q])}var o5;var Y2=E(()=>{(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(o5||(o5={}))});function GY(J,$){let Q=J.getCount(),X=J.findTokenIndexAtOffset($),Y=J.getLanguageId(X),Z=X;while(Z+1<Q&&J.getLanguageId(Z+1)===Y)Z++;let G=X;while(G>0&&J.getLanguageId(G-1)===Y)G--;return new $v(J,Y,G,Z+1,J.getStartOffset(G),J.getEndOffset(Z))}class $v{constructor(J,$,Q,X,Y,Z){this._scopedLineTokensBrand=void 0,this._actual=J,this.languageId=$,this._firstTokenIndex=Q,this._lastTokenIndex=X,this.firstCharOffset=Y,this._lastCharOffset=Z}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(J){return this._actual.getLineContent().substring(0,this.firstCharOffset+J)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(J){return this._actual.findTokenIndexAtOffset(J+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(J){return this._actual.getStandardTokenType(J+this._firstTokenIndex)}}function E4(J){return(J&3)!==0}class Z2{constructor(J){if(J.autoClosingPairs)this._autoClosingPairs=J.autoClosingPairs.map(($)=>new gz($));else if(J.brackets)this._autoClosingPairs=J.brackets.map(($)=>new gz({open:$[0],close:$[1]}));else this._autoClosingPairs=[];if(J.__electricCharacterSupport&&J.__electricCharacterSupport.docComment){let $=J.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new gz({open:$.open,close:$.close||""}))}this._autoCloseBeforeForQuotes=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:Z2.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:Z2.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=J.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(J){return J?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}var Qv=E(()=>{Y2();Z2.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`;Z2.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`});class SF{static wrap(J){if(Xv&&!Buffer.isBuffer(J))J=Buffer.from(J.buffer,J.byteOffset,J.byteLength);return new SF(J)}constructor(J){this.buffer=J,this.byteLength=this.buffer.byteLength}toString(){if(Xv)return this.buffer.toString();else{if(!xO)xO=new TextDecoder;return xO.decode(this.buffer)}}}function Yv(J,$){return J[$+0]<<0>>>0|J[$+1]<<8>>>0}function Zv(J,$,Q){J[Q+0]=$&255,$=$>>>8,J[Q+1]=$&255}function c9(J,$){return J[$]*16777216+J[$+1]*65536+J[$+2]*256+J[$+3]}function l9(J,$,Q){J[Q+3]=$,$=$>>>8,J[Q+2]=$,$=$>>>8,J[Q+1]=$,$=$>>>8,J[Q]=$}function bO(J,$){return J[$]}function SO(J,$,Q){J[Q]=$}var Xv,tU0,xO;var pz=E(()=>{Xv=typeof Buffer<"u",tU0=new z9(()=>new Uint8Array(256))});function Gv(){if(!vO)vO=new TextDecoder("UTF-16LE");return vO}function E50(){if(!hO)hO=new TextDecoder("UTF-16BE");return hO}function gO(){if(!fO)fO=Pb()?Gv():E50();return fO}function qv(J,$,Q){let X=new Uint16Array(J.buffer,$,Q);if(Q>0&&(X[0]===65279||X[0]===65534))return I50(J,$,Q);return Gv().decode(X)}function I50(J,$,Q){let X=[],Y=0;for(let Z=0;Z<Q;Z++){let G=Yv(J,$);$+=2,X[Y++]=String.fromCharCode(G)}return X.join("")}class hQ{constructor(J){this._capacity=J|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){if(this._completedStrings!==null)return this._flushBuffer(),this._completedStrings.join("");return this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";let J=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return gO().decode(J)}_flushBuffer(){let J=this._buildBuffer();if(this._bufferLength=0,this._completedStrings===null)this._completedStrings=[J];else this._completedStrings[this._completedStrings.length]=J}appendCharCode(J){let $=this._capacity-this._bufferLength;if($<=1){if($===0||P6(J))this._flushBuffer()}this._buffer[this._bufferLength++]=J}appendASCIICharCode(J){if(this._bufferLength===this._capacity)this._flushBuffer();this._buffer[this._bufferLength++]=J}appendString(J){let $=J.length;if(this._bufferLength+$>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=J;return}for(let Q=0;Q<$;Q++)this._buffer[this._bufferLength++]=J.charCodeAt(Q)}}var vO,hO,fO;var G2=E(()=>{G1();E1();pz()});class CF{constructor(J,$,Q,X,Y,Z){this._richEditBracketBrand=void 0,this.languageId=J,this.index=$,this.open=Q,this.close=X,this.forwardRegex=Y,this.reversedRegex=Z,this._openSet=CF._toSet(this.open),this._closeSet=CF._toSet(this.close)}isOpen(J){return this._openSet.has(J)}isClose(J){return this._closeSet.has(J)}static _toSet(J){let $=new Set;for(let Q of J)$.add(Q);return $}}function x50(J){let $=J.length;J=J.map((G)=>[G[0].toLowerCase(),G[1].toLowerCase()]);let Q=[];for(let G=0;G<$;G++)Q[G]=G;let X=(G,q)=>{let[U,z]=G,[H,j]=q;return U===H||U===j||z===H||z===j},Y=(G,q)=>{let U=Math.min(G,q),z=Math.max(G,q);for(let H=0;H<$;H++)if(Q[H]===z)Q[H]=U};for(let G=0;G<$;G++){let q=J[G];for(let U=G+1;U<$;U++){let z=J[U];if(X(q,z))Y(Q[G],Q[U])}}let Z=[];for(let G=0;G<$;G++){let q=[],U=[];for(let z=0;z<$;z++)if(Q[z]===G){let[H,j]=J[z];q.push(H),U.push(j)}if(q.length>0)Z.push({open:q,close:U})}return Z}class pO{constructor(J,$){this._richEditBracketsBrand=void 0;let Q=x50($);this.brackets=Q.map((X,Y)=>{return new CF(J,Y,X.open,X.close,b50(X.open,X.close,Q,Y),S50(X.open,X.close,Q,Y))}),this.forwardRegex=C50(this.brackets),this.reversedRegex=v50(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let X of this.brackets){for(let Y of X.open)this.textIsBracket[Y]=X,this.textIsOpenBracket[Y]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length);for(let Y of X.close)this.textIsBracket[Y]=X,this.textIsOpenBracket[Y]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length)}}}function Uv(J,$,Q,X){for(let Y=0,Z=$.length;Y<Z;Y++){if(Y===Q)continue;let G=$[Y];for(let q of G.open)if(q.indexOf(J)>=0)X.push(q);for(let q of G.close)if(q.indexOf(J)>=0)X.push(q)}}function zv(J,$){return J.length-$.length}function vF(J){if(J.length<=1)return J;let $=[],Q=new Set;for(let X of J){if(Q.has(X))continue;$.push(X),Q.add(X)}return $}function b50(J,$,Q,X){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)Uv(Y[Z],Q,X,Y);return Y=vF(Y),Y.sort(zv),Y.reverse(),hF(Y)}function S50(J,$,Q,X){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)Uv(Y[Z],Q,X,Y);return Y=vF(Y),Y.sort(zv),Y.reverse(),hF(Y.map(mO))}function C50(J){let $=[];for(let Q of J){for(let X of Q.open)$.push(X);for(let X of Q.close)$.push(X)}return $=vF($),hF($)}function v50(J){let $=[];for(let Q of J){for(let X of Q.open)$.push(X);for(let X of Q.close)$.push(X)}return $=vF($),hF($.map(mO))}function h50(J){let $=/^[\w ]+$/.test(J);return J=Y7(J),$?`\\b${J}\\b`:J}function hF(J){let $=`(${J.map(h50).join(")|(")})`;return gB($,!0)}class c7{static _findPrevBracketInText(J,$,Q,X){let Y=Q.match(J);if(!Y)return null;let Z=Q.length-(Y.index||0),G=Y[0].length,q=X+Z;return new v($,q-G+1,$,q+1)}static findPrevBracketInRange(J,$,Q,X,Y){let G=mO(Q).substring(Q.length-Y,Q.length-X);return this._findPrevBracketInText(J,$,G,X)}static findNextBracketInText(J,$,Q,X){let Y=Q.match(J);if(!Y)return null;let Z=Y.index||0,G=Y[0].length;if(G===0)return null;let q=X+Z;return new v($,q+1,$,q+1+G)}static findNextBracketInRange(J,$,Q,X,Y){let Z=Q.substring(X,Y);return this.findNextBracketInText(J,$,Z,X)}}var mO;var fF=E(()=>{G1();G2();e0();mO=function(){function J(X){let Y=new Uint16Array(X.length),Z=0;for(let G=X.length-1;G>=0;G--)Y[Z++]=X.charCodeAt(G);return gO().decode(Y)}let $=null,Q=null;return function(Y){if($!==Y)$=Y,Q=J($);return Q}}()});class uO{constructor(J){this._richEditBrackets=J}getElectricCharacters(){let J=[];if(this._richEditBrackets)for(let $ of this._richEditBrackets.brackets)for(let Q of $.close){let X=Q.charAt(Q.length-1);J.push(X)}return V4(J)}onElectricCharacter(J,$,Q){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let X=$.findTokenIndexAtOffset(Q-1);if(E4($.getStandardTokenType(X)))return null;let Y=this._richEditBrackets.reversedRegex,Z=$.getLineContent().substring(0,Q-1)+J,G=c7.findPrevBracketInRange(Y,1,Z,0,Z.length);if(!G)return null;let q=Z.substring(G.startColumn-1,G.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[q])return null;let z=$.getActualLineContentBefore(G.startColumn-1);if(!/^\s*$/.test(z))return null;return{matchOpenBracket:q}}}var Hv=E(()=>{B1();fF()});function gF(J){if(J.global)J.lastIndex=0;return!0}class cO{constructor(J){this._indentationRules=J}shouldIncrease(J){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&gF(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(J))return!0}return!1}shouldDecrease(J){if(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&gF(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(J))return!0;return!1}shouldIndentNextLine(J){if(this._indentationRules&&this._indentationRules.indentNextLinePattern&&gF(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(J))return!0;return!1}shouldIgnore(J){if(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&gF(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(J))return!0;return!1}getIndentMetadata(J){let $=0;if(this.shouldIncrease(J))$+=1;if(this.shouldDecrease(J))$+=2;if(this.shouldIndentNextLine(J))$+=4;if(this.shouldIgnore(J))$+=8;return $}}class q2{constructor(J){J=J||{},J.brackets=J.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],J.brackets.forEach(($)=>{let Q=q2._createOpenBracketRegExp($[0]),X=q2._createCloseBracketRegExp($[1]);if(Q&&X)this._brackets.push({open:$[0],openRegExp:Q,close:$[1],closeRegExp:X})}),this._regExpRules=J.onEnterRules||[]}onEnter(J,$,Q,X){if(J>=3)for(let Y=0,Z=this._regExpRules.length;Y<Z;Y++){let G=this._regExpRules[Y];if([{reg:G.beforeText,text:Q},{reg:G.afterText,text:X},{reg:G.previousLineText,text:$}].every((U)=>{if(!U.reg)return!0;return U.reg.lastIndex=0,U.reg.test(U.text)}))return G.action}if(J>=2){if(Q.length>0&&X.length>0)for(let Y=0,Z=this._brackets.length;Y<Z;Y++){let G=this._brackets[Y];if(G.openRegExp.test(Q)&&G.closeRegExp.test(X))return{indentAction:o5.IndentOutdent}}}if(J>=2){if(Q.length>0){for(let Y=0,Z=this._brackets.length;Y<Z;Y++)if(this._brackets[Y].openRegExp.test(Q))return{indentAction:o5.Indent}}}return null}static _createOpenBracketRegExp(J){let $=Y7(J);if(!/\B/.test($.charAt(0)))$="\\b"+$;return $+="\\s*$",q2._safeRegExp($)}static _createCloseBracketRegExp(J){let $=Y7(J);if(!/\B/.test($.charAt($.length-1)))$=$+"\\b";return $="^\\s*"+$,q2._safeRegExp($)}static _safeRegExp(J){try{return new RegExp(J)}catch($){return Z1($),null}}}var jv=E(()=>{T1();G1();Y2()});function pF(J,$){let Q=Object.create(null);for(let X in J)lO(Q,X,J[X],$);return Q}function lO(J,$,Q,X){let Y=$.split("."),Z=Y.pop(),G=J;for(let q=0;q<Y.length;q++){let U=Y[q],z=G[U];switch(typeof z){case"undefined":z=G[U]=Object.create(null);break;case"object":break;default:X(`Ignoring ${$} as ${Y.slice(0,q+1).join(".")} is ${JSON.stringify(z)}`);return}G=z}if(typeof G==="object"&&G!==null)try{G[Z]=Q}catch(q){X(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}else X(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}function Vv(J,$){let Q=$.split(".");Wv(J,Q)}function Wv(J,$){let Q=$.shift();if($.length===0){delete J[Q];return}if(Object.keys(J).indexOf(Q)!==-1){let X=J[Q];if(typeof X==="object"&&!Array.isArray(X)){if(Wv(X,$),Object.keys(X).length===0)delete J[Q]}}}function dO(J,$,Q){function X(G,q){let U=G;for(let z of q){if(typeof U!=="object"||U===null)return;U=U[z]}return U}let Y=$.split("."),Z=X(J,Y);return typeof Z>"u"?Q:Z}function Bv(J){return J.replace(/[\[\]]/g,"")}var p1;var l8=E(()=>{n0();p1=b0("configurationService")});var H6;var d9=E(()=>{n0();H6=b0("languageService")});class P9{constructor(J,$=[],Q=!1){this.ctor=J,this.staticArguments=$,this.supportsDelayedInstantiation=Q}}function K1(J,$,Q){if(!($ instanceof P9))$=new P9($,[],Boolean(Q));Fv.push([J,$])}function sO(){return Fv}var Fv;var s9=E(()=>{Fv=[]});var a9;var mz=E(()=>{a9=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})});function f50(J){if(J.length>0&&J.charAt(J.length-1)==="#")return J.substring(0,J.length-1);return J}class Kv{constructor(){this._onDidChangeSchema=new p,this.schemasById={}}registerSchema(J,$){this.schemasById[f50(J)]=$,this._onDidChangeSchema.fire(J)}notifySchemaChanged(J){this._onDidChangeSchema.fire(J)}}var U2,g50;var mF=E(()=>{E0();U7();U2={JSONContribution:"base.contributions.json"};g50=new Kv;G6.add(U2.JSONContribution,g50)});class Dv{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new p,this._onDidUpdateConfiguration=new p,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:M("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Av.registerSchema(uz,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(J,$=!0){this.registerConfigurations([J],$)}registerConfigurations(J,$=!0){let Q=new Set;this.doRegisterConfigurations(J,$,Q),Av.registerSchema(uz,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Q})}registerDefaultConfigurations(J){let $=new Set;this.doRegisterDefaultConfigurations(J,$),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$,defaultsOverrides:!0})}doRegisterDefaultConfigurations(J,$){var Q;let X=[];for(let{overrides:Y,source:Z}of J)for(let G in Y)if($.add(G),fQ.test(G)){let q=this.configurationDefaultsOverrides.get(G),U=(Q=q===null||q===void 0?void 0:q.valuesSources)!==null&&Q!==void 0?Q:new Map;if(Z)for(let B of Object.keys(Y[G]))U.set(B,Z);let z={...(q===null||q===void 0?void 0:q.value)||{},...Y[G]};this.configurationDefaultsOverrides.set(G,{source:Z,value:z,valuesSources:U});let H=Bv(G),j={type:"object",default:z,description:M("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",H),$ref:uz,defaultDefaultValue:z,source:P5(Z)?void 0:Z,defaultValueSource:Z};X.push(...cz(G)),this.configurationProperties[G]=j,this.defaultLanguageConfigurationOverridesNode.properties[G]=j}else{this.configurationDefaultsOverrides.set(G,{value:Y[G],source:Z});let q=this.configurationProperties[G];if(q)this.updatePropertyDefaultValue(G,q),this.updateSchema(G,q)}this.doRegisterOverrideIdentifiers(X)}registerOverrideIdentifiers(J){this.doRegisterOverrideIdentifiers(J),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(J){for(let $ of J)this.overrideIdentifiers.add($);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(J,$,Q){J.forEach((X)=>{this.validateAndRegisterProperties(X,$,X.extensionInfo,X.restrictedProperties,void 0,Q),this.configurationContributors.push(X),this.registerJSONConfiguration(X)})}validateAndRegisterProperties(J,$=!0,Q,X,Y=3,Z){var G;Y=N8(J.scope)?Y:J.scope;let q=J.properties;if(q)for(let z in q){let H=q[z];if($&&m50(z,H)){delete q[z];continue}if(H.source=Q,H.defaultDefaultValue=q[z].default,this.updatePropertyDefaultValue(z,H),fQ.test(z))H.scope=void 0;else H.scope=N8(H.scope)?Y:H.scope,H.restricted=N8(H.restricted)?!!(X===null||X===void 0?void 0:X.includes(z)):H.restricted;if(q[z].hasOwnProperty("included")&&!q[z].included){this.excludedConfigurationProperties[z]=q[z],delete q[z];continue}else if(this.configurationProperties[z]=q[z],(G=q[z].policy)===null||G===void 0?void 0:G.name)this.policyConfigurations.set(q[z].policy.name,z);if(!q[z].deprecationMessage&&q[z].markdownDeprecationMessage)q[z].deprecationMessage=q[z].markdownDeprecationMessage;Z.add(z)}let U=J.allOf;if(U)for(let z of U)this.validateAndRegisterProperties(z,$,Q,X,Y,Z)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(J){let $=(Q)=>{let X=Q.properties;if(X)for(let Z in X)this.updateSchema(Z,X[Z]);let Y=Q.allOf;Y===null||Y===void 0||Y.forEach($)};$(J)}updateSchema(J,$){switch(aO.properties[J]=$,$.scope){case 1:rO.properties[J]=$;break;case 2:iO.properties[J]=$;break;case 6:nO.properties[J]=$;break;case 3:oO.properties[J]=$;break;case 4:uF.properties[J]=$;break;case 5:uF.properties[J]=$,this.resourceLanguageSettingsSchema.properties[J]=$;break}}updateOverridePropertyPatternKey(){for(let J of this.overrideIdentifiers.values()){let $=`[${J}]`,Q={type:"object",description:M("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:M("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:uz};this.updatePropertyDefaultValue($,Q),aO.properties[$]=Q,rO.properties[$]=Q,iO.properties[$]=Q,nO.properties[$]=Q,oO.properties[$]=Q,uF.properties[$]=Q}}registerOverridePropertyPatternKey(){let J={type:"object",description:M("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:M("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:uz};aO.patternProperties[z2]=J,rO.patternProperties[z2]=J,iO.patternProperties[z2]=J,nO.patternProperties[z2]=J,oO.patternProperties[z2]=J,uF.patternProperties[z2]=J,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(J,$){let Q=this.configurationDefaultsOverrides.get(J),X=Q===null||Q===void 0?void 0:Q.value,Y=Q===null||Q===void 0?void 0:Q.source;if(q8(X))X=$.defaultDefaultValue,Y=void 0;if(q8(X))X=p50($.type);$.default=X,$.defaultValueSource=Y}}function cz(J){let $=[];if(fQ.test(J)){let Q=Pv.exec(J);while(Q===null||Q===void 0?void 0:Q.length){let X=Q[1].trim();if(X)$.push(X);Q=Pv.exec(J)}}return V4($)}function p50(J){switch(Array.isArray(J)?J[0]:J){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function m50(J,$){var Q,X,Y,Z;if(!J.trim())return M("config.property.empty","Cannot register an empty property");if(fQ.test(J))return M("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",J);if(cF.getConfigurationProperties()[J]!==void 0)return M("config.property.duplicate","Cannot register '{0}'. This property is already registered.",J);if(((Q=$.policy)===null||Q===void 0?void 0:Q.name)&&cF.getPolicyConfigurations().get((X=$.policy)===null||X===void 0?void 0:X.name)!==void 0)return M("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",J,(Y=$.policy)===null||Y===void 0?void 0:Y.name,cF.getPolicyConfigurations().get((Z=$.policy)===null||Z===void 0?void 0:Z.name));return null}var r9,aO,rO,iO,nO,oO,uF,uz="vscode://schemas/settings/resourceLanguage",Av,Rv="\\[([^\\]]+)\\]",Pv,z2,fQ,cF;var H2=E(()=>{B1();E0();a0();l8();mF();U7();r9={Configuration:"base.contributions.configuration"},aO={properties:{},patternProperties:{}},rO={properties:{},patternProperties:{}},iO={properties:{},patternProperties:{}},nO={properties:{},patternProperties:{}},oO={properties:{},patternProperties:{}},uF={properties:{},patternProperties:{}},Av=G6.as(U2.JSONContribution);Pv=new RegExp(Rv,"g"),z2=`^(${Rv})+$`,fQ=new RegExp(z2);cF=new Dv;G6.add(r9.Configuration,cF)});class Mv{constructor(){this._onDidChangeLanguages=new p,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(J){return this._languages.push(J),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let $=0,Q=this._languages.length;$<Q;$++)if(this._languages[$]===J){this._languages.splice($,1);return}}}}getLanguages(){return this._languages}}var u50,qY,S5="plaintext",c50=".txt";var I4=E(()=>{a0();E0();U7();mz();H2();u50={ModesRegistry:"editor.modesRegistry"};qY=new Mv;G6.add(u50.ModesRegistry,qY);qY.registerLanguage({id:S5,extensions:[c50],aliases:[M("plainText.alias","Plain Text"),"text"],mimetypes:[a9.text]});G6.as(r9.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])});class tO{constructor(J,$){this.languageId=J;let Q=$.brackets?Ov($.brackets):[],X=new hB((G)=>{let q=new Set;return{info:new _v(this,G,q),closing:q}}),Y=new hB((G)=>{let q=new Set,U=new Set;return{info:new Nv(this,G,q,U),opening:q,openingColorized:U}});for(let[G,q]of Q){let U=X.get(G),z=Y.get(q);U.closing.add(z.info),z.opening.add(U.info)}let Z=$.colorizedBracketPairs?Ov($.colorizedBracketPairs):Q.filter((G)=>!(G[0]==="<"&&G[1]===">"));for(let[G,q]of Z){let U=X.get(G),z=Y.get(q);U.closing.add(z.info),z.openingColorized.add(U.info),z.opening.add(U.info)}this._openingBrackets=new Map([...X.cachedValues].map(([G,q])=>[G,q.info])),this._closingBrackets=new Map([...Y.cachedValues].map(([G,q])=>[G,q.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(J){return this._openingBrackets.get(J)}getClosingBracketInfo(J){return this._closingBrackets.get(J)}getBracketInfo(J){return this.getOpeningBracketInfo(J)||this.getClosingBracketInfo(J)}}function Ov(J){return J.filter(([$,Q])=>$!==""&&Q!=="")}class eO{constructor(J,$){this.config=J,this.bracketText=$}get languageId(){return this.config.languageId}}var _v,Nv;var Tv=E(()=>{_v=class _v extends eO{constructor(J,$,Q){super(J,$);this.openedBrackets=Q,this.isOpeningBracket=!0}};Nv=class Nv extends eO{constructor(J,$,Q,X){super(J,$);this.openingBrackets=Q,this.openingColorizedBrackets=X,this.isOpeningBracket=!1}closes(J){if(J.config!==this.config)return!1;return this.openingBrackets.has(J)}closesColorized(J){if(J.config!==this.config)return!1;return this.openingColorizedBrackets.has(J)}getOpeningBrackets(){return[...this.openingBrackets]}}});class lF{constructor(J){this.languageId=J}affects(J){return!this.languageId?!0:this.languageId===J}}function d50(J,$,Q,X){let Y=$.getLanguageConfiguration(J);if(!Y){if(!X.isRegisteredLanguageId(J))return new K3(J,{});Y=new K3(J,{})}let Z=s50(Y.languageId,Q),G=Ev([Y.underlyingConfig,Z]);return new K3(Y.languageId,G)}function s50(J,$){let Q=$.getValue($_.brackets,{overrideIdentifier:J}),X=$.getValue($_.colorizedBracketPairs,{overrideIdentifier:J});return{brackets:Lv(Q),colorizedBracketPairs:Lv(X)}}function Lv(J){if(!Array.isArray(J))return;return J.map(($)=>{if(!Array.isArray($)||$.length!==2)return;return[$[0],$[1]]}).filter(($)=>!!$)}function dF(J,$,Q){let X=J.getLineContent($),Y=W5(X);if(Y.length>Q-1)Y=Y.substring(0,Q-1);return Y}function UY(J,$,Q){J.tokenization.forceTokenization($);let X=J.tokenization.getLineTokens($),Y=typeof Q>"u"?J.getLineMaxColumn($)-1:Q-1;return GY(X,Y)}class kv{constructor(J){this.languageId=J,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(J,$){let Q=new Q_(J,$,++this._order);return this._entries.push(Q),this._resolved=null,y0(()=>{for(let X=0;X<this._entries.length;X++)if(this._entries[X]===Q){this._entries.splice(X,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let J=this._resolve();if(J)this._resolved=new K3(this.languageId,J)}return this._resolved}_resolve(){if(this._entries.length===0)return null;return this._entries.sort(Q_.cmp),Ev(this._entries.map((J)=>J.configuration))}}function Ev(J){let $={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let Q of J)$={comments:Q.comments||$.comments,brackets:Q.brackets||$.brackets,wordPattern:Q.wordPattern||$.wordPattern,indentationRules:Q.indentationRules||$.indentationRules,onEnterRules:Q.onEnterRules||$.onEnterRules,autoClosingPairs:Q.autoClosingPairs||$.autoClosingPairs,surroundingPairs:Q.surroundingPairs||$.surroundingPairs,autoCloseBefore:Q.autoCloseBefore||$.autoCloseBefore,folding:Q.folding||$.folding,colorizedBracketPairs:Q.colorizedBracketPairs||$.colorizedBracketPairs,__electricCharacterSupport:Q.__electricCharacterSupport||$.__electricCharacterSupport};return $}class Q_{constructor(J,$,Q){this.configuration=J,this.priority=$,this.order=Q}static cmp(J,$){if(J.priority===$.priority)return J.order-$.order;return J.priority-$.priority}}class X_{constructor(J){this.languageId=J}}class K3{constructor(J,$){if(this.languageId=J,this.underlyingConfig=$,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new q2(this.underlyingConfig):null,this.comments=K3._handleComments(this.underlyingConfig),this.characterPair=new Z2(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||nU,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules)this.indentRulesSupport=new cO(this.underlyingConfig.indentationRules);else this.indentRulesSupport=null;this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new tO(J,this.underlyingConfig)}getWordDefinition(){return oU(this.wordDefinition)}get brackets(){if(!this._brackets&&this.underlyingConfig.brackets)this._brackets=new pO(this.languageId,this.underlyingConfig.brackets);return this._brackets}get electricCharacter(){if(!this._electricCharacter)this._electricCharacter=new uO(this.brackets);return this._electricCharacter}onEnter(J,$,Q,X){if(!this._onEnterSupport)return null;return this._onEnterSupport.onEnter(J,$,Q,X)}getAutoClosingPairs(){return new yO(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(J){return this.characterPair.getAutoCloseBeforeSet(J)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(J){let $=J.comments;if(!$)return null;let Q={};if($.lineComment)Q.lineCommentToken=$.lineComment;if($.blockComment){let[X,Y]=$.blockComment;Q.blockCommentStartToken=X,Q.blockCommentEndToken=Y}return Q}}var l50=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},wv=function(J,$){return function(Q,X){$(Q,X,J)}},f6,J_,$_,Iv;var d8=E(()=>{E0();B0();G1();pG();Y2();Qv();Hv();jv();fF();n0();l8();d9();s9();I4();Tv();f6=b0("languageConfigurationService"),J_=class extends r{constructor($,Q){super();this.configurationService=$,this.languageService=Q,this._registry=this._register(new Iv),this.onDidChangeEmitter=this._register(new p),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;let X=new Set(Object.values($_));this._register(this.configurationService.onDidChangeConfiguration((Y)=>{let Z=Y.change.keys.some((q)=>X.has(q)),G=Y.change.overrides.filter(([q,U])=>U.some((z)=>X.has(z))).map(([q])=>q);if(Z)this.configurations.clear(),this.onDidChangeEmitter.fire(new lF(void 0));else for(let q of G)if(this.languageService.isRegisteredLanguageId(q))this.configurations.delete(q),this.onDidChangeEmitter.fire(new lF(q))})),this._register(this._registry.onDidChange((Y)=>{this.configurations.delete(Y.languageId),this.onDidChangeEmitter.fire(new lF(Y.languageId))}))}register($,Q,X){return this._registry.register($,Q,X)}getLanguageConfiguration($){let Q=this.configurations.get($);if(!Q)Q=d50($,this._registry,this.configurationService,this.languageService),this.configurations.set($,Q);return Q}};J_=l50([wv(0,p1),wv(1,H6)],J_);$_={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};Iv=class Iv extends r{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._register(this.register(S5,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(J,$,Q=0){let X=this._entries.get(J);if(!X)X=new kv(J),this._entries.set(J,X);let Y=X.register($,Q);return this._onDidChange.fire(new X_(J)),y0(()=>{Y.dispose(),this._onDidChange.fire(new X_(J))})}getLanguageConfiguration(J){let $=this._entries.get(J);return($===null||$===void 0?void 0:$.getResolvedConfiguration())||null}};K1(f6,J_,1)});class A${constructor(J,$,Q,X){this.originalStart=J,this.originalLength=$,this.modifiedStart=Q,this.modifiedLength=X}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class Y_{constructor(J){this.source=J}getElements(){let J=this.source,$=new Int32Array(J.length);for(let Q=0,X=J.length;Q<X;Q++)$[Q]=J.charCodeAt(Q);return $}}function yv(J,$,Q){return new BJ(new Y_(J),new Y_($)).ComputeDiff(Q).changes}class j2{static Assert(J,$){if(!J)throw Error($)}}class V2{static Copy(J,$,Q,X,Y){for(let Z=0;Z<Y;Z++)Q[X+Z]=J[$+Z]}static Copy2(J,$,Q,X,Y){for(let Z=0;Z<Y;Z++)Q[X+Z]=J[$+Z]}}class Z_{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.m_changes.push(new A$(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount));this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_originalCount++}AddModifiedElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_modifiedCount++}getChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes}getReverseChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes.reverse(),this.m_changes}}class BJ{constructor(J,$,Q=null){this.ContinueProcessingPredicate=Q,this._originalSequence=J,this._modifiedSequence=$;let[X,Y,Z]=BJ._getElements(J),[G,q,U]=BJ._getElements($);this._hasStrings=Z&&U,this._originalStringElements=X,this._originalElementsOrHash=Y,this._modifiedStringElements=G,this._modifiedElementsOrHash=q,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(J){return J.length>0&&typeof J[0]==="string"}static _getElements(J){let $=J.getElements();if(BJ._isStringArray($)){let Q=new Int32Array($.length);for(let X=0,Y=$.length;X<Y;X++)Q[X]=_F($[X],0);return[$,Q,!0]}if($ instanceof Int32Array)return[[],$,!1];return[[],new Int32Array($),!1]}ElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._modifiedStringElements[$]:!0}ElementsAreStrictEqual(J,$){if(!this.ElementsAreEqual(J,$))return!1;let Q=BJ._getStrictElement(this._originalSequence,J),X=BJ._getStrictElement(this._modifiedSequence,$);return Q===X}static _getStrictElement(J,$){if(typeof J.getStrictElement==="function")return J.getStrictElement($);return null}OriginalElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._originalElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._originalStringElements[$]:!0}ModifiedElementsAreEqual(J,$){if(this._modifiedElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._modifiedStringElements[J]===this._modifiedStringElements[$]:!0}ComputeDiff(J){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,J)}_ComputeDiff(J,$,Q,X,Y){let Z=[!1],G=this.ComputeDiffRecursive(J,$,Q,X,Z);if(Y)G=this.PrettifyChanges(G);return{quitEarly:Z[0],changes:G}}ComputeDiffRecursive(J,$,Q,X,Y){Y[0]=!1;while(J<=$&&Q<=X&&this.ElementsAreEqual(J,Q))J++,Q++;while($>=J&&X>=Q&&this.ElementsAreEqual($,X))$--,X--;if(J>$||Q>X){let H;if(Q<=X)j2.Assert(J===$+1,"originalStart should only be one more than originalEnd"),H=[new A$(J,0,Q,X-Q+1)];else if(J<=$)j2.Assert(Q===X+1,"modifiedStart should only be one more than modifiedEnd"),H=[new A$(J,$-J+1,Q,0)];else j2.Assert(J===$+1,"originalStart should only be one more than originalEnd"),j2.Assert(Q===X+1,"modifiedStart should only be one more than modifiedEnd"),H=[];return H}let Z=[0],G=[0],q=this.ComputeRecursionPoint(J,$,Q,X,Z,G,Y),U=Z[0],z=G[0];if(q!==null)return q;else if(!Y[0]){let H=this.ComputeDiffRecursive(J,U,Q,z,Y),j=[];if(!Y[0])j=this.ComputeDiffRecursive(U+1,$,z+1,X,Y);else j=[new A$(U+1,$-(U+1)+1,z+1,X-(z+1)+1)];return this.ConcatenateChanges(H,j)}return[new A$(J,$-J+1,Q,X-Q+1)]}WALKTRACE(J,$,Q,X,Y,Z,G,q,U,z,H,j,B,V,W,K,A,F){let P=null,R=null,D=new Z_,_=$,O=Q,N=B[0]-K[0]-X,w=-1073741824,T=this.m_forwardHistory.length-1;do{let I=N+J;if(I===_||I<O&&U[I-1]<U[I+1]){if(H=U[I+1],V=H-N-X,H<w)D.MarkNextChange();w=H,D.AddModifiedElement(H+1,V),N=I+1-J}else{if(H=U[I-1]+1,V=H-N-X,H<w)D.MarkNextChange();w=H-1,D.AddOriginalElement(H,V+1),N=I-1-J}if(T>=0)U=this.m_forwardHistory[T],J=U[0],_=1,O=U.length-1}while(--T>=-1);if(P=D.getReverseChanges(),F[0]){let I=B[0]+1,k=K[0]+1;if(P!==null&&P.length>0){let x=P[P.length-1];I=Math.max(I,x.getOriginalEnd()),k=Math.max(k,x.getModifiedEnd())}R=[new A$(I,j-I+1,k,W-k+1)]}else{D=new Z_,_=Z,O=G,N=B[0]-K[0]-q,w=1073741824,T=A?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let I=N+Y;if(I===_||I<O&&z[I-1]>=z[I+1]){if(H=z[I+1]-1,V=H-N-q,H>w)D.MarkNextChange();w=H+1,D.AddOriginalElement(H+1,V+1),N=I+1-Y}else{if(H=z[I-1],V=H-N-q,H>w)D.MarkNextChange();w=H,D.AddModifiedElement(H+1,V+1),N=I-1-Y}if(T>=0)z=this.m_reverseHistory[T],Y=z[0],_=1,O=z.length-1}while(--T>=-1);R=D.getChanges()}return this.ConcatenateChanges(P,R)}ComputeRecursionPoint(J,$,Q,X,Y,Z,G){let q=0,U=0,z=0,H=0,j=0,B=0;J--,Q--,Y[0]=0,Z[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let V=$-J+(X-Q),W=V+1,K=new Int32Array(W),A=new Int32Array(W),F=X-Q,P=$-J,R=J-Q,D=$-X,O=(P-F)%2===0;K[F]=J,A[P]=$,G[0]=!1;for(let N=1;N<=V/2+1;N++){let w=0,T=0;z=this.ClipDiagonalBound(F-N,N,F,W),H=this.ClipDiagonalBound(F+N,N,F,W);for(let k=z;k<=H;k+=2){if(k===z||k<H&&K[k-1]<K[k+1])q=K[k+1];else q=K[k-1]+1;U=q-(k-F)-R;let x=q;while(q<$&&U<X&&this.ElementsAreEqual(q+1,U+1))q++,U++;if(K[k]=q,q+U>w+T)w=q,T=U;if(!O&&Math.abs(k-P)<=N-1){if(q>=A[k])if(Y[0]=q,Z[0]=U,x<=A[k]&&!0&&N<=1448)return this.WALKTRACE(F,z,H,R,P,j,B,D,K,A,q,$,Y,U,X,Z,O,G);else return null}}let I=(w-J+(T-Q)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(w,I))if(G[0]=!0,Y[0]=w,Z[0]=T,I>0&&!0&&N<=1448)return this.WALKTRACE(F,z,H,R,P,j,B,D,K,A,q,$,Y,U,X,Z,O,G);else return J++,Q++,[new A$(J,$-J+1,Q,X-Q+1)];j=this.ClipDiagonalBound(P-N,N,P,W),B=this.ClipDiagonalBound(P+N,N,P,W);for(let k=j;k<=B;k+=2){if(k===j||k<B&&A[k-1]>=A[k+1])q=A[k+1]-1;else q=A[k-1];U=q-(k-P)-D;let x=q;while(q>J&&U>Q&&this.ElementsAreEqual(q,U))q--,U--;if(A[k]=q,O&&Math.abs(k-F)<=N){if(q<=K[k])if(Y[0]=q,Z[0]=U,x>=K[k]&&!0&&N<=1448)return this.WALKTRACE(F,z,H,R,P,j,B,D,K,A,q,$,Y,U,X,Z,O,G);else return null}}if(N<=1447){let k=new Int32Array(H-z+2);k[0]=F-z+1,V2.Copy2(K,z,k,1,H-z+1),this.m_forwardHistory.push(k),k=new Int32Array(B-j+2),k[0]=P-j+1,V2.Copy2(A,j,k,1,B-j+1),this.m_reverseHistory.push(k)}}return this.WALKTRACE(F,z,H,R,P,j,B,D,K,A,q,$,Y,U,X,Z,O,G)}PrettifyChanges(J){for(let $=0;$<J.length;$++){let Q=J[$],X=$<J.length-1?J[$+1].originalStart:this._originalElementsOrHash.length,Y=$<J.length-1?J[$+1].modifiedStart:this._modifiedElementsOrHash.length,Z=Q.originalLength>0,G=Q.modifiedLength>0;while(Q.originalStart+Q.originalLength<X&&Q.modifiedStart+Q.modifiedLength<Y&&(!Z||this.OriginalElementsAreEqual(Q.originalStart,Q.originalStart+Q.originalLength))&&(!G||this.ModifiedElementsAreEqual(Q.modifiedStart,Q.modifiedStart+Q.modifiedLength))){let U=this.ElementsAreStrictEqual(Q.originalStart,Q.modifiedStart);if(this.ElementsAreStrictEqual(Q.originalStart+Q.originalLength,Q.modifiedStart+Q.modifiedLength)&&!U)break;Q.originalStart++,Q.modifiedStart++}let q=[null];if($<J.length-1&&this.ChangesOverlap(J[$],J[$+1],q)){J[$]=q[0],J.splice($+1,1),$--;continue}}for(let $=J.length-1;$>=0;$--){let Q=J[$],X=0,Y=0;if($>0){let H=J[$-1];X=H.originalStart+H.originalLength,Y=H.modifiedStart+H.modifiedLength}let Z=Q.originalLength>0,G=Q.modifiedLength>0,q=0,U=this._boundaryScore(Q.originalStart,Q.originalLength,Q.modifiedStart,Q.modifiedLength);for(let H=1;;H++){let j=Q.originalStart-H,B=Q.modifiedStart-H;if(j<X||B<Y)break;if(Z&&!this.OriginalElementsAreEqual(j,j+Q.originalLength))break;if(G&&!this.ModifiedElementsAreEqual(B,B+Q.modifiedLength))break;let W=(j===X&&B===Y?5:0)+this._boundaryScore(j,Q.originalLength,B,Q.modifiedLength);if(W>U)U=W,q=H}Q.originalStart-=q,Q.modifiedStart-=q;let z=[null];if($>0&&this.ChangesOverlap(J[$-1],J[$],z)){J[$-1]=z[0],J.splice($,1),$++;continue}}if(this._hasStrings)for(let $=1,Q=J.length;$<Q;$++){let X=J[$-1],Y=J[$],Z=Y.originalStart-X.originalStart-X.originalLength,G=X.originalStart,q=Y.originalStart+Y.originalLength,U=q-G,z=X.modifiedStart,H=Y.modifiedStart+Y.modifiedLength,j=H-z;if(Z<5&&U<20&&j<20){let B=this._findBetterContiguousSequence(G,U,z,j,Z);if(B){let[V,W]=B;if(V!==X.originalStart+X.originalLength||W!==X.modifiedStart+X.modifiedLength)X.originalLength=V-X.originalStart,X.modifiedLength=W-X.modifiedStart,Y.originalStart=V+Z,Y.modifiedStart=W+Z,Y.originalLength=q-Y.originalStart,Y.modifiedLength=H-Y.modifiedStart}}}return J}_findBetterContiguousSequence(J,$,Q,X,Y){if($<Y||X<Y)return null;let Z=J+$-Y+1,G=Q+X-Y+1,q=0,U=0,z=0;for(let H=J;H<Z;H++)for(let j=Q;j<G;j++){let B=this._contiguousSequenceScore(H,j,Y);if(B>0&&B>q)q=B,U=H,z=j}if(q>0)return[U,z];return null}_contiguousSequenceScore(J,$,Q){let X=0;for(let Y=0;Y<Q;Y++){if(!this.ElementsAreEqual(J+Y,$+Y))return 0;X+=this._originalStringElements[J+Y].length}return X}_OriginalIsBoundary(J){if(J<=0||J>=this._originalElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._originalStringElements[J])}_OriginalRegionIsBoundary(J,$){if(this._OriginalIsBoundary(J)||this._OriginalIsBoundary(J-1))return!0;if($>0){let Q=J+$;if(this._OriginalIsBoundary(Q-1)||this._OriginalIsBoundary(Q))return!0}return!1}_ModifiedIsBoundary(J){if(J<=0||J>=this._modifiedElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[J])}_ModifiedRegionIsBoundary(J,$){if(this._ModifiedIsBoundary(J)||this._ModifiedIsBoundary(J-1))return!0;if($>0){let Q=J+$;if(this._ModifiedIsBoundary(Q-1)||this._ModifiedIsBoundary(Q))return!0}return!1}_boundaryScore(J,$,Q,X){let Y=this._OriginalRegionIsBoundary(J,$)?1:0,Z=this._ModifiedRegionIsBoundary(Q,X)?1:0;return Y+Z}ConcatenateChanges(J,$){let Q=[];if(J.length===0||$.length===0)return $.length>0?$:J;else if(this.ChangesOverlap(J[J.length-1],$[0],Q)){let X=Array(J.length+$.length-1);return V2.Copy(J,0,X,0,J.length-1),X[J.length-1]=Q[0],V2.Copy($,1,X,J.length,$.length-1),X}else{let X=Array(J.length+$.length);return V2.Copy(J,0,X,0,J.length),V2.Copy($,0,X,J.length,$.length),X}}ChangesOverlap(J,$,Q){if(j2.Assert(J.originalStart<=$.originalStart,"Left change is not less than or equal to right change"),j2.Assert(J.modifiedStart<=$.modifiedStart,"Left change is not less than or equal to right change"),J.originalStart+J.originalLength>=$.originalStart||J.modifiedStart+J.modifiedLength>=$.modifiedStart){let{originalStart:X,originalLength:Y,modifiedStart:Z,modifiedLength:G}=J;if(J.originalStart+J.originalLength>=$.originalStart)Y=$.originalStart+$.originalLength-J.originalStart;if(J.modifiedStart+J.modifiedLength>=$.modifiedStart)G=$.modifiedStart+$.modifiedLength-J.modifiedStart;return Q[0]=new A$(X,Y,Z,G),!0}else return Q[0]=null,!1}ClipDiagonalBound(J,$,Q,X){if(J>=0&&J<X)return J;let Y=Q,Z=X-Q-1,G=$%2===0;if(J<0){let q=Y%2===0;return G===q?0:1}else{let q=Z%2===0;return G===q?X-1:X-2}}}var sF=E(()=>{XY()});function W2(J){if(J<0)return 0;if(J>255)return 255;return J|0}function B2(J){if(J<0)return 0;if(J>4294967295)return 4294967295;return J|0}class G_{constructor(J){this.values=J,this.prefixSum=new Uint32Array(J.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(J,$){J=B2(J);let Q=this.values,X=this.prefixSum,Y=$.length;if(Y===0)return!1;if(this.values=new Uint32Array(Q.length+Y),this.values.set(Q.subarray(0,J),0),this.values.set(Q.subarray(J),J+Y),this.values.set($,J),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0)this.prefixSum.set(X.subarray(0,this.prefixSumValidIndex[0]+1));return!0}setValue(J,$){if(J=B2(J),$=B2($),this.values[J]===$)return!1;if(this.values[J]=$,J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;return!0}removeValues(J,$){J=B2(J),$=B2($);let Q=this.values,X=this.prefixSum;if(J>=Q.length)return!1;let Y=Q.length-J;if($>=Y)$=Y;if($===0)return!1;if(this.values=new Uint32Array(Q.length-$),this.values.set(Q.subarray(0,J),0),this.values.set(Q.subarray(J+$),J),this.prefixSum=new Uint32Array(this.values.length),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSumValidIndex[0]>=0)this.prefixSum.set(X.subarray(0,this.prefixSumValidIndex[0]+1));return!0}getTotalSum(){if(this.values.length===0)return 0;return this._getPrefixSum(this.values.length-1)}getPrefixSum(J){if(J<0)return 0;return J=B2(J),this._getPrefixSum(J)}_getPrefixSum(J){if(J<=this.prefixSumValidIndex[0])return this.prefixSum[J];let $=this.prefixSumValidIndex[0]+1;if($===0)this.prefixSum[0]=this.values[0],$++;if(J>=this.values.length)J=this.values.length-1;for(let Q=$;Q<=J;Q++)this.prefixSum[Q]=this.prefixSum[Q-1]+this.values[Q];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],J),this.prefixSum[J]}getIndexOf(J){J=Math.floor(J),this.getTotalSum();let $=0,Q=this.values.length-1,X=0,Y=0,Z=0;while($<=Q)if(X=$+(Q-$)/2|0,Y=this.prefixSum[X],Z=Y-this.values[X],J<Z)Q=X-1;else if(J>=Y)$=X+1;else break;return new U_(X,J-Z)}}class q_{constructor(J){this._values=J,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(J){if(this._ensureValid(),J===0)return 0;return this._prefixSum[J-1]}getIndexOf(J){this._ensureValid();let $=this._indexBySum[J],Q=$>0?this._prefixSum[$-1]:0;return new U_($,J-Q)}removeValues(J,$){this._values.splice(J,$),this._invalidate(J)}insertValues(J,$){this._values=pX(this._values,J,$),this._invalidate(J)}_invalidate(J){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,J-1)}_ensureValid(){if(this._isValid)return;for(let J=this._validEndIndex+1,$=this._values.length;J<$;J++){let Q=this._values[J],X=J>0?this._prefixSum[J-1]:0;this._prefixSum[J]=X+Q;for(let Y=0;Y<Q;Y++)this._indexBySum[X+Y]=J}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}setValue(J,$){if(this._values[J]===$)return;this._values[J]=$,this._invalidate(J)}}class U_{constructor(J,$){this.index=J,this.remainder=$,this._prefixSumIndexOfResultBrand=void 0,this.index=J,this.remainder=$}}var z_=E(()=>{B1()});class H_{constructor(J,$,Q,X){this._uri=J,this._lines=$,this._eol=Q,this._versionId=X,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){if(this._cachedTextValue===null)this._cachedTextValue=this._lines.join(this._eol);return this._cachedTextValue}onEvents(J){if(J.eol&&J.eol!==this._eol)this._eol=J.eol,this._lineStarts=null;let $=J.changes;for(let Q of $)this._acceptDeleteRange(Q.range),this._acceptInsertText(new s(Q.range.startLineNumber,Q.range.startColumn),Q.text);this._versionId=J.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){let J=this._eol.length,$=this._lines.length,Q=new Uint32Array($);for(let X=0;X<$;X++)Q[X]=this._lines[X].length+J;this._lineStarts=new G_(Q)}}_setLineText(J,$){if(this._lines[J]=$,this._lineStarts)this._lineStarts.setValue(J,this._lines[J].length+this._eol.length)}_acceptDeleteRange(J){if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.startLineNumber-1].substring(J.endColumn-1));return}if(this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.endLineNumber-1].substring(J.endColumn-1)),this._lines.splice(J.startLineNumber,J.endLineNumber-J.startLineNumber),this._lineStarts)this._lineStarts.removeValues(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$){if($.length===0)return;let Q=H9($);if(Q.length===1){this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+Q[0]+this._lines[J.lineNumber-1].substring(J.column-1));return}Q[Q.length-1]+=this._lines[J.lineNumber-1].substring(J.column-1),this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+Q[0]);let X=new Uint32Array(Q.length-1);for(let Y=1;Y<Q.length;Y++)this._lines.splice(J.lineNumber+Y-1,0,Q[Y]),X[Y-1]=Q[Y].length+this._eol.length;if(this._lineStarts)this._lineStarts.insertValues(J.lineNumber,X)}}var xv=E(()=>{G1();z_()});class gQ{constructor(J){let $=W2(J);this._defaultValue=$,this._asciiMap=gQ._createAsciiMap($),this._map=new Map}static _createAsciiMap(J){let $=new Uint8Array(256);return $.fill(J),$}set(J,$){let Q=W2($);if(J>=0&&J<256)this._asciiMap[J]=Q;else this._map.set(J,Q)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else return this._map.get(J)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class lz{constructor(){this._actual=new gQ(0)}add(J){this._actual.set(J,1)}has(J){return this._actual.get(J)===1}clear(){return this._actual.clear()}}var A3=()=>{};class bv{constructor(J,$,Q){let X=new Uint8Array(J*$);for(let Y=0,Z=J*$;Y<Z;Y++)X[Y]=Q;this._data=X,this.rows=J,this.cols=$}get(J,$){return this._data[J*this.cols+$]}set(J,$,Q){this._data[J*this.cols+$]=Q}}class Sv{constructor(J){let $=0,Q=0;for(let Y=0,Z=J.length;Y<Z;Y++){let[G,q,U]=J[Y];if(q>$)$=q;if(G>Q)Q=G;if(U>Q)Q=U}$++,Q++;let X=new bv(Q,$,0);for(let Y=0,Z=J.length;Y<Z;Y++){let[G,q,U]=J[Y];X.set(G,q,U)}this._states=X,this._maxCharCode=$}nextState(J,$){if($<0||$>=this._maxCharCode)return 0;return this._states.get(J,$)}}function a50(){if(j_===null)j_=new Sv([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]]);return j_}function r50(){if(dz===null){dz=new gQ(0);let J=` 	<>'"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…`;for(let Q=0;Q<J.length;Q++)dz.set(J.charCodeAt(Q),1);let $=".,;:";for(let Q=0;Q<$.length;Q++)dz.set($.charCodeAt(Q),2)}return dz}class aF{static _createLink(J,$,Q,X,Y){let Z=Y-1;do{let G=$.charCodeAt(Z);if(J.get(G)!==2)break;Z--}while(Z>X);if(X>0){let G=$.charCodeAt(X-1),q=$.charCodeAt(Z);if(G===40&&q===41||G===91&&q===93||G===123&&q===125)Z--}return{range:{startLineNumber:Q,startColumn:X+1,endLineNumber:Q,endColumn:Z+2},url:$.substring(X,Z+1)}}static computeLinks(J,$=a50()){let Q=r50(),X=[];for(let Y=1,Z=J.getLineCount();Y<=Z;Y++){let G=J.getLineContent(Y),q=G.length,U=0,z=0,H=0,j=1,B=!1,V=!1,W=!1,K=!1;while(U<q){let A=!1,F=G.charCodeAt(U);if(j===13){let P;switch(F){case 40:B=!0,P=0;break;case 41:P=B?0:1;break;case 91:W=!0,V=!0,P=0;break;case 93:W=!1,P=V?0:1;break;case 123:K=!0,P=0;break;case 125:P=K?0:1;break;case 39:case 34:case 96:if(H===F)P=1;else if(H===39||H===34||H===96)P=0;else P=1;break;case 42:P=H===42?1:0;break;case 124:P=H===124?1:0;break;case 32:P=W?0:1;break;default:P=Q.get(F)}if(P===1)X.push(aF._createLink(Q,G,Y,z,U)),A=!0}else if(j===12){let P;if(F===91)V=!0,P=0;else P=Q.get(F);if(P===1)A=!0;else j=13}else if(j=$.nextState(j,F),j===0)A=!0;if(A)j=1,B=!1,V=!1,K=!1,z=U+1,H=F;U++}if(j===13)X.push(aF._createLink(Q,G,Y,z,q))}return X}}function Cv(J){if(!J||typeof J.getLineCount!=="function"||typeof J.getLineContent!=="function")return[];return aF.computeLinks(J)}var j_=null,dz=null;var vv=E(()=>{A3()});class sz{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(J,$,Q,X,Y){if(J&&$){let Z=this.doNavigateValueSet($,Y);if(Z)return{range:J,value:Z}}if(Q&&X){let Z=this.doNavigateValueSet(X,Y);if(Z)return{range:Q,value:Z}}return null}doNavigateValueSet(J,$){let Q=this.numberReplace(J,$);if(Q!==null)return Q;return this.textReplace(J,$)}numberReplace(J,$){let Q=Math.pow(10,J.length-(J.lastIndexOf(".")+1)),X=Number(J),Y=parseFloat(J);if(!isNaN(X)&&!isNaN(Y)&&X===Y)if(X===0&&!$)return null;else return X=Math.floor(X*Q),X+=$?Q:-Q,String(X/Q);return null}textReplace(J,$){return this.valueSetsReplace(this._defaultValueSet,J,$)}valueSetsReplace(J,$,Q){let X=null;for(let Y=0,Z=J.length;X===null&&Y<Z;Y++)X=this.valueSetReplace(J[Y],$,Q);return X}valueSetReplace(J,$,Q){let X=J.indexOf($);if(X>=0){if(X+=Q?1:-1,X<0)X=J.length-1;else X%=J.length;return J[X]}return null}}var hv=E(()=>{sz.INSTANCE=new sz});function i50(J){let $={};return(Q)=>{if(!$.hasOwnProperty(Q))$[Q]=J(Q);return $[Q]}}var fv,P$;var az=E(()=>{A3();fv=class fv extends gQ{constructor(J){super(0);for(let $=0,Q=J.length;$<Q;$++)this.set(J.charCodeAt($),2);this.set(32,1),this.set(9,1)}};P$=i50((J)=>new fv(J))});class K2{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(J){if(this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,J.tabSize|0),J.indentSize==="tabSize")this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0;else this.indentSize=Math.max(1,J.indentSize|0),this._indentSizeIsTabSize=!1;this.insertSpaces=Boolean(J.insertSpaces),this.defaultEOL=J.defaultEOL|0,this.trimAutoWhitespace=Boolean(J.trimAutoWhitespace),this.bracketPairColorizationOptions=J.bracketPairColorizationOptions}equals(J){return this.tabSize===J.tabSize&&this._indentSizeIsTabSize===J._indentSizeIsTabSize&&this.indentSize===J.indentSize&&this.insertSpaces===J.insertSpaces&&this.defaultEOL===J.defaultEOL&&this.trimAutoWhitespace===J.trimAutoWhitespace&&p5(this.bracketPairColorizationOptions,J.bracketPairColorizationOptions)}createChangeEvent(J){return{tabSize:this.tabSize!==J.tabSize,indentSize:this.indentSize!==J.indentSize,insertSpaces:this.insertSpaces!==J.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==J.trimAutoWhitespace}}}class pQ{constructor(J,$){this._findMatchBrand=void 0,this.range=J,this.matches=$}}function gv(J){return J&&typeof J.read==="function"}class rz{constructor(J,$,Q,X,Y,Z){this.identifier=J,this.range=$,this.text=Q,this.forceMoveMarkers=X,this.isAutoWhitespaceEdit=Y,this._isTracked=Z}}class V_{constructor(J,$,Q){this.regex=J,this.wordSeparators=$,this.simpleSearch=Q}}class W_{constructor(J,$,Q){this.reverseEdits=J,this.changes=$,this.trimAutoWhitespaceLineNumbers=Q}}function pv(J){return!J.isTooLargeForSyncing()&&!J.isForSimpleWidget}var P3,i9,y4,F2;var l7=E(()=>{P7();(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(P3||(P3={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=3]="Right"})(i9||(i9={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(y4||(y4={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(F2||(F2={}))});class HY{constructor(J,$,Q,X){this.searchString=J,this.isRegex=$,this.matchCase=Q,this.wordSeparators=X}parseSearchRequest(){if(this.searchString==="")return null;let J;if(this.isRegex)J=t50(this.searchString);else J=this.searchString.indexOf(`
`)>=0;let $=null;try{$=gB(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:J,global:!0,unicode:!0})}catch(X){return null}if(!$)return null;let Q=!this.isRegex&&!J;if(Q&&this.searchString.toLowerCase()!==this.searchString.toUpperCase())Q=this.matchCase;return new V_($,this.wordSeparators?P$(this.wordSeparators):null,Q?this.searchString:null)}}function t50(J){if(!J||J.length===0)return!1;for(let $=0,Q=J.length;$<Q;$++){let X=J.charCodeAt($);if(X===10)return!0;if(X===92){if($++,$>=Q)break;let Y=J.charCodeAt($);if(Y===110||Y===114||Y===87)return!0}}return!1}function zY(J,$,Q){if(!Q)return new pQ(J,null);let X=[];for(let Y=0,Z=$.length;Y<Z;Y++)X[Y]=$[Y];return new pQ(J,X)}class B_{constructor(J){let $=[],Q=0;for(let X=0,Y=J.length;X<Y;X++)if(J.charCodeAt(X)===10)$[Q++]=X;this._lineFeedsOffsets=$}findLineFeedCountBeforeOffset(J){let $=this._lineFeedsOffsets,Q=0,X=$.length-1;if(X===-1)return 0;if(J<=$[0])return 0;while(Q<X){let Y=Q+((X-Q)/2>>0);if($[Y]>=J)X=Y-1;else if($[Y+1]>=J)Q=Y,X=Y;else Q=Y+1}return Q+1}}class D3{static findMatches(J,$,Q,X,Y){let Z=$.parseSearchRequest();if(!Z)return[];if(Z.regex.multiline)return this._doFindMatchesMultiline(J,Q,new mQ(Z.wordSeparators,Z.regex),X,Y);return this._doFindMatchesLineByLine(J,Q,Z,X,Y)}static _getMultilineMatchRange(J,$,Q,X,Y,Z){let G,q=0;if(X)q=X.findLineFeedCountBeforeOffset(Y),G=$+Y+q;else G=$+Y;let U;if(X){let B=X.findLineFeedCountBeforeOffset(Y+Z.length)-q;U=G+Z.length+B}else U=G+Z.length;let z=J.getPositionAt(G),H=J.getPositionAt(U);return new v(z.lineNumber,z.column,H.lineNumber,H.column)}static _doFindMatchesMultiline(J,$,Q,X,Y){let Z=J.getOffsetAt($.getStartPosition()),G=J.getValueInRange($,1),q=J.getEOL()===`\r
`?new B_(G):null,U=[],z=0,H;Q.reset(0);while(H=Q.next(G))if(U[z++]=zY(this._getMultilineMatchRange(J,Z,G,q,H.index,H[0]),H,X),z>=Y)return U;return U}static _doFindMatchesLineByLine(J,$,Q,X,Y){let Z=[],G=0;if($.startLineNumber===$.endLineNumber){let U=J.getLineContent($.startLineNumber).substring($.startColumn-1,$.endColumn-1);return G=this._findMatchesInLine(Q,U,$.startLineNumber,$.startColumn-1,G,Z,X,Y),Z}let q=J.getLineContent($.startLineNumber).substring($.startColumn-1);G=this._findMatchesInLine(Q,q,$.startLineNumber,$.startColumn-1,G,Z,X,Y);for(let U=$.startLineNumber+1;U<$.endLineNumber&&G<Y;U++)G=this._findMatchesInLine(Q,J.getLineContent(U),U,0,G,Z,X,Y);if(G<Y){let U=J.getLineContent($.endLineNumber).substring(0,$.endColumn-1);G=this._findMatchesInLine(Q,U,$.endLineNumber,0,G,Z,X,Y)}return Z}static _findMatchesInLine(J,$,Q,X,Y,Z,G,q){let U=J.wordSeparators;if(!G&&J.simpleSearch){let j=J.simpleSearch,B=j.length,V=$.length,W=-B;while((W=$.indexOf(j,W+B))!==-1)if(!U||rF(U,$,V,W,B)){if(Z[Y++]=new pQ(new v(Q,W+1+X,Q,W+1+B+X),null),Y>=q)return Y}return Y}let z=new mQ(J.wordSeparators,J.regex),H;z.reset(0);do if(H=z.next($),H){if(Z[Y++]=zY(new v(Q,H.index+1+X,Q,H.index+1+H[0].length+X),H,G),Y>=q)return Y}while(H);return Y}static findNextMatch(J,$,Q,X){let Y=$.parseSearchRequest();if(!Y)return null;let Z=new mQ(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindNextMatchMultiline(J,Q,Z,X);return this._doFindNextMatchLineByLine(J,Q,Z,X)}static _doFindNextMatchMultiline(J,$,Q,X){let Y=new s($.lineNumber,1),Z=J.getOffsetAt(Y),G=J.getLineCount(),q=J.getValueInRange(new v(Y.lineNumber,Y.column,G,J.getLineMaxColumn(G)),1),U=J.getEOL()===`\r
`?new B_(q):null;Q.reset($.column-1);let z=Q.next(q);if(z)return zY(this._getMultilineMatchRange(J,Z,q,U,z.index,z[0]),z,X);if($.lineNumber!==1||$.column!==1)return this._doFindNextMatchMultiline(J,new s(1,1),Q,X);return null}static _doFindNextMatchLineByLine(J,$,Q,X){let Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z),q=this._findFirstMatchInLine(Q,G,Z,$.column,X);if(q)return q;for(let U=1;U<=Y;U++){let z=(Z+U-1)%Y,H=J.getLineContent(z+1),j=this._findFirstMatchInLine(Q,H,z+1,1,X);if(j)return j}return null}static _findFirstMatchInLine(J,$,Q,X,Y){J.reset(X-1);let Z=J.next($);if(Z)return zY(new v(Q,Z.index+1,Q,Z.index+1+Z[0].length),Z,Y);return null}static findPreviousMatch(J,$,Q,X){let Y=$.parseSearchRequest();if(!Y)return null;let Z=new mQ(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindPreviousMatchMultiline(J,Q,Z,X);return this._doFindPreviousMatchLineByLine(J,Q,Z,X)}static _doFindPreviousMatchMultiline(J,$,Q,X){let Y=this._doFindMatchesMultiline(J,new v(1,1,$.lineNumber,$.column),Q,X,10*o50);if(Y.length>0)return Y[Y.length-1];let Z=J.getLineCount();if($.lineNumber!==Z||$.column!==J.getLineMaxColumn(Z))return this._doFindPreviousMatchMultiline(J,new s(Z,J.getLineMaxColumn(Z)),Q,X);return null}static _doFindPreviousMatchLineByLine(J,$,Q,X){let Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z).substring(0,$.column-1),q=this._findLastMatchInLine(Q,G,Z,X);if(q)return q;for(let U=1;U<=Y;U++){let z=(Y+Z-U-1)%Y,H=J.getLineContent(z+1),j=this._findLastMatchInLine(Q,H,z+1,X);if(j)return j}return null}static _findLastMatchInLine(J,$,Q,X){let Y=null,Z;J.reset(0);while(Z=J.next($))Y=zY(new v(Q,Z.index+1,Q,Z.index+1+Z[0].length),Z,X);return Y}}function e50(J,$,Q,X,Y){if(X===0)return!0;let Z=$.charCodeAt(X-1);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){let G=$.charCodeAt(X);if(J.get(G)!==0)return!0}return!1}function J80(J,$,Q,X,Y){if(X+Y===Q)return!0;let Z=$.charCodeAt(X+Y);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){let G=$.charCodeAt(X+Y-1);if(J.get(G)!==0)return!0}return!1}function rF(J,$,Q,X,Y){return e50(J,$,Q,X,Y)&&J80(J,$,Q,X,Y)}class mQ{constructor(J,$){this._wordSeparators=J,this._searchRegex=$,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(J){this._searchRegex.lastIndex=J,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(J){let $=J.length,Q;do{if(this._prevMatchStartIndex+this._prevMatchLength===$)return null;if(Q=this._searchRegex.exec(J),!Q)return null;let X=Q.index,Y=Q[0].length;if(X===this._prevMatchStartIndex&&Y===this._prevMatchLength){if(Y===0){if(oG(J,$,this._searchRegex.lastIndex)>65535)this._searchRegex.lastIndex+=2;else this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=X,this._prevMatchLength=Y,!this._wordSeparators||rF(this._wordSeparators,J,$,X,Y))return Q}while(Q);return null}}var o50=999;var iF=E(()=>{G1();az();e0();l7()});class K_{static computeUnicodeHighlights(J,$,Q){let X=Q?Q.startLineNumber:1,Y=Q?Q.endLineNumber:J.getLineCount(),Z=new F_($),G=Z.getCandidateCodePoints(),q;if(G==="allNonBasicAscii")q=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g");else q=new RegExp(`${$80(Array.from(G))}`,"g");let U=new mQ(null,q),z=[],H=!1,j,B=0,V=0,W=0;J:for(let K=X,A=Y;K<=A;K++){let F=J.getLineContent(K),P=F.length;U.reset(0);do if(j=U.next(F),j){let R=j.index,D=j.index+j[0].length;if(R>0){let w=F.charCodeAt(R-1);if(P6(w))R--}if(D+1<P){let w=F.charCodeAt(D-1);if(P6(w))D++}let _=F.substring(R,D),O=cX(R+1,nU,F,0);if(O&&O.endColumn<=R+1)O=null;let N=Z.shouldHighlightNonBasicASCII(_,O?O.word:null);if(N!==0){if(N===3)B++;else if(N===2)V++;else if(N===1)W++;else Y3(N);let w=1000;if(z.length>=w){H=!0;break J}z.push(new v(K,R+1,K,D+1))}}while(j)}return{ranges:z,hasMore:H,ambiguousCharacterCount:B,invisibleCharacterCount:V,nonBasicAsciiCharacterCount:W}}static computeUnicodeHighlightReason(J,$){let Q=new F_($);switch(Q.shouldHighlightNonBasicASCII(J,null)){case 0:return null;case 2:return{kind:1};case 3:{let Y=J.codePointAt(0),Z=Q.ambiguousCharacters.getPrimaryConfusable(Y),G=TQ.getLocales().filter((q)=>!TQ.getInstance(new Set([...$.allowedLocales,q])).isAmbiguous(Y));return{kind:0,confusableWith:String.fromCodePoint(Z),notAmbiguousInLocales:G}}case 1:return{kind:2}}}}function $80(J,$){return`[${Y7(J.map((X)=>String.fromCodePoint(X)).join(""))}]`}class F_{constructor(J){this.options=J,this.allowedCodePoints=new Set(J.allowedCodePoints),this.ambiguousCharacters=TQ.getInstance(new Set(J.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let J=new Set;if(this.options.invisibleCharacters){for(let $ of OQ.codePoints)if(!mv(String.fromCodePoint($)))J.add($)}if(this.options.ambiguousCharacters)for(let $ of this.ambiguousCharacters.getConfusableCodePoints())J.add($);for(let $ of this.allowedCodePoints)J.delete($);return J}shouldHighlightNonBasicASCII(J,$){let Q=J.codePointAt(0);if(this.allowedCodePoints.has(Q))return 0;if(this.options.nonBasicASCII)return 1;let X=!1,Y=!1;if($)for(let Z of $){let G=Z.codePointAt(0),q=eG(Z);if(X=X||q,!q&&!this.ambiguousCharacters.isAmbiguous(G)&&!OQ.isInvisibleCharacter(G))Y=!0}if(!X&&Y)return 0;if(this.options.invisibleCharacters){if(!mv(J)&&OQ.isInvisibleCharacter(Q))return 2}if(this.options.ambiguousCharacters){if(this.ambiguousCharacters.isAmbiguous(Q))return 3}return 0}}function mv(J){return J===" "||J===`
`||J==="\t"}var uv=E(()=>{e0();iF();G1();V$();pG()});class A2{constructor(J,$,Q){this.changes=J,this.moves=$,this.hitTimeout=Q}}class iz{constructor(J,$){this.lineRangeMapping=J,this.changes=$}}class J1{static addRange(J,$){let Q=0;while(Q<$.length&&$[Q].endExclusive<J.start)Q++;let X=Q;while(X<$.length&&$[X].start<=J.endExclusive)X++;if(Q===X)$.splice(Q,0,J);else{let Y=Math.min(J.start,$[Q].start),Z=Math.max(J.endExclusive,$[X-1].endExclusive);$.splice(Q,X-Q,new J1(Y,Z))}}static ofLength(J){return new J1(0,J)}static ofStartAndLength(J,$){return new J1(J,J+$)}constructor(J,$){if(this.start=J,this.endExclusive=$,J>$)throw new l1(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(J){return new J1(this.start+J,this.endExclusive+J)}deltaStart(J){return new J1(this.start+J,this.endExclusive)}deltaEnd(J){return new J1(this.start,this.endExclusive+J)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(J){return this.start<=J&&J<this.endExclusive}join(J){return new J1(Math.min(this.start,J.start),Math.max(this.endExclusive,J.endExclusive))}intersect(J){let $=Math.max(this.start,J.start),Q=Math.min(this.endExclusive,J.endExclusive);if($<=Q)return new J1($,Q);return}intersects(J){let $=Math.max(this.start,J.start),Q=Math.min(this.endExclusive,J.endExclusive);return $<Q}isBefore(J){return this.endExclusive<=J.start}isAfter(J){return this.start>=J.endExclusive}slice(J){return J.slice(this.start,this.endExclusive)}clip(J){if(this.isEmpty)throw new l1(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,J))}clipCyclic(J){if(this.isEmpty)throw new l1(`Invalid clipping range: ${this.toString()}`);if(J<this.start)return this.endExclusive-(this.start-J)%this.length;if(J>=this.endExclusive)return this.start+(J-this.start)%this.length;return J}forEach(J){for(let $=this.start;$<this.endExclusive;$++)J($)}}class nF{constructor(){this._sortedRanges=[]}addRange(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<J.start)$++;let Q=$;while(Q<this._sortedRanges.length&&this._sortedRanges[Q].start<=J.endExclusive)Q++;if($===Q)this._sortedRanges.splice($,0,J);else{let X=Math.min(J.start,this._sortedRanges[$].start),Y=Math.max(J.endExclusive,this._sortedRanges[Q-1].endExclusive);this._sortedRanges.splice($,Q-$,new J1(X,Y))}}toString(){return this._sortedRanges.map((J)=>J.toString()).join(", ")}intersectsStrict(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<=J.start)$++;return $<this._sortedRanges.length&&this._sortedRanges[$].start<J.endExclusive}intersectWithRange(J){let $=new nF;for(let Q of this._sortedRanges){let X=Q.intersect(J);if(X)$.addRange(X)}return $}intersectWithRangeLength(J){return this.intersectWithRange(J).length}get length(){return this._sortedRanges.reduce((J,$)=>J+$.length,0)}}var n9=E(()=>{T1()});function P2(J,$,Q){let X=Q80(J,$);if(X===-1)return;return J[X]}function Q80(J,$,Q=J.length-1){for(let X=Q;X>=0;X--){let Y=J[X];if($(Y))return X}return-1}function uQ(J,$){let Q=D2(J,$);return Q===-1?void 0:J[Q]}function D2(J,$,Q=0,X=J.length){let Y=Q,Z=X;while(Y<Z){let G=Math.floor((Y+Z)/2);if($(J[G]))Y=G+1;else Z=G}return Y-1}function cv(J,$){let Q=R3(J,$);return Q===J.length?void 0:J[Q]}function R3(J,$,Q=0,X=J.length){let Y=Q,Z=X;while(Y<Z){let G=Math.floor((Y+Z)/2);if($(J[G]))Z=G;else Y=G+1}return Y}class M3{constructor(J){this._array=J,this._findLastMonotonousLastIdx=0}findLastMonotonous(J){if(M3.assertInvariants){if(this._prevFindLastPredicate){for(let Q of this._array)if(this._prevFindLastPredicate(Q)&&!J(Q))throw Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=J}let $=D2(this._array,J,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=$+1,$===-1?void 0:this._array[$]}}function A_(J,$){if(J.length===0)return;let Q=J[0];for(let X=1;X<J.length;X++){let Y=J[X];if($(Y,Q)>0)Q=Y}return Q}function lv(J,$){if(J.length===0)return;let Q=J[0];for(let X=1;X<J.length;X++){let Y=J[X];if($(Y,Q)>=0)Q=Y}return Q}function dv(J,$){return A_(J,(Q,X)=>-$(Q,X))}function sv(J,$){if(J.length===0)return-1;let Q=0;for(let X=1;X<J.length;X++){let Y=J[X];if($(Y,J[Q])>0)Q=X}return Q}var FJ=E(()=>{M3.assertInvariants=!1});class l0{static fromRangeInclusive(J){return new l0(J.startLineNumber,J.endLineNumber+1)}static joinMany(J){if(J.length===0)return[];let $=new d7(J[0].slice());for(let Q=1;Q<J.length;Q++)$=$.getUnion(new d7(J[Q].slice()));return $.ranges}static ofLength(J,$){return new l0(J,J+$)}static deserialize(J){return new l0(J[0],J[1])}constructor(J,$){if(J>$)throw new l1(`startLineNumber ${J} cannot be after endLineNumberExclusive ${$}`);this.startLineNumber=J,this.endLineNumberExclusive=$}contains(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(J){return new l0(this.startLineNumber+J,this.endLineNumberExclusive+J)}deltaLength(J){return new l0(this.startLineNumber,this.endLineNumberExclusive+J)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(J){return new l0(Math.min(this.startLineNumber,J.startLineNumber),Math.max(this.endLineNumberExclusive,J.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(J){let $=Math.max(this.startLineNumber,J.startLineNumber),Q=Math.min(this.endLineNumberExclusive,J.endLineNumberExclusive);if($<=Q)return new l0($,Q);return}intersectsStrict(J){return this.startLineNumber<J.endLineNumberExclusive&&J.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(J){return this.startLineNumber<=J.endLineNumberExclusive&&J.startLineNumber<=this.endLineNumberExclusive}equals(J){return this.startLineNumber===J.startLineNumber&&this.endLineNumberExclusive===J.endLineNumberExclusive}toInclusiveRange(){if(this.isEmpty)return null;return new v(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new v(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(J){let $=[];for(let Q=this.startLineNumber;Q<this.endLineNumberExclusive;Q++)$.push(J(Q));return $}forEach(J){for(let $=this.startLineNumber;$<this.endLineNumberExclusive;$++)J($)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}toOffsetRange(){return new J1(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class d7{constructor(J=[]){this._normalizedRanges=J}get ranges(){return this._normalizedRanges}addRange(J){if(J.length===0)return;let $=R3(this._normalizedRanges,(X)=>X.endLineNumberExclusive>=J.startLineNumber),Q=D2(this._normalizedRanges,(X)=>X.startLineNumber<=J.endLineNumberExclusive)+1;if($===Q)this._normalizedRanges.splice($,0,J);else if($===Q-1){let X=this._normalizedRanges[$];this._normalizedRanges[$]=X.join(J)}else{let X=this._normalizedRanges[$].join(this._normalizedRanges[Q-1]).join(J);this._normalizedRanges.splice($,Q-$,X)}}contains(J){let $=uQ(this._normalizedRanges,(Q)=>Q.startLineNumber<=J);return!!$&&$.endLineNumberExclusive>J}intersects(J){let $=uQ(this._normalizedRanges,(Q)=>Q.startLineNumber<J.endLineNumberExclusive);return!!$&&$.endLineNumberExclusive>J.startLineNumber}getUnion(J){if(this._normalizedRanges.length===0)return J;if(J._normalizedRanges.length===0)return this;let $=[],Q=0,X=0,Y=null;while(Q<this._normalizedRanges.length||X<J._normalizedRanges.length){let Z=null;if(Q<this._normalizedRanges.length&&X<J._normalizedRanges.length){let G=this._normalizedRanges[Q],q=J._normalizedRanges[X];if(G.startLineNumber<q.startLineNumber)Z=G,Q++;else Z=q,X++}else if(Q<this._normalizedRanges.length)Z=this._normalizedRanges[Q],Q++;else Z=J._normalizedRanges[X],X++;if(Y===null)Y=Z;else if(Y.endLineNumberExclusive>=Z.startLineNumber)Y=new l0(Y.startLineNumber,Math.max(Y.endLineNumberExclusive,Z.endLineNumberExclusive));else $.push(Y),Y=Z}if(Y!==null)$.push(Y);return new d7($)}subtractFrom(J){let $=R3(this._normalizedRanges,(Z)=>Z.endLineNumberExclusive>=J.startLineNumber),Q=D2(this._normalizedRanges,(Z)=>Z.startLineNumber<=J.endLineNumberExclusive)+1;if($===Q)return new d7([J]);let X=[],Y=J.startLineNumber;for(let Z=$;Z<Q;Z++){let G=this._normalizedRanges[Z];if(G.startLineNumber>Y)X.push(new l0(Y,G.startLineNumber));Y=G.endLineNumberExclusive}if(Y<J.endLineNumberExclusive)X.push(new l0(Y,J.endLineNumberExclusive));return new d7(X)}toString(){return this._normalizedRanges.map((J)=>J.toString()).join(", ")}getIntersection(J){let $=[],Q=0,X=0;while(Q<this._normalizedRanges.length&&X<J._normalizedRanges.length){let Y=this._normalizedRanges[Q],Z=J._normalizedRanges[X],G=Y.intersect(Z);if(G&&!G.isEmpty)$.push(G);if(Y.endLineNumberExclusive<Z.endLineNumberExclusive)Q++;else X++}return new d7($)}getWithDelta(J){return new d7(this._normalizedRanges.map(($)=>$.delta(J)))}}var s7=E(()=>{T1();n9();e0();FJ()});class V8{static inverse(J,$,Q){let X=[],Y=1,Z=1;for(let q of J){let U=new V8(new l0(Y,q.original.startLineNumber),new l0(Z,q.modified.startLineNumber));if(!U.modified.isEmpty)X.push(U);Y=q.original.endLineNumberExclusive,Z=q.modified.endLineNumberExclusive}let G=new V8(new l0(Y,$+1),new l0(Z,Q+1));if(!G.modified.isEmpty)X.push(G);return X}static clip(J,$,Q){let X=[];for(let Y of J){let Z=Y.original.intersect($),G=Y.modified.intersect(Q);if(Z&&!Z.isEmpty&&G&&!G.isEmpty)X.push(new V8(Z,G))}return X}constructor(J,$){this.original=J,this.modified=$}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new V8(this.modified,this.original)}join(J){return new V8(this.original.join(J.original),this.modified.join(J.modified))}}class o9{constructor(J,$){this.originalRange=J,this.modifiedRange=$}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new o9(this.modifiedRange,this.originalRange)}}var _7;var jY=E(()=>{s7();_7=class _7 extends V8{constructor(J,$,Q){super(J,$);this.innerChanges=Q}flip(){var J;return new _7(this.modified,this.original,(J=this.innerChanges)===null||J===void 0?void 0:J.map(($)=>$.flip()))}}});class M_{computeDiff(J,$,Q){var X;let Z=new nv(J,$,{maxComputationTime:Q.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Q.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),G=[],q=null;for(let U of Z.changes){let z;if(U.originalEndLineNumber===0)z=new l0(U.originalStartLineNumber+1,U.originalStartLineNumber+1);else z=new l0(U.originalStartLineNumber,U.originalEndLineNumber+1);let H;if(U.modifiedEndLineNumber===0)H=new l0(U.modifiedStartLineNumber+1,U.modifiedStartLineNumber+1);else H=new l0(U.modifiedStartLineNumber,U.modifiedEndLineNumber+1);let j=new _7(z,H,(X=U.charChanges)===null||X===void 0?void 0:X.map((B)=>new o9(new v(B.originalStartLineNumber,B.originalStartColumn,B.originalEndLineNumber,B.originalEndColumn),new v(B.modifiedStartLineNumber,B.modifiedStartColumn,B.modifiedEndLineNumber,B.modifiedEndColumn))));if(q){if(q.modified.endLineNumberExclusive===j.modified.startLineNumber||q.original.endLineNumberExclusive===j.original.startLineNumber)j=new _7(q.original.join(j.original),q.modified.join(j.modified),q.innerChanges&&j.innerChanges?q.innerChanges.concat(j.innerChanges):void 0),G.pop()}G.push(j),q=j}return j$(()=>{return UF(G,(U,z)=>z.original.startLineNumber-U.original.endLineNumberExclusive===z.modified.startLineNumber-U.modified.endLineNumberExclusive&&U.original.endLineNumberExclusive<z.original.startLineNumber&&U.modified.endLineNumberExclusive<z.modified.startLineNumber)}),new A2(G,[],Z.quitEarly)}}function rv(J,$,Q,X){return new BJ(J,$,Q).ComputeDiff(X)}class P_{constructor(J){let $=[],Q=[];for(let X=0,Y=J.length;X<Y;X++)$[X]=D_(J[X],1),Q[X]=R_(J[X],1);this.lines=J,this._startColumns=$,this._endColumns=Q}getElements(){let J=[];for(let $=0,Q=this.lines.length;$<Q;$++)J[$]=this.lines[$].substring(this._startColumns[$]-1,this._endColumns[$]-1);return J}getStrictElement(J){return this.lines[J]}getStartLineNumber(J){return J+1}getEndLineNumber(J){return J+1}createCharSequence(J,$,Q){let X=[],Y=[],Z=[],G=0;for(let q=$;q<=Q;q++){let U=this.lines[q],z=J?this._startColumns[q]:1,H=J?this._endColumns[q]:U.length+1;for(let j=z;j<H;j++)X[G]=U.charCodeAt(j-1),Y[G]=q+1,Z[G]=j,G++;if(!J&&q<Q)X[G]=10,Y[G]=q+1,Z[G]=U.length+1,G++}return new iv(X,Y,Z)}}class iv{constructor(J,$,Q){this._charCodes=J,this._lineNumbers=$,this._columns=Q}toString(){return"["+this._charCodes.map((J,$)=>(J===10?"\\n":String.fromCharCode(J))+`-(${this._lineNumbers[$]},${this._columns[$]})`).join(", ")+"]"}_assertIndex(J,$){if(J<0||J>=$.length)throw Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(J){if(J>0&&J===this._lineNumbers.length)return this.getEndLineNumber(J-1);return this._assertIndex(J,this._lineNumbers),this._lineNumbers[J]}getEndLineNumber(J){if(J===-1)return this.getStartLineNumber(J+1);if(this._assertIndex(J,this._lineNumbers),this._charCodes[J]===10)return this._lineNumbers[J]+1;return this._lineNumbers[J]}getStartColumn(J){if(J>0&&J===this._columns.length)return this.getEndColumn(J-1);return this._assertIndex(J,this._columns),this._columns[J]}getEndColumn(J){if(J===-1)return this.getStartColumn(J+1);if(this._assertIndex(J,this._columns),this._charCodes[J]===10)return 1;return this._columns[J]+1}}class O3{constructor(J,$,Q,X,Y,Z,G,q){this.originalStartLineNumber=J,this.originalStartColumn=$,this.originalEndLineNumber=Q,this.originalEndColumn=X,this.modifiedStartLineNumber=Y,this.modifiedStartColumn=Z,this.modifiedEndLineNumber=G,this.modifiedEndColumn=q}static createFromDiffChange(J,$,Q){let X=$.getStartLineNumber(J.originalStart),Y=$.getStartColumn(J.originalStart),Z=$.getEndLineNumber(J.originalStart+J.originalLength-1),G=$.getEndColumn(J.originalStart+J.originalLength-1),q=Q.getStartLineNumber(J.modifiedStart),U=Q.getStartColumn(J.modifiedStart),z=Q.getEndLineNumber(J.modifiedStart+J.modifiedLength-1),H=Q.getEndColumn(J.modifiedStart+J.modifiedLength-1);return new O3(X,Y,Z,G,q,U,z,H)}}function Y80(J){if(J.length<=1)return J;let $=[J[0]],Q=$[0];for(let X=1,Y=J.length;X<Y;X++){let Z=J[X],G=Z.originalStart-(Q.originalStart+Q.originalLength),q=Z.modifiedStart-(Q.modifiedStart+Q.modifiedLength);if(Math.min(G,q)<X80)Q.originalLength=Z.originalStart+Z.originalLength-Q.originalStart,Q.modifiedLength=Z.modifiedStart+Z.modifiedLength-Q.modifiedStart;else $.push(Z),Q=Z}return $}class nz{constructor(J,$,Q,X,Y){this.originalStartLineNumber=J,this.originalEndLineNumber=$,this.modifiedStartLineNumber=Q,this.modifiedEndLineNumber=X,this.charChanges=Y}static createFromDiffResult(J,$,Q,X,Y,Z,G){let q,U,z,H,j=void 0;if($.originalLength===0)q=Q.getStartLineNumber($.originalStart)-1,U=0;else q=Q.getStartLineNumber($.originalStart),U=Q.getEndLineNumber($.originalStart+$.originalLength-1);if($.modifiedLength===0)z=X.getStartLineNumber($.modifiedStart)-1,H=0;else z=X.getStartLineNumber($.modifiedStart),H=X.getEndLineNumber($.modifiedStart+$.modifiedLength-1);if(Z&&$.originalLength>0&&$.originalLength<20&&$.modifiedLength>0&&$.modifiedLength<20&&Y()){let B=Q.createCharSequence(J,$.originalStart,$.originalStart+$.originalLength-1),V=X.createCharSequence(J,$.modifiedStart,$.modifiedStart+$.modifiedLength-1);if(B.getElements().length>0&&V.getElements().length>0){let W=rv(B,V,Y,!0).changes;if(G)W=Y80(W);j=[];for(let K=0,A=W.length;K<A;K++)j.push(O3.createFromDiffChange(W[K],B,V))}}return new nz(q,U,z,H,j)}}class nv{constructor(J,$,Q){this.shouldComputeCharChanges=Q.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Q.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Q.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Q.shouldMakePrettyDiff,this.originalLines=J,this.modifiedLines=$,this.original=new P_(J),this.modified=new P_($),this.continueLineDiff=av(Q.maxComputationTime),this.continueCharDiff=av(Q.maxComputationTime===0?0:Math.min(Q.maxComputationTime,5000))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0){if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[]};return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]}}if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};let J=rv(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),$=J.changes,Q=J.quitEarly;if(this.shouldIgnoreTrimWhitespace){let G=[];for(let q=0,U=$.length;q<U;q++)G.push(nz.createFromDiffResult(this.shouldIgnoreTrimWhitespace,$[q],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Q,changes:G}}let X=[],Y=0,Z=0;for(let G=-1,q=$.length;G<q;G++){let U=G+1<q?$[G+1]:null,z=U?U.originalStart:this.originalLines.length,H=U?U.modifiedStart:this.modifiedLines.length;while(Y<z&&Z<H){let j=this.originalLines[Y],B=this.modifiedLines[Z];if(j!==B){{let V=D_(j,1),W=D_(B,1);while(V>1&&W>1){let K=j.charCodeAt(V-2),A=B.charCodeAt(W-2);if(K!==A)break;V--,W--}if(V>1||W>1)this._pushTrimWhitespaceCharChange(X,Y+1,1,V,Z+1,1,W)}{let V=R_(j,1),W=R_(B,1),K=j.length+1,A=B.length+1;while(V<K&&W<A){let F=j.charCodeAt(V-1),P=j.charCodeAt(W-1);if(F!==P)break;V++,W++}if(V<K||W<A)this._pushTrimWhitespaceCharChange(X,Y+1,V,K,Z+1,W,A)}}Y++,Z++}if(U)X.push(nz.createFromDiffResult(this.shouldIgnoreTrimWhitespace,U,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Y+=U.originalLength,Z+=U.modifiedLength}return{quitEarly:Q,changes:X}}_pushTrimWhitespaceCharChange(J,$,Q,X,Y,Z,G){if(this._mergeTrimWhitespaceCharChange(J,$,Q,X,Y,Z,G))return;let q=void 0;if(this.shouldComputeCharChanges)q=[new O3($,Q,$,X,Y,Z,Y,G)];J.push(new nz($,$,Y,Y,q))}_mergeTrimWhitespaceCharChange(J,$,Q,X,Y,Z,G){let q=J.length;if(q===0)return!1;let U=J[q-1];if(U.originalEndLineNumber===0||U.modifiedEndLineNumber===0)return!1;if(U.originalEndLineNumber===$&&U.modifiedEndLineNumber===Y){if(this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new O3($,Q,$,X,Y,Z,Y,G));return!0}if(U.originalEndLineNumber+1===$&&U.modifiedEndLineNumber+1===Y){if(U.originalEndLineNumber=$,U.modifiedEndLineNumber=Y,this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new O3($,Q,$,X,Y,Z,Y,G));return!0}return!1}}function D_(J,$){let Q=s6(J);if(Q===-1)return $;return Q+1}function R_(J,$){let Q=j9(J);if(Q===-1)return $;return Q+2}function av(J){if(J===0)return()=>!0;let $=Date.now();return()=>{return Date.now()-$<J}}var X80=3;var ov=E(()=>{sF();jY();G1();e0();V$();s7()});class KJ{static trivial(J,$){return new KJ([new $5(J1.ofLength(J.length),J1.ofLength($.length))],!1)}static trivialTimedOut(J,$){return new KJ([new $5(J1.ofLength(J.length),J1.ofLength($.length))],!0)}constructor(J,$){this.diffs=J,this.hitTimeout=$}}class $5{static invert(J,$){let Q=[];return NW(J,(X,Y)=>{Q.push($5.fromOffsetPairs(X?X.getEndExclusives():D9.zero,Y?Y.getStarts():new D9($,(X?X.seq2Range.endExclusive-X.seq1Range.endExclusive:0)+$)))}),Q}static fromOffsetPairs(J,$){return new $5(new J1(J.offset1,$.offset1),new J1(J.offset2,$.offset2))}constructor(J,$){this.seq1Range=J,this.seq2Range=$}swap(){return new $5(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(J){return new $5(this.seq1Range.join(J.seq1Range),this.seq2Range.join(J.seq2Range))}delta(J){if(J===0)return this;return new $5(this.seq1Range.delta(J),this.seq2Range.delta(J))}deltaStart(J){if(J===0)return this;return new $5(this.seq1Range.deltaStart(J),this.seq2Range.deltaStart(J))}deltaEnd(J){if(J===0)return this;return new $5(this.seq1Range.deltaEnd(J),this.seq2Range.deltaEnd(J))}intersect(J){let $=this.seq1Range.intersect(J.seq1Range),Q=this.seq2Range.intersect(J.seq2Range);if(!$||!Q)return;return new $5($,Q)}getStarts(){return new D9(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new D9(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class D9{constructor(J,$){this.offset1=J,this.offset2=$}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(J){if(J===0)return this;return new D9(this.offset1+J,this.offset2+J)}equals(J){return this.offset1===J.offset1&&this.offset2===J.offset2}}class cQ{isValid(){return!0}}class O_{constructor(J){if(this.timeout=J,this.startTime=Date.now(),this.valid=!0,J<=0)throw new l1("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}var _3=E(()=>{B1();T1();n9();D9.zero=new D9(0,0);D9.max=new D9(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);cQ.instance=new cQ});class oz{constructor(J,$){this.width=J,this.height=$,this.array=[],this.array=Array(J*$)}get(J,$){return this.array[J+$*this.width]}set(J,$,Q){this.array[J+$*this.width]=Q}}function tz(J){return J===32||J===9}class R2{static getKey(J){let $=this.chrKeys.get(J);if($===void 0)$=this.chrKeys.size,this.chrKeys.set(J,$);return $}constructor(J,$,Q){this.range=J,this.lines=$,this.source=Q,this.histogram=[];let X=0;for(let Y=J.startLineNumber-1;Y<J.endLineNumberExclusive-1;Y++){let Z=$[Y];for(let q=0;q<Z.length;q++){X++;let U=Z[q],z=R2.getKey(U);this.histogram[z]=(this.histogram[z]||0)+1}X++;let G=R2.getKey(`
`);this.histogram[G]=(this.histogram[G]||0)+1}this.totalCount=X}computeSimilarity(J){var $,Q;let X=0,Y=Math.max(this.histogram.length,J.histogram.length);for(let Z=0;Z<Y;Z++)X+=Math.abs((($=this.histogram[Z])!==null&&$!==void 0?$:0)-((Q=J.histogram[Z])!==null&&Q!==void 0?Q:0));return 1-X/(this.totalCount+J.totalCount)}}var oF=E(()=>{R2.chrKeys=new Map});class __{compute(J,$,Q=cQ.instance,X){if(J.length===0||$.length===0)return KJ.trivial(J,$);let Y=new oz(J.length,$.length),Z=new oz(J.length,$.length),G=new oz(J.length,$.length);for(let V=0;V<J.length;V++)for(let W=0;W<$.length;W++){if(!Q.isValid())return KJ.trivialTimedOut(J,$);let K=V===0?0:Y.get(V-1,W),A=W===0?0:Y.get(V,W-1),F;if(J.getElement(V)===$.getElement(W)){if(V===0||W===0)F=0;else F=Y.get(V-1,W-1);if(V>0&&W>0&&Z.get(V-1,W-1)===3)F+=G.get(V-1,W-1);F+=X?X(V,W):1}else F=-1;let P=Math.max(K,A,F);if(P===F){let R=V>0&&W>0?G.get(V-1,W-1):0;G.set(V,W,R+1),Z.set(V,W,3)}else if(P===K)G.set(V,W,0),Z.set(V,W,1);else if(P===A)G.set(V,W,0),Z.set(V,W,2);Y.set(V,W,P)}let q=[],U=J.length,z=$.length;function H(V,W){if(V+1!==U||W+1!==z)q.push(new $5(new J1(V+1,U),new J1(W+1,z)));U=V,z=W}let j=J.length-1,B=$.length-1;while(j>=0&&B>=0)if(Z.get(j,B)===3)H(j,B),j--,B--;else if(Z.get(j,B)===1)j--;else B--;return H(-1,-1),q.reverse(),new KJ(q,!1)}}var tv=E(()=>{n9();_3();oF()});class ez{compute(J,$,Q=cQ.instance){if(J.length===0||$.length===0)return KJ.trivial(J,$);let X=J,Y=$;function Z(W,K){while(W<X.length&&K<Y.length&&X.getElement(W)===Y.getElement(K))W++,K++;return W}let G=0,q=new ev;q.set(0,Z(0,0));let U=new Jh;U.set(0,q.get(0)===0?null:new N_(null,0,0,q.get(0)));let z=0;J:while(!0){if(G++,!Q.isValid())return KJ.trivialTimedOut(X,Y);let W=-Math.min(G,Y.length+G%2),K=Math.min(G,X.length+G%2);for(z=W;z<=K;z+=2){let A=0,F=z===K?-1:q.get(z+1),P=z===W?-1:q.get(z-1)+1;A++;let R=Math.min(Math.max(F,P),X.length),D=R-z;if(A++,R>X.length||D>Y.length)continue;let _=Z(R,D);q.set(z,_);let O=R===F?U.get(z+1):U.get(z-1);if(U.set(z,_!==R?new N_(O,R,D,_-R):O),q.get(z)===X.length&&q.get(z)-z===Y.length)break J}}let H=U.get(z),j=[],B=X.length,V=Y.length;while(!0){let W=H?H.x+H.length:0,K=H?H.y+H.length:0;if(W!==B||K!==V)j.push(new $5(new J1(W,B),new J1(K,V)));if(!H)break;B=H.x,V=H.y,H=H.prev}return j.reverse(),new KJ(j,!1)}}class N_{constructor(J,$,Q,X){this.prev=J,this.x=$,this.y=Q,this.length=X}}class ev{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0){if(J=-J-1,J>=this.negativeArr.length){let Q=this.negativeArr;this.negativeArr=new Int32Array(Q.length*2),this.negativeArr.set(Q)}this.negativeArr[J]=$}else{if(J>=this.positiveArr.length){let Q=this.positiveArr;this.positiveArr=new Int32Array(Q.length*2),this.positiveArr.set(Q)}this.positiveArr[J]=$}}}class Jh{constructor(){this.positiveArr=[],this.negativeArr=[]}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0)J=-J-1,this.negativeArr[J]=$;else this.positiveArr[J]=$}}var T_=E(()=>{n9();_3()});class Xh{constructor(J,$){this.uri=J,this.value=$}}function Z80(J){return Array.isArray(J)}class w_{constructor(J){if(this._m1=new Map,this._m2=new Map,J)for(let[$,Q]of J)this.set($,Q)}clear(){this._m1.clear(),this._m2.clear()}set(J,$){this._m1.set(J,$),this._m2.set($,J)}get(J){return this._m1.get(J)}getKey(J){return this._m2.get(J)}delete(J){let $=this._m1.get(J);if($===void 0)return!1;return this._m1.delete(J),this._m2.delete($),!0}keys(){return this._m1.keys()}values(){return this._m1.values()}}class JH{constructor(){this.map=new Map}add(J,$){let Q=this.map.get(J);if(!Q)Q=new Set,this.map.set(J,Q);Q.add($)}delete(J,$){let Q=this.map.get(J);if(!Q)return;if(Q.delete($),Q.size===0)this.map.delete(J)}forEach(J,$){let Q=this.map.get(J);if(!Q)return;Q.forEach($)}get(J){let $=this.map.get(J);if(!$)return new Set;return $}}var $h,Qh,l5,Yh,lQ;var AJ=E(()=>{l5=class l5{constructor(J,$){if(this[$h]="ResourceMap",J instanceof l5)this.map=new Map(J.map),this.toKey=$!==null&&$!==void 0?$:l5.defaultToKey;else if(Z80(J)){this.map=new Map,this.toKey=$!==null&&$!==void 0?$:l5.defaultToKey;for(let[Q,X]of J)this.set(Q,X)}else this.map=new Map,this.toKey=J!==null&&J!==void 0?J:l5.defaultToKey}set(J,$){return this.map.set(this.toKey(J),new Xh(J,$)),this}get(J){var $;return($=this.map.get(this.toKey(J)))===null||$===void 0?void 0:$.value}has(J){return this.map.has(this.toKey(J))}get size(){return this.map.size}clear(){this.map.clear()}delete(J){return this.map.delete(this.toKey(J))}forEach(J,$){if(typeof $<"u")J=J.bind($);for(let[Q,X]of this.map)J(X.value,X.uri,this)}*values(){for(let J of this.map.values())yield J.value}*keys(){for(let J of this.map.values())yield J.uri}*entries(){for(let J of this.map.values())yield[J.uri,J.value]}*[($h=Symbol.toStringTag,Symbol.iterator)](){for(let[,J]of this.map)yield[J.uri,J.value]}};l5.defaultToKey=(J)=>J.toString();Yh=class Yh{constructor(){this[Qh]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var J;return(J=this._head)===null||J===void 0?void 0:J.value}get last(){var J;return(J=this._tail)===null||J===void 0?void 0:J.value}has(J){return this._map.has(J)}get(J,$=0){let Q=this._map.get(J);if(!Q)return;if($!==0)this.touch(Q,$);return Q.value}set(J,$,Q=0){let X=this._map.get(J);if(X){if(X.value=$,Q!==0)this.touch(X,Q)}else{switch(X={key:J,value:$,next:void 0,previous:void 0},Q){case 0:this.addItemLast(X);break;case 1:this.addItemFirst(X);break;case 2:this.addItemLast(X);break;default:this.addItemLast(X);break}this._map.set(J,X),this._size++}return this}delete(J){return!!this.remove(J)}remove(J){let $=this._map.get(J);if(!$)return;return this._map.delete(J),this.removeItem($),this._size--,$.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw Error("Invalid list");let J=this._head;return this._map.delete(J.key),this.removeItem(J),this._size--,J.value}forEach(J,$){let Q=this._state,X=this._head;while(X){if($)J.bind($)(X.value,X.key,this);else J(X.value,X.key,this);if(this._state!==Q)throw Error("LinkedMap got modified during iteration.");X=X.next}}keys(){let J=this,$=this._state,Q=this._head,X={[Symbol.iterator](){return X},next(){if(J._state!==$)throw Error("LinkedMap got modified during iteration.");if(Q){let Y={value:Q.key,done:!1};return Q=Q.next,Y}else return{value:void 0,done:!0}}};return X}values(){let J=this,$=this._state,Q=this._head,X={[Symbol.iterator](){return X},next(){if(J._state!==$)throw Error("LinkedMap got modified during iteration.");if(Q){let Y={value:Q.value,done:!1};return Q=Q.next,Y}else return{value:void 0,done:!0}}};return X}entries(){let J=this,$=this._state,Q=this._head,X={[Symbol.iterator](){return X},next(){if(J._state!==$)throw Error("LinkedMap got modified during iteration.");if(Q){let Y={value:[Q.key,Q.value],done:!1};return Q=Q.next,Y}else return{value:void 0,done:!0}}};return X}[(Qh=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(J){if(J>=this.size)return;if(J===0){this.clear();return}let $=this._head,Q=this.size;while($&&Q>J)this._map.delete($.key),$=$.next,Q--;if(this._head=$,this._size=Q,$)$.previous=void 0;this._state++}addItemFirst(J){if(!this._head&&!this._tail)this._tail=J;else if(!this._head)throw Error("Invalid list");else J.next=this._head,this._head.previous=J;this._head=J,this._state++}addItemLast(J){if(!this._head&&!this._tail)this._head=J;else if(!this._tail)throw Error("Invalid list");else J.previous=this._tail,this._tail.next=J;this._tail=J,this._state++}removeItem(J){if(J===this._head&&J===this._tail)this._head=void 0,this._tail=void 0;else if(J===this._head){if(!J.next)throw Error("Invalid list");J.next.previous=void 0,this._head=J.next}else if(J===this._tail){if(!J.previous)throw Error("Invalid list");J.previous.next=void 0,this._tail=J.previous}else{let{next:$,previous:Q}=J;if(!$||!Q)throw Error("Invalid list");$.previous=Q,Q.next=$}J.next=void 0,J.previous=void 0,this._state++}touch(J,$){if(!this._head||!this._tail)throw Error("Invalid list");if($!==1&&$!==2)return;if($===1){if(J===this._head)return;let{next:Q,previous:X}=J;if(J===this._tail)X.next=void 0,this._tail=X;else Q.previous=X,X.next=Q;J.previous=void 0,J.next=this._head,this._head.previous=J,this._head=J,this._state++}else if($===2){if(J===this._tail)return;let{next:Q,previous:X}=J;if(J===this._head)Q.previous=void 0,this._head=Q;else Q.previous=X,X.next=Q;J.next=void 0,J.previous=this._tail,this._tail.next=J,this._tail=J,this._state++}}toJSON(){let J=[];return this.forEach(($,Q)=>{J.push([Q,$])}),J}fromJSON(J){this.clear();for(let[$,Q]of J)this.set($,Q)}};lQ=class lQ extends Yh{constructor(J,$=1){super();this._limit=J,this._ratio=Math.min(Math.max(0,$),1)}get limit(){return this._limit}set limit(J){this._limit=J,this.checkTrim()}get(J,$=2){return super.get(J,$)}peek(J){return super.get(J,0)}set(J,$){return super.set(J,$,2),this.checkTrim(),this}checkTrim(){if(this.size>this._limit)this.trimOld(Math.round(this._limit*this._ratio))}}});class M2{constructor(J,$,Q){this.lines=J,this.considerWhitespaceChanges=Q,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let X=!1;if($.start>0&&$.endExclusive>=J.length)$=new J1($.start-1,$.endExclusive),X=!0;this.lineRange=$,this.firstCharOffsetByLine[0]=0;for(let Y=this.lineRange.start;Y<this.lineRange.endExclusive;Y++){let Z=J[Y],G=0;if(X)G=Z.length,Z="",X=!1;else if(!Q){let q=Z.trimStart();G=Z.length-q.length,Z=q.trimEnd()}this.additionalOffsetByLine.push(G);for(let q=0;q<Z.length;q++)this.elements.push(Z.charCodeAt(q));if(Y<J.length-1)this.elements.push(10),this.firstCharOffsetByLine[Y-this.lineRange.start+1]=this.elements.length}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new J1(0,this.length))}getText(J){return this.elements.slice(J.start,J.endExclusive).map(($)=>String.fromCharCode($)).join("")}getElement(J){return this.elements[J]}get length(){return this.elements.length}getBoundaryScore(J){let $=Gh(J>0?this.elements[J-1]:-1),Q=Gh(J<this.elements.length?this.elements[J]:-1);if($===7&&Q===8)return 0;if($===8)return 150;let X=0;if($!==Q){if(X+=10,$===0&&Q===1)X+=1}return X+=Zh($),X+=Zh(Q),X}translateOffset(J){if(this.lineRange.isEmpty)return new s(this.lineRange.start+1,1);let $=D2(this.firstCharOffsetByLine,(Q)=>Q<=J);return new s(this.lineRange.start+$+1,J-this.firstCharOffsetByLine[$]+this.additionalOffsetByLine[$]+1)}translateRange(J){return v.fromPositions(this.translateOffset(J.start),this.translateOffset(J.endExclusive))}findWordContaining(J){if(J<0||J>=this.elements.length)return;if(!L_(this.elements[J]))return;let $=J;while($>0&&L_(this.elements[$-1]))$--;let Q=J;while(Q<this.elements.length&&L_(this.elements[Q]))Q++;return new J1($,Q)}countLinesIn(J){return this.translateOffset(J.endExclusive).lineNumber-this.translateOffset(J.start).lineNumber}isStronglyEqual(J,$){return this.elements[J]===this.elements[$]}extendToFullLines(J){var $,Q;let X=($=uQ(this.firstCharOffsetByLine,(Z)=>Z<=J.start))!==null&&$!==void 0?$:0,Y=(Q=cv(this.firstCharOffsetByLine,(Z)=>J.endExclusive<=Z))!==null&&Q!==void 0?Q:this.elements.length;return new J1(X,Y)}}function L_(J){return J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57}function Zh(J){return G80[J]}function Gh(J){if(J===10)return 8;else if(J===13)return 7;else if(tz(J))return 6;else if(J>=97&&J<=122)return 0;else if(J>=65&&J<=90)return 1;else if(J>=48&&J<=57)return 2;else if(J===-1)return 3;else if(J===44||J===59)return 5;else return 4}var G80;var k_=E(()=>{FJ();n9();e0();oF();G80={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:30,[6]:3,[7]:10,[8]:10}});function Uh(J,$,Q,X,Y,Z){let{moves:G,excludedChanges:q}=U80(J,$,Q,Z);if(!Z.isValid())return[];let U=J.filter((H)=>!q.has(H)),z=z80(U,X,Y,$,Q,Z);return lU(G,z),G=H80(G),G=G.filter((H)=>{let j=H.original.toOffsetRange().slice($).map((V)=>V.trim());return j.join(`
`).length>=15&&q80(j,(V)=>V.length>=2)>=2}),G=j80(J,G),G}function q80(J,$){let Q=0;for(let X of J)if($(X))Q++;return Q}function U80(J,$,Q,X){let Y=[],Z=J.filter((U)=>U.modified.isEmpty&&U.original.length>=3).map((U)=>new R2(U.original,$,U)),G=new Set(J.filter((U)=>U.original.isEmpty&&U.modified.length>=3).map((U)=>new R2(U.modified,Q,U))),q=new Set;for(let U of Z){let z=-1,H;for(let j of G){let B=U.computeSimilarity(j);if(B>z)z=B,H=j}if(z>0.9&&H)G.delete(H),Y.push(new V8(U.range,H.range)),q.add(U.source),q.add(H.source);if(!X.isValid())return{moves:Y,excludedChanges:q}}return{moves:Y,excludedChanges:q}}function z80(J,$,Q,X,Y,Z){let G=[],q=new JH;for(let B of J)for(let V=B.original.startLineNumber;V<B.original.endLineNumberExclusive-2;V++){let W=`${$[V-1]}:${$[V+1-1]}:${$[V+2-1]}`;q.add(W,{range:new l0(V,V+3)})}let U=[];J.sort(v7((B)=>B.modified.startLineNumber,WQ));for(let B of J){let V=[];for(let W=B.modified.startLineNumber;W<B.modified.endLineNumberExclusive-2;W++){let K=`${Q[W-1]}:${Q[W+1-1]}:${Q[W+2-1]}`,A=new l0(W,W+3),F=[];q.forEach(K,({range:P})=>{for(let D of V)if(D.originalLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive&&D.modifiedLineRange.endLineNumberExclusive+1===A.endLineNumberExclusive){D.originalLineRange=new l0(D.originalLineRange.startLineNumber,P.endLineNumberExclusive),D.modifiedLineRange=new l0(D.modifiedLineRange.startLineNumber,A.endLineNumberExclusive),F.push(D);return}let R={modifiedLineRange:A,originalLineRange:P};U.push(R),F.push(R)}),V=F}if(!Z.isValid())return[]}U.sort(Yb(v7((B)=>B.modifiedLineRange.length,WQ)));let z=new d7,H=new d7;for(let B of U){let V=B.modifiedLineRange.startLineNumber-B.originalLineRange.startLineNumber,W=z.subtractFrom(B.modifiedLineRange),K=H.subtractFrom(B.originalLineRange).getWithDelta(V),A=W.getIntersection(K);for(let F of A.ranges){if(F.length<3)continue;let P=F,R=F.delta(-V);G.push(new V8(R,P)),z.addRange(P),H.addRange(R)}}G.sort(v7((B)=>B.original.startLineNumber,WQ));let j=new M3(J);for(let B=0;B<G.length;B++){let V=G[B],W=j.findLastMonotonous((O)=>O.original.startLineNumber<=V.original.startLineNumber),K=uQ(J,(O)=>O.modified.startLineNumber<=V.modified.startLineNumber),A=Math.max(V.original.startLineNumber-W.original.startLineNumber,V.modified.startLineNumber-K.modified.startLineNumber),F=j.findLastMonotonous((O)=>O.original.startLineNumber<V.original.endLineNumberExclusive),P=uQ(J,(O)=>O.modified.startLineNumber<V.modified.endLineNumberExclusive),R=Math.max(F.original.endLineNumberExclusive-V.original.endLineNumberExclusive,P.modified.endLineNumberExclusive-V.modified.endLineNumberExclusive),D;for(D=0;D<A;D++){let O=V.original.startLineNumber-D-1,N=V.modified.startLineNumber-D-1;if(O>X.length||N>Y.length)break;if(z.contains(N)||H.contains(O))break;if(!qh(X[O-1],Y[N-1],Z))break}if(D>0)H.addRange(new l0(V.original.startLineNumber-D,V.original.startLineNumber)),z.addRange(new l0(V.modified.startLineNumber-D,V.modified.startLineNumber));let _;for(_=0;_<R;_++){let O=V.original.endLineNumberExclusive+_,N=V.modified.endLineNumberExclusive+_;if(O>X.length||N>Y.length)break;if(z.contains(N)||H.contains(O))break;if(!qh(X[O-1],Y[N-1],Z))break}if(_>0)H.addRange(new l0(V.original.endLineNumberExclusive,V.original.endLineNumberExclusive+_)),z.addRange(new l0(V.modified.endLineNumberExclusive,V.modified.endLineNumberExclusive+_));if(D>0||_>0)G[B]=new V8(new l0(V.original.startLineNumber-D,V.original.endLineNumberExclusive+_),new l0(V.modified.startLineNumber-D,V.modified.endLineNumberExclusive+_))}return G}function qh(J,$,Q){if(J.trim()===$.trim())return!0;if(J.length>300&&$.length>300)return!1;let Y=new ez().compute(new M2([J],new J1(0,1),!1),new M2([$],new J1(0,1),!1),Q),Z=0,G=$5.invert(Y.diffs,J.length);for(let H of G)H.seq1Range.forEach((j)=>{if(!tz(J.charCodeAt(j)))Z++});function q(H){let j=0;for(let B=0;B<J.length;B++)if(!tz(H.charCodeAt(B)))j++;return j}let U=q(J.length>$.length?J:$);return Z/U>0.6&&U>10}function H80(J){if(J.length===0)return J;J.sort(v7((Q)=>Q.original.startLineNumber,WQ));let $=[J[0]];for(let Q=1;Q<J.length;Q++){let X=$[$.length-1],Y=J[Q],Z=Y.original.startLineNumber-X.original.endLineNumberExclusive,G=Y.modified.startLineNumber-X.modified.endLineNumberExclusive;if(Z>=0&&G>=0&&Z+G<=2){$[$.length-1]=X.join(Y);continue}$.push(Y)}return $}function j80(J,$){let Q=new M3(J);return $=$.filter((X)=>{let Y=Q.findLastMonotonous((q)=>q.original.startLineNumber<X.original.endLineNumberExclusive)||new V8(new l0(1,1),new l0(1,1)),Z=uQ(J,(q)=>q.modified.startLineNumber<X.modified.endLineNumberExclusive);return Y!==Z}),$}var zh=E(()=>{_3();jY();B1();FJ();AJ();s7();n9();k_();oF();T_()});function $H(J,$,Q){let X=Q;return X=Hh(J,$,X),X=Hh(J,$,X),X=V80(J,$,X),X}function Hh(J,$,Q){if(Q.length===0)return Q;let X=[];X.push(Q[0]);for(let Z=1;Z<Q.length;Z++){let G=X[X.length-1],q=Q[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){let U=q.seq1Range.start-G.seq1Range.endExclusive,z;for(z=1;z<=U;z++)if(J.getElement(q.seq1Range.start-z)!==J.getElement(q.seq1Range.endExclusive-z)||$.getElement(q.seq2Range.start-z)!==$.getElement(q.seq2Range.endExclusive-z))break;if(z--,z===U){X[X.length-1]=new $5(new J1(G.seq1Range.start,q.seq1Range.endExclusive-U),new J1(G.seq2Range.start,q.seq2Range.endExclusive-U));continue}q=q.delta(-z)}X.push(q)}let Y=[];for(let Z=0;Z<X.length-1;Z++){let G=X[Z+1],q=X[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){let U=G.seq1Range.start-q.seq1Range.endExclusive,z;for(z=0;z<U;z++)if(!J.isStronglyEqual(q.seq1Range.start+z,q.seq1Range.endExclusive+z)||!$.isStronglyEqual(q.seq2Range.start+z,q.seq2Range.endExclusive+z))break;if(z===U){X[Z+1]=new $5(new J1(q.seq1Range.start+U,G.seq1Range.endExclusive),new J1(q.seq2Range.start+U,G.seq2Range.endExclusive));continue}if(z>0)q=q.delta(z)}Y.push(q)}if(X.length>0)Y.push(X[X.length-1]);return Y}function V80(J,$,Q){if(!J.getBoundaryScore||!$.getBoundaryScore)return Q;for(let X=0;X<Q.length;X++){let Y=X>0?Q[X-1]:void 0,Z=Q[X],G=X+1<Q.length?Q[X+1]:void 0,q=new J1(Y?Y.seq1Range.endExclusive+1:0,G?G.seq1Range.start-1:J.length),U=new J1(Y?Y.seq2Range.endExclusive+1:0,G?G.seq2Range.start-1:$.length);if(Z.seq1Range.isEmpty)Q[X]=jh(Z,J,$,q,U);else if(Z.seq2Range.isEmpty)Q[X]=jh(Z.swap(),$,J,U,q).swap()}return Q}function jh(J,$,Q,X,Y){let G=1;while(J.seq1Range.start-G>=X.start&&J.seq2Range.start-G>=Y.start&&Q.isStronglyEqual(J.seq2Range.start-G,J.seq2Range.endExclusive-G)&&G<100)G++;G--;let q=0;while(J.seq1Range.start+q<X.endExclusive&&J.seq2Range.endExclusive+q<Y.endExclusive&&Q.isStronglyEqual(J.seq2Range.start+q,J.seq2Range.endExclusive+q)&&q<100)q++;if(G===0&&q===0)return J;let U=0,z=-1;for(let H=-G;H<=q;H++){let j=J.seq2Range.start+H,B=J.seq2Range.endExclusive+H,V=J.seq1Range.start+H,W=$.getBoundaryScore(V)+Q.getBoundaryScore(j)+Q.getBoundaryScore(B);if(W>z)z=W,U=H}return J.delta(U)}function Vh(J,$,Q){let X=[];for(let Y of Q){let Z=X[X.length-1];if(!Z){X.push(Y);continue}if(Y.seq1Range.start-Z.seq1Range.endExclusive<=2||Y.seq2Range.start-Z.seq2Range.endExclusive<=2)X[X.length-1]=new $5(Z.seq1Range.join(Y.seq1Range),Z.seq2Range.join(Y.seq2Range));else X.push(Y)}return X}function Wh(J,$,Q){let X=$5.invert(Q,J.length),Y=[],Z=new D9(0,0);function G(U,z){if(U.offset1<Z.offset1||U.offset2<Z.offset2)return;let H=J.findWordContaining(U.offset1),j=$.findWordContaining(U.offset2);if(!H||!j)return;let B=new $5(H,j),V=B.intersect(z),W=V.seq1Range.length,K=V.seq2Range.length;while(X.length>0){let A=X[0];if(!(A.seq1Range.intersects(H)||A.seq2Range.intersects(j)))break;let P=J.findWordContaining(A.seq1Range.start),R=$.findWordContaining(A.seq2Range.start),D=new $5(P,R),_=D.intersect(A);if(W+=_.seq1Range.length,K+=_.seq2Range.length,B=B.join(D),B.seq1Range.endExclusive>=A.seq1Range.endExclusive)X.shift();else break}if(W+K<(B.seq1Range.length+B.seq2Range.length)*2/3)Y.push(B);Z=B.getEndExclusives()}while(X.length>0){let U=X.shift();if(U.seq1Range.isEmpty)continue;G(U.getStarts(),U),G(U.getEndExclusives().delta(-1),U)}return W80(Q,Y)}function W80(J,$){let Q=[];while(J.length>0||$.length>0){let X=J[0],Y=$[0],Z;if(X&&(!Y||X.seq1Range.start<Y.seq1Range.start))Z=J.shift();else Z=$.shift();if(Q.length>0&&Q[Q.length-1].seq1Range.endExclusive>=Z.seq1Range.start)Q[Q.length-1]=Q[Q.length-1].join(Z);else Q.push(Z)}return Q}function Bh(J,$,Q){let X=Q;if(X.length===0)return X;let Y=0,Z;do{Z=!1;let G=[X[0]];for(let q=1;q<X.length;q++){let H=function(B,V){let W=new J1(z.seq1Range.endExclusive,U.seq1Range.start);if(J.getText(W).replace(/\s/g,"").length<=4&&(B.seq1Range.length+B.seq2Range.length>5||V.seq1Range.length+V.seq2Range.length>5))return!0;return!1},U=X[q],z=G[G.length-1];if(H(z,U))Z=!0,G[G.length-1]=G[G.length-1].join(U);else G.push(U)}X=G}while(Y++<10&&Z);return X}function Fh(J,$,Q){let X=Q;if(X.length===0)return X;let Y=0,Z;do{Z=!1;let q=[X[0]];for(let U=1;U<X.length;U++){let j=function(V,W){let K=new J1(H.seq1Range.endExclusive,z.seq1Range.start);if(J.countLinesIn(K)>5||K.length>500)return!1;let F=J.getText(K).trim();if(F.length>20||F.split(/\r\n|\r|\n/).length>1)return!1;let P=J.countLinesIn(V.seq1Range),R=V.seq1Range.length,D=$.countLinesIn(V.seq2Range),_=V.seq2Range.length,O=J.countLinesIn(W.seq1Range),N=W.seq1Range.length,w=$.countLinesIn(W.seq2Range),T=W.seq2Range.length,I=130;function k(x){return Math.min(x,I)}if(Math.pow(Math.pow(k(P*40+R),1.5)+Math.pow(k(D*40+_),1.5),1.5)+Math.pow(Math.pow(k(O*40+N),1.5)+Math.pow(k(w*40+T),1.5),1.5)>(I**1.5)**1.5*1.3)return!0;return!1},z=X[U],H=q[q.length-1];if(j(H,z))Z=!0,q[q.length-1]=q[q.length-1].join(z);else q.push(z)}X=q}while(Y++<10&&Z);let G=[];return ex(X,(q,U,z)=>{let H=U;function j(F){return F.length>0&&F.trim().length<=3&&U.seq1Range.length+U.seq2Range.length>100}let B=J.extendToFullLines(U.seq1Range),V=J.getText(new J1(B.start,U.seq1Range.start));if(j(V))H=H.deltaStart(-V.length);let W=J.getText(new J1(U.seq1Range.endExclusive,B.endExclusive));if(j(W))H=H.deltaEnd(W.length);let K=$5.fromOffsetPairs(q?q.getEndExclusives():D9.zero,z?z.getStarts():D9.max),A=H.intersect(K);if(G.length>0&&A.getStarts().equals(G[G.length-1].getEndExclusives()))G[G.length-1]=G[G.length-1].join(A);else G.push(A)}),G}var E_=E(()=>{B1();n9();_3()});class tF{constructor(J,$){this.trimmedHash=J,this.lines=$}getElement(J){return this.trimmedHash[J]}get length(){return this.trimmedHash.length}getBoundaryScore(J){let $=J===0?0:Kh(this.lines[J-1]),Q=J===this.lines.length?0:Kh(this.lines[J]);return 1000-($+Q)}getText(J){return this.lines.slice(J.start,J.endExclusive).join(`
`)}isStronglyEqual(J,$){return this.lines[J]===this.lines[$]}}function Kh(J){let $=0;while($<J.length&&(J.charCodeAt($)===32||J.charCodeAt($)===9))$++;return $}class QH{constructor(){this.dynamicProgrammingDiffing=new __,this.myersDiffingAlgorithm=new ez}computeDiff(J,$,Q){if(J.length<=1&&B6(J,$,(D,_)=>D===_))return new A2([],[],!1);if(J.length===1&&J[0].length===0||$.length===1&&$[0].length===0)return new A2([new _7(new l0(1,J.length+1),new l0(1,$.length+1),[new o9(new v(1,1,J.length,J[0].length+1),new v(1,1,$.length,$[0].length+1))])],[],!1);let X=Q.maxComputationTimeMs===0?cQ.instance:new O_(Q.maxComputationTimeMs),Y=!Q.ignoreTrimWhitespace,Z=new Map;function G(D){let _=Z.get(D);if(_===void 0)_=Z.size,Z.set(D,_);return _}let q=J.map((D)=>G(D.trim())),U=$.map((D)=>G(D.trim())),z=new tF(q,J),H=new tF(U,$),j=(()=>{if(z.length+H.length<1700)return this.dynamicProgrammingDiffing.compute(z,H,X,(D,_)=>J[D]===$[_]?$[_].length===0?0.1:1+Math.log(1+$[_].length):0.99);return this.myersDiffingAlgorithm.compute(z,H)})(),B=j.diffs,V=j.hitTimeout;B=$H(z,H,B),B=Bh(z,H,B);let W=[],K=(D)=>{if(!Y)return;for(let _=0;_<D;_++){let O=A+_,N=F+_;if(J[O]!==$[N]){let w=this.refineDiff(J,$,new $5(new J1(O,O+1),new J1(N,N+1)),X,Y);for(let T of w.mappings)W.push(T);if(w.hitTimeout)V=!0}}},A=0,F=0;for(let D of B){j$(()=>D.seq1Range.start-A===D.seq2Range.start-F);let _=D.seq1Range.start-A;K(_),A=D.seq1Range.endExclusive,F=D.seq2Range.endExclusive;let O=this.refineDiff(J,$,D,X,Y);if(O.hitTimeout)V=!0;for(let N of O.mappings)W.push(N)}K(J.length-A);let P=Ah(W,J,$),R=[];if(Q.computeMoves)R=this.computeMoves(P,J,$,q,U,X,Y);return j$(()=>{function D(O,N){if(O.lineNumber<1||O.lineNumber>N.length)return!1;let w=N[O.lineNumber-1];if(O.column<1||O.column>w.length+1)return!1;return!0}function _(O,N){if(O.startLineNumber<1||O.startLineNumber>N.length+1)return!1;if(O.endLineNumberExclusive<1||O.endLineNumberExclusive>N.length+1)return!1;return!0}for(let O of P){if(!O.innerChanges)return!1;for(let N of O.innerChanges)if(!(D(N.modifiedRange.getStartPosition(),$)&&D(N.modifiedRange.getEndPosition(),$)&&D(N.originalRange.getStartPosition(),J)&&D(N.originalRange.getEndPosition(),J)))return!1;if(!_(O.modified,$)||!_(O.original,J))return!1}return!0}),new A2(P,R,V)}computeMoves(J,$,Q,X,Y,Z,G){return Uh(J,$,Q,X,Y,Z).map((z)=>{let H=this.refineDiff($,Q,new $5(z.original.toOffsetRange(),z.modified.toOffsetRange()),Z,G),j=Ah(H.mappings,$,Q,!0);return new iz(z,j)})}refineDiff(J,$,Q,X,Y){let Z=new M2(J,Q.seq1Range,Y),G=new M2($,Q.seq2Range,Y),q=Z.length+G.length<500?this.dynamicProgrammingDiffing.compute(Z,G,X):this.myersDiffingAlgorithm.compute(Z,G,X),U=q.diffs;return U=$H(Z,G,U),U=Wh(Z,G,U),U=Vh(Z,G,U),U=Fh(Z,G,U),{mappings:U.map((H)=>new o9(Z.translateRange(H.seq1Range),G.translateRange(H.seq2Range))),hitTimeout:q.hitTimeout}}}function Ah(J,$,Q,X=!1){let Y=[];for(let Z of vG(J.map((G)=>B80(G,$,Q)),(G,q)=>G.original.overlapOrTouch(q.original)||G.modified.overlapOrTouch(q.modified))){let G=Z[0],q=Z[Z.length-1];Y.push(new _7(G.original.join(q.original),G.modified.join(q.modified),Z.map((U)=>U.innerChanges[0])))}return j$(()=>{if(!X){if(Y.length>0&&Y[0].original.startLineNumber!==Y[0].modified.startLineNumber)return!1}return UF(Y,(Z,G)=>G.original.startLineNumber-Z.original.endLineNumberExclusive===G.modified.startLineNumber-Z.modified.endLineNumberExclusive&&Z.original.endLineNumberExclusive<G.original.startLineNumber&&Z.modified.endLineNumberExclusive<G.modified.startLineNumber)}),Y}function B80(J,$,Q){let X=0,Y=0;if(J.modifiedRange.endColumn===1&&J.originalRange.endColumn===1&&J.originalRange.startLineNumber+X<=J.originalRange.endLineNumber&&J.modifiedRange.startLineNumber+X<=J.modifiedRange.endLineNumber)Y=-1;if(J.modifiedRange.startColumn-1>=Q[J.modifiedRange.startLineNumber-1].length&&J.originalRange.startColumn-1>=$[J.originalRange.startLineNumber-1].length&&J.originalRange.startLineNumber<=J.originalRange.endLineNumber+Y&&J.modifiedRange.startLineNumber<=J.modifiedRange.endLineNumber+Y)X=1;let Z=new l0(J.originalRange.startLineNumber+X,J.originalRange.endLineNumber+1+Y),G=new l0(J.modifiedRange.startLineNumber+X,J.modifiedRange.endLineNumber+1+Y);return new _7(Z,G,[J])}var I_=E(()=>{B1();V$();s7();n9();e0();_3();tv();T_();zh();E_();jY();k_()});var y_;var Ph=E(()=>{ov();I_();y_={getLegacy:()=>new M_,getDefault:()=>new QH}});function VY(J,$){let Q=Math.pow(10,$);return Math.round(J*Q)/Q}class I1{constructor(J,$,Q,X=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,J))|0,this.g=Math.min(255,Math.max(0,$))|0,this.b=Math.min(255,Math.max(0,Q))|0,this.a=VY(Math.max(Math.min(1,X),0),3)}static equals(J,$){return J.r===$.r&&J.g===$.g&&J.b===$.b&&J.a===$.a}}class t9{constructor(J,$,Q,X){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=VY(Math.max(Math.min(1,$),0),3),this.l=VY(Math.max(Math.min(1,Q),0),3),this.a=VY(Math.max(Math.min(1,X),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.l===$.l&&J.a===$.a}static fromRGBA(J){let $=J.r/255,Q=J.g/255,X=J.b/255,Y=J.a,Z=Math.max($,Q,X),G=Math.min($,Q,X),q=0,U=0,z=(G+Z)/2,H=Z-G;if(H>0){switch(U=Math.min(z<=0.5?H/(2*z):H/(2-2*z),1),Z){case $:q=(Q-X)/H+(Q<X?6:0);break;case Q:q=(X-$)/H+2;break;case X:q=($-Q)/H+4;break}q*=60,q=Math.round(q)}return new t9(q,U,z,Y)}static _hue2rgb(J,$,Q){if(Q<0)Q+=1;if(Q>1)Q-=1;if(Q<0.16666666666666666)return J+($-J)*6*Q;if(Q<0.5)return $;if(Q<0.6666666666666666)return J+($-J)*(0.6666666666666666-Q)*6;return J}static toRGBA(J){let $=J.h/360,{s:Q,l:X,a:Y}=J,Z,G,q;if(Q===0)Z=G=q=X;else{let U=X<0.5?X*(1+Q):X+Q-X*Q,z=2*X-U;Z=t9._hue2rgb(z,U,$+0.3333333333333333),G=t9._hue2rgb(z,U,$),q=t9._hue2rgb(z,U,$-0.3333333333333333)}return new I1(Math.round(Z*255),Math.round(G*255),Math.round(q*255),Y)}}class N3{constructor(J,$,Q,X){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=VY(Math.max(Math.min(1,$),0),3),this.v=VY(Math.max(Math.min(1,Q),0),3),this.a=VY(Math.max(Math.min(1,X),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.v===$.v&&J.a===$.a}static fromRGBA(J){let $=J.r/255,Q=J.g/255,X=J.b/255,Y=Math.max($,Q,X),Z=Math.min($,Q,X),G=Y-Z,q=Y===0?0:G/Y,U;if(G===0)U=0;else if(Y===$)U=((Q-X)/G%6+6)%6;else if(Y===Q)U=(X-$)/G+2;else U=($-Q)/G+4;return new N3(Math.round(U*60),q,Y,J.a)}static toRGBA(J){let{h:$,s:Q,v:X,a:Y}=J,Z=X*Q,G=Z*(1-Math.abs($/60%2-1)),q=X-Z,[U,z,H]=[0,0,0];if($<60)U=Z,z=G;else if($<120)U=G,z=Z;else if($<180)z=Z,H=G;else if($<240)z=G,H=Z;else if($<300)U=G,H=Z;else if($<=360)U=Z,H=G;return U=Math.round((U+q)*255),z=Math.round((z+q)*255),H=Math.round((H+q)*255),new I1(U,z,H,Y)}}class X0{static fromHex(J){return X0.Format.CSS.parseHex(J)||X0.red}static equals(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;return J.equals($)}get hsla(){if(this._hsla)return this._hsla;else return t9.fromRGBA(this.rgba)}get hsva(){if(this._hsva)return this._hsva;return N3.fromRGBA(this.rgba)}constructor(J){if(!J)throw Error("Color needs a value");else if(J instanceof I1)this.rgba=J;else if(J instanceof t9)this._hsla=J,this.rgba=t9.toRGBA(J);else if(J instanceof N3)this._hsva=J,this.rgba=N3.toRGBA(J);else throw Error("Invalid color ctor argument")}equals(J){return!!J&&I1.equals(this.rgba,J.rgba)&&t9.equals(this.hsla,J.hsla)&&N3.equals(this.hsva,J.hsva)}getRelativeLuminance(){let J=X0._relativeLuminanceForComponent(this.rgba.r),$=X0._relativeLuminanceForComponent(this.rgba.g),Q=X0._relativeLuminanceForComponent(this.rgba.b),X=0.2126*J+0.7152*$+0.0722*Q;return VY(X,4)}static _relativeLuminanceForComponent(J){let $=J/255;return $<=0.03928?$/12.92:Math.pow(($+0.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1000>=128}isLighterThan(J){let $=this.getRelativeLuminance(),Q=J.getRelativeLuminance();return $>Q}isDarkerThan(J){let $=this.getRelativeLuminance(),Q=J.getRelativeLuminance();return $<Q}lighten(J){return new X0(new t9(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*J,this.hsla.a))}darken(J){return new X0(new t9(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*J,this.hsla.a))}transparent(J){let{r:$,g:Q,b:X,a:Y}=this.rgba;return new X0(new I1($,Q,X,Y*J))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new X0(new I1(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(J){if(this.isOpaque()||J.rgba.a!==1)return this;let{r:$,g:Q,b:X,a:Y}=this.rgba;return new X0(new I1(J.rgba.r-Y*(J.rgba.r-$),J.rgba.g-Y*(J.rgba.g-Q),J.rgba.b-Y*(J.rgba.b-X),1))}toString(){if(!this._toString)this._toString=X0.Format.CSS.format(this);return this._toString}static getLighterColor(J,$,Q){if(J.isLighterThan($))return J;Q=Q?Q:0.5;let X=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return Q=Q*(Y-X)/Y,J.lighten(Q)}static getDarkerColor(J,$,Q){if(J.isDarkerThan($))return J;Q=Q?Q:0.5;let X=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return Q=Q*(X-Y)/X,J.darken(Q)}}var a7=E(()=>{X0.white=new X0(new I1(255,255,255,1));X0.black=new X0(new I1(0,0,0,1));X0.red=new X0(new I1(255,0,0,1));X0.blue=new X0(new I1(0,0,255,1));X0.green=new X0(new I1(0,255,0,1));X0.cyan=new X0(new I1(0,255,255,1));X0.lightgrey=new X0(new I1(211,211,211,1));X0.transparent=new X0(new I1(0,0,0,0));(function(J){let $;(function(Q){let X;(function(Y){function Z(K){if(K.rgba.a===1)return`rgb(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b})`;return J.Format.CSS.formatRGBA(K)}Y.formatRGB=Z;function G(K){return`rgba(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b}, ${+K.rgba.a.toFixed(2)})`}Y.formatRGBA=G;function q(K){if(K.hsla.a===1)return`hsl(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%)`;return J.Format.CSS.formatHSLA(K)}Y.formatHSL=q;function U(K){return`hsla(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%, ${K.hsla.a.toFixed(2)})`}Y.formatHSLA=U;function z(K){let A=K.toString(16);return A.length!==2?"0"+A:A}function H(K){return`#${z(K.rgba.r)}${z(K.rgba.g)}${z(K.rgba.b)}`}Y.formatHex=H;function j(K,A=!1){if(A&&K.rgba.a===1)return J.Format.CSS.formatHex(K);return`#${z(K.rgba.r)}${z(K.rgba.g)}${z(K.rgba.b)}${z(Math.round(K.rgba.a*255))}`}Y.formatHexA=j;function B(K){if(K.isOpaque())return J.Format.CSS.formatHex(K);return J.Format.CSS.formatRGBA(K)}Y.format=B;function V(K){let A=K.length;if(A===0)return null;if(K.charCodeAt(0)!==35)return null;if(A===7){let F=16*W(K.charCodeAt(1))+W(K.charCodeAt(2)),P=16*W(K.charCodeAt(3))+W(K.charCodeAt(4)),R=16*W(K.charCodeAt(5))+W(K.charCodeAt(6));return new J(new I1(F,P,R,1))}if(A===9){let F=16*W(K.charCodeAt(1))+W(K.charCodeAt(2)),P=16*W(K.charCodeAt(3))+W(K.charCodeAt(4)),R=16*W(K.charCodeAt(5))+W(K.charCodeAt(6)),D=16*W(K.charCodeAt(7))+W(K.charCodeAt(8));return new J(new I1(F,P,R,D/255))}if(A===4){let F=W(K.charCodeAt(1)),P=W(K.charCodeAt(2)),R=W(K.charCodeAt(3));return new J(new I1(16*F+F,16*P+P,16*R+R))}if(A===5){let F=W(K.charCodeAt(1)),P=W(K.charCodeAt(2)),R=W(K.charCodeAt(3)),D=W(K.charCodeAt(4));return new J(new I1(16*F+F,16*P+P,16*R+R,(16*D+D)/255))}return null}Y.parseHex=V;function W(K){switch(K){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(X=Q.CSS||(Q.CSS={}))})($=J.Format||(J.Format={}))})(X0||(X0={}))});function Mh(J){let $=[];for(let Q of J){let X=Number(Q);if(X||X===0&&Q.replace(/\s/g,"")!=="")$.push(X)}return $}function x_(J,$,Q,X){return{red:J/255,blue:Q/255,green:$/255,alpha:X}}function XH(J,$){let Q=$.index,X=$[0].length;if(!Q)return;let Y=J.positionAt(Q);return{startLineNumber:Y.lineNumber,startColumn:Y.column,endLineNumber:Y.lineNumber,endColumn:Y.column+X}}function F80(J,$){if(!J)return;let Q=X0.Format.CSS.parseHex($);if(!Q)return;return{range:J,color:x_(Q.rgba.r,Q.rgba.g,Q.rgba.b,Q.rgba.a)}}function Dh(J,$,Q){if(!J||$.length!==1)return;let Y=$[0].values(),Z=Mh(Y);return{range:J,color:x_(Z[0],Z[1],Z[2],Q?Z[3]:1)}}function Rh(J,$,Q){if(!J||$.length!==1)return;let Y=$[0].values(),Z=Mh(Y),G=new X0(new t9(Z[0],Z[1]/100,Z[2]/100,Q?Z[3]:1));return{range:J,color:x_(G.rgba.r,G.rgba.g,G.rgba.b,G.rgba.a)}}function YH(J,$){if(typeof J==="string")return[...J.matchAll($)];else return J.findMatches($)}function K80(J){let $=[],X=YH(J,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(X.length>0)for(let Y of X){let Z=Y.filter((z)=>z!==void 0),G=Z[1],q=Z[2];if(!q)continue;let U;if(G==="rgb"){let z=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;U=Dh(XH(J,Y),YH(q,z),!1)}else if(G==="rgba"){let z=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=Dh(XH(J,Y),YH(q,z),!0)}else if(G==="hsl"){let z=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;U=Rh(XH(J,Y),YH(q,z),!1)}else if(G==="hsla"){let z=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=Rh(XH(J,Y),YH(q,z),!0)}else if(G==="#")U=F80(XH(J,Y),G+q);if(U)$.push(U)}return $}function Oh(J){if(!J||typeof J.getValue!=="function"||typeof J.positionAt!=="function")return[];return K80(J)}var _h=E(()=>{a7()});class dQ{constructor(J,$){this._host=J,this._models=Object.create(null),this._foreignModuleFactory=$,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(J){return this._models[J]}_getModels(){let J=[];return Object.keys(this._models).forEach(($)=>J.push(this._models[$])),J}acceptNewModel(J){this._models[J.url]=new Nh(m0.parse(J.url),J.lines,J.EOL,J.versionId)}acceptModelChanged(J,$){if(!this._models[J])return;this._models[J].onEvents($)}acceptRemovedModel(J){if(!this._models[J])return;delete this._models[J]}async computeUnicodeHighlights(J,$,Q){let X=this._getModel(J);if(!X)return{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0};return K_.computeUnicodeHighlights(X,$,Q)}async computeDiff(J,$,Q,X){let Y=this._getModel(J),Z=this._getModel($);if(!Y||!Z)return null;return dQ.computeDiff(Y,Z,Q,X)}static computeDiff(J,$,Q,X){let Y=X==="advanced"?y_.getDefault():y_.getLegacy(),Z=J.getLinesContent(),G=$.getLinesContent(),q=Y.computeDiff(Z,G,Q),U=q.changes.length>0?!1:this._modelsAreIdentical(J,$);function z(H){return H.map((j)=>{var B;return[j.original.startLineNumber,j.original.endLineNumberExclusive,j.modified.startLineNumber,j.modified.endLineNumberExclusive,(B=j.innerChanges)===null||B===void 0?void 0:B.map((V)=>[V.originalRange.startLineNumber,V.originalRange.startColumn,V.originalRange.endLineNumber,V.originalRange.endColumn,V.modifiedRange.startLineNumber,V.modifiedRange.startColumn,V.modifiedRange.endLineNumber,V.modifiedRange.endColumn])]})}return{identical:U,quitEarly:q.hitTimeout,changes:z(q.changes),moves:q.moves.map((H)=>[H.lineRangeMapping.original.startLineNumber,H.lineRangeMapping.original.endLineNumberExclusive,H.lineRangeMapping.modified.startLineNumber,H.lineRangeMapping.modified.endLineNumberExclusive,z(H.changes)])}}static _modelsAreIdentical(J,$){let Q=J.getLineCount(),X=$.getLineCount();if(Q!==X)return!1;for(let Y=1;Y<=Q;Y++){let Z=J.getLineContent(Y),G=$.getLineContent(Y);if(Z!==G)return!1}return!0}async computeMoreMinimalEdits(J,$,Q){let X=this._getModel(J);if(!X)return $;let Y=[],Z=void 0;$=$.slice(0).sort((q,U)=>{if(q.range&&U.range)return v.compareRangesUsingStarts(q.range,U.range);let z=q.range?0:1,H=U.range?0:1;return z-H});let G=0;for(let q=1;q<$.length;q++)if(v.getEndPosition($[G].range).equals(v.getStartPosition($[q].range)))$[G].range=v.fromPositions(v.getStartPosition($[G].range),v.getEndPosition($[q].range)),$[G].text+=$[q].text;else G++,$[G]=$[q];$.length=G+1;for(let{range:q,text:U,eol:z}of $){if(typeof z==="number")Z=z;if(v.isEmpty(q)&&!U)continue;let H=X.getValueInRange(q);if(U=U.replace(/\r\n|\n|\r/g,X.eol),H===U)continue;if(Math.max(U.length,H.length)>dQ._diffLimit){Y.push({range:q,text:U});continue}let j=yv(H,U,Q),B=X.offsetAt(v.lift(q).getStartPosition());for(let V of j){let W=X.positionAt(B+V.originalStart),K=X.positionAt(B+V.originalStart+V.originalLength),A={text:U.substr(V.modifiedStart,V.modifiedLength),range:{startLineNumber:W.lineNumber,startColumn:W.column,endLineNumber:K.lineNumber,endColumn:K.column}};if(X.getValueInRange(A.range)!==A.text)Y.push(A)}}if(typeof Z==="number")Y.push({eol:Z,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}});return Y}async computeLinks(J){let $=this._getModel(J);if(!$)return null;return Cv($)}async computeDefaultDocumentColors(J){let $=this._getModel(J);if(!$)return null;return Oh($)}async textualSuggest(J,$,Q,X){let Y=new R5,Z=new RegExp(Q,X),G=new Set;J:for(let q of J){let U=this._getModel(q);if(!U)continue;for(let z of U.words(Z)){if(z===$||!isNaN(Number(z)))continue;if(G.add(z),G.size>dQ._suggestionsLimit)break J}}return{words:Array.from(G),duration:Y.elapsed()}}async computeWordRanges(J,$,Q,X){let Y=this._getModel(J);if(!Y)return Object.create(null);let Z=new RegExp(Q,X),G=Object.create(null);for(let q=$.startLineNumber;q<$.endLineNumber;q++){let U=Y.getLineWords(q,Z);for(let z of U){if(!isNaN(Number(z.word)))continue;let H=G[z.word];if(!H)H=[],G[z.word]=H;H.push({startLineNumber:q,startColumn:z.startColumn,endLineNumber:q,endColumn:z.endColumn})}}return G}async navigateValueSet(J,$,Q,X,Y){let Z=this._getModel(J);if(!Z)return null;let G=new RegExp(X,Y);if($.startColumn===$.endColumn)$={startLineNumber:$.startLineNumber,startColumn:$.startColumn,endLineNumber:$.endLineNumber,endColumn:$.endColumn+1};let q=Z.getValueInRange($),U=Z.getWordAtPosition({lineNumber:$.startLineNumber,column:$.startColumn},G);if(!U)return null;let z=Z.getValueInRange(U);return sz.INSTANCE.navigateValueSet($,q,U,z,Q)}loadForeignModule(J,$,Q){let Z={host:zb(Q,(G,q)=>{return this._host.fhr(G,q)}),getMirrorModels:()=>{return this._getModels()}};if(this._foreignModuleFactory)return this._foreignModule=this._foreignModuleFactory(Z,$),Promise.resolve(mX(this._foreignModule));return Promise.reject(Error("Unexpected usage"))}fmr(J,$){if(!this._foreignModule||typeof this._foreignModule[J]!=="function")return Promise.reject(Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._foreignModule[J].apply(this._foreignModule,$))}catch(Q){return Promise.reject(Q)}}}var Nh;var Th=E(()=>{sF();V5();e0();xv();pG();vv();hv();CM();G$();uv();Ph();P7();_h();Nh=class Nh extends H_{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(J){let $=[];for(let Q=0;Q<this._lines.length;Q++){let X=this._lines[Q],Y=this.offsetAt(new s(Q+1,1)),Z=X.matchAll(J);for(let G of Z){if(G.index||G.index===0)G.index=G.index+Y;$.push(G)}}return $}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(J){return this._lines[J-1]}getWordAtPosition(J,$){let Q=cX(J.column,oU($),this._lines[J.lineNumber-1],0);if(Q)return new v(J.lineNumber,Q.startColumn,J.lineNumber,Q.endColumn);return null}words(J){let $=this._lines,Q=this._wordenize.bind(this),X=0,Y="",Z=0,G=[];return{*[Symbol.iterator](){while(!0)if(Z<G.length){let q=Y.substring(G[Z].start,G[Z].end);Z+=1,yield q}else if(X<$.length)Y=$[X],G=Q(Y,J),Z=0,X+=1;else break}}}getLineWords(J,$){let Q=this._lines[J-1],X=this._wordenize(Q,$),Y=[];for(let Z of X)Y.push({word:Q.substring(Z.start,Z.end),startColumn:Z.start+1,endColumn:Z.end+1});return Y}_wordenize(J,$){let Q=[],X;$.lastIndex=0;while(X=$.exec(J)){if(X[0].length===0)break;Q.push({start:X.index,end:X.index+X[0].length})}return Q}getValueInRange(J){if(J=this._validateRange(J),J.startLineNumber===J.endLineNumber)return this._lines[J.startLineNumber-1].substring(J.startColumn-1,J.endColumn-1);let $=this._eol,Q=J.startLineNumber-1,X=J.endLineNumber-1,Y=[];Y.push(this._lines[Q].substring(J.startColumn-1));for(let Z=Q+1;Z<X;Z++)Y.push(this._lines[Z]);return Y.push(this._lines[X].substring(0,J.endColumn-1)),Y.join($)}offsetAt(J){return J=this._validatePosition(J),this._ensureLineStarts(),this._lineStarts.getPrefixSum(J.lineNumber-2)+(J.column-1)}positionAt(J){J=Math.floor(J),J=Math.max(0,J),this._ensureLineStarts();let $=this._lineStarts.getIndexOf(J),Q=this._lines[$.index].length;return{lineNumber:1+$.index,column:1+Math.min($.remainder,Q)}}_validateRange(J){let $=this._validatePosition({lineNumber:J.startLineNumber,column:J.startColumn}),Q=this._validatePosition({lineNumber:J.endLineNumber,column:J.endColumn});if($.lineNumber!==J.startLineNumber||$.column!==J.startColumn||Q.lineNumber!==J.endLineNumber||Q.column!==J.endColumn)return{startLineNumber:$.lineNumber,startColumn:$.column,endLineNumber:Q.lineNumber,endColumn:Q.column};return J}_validatePosition(J){if(!s.isIPosition(J))throw Error("bad position");let{lineNumber:$,column:Q}=J,X=!1;if($<1)$=1,Q=1,X=!0;else if($>this._lines.length)$=this._lines.length,Q=this._lines[$-1].length+1,X=!0;else{let Y=this._lines[$-1].length+1;if(Q<1)Q=1,X=!0;else if(Q>Y)Q=Y,X=!0}if(!X)return J;else return{lineNumber:$,column:Q}}};dQ._diffLimit=1e5;dQ._suggestionsLimit=1e4;if(typeof importScripts==="function")globalThis.monaco=vB()});var eF,JK;var $K=E(()=>{n0();eF=b0("textResourceConfigurationService"),JK=b0("textResourcePropertiesService")});var M1;var e9=E(()=>{n0();M1=b0("ILanguageFeaturesService")});function O2(J,$){let Q=J.getModel($);if(!Q)return!1;if(Q.isTooLargeForSyncing())return!1;return!0}class kh{constructor(J,$,Q,X){this.languageConfigurationService=X,this._debugDisplayName="wordbasedCompletions",this._workerManager=J,this._configurationService=$,this._modelService=Q}async provideCompletionItems(J,$){let Q=this._configurationService.getValue(J.uri,$,"editor");if(Q.wordBasedSuggestions==="off")return;let X=[];if(Q.wordBasedSuggestions==="currentDocument"){if(O2(this._modelService,J.uri))X.push(J.uri)}else for(let H of this._modelService.getModels()){if(!O2(this._modelService,H.uri))continue;if(H===J)X.unshift(H.uri);else if(Q.wordBasedSuggestions==="allDocuments"||H.getLanguageId()===J.getLanguageId())X.push(H.uri)}if(X.length===0)return;let Y=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),Z=J.getWordAtPosition($),G=!Z?v.fromPositions($):new v($.lineNumber,Z.startColumn,$.lineNumber,Z.endColumn),q=G.setEndPosition($.lineNumber,$.column),z=await(await this._workerManager.withWorker()).textualSuggest(X,Z===null||Z===void 0?void 0:Z.word,Y);if(!z)return;return{duration:z.duration,suggestions:z.words.map((H)=>{return{kind:18,label:H,insertText:H,range:{insert:q,replace:G}}})}}}class b_{constructor(J){this._instance=J,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class QK{constructor(J){this._workerClient=J}fhr(J,$){return this._workerClient.fhr(J,$)}}var A80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ZH=function(J,$){return function(Q,X){$(Q,X,J)}},wh=60000,Lh=300000,XK,Eh,Ih,YK;var S_=E(()=>{J6();B0();IO();Jv();e0();d8();Th();kQ();$K();B1();B9();G$();T1();e9();jY();s7();H8();x0();XK=class extends r{constructor($,Q,X,Y,Z){super();this._modelService=$,this._workerManager=this._register(new Eh(this._modelService,Y)),this._logService=X,this._register(Z.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(G,q)=>{if(!O2(this._modelService,G.uri))return Promise.resolve({links:[]});return this._workerManager.withWorker().then((U)=>U.computeLinks(G.uri)).then((U)=>{return U&&{links:U}})}})),this._register(Z.completionProvider.register("*",new kh(this._workerManager,Q,this._modelService,Y)))}dispose(){super.dispose()}canComputeUnicodeHighlights($){return O2(this._modelService,$)}computedUnicodeHighlights($,Q,X){return this._workerManager.withWorker().then((Y)=>Y.computedUnicodeHighlights($,Q,X))}async computeDiff($,Q,X,Y){let Z=await this._workerManager.withWorker().then((U)=>U.computeDiff($,Q,X,Y));if(!Z)return null;return{identical:Z.identical,quitEarly:Z.quitEarly,changes:q(Z.changes),moves:Z.moves.map((U)=>new iz(new V8(new l0(U[0],U[1]),new l0(U[2],U[3])),q(U[4])))};function q(U){return U.map((z)=>{var H;return new _7(new l0(z[0],z[1]),new l0(z[2],z[3]),(H=z[4])===null||H===void 0?void 0:H.map((j)=>new o9(new v(j[0],j[1],j[2],j[3]),new v(j[4],j[5],j[6],j[7]))))})}}computeMoreMinimalEdits($,Q,X=!1){if(y9(Q)){if(!O2(this._modelService,$))return Promise.resolve(Q);let Y=R5.create(),Z=this._workerManager.withWorker().then((G)=>G.computeMoreMinimalEdits($,Q,X));return Z.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",$.toString(!0),Y.elapsed())),Promise.race([Z,bQ(1000).then(()=>Q)])}else return Promise.resolve(void 0)}canNavigateValueSet($){return O2(this._modelService,$)}navigateValueSet($,Q,X){return this._workerManager.withWorker().then((Y)=>Y.navigateValueSet($,Q,X))}canComputeWordRanges($){return O2(this._modelService,$)}computeWordRanges($,Q){return this._workerManager.withWorker().then((X)=>X.computeWordRanges($,Q))}};XK=A80([ZH(0,_5),ZH(1,eF),ZH(2,A5),ZH(3,f6),ZH(4,M1)],XK);Eh=class Eh extends r{constructor(J,$){super();this.languageConfigurationService=$,this._modelService=J,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new $2).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Lh/2),MQ),this._register(this._modelService.onModelRemoved((X)=>this._checkStopEmptyWorker()))}dispose(){if(this._editorWorkerClient)this._editorWorkerClient.dispose(),this._editorWorkerClient=null;super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;if(this._modelService.getModels().length===0)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;if(new Date().getTime()-this._lastWorkerUsedTime>Lh)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}withWorker(){if(this._lastWorkerUsedTime=new Date().getTime(),!this._editorWorkerClient)this._editorWorkerClient=new YK(this._modelService,!1,"editorWorkerService",this.languageConfigurationService);return Promise.resolve(this._editorWorkerClient)}};Ih=class Ih extends r{constructor(J,$,Q){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=J,this._modelService=$,!Q){let X=new eZ;X.cancelAndSet(()=>this._checkStopModelSync(),Math.round(wh/2)),this._register(X)}}dispose(){for(let J in this._syncedModels)h1(this._syncedModels[J]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(J,$){for(let Q of J){let X=Q.toString();if(!this._syncedModels[X])this._beginModelSync(Q,$);if(this._syncedModels[X])this._syncedModelsLastUsedTime[X]=new Date().getTime()}}_checkStopModelSync(){let J=new Date().getTime(),$=[];for(let Q in this._syncedModelsLastUsedTime)if(J-this._syncedModelsLastUsedTime[Q]>wh)$.push(Q);for(let Q of $)this._stopModelSync(Q)}_beginModelSync(J,$){let Q=this._modelService.getModel(J);if(!Q)return;if(!$&&Q.isTooLargeForSyncing())return;let X=J.toString();this._proxy.acceptNewModel({url:Q.uri.toString(),lines:Q.getLinesContent(),EOL:Q.getEOL(),versionId:Q.getVersionId()});let Y=new q0;Y.add(Q.onDidChangeContent((Z)=>{this._proxy.acceptModelChanged(X.toString(),Z)})),Y.add(Q.onWillDispose(()=>{this._stopModelSync(X)})),Y.add(y0(()=>{this._proxy.acceptRemovedModel(X)})),this._syncedModels[X]=Y}_stopModelSync(J){let $=this._syncedModels[J];delete this._syncedModels[J],delete this._syncedModelsLastUsedTime[J],h1($)}};YK=class YK extends r{constructor(J,$,Q,X){super();this.languageConfigurationService=X,this._disposed=!1,this._modelService=J,this._keepIdleModels=$,this._workerFactory=new hz(Q),this._worker=null,this._modelManager=null}fhr(J,$){throw Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new LO(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new QK(this)))}catch(J){vz(J),this._worker=new b_(new dQ(new QK(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(J)=>{return vz(J),this._worker=new b_(new dQ(new QK(this),null)),this._getOrCreateWorker().getProxyObject()})}_getOrCreateModelManager(J){if(!this._modelManager)this._modelManager=this._register(new Ih(J,this._modelService,this._keepIdleModels));return this._modelManager}async _withSyncedResources(J,$=!1){if(this._disposed)return Promise.reject(US());return this._getProxy().then((Q)=>{return this._getOrCreateModelManager(Q).ensureSyncedResources(J,$),Q})}computedUnicodeHighlights(J,$,Q){return this._withSyncedResources([J]).then((X)=>{return X.computeUnicodeHighlights(J.toString(),$,Q)})}computeDiff(J,$,Q,X){return this._withSyncedResources([J,$],!0).then((Y)=>{return Y.computeDiff(J.toString(),$.toString(),Q,X)})}computeMoreMinimalEdits(J,$,Q){return this._withSyncedResources([J]).then((X)=>{return X.computeMoreMinimalEdits(J.toString(),$,Q)})}computeLinks(J){return this._withSyncedResources([J]).then(($)=>{return $.computeLinks(J.toString())})}computeDefaultDocumentColors(J){return this._withSyncedResources([J]).then(($)=>{return $.computeDefaultDocumentColors(J.toString())})}async textualSuggest(J,$,Q){let X=await this._withSyncedResources(J),Y=Q.source,Z=Q.flags;return X.textualSuggest(J.map((G)=>G.toString()),$,Y,Z)}computeWordRanges(J,$){return this._withSyncedResources([J]).then((Q)=>{let X=this._modelService.getModel(J);if(!X)return Promise.resolve(null);let Y=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId()).getWordDefinition(),Z=Y.source,G=Y.flags;return Q.computeWordRanges(J.toString(),$,Z,G)})}navigateValueSet(J,$,Q){return this._withSyncedResources([J]).then((X)=>{let Y=this._modelService.getModel(J);if(!Y)return null;let Z=this.languageConfigurationService.getLanguageConfiguration(Y.getLanguageId()).getWordDefinition(),G=Z.source,q=Z.flags;return X.navigateValueSet(J.toString(),$,Q,G,q)})}dispose(){super.dispose(),this._disposed=!0}}});function yh(J,$,Q){return new xh(J,$,Q)}var xh;var bh=E(()=>{P7();S_();xh=class xh extends YK{constructor(J,$,Q){super(J,Q.keepIdleModels||!1,Q.label,$);this._foreignModuleId=Q.moduleId,this._foreignModuleCreateData=Q.createData||null,this._foreignModuleHost=Q.host||null,this._foreignProxy=null}fhr(J,$){if(!this._foreignModuleHost||typeof this._foreignModuleHost[J]!=="function")return Promise.reject(Error("Missing method "+J+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[J].apply(this._foreignModuleHost,$))}catch(Q){return Promise.reject(Q)}}_getForeignProxy(){if(!this._foreignProxy)this._foreignProxy=this._getProxy().then((J)=>{let $=this._foreignModuleHost?mX(this._foreignModuleHost):[];return J.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,$).then((Q)=>{this._foreignModuleCreateData=null;let X=(G,q)=>{return J.fmr(G,q)},Y=(G,q)=>{return function(){let U=Array.prototype.slice.call(arguments,0);return q(G,U)}},Z={};for(let G of Q)Z[G]=Y(G,X);return Z})});return this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(J){return this._withSyncedResources(J).then(($)=>this.getProxy())}}});var WY;var GH=E(()=>{WY={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});function ZK(J,$){return new pZ([new q$(0,"",J)],$)}function T3(J,$){let Q=new Uint32Array(2);return Q[0]=0,Q[1]=(J<<0|0|0|32768|33554432)>>>0,new nX(Q,$===null?BY:$)}var BY;var qH=E(()=>{w8();BY=new class{clone(){return this}equals(J){return this===J}}});class t5{static getLanguageId(J){return(J&255)>>>0}static getTokenType(J){return(J&768)>>>8}static containsBalancedBrackets(J){return(J&1024)!==0}static getFontStyle(J){return(J&30720)>>>11}static getForeground(J){return(J&16744448)>>>15}static getBackground(J){return(J&4278190080)>>>24}static getClassNameFromMetadata(J){let Q="mtk"+this.getForeground(J),X=this.getFontStyle(J);if(X&1)Q+=" mtki";if(X&2)Q+=" mtkb";if(X&4)Q+=" mtku";if(X&8)Q+=" mtks";return Q}static getInlineStyleFromMetadata(J,$){let Q=this.getForeground(J),X=this.getFontStyle(J),Y=`color: ${$[Q]};`;if(X&1)Y+="font-style: italic;";if(X&2)Y+="font-weight: bold;";let Z="";if(X&4)Z+=" underline";if(X&8)Z+=" line-through";if(Z)Y+=`text-decoration:${Z};`;return Y}static getPresentationFromMetadata(J){let $=this.getForeground(J),Q=this.getFontStyle(J);return{foreground:$,italic:Boolean(Q&1),bold:Boolean(Q&2),underline:Boolean(Q&4),strikethrough:Boolean(Q&8)}}}class g6{static createEmpty(J,$){let Q=g6.defaultTokenMetadata,X=new Uint32Array(2);return X[0]=J.length,X[1]=Q,new g6(X,J,$)}constructor(J,$,Q){this._lineTokensBrand=void 0,this._tokens=J,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=Q}equals(J){if(J instanceof g6)return this.slicedEquals(J,0,this._tokensCount);return!1}slicedEquals(J,$,Q){if(this._text!==J._text)return!1;if(this._tokensCount!==J._tokensCount)return!1;let X=$<<1,Y=X+(Q<<1);for(let Z=X;Z<Y;Z++)if(this._tokens[Z]!==J._tokens[Z])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(J){if(J>0)return this._tokens[J-1<<1];return 0}getMetadata(J){return this._tokens[(J<<1)+1]}getLanguageId(J){let $=this._tokens[(J<<1)+1],Q=t5.getLanguageId($);return this._languageIdCodec.decodeLanguageId(Q)}getStandardTokenType(J){let $=this._tokens[(J<<1)+1];return t5.getTokenType($)}getForeground(J){let $=this._tokens[(J<<1)+1];return t5.getForeground($)}getClassName(J){let $=this._tokens[(J<<1)+1];return t5.getClassNameFromMetadata($)}getInlineStyle(J,$){let Q=this._tokens[(J<<1)+1];return t5.getInlineStyleFromMetadata(Q,$)}getPresentation(J){let $=this._tokens[(J<<1)+1];return t5.getPresentationFromMetadata($)}getEndOffset(J){return this._tokens[J<<1]}findTokenIndexAtOffset(J){return g6.findIndexInTokensArray(this._tokens,J)}inflate(){return this}sliceAndInflate(J,$,Q){return new C_(this,J,$,Q)}static convertToEndOffset(J,$){let X=(J.length>>>1)-1;for(let Y=0;Y<X;Y++)J[Y<<1]=J[Y+1<<1];J[X<<1]=$}static findIndexInTokensArray(J,$){if(J.length<=2)return 0;let Q=0,X=(J.length>>>1)-1;while(Q<X){let Y=Q+Math.floor((X-Q)/2),Z=J[Y<<1];if(Z===$)return Y+1;else if(Z<$)Q=Y+1;else if(Z>$)X=Y}return Q}withInserted(J){if(J.length===0)return this;let $=0,Q=0,X="",Y=[],Z=0;while(!0){let G=$<this._tokensCount?this._tokens[$<<1]:-1,q=Q<J.length?J[Q]:null;if(G!==-1&&(q===null||G<=q.offset)){X+=this._text.substring(Z,G);let U=this._tokens[($<<1)+1];Y.push(X.length,U),$++,Z=G}else if(q){if(q.offset>Z){X+=this._text.substring(Z,q.offset);let U=this._tokens[($<<1)+1];Y.push(X.length,U),Z=q.offset}X+=q.text,Y.push(X.length,q.tokenMetadata),Q++}else break}return new g6(new Uint32Array(Y),X,this._languageIdCodec)}}class C_{constructor(J,$,Q,X){this._source=J,this._startOffset=$,this._endOffset=Q,this._deltaOffset=X,this._firstTokenIndex=J.findTokenIndexAtOffset($),this._tokensCount=0;for(let Y=this._firstTokenIndex,Z=J.getCount();Y<Z;Y++){if(J.getStartOffset(Y)>=Q)break;this._tokensCount++}}getMetadata(J){return this._source.getMetadata(this._firstTokenIndex+J)}getLanguageId(J){return this._source.getLanguageId(this._firstTokenIndex+J)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(J){if(J instanceof C_)return this._startOffset===J._startOffset&&this._endOffset===J._endOffset&&this._deltaOffset===J._deltaOffset&&this._source.slicedEquals(J._source,this._firstTokenIndex,this._tokensCount);return!1}getCount(){return this._tokensCount}getForeground(J){return this._source.getForeground(this._firstTokenIndex+J)}getEndOffset(J){let $=this._source.getEndOffset(this._firstTokenIndex+J);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(J){return this._source.getClassName(this._firstTokenIndex+J)}getInlineStyle(J,$){return this._source.getInlineStyle(this._firstTokenIndex+J,$)}getPresentation(J){return this._source.getPresentation(this._firstTokenIndex+J)}findTokenIndexAtOffset(J){return this._source.findTokenIndexAtOffset(J+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}var sQ=E(()=>{g6.defaultTokenMetadata=33587200});class r7{constructor(J,$,Q,X){this.startColumn=J,this.endColumn=$,this.className=Q,this.type=X,this._lineDecorationBrand=void 0}static _equals(J,$){return J.startColumn===$.startColumn&&J.endColumn===$.endColumn&&J.className===$.className&&J.type===$.type}static equalsArr(J,$){let Q=J.length,X=$.length;if(Q!==X)return!1;for(let Y=0;Y<Q;Y++)if(!r7._equals(J[Y],$[Y]))return!1;return!0}static extractWrapped(J,$,Q){if(J.length===0)return J;let X=$+1,Y=Q+1,Z=Q-$,G=[],q=0;for(let U of J){if(U.endColumn<=X||U.startColumn>=Y)continue;G[q++]=new r7(Math.max(1,U.startColumn-X+1),Math.min(Z+1,U.endColumn-X+1),U.className,U.type)}return G}static filter(J,$,Q,X){if(J.length===0)return[];let Y=[],Z=0;for(let G=0,q=J.length;G<q;G++){let U=J[G],z=U.range;if(z.endLineNumber<$||z.startLineNumber>$)continue;if(z.isEmpty()&&(U.type===0||U.type===3))continue;let H=z.startLineNumber===$?z.startColumn:Q,j=z.endLineNumber===$?z.endColumn:X;Y[Z++]=new r7(H,j,U.inlineClassName,U.type)}return Y}static _typeCompare(J,$){let Q=[2,0,1,3];return Q[J]-Q[$]}static compare(J,$){if(J.startColumn!==$.startColumn)return J.startColumn-$.startColumn;if(J.endColumn!==$.endColumn)return J.endColumn-$.endColumn;let Q=r7._typeCompare(J.type,$.type);if(Q!==0)return Q;if(J.className!==$.className)return J.className<$.className?-1:1;return 0}}class v_{constructor(J,$,Q,X){this.startOffset=J,this.endOffset=$,this.className=Q,this.metadata=X}}class GK{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(J){let $=0;for(let Q=0,X=J.length;Q<X;Q++)$|=J[Q];return $}consumeLowerThan(J,$,Q){while(this.count>0&&this.stopOffsets[0]<J){let X=0;while(X+1<this.count&&this.stopOffsets[X]===this.stopOffsets[X+1])X++;Q.push(new v_($,this.stopOffsets[X],this.classNames.join(" "),GK._metadata(this.metadata))),$=this.stopOffsets[X]+1,this.stopOffsets.splice(0,X+1),this.classNames.splice(0,X+1),this.metadata.splice(0,X+1),this.count-=X+1}if(this.count>0&&$<J)Q.push(new v_($,J-1,this.classNames.join(" "),GK._metadata(this.metadata))),$=J;return $}insert(J,$,Q){if(this.count===0||this.stopOffsets[this.count-1]<=J)this.stopOffsets.push(J),this.classNames.push($),this.metadata.push(Q);else for(let X=0;X<this.count;X++)if(this.stopOffsets[X]>=J){this.stopOffsets.splice(X,0,J),this.classNames.splice(X,0,$),this.metadata.splice(X,0,Q);break}this.count++;return}}class h_{static normalize(J,$){if($.length===0)return[];let Q=[],X=new GK,Y=0;for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z],U=q.startColumn,z=q.endColumn,H=q.className,j=q.type===1?2:q.type===2?4:0;if(U>1){let W=J.charCodeAt(U-2);if(P6(W))U--}if(z>1){let W=J.charCodeAt(z-2);if(P6(W))z--}let B=U-1,V=z-2;if(Y=X.consumeLowerThan(B,Y,Q),X.count===0)Y=B;X.insert(V,H,j)}return X.consumeLowerThan(1073741824,Y,Q),Q}}var qK=E(()=>{G1()});class L5{constructor(J,$,Q,X){this.endIndex=J,this.type=$,this.metadata=Q,this.containsRTL=X,this._linePartBrand=void 0}isWhitespace(){return this.metadata&1?!0:!1}isPseudoAfter(){return this.metadata&4?!0:!1}}class UH{constructor(J,$){this.startOffset=J,this.endOffset=$}equals(J){return this.startOffset===J.startOffset&&this.endOffset===J.endOffset}}class PJ{constructor(J,$,Q,X,Y,Z,G,q,U,z,H,j,B,V,W,K,A,F,P){this.useMonospaceOptimizations=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=Q,this.continuesWithWrappedLine=X,this.isBasicASCII=Y,this.containsRTL=Z,this.fauxIndentLength=G,this.lineTokens=q,this.lineDecorations=U.sort(r7.compare),this.tabSize=z,this.startVisibleColumn=H,this.spaceWidth=j,this.stopRenderingLineAfter=W,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=A,this.fontLigatures=F,this.selectionsOnLine=P&&P.sort((_,O)=>_.startOffset<O.startOffset?-1:1);let R=Math.abs(V-j),D=Math.abs(B-j);if(R<D)this.renderSpaceWidth=V,this.renderSpaceCharCode=11825;else this.renderSpaceWidth=B,this.renderSpaceCharCode=183}sameSelection(J){if(this.selectionsOnLine===null)return J===null;if(J===null)return!1;if(J.length!==this.selectionsOnLine.length)return!1;for(let $=0;$<this.selectionsOnLine.length;$++)if(!this.selectionsOnLine[$].equals(J[$]))return!1;return!0}equals(J){return this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineContent===J.lineContent&&this.continuesWithWrappedLine===J.continuesWithWrappedLine&&this.isBasicASCII===J.isBasicASCII&&this.containsRTL===J.containsRTL&&this.fauxIndentLength===J.fauxIndentLength&&this.tabSize===J.tabSize&&this.startVisibleColumn===J.startVisibleColumn&&this.spaceWidth===J.spaceWidth&&this.renderSpaceWidth===J.renderSpaceWidth&&this.renderSpaceCharCode===J.renderSpaceCharCode&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.fontLigatures===J.fontLigatures&&r7.equalsArr(this.lineDecorations,J.lineDecorations)&&this.lineTokens.equals(J.lineTokens)&&this.sameSelection(J.selectionsOnLine)}}class zK{constructor(J,$){this.partIndex=J,this.charIndex=$}}class D${static getPartIndex(J){return(J&4294901760)>>>16}static getCharIndex(J){return(J&65535)>>>0}constructor(J,$){this.length=J,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(J,$,Q,X){let Y=($<<16|Q<<0)>>>0;this._data[J-1]=Y,this._horizontalOffset[J-1]=X}getHorizontalOffset(J){if(this._horizontalOffset.length===0)return 0;return this._horizontalOffset[J-1]}charOffsetToPartData(J){if(this.length===0)return 0;if(J<0)return this._data[0];if(J>=this.length)return this._data[this.length-1];return this._data[J]}getDomPosition(J){let $=this.charOffsetToPartData(J-1),Q=D$.getPartIndex($),X=D$.getCharIndex($);return new zK(Q,X)}getColumn(J,$){return this.partDataToCharOffset(J.partIndex,$,J.charIndex)+1}partDataToCharOffset(J,$,Q){if(this.length===0)return 0;let X=(J<<16|Q<<0)>>>0,Y=0,Z=this.length-1;while(Y+1<Z){let W=Y+Z>>>1,K=this._data[W];if(K===X)return W;else if(K>X)Z=W;else Y=W}if(Y===Z)return Y;let G=this._data[Y],q=this._data[Z];if(G===X)return Y;if(q===X)return Z;let U=D$.getPartIndex(G),z=D$.getCharIndex(G),H=D$.getPartIndex(q),j;if(U!==H)j=$;else j=D$.getCharIndex(q);let B=Q-z,V=j-Q;if(B<=V)return Y;return Z}}class UK{constructor(J,$,Q){this._renderLineOutputBrand=void 0,this.characterMapping=J,this.containsRTL=$,this.containsForeignElements=Q}}function zH(J,$){if(J.lineContent.length===0){if(J.lineDecorations.length>0){$.appendString("<span>");let Q=0,X=0,Y=0;for(let G of J.lineDecorations)if(G.type===1||G.type===2){if($.appendString('<span class="'),$.appendString(G.className),$.appendString('"></span>'),G.type===1)Y|=1,Q++;if(G.type===2)Y|=2,X++}$.appendString("</span>");let Z=new D$(1,Q+X);return Z.setColumnInfo(1,Q,0,0),new UK(Z,!1,Y)}return $.appendString("<span><span></span></span>"),new UK(new D$(0,0),!1,0)}return N80(P80(J),$)}class Ch{constructor(J,$,Q,X){this.characterMapping=J,this.html=$,this.containsRTL=Q,this.containsForeignElements=X}}function w3(J){let $=new hQ(1e4),Q=zH(J,$);return new Ch(Q.characterMapping,$.build(),Q.containsRTL,Q.containsForeignElements)}class vh{constructor(J,$,Q,X,Y,Z,G,q,U,z,H,j,B,V,W,K){this.fontIsMonospace=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=Q,this.len=X,this.isOverflowing=Y,this.overflowingCharCount=Z,this.parts=G,this.containsForeignElements=q,this.fauxIndentLength=U,this.tabSize=z,this.startVisibleColumn=H,this.containsRTL=j,this.spaceWidth=B,this.renderSpaceCharCode=V,this.renderWhitespace=W,this.renderControlCharacters=K}}function P80(J){let $=J.lineContent,Q,X,Y;if(J.stopRenderingLineAfter!==-1&&J.stopRenderingLineAfter<$.length)Q=!0,X=$.length-J.stopRenderingLineAfter,Y=J.stopRenderingLineAfter;else Q=!1,X=0,Y=$.length;let Z=D80($,J.containsRTL,J.lineTokens,J.fauxIndentLength,Y);if(J.renderControlCharacters&&!J.isBasicASCII)Z=M80($,Z);if(J.renderWhitespace===4||J.renderWhitespace===1||J.renderWhitespace===2&&!!J.selectionsOnLine||J.renderWhitespace===3&&!J.continuesWithWrappedLine)Z=O80(J,$,Y,Z);let G=0;if(J.lineDecorations.length>0){for(let q=0,U=J.lineDecorations.length;q<U;q++){let z=J.lineDecorations[q];if(z.type===3)G|=1;else if(z.type===1)G|=1;else if(z.type===2)G|=2}Z=_80($,Y,Z,J.lineDecorations)}if(!J.containsRTL)Z=R80($,Z,!J.isBasicASCII||J.fontLigatures);return new vh(J.useMonospaceOptimizations,J.canUseHalfwidthRightwardsArrow,$,Y,Q,X,Z,G,J.fauxIndentLength,J.tabSize,J.startVisibleColumn,J.containsRTL,J.spaceWidth,J.renderSpaceCharCode,J.renderWhitespace,J.renderControlCharacters)}function D80(J,$,Q,X,Y){let Z=[],G=0;if(X>0)Z[G++]=new L5(X,"",0,!1);let q=X;for(let U=0,z=Q.getCount();U<z;U++){let H=Q.getEndOffset(U);if(H<=X)continue;let j=Q.getClassName(U);if(H>=Y){let V=$?NQ(J.substring(q,Y)):!1;Z[G++]=new L5(Y,j,0,V);break}let B=$?NQ(J.substring(q,H)):!1;Z[G++]=new L5(H,j,0,B),q=H}return Z}function R80(J,$,Q){let X=0,Y=[],Z=0;if(Q)for(let G=0,q=$.length;G<q;G++){let U=$[G],z=U.endIndex;if(X+50<z){let{type:H,metadata:j,containsRTL:B}=U,V=-1,W=X;for(let K=X;K<z;K++){if(J.charCodeAt(K)===32)V=K;if(V!==-1&&K-W>=50)Y[Z++]=new L5(V+1,H,j,B),W=V+1,V=-1}if(W!==z)Y[Z++]=new L5(z,H,j,B)}else Y[Z++]=U;X=z}else for(let G=0,q=$.length;G<q;G++){let U=$[G],z=U.endIndex,H=z-X;if(H>50){let{type:j,metadata:B,containsRTL:V}=U,W=Math.ceil(H/50);for(let K=1;K<W;K++){let A=X+K*50;Y[Z++]=new L5(A,j,B,V)}Y[Z++]=new L5(z,j,B,V)}else Y[Z++]=U;X=z}return Y}function hh(J){if(J<32)return J!==9;if(J===127)return!0;if(J>=8234&&J<=8238||J>=8294&&J<=8297||J>=8206&&J<=8207||J===1564)return!0;return!1}function M80(J,$){let Q=[],X=new L5(0,"",0,!1),Y=0;for(let Z of $){let G=Z.endIndex;for(;Y<G;Y++){let q=J.charCodeAt(Y);if(hh(q)){if(Y>X.endIndex)X=new L5(Y,Z.type,Z.metadata,Z.containsRTL),Q.push(X);X=new L5(Y+1,"mtkcontrol",Z.metadata,!1),Q.push(X)}}if(Y>X.endIndex)X=new L5(G,Z.type,Z.metadata,Z.containsRTL),Q.push(X)}return Q}function O80(J,$,Q,X){let{continuesWithWrappedLine:Y,fauxIndentLength:Z,tabSize:G,startVisibleColumn:q,useMonospaceOptimizations:U,selectionsOnLine:z}=J,H=J.renderWhitespace===1,j=J.renderWhitespace===3,B=J.renderSpaceWidth!==J.spaceWidth,V=[],W=0,K=0,A=X[K].type,F=X[K].containsRTL,P=X[K].endIndex,R=X.length,D=!1,_=s6($),O;if(_===-1)D=!0,_=Q,O=Q;else O=j9($);let N=!1,w=0,T=z&&z[w],I=q%G;for(let x=Z;x<Q;x++){let S=$.charCodeAt(x);if(T&&x>=T.endOffset)w++,T=z&&z[w];let l;if(x<_||x>O)l=!0;else if(S===9)l=!0;else if(S===32)if(H)if(N)l=!0;else{let d=x+1<Q?$.charCodeAt(x+1):0;l=d===32||d===9}else l=!0;else l=!1;if(l&&z)l=!!T&&T.startOffset<=x&&T.endOffset>x;if(l&&j)l=D||x>O;if(l&&F){if(x>=_&&x<=O)l=!1}if(N){if(!l||!U&&I>=G){if(B){let d=W>0?V[W-1].endIndex:Z;for(let y=d+1;y<=x;y++)V[W++]=new L5(y,"mtkw",1,!1)}else V[W++]=new L5(x,"mtkw",1,!1);I=I%G}}else if(x===P||l&&x>Z)V[W++]=new L5(x,A,0,F),I=I%G;if(S===9)I=G;else if(C9(S))I+=2;else I++;N=l;while(x===P)if(K++,K<R)A=X[K].type,F=X[K].containsRTL,P=X[K].endIndex;else break}let k=!1;if(N)if(Y&&H){let x=Q>0?$.charCodeAt(Q-1):0,S=Q>1?$.charCodeAt(Q-2):0;if(!(x===32&&(S!==32&&S!==9)))k=!0}else k=!0;if(k)if(B){let x=W>0?V[W-1].endIndex:Z;for(let S=x+1;S<=Q;S++)V[W++]=new L5(S,"mtkw",1,!1)}else V[W++]=new L5(Q,"mtkw",1,!1);else V[W++]=new L5(Q,A,0,F);return V}function _80(J,$,Q,X){X.sort(r7.compare);let Y=h_.normalize(J,X),Z=Y.length,G=0,q=[],U=0,z=0;for(let j=0,B=Q.length;j<B;j++){let V=Q[j],W=V.endIndex,K=V.type,A=V.metadata,F=V.containsRTL;while(G<Z&&Y[G].startOffset<W){let P=Y[G];if(P.startOffset>z)z=P.startOffset,q[U++]=new L5(z,K,A,F);if(P.endOffset+1<=W)z=P.endOffset+1,q[U++]=new L5(z,K+" "+P.className,A|P.metadata,F),G++;else{z=W,q[U++]=new L5(z,K+" "+P.className,A|P.metadata,F);break}}if(W>z)z=W,q[U++]=new L5(z,K,A,F)}let H=Q[Q.length-1].endIndex;if(G<Z&&Y[G].startOffset===H)while(G<Z&&Y[G].startOffset===H){let j=Y[G];q[U++]=new L5(z,j.className,j.metadata,!1),G++}return q}function N80(J,$){let{fontIsMonospace:Q,canUseHalfwidthRightwardsArrow:X,containsForeignElements:Y,lineContent:Z,len:G,isOverflowing:q,overflowingCharCount:U,parts:z,fauxIndentLength:H,tabSize:j,startVisibleColumn:B,containsRTL:V,spaceWidth:W,renderSpaceCharCode:K,renderWhitespace:A,renderControlCharacters:F}=J,P=new D$(G+1,z.length),R=!1,D=0,_=B,O=0,N=0,w=0;if(V)$.appendString('<span dir="ltr">');else $.appendString("<span>");for(let T=0,I=z.length;T<I;T++){let k=z[T],x=k.endIndex,S=k.type,l=k.containsRTL,d=A!==0&&k.isWhitespace(),y=d&&!Q&&(S==="mtkw"||!Y),b=D===x&&k.isPseudoAfter();if(O=0,$.appendString("<span "),l)$.appendString('style="unicode-bidi:isolate" ');if($.appendString('class="'),$.appendString(y?"mtkz":S),$.appendASCIICharCode(34),d){let h=0;{let u=D,$0=_;for(;u<x;u++){let U0=(Z.charCodeAt(u)===9?j-$0%j:1)|0;if(h+=U0,u>=H)$0+=U0}}if(y)$.appendString(' style="width:'),$.appendString(String(W*h)),$.appendString('px"');$.appendASCIICharCode(62);for(;D<x;D++){P.setColumnInfo(D+1,T-w,O,N),w=0;let u=Z.charCodeAt(D),$0,Z0;if(u===9){if($0=j-_%j|0,Z0=$0,!X||Z0>1)$.appendCharCode(8594);else $.appendCharCode(65515);for(let U0=2;U0<=Z0;U0++)$.appendCharCode(160)}else $0=2,Z0=1,$.appendCharCode(K),$.appendCharCode(8204);if(O+=$0,N+=Z0,D>=H)_+=Z0}}else{$.appendASCIICharCode(62);for(;D<x;D++){P.setColumnInfo(D+1,T-w,O,N),w=0;let h=Z.charCodeAt(D),u=1,$0=1;switch(h){case 9:u=j-_%j,$0=u;for(let Z0=1;Z0<=u;Z0++)$.appendCharCode(160);break;case 32:$.appendCharCode(160);break;case 60:$.appendString("&lt;");break;case 62:$.appendString("&gt;");break;case 38:$.appendString("&amp;");break;case 0:if(F)$.appendCharCode(9216);else $.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:$.appendCharCode(65533);break;default:if(C9(h))$0++;if(F&&h<32)$.appendCharCode(9216+h);else if(F&&h===127)$.appendCharCode(9249);else if(F&&hh(h))$.appendString("[U+"),$.appendString(T80(h)),$.appendString("]"),u=8,$0=u;else $.appendCharCode(h)}if(O+=u,N+=$0,D>=H)_+=$0}}if(b)w++;else w=0;if(D>=G&&!R&&k.isPseudoAfter())R=!0,P.setColumnInfo(D+1,T,O,N);$.appendString("</span>")}if(!R)P.setColumnInfo(G+1,z.length-1,O,N);if(q)$.appendString('<span class="mtkoverflow">'),$.appendString(M("showMore","Show more ({0})",w80(U))),$.appendString("</span>");return $.appendString("</span>"),new UK(P,V,Y)}function T80(J){return J.toString(16).toUpperCase().padStart(4,"0")}function w80(J){if(J<1024)return M("overflow.chars","{0} chars",J);if(J<1048576)return`${(J/1024).toFixed(1)} KB`;return`${(J/1024/1024).toFixed(1)} MB`}var L3=E(()=>{a0();G1();G2();qK()});class HK{constructor(J,$,Q,X){this._viewportBrand=void 0,this.top=J|0,this.left=$|0,this.width=Q|0,this.height=X|0}}class f_{constructor(J,$){this.tabSize=J,this.data=$}}class k3{constructor(J,$,Q,X,Y,Z,G){this._viewLineDataBrand=void 0,this.content=J,this.continuesWithWrappedLine=$,this.minColumn=Q,this.maxColumn=X,this.startVisibleColumn=Y,this.tokens=Z,this.inlineDecorations=G}}class s8{constructor(J,$,Q,X,Y,Z,G,q,U,z){this.minColumn=J,this.maxColumn=$,this.content=Q,this.continuesWithWrappedLine=X,this.isBasicASCII=s8.isBasicASCII(Q,Z),this.containsRTL=s8.containsRTL(Q,this.isBasicASCII,Y),this.tokens=G,this.inlineDecorations=q,this.tabSize=U,this.startVisibleColumn=z}static isBasicASCII(J,$){if($)return eG(J);return!0}static containsRTL(J,$,Q){if(!$&&Q)return NQ(J);return!1}}class FY{constructor(J,$,Q){this.range=J,this.inlineClassName=$,this.type=Q}}class g_{constructor(J,$,Q,X){this.startOffset=J,this.endOffset=$,this.inlineClassName=Q,this.inlineClassNameAffectsLetterSpacing=X}toInlineDecoration(J){return new FY(new v(J,this.startOffset+1,J,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class HH{constructor(J,$){this._viewModelDecorationBrand=void 0,this.range=J,this.options=$}}class _2{constructor(J,$,Q){this.color=J,this.zIndex=$,this.data=Q}static compareByRenderingProps(J,$){if(J.zIndex===$.zIndex){if(J.color<$.color)return-1;if(J.color>$.color)return 1;return 0}return J.zIndex-$.zIndex}static equals(J,$){return J.color===$.color&&J.zIndex===$.zIndex&&B6(J.data,$.data)}static equalsArr(J,$){return B6(J,$,_2.equals)}}var x4=E(()=>{B1();G1();e0()});function L80(J){return Array.isArray(J)}function fh(J){return!L80(J)}function p_(J){return typeof J==="string"}function m_(J){return!p_(J)}function N2(J){return J?!1:!0}function R$(J,$){return J.ignoreCase&&$?$.toLowerCase():$}function u_(J){return J.replace(/[&<>'"_]/g,"-")}function gh(J,$){console.log(`${J.languageId}: ${$}`)}function U6(J,$){return Error(`${J.languageId}: ${$}`)}function M$(J,$,Q,X,Y){let Z=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,G=null;return $.replace(Z,function(q,U,z,H,j,B,V,W,K){if(!N2(z))return"$";if(!N2(H))return R$(J,Q);if(!N2(j)&&j<X.length)return R$(J,X[j]);if(!N2(V)&&J&&typeof J[V]==="string")return J[V];if(G===null)G=Y.split("."),G.unshift(Y);if(!N2(B)&&B<G.length)return R$(J,G[B]);return""})}function jH(J,$){let Q=$;while(Q&&Q.length>0){let X=J.tokenizer[Q];if(X)return X;let Y=Q.lastIndexOf(".");if(Y<0)Q=null;else Q=Q.substr(0,Y)}return null}function ph(J,$){let Q=$;while(Q&&Q.length>0){if(J.stateNames[Q])return!0;let Y=Q.lastIndexOf(".");if(Y<0)Q=null;else Q=Q.substr(0,Y)}return!1}class y3{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if(J!==null&&J.depth>=this._maxCacheDepth)return new I3(J,$);let Q=I3.getStackElementId(J);if(Q.length>0)Q+="|";Q+=$;let X=this._entries[Q];if(X)return X;return X=new I3(J,$),this._entries[Q]=X,X}}class I3{constructor(J,$){this.parent=J,this.state=$,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(J){let $="";while(J!==null){if($.length>0)$+="|";$+=J.state,J=J.parent}return $}static _equals(J,$){while(J!==null&&$!==null){if(J===$)return!0;if(J.state!==$.state)return!1;J=J.parent,$=$.parent}if(J===null&&$===null)return!0;return!1}equals(J){return I3._equals(this,J)}push(J){return y3.create(this,J)}pop(){return this.parent}popall(){let J=this;while(J.parent)J=J.parent;return J}switchTo(J){return y3.create(this.parent,J)}}class E3{constructor(J,$){this.languageId=J,this.state=$}equals(J){return this.languageId===J.languageId&&this.state.equals(J.state)}clone(){if(this.state.clone()===this.state)return this;return new E3(this.languageId,this.state)}}class aQ{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if($!==null)return new VH(J,$);if(J!==null&&J.depth>=this._maxCacheDepth)return new VH(J,$);let Q=I3.getStackElementId(J),X=this._entries[Q];if(X)return X;return X=new VH(J,null),this._entries[Q]=X,X}}class VH{constructor(J,$){this.stack=J,this.embeddedLanguageData=$}clone(){if((this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData)return this;return aQ.create(this.stack,this.embeddedLanguageData)}equals(J){if(!(J instanceof VH))return!1;if(!this.stack.equals(J.stack))return!1;if(this.embeddedLanguageData===null&&J.embeddedLanguageData===null)return!0;if(this.embeddedLanguageData===null||J.embeddedLanguageData===null)return!1;return this.embeddedLanguageData.equals(J.embeddedLanguageData)}}class ch{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(J){this._languageId=J}emit(J,$){if(this._lastTokenType===$&&this._lastTokenLanguage===this._languageId)return;this._lastTokenType=$,this._lastTokenLanguage=this._languageId,this._tokens.push(new q$(J,$,this._languageId))}nestedLanguageTokenize(J,$,Q,X){let{languageId:Y,state:Z}=Q,G=Q6.get(Y);if(!G)return this.enterLanguage(Y),this.emit(X,""),Z;let q=G.tokenize(J,$,Z);if(X!==0)for(let U of q.tokens)this._tokens.push(new q$(U.offset+X,U.type,U.language));else this._tokens=this._tokens.concat(q.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,q.endState}finalize(J){return new pZ(this._tokens,J)}}class jK{constructor(J,$){this._languageService=J,this._theme=$,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(J){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(J)}emit(J,$){let Q=this._theme.match(this._currentLanguageId,$)|1024;if(this._lastTokenMetadata===Q)return;this._lastTokenMetadata=Q,this._tokens.push(J),this._tokens.push(Q)}static _merge(J,$,Q){let X=J!==null?J.length:0,Y=$.length,Z=Q!==null?Q.length:0;if(X===0&&Y===0&&Z===0)return new Uint32Array(0);if(X===0&&Y===0)return Q;if(Y===0&&Z===0)return J;let G=new Uint32Array(X+Y+Z);if(J!==null)G.set(J);for(let q=0;q<Y;q++)G[X+q]=$[q];if(Q!==null)G.set(Q,X+Y);return G}nestedLanguageTokenize(J,$,Q,X){let{languageId:Y,state:Z}=Q,G=Q6.get(Y);if(!G)return this.enterLanguage(Y),this.emit(X,""),Z;let q=G.tokenizeEncoded(J,$,Z);if(X!==0)for(let U=0,z=q.tokens.length;U<z;U+=2)q.tokens[U]+=X;return this._prependTokens=jK._merge(this._prependTokens,this._tokens,q.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,q.endState}finalize(J){return new nX(jK._merge(this._prependTokens,this._tokens,null),J)}}function I80(J,$){if(!$)return null;$=R$(J,$);let Q=J.brackets;for(let X of Q)if(X.open===$)return{token:X.token,bracketType:1};else if(X.close===$)return{token:X.token,bracketType:-1};return null}var k80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},E80=function(J,$){return function(Q,X){$(Q,X,J)}},c_,uh=5,T2;var l_=E(()=>{B0();w8();qH();l8();y3._INSTANCE=new y3(uh);aQ._INSTANCE=new aQ(uh);T2=c_=class extends r{constructor($,Q,X,Y,Z){super();this._configurationService=Z,this._languageService=$,this._standaloneThemeService=Q,this._languageId=X,this._lexer=Y,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let G=!1;this._register(Q6.onDidChange((q)=>{if(G)return;let U=!1;for(let z=0,H=q.changedLanguages.length;z<H;z++){let j=q.changedLanguages[z];if(this._embeddedLanguages[j]){U=!0;break}}if(U)G=!0,Q6.handleChange([this._languageId]),G=!1})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((q)=>{if(q.affectsConfiguration("editor.maxTokenizationLineLength"))this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId})}))}getLoadStatus(){let $=[];for(let Q in this._embeddedLanguages){let X=Q6.get(Q);if(X){if(X instanceof c_){let Y=X.getLoadStatus();if(Y.loaded===!1)$.push(Y.promise)}continue}if(!Q6.isResolved(Q))$.push(Q6.getOrCreate(Q))}if($.length===0)return{loaded:!0};return{loaded:!1,promise:Promise.all($).then((Q)=>{return})}}getInitialState(){let $=y3.create(null,this._lexer.start);return aQ.create($,null)}tokenize($,Q,X){if($.length>=this._maxTokenizationLineLength)return ZK(this._languageId,X);let Y=new ch,Z=this._tokenize($,Q,X,Y);return Y.finalize(Z)}tokenizeEncoded($,Q,X){if($.length>=this._maxTokenizationLineLength)return T3(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),X);let Y=new jK(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),Z=this._tokenize($,Q,X,Y);return Y.finalize(Z)}_tokenize($,Q,X,Y){if(X.embeddedLanguageData)return this._nestedTokenize($,Q,X,0,Y);else return this._myTokenize($,Q,X,0,Y)}_findLeavingNestedLanguageOffset($,Q){let X=this._lexer.tokenizer[Q.stack.state];if(!X){if(X=jH(this._lexer,Q.stack.state),!X)throw U6(this._lexer,"tokenizer state is not defined: "+Q.stack.state)}let Y=-1,Z=!1;for(let G of X){if(!m_(G.action)||G.action.nextEmbedded!=="@pop")continue;Z=!0;let q=G.regex,U=G.regex.source;if(U.substr(0,4)==="^(?:"&&U.substr(U.length-1,1)===")"){let H=(q.ignoreCase?"i":"")+(q.unicode?"u":"");q=new RegExp(U.substr(4,U.length-5),H)}let z=$.search(q);if(z===-1||z!==0&&G.matchOnlyAtLineStart)continue;if(Y===-1||z<Y)Y=z}if(!Z)throw U6(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+Q.stack.state);return Y}_nestedTokenize($,Q,X,Y,Z){let G=this._findLeavingNestedLanguageOffset($,X);if(G===-1){let z=Z.nestedLanguageTokenize($,Q,X.embeddedLanguageData,Y);return aQ.create(X.stack,new E3(X.embeddedLanguageData.languageId,z))}let q=$.substring(0,G);if(q.length>0)Z.nestedLanguageTokenize(q,!1,X.embeddedLanguageData,Y);let U=$.substring(G);return this._myTokenize(U,Q,X,Y+G,Z)}_safeRuleName($){if($)return $.name;return"(unknown)"}_myTokenize($,Q,X,Y,Z){Z.enterLanguage(this._languageId);let G=$.length,q=Q&&this._lexer.includeLF?$+`
`:$,U=q.length,z=X.embeddedLanguageData,H=X.stack,j=0,B=null,V=!0;while(V||j<U){let W=j,K=H.depth,A=B?B.groups.length:0,F=H.state,P=null,R=null,D=null,_=null,O=null;if(B){P=B.matches;let T=B.groups.shift();if(R=T.matched,D=T.action,_=B.rule,B.groups.length===0)B=null}else{if(!V&&j>=U)break;V=!1;let T=this._lexer.tokenizer[F];if(!T){if(T=jH(this._lexer,F),!T)throw U6(this._lexer,"tokenizer state is not defined: "+F)}let I=q.substr(j);for(let k of T)if(j===0||!k.matchOnlyAtLineStart){if(P=I.match(k.regex),P){R=P[0],D=k.action;break}}}if(!P)P=[""],R="";if(!D){if(j<U)P=[q.charAt(j)],R=P[0];D=this._lexer.defaultToken}if(R===null)break;j+=R.length;while(fh(D)&&m_(D)&&D.test)D=D.test(R,P,F,j===U);let N=null;if(typeof D==="string"||Array.isArray(D))N=D;else if(D.group)N=D.group;else if(D.token!==null&&D.token!==void 0){if(D.tokenSubst)N=M$(this._lexer,D.token,R,P,F);else N=D.token;if(D.nextEmbedded)if(D.nextEmbedded==="@pop"){if(!z)throw U6(this._lexer,"cannot pop embedded language if not inside one");z=null}else if(z)throw U6(this._lexer,"cannot enter embedded language from within an embedded language");else O=M$(this._lexer,D.nextEmbedded,R,P,F);if(D.goBack)j=Math.max(0,j-D.goBack);if(D.switchTo&&typeof D.switchTo==="string"){let T=M$(this._lexer,D.switchTo,R,P,F);if(T[0]==="@")T=T.substr(1);if(!jH(this._lexer,T))throw U6(this._lexer,"trying to switch to a state '"+T+"' that is undefined in rule: "+this._safeRuleName(_));else H=H.switchTo(T)}else if(D.transform&&typeof D.transform==="function")throw U6(this._lexer,"action.transform not supported");else if(D.next)if(D.next==="@push")if(H.depth>=this._lexer.maxStack)throw U6(this._lexer,"maximum tokenizer stack size reached: ["+H.state+","+H.parent.state+",...]");else H=H.push(F);else if(D.next==="@pop")if(H.depth<=1)throw U6(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_));else H=H.pop();else if(D.next==="@popall")H=H.popall();else{let T=M$(this._lexer,D.next,R,P,F);if(T[0]==="@")T=T.substr(1);if(!jH(this._lexer,T))throw U6(this._lexer,"trying to set a next state '"+T+"' that is undefined in rule: "+this._safeRuleName(_));else H=H.push(T)}if(D.log&&typeof D.log==="string")gh(this._lexer,this._lexer.languageId+": "+M$(this._lexer,D.log,R,P,F))}if(N===null)throw U6(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_));let w=(T)=>{let I=this._languageService.getLanguageIdByLanguageName(T)||this._languageService.getLanguageIdByMimeType(T)||T,k=this._getNestedEmbeddedLanguageData(I);if(j<U){let x=$.substr(j);return this._nestedTokenize(x,Q,aQ.create(H,k),Y+j,Z)}else return aQ.create(H,k)};if(Array.isArray(N)){if(B&&B.groups.length>0)throw U6(this._lexer,"groups cannot be nested: "+this._safeRuleName(_));if(P.length!==N.length+1)throw U6(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_));let T=0;for(let I=1;I<P.length;I++)T+=P[I].length;if(T!==R.length)throw U6(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_));B={rule:_,matches:P,groups:[]};for(let I=0;I<N.length;I++)B.groups[I]={action:N[I],matched:P[I+1]};j-=R.length;continue}else{if(N==="@rematch"){if(j-=R.length,R="",P=null,N="",O!==null)return w(O)}if(R.length===0)if(U===0||K!==H.depth||F!==H.state||(!B?0:B.groups.length)!==A)continue;else throw U6(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_));let T=null;if(p_(N)&&N.indexOf("@brackets")===0){let I=N.substr(9),k=I80(this._lexer,R);if(!k)throw U6(this._lexer,"@brackets token returned but no bracket defined as: "+R);T=u_(k.token+I)}else{let I=N===""?"":N+this._lexer.tokenPostfix;T=u_(I)}if(W<G)Z.emit(W+Y,T)}if(O!==null)return w(O)}return aQ.create(H,z)}_getNestedEmbeddedLanguageData($){if(!this._languageService.isRegisteredLanguageId($))return new E3($,BY);if($!==this._languageId)this._languageService.requestBasicLanguageFeatures($),Q6.getOrCreate($),this._embeddedLanguages[$]=!0;let Q=Q6.get($);if(Q)return new E3($,Q.getInitialState());return new E3($,BY)}};T2=c_=k80([E80(4,p1)],T2)});class WH{static colorizeElement(J,$,Q,X){X=X||{};let Y=X.theme||"vs",Z=X.mimeType||Q.getAttribute("lang")||Q.getAttribute("data-lang");if(!Z)return console.error("Mode not detected"),Promise.resolve();let G=$.getLanguageIdByMimeType(Z)||Z;J.setTheme(Y);let q=Q.firstChild?Q.firstChild.nodeValue:"";Q.className+=" "+Y;let U=(z)=>{var H;let j=(H=d_===null||d_===void 0?void 0:d_.createHTML(z))!==null&&H!==void 0?H:z;Q.innerHTML=j};return this.colorize($,q||"",G,X).then(U,(z)=>console.error(z))}static async colorize(J,$,Q,X){let Y=J.languageIdCodec,Z=4;if(X&&typeof X.tabSize==="number")Z=X.tabSize;if(J3($))$=$.substr(1);let G=H9($);if(!J.isRegisteredLanguageId(Q))return lh(G,Z,Y);let q=await Q6.getOrCreate(Q);if(q)return y80(G,Z,q,Y);return lh(G,Z,Y)}static colorizeLine(J,$,Q,X,Y=4){let Z=s8.isBasicASCII(J,$),G=s8.containsRTL(J,Z,Q);return w3(new PJ(!1,!0,J,!1,Z,G,0,X,[],Y,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(J,$,Q=4){let X=J.getLineContent($);J.tokenization.forceTokenization($);let Z=J.tokenization.getLineTokens($).inflate();return this.colorizeLine(X,J.mightContainNonBasicASCII(),J.mightContainRTL(),Z,Q)}}function y80(J,$,Q,X){return new Promise((Y,Z)=>{let G=()=>{let q=x80(J,$,Q,X);if(Q instanceof T2){let U=Q.getLoadStatus();if(U.loaded===!1){U.promise.then(G,Z);return}}Y(q)};G()})}function lh(J,$,Q){let X=[],Y=33587200,Z=new Uint32Array(2);Z[0]=0,Z[1]=Y;for(let G=0,q=J.length;G<q;G++){let U=J[G];Z[0]=U.length;let z=new g6(Z,U,Q),H=s8.isBasicASCII(U,!0),j=s8.containsRTL(U,H,!0),B=w3(new PJ(!1,!0,U,!1,H,j,0,z,[],$,0,0,0,0,-1,"none",!1,!1,null));X=X.concat(B.html),X.push("<br/>")}return X.join("")}function x80(J,$,Q,X){let Y=[],Z=Q.getInitialState();for(let G=0,q=J.length;G<q;G++){let U=J[G],z=Q.tokenizeEncoded(U,!0,Z);g6.convertToEndOffset(z.tokens,U.length);let H=new g6(z.tokens,U,X),j=s8.isBasicASCII(U,!0),B=s8.containsRTL(U,j,!0),V=w3(new PJ(!1,!0,U,!1,j,B,0,H.inflate(),[],$,0,0,0,0,-1,"none",!1,!1,null));Y=Y.concat(V.html),Y.push("<br/>"),Z=z.endState}return Y.join("")}var d_;var dh=E(()=>{ZY();G1();w8();sQ();L3();x4();l_();d_=A9("standaloneColorizer",{createHTML:(J)=>J})});var sh=E(()=>{_0(".monaco-aria-container{position:absolute;left:-999em}")});function rh(J){w2=document.createElement("div"),w2.className="monaco-aria-container";let $=()=>{let X=document.createElement("div");return X.className="monaco-alert",X.setAttribute("role","alert"),X.setAttribute("aria-atomic","true"),w2.appendChild(X),X};VK=$(),s_=$();let Q=()=>{let X=document.createElement("div");return X.className="monaco-status",X.setAttribute("aria-live","polite"),X.setAttribute("aria-atomic","true"),w2.appendChild(X),X};WK=Q(),a_=Q(),J.appendChild(w2)}function x3(J){if(!w2)return;if(VK.textContent!==J)c5(s_),BK(VK,J);else c5(VK),BK(s_,J)}function O$(J){if(!w2)return;if(WK.textContent!==J)c5(a_),BK(WK,J);else c5(WK),BK(a_,J)}function BK(J,$){if(c5(J),$.length>ah)$=$.substr(0,ah);J.textContent=$,J.style.visibility="hidden",J.style.visibility="visible"}var ah=20000,w2,VK,s_,WK,a_;var KY=E(()=>{x0();sh()});var FK;var r_=E(()=>{n0();FK=b0("markerDecorationsService")});var b80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},S80=function(J,$){return function(Q,X){$(Q,X,J)}},BH=class{constructor($,Q){}dispose(){}};var nh=E(()=>{r_();u9();BH.ID="editor.contrib.markerDecorations";BH=b80([S80(1,FK)],BH);m9(BH.ID,BH,0)});var oh=E(()=>{_0("::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{-webkit-text-size-adjust:100%;color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background);position:relative;overflow:visible}.monaco-editor-background{background-color:var(--vscode-editor-background)}.monaco-editor .rangeHighlight{background-color:var(--vscode-editor-rangeHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-rangeHighlightBorder)}.monaco-editor.hc-black .rangeHighlight,.monaco-editor.hc-light .rangeHighlight{border-style:dotted}.monaco-editor .symbolHighlight{background-color:var(--vscode-editor-symbolHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-symbolHighlightBorder)}.monaco-editor.hc-black .symbolHighlight,.monaco-editor.hc-light .symbolHighlight{border-style:dotted}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .squiggly-error{border-bottom:4px double var(--vscode-editorError-border)}.monaco-editor .squiggly-error:before{content:\"\";background:var(--vscode-editorError-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-warning{border-bottom:4px double var(--vscode-editorWarning-border)}.monaco-editor .squiggly-warning:before{content:\"\";background:var(--vscode-editorWarning-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-info{border-bottom:4px double var(--vscode-editorInfo-border)}.monaco-editor .squiggly-info:before{content:\"\";background:var(--vscode-editorInfo-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-hint{border-bottom:2px dotted var(--vscode-editorHint-border)}.monaco-editor.showUnused .squiggly-unnecessary{border-bottom:2px dashed var(--vscode-editorUnnecessaryCode-border)}.monaco-editor.showDeprecated .squiggly-inline-deprecated{text-decoration:line-through;text-decoration-color:var(--vscode-editor-foreground,inherit)}")});var FH;var i_=E(()=>{B0();E0();x0();FH=class FH extends r{constructor(J,$){super();this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._referenceDomElement=J,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,$)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let J=null,$=()=>{if(J)this.observe({width:J.width,height:J.height});else this.observe()},Q=!1,X=!1,Y=()=>{if(Q&&!X)try{Q=!1,X=!0,$()}finally{y5(L0(this._referenceDomElement),()=>{X=!1,Y()})}};this._resizeObserver=new ResizeObserver((Z)=>{if(Z&&Z[0]&&Z[0].contentRect)J={width:Z[0].contentRect.width,height:Z[0].contentRect.height};else J=null;Q=!0,Y()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){if(this._resizeObserver)this._resizeObserver.disconnect(),this._resizeObserver=null}observe(J){this.measureReferenceDomElement(!0,J)}measureReferenceDomElement(J,$){let Q=0,X=0;if($)Q=$.width,X=$.height;else if(this._referenceDomElement)Q=this._referenceDomElement.clientWidth,X=this._referenceDomElement.clientHeight;if(Q=Math.max(5,Q),X=Math.max(5,X),this._width!==Q||this._height!==X){if(this._width=Q,this._height=X,J)this._onDidChange.fire()}}}});class AY{constructor(J,$){this.key=J,this.migrate=$}apply(J){let $=AY._read(J,this.key),Q=(Y)=>AY._read(J,Y),X=(Y,Z)=>AY._write(J,Y,Z);this.migrate($,Q,X)}static _read(J,$){if(typeof J>"u")return;let Q=$.indexOf(".");if(Q>=0){let X=$.substring(0,Q);return this._read(J[X],$.substring(Q+1))}return J[$]}static _write(J,$,Q){let X=$.indexOf(".");if(X>=0){let Y=$.substring(0,X);J[Y]=J[Y]||{},this._write(J[Y],$.substring(X+1),Q);return}J[$]=Q}}function DJ(J,$){AY.items.push(new AY(J,$))}function i7(J,$){DJ(J,(Q,X,Y)=>{if(typeof Q<"u"){for(let[Z,G]of $)if(Q===Z){Y(J,G);return}}})}function th(J){AY.items.forEach(($)=>$.apply(J))}var C80;var eh=E(()=>{AY.items=[];i7("wordWrap",[[!0,"on"],[!1,"off"]]);i7("lineNumbers",[[!0,"on"],[!1,"off"]]);i7("cursorBlinking",[["visible","solid"]]);i7("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);i7("renderLineHighlight",[[!0,"line"],[!1,"none"]]);i7("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);i7("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);i7("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);i7("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);i7("autoIndent",[[!1,"advanced"],[!0,"full"]]);i7("matchBrackets",[[!0,"always"],[!1,"never"]]);i7("renderFinalNewline",[[!0,"on"],[!1,"off"]]);i7("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);i7("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);i7("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);DJ("autoClosingBrackets",(J,$,Q)=>{if(J===!1){if(Q("autoClosingBrackets","never"),typeof $("autoClosingQuotes")>"u")Q("autoClosingQuotes","never");if(typeof $("autoSurround")>"u")Q("autoSurround","never")}});DJ("renderIndentGuides",(J,$,Q)=>{if(typeof J<"u"){if(Q("renderIndentGuides",void 0),typeof $("guides.indentation")>"u")Q("guides.indentation",!!J)}});DJ("highlightActiveIndentGuide",(J,$,Q)=>{if(typeof J<"u"){if(Q("highlightActiveIndentGuide",void 0),typeof $("guides.highlightActiveIndentation")>"u")Q("guides.highlightActiveIndentation",!!J)}});C80={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};DJ("suggest.filteredTypes",(J,$,Q)=>{if(J&&typeof J==="object"){for(let X of Object.entries(C80))if(J[X[0]]===!1){if(typeof $(`suggest.${X[1]}`)>"u")Q(`suggest.${X[1]}`,!1)}Q("suggest.filteredTypes",void 0)}});DJ("quickSuggestions",(J,$,Q)=>{if(typeof J==="boolean"){let X=J?"on":"off";Q("quickSuggestions",{comments:X,strings:X,other:X})}});DJ("experimental.stickyScroll.enabled",(J,$,Q)=>{if(typeof J==="boolean"){if(Q("experimental.stickyScroll.enabled",void 0),typeof $("stickyScroll.enabled")>"u")Q("stickyScroll.enabled",J)}});DJ("experimental.stickyScroll.maxLineCount",(J,$,Q)=>{if(typeof J==="number"){if(Q("experimental.stickyScroll.maxLineCount",void 0),typeof $("stickyScroll.maxLineCount")>"u")Q("stickyScroll.maxLineCount",J)}});DJ("codeActionsOnSave",(J,$,Q)=>{if(J&&typeof J==="object"){let X=!1,Y={};for(let Z of Object.entries(J))if(typeof Z[1]==="boolean")X=!0,Y[Z[0]]=Z[1]?"explicit":"never";else Y[Z[0]]=Z[1];if(X)Q("codeActionsOnSave",Y)}});DJ("codeActionWidget.includeNearbyQuickfixes",(J,$,Q)=>{if(typeof J==="boolean"){if(Q("codeActionWidget.includeNearbyQuickfixes",void 0),typeof $("codeActionWidget.includeNearbyQuickFixes")>"u")Q("codeActionWidget.includeNearbyQuickFixes",J)}});DJ("lightbulb.enabled",(J,$,Q)=>{if(typeof J==="boolean")Q("lightbulb.enabled",J?void 0:"off")})});class Jf{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new p,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(J){this._tabFocus=J,this._onDidChangeTabFocus.fire(this._tabFocus)}}var b3;var n_=E(()=>{E0();b3=new Jf});var I8,$f;var RJ=E(()=>{e1();n0();I8=b0("accessibilityService"),$f=new T0("accessibilityModeEnabled",!1)});function f80(J){let $=0;while(J)J=Math.floor(J/10),$++;return $?$:1}function g80(){let J="";if(!f7&&!aB)J+="no-user-select ";if(f7)J+="no-minimap-shadow ",J+="enable-user-select ";if($1)J+="mac ";return J}class Xf{constructor(){this._values=[]}_read(J){return this._values[J]}get(J){return this._values[J]}_write(J,$){this._values[J]=$}}class Yf{constructor(){this._values=[]}_read(J){if(J>=this._values.length)throw Error("Cannot read uninitialized value");return this._values[J]}get(J){return this._read(J)}_write(J,$){this._values[J]=$}}class PY{static validateOptions(J){let $=new Xf;for(let Q of dX){let X=Q.name==="_never_"?void 0:J[Q.name];$._write(Q.id,Q.validate(X))}return $}static computeOptions(J,$){let Q=new Yf;for(let X of dX)Q._write(X.id,X.compute($,Q,J._read(X.id)));return Q}static _deepEquals(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return J===$;if(Array.isArray(J)||Array.isArray($))return Array.isArray(J)&&Array.isArray($)?B6(J,$):!1;if(Object.keys(J).length!==Object.keys($).length)return!1;for(let Q in J)if(!PY._deepEquals(J[Q],$[Q]))return!1;return!0}static checkEquals(J,$){let Q=[],X=!1;for(let Y of dX){let Z=!PY._deepEquals(J._read(Y.id),$._read(Y.id));if(Q[Y.id]=Z,Z)X=!0}return X?new eU(Q):null}static applyUpdate(J,$){let Q=!1;for(let X of dX)if($.hasOwnProperty(X.name)){let Y=X.applyUpdate(J[X.name],$[X.name]);J[X.name]=Y.newValue,Q=Q||Y.didChange}return Q}}function Qf(J){let $=J$(J);return th($),$}var v80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},h80=function(J,$){return function(Q,X){$(Q,X,J)}},KK;var Zf=E(()=>{M7();B1();E0();B0();P7();E1();i_();sM();eh();n_();U8();Wz();iB();RJ();KK=class extends r{constructor($,Q,X,Y){super();if(this._accessibilityService=Y,this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new p),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new SW,this.isSimpleWidget=$,this._containerObserver=this._register(new FH(X,Q.dimension)),this._rawOptions=Qf(Q),this._validatedOptions=PY.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13))this._containerObserver.startObserving();this._register(D4.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(b3.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(Bz.onDidChange(()=>this._recomputeOptions())),this._register($3.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){let $=this._computeOptions(),Q=PY.checkEquals(this.options,$);if(Q===null)return;this.options=$,this._onDidChangeFast.fire(Q),this._onDidChange.fire(Q)}_computeOptions(){let $=this._readEnvConfiguration(),Q=LQ.createFromValidatedSettings(this._validatedOptions,$.pixelRatio,this.isSimpleWidget),X=this._readFontInfo(Q),Y={memory:this._computeOptionsMemory,outerWidth:$.outerWidth,outerHeight:$.outerHeight-this._reservedHeight,fontInfo:X,extraEditorClassName:$.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:$.emptySelectionClipboard,pixelRatio:$.pixelRatio,tabFocusMode:b3.getTabFocusMode(),accessibilitySupport:$.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return PY.computeOptions(this._validatedOptions,Y)}_readEnvConfiguration(){return{extraEditorClassName:g80(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:UJ||i5,pixelRatio:$3.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo($){return Bz.readFontInfo($)}getRawOptions(){return this._rawOptions}updateOptions($){let Q=Qf($);if(!PY.applyUpdate(this._rawOptions,Q))return;this._validatedOptions=PY.validateOptions(this._rawOptions),this._recomputeOptions()}observeContainer($){this._containerObserver.observe($)}setIsDominatedByLongLines($){if(this._isDominatedByLongLines===$)return;this._isDominatedByLongLines=$,this._recomputeOptions()}setModelLineCount($){let Q=f80($);if(this._lineNumbersDigitCount===Q)return;this._lineNumbersDigitCount=Q,this._recomputeOptions()}setViewLineCount($){if(this._viewLineCount===$)return;this._viewLineCount=$,this._recomputeOptions()}setReservedHeight($){if(this._reservedHeight===$)return;this._reservedHeight=$,this._recomputeOptions()}setGlyphMarginDecorationLaneCount($){if(this._glyphMarginDecorationLaneCount===$)return;this._glyphMarginDecorationLaneCount=$,this._recomputeOptions()}};KK=v80([h80(3,I8)],KK)});var _$;var o_=E(()=>{(function(J){let $={total:0,min:Number.MAX_VALUE,max:0},Q={...$},X={...$},Y={...$},Z=0,G={keydown:0,input:0,render:0};function q(){F(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),G.keydown=1,queueMicrotask(U)}J.onKeyDown=q;function U(){if(G.keydown===1)performance.mark("keydown/end"),G.keydown=2}function z(){performance.mark("input/start"),G.input=1,A()}J.onBeforeInput=z;function H(){if(G.input===0)z();queueMicrotask(j)}J.onInput=H;function j(){if(G.input===1)performance.mark("input/end"),G.input=2}function B(){F()}J.onKeyUp=B;function V(){F()}J.onSelectionChange=V;function W(){if(G.keydown===2&&G.input===2&&G.render===0)performance.mark("render/start"),G.render=1,queueMicrotask(K),A()}J.onRenderStart=W;function K(){if(G.render===1)performance.mark("render/end"),G.render=2}function A(){setTimeout(F)}function F(){if(G.keydown===2&&G.input===2&&G.render===2)performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),P("keydown",$),P("input",Q),P("render",X),P("inputlatency",Y),Z++,R()}function P(N,w){let T=performance.getEntriesByName(N)[0].duration;w.total+=T,w.min=Math.min(w.min,T),w.max=Math.max(w.max,T)}function R(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),G.keydown=0,G.input=0,G.render=0}function D(){if(Z===0)return;let N={keydown:_($),input:_(Q),render:_(X),total:_(Y),sampleCount:Z};return O($),O(Q),O(X),O(Y),Z=0,N}J.getAndClearMeasurements=D;function _(N){return{average:N.total/Z,max:N.max,min:N.min}}function O(N){N.total=0,N.min=Number.MAX_VALUE,N.max=0}})(_$||(_$={}))});class rQ{constructor(){this._hooks=new q0,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(J,$){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let Q=this._onStopCallback;if(this._onStopCallback=null,J&&Q)Q($)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(J,$,Q,X,Y){if(this.isMonitoring())this.stopMonitoring(!1);this._pointerMoveCallback=X,this._onStopCallback=Y;let Z=J;try{J.setPointerCapture($),this._hooks.add(y0(()=>{try{J.releasePointerCapture($)}catch(G){}}))}catch(G){Z=L0(J)}this._hooks.add(t(Z,W0.POINTER_MOVE,(G)=>{if(G.buttons!==Q){this.stopMonitoring(!0);return}G.preventDefault(),this._pointerMoveCallback(G)})),this._hooks.add(t(Z,W0.POINTER_UP,(G)=>this.stopMonitoring(!0)))}}var KH=E(()=>{x0();B0()});function OK(J){return`--vscode-${J.replace(/\./g,"-")}`}function w0(J){return`var(${OK(J)})`}function Ff(J,$){return`var(${OK(J)}, ${$})`}class Kf{constructor(){this._onDidChangeSchema=new p,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(J,$,Q,X=!1,Y){let Z={id:J,description:Q,defaults:$,needsTransparency:X,deprecationMessage:Y};this.colorsById[J]=Z;let G={type:"string",description:Q,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};if(Y)G.deprecationMessage=Y;if(X)G.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",G.patternErrorMessage="This color must be transparent or it will obscure content";return this.colorSchema.properties[J]=G,this.colorReferenceSchema.enum.push(J),this.colorReferenceSchema.enumDescriptions.push(Q),this._onDidChangeSchema.fire(),J}getColors(){return Object.keys(this.colorsById).map((J)=>this.colorsById[J])}resolveDefaultColor(J,$){let Q=this.colorsById[J];if(Q&&Q.defaults){let X=Q.defaults[$.type];return MJ(X,$)}return}getColorSchema(){return this.colorSchema}toString(){let J=($,Q)=>{let X=$.indexOf(".")===-1?0:1,Y=Q.indexOf(".")===-1?0:1;if(X!==Y)return X-Y;return $.localeCompare(Q)};return Object.keys(this.colorsById).sort(J).map(($)=>`- \`${$}\`: ${this.colorsById[$].description}`).join(`
`)}}function f(J,$,Q,X,Y){return _K.registerColor(J,$,Q,X,Y)}function p80(J,$){var Q,X,Y,Z;switch(J.op){case 0:return(Q=MJ(J.value,$))===null||Q===void 0?void 0:Q.darken(J.factor);case 1:return(X=MJ(J.value,$))===null||X===void 0?void 0:X.lighten(J.factor);case 2:return(Y=MJ(J.value,$))===null||Y===void 0?void 0:Y.transparent(J.factor);case 3:{let G=MJ(J.background,$);if(!G)return MJ(J.value,$);return(Z=MJ(J.value,$))===null||Z===void 0?void 0:Z.makeOpaque(G)}case 4:for(let G of J.values){let q=MJ(G,$);if(q)return q}return;case 6:return MJ($.defines(J.if)?J.then:J.else,$);case 5:{let G=MJ(J.value,$);if(!G)return;let q=MJ(J.background,$);if(!q)return G.transparent(J.factor*J.transparency);return G.isDarkerThan(q)?X0.getLighterColor(G,q,J.factor).transparent(J.transparency):X0.getDarkerColor(G,q,J.factor).transparent(J.transparency)}default:throw Y3(J)}}function L2(J,$){return{op:0,value:J,factor:$}}function wJ(J,$){return{op:1,value:J,factor:$}}function g0(J,$){return{op:2,value:J,factor:$}}function Vf(...J){return{op:4,values:J}}function m80(J,$,Q){return{op:6,if:J,then:$,else:Q}}function Wf(J,$,Q,X){return{op:5,value:J,background:$,factor:Q,transparency:X}}function MJ(J,$){if(J===null)return;else if(typeof J==="string"){if(J[0]==="#")return X0.fromHex(J);return $.getColor(J)}else if(J instanceof X0)return J;else if(typeof J==="object")return p80(J,$);return}var t_,_K,F0,mW0,uW0,cW0,OJ,R9,y1,_6,lW0,dW0,Af,sW0,aW0,rW0,iW0,nW0,oW0,N$,Pf,Df,Rf,Mf,Of,tW0,_f,Nf,eW0,Tf,wf,Lf,kf,Ef,If,yf,xf,bf,_J,Sf,T$,DY,S3,Cf,C3,vf,hf,ff,DK,gf,AH,pf,v3,h3,f3,g3,mf,JB0,w$,$B0,RH,y8,PH,QB0,n7,DH,uf,XB0,YB0,e5,E$,ZB0,GB0,qB0,UB0,a6,L$,NJ,zB0,e_,cf,lf,NK,df,sf,af,rf,nf,iQ,of,JN,$N,HB0,jB0,nQ,VB0,WB0,p3,BB0,FB0,KB0,AB0,PB0,Gf,DB0,tf,RB0,MB0,RY,MY,OB0,_B0,NB0,TB0,AK,wB0,LB0,RK,MK,ef,Jg,kB0,EB0,IB0,yB0,$g,Qg,xB0,bB0,SB0,CB0,vB0,hB0,fB0,Xg,Yg,Zg,Gg,k$,TJ,m3,qg,Ug,zg,Hg,jg,QN,XN,Vg,Wg,oQ,MH,gB0,pB0,mB0,Bg,Fg,Kg,Ag,uB0,cB0,u3,Pg,Dg,Rg,lB0,Mg,dB0,Og,_g,sB0,qf,I$,tQ,y$,Ng,Tg,wg,Lg,kg,Eg,Ig,Uf,aB0,rB0,iB0,nB0,oB0,tB0,yg,xg,YN,bg,eB0,Sg=0.5,zf,Hf,jf,b4=0.4,s3=1,c3,JF0,l3,$F0,d3,QF0,a3,XF0,YF0,ZF0,GF0,qF0,PK,UF0,ZN,Cg,vg,hg,fg,gg,zF0,HF0,jF0,pg,mg,ug,VF0,WF0,BF0,FF0,KF0,AF0,PF0,DF0,cg="vscode://schemas/workbench-colors",lg,Bf;var x8=E(()=>{V$();J6();a7();E0();a0();mF();U7();t_={ColorContribution:"base.contributions.colors"};_K=new Kf;G6.add(t_.ColorContribution,_K);F0=f("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},M("foreground","Overall foreground color. This color is only used if not overridden by a component.")),mW0=f("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},M("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),uW0=f("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},M("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),cW0=f("descriptionForeground",{light:"#717171",dark:g0(F0,0.7),hcDark:g0(F0,0.7),hcLight:g0(F0,0.7)},M("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),OJ=f("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},M("iconForeground","The default color for icons in the workbench.")),R9=f("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},M("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y1=f("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},M("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),_6=f("contrastActiveBorder",{light:null,dark:null,hcDark:R9,hcLight:R9},M("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),lW0=f("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},M("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),dW0=f("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:X0.black,hcLight:"#292929"},M("textSeparatorForeground","Color for text separators.")),Af=f("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},M("textLinkForeground","Foreground color for links in text.")),sW0=f("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},M("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),aW0=f("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},M("textPreformatForeground","Foreground color for preformatted text segments.")),rW0=f("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},M("textPreformatBackground","Background color for preformatted text segments.")),iW0=f("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},M("textBlockQuoteBackground","Background color for block quotes in text.")),nW0=f("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:X0.white,hcLight:"#292929"},M("textBlockQuoteBorder","Border color for block quotes in text.")),oW0=f("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:X0.black,hcLight:"#F2F2F2"},M("textCodeBlockBackground","Background color for code blocks in text.")),N$=f("widget.shadow",{dark:g0(X0.black,0.36),light:g0(X0.black,0.16),hcDark:null,hcLight:null},M("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Pf=f("widget.border",{dark:null,light:null,hcDark:y1,hcLight:y1},M("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Df=f("input.background",{dark:"#3C3C3C",light:X0.white,hcDark:X0.black,hcLight:X0.white},M("inputBoxBackground","Input box background.")),Rf=f("input.foreground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("inputBoxForeground","Input box foreground.")),Mf=f("input.border",{dark:null,light:null,hcDark:y1,hcLight:y1},M("inputBoxBorder","Input box border.")),Of=f("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:y1,hcLight:y1},M("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),tW0=f("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},M("inputOption.hoverBackground","Background color of activated options in input fields.")),_f=f("inputOption.activeBackground",{dark:g0(R9,0.4),light:g0(R9,0.2),hcDark:X0.transparent,hcLight:X0.transparent},M("inputOption.activeBackground","Background hover color of options in input fields.")),Nf=f("inputOption.activeForeground",{dark:X0.white,light:X0.black,hcDark:F0,hcLight:F0},M("inputOption.activeForeground","Foreground color of activated options in input fields.")),eW0=f("input.placeholderForeground",{light:g0(F0,0.5),dark:g0(F0,0.5),hcDark:g0(F0,0.7),hcLight:g0(F0,0.7)},M("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Tf=f("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:X0.black,hcLight:X0.white},M("inputValidationInfoBackground","Input validation background color for information severity.")),wf=f("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:F0},M("inputValidationInfoForeground","Input validation foreground color for information severity.")),Lf=f("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y1,hcLight:y1},M("inputValidationInfoBorder","Input validation border color for information severity.")),kf=f("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:X0.black,hcLight:X0.white},M("inputValidationWarningBackground","Input validation background color for warning severity.")),Ef=f("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:F0},M("inputValidationWarningForeground","Input validation foreground color for warning severity.")),If=f("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y1,hcLight:y1},M("inputValidationWarningBorder","Input validation border color for warning severity.")),yf=f("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:X0.black,hcLight:X0.white},M("inputValidationErrorBackground","Input validation background color for error severity.")),xf=f("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:F0},M("inputValidationErrorForeground","Input validation foreground color for error severity.")),bf=f("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y1,hcLight:y1},M("inputValidationErrorBorder","Input validation border color for error severity.")),_J=f("dropdown.background",{dark:"#3C3C3C",light:X0.white,hcDark:X0.black,hcLight:X0.white},M("dropdownBackground","Dropdown background.")),Sf=f("dropdown.listBackground",{dark:null,light:null,hcDark:X0.black,hcLight:X0.white},M("dropdownListBackground","Dropdown list background.")),T$=f("dropdown.foreground",{dark:"#F0F0F0",light:F0,hcDark:X0.white,hcLight:F0},M("dropdownForeground","Dropdown foreground.")),DY=f("dropdown.border",{dark:_J,light:"#CECECE",hcDark:y1,hcLight:y1},M("dropdownBorder","Dropdown border.")),S3=f("button.foreground",{dark:X0.white,light:X0.white,hcDark:X0.white,hcLight:X0.white},M("buttonForeground","Button foreground color.")),Cf=f("button.separator",{dark:g0(S3,0.4),light:g0(S3,0.4),hcDark:g0(S3,0.4),hcLight:g0(S3,0.4)},M("buttonSeparator","Button separator color.")),C3=f("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},M("buttonBackground","Button background color.")),vf=f("button.hoverBackground",{dark:wJ(C3,0.2),light:L2(C3,0.2),hcDark:C3,hcLight:C3},M("buttonHoverBackground","Button background color when hovering.")),hf=f("button.border",{dark:y1,light:y1,hcDark:y1,hcLight:y1},M("buttonBorder","Button border color.")),ff=f("button.secondaryForeground",{dark:X0.white,light:X0.white,hcDark:X0.white,hcLight:F0},M("buttonSecondaryForeground","Secondary button foreground color.")),DK=f("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:X0.white},M("buttonSecondaryBackground","Secondary button background color.")),gf=f("button.secondaryHoverBackground",{dark:wJ(DK,0.2),light:L2(DK,0.2),hcDark:null,hcLight:null},M("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),AH=f("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:X0.black,hcLight:"#0F4A85"},M("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),pf=f("badge.foreground",{dark:X0.white,light:"#333",hcDark:X0.white,hcLight:X0.white},M("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),v3=f("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},M("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),h3=f("scrollbarSlider.background",{dark:X0.fromHex("#797979").transparent(0.4),light:X0.fromHex("#646464").transparent(0.4),hcDark:g0(y1,0.6),hcLight:g0(y1,0.4)},M("scrollbarSliderBackground","Scrollbar slider background color.")),f3=f("scrollbarSlider.hoverBackground",{dark:X0.fromHex("#646464").transparent(0.7),light:X0.fromHex("#646464").transparent(0.7),hcDark:g0(y1,0.8),hcLight:g0(y1,0.8)},M("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),g3=f("scrollbarSlider.activeBackground",{dark:X0.fromHex("#BFBFBF").transparent(0.4),light:X0.fromHex("#000000").transparent(0.6),hcDark:y1,hcLight:y1},M("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),mf=f("progressBar.background",{dark:X0.fromHex("#0E70C0"),light:X0.fromHex("#0E70C0"),hcDark:y1,hcLight:y1},M("progressBarBackground","Background color of the progress bar that can show for long running operations.")),JB0=f("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},M("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),w$=f("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},M("editorError.foreground","Foreground color of error squigglies in the editor.")),$B0=f("editorError.border",{dark:null,light:null,hcDark:X0.fromHex("#E47777").transparent(0.8),hcLight:"#B5200D"},M("errorBorder","If set, color of double underlines for errors in the editor.")),RH=f("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},M("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),y8=f("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},M("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),PH=f("editorWarning.border",{dark:null,light:null,hcDark:X0.fromHex("#FFCC00").transparent(0.8),hcLight:X0.fromHex("#FFCC00").transparent(0.8)},M("warningBorder","If set, color of double underlines for warnings in the editor.")),QB0=f("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},M("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),n7=f("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},M("editorInfo.foreground","Foreground color of info squigglies in the editor.")),DH=f("editorInfo.border",{dark:null,light:null,hcDark:X0.fromHex("#3794FF").transparent(0.8),hcLight:"#292929"},M("infoBorder","If set, color of double underlines for infos in the editor.")),uf=f("editorHint.foreground",{dark:X0.fromHex("#eeeeee").transparent(0.7),light:"#6c6c6c",hcDark:null,hcLight:null},M("editorHint.foreground","Foreground color of hint squigglies in the editor.")),XB0=f("editorHint.border",{dark:null,light:null,hcDark:X0.fromHex("#eeeeee").transparent(0.8),hcLight:"#292929"},M("hintBorder","If set, color of double underlines for hints in the editor.")),YB0=f("sash.hoverBorder",{dark:R9,light:R9,hcDark:R9,hcLight:R9},M("sashActiveBorder","Border color of active sashes.")),e5=f("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:X0.black,hcLight:X0.white},M("editorBackground","Editor background color.")),E$=f("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:X0.white,hcLight:F0},M("editorForeground","Editor default foreground color.")),ZB0=f("editorStickyScroll.background",{light:e5,dark:e5,hcDark:e5,hcLight:e5},M("editorStickyScrollBackground","Background color of sticky scroll in the editor")),GB0=f("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:X0.fromHex("#0F4A85").transparent(0.1)},M("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),qB0=f("editorStickyScroll.border",{dark:null,light:null,hcDark:y1,hcLight:y1},M("editorStickyScrollBorder","Border color of sticky scroll in the editor")),UB0=f("editorStickyScroll.shadow",{dark:v3,light:v3,hcDark:v3,hcLight:v3},M("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),a6=f("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:X0.white},M("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),L$=f("editorWidget.foreground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),NJ=f("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y1,hcLight:y1},M("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),zB0=f("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},M("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),e_=f("quickInput.background",{dark:a6,light:a6,hcDark:a6,hcLight:a6},M("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),cf=f("quickInput.foreground",{dark:L$,light:L$,hcDark:L$,hcLight:L$},M("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),lf=f("quickInputTitle.background",{dark:new X0(new I1(255,255,255,0.105)),light:new X0(new I1(0,0,0,0.06)),hcDark:"#000000",hcLight:X0.white},M("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),NK=f("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:X0.white,hcLight:"#0F4A85"},M("pickerGroupForeground","Quick picker color for grouping labels.")),df=f("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:X0.white,hcLight:"#0F4A85"},M("pickerGroupBorder","Quick picker color for grouping borders.")),sf=f("keybindingLabel.background",{dark:new X0(new I1(128,128,128,0.17)),light:new X0(new I1(221,221,221,0.4)),hcDark:X0.transparent,hcLight:X0.transparent},M("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),af=f("keybindingLabel.foreground",{dark:X0.fromHex("#CCCCCC"),light:X0.fromHex("#555555"),hcDark:X0.white,hcLight:F0},M("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),rf=f("keybindingLabel.border",{dark:new X0(new I1(51,51,51,0.6)),light:new X0(new I1(204,204,204,0.4)),hcDark:new X0(new I1(111,195,223)),hcLight:y1},M("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),nf=f("keybindingLabel.bottomBorder",{dark:new X0(new I1(68,68,68,0.6)),light:new X0(new I1(187,187,187,0.4)),hcDark:new X0(new I1(111,195,223)),hcLight:F0},M("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),iQ=f("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},M("editorSelectionBackground","Color of the editor selection.")),of=f("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:X0.white},M("editorSelectionForeground","Color of the selected text for high contrast.")),JN=f("editor.inactiveSelectionBackground",{light:g0(iQ,0.5),dark:g0(iQ,0.5),hcDark:g0(iQ,0.7),hcLight:g0(iQ,0.5)},M("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),$N=f("editor.selectionHighlightBackground",{light:Wf(iQ,e5,0.3,0.6),dark:Wf(iQ,e5,0.3,0.6),hcDark:null,hcLight:null},M("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),HB0=f("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:_6,hcLight:_6},M("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),jB0=f("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},M("editorFindMatch","Color of the current search match.")),nQ=f("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},M("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),VB0=f("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},M("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),WB0=f("editor.findMatchBorder",{light:null,dark:null,hcDark:_6,hcLight:_6},M("editorFindMatchBorder","Border color of the current search match.")),p3=f("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:_6,hcLight:_6},M("findMatchHighlightBorder","Border color of the other search matches.")),BB0=f("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:g0(_6,0.4),hcLight:g0(_6,0.4)},M("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),FB0=f("searchEditor.findMatchBackground",{light:g0(nQ,0.66),dark:g0(nQ,0.66),hcDark:nQ,hcLight:nQ},M("searchEditor.queryMatch","Color of the Search Editor query matches.")),KB0=f("searchEditor.findMatchBorder",{light:g0(p3,0.66),dark:g0(p3,0.66),hcDark:p3,hcLight:p3},M("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),AB0=f("search.resultsInfoForeground",{light:F0,dark:g0(F0,0.65),hcDark:F0,hcLight:F0},M("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),PB0=f("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},M("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Gf=f("editorHoverWidget.background",{light:a6,dark:a6,hcDark:a6,hcLight:a6},M("hoverBackground","Background color of the editor hover.")),DB0=f("editorHoverWidget.foreground",{light:L$,dark:L$,hcDark:L$,hcLight:L$},M("hoverForeground","Foreground color of the editor hover.")),tf=f("editorHoverWidget.border",{light:NJ,dark:NJ,hcDark:NJ,hcLight:NJ},M("hoverBorder","Border color of the editor hover.")),RB0=f("editorHoverWidget.statusBarBackground",{dark:wJ(Gf,0.2),light:L2(Gf,0.05),hcDark:a6,hcLight:a6},M("statusBarBackground","Background color of the editor hover status bar.")),MB0=f("editorLink.activeForeground",{dark:"#4E94CE",light:X0.blue,hcDark:X0.cyan,hcLight:"#292929"},M("activeLinkForeground","Color of active links.")),RY=f("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:X0.white,hcLight:X0.black},M("editorInlayHintForeground","Foreground color of inline hints")),MY=f("editorInlayHint.background",{dark:g0(AH,0.1),light:g0(AH,0.1),hcDark:g0(X0.white,0.1),hcLight:g0(AH,0.1)},M("editorInlayHintBackground","Background color of inline hints")),OB0=f("editorInlayHint.typeForeground",{dark:RY,light:RY,hcDark:RY,hcLight:RY},M("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),_B0=f("editorInlayHint.typeBackground",{dark:MY,light:MY,hcDark:MY,hcLight:MY},M("editorInlayHintBackgroundTypes","Background color of inline hints for types")),NB0=f("editorInlayHint.parameterForeground",{dark:RY,light:RY,hcDark:RY,hcLight:RY},M("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),TB0=f("editorInlayHint.parameterBackground",{dark:MY,light:MY,hcDark:MY,hcLight:MY},M("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),AK=f("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},M("editorLightBulbForeground","The color used for the lightbulb actions icon.")),wB0=f("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},M("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),LB0=f("editorLightBulbAi.foreground",{dark:AK,light:AK,hcDark:AK,hcLight:AK},M("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),RK=new X0(new I1(155,185,85,0.2)),MK=new X0(new I1(255,0,0,0.2)),ef=f("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},M("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Jg=f("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},M("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),kB0=f("diffEditor.insertedLineBackground",{dark:RK,light:RK,hcDark:null,hcLight:null},M("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),EB0=f("diffEditor.removedLineBackground",{dark:MK,light:MK,hcDark:null,hcLight:null},M("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),IB0=f("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},M("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),yB0=f("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},M("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),$g=f("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Qg=f("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),xB0=f("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},M("diffEditorInsertedOutline","Outline color for the text that got inserted.")),bB0=f("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},M("diffEditorRemovedOutline","Outline color for text that got removed.")),SB0=f("diffEditor.border",{dark:null,light:null,hcDark:y1,hcLight:y1},M("diffEditorBorder","Border color between the two text editors.")),CB0=f("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},M("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),vB0=f("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},M("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),hB0=f("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},M("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),fB0=f("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},M("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),Xg=f("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},M("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Yg=f("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zg=f("list.focusOutline",{dark:R9,light:R9,hcDark:_6,hcLight:_6},M("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gg=f("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},M("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),k$=f("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:X0.fromHex("#0F4A85").transparent(0.1)},M("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),TJ=f("list.activeSelectionForeground",{dark:X0.white,light:X0.white,hcDark:null,hcLight:null},M("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),m3=f("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qg=f("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:X0.fromHex("#0F4A85").transparent(0.1)},M("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ug=f("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),zg=f("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Hg=f("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},M("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),jg=f("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},M("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),QN=f("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:X0.white.transparent(0.1),hcLight:X0.fromHex("#0F4A85").transparent(0.1)},M("listHoverBackground","List/Tree background when hovering over items using the mouse.")),XN=f("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Vg=f("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},M("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),Wg=f("list.dropBetweenBackground",{dark:OJ,light:OJ,hcDark:null,hcLight:null},M("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),oQ=f("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:R9,hcLight:R9},M("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),MH=f("list.focusHighlightForeground",{dark:oQ,light:m80(k$,oQ,"#BBE7FF"),hcDark:oQ,hcLight:oQ},M("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),gB0=f("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},M("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),pB0=f("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},M("listErrorForeground","Foreground color of list items containing errors.")),mB0=f("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},M("listWarningForeground","Foreground color of list items containing warnings.")),Bg=f("listFilterWidget.background",{light:L2(a6,0),dark:wJ(a6,0),hcDark:a6,hcLight:a6},M("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Fg=f("listFilterWidget.outline",{dark:X0.transparent,light:X0.transparent,hcDark:"#f38518",hcLight:"#007ACC"},M("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Kg=f("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y1,hcLight:y1},M("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Ag=f("listFilterWidget.shadow",{dark:N$,light:N$,hcDark:N$,hcLight:N$},M("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),uB0=f("list.filterMatchBackground",{dark:nQ,light:nQ,hcDark:null,hcLight:null},M("listFilterMatchHighlight","Background color of the filtered match.")),cB0=f("list.filterMatchBorder",{dark:p3,light:p3,hcDark:y1,hcLight:_6},M("listFilterMatchHighlightBorder","Border color of the filtered match.")),u3=f("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},M("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Pg=f("tree.inactiveIndentGuidesStroke",{dark:g0(u3,0.4),light:g0(u3,0.4),hcDark:g0(u3,0.4),hcLight:g0(u3,0.4)},M("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Dg=f("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},M("tableColumnsBorder","Table border color between columns.")),Rg=f("tree.tableOddRowsBackground",{dark:g0(F0,0.04),light:g0(F0,0.04),hcDark:null,hcLight:null},M("tableOddRowsBackgroundColor","Background color for odd table rows.")),lB0=f("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},M("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Mg=f("checkbox.background",{dark:_J,light:_J,hcDark:_J,hcLight:_J},M("checkbox.background","Background color of checkbox widget.")),dB0=f("checkbox.selectBackground",{dark:a6,light:a6,hcDark:a6,hcLight:a6},M("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Og=f("checkbox.foreground",{dark:T$,light:T$,hcDark:T$,hcLight:T$},M("checkbox.foreground","Foreground color of checkbox widget.")),_g=f("checkbox.border",{dark:DY,light:DY,hcDark:DY,hcLight:DY},M("checkbox.border","Border color of checkbox widget.")),sB0=f("checkbox.selectBorder",{dark:OJ,light:OJ,hcDark:OJ,hcLight:OJ},M("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),qf=f("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,M("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),I$=f("quickInputList.focusForeground",{dark:TJ,light:TJ,hcDark:TJ,hcLight:TJ},M("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),tQ=f("quickInputList.focusIconForeground",{dark:m3,light:m3,hcDark:m3,hcLight:m3},M("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),y$=f("quickInputList.focusBackground",{dark:Vf(qf,k$),light:Vf(qf,k$),hcDark:null,hcLight:null},M("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Ng=f("menu.border",{dark:null,light:null,hcDark:y1,hcLight:y1},M("menuBorder","Border color of menus.")),Tg=f("menu.foreground",{dark:T$,light:T$,hcDark:T$,hcLight:T$},M("menuForeground","Foreground color of menu items.")),wg=f("menu.background",{dark:_J,light:_J,hcDark:_J,hcLight:_J},M("menuBackground","Background color of menu items.")),Lg=f("menu.selectionForeground",{dark:TJ,light:TJ,hcDark:TJ,hcLight:TJ},M("menuSelectionForeground","Foreground color of the selected menu item in menus.")),kg=f("menu.selectionBackground",{dark:k$,light:k$,hcDark:k$,hcLight:k$},M("menuSelectionBackground","Background color of the selected menu item in menus.")),Eg=f("menu.selectionBorder",{dark:null,light:null,hcDark:_6,hcLight:_6},M("menuSelectionBorder","Border color of the selected menu item in menus.")),Ig=f("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y1,hcLight:y1},M("menuSeparatorBackground","Color of a separator menu item in menus.")),Uf=f("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},M("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),aB0=f("toolbar.hoverOutline",{dark:null,light:null,hcDark:_6,hcLight:_6},M("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),rB0=f("toolbar.activeBackground",{dark:wJ(Uf,0.1),light:L2(Uf,0.1),hcDark:null,hcLight:null},M("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),iB0=f("editor.snippetTabstopHighlightBackground",{dark:new X0(new I1(124,124,124,0.3)),light:new X0(new I1(10,50,100,0.2)),hcDark:new X0(new I1(124,124,124,0.3)),hcLight:new X0(new I1(10,50,100,0.2))},M("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),nB0=f("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},M("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),oB0=f("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},M("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),tB0=f("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new X0(new I1(10,50,100,0.5)),hcDark:"#525252",hcLight:"#292929"},M("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),yg=f("breadcrumb.foreground",{light:g0(F0,0.8),dark:g0(F0,0.8),hcDark:g0(F0,0.8),hcLight:g0(F0,0.8)},M("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),xg=f("breadcrumb.background",{light:e5,dark:e5,hcDark:e5,hcLight:e5},M("breadcrumbsBackground","Background color of breadcrumb items.")),YN=f("breadcrumb.focusForeground",{light:L2(F0,0.2),dark:wJ(F0,0.1),hcDark:wJ(F0,0.1),hcLight:wJ(F0,0.1)},M("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),bg=f("breadcrumb.activeSelectionForeground",{light:L2(F0,0.2),dark:wJ(F0,0.1),hcDark:wJ(F0,0.1),hcLight:wJ(F0,0.1)},M("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),eB0=f("breadcrumbPicker.background",{light:a6,dark:a6,hcDark:a6,hcLight:a6},M("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),zf=X0.fromHex("#40C8AE").transparent(Sg),Hf=X0.fromHex("#40A6FF").transparent(Sg),jf=X0.fromHex("#606060").transparent(0.4),c3=f("merge.currentHeaderBackground",{dark:zf,light:zf,hcDark:null,hcLight:null},M("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),JF0=f("merge.currentContentBackground",{dark:g0(c3,b4),light:g0(c3,b4),hcDark:g0(c3,b4),hcLight:g0(c3,b4)},M("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),l3=f("merge.incomingHeaderBackground",{dark:Hf,light:Hf,hcDark:null,hcLight:null},M("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),$F0=f("merge.incomingContentBackground",{dark:g0(l3,b4),light:g0(l3,b4),hcDark:g0(l3,b4),hcLight:g0(l3,b4)},M("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),d3=f("merge.commonHeaderBackground",{dark:jf,light:jf,hcDark:null,hcLight:null},M("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),QF0=f("merge.commonContentBackground",{dark:g0(d3,b4),light:g0(d3,b4),hcDark:g0(d3,b4),hcLight:g0(d3,b4)},M("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),a3=f("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},M("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),XF0=f("editorOverviewRuler.currentContentForeground",{dark:g0(c3,s3),light:g0(c3,s3),hcDark:a3,hcLight:a3},M("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),YF0=f("editorOverviewRuler.incomingContentForeground",{dark:g0(l3,s3),light:g0(l3,s3),hcDark:a3,hcLight:a3},M("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),ZF0=f("editorOverviewRuler.commonContentForeground",{dark:g0(d3,s3),light:g0(d3,s3),hcDark:a3,hcLight:a3},M("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),GF0=f("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},M("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),qF0=f("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},M("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),PK=f("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},M("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),UF0=f("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},M("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),ZN=f("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},M("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Cg=f("minimap.infoHighlight",{dark:n7,light:n7,hcDark:DH,hcLight:DH},M("minimapInfo","Minimap marker color for infos.")),vg=f("minimap.warningHighlight",{dark:y8,light:y8,hcDark:PH,hcLight:PH},M("overviewRuleWarning","Minimap marker color for warnings.")),hg=f("minimap.errorHighlight",{dark:new X0(new I1(255,18,18,0.7)),light:new X0(new I1(255,18,18,0.7)),hcDark:new X0(new I1(255,50,50,1)),hcLight:"#B5200D"},M("minimapError","Minimap marker color for errors.")),fg=f("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},M("minimapBackground","Minimap background color.")),gg=f("minimap.foregroundOpacity",{dark:X0.fromHex("#000f"),light:X0.fromHex("#000f"),hcDark:X0.fromHex("#000f"),hcLight:X0.fromHex("#000f")},M("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),zF0=f("minimapSlider.background",{light:g0(h3,0.5),dark:g0(h3,0.5),hcDark:g0(h3,0.5),hcLight:g0(h3,0.5)},M("minimapSliderBackground","Minimap slider background color.")),HF0=f("minimapSlider.hoverBackground",{light:g0(f3,0.5),dark:g0(f3,0.5),hcDark:g0(f3,0.5),hcLight:g0(f3,0.5)},M("minimapSliderHoverBackground","Minimap slider background color when hovering.")),jF0=f("minimapSlider.activeBackground",{light:g0(g3,0.5),dark:g0(g3,0.5),hcDark:g0(g3,0.5),hcLight:g0(g3,0.5)},M("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),pg=f("problemsErrorIcon.foreground",{dark:w$,light:w$,hcDark:w$,hcLight:w$},M("problemsErrorIconForeground","The color used for the problems error icon.")),mg=f("problemsWarningIcon.foreground",{dark:y8,light:y8,hcDark:y8,hcLight:y8},M("problemsWarningIconForeground","The color used for the problems warning icon.")),ug=f("problemsInfoIcon.foreground",{dark:n7,light:n7,hcDark:n7,hcLight:n7},M("problemsInfoIconForeground","The color used for the problems info icon.")),VF0=f("charts.foreground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("chartsForeground","The foreground color used in charts.")),WF0=f("charts.lines",{dark:g0(F0,0.5),light:g0(F0,0.5),hcDark:g0(F0,0.5),hcLight:g0(F0,0.5)},M("chartsLines","The color used for horizontal lines in charts.")),BF0=f("charts.red",{dark:w$,light:w$,hcDark:w$,hcLight:w$},M("chartsRed","The red color used in chart visualizations.")),FF0=f("charts.blue",{dark:n7,light:n7,hcDark:n7,hcLight:n7},M("chartsBlue","The blue color used in chart visualizations.")),KF0=f("charts.yellow",{dark:y8,light:y8,hcDark:y8,hcLight:y8},M("chartsYellow","The yellow color used in chart visualizations.")),AF0=f("charts.orange",{dark:PK,light:PK,hcDark:PK,hcLight:PK},M("chartsOrange","The orange color used in chart visualizations.")),PF0=f("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},M("chartsGreen","The green color used in chart visualizations.")),DF0=f("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},M("chartsPurple","The purple color used in chart visualizations."));lg=G6.as(U2.JSONContribution);lg.registerSchema(cg,_K.getColorSchema());Bf=new z6(()=>lg.notifySchemaChanged(cg),200);_K.onDidChangeSchema(()=>{if(!Bf.isScheduled())Bf.schedule()})});class k2{constructor(J,$){this.x=J,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(J){return new TK(this.x-J.scrollX,this.y-J.scrollY)}}class TK{constructor(J,$){this.clientX=J,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(J){return new k2(this.clientX+J.scrollX,this.clientY+J.scrollY)}}class dg{constructor(J,$,Q,X){this.x=J,this.y=$,this.width=Q,this.height=X,this._editorPagePositionBrand=void 0}}class sg{constructor(J,$){this.x=J,this.y=$,this._positionRelativeToEditorBrand=void 0}}function wK(J){let $=x5(J);return new dg($.left,$.top,$.width,$.height)}function LK(J,$,Q){let X=$.width/J.offsetWidth,Y=$.height/J.offsetHeight,Z=(Q.x-$.x)/X,G=(Q.y-$.y)/Y;return new sg(Z,G)}class GN{constructor(J){this._editorViewDomNode=J}_create(J){return new LJ(J,!1,this._editorViewDomNode)}onContextMenu(J,$){return t(J,"contextmenu",(Q)=>{$(this._create(Q))})}onMouseUp(J,$){return t(J,"mouseup",(Q)=>{$(this._create(Q))})}onMouseDown(J,$){return t(J,W0.MOUSE_DOWN,(Q)=>{$(this._create(Q))})}onPointerDown(J,$){return t(J,W0.POINTER_DOWN,(Q)=>{$(this._create(Q),Q.pointerId)})}onMouseLeave(J,$){return t(J,W0.MOUSE_LEAVE,(Q)=>{$(this._create(Q))})}onMouseMove(J,$){return t(J,"mousemove",(Q)=>$(this._create(Q)))}}class qN{constructor(J){this._editorViewDomNode=J}_create(J){return new LJ(J,!1,this._editorViewDomNode)}onPointerUp(J,$){return t(J,"pointerup",(Q)=>{$(this._create(Q))})}onPointerDown(J,$){return t(J,W0.POINTER_DOWN,(Q)=>{$(this._create(Q),Q.pointerId)})}onPointerLeave(J,$){return t(J,W0.POINTER_LEAVE,(Q)=>{$(this._create(Q))})}onPointerMove(J,$){return t(J,"pointermove",(Q)=>$(this._create(Q)))}}class zN{constructor(J){this._editor=J,this._instanceId=++zN._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new z6(()=>this.garbageCollect(),1000)}createClassNameRef(J){let $=this.getOrCreateRule(J);return $.increaseRefCount(),{className:$.className,dispose:()=>{$.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(J){let $=this.computeUniqueKey(J),Q=this._rules.get($);if(!Q){let X=this._counter++;Q=new ag($,`dyn-rule-${this._instanceId}-${X}`,Q2(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,J),this._rules.set($,Q)}return Q}computeUniqueKey(J){return JSON.stringify(J)}garbageCollect(){for(let J of this._rules.values())if(!J.hasReferences())this._rules.delete(J.key),J.dispose()}}class ag{constructor(J,$,Q,X){this.key=J,this.className=$,this.properties=X,this._referenceCount=0,this._styleElementDisposables=new q0,this._styleElement=b5(Q,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(J,$){let Q=`.${J} {`;for(let X in $){let Y=$[X],Z;if(typeof Y==="object")Z=w0(Y.id);else Z=Y;let G=u80(X);Q+=`
	${G}: ${Z};`}return Q+=`
}`,Q}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function u80(J){return J.replace(/(^[A-Z])/,([$])=>$.toLowerCase()).replace(/([A-Z])/g,([$])=>`-${$.toLowerCase()}`)}var LJ,UN;var kK=E(()=>{x0();KH();h9();J6();B0();x8();LJ=class LJ extends j8{constructor(J,$,Q){super(L0(Q),J);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=$,this.pos=new k2(this.posx,this.posy),this.editorPos=wK(Q),this.relativePos=LK(Q,this.editorPos,this.pos)}};UN=class UN extends r{constructor(J){super();this._editorViewDomNode=J,this._globalPointerMoveMonitor=this._register(new rQ),this._keydownListener=null}startMonitoring(J,$,Q,X,Y){this._keydownListener=q6(J.ownerDocument,"keydown",(Z)=>{if(Z.toKeyCodeChord().isModifierKey())return;this._globalPointerMoveMonitor.stopMonitoring(!0,Z.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(J,$,Q,(Z)=>{X(new LJ(Z,!0,this._editorViewDomNode))},(Z)=>{this._keydownListener.dispose(),Y(Z)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}};zN._idPool=0});var kJ;var r3=E(()=>{B0();kJ=class kJ extends r{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(J){return!1}onCompositionEnd(J){return!1}onConfigurationChanged(J){return!1}onCursorStateChanged(J){return!1}onDecorationsChanged(J){return!1}onFlushed(J){return!1}onFocusChanged(J){return!1}onLanguageConfigurationChanged(J){return!1}onLineMappingChanged(J){return!1}onLinesChanged(J){return!1}onLinesDeleted(J){return!1}onLinesInserted(J){return!1}onRevealRangeRequest(J){return!1}onScrollChanged(J){return!1}onThemeChanged(J){return!1}onTokensChanged(J){return!1}onTokensColorsChanged(J){return!1}onZonesChanged(J){return!1}handleEvents(J){let $=!1;for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];switch(Y.type){case 0:if(this.onCompositionStart(Y))$=!0;break;case 1:if(this.onCompositionEnd(Y))$=!0;break;case 2:if(this.onConfigurationChanged(Y))$=!0;break;case 3:if(this.onCursorStateChanged(Y))$=!0;break;case 4:if(this.onDecorationsChanged(Y))$=!0;break;case 5:if(this.onFlushed(Y))$=!0;break;case 6:if(this.onFocusChanged(Y))$=!0;break;case 7:if(this.onLanguageConfigurationChanged(Y))$=!0;break;case 8:if(this.onLineMappingChanged(Y))$=!0;break;case 9:if(this.onLinesChanged(Y))$=!0;break;case 10:if(this.onLinesDeleted(Y))$=!0;break;case 11:if(this.onLinesInserted(Y))$=!0;break;case 12:if(this.onRevealRangeRequest(Y))$=!0;break;case 13:if(this.onScrollChanged(Y))$=!0;break;case 15:if(this.onTokensChanged(Y))$=!0;break;case 14:if(this.onThemeChanged(Y))$=!0;break;case 16:if(this.onTokensColorsChanged(Y))$=!0;break;case 17:if(this.onZonesChanged(Y))$=!0;break;default:console.info("View received unknown event: "),console.info(Y)}}if($)this._shouldRender=!0}}});class W8{static write(J,$){J.setAttribute("data-mprt",String($))}static read(J){let $=J.getAttribute("data-mprt");if($===null)return 0;return parseInt($,10)}static collect(J,$){let Q=[],X=0;while(J&&J!==J.ownerDocument.body){if(J===$)break;if(J.nodeType===J.ELEMENT_NODE)Q[X++]=this.read(J);J=J.parentElement}let Y=new Uint8Array(X);for(let Z=0;Z<X;Z++)Y[Z]=Q[X-Z-1];return Y}}var k6;var a8=E(()=>{r3();k6=class k6 extends kJ{constructor(J){super();this._context=J,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}});class rg{constructor(J,$){this._restrictedRenderingContextBrand=void 0,this._viewLayout=J,this.viewportData=$,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;let Q=this._viewLayout.getCurrentViewport();this.scrollTop=Q.top,this.scrollLeft=Q.left,this.viewportWidth=Q.width,this.viewportHeight=Q.height}getScrolledTopFromAbsoluteTop(J){return J-this.scrollTop}getVerticalOffsetForLineNumber(J,$){return this._viewLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$){return this._viewLayout.getVerticalOffsetAfterLineNumber(J,$)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class jN{constructor(J,$,Q,X){this.outsideRenderedLine=J,this.lineNumber=$,this.ranges=Q,this.continuesOnNextLine=X}}class i3{static from(J){let $=Array(J.length);for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];$[Q]=new i3(Y.left,Y.width)}return $}constructor(J,$){this._horizontalRangeBrand=void 0,this.left=Math.round(J),this.width=Math.round($)}toString(){return`[${this.left},${this.width}]`}}class x${constructor(J,$){this._floatHorizontalRangeBrand=void 0,this.left=J,this.width=$}toString(){return`[${this.left},${this.width}]`}static compare(J,$){return J.left-$.left}}class VN{constructor(J,$){this.outsideRenderedLine=J,this.originalLeft=$,this.left=Math.round(this.originalLeft)}}class EK{constructor(J,$){this.outsideRenderedLine=J,this.ranges=$}}var HN;var n3=E(()=>{HN=class HN extends rg{constructor(J,$,Q){super(J,$);this._renderingContextBrand=void 0,this._viewLines=Q}linesVisibleRangesForRange(J,$){return this._viewLines.linesVisibleRangesForRange(J,$)}visibleRangeForPosition(J){return this._viewLines.visibleRangeForPosition(J)}}});class o3{static _createRange(){if(!this._handyReadyRange)this._handyReadyRange=document.createRange();return this._handyReadyRange}static _detachRange(J,$){J.selectNodeContents($)}static _readClientRects(J,$,Q,X,Y){let Z=this._createRange();try{return Z.setStart(J,$),Z.setEnd(Q,X),Z.getClientRects()}catch(G){return null}finally{this._detachRange(Z,Y)}}static _mergeAdjacentRanges(J){if(J.length===1)return J;J.sort(x$.compare);let $=[],Q=0,X=J[0];for(let Y=1,Z=J.length;Y<Z;Y++){let G=J[Y];if(X.left+X.width+0.9>=G.left)X.width=Math.max(X.width,G.left+G.width-X.left);else $[Q++]=X,X=G}return $[Q++]=X,$}static _createHorizontalRangesFromClientRects(J,$,Q){if(!J||J.length===0)return null;let X=[];for(let Y=0,Z=J.length;Y<Z;Y++){let G=J[Y];X[Y]=new x$(Math.max(0,(G.left-$)/Q),G.width/Q)}return this._mergeAdjacentRanges(X)}static readHorizontalRanges(J,$,Q,X,Y,Z){let q=J.children.length-1;if(0>q)return null;if($=Math.min(q,Math.max(0,$)),X=Math.min(q,Math.max(0,X)),$===X&&Q===Y&&Q===0&&!J.children[$].firstChild){let j=J.children[$].getClientRects();return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(j,Z.clientRectDeltaLeft,Z.clientRectScale)}if($!==X){if(X>0&&Y===0)X--,Y=1073741824}let U=J.children[$].firstChild,z=J.children[X].firstChild;if(!U||!z){if(!U&&Q===0&&$>0)U=J.children[$-1].firstChild,Q=1073741824;if(!z&&Y===0&&X>0)z=J.children[X-1].firstChild,Y=1073741824}if(!U||!z)return null;Q=Math.min(U.textContent.length,Math.max(0,Q)),Y=Math.min(z.textContent.length,Math.max(0,Y));let H=this._readClientRects(U,Q,z,Y,Z.endNode);return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(H,Z.clientRectDeltaLeft,Z.clientRectScale)}}var ig=E(()=>{n3()});function S4(J){return J===o7.HIGH_CONTRAST_DARK||J===o7.HIGH_CONTRAST_LIGHT}function E2(J){return J===o7.DARK||J===o7.HIGH_CONTRAST_DARK}var o7;var eQ=E(()=>{(function(J){J.DARK="dark",J.LIGHT="light",J.HIGH_CONTRAST_DARK="hcDark",J.HIGH_CONTRAST_LIGHT="hcLight"})(o7||(o7={}))});class IK{constructor(J,$){this.themeType=$;let Q=J.options,X=Q.get(50);if(Q.get(38)==="off")this.renderWhitespace=Q.get(98);else this.renderWhitespace="none";this.renderControlCharacters=Q.get(93),this.spaceWidth=X.spaceWidth,this.middotWidth=X.middotWidth,this.wsmiddotWidth=X.wsmiddotWidth,this.useMonospaceOptimizations=X.isMonospace&&!Q.get(33),this.canUseHalfwidthRightwardsArrow=X.canUseHalfwidthRightwardsArrow,this.lineHeight=Q.get(66),this.stopRenderingLineAfter=Q.get(116),this.fontLigatures=Q.get(51)}equals(J){return this.themeType===J.themeType&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.fontLigatures===J.fontLigatures}}class t7{constructor(J){this._options=J,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){if(this._renderedViewLine&&this._renderedViewLine.domNode)return this._renderedViewLine.domNode.domNode;return null}setDomNode(J){if(this._renderedViewLine)this._renderedViewLine.domNode=q1(J);else throw Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(J){this._isMaybeInvalid=!0,this._options=J}onSelectionChanged(){if(S4(this._options.themeType)||this._options.renderWhitespace==="selection")return this._isMaybeInvalid=!0,!0;return!1}renderLine(J,$,Q,X){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;let Y=Q.getViewLineRenderingData(J),Z=this._options,G=r7.filter(Y.inlineDecorations,J,Y.minColumn,Y.maxColumn),q=null;if(S4(Z.themeType)||this._options.renderWhitespace==="selection"){let j=Q.selections;for(let B of j){if(B.endLineNumber<J||B.startLineNumber>J)continue;let V=B.startLineNumber===J?B.startColumn:Y.minColumn,W=B.endLineNumber===J?B.endColumn:Y.maxColumn;if(V<W){if(S4(Z.themeType))G.push(new r7(V,W,"inline-selected-text",0));if(this._options.renderWhitespace==="selection"){if(!q)q=[];q.push(new UH(V-1,W-1))}}}}let U=new PJ(Z.useMonospaceOptimizations,Z.canUseHalfwidthRightwardsArrow,Y.content,Y.continuesWithWrappedLine,Y.isBasicASCII,Y.containsRTL,Y.minColumn-1,Y.tokens,G,Y.tabSize,Y.startVisibleColumn,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,Z.stopRenderingLineAfter,Z.renderWhitespace,Z.renderControlCharacters,Z.fontLigatures!==X7.OFF,q);if(this._renderedViewLine&&this._renderedViewLine.input.equals(U))return!1;X.appendString('<div style="top:'),X.appendString(String($)),X.appendString("px;height:"),X.appendString(String(this._options.lineHeight)),X.appendString('px;" class="'),X.appendString(t7.CLASS_NAME),X.appendString('">');let z=zH(U,X);X.appendString("</div>");let H=null;if(t3&&c80&&Y.isBasicASCII&&Z.useMonospaceOptimizations&&z.containsForeignElements===0)H=new OH(this._renderedViewLine?this._renderedViewLine.domNode:null,U,z.characterMapping);if(!H)H=og(this._renderedViewLine?this._renderedViewLine.domNode:null,U,z.characterMapping,z.containsRTL,z.containsForeignElements);return this._renderedViewLine=H,!0}layoutLine(J,$){if(this._renderedViewLine&&this._renderedViewLine.domNode)this._renderedViewLine.domNode.setTop($),this._renderedViewLine.domNode.setHeight(this._options.lineHeight)}getWidth(J){if(!this._renderedViewLine)return 0;return this._renderedViewLine.getWidth(J)}getWidthIsFast(){if(!this._renderedViewLine)return!0;return this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){if(!this._renderedViewLine)return!1;return this._renderedViewLine instanceof OH}monospaceAssumptionsAreValid(){if(!this._renderedViewLine)return t3;if(this._renderedViewLine instanceof OH)return this._renderedViewLine.monospaceAssumptionsAreValid();return t3}onMonospaceAssumptionsInvalidated(){if(this._renderedViewLine&&this._renderedViewLine instanceof OH)this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine()}getVisibleRangesForRange(J,$,Q,X){if(!this._renderedViewLine)return null;$=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,$)),Q=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,Q));let Y=this._renderedViewLine.input.stopRenderingLineAfter;if(Y!==-1&&$>Y+1&&Q>Y+1)return new EK(!0,[new x$(this.getWidth(X),0)]);if(Y!==-1&&$>Y+1)$=Y+1;if(Y!==-1&&Q>Y+1)Q=Y+1;let Z=this._renderedViewLine.getVisibleRangesForRange(J,$,Q,X);if(Z&&Z.length>0)return new EK(!1,Z);return null}getColumnOfNodeOffset(J,$){if(!this._renderedViewLine)return 1;return this._renderedViewLine.getColumnOfNodeOffset(J,$)}}class OH{constructor(J,$,Q){this._cachedWidth=-1,this.domNode=J,this.input=$;let X=Math.floor($.lineContent.length/300);if(X>0){this._keyColumnPixelOffsetCache=new Float32Array(X);for(let Y=0;Y<X;Y++)this._keyColumnPixelOffsetCache[Y]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=Q,this._charWidth=$.spaceWidth}getWidth(J){if(!this.domNode||this.input.lineContent.length<300){let $=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*$)}if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return t3;if(this.input.lineContent.length<300){let J=this.getWidth(null),$=this.domNode.domNode.firstChild.offsetWidth;if(Math.abs(J-$)>=2)console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),t3=!1}return t3}toSlowRenderedLine(){return og(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(J,$,Q,X){let Y=this._getColumnPixelOffset(J,$,X),Z=this._getColumnPixelOffset(J,Q,X);return[new x$(Y,Z-Y)]}_getColumnPixelOffset(J,$,Q){if($<=300){let U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}let X=Math.floor(($-1)/300)-1,Y=(X+1)*300+1,Z=-1;if(this._keyColumnPixelOffsetCache){if(Z=this._keyColumnPixelOffsetCache[X],Z===-1)Z=this._actualReadPixelOffset(J,Y,Q),this._keyColumnPixelOffsetCache[X]=Z}if(Z===-1){let U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}let G=this._characterMapping.getHorizontalOffset(Y),q=this._characterMapping.getHorizontalOffset($);return Z+this._charWidth*(q-G)}_getReadingTarget(J){return J.domNode.firstChild}_actualReadPixelOffset(J,$,Q){if(!this.domNode)return-1;let X=this._characterMapping.getDomPosition($),Y=o3.readHorizontalRanges(this._getReadingTarget(this.domNode),X.partIndex,X.charIndex,X.partIndex,X.charIndex,Q);if(!Y||Y.length===0)return-1;return Y[0].left}getColumnOfNodeOffset(J,$){return tg(this._characterMapping,J,$)}}class WN{constructor(J,$,Q,X,Y){if(this.domNode=J,this.input=$,this._characterMapping=Q,this._isWhitespaceOnly=/^\s*$/.test($.lineContent),this._containsForeignElements=Y,this._cachedWidth=-1,this._pixelOffsetCache=null,!X||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,G=this._characterMapping.length;Z<=G;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(J){return J.domNode.firstChild}getWidth(J){if(!this.domNode)return 0;if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){if(this._cachedWidth===-1)return!1;return!0}getVisibleRangesForRange(J,$,Q,X){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){let Y=this._readPixelOffset(this.domNode,J,$,X);if(Y===-1)return null;let Z=this._readPixelOffset(this.domNode,J,Q,X);if(Z===-1)return null;return[new x$(Y,Z-Y)]}return this._readVisibleRangesForRange(this.domNode,J,$,Q,X)}_readVisibleRangesForRange(J,$,Q,X,Y){if(Q===X){let Z=this._readPixelOffset(J,$,Q,Y);if(Z===-1)return null;else return[new x$(Z,0)]}else return this._readRawVisibleRangesForRange(J,Q,X,Y)}_readPixelOffset(J,$,Q,X){if(this._characterMapping.length===0){if(this._containsForeignElements===0)return 0;if(this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(X);let Y=this._getReadingTarget(J);if(Y.firstChild)return X.markDidDomLayout(),Y.firstChild.offsetWidth;else return 0}if(this._pixelOffsetCache!==null){let Y=this._pixelOffsetCache[Q];if(Y!==-1)return Y;let Z=this._actualReadPixelOffset(J,$,Q,X);return this._pixelOffsetCache[Q]=Z,Z}return this._actualReadPixelOffset(J,$,Q,X)}_actualReadPixelOffset(J,$,Q,X){if(this._characterMapping.length===0){let q=o3.readHorizontalRanges(this._getReadingTarget(J),0,0,0,0,X);if(!q||q.length===0)return-1;return q[0].left}if(Q===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(X);let Y=this._characterMapping.getDomPosition(Q),Z=o3.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Y.partIndex,Y.charIndex,X);if(!Z||Z.length===0)return-1;let G=Z[0].left;if(this.input.isBasicASCII){let q=this._characterMapping.getHorizontalOffset(Q),U=Math.round(this.input.spaceWidth*q);if(Math.abs(U-G)<=1)return U}return G}_readRawVisibleRangesForRange(J,$,Q,X){if($===1&&Q===this._characterMapping.length)return[new x$(0,this.getWidth(X))];let Y=this._characterMapping.getDomPosition($),Z=this._characterMapping.getDomPosition(Q);return o3.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Z.partIndex,Z.charIndex,X)}getColumnOfNodeOffset(J,$){return tg(this._characterMapping,J,$)}}function l80(J,$,Q,X,Y){return new ng(J,$,Q,X,Y)}function d80(J,$,Q,X,Y){return new WN(J,$,Q,X,Y)}function tg(J,$,Q){let X=$.textContent.length,Y=-1;while($)$=$.previousSibling,Y++;return J.getColumn(new zK(Y,Q),X)}var c80,t3=!0,ng,og;var BN=E(()=>{M7();E1();ig();n3();qK();L3();eQ();U8();c80=function(){if(uX)return!0;if(w6||i5||f7)return!1;return!0}();t7.CLASS_NAME="view-line";ng=class ng extends WN{_readVisibleRangesForRange(J,$,Q,X,Y){let Z=super._readVisibleRangesForRange(J,$,Q,X,Y);if(!Z||Z.length===0||Q===X||Q===1&&X===this._characterMapping.length)return Z;if(!this.input.containsRTL){let G=this._readPixelOffset(J,$,X,Y);if(G!==-1){let q=Z[Z.length-1];if(q.left<G)q.width=G-q.left}}return Z}};og=function(){if(UJ)return l80;return d80}()});class i1{static _nextVisibleColumn(J,$,Q){if(J===9)return i1.nextRenderTabStop($,Q);if(C9(J)||Vz(J))return $+2;return $+1}static visibleColumnFromColumn(J,$,Q){let X=Math.min($-1,J.length),Y=J.substring(0,X),Z=new tG(Y),G=0;while(!Z.eol()){let q=oG(Y,X,Z.offset);Z.nextGraphemeLength(),G=this._nextVisibleColumn(q,G,Q)}return G}static columnFromVisibleColumn(J,$,Q){if($<=0)return 1;let X=J.length,Y=new tG(J),Z=0,G=1;while(!Y.eol()){let q=oG(J,X,Y.offset);Y.nextGraphemeLength();let U=this._nextVisibleColumn(q,Z,Q),z=Y.offset+1;if(U>=$){let H=$-Z;if(U-$<H)return z;else return G}Z=U,G=z}return X+1}static nextRenderTabStop(J,$){return J+$-J%$}static nextIndentTabStop(J,$){return J+$-J%$}static prevRenderTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}static prevIndentTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}}var C4=E(()=>{G1()});class I2{static whitespaceVisibleColumn(J,$,Q){let X=J.length,Y=0,Z=-1,G=-1;for(let q=0;q<X;q++){if(q===$)return[Z,G,Y];if(Y%Q===0)Z=q,G=Y;switch(J.charCodeAt(q)){case 32:Y+=1;break;case 9:Y=i1.nextRenderTabStop(Y,Q);break;default:return[-1,-1,-1]}}if($===X)return[Z,G,Y];return[-1,-1,-1]}static atomicPosition(J,$,Q,X){let Y=J.length,[Z,G,q]=I2.whitespaceVisibleColumn(J,$,Q);if(q===-1)return-1;let U;switch(X){case 0:U=!0;break;case 1:U=!1;break;case 2:if(q%Q===0)return $;U=q%Q<=Q/2;break}if(U){if(Z===-1)return-1;let j=G;for(let B=Z;B<Y;++B){if(j===G+Q)return Z;switch(J.charCodeAt(B)){case 32:j+=1;break;case 9:j=i1.nextRenderTabStop(j,Q);break;default:return-1}}if(j===G+Q)return Z;return-1}let z=i1.nextRenderTabStop(q,Q),H=q;for(let j=$;j<Y;j++){if(H===z)return j;switch(J.charCodeAt(j)){case 32:H+=1;break;case 9:H=i1.nextRenderTabStop(H,Q);break;default:return-1}}if(H===z)return Y;return-1}}var FN=E(()=>{C4()});class JX{constructor(J=null){this.hitTarget=J,this.type=0}}class AN{constructor(J,$,Q){this.position=J,this.spanNode=$,this.injectedText=Q,this.type=1}}class PN{constructor(J,$){this.lastViewCursorsRenderData=J,this.lastTextareaPosition=$}}class B8{static _deduceRage(J,$=null){if(!$&&J)return new v(J.lineNumber,J.column,J.lineNumber,J.column);return $!==null&&$!==void 0?$:null}static createUnknown(J,$,Q){return{type:0,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q)}}static createTextarea(J,$){return{type:1,element:J,mouseColumn:$,position:null,range:null}}static createMargin(J,$,Q,X,Y,Z){return{type:J,element:$,mouseColumn:Q,position:X,range:Y,detail:Z}}static createViewZone(J,$,Q,X,Y){return{type:J,element:$,mouseColumn:Q,position:X,range:this._deduceRage(X),detail:Y}}static createContentText(J,$,Q,X,Y){return{type:6,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q,X),detail:Y}}static createContentEmpty(J,$,Q,X){return{type:7,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q),detail:X}}static createContentWidget(J,$,Q){return{type:9,element:J,mouseColumn:$,position:null,range:null,detail:Q}}static createScrollbar(J,$,Q){return{type:11,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q)}}static createOverlayWidget(J,$,Q){return{type:12,element:J,mouseColumn:$,position:null,range:null,detail:Q}}static createOutsideEditor(J,$,Q,X){return{type:13,element:null,mouseColumn:J,position:$,range:this._deduceRage($),outsidePosition:Q,outsideDistance:X}}static _typeToString(J){if(J===1)return"TEXTAREA";if(J===2)return"GUTTER_GLYPH_MARGIN";if(J===3)return"GUTTER_LINE_NUMBERS";if(J===4)return"GUTTER_LINE_DECORATIONS";if(J===5)return"GUTTER_VIEW_ZONE";if(J===6)return"CONTENT_TEXT";if(J===7)return"CONTENT_EMPTY";if(J===8)return"CONTENT_VIEW_ZONE";if(J===9)return"CONTENT_WIDGET";if(J===10)return"OVERVIEW_RULER";if(J===11)return"SCROLLBAR";if(J===12)return"OVERLAY_WIDGET";return"UNKNOWN"}static toString(J){return this._typeToString(J.type)+": "+J.position+" - "+J.range+" - "+JSON.stringify(J.detail)}}class r8{static isTextArea(J){return J.length===2&&J[0]===3&&J[1]===7}static isChildOfViewLines(J){return J.length>=4&&J[0]===3&&J[3]===8}static isStrictChildOfViewLines(J){return J.length>4&&J[0]===3&&J[3]===8}static isChildOfScrollableElement(J){return J.length>=2&&J[0]===3&&J[1]===6}static isChildOfMinimap(J){return J.length>=2&&J[0]===3&&J[1]===9}static isChildOfContentWidgets(J){return J.length>=4&&J[0]===3&&J[3]===1}static isChildOfOverflowGuard(J){return J.length>=1&&J[0]===3}static isChildOfOverflowingContentWidgets(J){return J.length>=1&&J[0]===2}static isChildOfOverlayWidgets(J){return J.length>=2&&J[0]===3&&J[1]===4}static isChildOfOverflowingOverlayWidgets(J){return J.length>=1&&J[0]===5}}class b2{constructor(J,$,Q){this.viewModel=J.viewModel;let X=J.configuration.options;this.layoutInfo=X.get(143),this.viewDomNode=$.viewDomNode,this.lineHeight=X.get(66),this.stickyTabStops=X.get(115),this.typicalHalfwidthCharacterWidth=X.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=Q,this._context=J,this._viewHelper=$}getZoneAtCoord(J){return b2.getZoneAtCoord(this._context,J)}static getZoneAtCoord(J,$){let Q=J.viewLayout.getWhitespaceAtVerticalOffset($);if(Q){let X=Q.verticalOffset+Q.height/2,Y=J.viewModel.getLineCount(),Z=null,G,q=null;if(Q.afterLineNumber!==Y)q=new s(Q.afterLineNumber+1,1);if(Q.afterLineNumber>0)Z=new s(Q.afterLineNumber,J.viewModel.getLineMaxColumn(Q.afterLineNumber));if(q===null)G=Z;else if(Z===null)G=q;else if($<X)G=Z;else G=q;return{viewZoneId:Q.id,afterLineNumber:Q.afterLineNumber,positionBefore:Z,positionAfter:q,position:G}}return null}getFullLineRangeAtCoord(J){if(this._context.viewLayout.isAfterLines(J)){let X=this._context.viewModel.getLineCount(),Y=this._context.viewModel.getLineMaxColumn(X);return{range:new v(X,Y,X,Y),isAfterLines:!0}}let $=this._context.viewLayout.getLineNumberAtVerticalOffset(J),Q=this._context.viewModel.getLineMaxColumn($);return{range:new v($,1,$,Q),isAfterLines:!1}}getLineNumberAtVerticalOffset(J){return this._context.viewLayout.getLineNumberAtVerticalOffset(J)}isAfterLines(J){return this._context.viewLayout.isAfterLines(J)}isInTopPadding(J){return this._context.viewLayout.isInTopPadding(J)}isInBottomPadding(J){return this._context.viewLayout.isInBottomPadding(J)}getVerticalOffsetForLineNumber(J){return this._context.viewLayout.getVerticalOffsetForLineNumber(J)}findAttribute(J,$){return b2._findAttribute(J,$,this._viewHelper.viewDomNode)}static _findAttribute(J,$,Q){while(J&&J!==J.ownerDocument.body){if(J.hasAttribute&&J.hasAttribute($))return J.getAttribute($);if(J===Q)return null;J=J.parentNode}return null}getLineWidth(J){return this._viewHelper.getLineWidth(J)}visibleRangeForPosition(J,$){return this._viewHelper.visibleRangeForPosition(J,$)}getPositionFromDOMInfo(J,$){return this._viewHelper.getPositionFromDOMInfo(J,$)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Jp{constructor(J,$,Q,X){this.editorPos=$,this.pos=Q,this.relativePos=X,this.mouseVerticalOffset=Math.max(0,J.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=J.getCurrentScrollLeft()+this.relativePos.x-J.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<J.layoutInfo.contentLeft&&this.relativePos.x>=J.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,J8._getMouseColumn(this.mouseContentHorizontalOffset,J.typicalHalfwidthCharacterWidth))}}function KN(J){return{isAfterLines:!1,horizontalDistanceToText:J}}class J8{constructor(J,$){this._context=J,this._viewHelper=$}mouseTargetIsWidget(J){let $=J.target,Q=W8.collect($,this._viewHelper.viewDomNode);if(r8.isChildOfContentWidgets(Q)||r8.isChildOfOverflowingContentWidgets(Q))return!0;if(r8.isChildOfOverlayWidgets(Q)||r8.isChildOfOverflowingOverlayWidgets(Q))return!0;return!1}createMouseTarget(J,$,Q,X,Y){let Z=new b2(this._context,this._viewHelper,J),G=new DN(Z,$,Q,X,Y);try{let q=J8._createMouseTarget(Z,G,!1);if(q.type===6){if(Z.stickyTabStops&&q.position!==null){let U=J8._snapToSoftTabBoundary(q.position,Z.viewModel),z=v.fromPositions(U,U).plusRange(q.range);return G.fulfillContentText(U,z,q.detail)}}return q}catch(q){return G.fulfillUnknown()}}static _createMouseTarget(J,$,Q){if($.target===null){if(Q)return $.fulfillUnknown();let Z=J8._doHitTest(J,$);if(Z.type===1)return J8.createMouseTargetFromHitTestPosition(J,$,Z.spanNode,Z.position,Z.injectedText);return this._createMouseTarget(J,$.withTarget(Z.hitTarget),!0)}let X=$,Y=null;if(!r8.isChildOfOverflowGuard($.targetPath)&&!r8.isChildOfOverflowingContentWidgets($.targetPath)&&!r8.isChildOfOverflowingOverlayWidgets($.targetPath))Y=Y||$.fulfillUnknown();return Y=Y||J8._hitTestContentWidget(J,X),Y=Y||J8._hitTestOverlayWidget(J,X),Y=Y||J8._hitTestMinimap(J,X),Y=Y||J8._hitTestScrollbarSlider(J,X),Y=Y||J8._hitTestViewZone(J,X),Y=Y||J8._hitTestMargin(J,X),Y=Y||J8._hitTestViewCursor(J,X),Y=Y||J8._hitTestTextArea(J,X),Y=Y||J8._hitTestViewLines(J,X,Q),Y=Y||J8._hitTestScrollbar(J,X),Y||$.fulfillUnknown()}static _hitTestContentWidget(J,$){if(r8.isChildOfContentWidgets($.targetPath)||r8.isChildOfOverflowingContentWidgets($.targetPath)){let Q=J.findAttribute($.target,"widgetId");if(Q)return $.fulfillContentWidget(Q);else return $.fulfillUnknown()}return null}static _hitTestOverlayWidget(J,$){if(r8.isChildOfOverlayWidgets($.targetPath)||r8.isChildOfOverflowingOverlayWidgets($.targetPath)){let Q=J.findAttribute($.target,"widgetId");if(Q)return $.fulfillOverlayWidget(Q);else return $.fulfillUnknown()}return null}static _hitTestViewCursor(J,$){if($.target){let Q=J.lastRenderData.lastViewCursorsRenderData;for(let X of Q)if($.target===X.domNode)return $.fulfillContentText(X.position,null,{mightBeForeignElement:!1,injectedText:null})}if($.isInContentArea){let Q=J.lastRenderData.lastViewCursorsRenderData,X=$.mouseContentHorizontalOffset,Y=$.mouseVerticalOffset;for(let Z of Q){if(X<Z.contentLeft)continue;if(X>Z.contentLeft+Z.width)continue;let G=J.getVerticalOffsetForLineNumber(Z.position.lineNumber);if(G<=Y&&Y<=G+Z.height)return $.fulfillContentText(Z.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(J,$){let Q=J.getZoneAtCoord($.mouseVerticalOffset);if(Q){let X=$.isInContentArea?8:5;return $.fulfillViewZone(X,Q.position,Q)}return null}static _hitTestTextArea(J,$){if(r8.isTextArea($.targetPath)){if(J.lastRenderData.lastTextareaPosition)return $.fulfillContentText(J.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null});return $.fulfillTextarea()}return null}static _hitTestMargin(J,$){if($.isInMarginArea){let Q=J.getFullLineRangeAtCoord($.mouseVerticalOffset),X=Q.range.getStartPosition(),Y=Math.abs($.relativePos.x),Z={isAfterLines:Q.isAfterLines,glyphMarginLeft:J.layoutInfo.glyphMarginLeft,glyphMarginWidth:J.layoutInfo.glyphMarginWidth,lineNumbersWidth:J.layoutInfo.lineNumbersWidth,offsetX:Y};if(Y-=J.layoutInfo.glyphMarginLeft,Y<=J.layoutInfo.glyphMarginWidth){let G=J.viewModel.coordinatesConverter.convertViewPositionToModelPosition(Q.range.getStartPosition()),q=J.viewModel.glyphLanes.getLanesAtLine(G.lineNumber);return Z.glyphMarginLane=q[Math.floor(Y/J.lineHeight)],$.fulfillMargin(2,X,Q.range,Z)}if(Y-=J.layoutInfo.glyphMarginWidth,Y<=J.layoutInfo.lineNumbersWidth)return $.fulfillMargin(3,X,Q.range,Z);return Y-=J.layoutInfo.lineNumbersWidth,$.fulfillMargin(4,X,Q.range,Z)}return null}static _hitTestViewLines(J,$,Q){if(!r8.isChildOfViewLines($.targetPath))return null;if(J.isInTopPadding($.mouseVerticalOffset))return $.fulfillContentEmpty(new s(1,1),eg);if(J.isAfterLines($.mouseVerticalOffset)||J.isInBottomPadding($.mouseVerticalOffset)){let Y=J.viewModel.getLineCount(),Z=J.viewModel.getLineMaxColumn(Y);return $.fulfillContentEmpty(new s(Y,Z),eg)}if(Q){if(r8.isStrictChildOfViewLines($.targetPath)){let Y=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset);if(J.viewModel.getLineLength(Y)===0){let G=J.getLineWidth(Y),q=KN($.mouseContentHorizontalOffset-G);return $.fulfillContentEmpty(new s(Y,1),q)}let Z=J.getLineWidth(Y);if($.mouseContentHorizontalOffset>=Z){let G=KN($.mouseContentHorizontalOffset-Z),q=new s(Y,J.viewModel.getLineMaxColumn(Y));return $.fulfillContentEmpty(q,G)}}return $.fulfillUnknown()}let X=J8._doHitTest(J,$);if(X.type===1)return J8.createMouseTargetFromHitTestPosition(J,$,X.spanNode,X.position,X.injectedText);return this._createMouseTarget(J,$.withTarget(X.hitTarget),!0)}static _hitTestMinimap(J,$){if(r8.isChildOfMinimap($.targetPath)){let Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),X=J.viewModel.getLineMaxColumn(Q);return $.fulfillScrollbar(new s(Q,X))}return null}static _hitTestScrollbarSlider(J,$){if(r8.isChildOfScrollableElement($.targetPath)){if($.target&&$.target.nodeType===1){let Q=$.target.className;if(Q&&/\b(slider|scrollbar)\b/.test(Q)){let X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Y=J.viewModel.getLineMaxColumn(X);return $.fulfillScrollbar(new s(X,Y))}}}return null}static _hitTestScrollbar(J,$){if(r8.isChildOfScrollableElement($.targetPath)){let Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),X=J.viewModel.getLineMaxColumn(Q);return $.fulfillScrollbar(new s(Q,X))}return null}getMouseColumn(J){let $=this._context.configuration.options,Q=$.get(143),X=this._context.viewLayout.getCurrentScrollLeft()+J.x-Q.contentLeft;return J8._getMouseColumn(X,$.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(J,$){if(J<0)return 1;return Math.round(J/$)+1}static createMouseTargetFromHitTestPosition(J,$,Q,X,Y){let{lineNumber:Z,column:G}=X,q=J.getLineWidth(Z);if($.mouseContentHorizontalOffset>q){let A=KN($.mouseContentHorizontalOffset-q);return $.fulfillContentEmpty(X,A)}let U=J.visibleRangeForPosition(Z,G);if(!U)return $.fulfillUnknown(X);let z=U.left;if(Math.abs($.mouseContentHorizontalOffset-z)<1)return $.fulfillContentText(X,null,{mightBeForeignElement:!!Y,injectedText:Y});let H=[];if(H.push({offset:U.left,column:G}),G>1){let A=J.visibleRangeForPosition(Z,G-1);if(A)H.push({offset:A.left,column:G-1})}let j=J.viewModel.getLineMaxColumn(Z);if(G<j){let A=J.visibleRangeForPosition(Z,G+1);if(A)H.push({offset:A.left,column:G+1})}H.sort((A,F)=>A.offset-F.offset);let B=$.pos.toClientCoordinates(L0(J.viewDomNode)),V=Q.getBoundingClientRect(),W=V.left<=B.clientX&&B.clientX<=V.right,K=null;for(let A=1;A<H.length;A++){let F=H[A-1],P=H[A];if(F.offset<=$.mouseContentHorizontalOffset&&$.mouseContentHorizontalOffset<=P.offset){K=new v(Z,F.column,Z,P.column);let R=Math.abs(F.offset-$.mouseContentHorizontalOffset),D=Math.abs(P.offset-$.mouseContentHorizontalOffset);X=R<D?new s(Z,F.column):new s(Z,P.column);break}}return $.fulfillContentText(X,K,{mightBeForeignElement:!W||!!Y,injectedText:Y})}static _doHitTestWithCaretRangeFromPoint(J,$){let Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),X=J.getVerticalOffsetForLineNumber(Q),Y=X+J.lineHeight;if(!(Q===J.viewModel.getLineCount()&&$.mouseVerticalOffset>Y)){let G=Math.floor((X+Y)/2),q=$.pos.y+(G-$.mouseVerticalOffset);if(q<=$.editorPos.y)q=$.editorPos.y+1;if(q>=$.editorPos.y+$.editorPos.height)q=$.editorPos.y+$.editorPos.height-1;let U=new k2($.pos.x,q),z=this._actualDoHitTestWithCaretRangeFromPoint(J,U.toClientCoordinates(L0(J.viewDomNode)));if(z.type===1)return z}return this._actualDoHitTestWithCaretRangeFromPoint(J,$.pos.toClientCoordinates(L0(J.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(J,$){let Q=CQ(J.viewDomNode),X;if(Q)if(typeof Q.caretRangeFromPoint>"u")X=s80(Q,$.clientX,$.clientY);else X=Q.caretRangeFromPoint($.clientX,$.clientY);else X=J.viewDomNode.ownerDocument.caretRangeFromPoint($.clientX,$.clientY);if(!X||!X.startContainer)return new JX;let Y=X.startContainer;if(Y.nodeType===Y.TEXT_NODE){let Z=Y.parentNode,G=Z?Z.parentNode:null,q=G?G.parentNode:null;if((q&&q.nodeType===q.ELEMENT_NODE?q.className:null)===t7.CLASS_NAME)return y2.createFromDOMInfo(J,Z,X.startOffset);else return new JX(Y.parentNode)}else if(Y.nodeType===Y.ELEMENT_NODE){let Z=Y.parentNode,G=Z?Z.parentNode:null;if((G&&G.nodeType===G.ELEMENT_NODE?G.className:null)===t7.CLASS_NAME)return y2.createFromDOMInfo(J,Y,Y.textContent.length);else return new JX(Y)}return new JX}static _doHitTestWithCaretPositionFromPoint(J,$){let Q=J.viewDomNode.ownerDocument.caretPositionFromPoint($.clientX,$.clientY);if(Q.offsetNode.nodeType===Q.offsetNode.TEXT_NODE){let X=Q.offsetNode.parentNode,Y=X?X.parentNode:null,Z=Y?Y.parentNode:null;if((Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null)===t7.CLASS_NAME)return y2.createFromDOMInfo(J,Q.offsetNode.parentNode,Q.offset);else return new JX(Q.offsetNode.parentNode)}if(Q.offsetNode.nodeType===Q.offsetNode.ELEMENT_NODE){let X=Q.offsetNode.parentNode,Y=X&&X.nodeType===X.ELEMENT_NODE?X.className:null,Z=X?X.parentNode:null,G=Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null;if(Y===t7.CLASS_NAME){let q=Q.offsetNode.childNodes[Math.min(Q.offset,Q.offsetNode.childNodes.length-1)];if(q)return y2.createFromDOMInfo(J,q,0)}else if(G===t7.CLASS_NAME)return y2.createFromDOMInfo(J,Q.offsetNode,0)}return new JX(Q.offsetNode)}static _snapToSoftTabBoundary(J,$){let Q=$.getLineContent(J.lineNumber),{tabSize:X}=$.model.getOptions(),Y=I2.atomicPosition(Q,J.column-1,X,2);if(Y!==-1)return new s(J.lineNumber,Y+1);return J}static _doHitTest(J,$){let Q=new JX;if(typeof J.viewDomNode.ownerDocument.caretRangeFromPoint==="function")Q=this._doHitTestWithCaretRangeFromPoint(J,$);else if(J.viewDomNode.ownerDocument.caretPositionFromPoint)Q=this._doHitTestWithCaretPositionFromPoint(J,$.pos.toClientCoordinates(L0(J.viewDomNode)));if(Q.type===1){let X=J.viewModel.getInjectedTextAt(Q.position),Y=J.viewModel.normalizePosition(Q.position,2);if(X||!Y.equals(Q.position))Q=new AN(Y,Q.spanNode,X)}return Q}}function s80(J,$,Q){let X=document.createRange(),Y=J.elementFromPoint($,Q);if(Y!==null){while(Y&&Y.firstChild&&Y.firstChild.nodeType!==Y.firstChild.TEXT_NODE&&Y.lastChild&&Y.lastChild.firstChild)Y=Y.lastChild;let Z=Y.getBoundingClientRect(),G=L0(Y),q=G.getComputedStyle(Y,null).getPropertyValue("font-style"),U=G.getComputedStyle(Y,null).getPropertyValue("font-variant"),z=G.getComputedStyle(Y,null).getPropertyValue("font-weight"),H=G.getComputedStyle(Y,null).getPropertyValue("font-size"),j=G.getComputedStyle(Y,null).getPropertyValue("line-height"),B=G.getComputedStyle(Y,null).getPropertyValue("font-family"),V=`${q} ${U} ${z} ${H}/${j} ${B}`,W=Y.innerText,K=Z.left,A=0,F;if($>Z.left+Z.width)A=W.length;else{let P=x2.getInstance();for(let R=0;R<W.length+1;R++){if(F=P.getCharWidth(W.charAt(R),V)/2,K+=F,$<K){A=R;break}K+=F}}X.setStart(Y.firstChild,A),X.setEnd(Y.firstChild,A)}return X}class x2{static getInstance(){if(!x2._INSTANCE)x2._INSTANCE=new x2;return x2._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(J,$){let Q=J+$;if(this._cache[Q])return this._cache[Q];let X=this._canvas.getContext("2d");X.font=$;let Z=X.measureText(J).width;return this._cache[Q]=Z,Z}}var y2,DN,eg;var RN=E(()=>{kK();a8();BN();e0();C4();x0();FN();(function(J){function $(Q,X,Y){let Z=Q.getPositionFromDOMInfo(X,Y);if(Z)return new AN(Z,X,null);return new JX(X)}J.createFromDOMInfo=$})(y2||(y2={}));DN=class DN extends Jp{constructor(J,$,Q,X,Y){super(J,$,Q,X);if(this._ctx=J,Y)this.target=Y,this.targetPath=W8.collect(Y,J.viewDomNode);else this.target=null,this.targetPath=new Uint8Array(0)}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(J=null){if(J&&J.column<this._ctx.viewModel.getLineMaxColumn(J.lineNumber))return i1.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(J.lineNumber),J.column,this._ctx.viewModel.model.getOptions().tabSize)+1;return this.mouseColumn}fulfillUnknown(J=null){return B8.createUnknown(this.target,this._getMouseColumn(J),J)}fulfillTextarea(){return B8.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(J,$,Q,X){return B8.createMargin(J,this.target,this._getMouseColumn($),$,Q,X)}fulfillViewZone(J,$,Q){return B8.createViewZone(J,this.target,this._getMouseColumn($),$,Q)}fulfillContentText(J,$,Q){return B8.createContentText(this.target,this._getMouseColumn(J),J,$,Q)}fulfillContentEmpty(J,$){return B8.createContentEmpty(this.target,this._getMouseColumn(J),J,$)}fulfillContentWidget(J){return B8.createContentWidget(this.target,this._getMouseColumn(),J)}fulfillScrollbar(J){return B8.createScrollbar(this.target,this._getMouseColumn(J),J)}fulfillOverlayWidget(J){return B8.createOverlayWidget(this.target,this._getMouseColumn(),J)}withTarget(J){return new DN(this._ctx,this.editorPos,this.pos,this.relativePos,J)}};eg={isAfterLines:!0};x2._INSTANCE=null});function F6(J,$,Q){let X=null,Y=null;if(typeof Q.value==="function"){if(X="value",Y=Q.value,Y.length!==0)console.warn("Memoize should only be used in functions with zero parameters")}else if(typeof Q.get==="function")X="get",Y=Q.get;if(!Y)throw Error("not supported");let Z=`$memoize$${$}`;Q[X]=function(...G){if(!this.hasOwnProperty(Z))Object.defineProperty(this,Z,{configurable:!1,enumerable:!1,writable:!1,value:Y.apply(this,G)});return this[Z]}}var a80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},f1,b1;var J4=E(()=>{x0();H8();B1();E0();B0();S9();(function(J){J.Tap="-monaco-gesturetap",J.Change="-monaco-gesturechange",J.Start="-monaco-gesturestart",J.End="-monaco-gesturesend",J.Contextmenu="-monaco-gesturecontextmenu"})(f1||(f1={}));b1=class b1 extends r{constructor(){super();this.dispatched=!1,this.targets=new l6,this.ignoreTargets=new l6,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(V0.runAndSubscribe(J2,({window:J,disposables:$})=>{$.add(t(J.document,"touchstart",(Q)=>this.onTouchStart(Q),{passive:!1})),$.add(t(J.document,"touchend",(Q)=>this.onTouchEnd(J,Q))),$.add(t(J.document,"touchmove",(Q)=>this.onTouchMove(Q),{passive:!1}))},{window:F1,disposables:this._store}))}static addTarget(J){if(!b1.isTouchDevice())return r.None;if(!b1.INSTANCE)b1.INSTANCE=SZ(new b1);let $=b1.INSTANCE.targets.push(J);return y0($)}static ignoreTarget(J){if(!b1.isTouchDevice())return r.None;if(!b1.INSTANCE)b1.INSTANCE=SZ(new b1);let $=b1.INSTANCE.ignoreTargets.push(J);return y0($)}static isTouchDevice(){return"ontouchstart"in F1||navigator.maxTouchPoints>0}dispose(){if(this.handle)this.handle.dispose(),this.handle=null;super.dispose()}onTouchStart(J){let $=Date.now();if(this.handle)this.handle.dispose(),this.handle=null;for(let Q=0,X=J.targetTouches.length;Q<X;Q++){let Y=J.targetTouches.item(Q);this.activeTouches[Y.identifier]={id:Y.identifier,initialTarget:Y.target,initialTimeStamp:$,initialPageX:Y.pageX,initialPageY:Y.pageY,rollingTimestamps:[$],rollingPageX:[Y.pageX],rollingPageY:[Y.pageY]};let Z=this.newGestureEvent(f1.Start,Y.target);Z.pageX=Y.pageX,Z.pageY=Y.pageY,this.dispatchEvent(Z)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}onTouchEnd(J,$){let Q=Date.now(),X=Object.keys(this.activeTouches).length;for(let Y=0,Z=$.changedTouches.length;Y<Z;Y++){let G=$.changedTouches.item(Y);if(!this.activeTouches.hasOwnProperty(String(G.identifier))){console.warn("move of an UNKNOWN touch",G);continue}let q=this.activeTouches[G.identifier],U=Date.now()-q.initialTimeStamp;if(U<b1.HOLD_DELAY&&Math.abs(q.initialPageX-G9(q.rollingPageX))<30&&Math.abs(q.initialPageY-G9(q.rollingPageY))<30){let z=this.newGestureEvent(f1.Tap,q.initialTarget);z.pageX=G9(q.rollingPageX),z.pageY=G9(q.rollingPageY),this.dispatchEvent(z)}else if(U>=b1.HOLD_DELAY&&Math.abs(q.initialPageX-G9(q.rollingPageX))<30&&Math.abs(q.initialPageY-G9(q.rollingPageY))<30){let z=this.newGestureEvent(f1.Contextmenu,q.initialTarget);z.pageX=G9(q.rollingPageX),z.pageY=G9(q.rollingPageY),this.dispatchEvent(z)}else if(X===1){let z=G9(q.rollingPageX),H=G9(q.rollingPageY),j=G9(q.rollingTimestamps)-q.rollingTimestamps[0],B=z-q.rollingPageX[0],V=H-q.rollingPageY[0],W=[...this.targets].filter((K)=>q.initialTarget instanceof Node&&K.contains(q.initialTarget));this.inertia(J,W,Q,Math.abs(B)/j,B>0?1:-1,z,Math.abs(V)/j,V>0?1:-1,H)}this.dispatchEvent(this.newGestureEvent(f1.End,q.initialTarget)),delete this.activeTouches[G.identifier]}if(this.dispatched)$.preventDefault(),$.stopPropagation(),this.dispatched=!1}newGestureEvent(J,$){let Q=document.createEvent("CustomEvent");return Q.initEvent(J,!1,!0),Q.initialTarget=$,Q.tapCount=0,Q}dispatchEvent(J){if(J.type===f1.Tap){let $=new Date().getTime(),Q=0;if($-this._lastSetTapCountTime>b1.CLEAR_TAP_COUNT_TIME)Q=1;else Q=2;this._lastSetTapCountTime=$,J.tapCount=Q}else if(J.type===f1.Change||J.type===f1.Contextmenu)this._lastSetTapCountTime=0;if(J.initialTarget instanceof Node){for(let $ of this.ignoreTargets)if($.contains(J.initialTarget))return;for(let $ of this.targets)if($.contains(J.initialTarget))$.dispatchEvent(J),this.dispatched=!0}}inertia(J,$,Q,X,Y,Z,G,q,U){this.handle=y5(J,()=>{let z=Date.now(),H=z-Q,j=0,B=0,V=!0;if(X+=b1.SCROLL_FRICTION*H,G+=b1.SCROLL_FRICTION*H,X>0)V=!1,j=Y*X*H;if(G>0)V=!1,B=q*G*H;let W=this.newGestureEvent(f1.Change);if(W.translationX=j,W.translationY=B,$.forEach((K)=>K.dispatchEvent(W)),!V)this.inertia(J,$,z,X,Y,Z+j,G,q,U+B)})}onTouchMove(J){let $=Date.now();for(let Q=0,X=J.changedTouches.length;Q<X;Q++){let Y=J.changedTouches.item(Q);if(!this.activeTouches.hasOwnProperty(String(Y.identifier))){console.warn("end of an UNKNOWN touch",Y);continue}let Z=this.activeTouches[Y.identifier],G=this.newGestureEvent(f1.Change,Z.initialTarget);if(G.translationX=Y.pageX-G9(Z.rollingPageX),G.translationY=Y.pageY-G9(Z.rollingPageY),G.pageX=Y.pageX,G.pageY=Y.pageY,this.dispatchEvent(G),Z.rollingPageX.length>3)Z.rollingPageX.shift(),Z.rollingPageY.shift(),Z.rollingTimestamps.shift();Z.rollingPageX.push(Y.pageX),Z.rollingPageY.push(Y.pageY),Z.rollingTimestamps.push($)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}};b1.SCROLL_FRICTION=-0.005;b1.HOLD_DELAY=700;b1.CLEAR_TAP_COUNT_TIME=400;a80([F6],b1,"isTouchDevice",null)});var F8;var b$=E(()=>{x0();k8();h9();J4();B0();F8=class F8 extends r{onclick(J,$){this._register(t(J,W0.CLICK,(Q)=>$(new j8(L0(J),Q))))}onmousedown(J,$){this._register(t(J,W0.MOUSE_DOWN,(Q)=>$(new j8(L0(J),Q))))}onmouseover(J,$){this._register(t(J,W0.MOUSE_OVER,(Q)=>$(new j8(L0(J),Q))))}onmouseleave(J,$){this._register(t(J,W0.MOUSE_LEAVE,(Q)=>$(new j8(L0(J),Q))))}onkeydown(J,$){this._register(t(J,W0.KEY_DOWN,(Q)=>$(new _1(Q))))}onkeyup(J,$){this._register(t(J,W0.KEY_UP,(Q)=>$(new _1(Q))))}oninput(J,$){this._register(t(J,W0.INPUT,$))}onblur(J,$){this._register(t(J,W0.BLUR,$))}onfocus(J,$){this._register(t(J,W0.FOCUS,$))}ignoreGesture(J){return b1.ignoreTarget(J)}}});var OY=11,MN;var yK=E(()=>{KH();b$();J6();N5();x0();MN=class MN extends F8{constructor(J){super();if(this._onActivate=J.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=J.bgWidth+"px",this.bgDomNode.style.height=J.bgHeight+"px",typeof J.top<"u")this.bgDomNode.style.top="0px";if(typeof J.left<"u")this.bgDomNode.style.left="0px";if(typeof J.bottom<"u")this.bgDomNode.style.bottom="0px";if(typeof J.right<"u")this.bgDomNode.style.right="0px";if(this.domNode=document.createElement("div"),this.domNode.className=J.className,this.domNode.classList.add(...c0.asClassNameArray(J.icon)),this.domNode.style.position="absolute",this.domNode.style.width=OY+"px",this.domNode.style.height=OY+"px",typeof J.top<"u")this.domNode.style.top=J.top+"px";if(typeof J.left<"u")this.domNode.style.left=J.left+"px";if(typeof J.bottom<"u")this.domNode.style.bottom=J.bottom+"px";if(typeof J.right<"u")this.domNode.style.right=J.right+"px";this._pointerMoveMonitor=this._register(new rQ),this._register(q6(this.bgDomNode,W0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._register(q6(this.domNode,W0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._pointerdownRepeatTimer=this._register(new $2),this._pointerdownScheduleRepeatTimer=this._register(new E8)}_arrowPointerDown(J){if(!J.target||!(J.target instanceof Element))return;let $=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664,L0(J))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet($,200),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Q)=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),J.preventDefault()}}});var ON;var $p=E(()=>{J6();B0();ON=class ON extends r{constructor(J,$,Q){super();this._visibility=J,this._visibleClassName=$,this._invisibleClassName=Q,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new E8)}setVisibility(J){if(this._visibility!==J)this._visibility=J,this._updateShouldBeVisible()}setShouldBeVisible(J){this._rawShouldBeVisible=J,this._updateShouldBeVisible()}_applyVisibilitySetting(){if(this._visibility===2)return!1;if(this._visibility===3)return!0;return this._rawShouldBeVisible}_updateShouldBeVisible(){let J=this._applyVisibilitySetting();if(this._shouldBeVisible!==J)this._shouldBeVisible=J,this.ensureVisibility()}setIsNeeded(J){if(this._isNeeded!==J)this._isNeeded=J,this.ensureVisibility()}setDomNode(J){this._domNode=J,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}if(this._shouldBeVisible)this._reveal();else this._hide(!0)}_reveal(){if(this._isVisible)return;this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var J;(J=this._domNode)===null||J===void 0||J.setClassName(this._visibleClassName)},0)}_hide(J){var $;if(this._revealTimer.cancel(),!this._isVisible)return;this._isVisible=!1,($=this._domNode)===null||$===void 0||$.setClassName(this._invisibleClassName+(J?" fade":""))}}});var r80=140,_H;var _N=E(()=>{x0();KH();yK();$p();b$();E1();_H=class _H extends F8{constructor(J){super();this._lazyRender=J.lazyRender,this._host=J.host,this._scrollable=J.scrollable,this._scrollByPage=J.scrollByPage,this._scrollbarState=J.scrollbarState,this._visibilityController=this._register(new ON(J.visibility,"visible scrollbar "+J.extraScrollbarClassName,"invisible scrollbar "+J.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new rQ),this._shouldRender=!0,this.domNode=q1(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(t(this.domNode.domNode,W0.POINTER_DOWN,($)=>this._domNodePointerDown($)))}_createArrow(J){let $=this._register(new MN(J));this.domNode.domNode.appendChild($.bgDomNode),this.domNode.domNode.appendChild($.domNode)}_createSlider(J,$,Q,X){if(this.slider=q1(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(J),this.slider.setLeft($),typeof Q==="number")this.slider.setWidth(Q);if(typeof X==="number")this.slider.setHeight(X);this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(t(this.slider.domNode,W0.POINTER_DOWN,(Y)=>{if(Y.button===0)Y.preventDefault(),this._sliderPointerDown(Y)})),this.onclick(this.slider.domNode,(Y)=>{if(Y.leftButton)Y.stopPropagation()})}_onElementSize(J){if(this._scrollbarState.setVisibleSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollSize(J){if(this._scrollbarState.setScrollSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollPosition(J){if(this._scrollbarState.setScrollPosition(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){if(!this._shouldRender)return;this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition())}_domNodePointerDown(J){if(J.target!==this.domNode.domNode)return;this._onPointerDown(J)}delegatePointerDown(J){let $=this.domNode.domNode.getClientRects()[0].top,Q=$+this._scrollbarState.getSliderPosition(),X=$+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Y=this._sliderPointerPosition(J);if(Q<=Y&&Y<=X){if(J.button===0)J.preventDefault(),this._sliderPointerDown(J)}else this._onPointerDown(J)}_onPointerDown(J){let $,Q;if(J.target===this.domNode.domNode&&typeof J.offsetX==="number"&&typeof J.offsetY==="number")$=J.offsetX,Q=J.offsetY;else{let Y=x5(this.domNode.domNode);$=J.pageX-Y.left,Q=J.pageY-Y.top}let X=this._pointerDownRelativePosition($,Q);if(this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(X):this._scrollbarState.getDesiredScrollPositionFromOffset(X)),J.button===0)J.preventDefault(),this._sliderPointerDown(J)}_sliderPointerDown(J){if(!J.target||!(J.target instanceof Element))return;let $=this._sliderPointerPosition(J),Q=this._sliderOrthogonalPointerPosition(J),X=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Y)=>{let Z=this._sliderOrthogonalPointerPosition(Y),G=Math.abs(Z-Q);if(c6&&G>r80){this._setDesiredScrollPositionNow(X.getScrollPosition());return}let U=this._sliderPointerPosition(Y)-$;this._setDesiredScrollPositionNow(X.getDesiredScrollPositionFromDelta(U))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(J){let $={};this.writeScrollPosition($,J),this._scrollable.setScrollPositionNow($)}updateScrollbarSize(J){if(this._updateScrollbarSize(J),this._scrollbarState.setScrollbarSize(J),this._shouldRender=!0,!this._lazyRender)this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}});class $X{constructor(J,$,Q,X,Y,Z){this._scrollbarSize=Math.round($),this._oppositeScrollbarSize=Math.round(Q),this._arrowSize=Math.round(J),this._visibleSize=X,this._scrollSize=Y,this._scrollPosition=Z,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new $X(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(J){let $=Math.round(J);if(this._visibleSize!==$)return this._visibleSize=$,this._refreshComputedValues(),!0;return!1}setScrollSize(J){let $=Math.round(J);if(this._scrollSize!==$)return this._scrollSize=$,this._refreshComputedValues(),!0;return!1}setScrollPosition(J){let $=Math.round(J);if(this._scrollPosition!==$)return this._scrollPosition=$,this._refreshComputedValues(),!0;return!1}setScrollbarSize(J){this._scrollbarSize=Math.round(J)}setOppositeScrollbarSize(J){this._oppositeScrollbarSize=Math.round(J)}static _computeValues(J,$,Q,X,Y){let Z=Math.max(0,Q-J),G=Math.max(0,Z-2*$),q=X>0&&X>Q;if(!q)return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(G),computedSliderRatio:0,computedSliderPosition:0};let U=Math.round(Math.max(20,Math.floor(Q*G/X))),z=(G-U)/(X-Q),H=Y*z;return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(U),computedSliderRatio:z,computedSliderPosition:Math.round(H)}}_refreshComputedValues(){let J=$X._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=J.computedAvailableSize,this._computedIsNeeded=J.computedIsNeeded,this._computedSliderSize=J.computedSliderSize,this._computedSliderRatio=J.computedSliderRatio,this._computedSliderPosition=J.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(J){if(!this._computedIsNeeded)return 0;let $=J-this._arrowSize-this._computedSliderSize/2;return Math.round($/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(J){if(!this._computedIsNeeded)return 0;let $=J-this._arrowSize,Q=this._scrollPosition;if($<this._computedSliderPosition)Q-=this._visibleSize;else Q+=this._visibleSize;return Q}getDesiredScrollPositionFromDelta(J){if(!this._computedIsNeeded)return 0;let $=this._computedSliderPosition+J;return Math.round($/this._computedSliderRatio)}}var NN;var Qp=E(()=>{h9();_N();yK();O5();NN=class NN extends _H{constructor(J,$,Q){let X=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:Q,scrollbarState:new $X($.horizontalHasArrows?$.arrowSize:0,$.horizontal===2?0:$.horizontalScrollbarSize,$.vertical===2?0:$.verticalScrollbarSize,X.width,X.scrollWidth,Y.scrollLeft),visibility:$.horizontal,extraScrollbarClassName:"horizontal",scrollable:J,scrollByPage:$.scrollByPage});if($.horizontalHasArrows){let Z=($.arrowSize-OY)/2,G=($.horizontalScrollbarSize-OY)/2;this._createArrow({className:"scra",icon:O0.scrollbarButtonLeft,top:G,left:Z,bottom:void 0,right:void 0,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new N4(null,1,0))}),this._createArrow({className:"scra",icon:O0.scrollbarButtonRight,top:G,left:void 0,bottom:void 0,right:Z,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new N4(null,-1,0))})}this._createSlider(Math.floor(($.horizontalScrollbarSize-$.horizontalSliderSize)/2),0,void 0,$.horizontalSliderSize)}_updateSlider(J,$){this.slider.setWidth(J),this.slider.setLeft($)}_renderDomNode(J,$){this.domNode.setWidth(J),this.domNode.setHeight($),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(J.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return J}_sliderPointerPosition(J){return J.pageX}_sliderOrthogonalPointerPosition(J){return J.pageY}_updateScrollbarSize(J){this.slider.setHeight(J)}writeScrollPosition(J,$){J.scrollLeft=$}updateOptions(J){this.updateScrollbarSize(J.horizontal===2?0:J.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._visibilityController.setVisibility(J.horizontal),this._scrollByPage=J.scrollByPage}}});var TN;var Xp=E(()=>{h9();_N();yK();O5();TN=class TN extends _H{constructor(J,$,Q){let X=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:Q,scrollbarState:new $X($.verticalHasArrows?$.arrowSize:0,$.vertical===2?0:$.verticalScrollbarSize,0,X.height,X.scrollHeight,Y.scrollTop),visibility:$.vertical,extraScrollbarClassName:"vertical",scrollable:J,scrollByPage:$.scrollByPage});if($.verticalHasArrows){let Z=($.arrowSize-OY)/2,G=($.verticalScrollbarSize-OY)/2;this._createArrow({className:"scra",icon:O0.scrollbarButtonUp,top:Z,left:G,bottom:void 0,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new N4(null,0,1))}),this._createArrow({className:"scra",icon:O0.scrollbarButtonDown,top:void 0,left:G,bottom:Z,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new N4(null,0,-1))})}this._createSlider(0,Math.floor(($.verticalScrollbarSize-$.verticalSliderSize)/2),$.verticalSliderSize,void 0)}_updateSlider(J,$){this.slider.setHeight(J),this.slider.setTop($)}_renderDomNode(J,$){this.domNode.setWidth($),this.domNode.setHeight(J),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(J.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return $}_sliderPointerPosition(J){return J.pageY}_sliderOrthogonalPointerPosition(J){return J.pageX}_updateScrollbarSize(J){this.slider.setWidth(J)}writeScrollPosition(J,$){J.scrollTop=$}updateOptions(J){this.updateScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(J.vertical),this._scrollByPage=J.scrollByPage}}});class xK{constructor(J,$,Q,X,Y,Z,G){if(this._forceIntegerValues=J,this._scrollStateBrand=void 0,this._forceIntegerValues)$=$|0,Q=Q|0,X=X|0,Y=Y|0,Z=Z|0,G=G|0;if(this.rawScrollLeft=X,this.rawScrollTop=G,$<0)$=0;if(X+$>Q)X=Q-$;if(X<0)X=0;if(Y<0)Y=0;if(G+Y>Z)G=Z-Y;if(G<0)G=0;this.width=$,this.scrollWidth=Q,this.scrollLeft=X,this.height=Y,this.scrollHeight=Z,this.scrollTop=G}equals(J){return this.rawScrollLeft===J.rawScrollLeft&&this.rawScrollTop===J.rawScrollTop&&this.width===J.width&&this.scrollWidth===J.scrollWidth&&this.scrollLeft===J.scrollLeft&&this.height===J.height&&this.scrollHeight===J.scrollHeight&&this.scrollTop===J.scrollTop}withScrollDimensions(J,$){return new xK(this._forceIntegerValues,typeof J.width<"u"?J.width:this.width,typeof J.scrollWidth<"u"?J.scrollWidth:this.scrollWidth,$?this.rawScrollLeft:this.scrollLeft,typeof J.height<"u"?J.height:this.height,typeof J.scrollHeight<"u"?J.scrollHeight:this.scrollHeight,$?this.rawScrollTop:this.scrollTop)}withScrollPosition(J){return new xK(this._forceIntegerValues,this.width,this.scrollWidth,typeof J.scrollLeft<"u"?J.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof J.scrollTop<"u"?J.scrollTop:this.rawScrollTop)}createScrollEvent(J,$){let Q=this.width!==J.width,X=this.scrollWidth!==J.scrollWidth,Y=this.scrollLeft!==J.scrollLeft,Z=this.height!==J.height,G=this.scrollHeight!==J.scrollHeight,q=this.scrollTop!==J.scrollTop;return{inSmoothScrolling:$,oldWidth:J.width,oldScrollWidth:J.scrollWidth,oldScrollLeft:J.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:J.height,oldScrollHeight:J.scrollHeight,oldScrollTop:J.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:Q,scrollWidthChanged:X,scrollLeftChanged:Y,heightChanged:Z,scrollHeightChanged:G,scrollTopChanged:q}}}class LN{constructor(J,$,Q){this.scrollLeft=J,this.scrollTop=$,this.isDone=Q}}function wN(J,$){let Q=$-J;return function(X){return J+Q*o80(X)}}function i80(J,$,Q){return function(X){if(X<Q)return J(X/Q);return $((X-Q)/(1-Q))}}class NH{constructor(J,$,Q,X){this.from=J,this.to=$,this.duration=X,this.startTime=Q,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(J,$,Q){if(Math.abs(J-$)>2.5*Q){let Y,Z;if(J<$)Y=J+0.75*Q,Z=$-0.75*Q;else Y=J-0.75*Q,Z=$+0.75*Q;return i80(wN(J,Y),wN(Z,$),0.33)}return wN(J,$)}dispose(){if(this.animationFrameDisposable!==null)this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null}acceptScrollDimensions(J){this.to=J.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(J){let $=(J-this.startTime)/this.duration;if($<1){let Q=this.scrollLeft($),X=this.scrollTop($);return new LN(Q,X,!1)}return new LN(this.to.scrollLeft,this.to.scrollTop,!0)}combine(J,$,Q){return NH.start(J,$,Q)}static start(J,$,Q){Q=Q+10;let X=Date.now()-10;return new NH(J,$,X,Q)}}function n80(J){return Math.pow(J,3)}function o80(J){return 1-n80(1-J)}var v4;var e3=E(()=>{E0();B0();v4=class v4 extends r{constructor(J){super();this._scrollableBrand=void 0,this._onScroll=this._register(new p),this.onScroll=this._onScroll.event,this._smoothScrollDuration=J.smoothScrollDuration,this._scheduleAtNextAnimationFrame=J.scheduleAtNextAnimationFrame,this._state=new xK(J.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;super.dispose()}setSmoothScrollDuration(J){this._smoothScrollDuration=J}validateScrollPosition(J){return this._state.withScrollPosition(J)}getScrollDimensions(){return this._state}setScrollDimensions(J,$){var Q;let X=this._state.withScrollDimensions(J,$);this._setState(X,Boolean(this._smoothScrolling)),(Q=this._smoothScrolling)===null||Q===void 0||Q.acceptScrollDimensions(this._state)}getFutureScrollPosition(){if(this._smoothScrolling)return this._smoothScrolling.to;return this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(J){let $=this._state.withScrollPosition(J);if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;this._setState($,!1)}setScrollPositionSmooth(J,$){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(J);if(this._smoothScrolling){J={scrollLeft:typeof J.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:J.scrollLeft,scrollTop:typeof J.scrollTop>"u"?this._smoothScrolling.to.scrollTop:J.scrollTop};let Q=this._state.withScrollPosition(J);if(this._smoothScrolling.to.scrollLeft===Q.scrollLeft&&this._smoothScrolling.to.scrollTop===Q.scrollTop)return;let X;if($)X=new NH(this._smoothScrolling.from,Q,this._smoothScrolling.startTime,this._smoothScrolling.duration);else X=this._smoothScrolling.combine(this._state,Q,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=X}else{let Q=this._state.withScrollPosition(J);this._smoothScrolling=NH.start(this._state,Q,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;let J=this._smoothScrolling.tick(),$=this._state.withScrollPosition(J);if(this._setState($,!0),!this._smoothScrolling)return;if(J.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}_setState(J,$){let Q=this._state;if(Q.equals(J))return;this._state=J,this._onScroll.fire(this._state.createScrollEvent(Q,$))}}});var Yp=E(()=>{_0(".monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;z-index:11;background:0 0;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{display:none;position:absolute}.monaco-scrollable-element>.shadow.top{width:100%;height:3px;box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;display:block;top:0;left:3px}.monaco-scrollable-element>.shadow.left{width:3px;height:100%;box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset;display:block;top:3px;left:0}.monaco-scrollable-element>.shadow.top-left-corner{width:3px;height:3px;display:block;top:0;left:0}.monaco-scrollable-element>.shadow.top.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset}.monaco-scrollable-element>.scrollbar>.slider{background:var(--vscode-scrollbarSlider-background)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-scrollable-element>.scrollbar>.slider.active{background:var(--vscode-scrollbarSlider-activeBackground)}")});class qp{constructor(J,$,Q){this.timestamp=J,this.deltaX=$,this.deltaY=Q,this.score=0}}class Jq{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let J=1,$=0,Q=1,X=this._rear;do{let Y=X===this._front?J:Math.pow(2,-Q);if(J-=Y,$+=this._memory[X].score*Y,X===this._front)break;X=(this._capacity+X-1)%this._capacity,Q++}while(!0);return $<=0.5}acceptStandardWheelEvent(J){if(H$){let $=L0(J.browserEvent),Q=lS($);this.accept(Date.now(),J.deltaX*Q,J.deltaY*Q)}else this.accept(Date.now(),J.deltaX,J.deltaY)}accept(J,$,Q){let X=new qp(J,$,Q);if(X.score=this._computeScore(X),this._front===-1&&this._rear===-1)this._memory[0]=X,this._front=0,this._rear=0;else{if(this._rear=(this._rear+1)%this._capacity,this._rear===this._front)this._front=(this._front+1)%this._capacity;this._memory[this._rear]=X}}_computeScore(J){if(Math.abs(J.deltaX)>0&&Math.abs(J.deltaY)>0)return 1;let $=0.5,Q=this._front===-1&&this._rear===-1?null:this._memory[this._rear];if(!this._isAlmostInt(J.deltaX)||!this._isAlmostInt(J.deltaY))$+=0.25;return Math.min(Math.max($,0),1)}_isAlmostInt(J){return Math.abs(Math.round(J)-J)<0.01}}function e80(J){let $={lazyRender:typeof J.lazyRender<"u"?J.lazyRender:!1,className:typeof J.className<"u"?J.className:"",useShadows:typeof J.useShadows<"u"?J.useShadows:!0,handleMouseWheel:typeof J.handleMouseWheel<"u"?J.handleMouseWheel:!0,flipAxes:typeof J.flipAxes<"u"?J.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof J.consumeMouseWheelIfScrollbarIsNeeded<"u"?J.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof J.alwaysConsumeMouseWheel<"u"?J.alwaysConsumeMouseWheel:!1,scrollYToX:typeof J.scrollYToX<"u"?J.scrollYToX:!1,mouseWheelScrollSensitivity:typeof J.mouseWheelScrollSensitivity<"u"?J.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof J.fastScrollSensitivity<"u"?J.fastScrollSensitivity:5,scrollPredominantAxis:typeof J.scrollPredominantAxis<"u"?J.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof J.mouseWheelSmoothScroll<"u"?J.mouseWheelSmoothScroll:!0,arrowSize:typeof J.arrowSize<"u"?J.arrowSize:11,listenOnDomNode:typeof J.listenOnDomNode<"u"?J.listenOnDomNode:null,horizontal:typeof J.horizontal<"u"?J.horizontal:1,horizontalScrollbarSize:typeof J.horizontalScrollbarSize<"u"?J.horizontalScrollbarSize:10,horizontalSliderSize:typeof J.horizontalSliderSize<"u"?J.horizontalSliderSize:0,horizontalHasArrows:typeof J.horizontalHasArrows<"u"?J.horizontalHasArrows:!1,vertical:typeof J.vertical<"u"?J.vertical:1,verticalScrollbarSize:typeof J.verticalScrollbarSize<"u"?J.verticalScrollbarSize:10,verticalHasArrows:typeof J.verticalHasArrows<"u"?J.verticalHasArrows:!1,verticalSliderSize:typeof J.verticalSliderSize<"u"?J.verticalSliderSize:0,scrollByPage:typeof J.scrollByPage<"u"?J.scrollByPage:!1};if($.horizontalSliderSize=typeof J.horizontalSliderSize<"u"?J.horizontalSliderSize:$.horizontalScrollbarSize,$.verticalSliderSize=typeof J.verticalSliderSize<"u"?J.verticalSliderSize:$.verticalScrollbarSize,$1)$.className+=" mac";return $}var t80=500,Zp=50,Gp=!0,bK,kN,QX,XX;var EJ=E(()=>{M7();x0();h9();Qp();Xp();b$();J6();E0();B0();E1();e3();Yp();Jq.INSTANCE=new Jq;bK=class bK extends F8{get options(){return this._options}constructor(J,$,Q){super();this._onScroll=this._register(new p),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new p),J.style.overflow="hidden",this._options=e80($),this._scrollable=Q,this._register(this._scrollable.onScroll((Y)=>{this._onWillScroll.fire(Y),this._onDidScroll(Y),this._onScroll.fire(Y)}));let X={onMouseWheel:(Y)=>this._onMouseWheel(Y),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};if(this._verticalScrollbar=this._register(new TN(this._scrollable,this._options,X)),this._horizontalScrollbar=this._register(new NN(this._scrollable,this._options,X)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(J),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows)this._leftShadowDomNode=q1(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=q1(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=q1(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode);else this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null;this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(Y)=>this._onMouseOver(Y)),this.onmouseleave(this._listenOnDomNode,(Y)=>this._onMouseLeave(Y)),this._hideTimeout=this._register(new E8),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=h1(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(J){this._verticalScrollbar.delegatePointerDown(J)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(J){this._scrollable.setScrollDimensions(J,!1)}updateClassName(J){if(this._options.className=J,$1)this._options.className+=" mac";this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(J){if(typeof J.handleMouseWheel<"u")this._options.handleMouseWheel=J.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel);if(typeof J.mouseWheelScrollSensitivity<"u")this._options.mouseWheelScrollSensitivity=J.mouseWheelScrollSensitivity;if(typeof J.fastScrollSensitivity<"u")this._options.fastScrollSensitivity=J.fastScrollSensitivity;if(typeof J.scrollPredominantAxis<"u")this._options.scrollPredominantAxis=J.scrollPredominantAxis;if(typeof J.horizontal<"u")this._options.horizontal=J.horizontal;if(typeof J.vertical<"u")this._options.vertical=J.vertical;if(typeof J.horizontalScrollbarSize<"u")this._options.horizontalScrollbarSize=J.horizontalScrollbarSize;if(typeof J.verticalScrollbarSize<"u")this._options.verticalScrollbarSize=J.verticalScrollbarSize;if(typeof J.scrollByPage<"u")this._options.scrollByPage=J.scrollByPage;if(this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),!this._options.lazyRender)this._render()}delegateScrollFromMouseWheelEvent(J){this._onMouseWheel(new N4(J))}_setListeningToMouseWheel(J){if(this._mouseWheelToDispose.length>0===J)return;if(this._mouseWheelToDispose=h1(this._mouseWheelToDispose),J){let Q=(X)=>{this._onMouseWheel(new N4(X))};this._mouseWheelToDispose.push(t(this._listenOnDomNode,W0.MOUSE_WHEEL,Q,{passive:!1}))}}_onMouseWheel(J){var $;if(($=J.browserEvent)===null||$===void 0?void 0:$.defaultPrevented)return;let Q=Jq.INSTANCE;if(Gp)Q.acceptStandardWheelEvent(J);let X=!1;if(J.deltaY||J.deltaX){let Z=J.deltaY*this._options.mouseWheelScrollSensitivity,G=J.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis)if(this._options.scrollYToX&&G+Z===0)G=Z=0;else if(Math.abs(Z)>=Math.abs(G))G=0;else Z=0;if(this._options.flipAxes)[Z,G]=[G,Z];let q=!$1&&J.browserEvent&&J.browserEvent.shiftKey;if((this._options.scrollYToX||q)&&!G)G=Z,Z=0;if(J.browserEvent&&J.browserEvent.altKey)G=G*this._options.fastScrollSensitivity,Z=Z*this._options.fastScrollSensitivity;let U=this._scrollable.getFutureScrollPosition(),z={};if(Z){let H=Zp*Z,j=U.scrollTop-(H<0?Math.floor(H):Math.ceil(H));this._verticalScrollbar.writeScrollPosition(z,j)}if(G){let H=Zp*G,j=U.scrollLeft-(H<0?Math.floor(H):Math.ceil(H));this._horizontalScrollbar.writeScrollPosition(z,j)}if(z=this._scrollable.validateScrollPosition(z),U.scrollLeft!==z.scrollLeft||U.scrollTop!==z.scrollTop){if(Gp&&this._options.mouseWheelSmoothScroll&&Q.isPhysicalMouseWheel())this._scrollable.setScrollPositionSmooth(z);else this._scrollable.setScrollPositionNow(z);X=!0}}let Y=X;if(!Y&&this._options.alwaysConsumeMouseWheel)Y=!0;if(!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded()))Y=!0;if(Y)J.preventDefault(),J.stopPropagation()}_onDidScroll(J){if(this._shouldRender=this._horizontalScrollbar.onDidScroll(J)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(J)||this._shouldRender,this._options.useShadows)this._shouldRender=!0;if(this._revealOnScroll)this._reveal();if(!this._options.lazyRender)this._render()}renderNow(){if(!this._options.lazyRender)throw Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!this._shouldRender)return;if(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows){let J=this._scrollable.getCurrentScrollPosition(),$=J.scrollTop>0,Q=J.scrollLeft>0,X=Q?" left":"",Y=$?" top":"",Z=Q||$?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${X}`),this._topShadowDomNode.setClassName(`shadow${Y}`),this._topLeftShadowDomNode.setClassName(`shadow${Z}${Y}${X}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(J){this._mouseIsOver=!1,this._hide()}_onMouseOver(J){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){if(!this._mouseIsOver&&!this._isDragging)this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide()}_scheduleHide(){if(!this._mouseIsOver&&!this._isDragging)this._hideTimeout.cancelAndSet(()=>this._hide(),t80)}};kN=class kN extends bK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;let Q=new v4({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(X)=>y5(L0(J),X)});super(J,$,Q);this._register(Q)}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}};QX=class QX extends bK{constructor(J,$,Q){super(J,$,Q)}setScrollPosition(J){if(J.reuseAnimation)this._scrollable.setScrollPositionSmooth(J,J.reuseAnimation);else this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};XX=class XX extends bK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;let Q=new v4({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(X)=>y5(L0(J),X)});super(J,$,Q);this._register(Q),this._element=J,this._register(this.onScroll((X)=>{if(X.scrollTopChanged)this._element.scrollTop=X.scrollTop;if(X.scrollLeftChanged)this._element.scrollLeft=X.scrollLeft})),this.scanDomNode()}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}});class SK{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(J){this._altKey=J.altKey,this._ctrlKey=J.ctrlKey,this._metaKey=J.metaKey,this._shiftKey=J.shiftKey}setStartButtons(J){this._leftButton=J.leftButton,this._middleButton=J.middleButton}setStartedOnLineNumbers(J){this._startedOnLineNumbers=J}trySetCount(J,$){let Q=new Date().getTime();if(Q-this._lastSetMouseDownCountTime>SK.CLEAR_MOUSE_DOWN_COUNT_TIME)J=1;if(this._lastSetMouseDownCountTime=Q,J>this._lastMouseDownCount+1)J=this._lastMouseDownCount+1;if(this._lastMouseDownPosition&&this._lastMouseDownPosition.equals($))this._lastMouseDownPositionEqualCount++;else this._lastMouseDownPositionEqualCount=1;this._lastMouseDownPosition=$,this._lastMouseDownCount=Math.min(J,this._lastMouseDownPositionEqualCount)}}var TH,Up,zp,Hp;var jp=E(()=>{x0();h9();B0();E1();RN();kK();Wz();u5();r3();EJ();TH=class TH extends kJ{constructor(J,$,Q){super();this._mouseLeaveMonitor=null,this._context=J,this.viewController=$,this.viewHelper=Q,this.mouseTargetFactory=new J8(this._context,Q),this._mouseDownOperation=this._register(new Up(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Z,G)=>this._createMouseTarget(Z,G),(Z)=>this._getMouseColumn(Z))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;let X=new GN(this.viewHelper.viewDomNode);this._register(X.onContextMenu(this.viewHelper.viewDomNode,(Z)=>this._onContextMenu(Z,!0))),this._register(X.onMouseMove(this.viewHelper.viewDomNode,(Z)=>{if(this._onMouseMove(Z),!this._mouseLeaveMonitor)this._mouseLeaveMonitor=t(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(G)=>{if(!this.viewHelper.viewDomNode.contains(G.target))this._onMouseLeave(new LJ(G,!1,this.viewHelper.viewDomNode))})})),this._register(X.onMouseUp(this.viewHelper.viewDomNode,(Z)=>this._onMouseUp(Z))),this._register(X.onMouseLeave(this.viewHelper.viewDomNode,(Z)=>this._onMouseLeave(Z)));let Y=0;this._register(X.onPointerDown(this.viewHelper.viewDomNode,(Z,G)=>{Y=G})),this._register(t(this.viewHelper.viewDomNode,W0.POINTER_UP,(Z)=>{this._mouseDownOperation.onPointerUp()})),this._register(X.onMouseDown(this.viewHelper.viewDomNode,(Z)=>this._onMouseDown(Z,Y))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){let J=Jq.INSTANCE,$=0,Q=D4.getZoomLevel(),X=!1,Y=0,Z=(q)=>{if(this.viewController.emitMouseWheel(q),!this._context.configuration.options.get(75))return;let U=new N4(q);if(J.acceptStandardWheelEvent(U),J.isPhysicalMouseWheel()){if(G(q)){let z=D4.getZoomLevel(),H=U.deltaY>0?1:-1;D4.setZoomLevel(z+H),U.preventDefault(),U.stopPropagation()}}else{if(Date.now()-$>50)Q=D4.getZoomLevel(),X=G(q),Y=0;if($=Date.now(),Y+=U.deltaY,X)D4.setZoomLevel(Q+Y/5),U.preventDefault(),U.stopPropagation()}};this._register(t(this.viewHelper.viewDomNode,W0.MOUSE_WHEEL,Z,{capture:!0,passive:!1}));function G(q){return $1?(q.metaKey||q.ctrlKey)&&!q.shiftKey&&!q.altKey:q.ctrlKey&&!q.metaKey&&!q.shiftKey&&!q.altKey}}dispose(){if(this._context.removeEventHandler(this),this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;super.dispose()}onConfigurationChanged(J){if(J.hasChanged(143)){let $=this._context.configuration.options.get(143).height;if(this._height!==$)this._height=$,this._mouseDownOperation.onHeightChanged()}return!1}onCursorStateChanged(J){return this._mouseDownOperation.onCursorStateChanged(J),!1}onFocusChanged(J){return!1}getTargetAtClientPoint(J,$){let X=new TK(J,$).toPageCoordinates(L0(this.viewHelper.viewDomNode)),Y=wK(this.viewHelper.viewDomNode);if(X.y<Y.y||X.y>Y.y+Y.height||X.x<Y.x||X.x>Y.x+Y.width)return null;let Z=LK(this.viewHelper.viewDomNode,Y,X);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Y,X,Z,null)}_createMouseTarget(J,$){let Q=J.target;if(!this.viewHelper.viewDomNode.contains(Q)){let X=CQ(this.viewHelper.viewDomNode);if(X)Q=X.elementsFromPoint(J.posx,J.posy).find((Y)=>this.viewHelper.viewDomNode.contains(Y))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),J.editorPos,J.pos,J.relativePos,$?Q:null)}_getMouseColumn(J){return this.mouseTargetFactory.getMouseColumn(J.relativePos)}_onContextMenu(J,$){this.viewController.emitContextMenu({event:J,target:this._createMouseTarget(J,$)})}_onMouseMove(J){if(!this.mouseTargetFactory.mouseTargetIsWidget(J))J.preventDefault();if(this._mouseDownOperation.isActive())return;if(J.timestamp<this.lastMouseLeaveTime)return;this.viewController.emitMouseMove({event:J,target:this._createMouseTarget(J,!0)})}_onMouseLeave(J){if(this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:J,target:null})}_onMouseUp(J){this.viewController.emitMouseUp({event:J,target:this._createMouseTarget(J,!0)})}_onMouseDown(J,$){let Q=this._createMouseTarget(J,!0),X=Q.type===6||Q.type===7,Y=Q.type===2||Q.type===3||Q.type===4,Z=Q.type===3,G=this._context.configuration.options.get(108),q=Q.type===8||Q.type===5,U=Q.type===9,z=J.leftButton||J.middleButton;if($1&&J.leftButton&&J.ctrlKey)z=!1;let H=()=>{J.preventDefault(),this.viewHelper.focusTextArea()};if(z&&(X||Z&&G))H(),this._mouseDownOperation.start(Q.type,J,$);else if(Y)J.preventDefault();else if(q){let j=Q.detail;if(z&&this.viewHelper.shouldSuppressMouseDownOnViewZone(j.viewZoneId))H(),this._mouseDownOperation.start(Q.type,J,$),J.preventDefault()}else if(U&&this.viewHelper.shouldSuppressMouseDownOnWidget(Q.detail))H(),J.preventDefault();this.viewController.emitMouseDown({event:J,target:Q})}};Up=class Up extends r{constructor(J,$,Q,X,Y,Z){super();this._context=J,this._viewController=$,this._viewHelper=Q,this._mouseTargetFactory=X,this._createMouseTarget=Y,this._getMouseColumn=Z,this._mouseMoveMonitor=this._register(new UN(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new zp(this._context,this._viewHelper,this._mouseTargetFactory,(G,q,U)=>this._dispatchMouse(G,q,U))),this._mouseState=new SK,this._currentSelection=new d0(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(J){this._lastMouseEvent=J,this._mouseState.setModifiers(J);let $=this._findMousePosition(J,!1);if(!$)return;if(this._mouseState.isDragAndDrop)this._viewController.emitMouseDrag({event:J,target:$});else if($.type===13&&($.outsidePosition==="above"||$.outsidePosition==="below"))this._topBottomDragScrolling.start($,J);else this._topBottomDragScrolling.stop(),this._dispatchMouse($,!0,1)}start(J,$,Q){this._lastMouseEvent=$,this._mouseState.setStartedOnLineNumbers(J===3),this._mouseState.setStartButtons($),this._mouseState.setModifiers($);let X=this._findMousePosition($,!0);if(!X||!X.position)return;this._mouseState.trySetCount($.detail,X.position),$.detail=this._mouseState.count;let Y=this._context.configuration.options;if(!Y.get(90)&&Y.get(35)&&!Y.get(22)&&!this._mouseState.altKey&&$.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&X.type===6&&X.position&&this._currentSelection.containsPosition(X.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,Q,$.buttons,(Z)=>this._onMouseDownThenMove(Z),(Z)=>{let G=this._findMousePosition(this._lastMouseEvent,!1);if(W3(Z))this._viewController.emitMouseDropCanceled();else this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:G?this._createMouseTarget(this._lastMouseEvent,!0):null});this._stop()});return}if(this._mouseState.isDragAndDrop=!1,this._dispatchMouse(X,$.shiftKey,1),!this._isActive)this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,Q,$.buttons,(Z)=>this._onMouseDownThenMove(Z),()=>this._stop())}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(J){this._currentSelection=J.selections[0]}_getPositionOutsideEditor(J){let $=J.editorPos,Q=this._context.viewModel,X=this._context.viewLayout,Y=this._getMouseColumn(J);if(J.posy<$.y){let G=$.y-J.posy,q=Math.max(X.getCurrentScrollTop()-G,0),U=b2.getZoneAtCoord(this._context,q);if(U){let H=this._helpPositionJumpOverViewZone(U);if(H)return B8.createOutsideEditor(Y,H,"above",G)}let z=X.getLineNumberAtVerticalOffset(q);return B8.createOutsideEditor(Y,new s(z,1),"above",G)}if(J.posy>$.y+$.height){let G=J.posy-$.y-$.height,q=X.getCurrentScrollTop()+J.relativePos.y,U=b2.getZoneAtCoord(this._context,q);if(U){let H=this._helpPositionJumpOverViewZone(U);if(H)return B8.createOutsideEditor(Y,H,"below",G)}let z=X.getLineNumberAtVerticalOffset(q);return B8.createOutsideEditor(Y,new s(z,Q.getLineMaxColumn(z)),"below",G)}let Z=X.getLineNumberAtVerticalOffset(X.getCurrentScrollTop()+J.relativePos.y);if(J.posx<$.x){let G=$.x-J.posx;return B8.createOutsideEditor(Y,new s(Z,1),"left",G)}if(J.posx>$.x+$.width){let G=J.posx-$.x-$.width;return B8.createOutsideEditor(Y,new s(Z,Q.getLineMaxColumn(Z)),"right",G)}return null}_findMousePosition(J,$){let Q=this._getPositionOutsideEditor(J);if(Q)return Q;let X=this._createMouseTarget(J,$);if(!X.position)return null;if(X.type===8||X.type===5){let Z=this._helpPositionJumpOverViewZone(X.detail);if(Z)return B8.createViewZone(X.type,X.element,X.mouseColumn,Z,X.detail)}return X}_helpPositionJumpOverViewZone(J){let $=new s(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),Q=J.positionBefore,X=J.positionAfter;if(Q&&X)if(Q.isBefore($))return Q;else return X;return null}_dispatchMouse(J,$,Q){if(!J.position)return;this._viewController.dispatchMouse({position:J.position,mouseColumn:J.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:Q,inSelectionMode:$,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:J.type===6&&J.detail.injectedText!==null})}};zp=class zp extends r{constructor(J,$,Q,X){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=Q,this._dispatchMouse=X,this._operation=null}dispose(){super.dispose(),this.stop()}start(J,$){if(this._operation)this._operation.setPosition(J,$);else this._operation=new Hp(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,J,$)}stop(){if(this._operation)this._operation.dispose(),this._operation=null}};Hp=class Hp extends r{constructor(J,$,Q,X,Y,Z){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=Q,this._dispatchMouse=X,this._position=Y,this._mouseEvent=Z,this._lastTime=Date.now(),this._animationFrameDisposable=y5(L0(Z.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(J,$){this._position=J,this._mouseEvent=$}_tick(){let J=Date.now(),$=J-this._lastTime;return this._lastTime=J,$}_getScrollSpeed(){let J=this._context.configuration.options.get(66),$=this._context.configuration.options.get(143).height/J,Q=this._position.outsideDistance/J;if(Q<=1.5)return Math.max(30,$*(1+Q));if(Q<=3)return Math.max(60,$*(2+Q));return Math.max(200,$*(7+Q))}_execute(){let J=this._context.configuration.options.get(66),$=this._getScrollSpeed(),Q=this._tick(),X=$*(Q/1000)*J,Y=this._position.outsidePosition==="above"?-X:X;this._context.viewModel.viewLayout.deltaScrollNow(0,Y),this._viewHelper.renderNow();let Z=this._context.viewLayout.getLinesViewportData(),G=this._position.outsidePosition==="above"?Z.startLineNumber:Z.endLineNumber,q;{let U=wK(this._viewHelper.viewDomNode),z=this._context.configuration.options.get(143).horizontalScrollbarHeight,H=new k2(this._mouseEvent.pos.x,U.y+U.height-z-0.1),j=LK(this._viewHelper.viewDomNode,U,H);q=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),U,H,j,null)}if(!q.position||q.position.lineNumber!==G)if(this._position.outsidePosition==="above")q=B8.createOutsideEditor(this._position.mouseColumn,new s(G,1),"above",this._position.outsideDistance);else q=B8.createOutsideEditor(this._position.mouseColumn,new s(G,this._context.viewModel.getLineMaxColumn(G)),"below",this._position.outsideDistance);this._dispatchMouse(q,!0,2),this._animationFrameDisposable=y5(L0(q.element),()=>this._execute())}};SK.CLEAR_MOUSE_DOWN_COUNT_TIME=400});class W1{get event(){return this.emitter.event}constructor(J,$,Q){let X=(Y)=>this.emitter.fire(Y);this.emitter=new p({onWillAddFirstListener:()=>J.addEventListener($,X,Q),onDidRemoveLastListener:()=>J.removeEventListener($,X,Q)})}dispose(){this.emitter.dispose()}}var IJ=E(()=>{E0()});class C5{constructor(J,$,Q,X,Y){this.value=J,this.selectionStart=$,this.selectionEnd=Q,this.selection=X,this.newlineCountBeforeSelection=Y}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(J,$){let Q=J.getValue(),X=J.getSelectionStart(),Y=J.getSelectionEnd(),Z=void 0;if($){let G=Q.substring(0,X),q=$.value.substring(0,$.selectionStart);if(G===q)Z=$.newlineCountBeforeSelection}return new C5(Q,X,Y,null,Z)}collapseSelection(){if(this.selectionStart===this.value.length)return this;return new C5(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(J,$,Q){if(e7)console.log(`writeToTextArea ${J}: ${this.toString()}`);if($.setValue(J,this.value),Q)$.setSelectionRange(J,this.selectionStart,this.selectionEnd)}deduceEditorPosition(J){var $,Q,X,Y,Z,G,q,U;if(J<=this.selectionStart){let j=this.value.substring(J,this.selectionStart);return this._finishDeduceEditorPosition((Q=($=this.selection)===null||$===void 0?void 0:$.getStartPosition())!==null&&Q!==void 0?Q:null,j,-1)}if(J>=this.selectionEnd){let j=this.value.substring(this.selectionEnd,J);return this._finishDeduceEditorPosition((Y=(X=this.selection)===null||X===void 0?void 0:X.getEndPosition())!==null&&Y!==void 0?Y:null,j,1)}let z=this.value.substring(this.selectionStart,J);if(z.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((G=(Z=this.selection)===null||Z===void 0?void 0:Z.getStartPosition())!==null&&G!==void 0?G:null,z,1);let H=this.value.substring(J,this.selectionEnd);return this._finishDeduceEditorPosition((U=(q=this.selection)===null||q===void 0?void 0:q.getEndPosition())!==null&&U!==void 0?U:null,H,-1)}_finishDeduceEditorPosition(J,$,Q){let X=0,Y=-1;while((Y=$.indexOf(`
`,Y+1))!==-1)X++;return[J,Q*$.length,X]}static deduceInput(J,$,Q){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e7)console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);let X=Math.min(cZ(J.value,$.value),J.selectionStart,$.selectionStart),Y=Math.min(Hz(J.value,$.value),J.value.length-J.selectionEnd,$.value.length-$.selectionEnd),Z=J.value.substring(X,J.value.length-Y),G=$.value.substring(X,$.value.length-Y),q=J.selectionStart-X,U=J.selectionEnd-X,z=$.selectionStart-X,H=$.selectionEnd-X;if(e7)console.log(`AFTER DIFFING PREVIOUS STATE: <${Z}>, selectionStart: ${q}, selectionEnd: ${U}`),console.log(`AFTER DIFFING CURRENT STATE: <${G}>, selectionStart: ${z}, selectionEnd: ${H}`);if(z===H){let B=J.selectionStart-X;if(e7)console.log(`REMOVE PREVIOUS: ${B} chars`);return{text:G,replacePrevCharCnt:B,replaceNextCharCnt:0,positionDelta:0}}let j=U-q;return{text:G,replacePrevCharCnt:j,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(J,$){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e7)console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);if(J.value===$.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:$.selectionEnd-J.selectionEnd};let Q=Math.min(cZ(J.value,$.value),J.selectionEnd),X=Math.min(Hz(J.value,$.value),J.value.length-J.selectionEnd),Y=J.value.substring(Q,J.value.length-X),Z=$.value.substring(Q,$.value.length-X),G=J.selectionStart-Q,q=J.selectionEnd-Q,U=$.selectionStart-Q,z=$.selectionEnd-Q;if(e7)console.log(`AFTER DIFFING PREVIOUS STATE: <${Y}>, selectionStart: ${G}, selectionEnd: ${q}`),console.log(`AFTER DIFFING CURRENT STATE: <${Z}>, selectionStart: ${U}, selectionEnd: ${z}`);return{text:Z,replacePrevCharCnt:q,replaceNextCharCnt:Y.length-q,positionDelta:z-Z.length}}}class S2{static _getPageOfLine(J,$){return Math.floor((J-1)/$)}static _getRangeForPage(J,$){let Q=J*$,X=Q+1,Y=Q+$;return new v(X,1,Y+1,1)}static fromEditorSelection(J,$,Q,X){let Z=S2._getPageOfLine($.startLineNumber,Q),G=S2._getRangeForPage(Z,Q),q=S2._getPageOfLine($.endLineNumber,Q),U=S2._getRangeForPage(q,Q),z=G.intersectRanges(new v(1,1,$.startLineNumber,$.startColumn));if(X&&J.getValueLengthInRange(z,1)>500){let A=J.modifyPosition(z.getEndPosition(),-500);z=v.fromPositions(A,z.getEndPosition())}let H=J.getValueInRange(z,1),j=J.getLineCount(),B=J.getLineMaxColumn(j),V=U.intersectRanges(new v($.endLineNumber,$.endColumn,j,B));if(X&&J.getValueLengthInRange(V,1)>500){let A=J.modifyPosition(V.getStartPosition(),500);V=v.fromPositions(V.getStartPosition(),A)}let W=J.getValueInRange(V,1),K;if(Z===q||Z+1===q)K=J.getValueInRange($,1);else{let A=G.intersectRanges($),F=U.intersectRanges($);K=J.getValueInRange(A,1)+String.fromCharCode(8230)+J.getValueInRange(F,1)}if(X&&K.length>1000)K=K.substring(0,500)+String.fromCharCode(8230)+K.substring(K.length-500,K.length);return new C5(H+K+W,H.length,H.length+K.length,$,z.endLineNumber-z.startLineNumber)}}var e7=!1;var EN=E(()=>{G1();e0();C5.EMPTY=new C5("",0,0,null,void 0)});class LH{constructor(){this._lastState=null}set(J,$){this._lastState={lastCopiedValue:J,data:$}}get(J){if(this._lastState&&this._lastState.lastCopiedValue===J)return this._lastState.data;return this._lastState=null,null}}class Fp{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(J){J=J||"";let $={text:J,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=J.length,$}}var J70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Vp=function(J,$){return function(Q,X){$(Q,X,J)}},wH,Bp,CK,Wp,IN;var yN=E(()=>{M7();x0();IJ();k8();o_();J6();E0();B0();mz();G1();EN();u5();RJ();B9();(function(J){J.Tap="-monaco-textarea-synthetic-tap"})(wH||(wH={}));Bp={forceCopyWithSyntaxHighlighting:!1};LH.INSTANCE=new LH;CK=class extends r{get textAreaState(){return this._textAreaState}constructor($,Q,X,Y,Z,G){super();if(this._host=$,this._textArea=Q,this._OS=X,this._browser=Y,this._accessibilityService=Z,this._logService=G,this._onFocus=this._register(new p),this.onFocus=this._onFocus.event,this._onBlur=this._register(new p),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new p),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new p),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new p),this.onCut=this._onCut.event,this._onPaste=this._register(new p),this.onPaste=this._onPaste.event,this._onType=this._register(new p),this.onType=this._onType.event,this._onCompositionStart=this._register(new p),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new p),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new p),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new p),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new r5),this._asyncTriggerCut=this._register(new z6(()=>this._onCut.fire(),0)),this._textAreaState=C5.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized())this.writeNativeTextAreaContent("ctor");this._register(V0.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{if(this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value)this._asyncFocusGainWriteScreenReaderContent.value=this._register(new z6(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0));else this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let q=null;this._register(this._textArea.onKeyDown((U)=>{let z=new _1(U);if(z.keyCode===114||this._currentComposition&&z.keyCode===1)z.stopPropagation();if(z.equals(9))z.preventDefault();q=z,this._onKeyDown.fire(z)})),this._register(this._textArea.onKeyUp((U)=>{let z=new _1(U);this._onKeyUp.fire(z)})),this._register(this._textArea.onCompositionStart((U)=>{if(e7)console.log("[compositionstart]",U);let z=new Fp;if(this._currentComposition){this._currentComposition=z;return}if(this._currentComposition=z,this._OS===2&&q&&q.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===U.data&&(q.code==="ArrowRight"||q.code==="ArrowLeft")){if(e7)console.log("[compositionstart] Handling long press case on macOS + arrow key",U);z.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:U.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:U.data});return}this._onCompositionStart.fire({data:U.data})})),this._register(this._textArea.onCompositionUpdate((U)=>{if(e7)console.log("[compositionupdate]",U);let z=this._currentComposition;if(!z)return;if(this._browser.isAndroid){let j=C5.readFromTextArea(this._textArea,this._textAreaState),B=C5.deduceAndroidCompositionInput(this._textAreaState,j);this._textAreaState=j,this._onType.fire(B),this._onCompositionUpdate.fire(U);return}let H=z.handleCompositionUpdate(U.data);this._textAreaState=C5.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(H),this._onCompositionUpdate.fire(U)})),this._register(this._textArea.onCompositionEnd((U)=>{if(e7)console.log("[compositionend]",U);let z=this._currentComposition;if(!z)return;if(this._currentComposition=null,this._browser.isAndroid){let j=C5.readFromTextArea(this._textArea,this._textAreaState),B=C5.deduceAndroidCompositionInput(this._textAreaState,j);this._textAreaState=j,this._onType.fire(B),this._onCompositionEnd.fire();return}let H=z.handleCompositionUpdate(U.data);this._textAreaState=C5.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(H),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput((U)=>{if(e7)console.log("[input]",U);if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;let z=C5.readFromTextArea(this._textArea,this._textAreaState),H=C5.deduceInput(this._textAreaState,z,this._OS===2);if(H.replacePrevCharCnt===0&&H.text.length===1){if(P6(H.text.charCodeAt(0))||H.text.charCodeAt(0)===127)return}if(this._textAreaState=z,H.text!==""||H.replacePrevCharCnt!==0||H.replaceNextCharCnt!==0||H.positionDelta!==0)this._onType.fire(H)})),this._register(this._textArea.onCut((U)=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(U),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy((U)=>{this._ensureClipboardGetsEditorSelection(U)})),this._register(this._textArea.onPaste((U)=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),U.preventDefault(),!U.clipboardData)return;let[z,H]=Wp.getTextData(U.clipboardData);if(!z)return;H=H||LH.INSTANCE.get(z),this._onPaste.fire({text:z,metadata:H})})),this._register(this._textArea.onFocus(()=>{let U=this._hasFocus;if(this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!U&&this._hasFocus){if(!this._asyncFocusGainWriteScreenReaderContent.value)this._asyncFocusGainWriteScreenReaderContent.value=new z6(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0);this._asyncFocusGainWriteScreenReaderContent.value.schedule()}})),this._register(this._textArea.onBlur(()=>{if(this._currentComposition)this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire();this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{if(this._browser.isAndroid&&this._currentComposition)this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire()}))}_installSelectionChangeListener(){let $=0;return t(this._textArea.ownerDocument,"selectionchange",(Q)=>{if(_$.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;let X=Date.now(),Y=X-$;if($=X,Y<5)return;let Z=X-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Z<100)return;if(!this._textAreaState.selection)return;let G=this._textArea.getValue();if(this._textAreaState.value!==G)return;let q=this._textArea.getSelectionStart(),U=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===q&&this._textAreaState.selectionEnd===U)return;let z=this._textAreaState.deduceEditorPosition(q),H=this._host.deduceModelPosition(z[0],z[1],z[2]),j=this._textAreaState.deduceEditorPosition(U),B=this._host.deduceModelPosition(j[0],j[1],j[2]),V=new d0(H.lineNumber,H.column,B.lineNumber,B.column);this._onSelectionChangeRequest.fire(V)})}dispose(){if(super.dispose(),this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus($){if(this._hasFocus===$)return;if(this._hasFocus=$,this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null;if(this._hasFocus)this._selectionChangeListener=this._installSelectionChangeListener();if(this._hasFocus)this.writeNativeTextAreaContent("focusgain");if(this._hasFocus)this._onFocus.fire();else this._onBlur.fire()}_setAndWriteTextAreaState($,Q){if(!this._hasFocus)Q=Q.collapseSelection();Q.writeToTextArea($,this._textArea,this._hasFocus),this._textAreaState=Q}writeNativeTextAreaContent($){if(!this._accessibilityService.isScreenReaderOptimized()&&$==="render"||this._currentComposition)return;this._logService.trace(`writeTextAreaState(reason: ${$})`),this._setAndWriteTextAreaState($,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection($){let Q=this._host.getDataToCopy(),X={version:1,isFromEmptySelection:Q.isFromEmptySelection,multicursorText:Q.multicursorText,mode:Q.mode};if(LH.INSTANCE.set(this._browser.isFirefox?Q.text.replace(/\r\n/g,`
`):Q.text,X),$.preventDefault(),$.clipboardData)Wp.setTextData($.clipboardData,Q.text,Q.html,X)}};CK=J70([Vp(4,I8),Vp(5,A5)],CK);Wp={getTextData(J){let $=J.getData(a9.text),Q=null,X=J.getData("vscode-editor-data");if(typeof X==="string")try{if(Q=JSON.parse(X),Q.version!==1)Q=null}catch(Y){}if($.length===0&&Q===null&&J.files.length>0)return[Array.prototype.slice.call(J.files,0).map((Z)=>Z.name).join(`
`),null];return[$,Q]},setTextData(J,$,Q,X){if(J.setData(a9.text,$),typeof Q==="string")J.setData("text/html",Q);J.setData("vscode-editor-data",JSON.stringify(X))}};IN=class IN extends r{get ownerDocument(){return this._actual.ownerDocument}constructor(J){super();this._actual=J,this.onKeyDown=this._register(new W1(this._actual,"keydown")).event,this.onKeyUp=this._register(new W1(this._actual,"keyup")).event,this.onCompositionStart=this._register(new W1(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new W1(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new W1(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new W1(this._actual,"beforeinput")).event,this.onInput=this._register(new W1(this._actual,"input")).event,this.onCut=this._register(new W1(this._actual,"cut")).event,this.onCopy=this._register(new W1(this._actual,"copy")).event,this.onPaste=this._register(new W1(this._actual,"paste")).event,this.onFocus=this._register(new W1(this._actual,"focus")).event,this.onBlur=this._register(new W1(this._actual,"blur")).event,this._onSyntheticTap=this._register(new p),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>_$.onKeyDown())),this._register(this.onBeforeInput(()=>_$.onBeforeInput())),this._register(this.onInput(()=>_$.onInput())),this._register(this.onKeyUp(()=>_$.onKeyUp())),this._register(t(this._actual,wH.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){let J=CQ(this._actual);if(J)return J.activeElement===this._actual;else if(this._actual.isConnected)return B5()===this._actual;else return!1}setIgnoreSelectionChangeTime(J){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(J,$){let Q=this._actual;if(Q.value===$)return;this.setIgnoreSelectionChangeTime("setValue"),Q.value=$}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(J,$,Q){let X=this._actual,Y=null,Z=CQ(X);if(Z)Y=Z.activeElement;else Y=B5();let G=L0(Y),q=Y===X,U=X.selectionStart,z=X.selectionEnd;if(q&&U===$&&z===Q){if(i5&&G.parent!==G)X.focus();return}if(q){if(this.setIgnoreSelectionChangeTime("setSelectionRange"),X.setSelectionRange($,Q),i5&&G.parent!==G)X.focus();return}try{let H=vC(X);this.setIgnoreSelectionChangeTime("setSelectionRange"),X.focus(),X.setSelectionRange($,Q),hC(X,H)}catch(H){}}}});var Kp,Ap,xN;var Pp=E(()=>{jF();x0();J4();H8();B0();E1();jp();yN();kK();Kp=class Kp extends TH{constructor(J,$,Q){super(J,$,Q);this._register(b1.addTarget(this.viewHelper.linesContentDomNode)),this._register(t(this.viewHelper.linesContentDomNode,f1.Tap,(Y)=>this.onTap(Y))),this._register(t(this.viewHelper.linesContentDomNode,f1.Change,(Y)=>this.onChange(Y))),this._register(t(this.viewHelper.linesContentDomNode,f1.Contextmenu,(Y)=>this._onContextMenu(new LJ(Y,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(t(this.viewHelper.linesContentDomNode,"pointerdown",(Y)=>{let Z=Y.pointerType;if(Z==="mouse"){this._lastPointerType="mouse";return}else if(Z==="touch")this._lastPointerType="touch";else this._lastPointerType="pen"}));let X=new qN(this.viewHelper.viewDomNode);this._register(X.onPointerMove(this.viewHelper.viewDomNode,(Y)=>this._onMouseMove(Y))),this._register(X.onPointerUp(this.viewHelper.viewDomNode,(Y)=>this._onMouseUp(Y))),this._register(X.onPointerLeave(this.viewHelper.viewDomNode,(Y)=>this._onMouseLeave(Y))),this._register(X.onPointerDown(this.viewHelper.viewDomNode,(Y,Z)=>this._onMouseDown(Y,Z)))}onTap(J){if(!J.initialTarget||!this.viewHelper.linesContentDomNode.contains(J.initialTarget))return;J.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(J,!1)}onChange(J){if(this._lastPointerType==="touch")this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY);if(this._lastPointerType==="pen")this._dispatchGesture(J,!0)}_dispatchGesture(J,$){let Q=this._createMouseTarget(new LJ(J,!1,this.viewHelper.viewDomNode),!1);if(Q.position)this.viewController.dispatchMouse({position:Q.position,mouseColumn:Q.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:J.tapCount,inSelectionMode:$,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:Q.type===6&&Q.detail.injectedText!==null})}_onMouseDown(J,$){if(J.browserEvent.pointerType==="touch")return;super._onMouseDown(J,$)}};Ap=class Ap extends TH{constructor(J,$,Q){super(J,$,Q);this._register(b1.addTarget(this.viewHelper.linesContentDomNode)),this._register(t(this.viewHelper.linesContentDomNode,f1.Tap,(X)=>this.onTap(X))),this._register(t(this.viewHelper.linesContentDomNode,f1.Change,(X)=>this.onChange(X))),this._register(t(this.viewHelper.linesContentDomNode,f1.Contextmenu,(X)=>this._onContextMenu(new LJ(X,!1,this.viewHelper.viewDomNode),!1)))}onTap(J){J.preventDefault(),this.viewHelper.focusTextArea();let $=this._createMouseTarget(new LJ(J,!1,this.viewHelper.viewDomNode),!1);if($.position){let Q=document.createEvent("CustomEvent");Q.initEvent(wH.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(Q),this.viewController.moveTo($.position,1)}}onChange(J){this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY)}};xN=class xN extends r{constructor(J,$,Q){super();if((x9||Ob&&xW)&&q3.pointerEvents)this.handler=this._register(new Kp(J,$,Q));else if(F1.TouchEvent)this.handler=this._register(new Ap(J,$,Q));else this.handler=this._register(new TH(J,$,Q))}getTargetAtClientPoint(J,$){return this.handler.getTargetAtClientPoint(J,$)}}});var Dp=E(()=>{_0(".monaco-editor .inputarea{resize:none;color:#0000;z-index:-10;background-color:#0000;border:none;min-width:0;min-height:0;margin:0;padding:0;position:absolute;overflow:hidden;outline:none!important}.monaco-editor .inputarea.ime-input{z-index:10;caret-color:var(--vscode-editorCursor-foreground);color:var(--vscode-editor-foreground)}")});var Rp=E(()=>{_0(".monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;text-align:right;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%;display:inline-block;position:absolute}.monaco-editor .relative-current-line-number{text-align:left;width:100%;display:inline-block}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor .line-numbers{color:var(--vscode-editorLineNumber-foreground)}.monaco-editor .line-numbers.active-line-number{color:var(--vscode-editorLineNumber-activeForeground)}")});var J9;var _Y=E(()=>{r3();J9=class J9 extends kJ{}});function YX(J){return{id:J}}function kH(J){switch(J){case o7.DARK:return"vs-dark";case o7.HIGH_CONTRAST_DARK:return"hc-black";case o7.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}class Mp{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new p}onColorThemeChange(J){return this.themingParticipants.push(J),this.onThemingParticipantAddedEmitter.fire(J),y0(()=>{let $=this.themingParticipants.indexOf(J);this.themingParticipants.splice($,1)})}getThemingParticipants(){return this.themingParticipants}}function i8(J){return Op.onColorThemeChange(J)}var Z5,bN,Op,SN;var G5=E(()=>{E0();B0();n0();U7();eQ();Z5=b0("themeService");bN={ThemingContribution:"base.contributions.theming"};Op=new Mp;G6.add(bN.ThemingContribution,Op);SN=class SN extends r{constructor(J){super();this.themeService=J,this.theme=J.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(($)=>this.onThemeChange($)))}onThemeChange(J){this.theme=J,this.updateStyles()}updateStyles(){}}});var CN,vN,aA0,rA0,iA0,nA0,pK,_p,S$,Np,vK,hK,C2,Tp,wp,Lp,kp,Ep,v2,Ip,yp,xp,bp,Sp,fK,oA0,Cp,tA0,eA0,JP0,$P0,vp,hp,QP0,XP0,fp,YP0,ZP0,GP0,gK,qP0,gp,pp,mp,mK,uK,cK,lK,dK,sK,up,cp,lp,dp,sp,ap,rp,ip,np,op,tp,ep,Jm,UP0,zP0;var yJ=E(()=>{a0();a7();x8();G5();CN=f("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},M("lineHighlight","Background color for the highlight of line at the cursor position.")),vN=f("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:y1},M("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),aA0=f("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},M("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),rA0=f("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:_6,hcLight:_6},M("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),iA0=f("editor.symbolHighlightBackground",{dark:nQ,light:nQ,hcDark:null,hcLight:null},M("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),nA0=f("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:_6,hcLight:_6},M("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),pK=f("editorCursor.foreground",{dark:"#AEAFAD",light:X0.black,hcDark:X0.white,hcLight:"#0F4A85"},M("caret","Color of the editor cursor.")),_p=f("editorCursor.background",null,M("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),S$=f("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},M("editorWhitespaces","Color of whitespace characters in the editor.")),Np=f("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:X0.white,hcLight:"#292929"},M("editorLineNumbers","Color of editor line numbers.")),vK=f("editorIndentGuide.background",{dark:S$,light:S$,hcDark:S$,hcLight:S$},M("editorIndentGuides","Color of the editor indentation guides."),!1,M("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),hK=f("editorIndentGuide.activeBackground",{dark:S$,light:S$,hcDark:S$,hcLight:S$},M("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,M("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),C2=f("editorIndentGuide.background1",{dark:vK,light:vK,hcDark:vK,hcLight:vK},M("editorIndentGuides1","Color of the editor indentation guides (1).")),Tp=f("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorIndentGuides2","Color of the editor indentation guides (2).")),wp=f("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorIndentGuides3","Color of the editor indentation guides (3).")),Lp=f("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorIndentGuides4","Color of the editor indentation guides (4).")),kp=f("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorIndentGuides5","Color of the editor indentation guides (5).")),Ep=f("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorIndentGuides6","Color of the editor indentation guides (6).")),v2=f("editorIndentGuide.activeBackground1",{dark:hK,light:hK,hcDark:hK,hcLight:hK},M("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),Ip=f("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),yp=f("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),xp=f("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),bp=f("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),Sp=f("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),fK=f("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:_6,hcLight:_6},M("editorActiveLineNumber","Color of editor active line number"),!1,M("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),oA0=f("editorLineNumber.activeForeground",{dark:fK,light:fK,hcDark:fK,hcLight:fK},M("editorActiveLineNumber","Color of editor active line number")),Cp=f("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},M("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),tA0=f("editorRuler.foreground",{dark:"#5A5A5A",light:X0.lightgrey,hcDark:X0.white,hcLight:"#292929"},M("editorRuler","Color of the editor rulers.")),eA0=f("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},M("editorCodeLensForeground","Foreground color of editor CodeLens")),JP0=f("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},M("editorBracketMatchBackground","Background color behind matching brackets")),$P0=f("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:y1,hcLight:y1},M("editorBracketMatchBorder","Color for matching brackets boxes")),vp=f("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},M("editorOverviewRulerBorder","Color of the overview ruler border.")),hp=f("editorOverviewRuler.background",null,M("editorOverviewRulerBackground","Background color of the editor overview ruler.")),QP0=f("editorGutter.background",{dark:e5,light:e5,hcDark:e5,hcLight:e5},M("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),XP0=f("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:X0.fromHex("#fff").transparent(0.8),hcLight:y1},M("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),fp=f("editorUnnecessaryCode.opacity",{dark:X0.fromHex("#000a"),light:X0.fromHex("#0007"),hcDark:null,hcLight:null},M("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),YP0=f("editorGhostText.border",{dark:null,light:null,hcDark:X0.fromHex("#fff").transparent(0.8),hcLight:X0.fromHex("#292929").transparent(0.8)},M("editorGhostTextBorder","Border color of ghost text in the editor.")),ZP0=f("editorGhostText.foreground",{dark:X0.fromHex("#ffffff56"),light:X0.fromHex("#0007"),hcDark:null,hcLight:null},M("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),GP0=f("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},M("editorGhostTextBackground","Background color of the ghost text in the editor.")),gK=new X0(new I1(0,122,204,0.6)),qP0=f("editorOverviewRuler.rangeHighlightForeground",{dark:gK,light:gK,hcDark:gK,hcLight:gK},M("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),gp=f("editorOverviewRuler.errorForeground",{dark:new X0(new I1(255,18,18,0.7)),light:new X0(new I1(255,18,18,0.7)),hcDark:new X0(new I1(255,50,50,1)),hcLight:"#B5200D"},M("overviewRuleError","Overview ruler marker color for errors.")),pp=f("editorOverviewRuler.warningForeground",{dark:y8,light:y8,hcDark:PH,hcLight:PH},M("overviewRuleWarning","Overview ruler marker color for warnings.")),mp=f("editorOverviewRuler.infoForeground",{dark:n7,light:n7,hcDark:DH,hcLight:DH},M("overviewRuleInfo","Overview ruler marker color for infos.")),mK=f("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},M("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),uK=f("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},M("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),cK=f("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},M("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),lK=f("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),dK=f("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),sK=f("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),up=f("editorBracketHighlight.unexpectedBracket.foreground",{dark:new X0(new I1(255,18,18,0.8)),light:new X0(new I1(255,18,18,0.8)),hcDark:new X0(new I1(255,50,50,1)),hcLight:""},M("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),cp=f("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),lp=f("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),dp=f("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),sp=f("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),ap=f("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),rp=f("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ip=f("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),np=f("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),op=f("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),tp=f("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ep=f("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Jm=f("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},M("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),UP0=f("editorUnicodeHighlight.border",{dark:y8,light:y8,hcDark:y8,hcLight:y8},M("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),zP0=f("editorUnicodeHighlight.background",{dark:RH,light:RH,hcDark:RH,hcLight:RH},M("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));i8((J,$)=>{let Q=J.getColor(e5),X=J.getColor(CN),Y=X&&!X.isTransparent()?X:Q;if(Y)$.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Y}; }`)})});var h2;var hN=E(()=>{Rp();E1();_Y();e0();G5();yJ();h2=class h2 extends J9{constructor(J){super();this._context=J,this._readConfig(),this._lastCursorModelPosition=new s(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){let J=this._context.configuration.options;this._lineHeight=J.get(66);let $=J.get(67);this._renderLineNumbers=$.renderType,this._renderCustomLineNumbers=$.renderFn,this._renderFinalNewline=J.get(94);let Q=J.get(143);this._lineNumbersLeft=Q.lineNumbersLeft,this._lineNumbersWidth=Q.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return this._readConfig(),!0}onCursorStateChanged(J){let $=J.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition($);let Q=!1;if(this._activeLineNumber!==$.lineNumber)this._activeLineNumber=$.lineNumber,Q=!0;if(this._renderLineNumbers===2||this._renderLineNumbers===3)Q=!0;return Q}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onDecorationsChanged(J){return J.affectsLineNumber}_getLineRenderLineNumber(J){let $=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s(J,1));if($.column!==1)return"";let Q=$.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(Q);if(this._renderLineNumbers===2){let X=Math.abs(this._lastCursorModelPosition.lineNumber-Q);if(X===0)return'<span class="relative-current-line-number">'+Q+"</span>";return String(X)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===Q)return String(Q);if(Q%10===0)return String(Q);return""}return String(Q)}prepareRender(J){if(this._renderLineNumbers===0){this._renderResult=null;return}let $=w6?this._lineHeight%2===0?" lh-even":" lh-odd":"",Q=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Y=this._context.viewModel.getDecorationsInViewport(J.visibleRange).filter((U)=>!!U.options.lineNumberClassName);Y.sort((U,z)=>v.compareRangesUsingEnds(U.range,z.range));let Z=0,G=this._context.viewModel.getLineCount(),q=[];for(let U=Q;U<=X;U++){let z=U-Q,H=this._getLineRenderLineNumber(U),j="";while(Z<Y.length&&Y[Z].range.endLineNumber<U)Z++;for(let B=Z;B<Y.length;B++){let{range:V,options:W}=Y[B];if(V.startLineNumber<=U)j+=" "+W.lineNumberClassName}if(!H&&!j){q[z]="";continue}if(U===G&&this._context.viewModel.getLineLength(U)===0){if(this._renderFinalNewline==="off")H="";if(this._renderFinalNewline==="dimmed")j+=" dimmed-line-number"}if(U===this._activeLineNumber)j+=" active-line-number";q[z]=`<div class="${h2.CLASS_NAME}${$}${j}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${H}</div>`}this._renderResult=q}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}};h2.CLASS_NAME="line-numbers";i8((J,$)=>{let Q=J.getColor(Np),X=J.getColor(Cp);if(X)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${X}; }`);else if(Q)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${Q.transparent(0.4)}; }`)})});var $m=E(()=>{_0(".monaco-editor .margin{background-color:var(--vscode-editorGutter-background)}")});var ZX;var fN=E(()=>{$m();a8();ZX=class ZX extends k6{constructor(J){super(J);let $=this._context.configuration.options,Q=$.get(143);this._canUseLayerHinting=!$.get(32),this._contentLeft=Q.contentLeft,this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,this._domNode=q1(document.createElement("div")),this._domNode.setClassName(ZX.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=q1(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(ZX.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);return this._canUseLayerHinting=!$.get(32),this._contentLeft=Q.contentLeft,this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollTopChanged}prepareRender(J){}render(J){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");let $=J.scrollTop-J.bigNumbersDelta;this._domNode.setTop(-$);let Q=Math.min(J.scrollHeight,1e6);this._domNode.setHeight(Q),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(Q)}};ZX.CLASS_NAME="glyph-margin";ZX.OUTER_CLASS_NAME="margin"});var Qm=E(()=>{_0(".monaco-mouse-cursor-text{cursor:text}")});var GX="monaco-mouse-cursor-text";var aK=E(()=>{Qm()});class Xm{constructor(){this._onDidChange=new p,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}var NY;var gN=E(()=>{E0();NY=new Xm});var Q5;var h4=E(()=>{n0();Q5=b0("keybindingService")});class Zm{constructor(J,$,Q,X,Y){this._context=J,this.modelLineNumber=$,this.distanceToModelLineStart=Q,this.widthOfHiddenLineTextBefore=X,this.distanceToModelLineEnd=Y,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(J){let $=new s(this.modelLineNumber,this.distanceToModelLineStart+1),Q=new s(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);if(this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q),this.startPosition.lineNumber===this.endPosition.lineNumber)this.visibleTextareaStart=J.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=J.visibleRangeForPosition(this.endPosition);else this.visibleTextareaStart=null,this.visibleTextareaEnd=null}definePresentation(J){if(!this._previousPresentation)if(J)this._previousPresentation=J;else this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};return this._previousPresentation}}function Q70(J,$,Q,X){if($.length===0)return 0;let Y=J.createElement("div");Y.style.position="absolute",Y.style.top="-50000px",Y.style.width="50000px";let Z=J.createElement("span");h6(Z,Q),Z.style.whiteSpace="pre",Z.style.tabSize=`${X*Q.spaceWidth}px`,Z.append($),Y.appendChild(Z),J.body.appendChild(Y);let G=Z.offsetWidth;return J.body.removeChild(Y),G}var $70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Ym=function(J,$){return function(Q,X){$(Q,X,J)}},pN,rK;var Gm=E(()=>{Dp();a0();M7();E1();G1();P4();yN();EN();a8();hN();fN();U8();az();e0();u5();aK();w8();a7();gN();h4();n0();pN=i5,rK=class extends k6{constructor($,Q,X,Y,Z){super($);this._keybindingService=Y,this._instantiationService=Z,this._primaryCursorPosition=new s(1,1),this._primaryCursorVisibleRange=null,this._viewController=Q,this._visibleRangeProvider=X,this._scrollLeft=0,this._scrollTop=0;let G=this._context.configuration.options,q=G.get(143);this._setAccessibilityOptions(G),this._contentLeft=q.contentLeft,this._contentWidth=q.contentWidth,this._contentHeight=q.height,this._fontInfo=G.get(50),this._lineHeight=G.get(66),this._emptySelectionClipboard=G.get(37),this._copyWithSyntaxHighlighting=G.get(25),this._visibleTextArea=null,this._selections=[new d0(1,1,1,1)],this._modelSelections=[new d0(1,1,1,1)],this._lastRenderPosition=null,this.textArea=q1(document.createElement("textarea")),W8.write(this.textArea,7),this.textArea.setClassName(`inputarea ${GX}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");let{tabSize:U}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${U*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(G)),this.textArea.setAttribute("aria-required",G.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(G.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",M("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",G.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=q1(document.createElement("div")),this.textAreaCover.setPosition("absolute");let z={getLineCount:()=>{return this._context.viewModel.getLineCount()},getLineMaxColumn:(B)=>{return this._context.viewModel.getLineMaxColumn(B)},getValueInRange:(B,V)=>{return this._context.viewModel.getValueInRange(B,V)},getValueLengthInRange:(B,V)=>{return this._context.viewModel.getValueLengthInRange(B,V)},modifyPosition:(B,V)=>{return this._context.viewModel.modifyPosition(B,V)}},H={getDataToCopy:()=>{let B=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,c6),V=this._context.viewModel.model.getEOL(),W=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),K=Array.isArray(B)?B:null,A=Array.isArray(B)?B.join(V):B,F=void 0,P=null;if(Bp.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&A.length<65536){let R=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);if(R)F=R.html,P=R.mode}return{isFromEmptySelection:W,multicursorText:K,text:A,html:F,mode:P}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){let B=this._selections[0];if($1&&B.isEmpty()){let W=B.getStartPosition(),K=this._getWordBeforePosition(W);if(K.length===0)K=this._getCharacterBeforePosition(W);if(K.length>0)return new C5(K,K.length,K.length,v.fromPositions(W),0)}let V=500;if($1&&!B.isEmpty()&&z.getValueLengthInRange(B,0)<V){let W=z.getValueInRange(B,0);return new C5(W,0,W.length,B,0)}if(f7&&!B.isEmpty())return new C5("vscode-placeholder",0,18,null,void 0);return C5.EMPTY}if(mM){let B=this._selections[0];if(B.isEmpty()){let V=B.getStartPosition(),[W,K]=this._getAndroidWordAtPosition(V);if(W.length>0)return new C5(W,K,K,v.fromPositions(V),0)}return C5.EMPTY}return S2.fromEditorSelection(z,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(B,V,W)=>{return this._context.viewModel.deduceModelPositionRelativeToViewPosition(B,V,W)}},j=this._register(new IN(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(CK,H,j,f8,{isAndroid:mM,isChrome:H$,isFirefox:i5,isSafari:f7})),this._register(this._textAreaInput.onKeyDown((B)=>{this._viewController.emitKeyDown(B)})),this._register(this._textAreaInput.onKeyUp((B)=>{this._viewController.emitKeyUp(B)})),this._register(this._textAreaInput.onPaste((B)=>{let V=!1,W=null,K=null;if(B.metadata)V=this._emptySelectionClipboard&&!!B.metadata.isFromEmptySelection,W=typeof B.metadata.multicursorText<"u"?B.metadata.multicursorText:null,K=B.metadata.mode;this._viewController.paste(B.text,V,W,K)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType((B)=>{if(B.replacePrevCharCnt||B.replaceNextCharCnt||B.positionDelta){if(e7)console.log(` => compositionType: <<${B.text}>>, ${B.replacePrevCharCnt}, ${B.replaceNextCharCnt}, ${B.positionDelta}`);this._viewController.compositionType(B.text,B.replacePrevCharCnt,B.replaceNextCharCnt,B.positionDelta)}else{if(e7)console.log(` => type: <<${B.text}>>`);this._viewController.type(B.text)}})),this._register(this._textAreaInput.onSelectionChangeRequest((B)=>{this._viewController.setSelection(B)})),this._register(this._textAreaInput.onCompositionStart((B)=>{let V=this.textArea.domNode,W=this._modelSelections[0],{distanceToModelLineStart:K,widthOfHiddenTextBefore:A}=(()=>{let P=V.value.substring(0,Math.min(V.selectionStart,V.selectionEnd)),R=P.lastIndexOf(`
`),D=P.substring(R+1),_=D.lastIndexOf("\t"),O=D.length-_-1,N=W.getStartPosition(),w=Math.min(N.column-1,O),T=N.column-1-w,I=D.substring(0,D.length-w),{tabSize:k}=this._context.viewModel.model.getOptions(),x=Q70(this.textArea.domNode.ownerDocument,I,this._fontInfo,k);return{distanceToModelLineStart:T,widthOfHiddenTextBefore:x}})(),{distanceToModelLineEnd:F}=(()=>{let P=V.value.substring(Math.max(V.selectionStart,V.selectionEnd)),R=P.indexOf(`
`),D=R===-1?P:P.substring(0,R),_=D.indexOf("\t"),O=_===-1?D.length:D.length-_-1,N=W.getEndPosition(),w=Math.min(this._context.viewModel.model.getLineMaxColumn(N.lineNumber)-N.column,O);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(N.lineNumber)-N.column-w}})();this._context.viewModel.revealRange("keyboard",!0,v.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Zm(this._context,W.startLineNumber,K,A,F),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${GX} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate((B)=>{if(!this._visibleTextArea)return;this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${GX}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(NY.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent($){this._textAreaInput.writeNativeTextAreaContent($)}dispose(){super.dispose()}_getAndroidWordAtPosition($){let X=this._context.viewModel.getLineContent($.lineNumber),Y=P$('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?'),Z=!0,G=$.column,q=!0,U=$.column,z=0;while(z<50&&(Z||q)){if(Z&&G<=1)Z=!1;if(Z){let H=X.charCodeAt(G-2);if(Y.get(H)!==0)Z=!1;else G--}if(q&&U>X.length)q=!1;if(q){let H=X.charCodeAt(U-1);if(Y.get(H)!==0)q=!1;else U++}z++}return[X.substring(G-1,U-1),$.column-G]}_getWordBeforePosition($){let Q=this._context.viewModel.getLineContent($.lineNumber),X=P$(this._context.configuration.options.get(129)),Y=$.column,Z=0;while(Y>1){let G=Q.charCodeAt(Y-2);if(X.get(G)!==0||Z>50)return Q.substring(Y-1,$.column-1);Z++,Y--}return Q.substring(0,$.column-1)}_getCharacterBeforePosition($){if($.column>1){let X=this._context.viewModel.getLineContent($.lineNumber).charAt($.column-2);if(!P6(X.charCodeAt(0)))return X}return""}_getAriaLabel($){var Q,X,Y;if($.get(2)===1){let G=(Q=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||Q===void 0?void 0:Q.getAriaLabel(),q=(X=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||X===void 0?void 0:X.getAriaLabel(),U=(Y=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||Y===void 0?void 0:Y.getAriaLabel(),z=M("accessibilityModeOff","The editor is not accessible at this time.");if(G)return M("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",z,G);else if(q)return M("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",z,q);else if(U)return M("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",z,U);else return z}return $.get(4)}_setAccessibilityOptions($){this._accessibilitySupport=$.get(2);let Q=$.get(3);if(this._accessibilitySupport===2&&Q===XJ.accessibilityPageSize.defaultValue)this._accessibilityPageSize=500;else this._accessibilityPageSize=Q;let Y=$.get(143).wrappingColumn;if(Y!==-1&&this._accessibilitySupport!==1){let Z=$.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(Y*Z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=pN?0:1}onConfigurationChanged($){let Q=this._context.configuration.options,X=Q.get(143);this._setAccessibilityOptions(Q),this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._contentHeight=X.height,this._fontInfo=Q.get(50),this._lineHeight=Q.get(66),this._emptySelectionClipboard=Q.get(37),this._copyWithSyntaxHighlighting=Q.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");let{tabSize:Y}=this._context.viewModel.model.getOptions();if(this.textArea.domNode.style.tabSize=`${Y*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(Q)),this.textArea.setAttribute("aria-required",Q.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Q.get(123))),$.hasChanged(34)||$.hasChanged(90))this._ensureReadOnlyAttribute();if($.hasChanged(2))this._textAreaInput.writeNativeTextAreaContent("strategy changed");return!0}onCursorStateChanged($){return this._selections=$.selections.slice(0),this._modelSelections=$.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged($){return!0}onFlushed($){return!0}onLinesChanged($){return!0}onLinesDeleted($){return!0}onLinesInserted($){return!0}onScrollChanged($){return this._scrollLeft=$.scrollLeft,this._scrollTop=$.scrollTop,!0}onZonesChanged($){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions($){if($.activeDescendant)this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",$.activeDescendant);else this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant");if($.role)this.textArea.setAttribute("role",$.role)}_ensureReadOnlyAttribute(){let $=this._context.configuration.options;if(!NY.enabled||$.get(34)&&$.get(90))this.textArea.setAttribute("readonly","true");else this.textArea.removeAttribute("readonly")}prepareRender($){var Q;this._primaryCursorPosition=new s(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=$.visibleRangeForPosition(this._primaryCursorPosition),(Q=this._visibleTextArea)===null||Q===void 0||Q.prepareRender($)}render($){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var $;if(this._visibleTextArea){let Y=this._visibleTextArea.visibleTextareaStart,Z=this._visibleTextArea.visibleTextareaEnd,G=this._visibleTextArea.startPosition,q=this._visibleTextArea.endPosition;if(G&&q&&Y&&Z&&Z.left>=this._scrollLeft&&Y.left<=this._scrollLeft+this._contentWidth){let U=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,z=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),H=this._visibleTextArea.widthOfHiddenLineTextBefore,j=this._contentLeft+Y.left-this._scrollLeft,B=Z.left-Y.left+1;if(j<this._contentLeft){let P=this._contentLeft-j;j+=P,H+=P,B-=P}if(B>this._contentWidth)B=this._contentWidth;let V=this._context.viewModel.getViewLineData(G.lineNumber),W=V.tokens.findTokenIndexAtOffset(G.column-1),K=V.tokens.findTokenIndexAtOffset(q.column-1),A=W===K,F=this._visibleTextArea.definePresentation(A?V.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=z*this._lineHeight,this.textArea.domNode.scrollLeft=H,this._doRender({lastRenderPosition:null,top:U,left:j,width:B,height:this._lineHeight,useCover:!1,color:(Q6.getColorMap()||[])[F.foreground],italic:F.italic,bold:F.bold,underline:F.underline,strikethrough:F.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}let Q=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(Q<this._contentLeft||Q>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}let X=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(X<0||X>this._contentHeight){this._renderAtTopLeft();return}if($1||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:X,left:this._textAreaWrapping?this._contentLeft:Q,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;let Y=($=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&$!==void 0?$:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=Y*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:X,left:this._textAreaWrapping?this._contentLeft:Q,width:this._textAreaWidth,height:pN?0:1,useCover:!1})}_newlinecount($){let Q=0,X=-1;do{if(X=$.indexOf(`
`,X+1),X===-1)break;Q++}while(!0);return Q}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:pN?0:1,useCover:!0})}_doRender($){this._lastRenderPosition=$.lastRenderPosition;let Q=this.textArea,X=this.textAreaCover;if(h6(Q,this._fontInfo),Q.setTop($.top),Q.setLeft($.left),Q.setWidth($.width),Q.setHeight($.height),Q.setColor($.color?X0.Format.CSS.formatHex($.color):""),Q.setFontStyle($.italic?"italic":""),$.bold)Q.setFontWeight("bold");Q.setTextDecoration(`${$.underline?" underline":""}${$.strikethrough?" line-through":""}`),X.setTop($.useCover?$.top:0),X.setLeft($.useCover?$.left:0),X.setWidth($.useCover?$.width:0),X.setHeight($.useCover?$.height:0);let Y=this._context.configuration.options;if(Y.get(57))X.setClassName("monaco-editor-background textAreaCover "+ZX.OUTER_CLASS_NAME);else if(Y.get(67).renderType!==0)X.setClassName("monaco-editor-background textAreaCover "+h2.CLASS_NAME);else X.setClassName("monaco-editor-background textAreaCover")}};rK=$70([Ym(3,Q5),Ym(4,r0)],rK)});function X70(J,$,Q){let X=0;for(let Z=0;Z<J.length;Z++)if(J.charAt(Z)==="\t")X=i1.nextIndentTabStop(X,$);else X++;let Y="";if(!Q){let Z=Math.floor(X/$);X=X%$;for(let G=0;G<Z;G++)Y+="\t"}for(let Z=0;Z<X;Z++)Y+=" ";return Y}function iK(J,$,Q){let X=s6(J);if(X===-1)X=J.length;return X70(J.substring(0,X),$,Q)+J.substring(X)}var mN=E(()=>{G1();C4()});class TY{static shouldRecreate(J){return J.hasChanged(143)||J.hasChanged(129)||J.hasChanged(37)||J.hasChanged(76)||J.hasChanged(78)||J.hasChanged(79)||J.hasChanged(6)||J.hasChanged(7)||J.hasChanged(11)||J.hasChanged(9)||J.hasChanged(10)||J.hasChanged(14)||J.hasChanged(127)||J.hasChanged(50)||J.hasChanged(90)}constructor(J,$,Q,X){var Y;this.languageConfigurationService=X,this._cursorMoveConfigurationBrand=void 0,this._languageId=J;let Z=Q.options,G=Z.get(143),q=Z.get(50);this.readOnly=Z.get(90),this.tabSize=$.tabSize,this.indentSize=$.indentSize,this.insertSpaces=$.insertSpaces,this.stickyTabStops=Z.get(115),this.lineHeight=q.lineHeight,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(G.height/this.lineHeight)-2),this.useTabStops=Z.get(127),this.wordSeparators=Z.get(129),this.emptySelectionClipboard=Z.get(37),this.copyWithSyntaxHighlighting=Z.get(25),this.multiCursorMergeOverlapping=Z.get(76),this.multiCursorPaste=Z.get(78),this.multiCursorLimit=Z.get(79),this.autoClosingBrackets=Z.get(6),this.autoClosingComments=Z.get(7),this.autoClosingQuotes=Z.get(11),this.autoClosingDelete=Z.get(9),this.autoClosingOvertype=Z.get(10),this.autoSurround=Z.get(14),this.autoIndent=Z.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(J,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(J,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(J,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(J).getAutoClosingPairs();let U=this.languageConfigurationService.getLanguageConfiguration(J).getSurroundingPairs();if(U)for(let H of U)this.surroundingPairs[H.open]=H.close;let z=this.languageConfigurationService.getLanguageConfiguration(J).comments;this.blockCommentStartToken=(Y=z===null||z===void 0?void 0:z.blockCommentStartToken)!==null&&Y!==void 0?Y:null}get electricChars(){var J;if(!this._electricChars){this._electricChars={};let $=(J=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||J===void 0?void 0:J.getElectricCharacters();if($)for(let Q of $)this._electricChars[Q]=!0}return this._electricChars}onElectricCharacter(J,$,Q){let X=GY($,Q-1),Y=this.languageConfigurationService.getLanguageConfiguration(X.languageId).electricCharacter;if(!Y)return null;return Y.onElectricCharacter(J,X,Q-X.firstCharOffset)}normalizeIndentation(J){return iK(J,this.indentSize,this.insertSpaces)}_getShouldAutoClose(J,$,Q){switch($){case"beforeWhitespace":return G70;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(J,Q);case"always":return Y70;case"never":return Z70}}_getLanguageDefinedShouldAutoClose(J,$){let Q=this.languageConfigurationService.getLanguageConfiguration(J).getAutoCloseBeforeSet($);return(X)=>Q.indexOf(X)!==-1}visibleColumnFromColumn(J,$){return i1.visibleColumnFromColumn(J.getLineContent($.lineNumber),$.column,this.tabSize)}columnFromVisibleColumn(J,$,Q){let X=i1.columnFromVisibleColumn(J.getLineContent($),Q,this.tabSize),Y=J.getLineMinColumn($);if(X<Y)return Y;let Z=J.getLineMaxColumn($);if(X>Z)return Z;return X}}class R1{static fromModelState(J){return new qm(J)}static fromViewState(J){return new Um(J)}static fromModelSelection(J){let $=d0.liftSelection(J),Q=new K5(v.fromPositions($.getSelectionStart()),0,0,$.getPosition(),0);return R1.fromModelState(Q)}static fromModelSelections(J){let $=[];for(let Q=0,X=J.length;Q<X;Q++)$[Q]=this.fromModelSelection(J[Q]);return $}constructor(J,$){this._cursorStateBrand=void 0,this.modelState=J,this.viewState=$}equals(J){return this.viewState.equals(J.viewState)&&this.modelState.equals(J.modelState)}}class qm{constructor(J){this.modelState=J,this.viewState=null}}class Um{constructor(J){this.modelState=null,this.viewState=J}}class K5{constructor(J,$,Q,X,Y){this.selectionStart=J,this.selectionStartKind=$,this.selectionStartLeftoverVisibleColumns=Q,this.position=X,this.leftoverVisibleColumns=Y,this._singleCursorStateBrand=void 0,this.selection=K5._computeSelection(this.selectionStart,this.position)}equals(J){return this.selectionStartLeftoverVisibleColumns===J.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===J.leftoverVisibleColumns&&this.selectionStartKind===J.selectionStartKind&&this.position.equals(J.position)&&this.selectionStart.equalsRange(J.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(J,$,Q,X){if(J)return new K5(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new s($,Q),X);else return new K5(new v($,Q,$,Q),0,X,new s($,Q),X)}static _computeSelection(J,$){if(J.isEmpty()||!$.isBeforeOrEqual(J.getStartPosition()))return d0.fromPositions(J.getStartPosition(),$);else return d0.fromPositions(J.getEndPosition(),$)}}class K8{constructor(J,$,Q){this._editOperationResultBrand=void 0,this.type=J,this.commands=$,this.shouldPushStackElementBefore=Q.shouldPushStackElementBefore,this.shouldPushStackElementAfter=Q.shouldPushStackElementAfter}}function C$(J){return J==="'"||J==='"'||J==="`"}var Y70=()=>!0,Z70=()=>!1,G70=(J)=>J===" "||J==="\t";var f4=E(()=>{e0();u5();C4();mN()});class wY{static columnSelect(J,$,Q,X,Y,Z){let G=Math.abs(Y-Q)+1,q=Q>Y,U=X>Z,z=X<Z,H=[];for(let j=0;j<G;j++){let B=Q+(q?-j:j),V=J.columnFromVisibleColumn($,B,X),W=J.columnFromVisibleColumn($,B,Z),K=J.visibleColumnFromColumn($,new s(B,V)),A=J.visibleColumnFromColumn($,new s(B,W));if(z){if(K>Z)continue;if(A<X)continue}if(U){if(A>X)continue;if(K<Z)continue}H.push(new K5(new v(B,V,B,V),0,0,new s(B,W),0))}if(H.length===0)for(let j=0;j<G;j++){let B=Q+(q?-j:j),V=$.getLineMaxColumn(B);H.push(new K5(new v(B,V,B,V),0,0,new s(B,V),0))}return{viewStates:H,reversed:q,fromLineNumber:Q,fromVisualColumn:X,toLineNumber:Y,toVisualColumn:Z}}static columnSelectLeft(J,$,Q){let X=Q.toViewVisualColumn;if(X>0)X--;return wY.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Q.toViewLineNumber,X)}static columnSelectRight(J,$,Q){let X=0,Y=Math.min(Q.fromViewLineNumber,Q.toViewLineNumber),Z=Math.max(Q.fromViewLineNumber,Q.toViewLineNumber);for(let q=Y;q<=Z;q++){let U=$.getLineMaxColumn(q),z=J.visibleColumnFromColumn($,new s(q,U));X=Math.max(X,z)}let G=Q.toViewVisualColumn;if(G<X)G++;return this.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Q.toViewLineNumber,G)}static columnSelectUp(J,$,Q,X){let Y=X?J.pageSize:1,Z=Math.max(1,Q.toViewLineNumber-Y);return this.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Z,Q.toViewVisualColumn)}static columnSelectDown(J,$,Q,X){let Y=X?J.pageSize:1,Z=Math.min($.getLineCount(),Q.toViewLineNumber+Y);return this.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Z,Q.toViewVisualColumn)}}var zm=E(()=>{f4();e0()});class n8{constructor(J,$,Q=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=Q}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return d0.fromPositions(X.getEndPosition())}}class $q{constructor(J,$,Q=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=Q}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return d0.fromPositions(X.getStartPosition())}}class Qq{constructor(J,$,Q,X,Y=!1){this._range=J,this._text=$,this._columnDeltaOffset=X,this._lineNumberDeltaOffset=Q,this.insertsAutoWhitespace=Y}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return d0.fromPositions(X.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class uN{constructor(J,$,Q,X=!1){this._range=J,this._text=$,this._initialSelection=Q,this._forceMoveMarkers=X,this._selectionId=null}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=$.trackSelection(this._initialSelection)}computeCursorState(J,$){return $.getTrackedSelection(this._selectionId)}}var cN=E(()=>{u5()});class nK{constructor(J,$,Q){this._cursorPositionBrand=void 0,this.lineNumber=J,this.column=$,this.leftoverVisibleColumns=Q}}class d1{static leftPosition(J,$){if($.column>J.getLineMinColumn($.lineNumber))return $.delta(void 0,-fM(J.getLineContent($.lineNumber),$.column-1));else if($.lineNumber>1){let Q=$.lineNumber-1;return new s(Q,J.getLineMaxColumn(Q))}else return $}static leftPositionAtomicSoftTabs(J,$,Q){if($.column<=J.getLineIndentColumn($.lineNumber)){let X=J.getLineMinColumn($.lineNumber),Y=J.getLineContent($.lineNumber),Z=I2.atomicPosition(Y,$.column-1,Q,0);if(Z!==-1&&Z+1>=X)return new s($.lineNumber,Z+1)}return this.leftPosition(J,$)}static left(J,$,Q){let X=J.stickyTabStops?d1.leftPositionAtomicSoftTabs($,Q,J.tabSize):d1.leftPosition($,Q);return new nK(X.lineNumber,X.column,0)}static moveLeft(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.startLineNumber,G=Q.selection.startColumn;else{let q=Q.position.delta(void 0,-(Y-1)),U=$.normalizePosition(d1.clipPositionColumn(q,$),0),z=d1.left(J,$,U);Z=z.lineNumber,G=z.column}return Q.move(X,Z,G,0)}static clipPositionColumn(J,$){return new s(J.lineNumber,d1.clipRange(J.column,$.getLineMinColumn(J.lineNumber),$.getLineMaxColumn(J.lineNumber)))}static clipRange(J,$,Q){if(J<$)return $;if(J>Q)return Q;return J}static rightPosition(J,$,Q){if(Q<J.getLineMaxColumn($))Q=Q+jz(J.getLineContent($),Q-1);else if($<J.getLineCount())$=$+1,Q=J.getLineMinColumn($);return new s($,Q)}static rightPositionAtomicSoftTabs(J,$,Q,X,Y){if(Q<J.getLineIndentColumn($)){let Z=J.getLineContent($),G=I2.atomicPosition(Z,Q-1,X,1);if(G!==-1)return new s($,G+1)}return this.rightPosition(J,$,Q)}static right(J,$,Q){let X=J.stickyTabStops?d1.rightPositionAtomicSoftTabs($,Q.lineNumber,Q.column,J.tabSize,J.indentSize):d1.rightPosition($,Q.lineNumber,Q.column);return new nK(X.lineNumber,X.column,0)}static moveRight(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.endLineNumber,G=Q.selection.endColumn;else{let q=Q.position.delta(void 0,Y-1),U=$.normalizePosition(d1.clipPositionColumn(q,$),1),z=d1.right(J,$,U);Z=z.lineNumber,G=z.column}return Q.move(X,Z,G,0)}static vertical(J,$,Q,X,Y,Z,G,q){let U=i1.visibleColumnFromColumn($.getLineContent(Q),X,J.tabSize)+Y,z=$.getLineCount(),H=Q===1&&X===1,j=Q===z&&X===$.getLineMaxColumn(Q),B=Z<Q?H:j;if(Q=Z,Q<1)if(Q=1,G)X=$.getLineMinColumn(Q);else X=Math.min($.getLineMaxColumn(Q),X);else if(Q>z)if(Q=z,G)X=$.getLineMaxColumn(Q);else X=Math.min($.getLineMaxColumn(Q),X);else X=J.columnFromVisibleColumn($,Q,U);if(B)Y=0;else Y=U-i1.visibleColumnFromColumn($.getLineContent(Q),X,J.tabSize);if(q!==void 0){let V=new s(Q,X),W=$.normalizePosition(V,q);Y=Y+(X-W.column),Q=W.lineNumber,X=W.column}return new nK(Q,X,Y)}static down(J,$,Q,X,Y,Z,G){return this.vertical(J,$,Q,X,Y,Q+Z,G,4)}static moveDown(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.endLineNumber,G=Q.selection.endColumn;else Z=Q.position.lineNumber,G=Q.position.column;let q=0,U;do if(U=d1.down(J,$,Z+q,G,Q.leftoverVisibleColumns,Y,!0),$.normalizePosition(new s(U.lineNumber,U.column),2).lineNumber>Z)break;while(q++<10&&Z+q<$.getLineCount());return Q.move(X,U.lineNumber,U.column,U.leftoverVisibleColumns)}static translateDown(J,$,Q){let X=Q.selection,Y=d1.down(J,$,X.selectionStartLineNumber,X.selectionStartColumn,Q.selectionStartLeftoverVisibleColumns,1,!1),Z=d1.down(J,$,X.positionLineNumber,X.positionColumn,Q.leftoverVisibleColumns,1,!1);return new K5(new v(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new s(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static up(J,$,Q,X,Y,Z,G){return this.vertical(J,$,Q,X,Y,Q-Z,G,3)}static moveUp(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.startLineNumber,G=Q.selection.startColumn;else Z=Q.position.lineNumber,G=Q.position.column;let q=d1.up(J,$,Z,G,Q.leftoverVisibleColumns,Y,!0);return Q.move(X,q.lineNumber,q.column,q.leftoverVisibleColumns)}static translateUp(J,$,Q){let X=Q.selection,Y=d1.up(J,$,X.selectionStartLineNumber,X.selectionStartColumn,Q.selectionStartLeftoverVisibleColumns,1,!1),Z=d1.up(J,$,X.positionLineNumber,X.positionColumn,Q.leftoverVisibleColumns,1,!1);return new K5(new v(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new s(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static _isBlankLine(J,$){if(J.getLineFirstNonWhitespaceColumn($)===0)return!0;return!1}static moveToPrevBlankLine(J,$,Q,X){let Y=Q.position.lineNumber;while(Y>1&&this._isBlankLine($,Y))Y--;while(Y>1&&!this._isBlankLine($,Y))Y--;return Q.move(X,Y,$.getLineMinColumn(Y),0)}static moveToNextBlankLine(J,$,Q,X){let Y=$.getLineCount(),Z=Q.position.lineNumber;while(Z<Y&&this._isBlankLine($,Z))Z++;while(Z<Y&&!this._isBlankLine($,Z))Z++;return Q.move(X,Z,$.getLineMinColumn(Z),0)}static moveToBeginningOfLine(J,$,Q,X){let Y=Q.position.lineNumber,Z=$.getLineMinColumn(Y),G=$.getLineFirstNonWhitespaceColumn(Y)||Z,q;if(Q.position.column===G)q=Z;else q=G;return Q.move(X,Y,q,0)}static moveToEndOfLine(J,$,Q,X,Y){let Z=Q.position.lineNumber,G=$.getLineMaxColumn(Z);return Q.move(X,Z,G,Y?1073741824-G:0)}static moveToBeginningOfBuffer(J,$,Q,X){return Q.move(X,1,1,0)}static moveToEndOfBuffer(J,$,Q,X){let Y=$.getLineCount(),Z=$.getLineMaxColumn(Y);return Q.move(X,Y,Z,0)}}var lN=E(()=>{G1();C4();e0();FN();f4()});class v${static deleteRight(J,$,Q,X){let Y=[],Z=J!==3;for(let G=0,q=X.length;G<q;G++){let U=X[G],z=U;if(z.isEmpty()){let H=U.getPosition(),j=d1.right($,Q,H);z=new v(j.lineNumber,j.column,H.lineNumber,H.column)}if(z.isEmpty()){Y[G]=null;continue}if(z.startLineNumber!==z.endLineNumber)Z=!0;Y[G]=new n8(z,"")}return[Z,Y]}static isAutoClosingPairDelete(J,$,Q,X,Y,Z,G){if($==="never"&&Q==="never")return!1;if(J==="never")return!1;for(let q=0,U=Z.length;q<U;q++){let z=Z[q],H=z.getPosition();if(!z.isEmpty())return!1;let j=Y.getLineContent(H.lineNumber);if(H.column<2||H.column>=j.length+1)return!1;let B=j.charAt(H.column-2),V=X.get(B);if(!V)return!1;if(C$(B)){if(Q==="never")return!1}else if($==="never")return!1;let W=j.charAt(H.column-1),K=!1;for(let A of V)if(A.open===B&&A.close===W)K=!0;if(!K)return!1;if(J==="auto"){let A=!1;for(let F=0,P=G.length;F<P;F++){let R=G[F];if(H.lineNumber===R.startLineNumber&&H.column===R.startColumn){A=!0;break}}if(!A)return!1}}return!0}static _runAutoClosingPairDelete(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].getPosition(),q=new v(G.lineNumber,G.column-1,G.lineNumber,G.column+1);X[Y]=new n8(q,"")}return[!0,X]}static deleteLeft(J,$,Q,X,Y){if(this.isAutoClosingPairDelete($.autoClosingDelete,$.autoClosingBrackets,$.autoClosingQuotes,$.autoClosingPairs.autoClosingPairsOpenByEnd,Q,X,Y))return this._runAutoClosingPairDelete($,Q,X);let Z=[],G=J!==2;for(let q=0,U=X.length;q<U;q++){let z=v$.getDeleteRange(X[q],Q,$);if(z.isEmpty()){Z[q]=null;continue}if(z.startLineNumber!==z.endLineNumber)G=!0;Z[q]=new n8(z,"")}return[G,Z]}static getDeleteRange(J,$,Q){if(!J.isEmpty())return J;let X=J.getPosition();if(Q.useTabStops&&X.column>1){let Y=$.getLineContent(X.lineNumber),Z=s6(Y),G=Z===-1?Y.length+1:Z+1;if(X.column<=G){let q=Q.visibleColumnFromColumn($,X),U=i1.prevIndentTabStop(q,Q.indentSize),z=Q.columnFromVisibleColumn($,X.lineNumber,U);return new v(X.lineNumber,z,X.lineNumber,X.column)}}return v.fromPositions(v$.getPositionAfterDeleteLeft(X,$),X)}static getPositionAfterDeleteLeft(J,$){if(J.column>1){let Q=gS(J.column-1,$.getLineContent(J.lineNumber));return J.with(void 0,Q+1)}else if(J.lineNumber>1){let Q=J.lineNumber-1;return new s(Q,$.getLineMaxColumn(Q))}else return J}static cut(J,$,Q){let X=[],Y=null;Q.sort((Z,G)=>s.compare(Z.getStartPosition(),G.getEndPosition()));for(let Z=0,G=Q.length;Z<G;Z++){let q=Q[Z];if(q.isEmpty())if(J.emptySelectionClipboard){let U=q.getPosition(),z,H,j,B;if(U.lineNumber<$.getLineCount())z=U.lineNumber,H=1,j=U.lineNumber+1,B=1;else if(U.lineNumber>1&&(Y===null||Y===void 0?void 0:Y.endLineNumber)!==U.lineNumber)z=U.lineNumber-1,H=$.getLineMaxColumn(U.lineNumber-1),j=U.lineNumber,B=$.getLineMaxColumn(U.lineNumber);else z=U.lineNumber,H=1,j=U.lineNumber,B=$.getLineMaxColumn(U.lineNumber);let V=new v(z,H,j,B);if(Y=V,!V.isEmpty())X[Z]=new n8(V,"");else X[Z]=null}else X[Z]=null;else X[Z]=new n8(q,"")}return new K8(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}var oK=E(()=>{G1();cN();f4();C4();lN();e0()});class r6{static _createWord(J,$,Q,X,Y){return{start:X,end:Y,wordType:$,nextCharClass:Q}}static _findPreviousWordOnLine(J,$,Q){let X=$.getLineContent(Q.lineNumber);return this._doFindPreviousWordOnLine(X,J,Q)}static _doFindPreviousWordOnLine(J,$,Q){let X=0;for(let Y=Q.column-2;Y>=0;Y--){let Z=J.charCodeAt(Y),G=$.get(Z);if(G===0){if(X===2)return this._createWord(J,X,G,Y+1,this._findEndOfWord(J,$,X,Y+1));X=1}else if(G===2){if(X===1)return this._createWord(J,X,G,Y+1,this._findEndOfWord(J,$,X,Y+1));X=2}else if(G===1){if(X!==0)return this._createWord(J,X,G,Y+1,this._findEndOfWord(J,$,X,Y+1))}}if(X!==0)return this._createWord(J,X,1,0,this._findEndOfWord(J,$,X,0));return null}static _findEndOfWord(J,$,Q,X){let Y=J.length;for(let Z=X;Z<Y;Z++){let G=J.charCodeAt(Z),q=$.get(G);if(q===1)return Z;if(Q===1&&q===2)return Z;if(Q===2&&q===0)return Z}return Y}static _findNextWordOnLine(J,$,Q){let X=$.getLineContent(Q.lineNumber);return this._doFindNextWordOnLine(X,J,Q)}static _doFindNextWordOnLine(J,$,Q){let X=0,Y=J.length;for(let Z=Q.column-1;Z<Y;Z++){let G=J.charCodeAt(Z),q=$.get(G);if(q===0){if(X===2)return this._createWord(J,X,q,this._findStartOfWord(J,$,X,Z-1),Z);X=1}else if(q===2){if(X===1)return this._createWord(J,X,q,this._findStartOfWord(J,$,X,Z-1),Z);X=2}else if(q===1){if(X!==0)return this._createWord(J,X,q,this._findStartOfWord(J,$,X,Z-1),Z)}}if(X!==0)return this._createWord(J,X,1,this._findStartOfWord(J,$,X,Y-1),Y);return null}static _findStartOfWord(J,$,Q,X){for(let Y=X;Y>=0;Y--){let Z=J.charCodeAt(Y),G=$.get(Z);if(G===1)return Y+1;if(Q===1&&G===2)return Y+1;if(Q===2&&G===0)return Y+1}return 0}static moveWordLeft(J,$,Q,X){let{lineNumber:Y,column:Z}=Q;if(Z===1){if(Y>1)Y=Y-1,Z=$.getLineMaxColumn(Y)}let G=r6._findPreviousWordOnLine(J,$,new s(Y,Z));if(X===0)return new s(Y,G?G.start+1:1);if(X===1){if(G&&G.wordType===2&&G.end-G.start===1&&G.nextCharClass===0)G=r6._findPreviousWordOnLine(J,$,new s(Y,G.start+1));return new s(Y,G?G.start+1:1)}if(X===3){while(G&&G.wordType===2)G=r6._findPreviousWordOnLine(J,$,new s(Y,G.start+1));return new s(Y,G?G.start+1:1)}if(G&&Z<=G.end+1)G=r6._findPreviousWordOnLine(J,$,new s(Y,G.start+1));return new s(Y,G?G.end+1:1)}static _moveWordPartLeft(J,$){let Q=$.lineNumber,X=J.getLineMaxColumn(Q);if($.column===1)return Q>1?new s(Q-1,J.getLineMaxColumn(Q-1)):$;let Y=J.getLineContent(Q);for(let Z=$.column-1;Z>1;Z--){let G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G===95&&q!==95)return new s(Q,Z);if(G===45&&q!==45)return new s(Q,Z);if((mZ(G)||zz(G))&&U$(q))return new s(Q,Z);if(U$(G)&&U$(q)){if(Z+1<X){let U=Y.charCodeAt(Z);if(mZ(U)||zz(U))return new s(Q,Z)}}}return new s(Q,1)}static moveWordRight(J,$,Q,X){let{lineNumber:Y,column:Z}=Q,G=!1;if(Z===$.getLineMaxColumn(Y)){if(Y<$.getLineCount())G=!0,Y=Y+1,Z=1}let q=r6._findNextWordOnLine(J,$,new s(Y,Z));if(X===2){if(q&&q.wordType===2){if(q.end-q.start===1&&q.nextCharClass===0)q=r6._findNextWordOnLine(J,$,new s(Y,q.end+1))}if(q)Z=q.end+1;else Z=$.getLineMaxColumn(Y)}else if(X===3){if(G)Z=0;while(q&&(q.wordType===2||q.start+1<=Z))q=r6._findNextWordOnLine(J,$,new s(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}else{if(q&&!G&&Z>=q.start+1)q=r6._findNextWordOnLine(J,$,new s(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}return new s(Y,Z)}static _moveWordPartRight(J,$){let Q=$.lineNumber,X=J.getLineMaxColumn(Q);if($.column===X)return Q<J.getLineCount()?new s(Q+1,1):$;let Y=J.getLineContent(Q);for(let Z=$.column+1;Z<X;Z++){let G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G!==95&&q===95)return new s(Q,Z);if(G!==45&&q===45)return new s(Q,Z);if((mZ(G)||zz(G))&&U$(q))return new s(Q,Z);if(U$(G)&&U$(q)){if(Z+1<X){let U=Y.charCodeAt(Z);if(mZ(U)||zz(U))return new s(Q,Z)}}}return new s(Q,X)}static _deleteWordLeftWhitespace(J,$){let Q=J.getLineContent($.lineNumber),X=$.column-2,Y=j9(Q,X);if(Y+1<X)return new v($.lineNumber,Y+2,$.lineNumber,$.column);return null}static deleteWordLeft(J,$){let{wordSeparators:Q,model:X,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;if(v$.isAutoClosingPairDelete(J.autoClosingDelete,J.autoClosingBrackets,J.autoClosingQuotes,J.autoClosingPairs.autoClosingPairsOpenByEnd,J.model,[J.selection],J.autoClosedCharacters)){let H=J.selection.getPosition();return new v(H.lineNumber,H.column-1,H.lineNumber,H.column+1)}let G=new s(Y.positionLineNumber,Y.positionColumn),q=G.lineNumber,U=G.column;if(q===1&&U===1)return null;if(Z){let H=this._deleteWordLeftWhitespace(X,G);if(H)return H}let z=r6._findPreviousWordOnLine(Q,X,G);if($===0)if(z)U=z.start+1;else if(U>1)U=1;else q--,U=X.getLineMaxColumn(q);else{if(z&&U<=z.end+1)z=r6._findPreviousWordOnLine(Q,X,new s(q,z.start+1));if(z)U=z.end+1;else if(U>1)U=1;else q--,U=X.getLineMaxColumn(q)}return new v(q,U,G.lineNumber,G.column)}static deleteInsideWord(J,$,Q){if(!Q.isEmpty())return Q;let X=new s(Q.positionLineNumber,Q.positionColumn),Y=this._deleteInsideWordWhitespace($,X);if(Y)return Y;return this._deleteInsideWordDetermineDeleteRange(J,$,X)}static _charAtIsWhitespace(J,$){let Q=J.charCodeAt($);return Q===32||Q===9}static _deleteInsideWordWhitespace(J,$){let Q=J.getLineContent($.lineNumber),X=Q.length;if(X===0)return null;let Y=Math.max($.column-2,0);if(!this._charAtIsWhitespace(Q,Y))return null;let Z=Math.min($.column-1,X-1);if(!this._charAtIsWhitespace(Q,Z))return null;while(Y>0&&this._charAtIsWhitespace(Q,Y-1))Y--;while(Z+1<X&&this._charAtIsWhitespace(Q,Z+1))Z++;return new v($.lineNumber,Y+1,$.lineNumber,Z+2)}static _deleteInsideWordDetermineDeleteRange(J,$,Q){let X=$.getLineContent(Q.lineNumber),Y=X.length;if(Y===0)if(Q.lineNumber>1)return new v(Q.lineNumber-1,$.getLineMaxColumn(Q.lineNumber-1),Q.lineNumber,1);else if(Q.lineNumber<$.getLineCount())return new v(Q.lineNumber,1,Q.lineNumber+1,1);else return new v(Q.lineNumber,1,Q.lineNumber,1);let Z=(H)=>{return H.start+1<=Q.column&&Q.column<=H.end+1},G=(H,j)=>{return H=Math.min(H,Q.column),j=Math.max(j,Q.column),new v(Q.lineNumber,H,Q.lineNumber,j)},q=(H)=>{let j=H.start+1,B=H.end+1,V=!1;while(B-1<Y&&this._charAtIsWhitespace(X,B-1))V=!0,B++;if(!V)while(j>1&&this._charAtIsWhitespace(X,j-2))j--;return G(j,B)},U=r6._findPreviousWordOnLine(J,$,Q);if(U&&Z(U))return q(U);let z=r6._findNextWordOnLine(J,$,Q);if(z&&Z(z))return q(z);if(U&&z)return G(U.end+1,z.start+1);if(U)return G(U.start+1,U.end+1);if(z)return G(z.start+1,z.end+1);return G(1,Y+1)}static _deleteWordPartLeft(J,$){if(!$.isEmpty())return $;let Q=$.getPosition(),X=r6._moveWordPartLeft(J,Q);return new v(Q.lineNumber,Q.column,X.lineNumber,X.column)}static _findFirstNonWhitespaceChar(J,$){let Q=J.length;for(let X=$;X<Q;X++){let Y=J.charAt(X);if(Y!==" "&&Y!=="\t")return X}return Q}static _deleteWordRightWhitespace(J,$){let Q=J.getLineContent($.lineNumber),X=$.column-1,Y=this._findFirstNonWhitespaceChar(Q,X);if(X+1<Y)return new v($.lineNumber,$.column,$.lineNumber,Y+1);return null}static deleteWordRight(J,$){let{wordSeparators:Q,model:X,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;let G=new s(Y.positionLineNumber,Y.positionColumn),q=G.lineNumber,U=G.column,z=X.getLineCount(),H=X.getLineMaxColumn(q);if(q===z&&U===H)return null;if(Z){let B=this._deleteWordRightWhitespace(X,G);if(B)return B}let j=r6._findNextWordOnLine(Q,X,G);if($===2)if(j)U=j.end+1;else if(U<H||q===z)U=H;else if(q++,j=r6._findNextWordOnLine(Q,X,new s(q,1)),j)U=j.start+1;else U=X.getLineMaxColumn(q);else{if(j&&U>=j.start+1)j=r6._findNextWordOnLine(Q,X,new s(q,j.end+1));if(j)U=j.start+1;else if(U<H||q===z)U=H;else if(q++,j=r6._findNextWordOnLine(Q,X,new s(q,1)),j)U=j.start+1;else U=X.getLineMaxColumn(q)}return new v(q,U,G.lineNumber,G.column)}static _deleteWordPartRight(J,$){if(!$.isEmpty())return $;let Q=$.getPosition(),X=r6._moveWordPartRight(J,Q);return new v(Q.lineNumber,Q.column,X.lineNumber,X.column)}static _createWordAtPosition(J,$,Q){let X=new v($,Q.start+1,$,Q.end+1);return{word:J.getValueInRange(X),startColumn:X.startColumn,endColumn:X.endColumn}}static getWordAtPosition(J,$,Q){let X=P$($),Y=r6._findPreviousWordOnLine(X,J,Q);if(Y&&Y.wordType===1&&Y.start<=Q.column-1&&Q.column-1<=Y.end)return r6._createWordAtPosition(J,Q.lineNumber,Y);let Z=r6._findNextWordOnLine(X,J,Q);if(Z&&Z.wordType===1&&Z.start<=Q.column-1&&Q.column-1<=Z.end)return r6._createWordAtPosition(J,Q.lineNumber,Z);return null}static word(J,$,Q,X,Y){let Z=P$(J.wordSeparators),G=r6._findPreviousWordOnLine(Z,$,Y),q=r6._findNextWordOnLine(Z,$,Y);if(!X){let B,V;if(G&&G.wordType===1&&G.start<=Y.column-1&&Y.column-1<=G.end)B=G.start+1,V=G.end+1;else if(q&&q.wordType===1&&q.start<=Y.column-1&&Y.column-1<=q.end)B=q.start+1,V=q.end+1;else{if(G)B=G.end+1;else B=1;if(q)V=q.start+1;else V=$.getLineMaxColumn(Y.lineNumber)}return new K5(new v(Y.lineNumber,B,Y.lineNumber,V),1,0,new s(Y.lineNumber,V),0)}let U,z;if(G&&G.wordType===1&&G.start<Y.column-1&&Y.column-1<G.end)U=G.start+1,z=G.end+1;else if(q&&q.wordType===1&&q.start<Y.column-1&&Y.column-1<q.end)U=q.start+1,z=q.end+1;else U=Y.column,z=Y.column;let H=Y.lineNumber,j;if(Q.selectionStart.containsPosition(Y))j=Q.selectionStart.endColumn;else if(Y.isBeforeOrEqual(Q.selectionStart.getStartPosition())){j=U;let B=new s(H,j);if(Q.selectionStart.containsPosition(B))j=Q.selectionStart.endColumn}else{j=z;let B=new s(H,j);if(Q.selectionStart.containsPosition(B))j=Q.selectionStart.startColumn}return Q.move(!0,H,j,0)}}var dN=E(()=>{G1();f4();oK();az();e0()});class $8{static addCursorDown(J,$,Q){let X=[],Y=0;for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];if(X[Y++]=new R1(q.modelState,q.viewState),Q)X[Y++]=R1.fromModelState(d1.translateDown(J.cursorConfig,J.model,q.modelState));else X[Y++]=R1.fromViewState(d1.translateDown(J.cursorConfig,J,q.viewState))}return X}static addCursorUp(J,$,Q){let X=[],Y=0;for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];if(X[Y++]=new R1(q.modelState,q.viewState),Q)X[Y++]=R1.fromModelState(d1.translateUp(J.cursorConfig,J.model,q.modelState));else X[Y++]=R1.fromViewState(d1.translateUp(J.cursorConfig,J,q.viewState))}return X}static moveToBeginningOfLine(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];X[Y]=this._moveToLineStart(J,G,Q)}return X}static _moveToLineStart(J,$,Q){let X=$.viewState.position.column,Y=$.modelState.position.column,Z=X===Y,G=$.viewState.position.lineNumber,q=J.getLineFirstNonWhitespaceColumn(G);if(!Z&&X!==q)return this._moveToLineStartByView(J,$,Q);else return this._moveToLineStartByModel(J,$,Q)}static _moveToLineStartByView(J,$,Q){return R1.fromViewState(d1.moveToBeginningOfLine(J.cursorConfig,J,$.viewState,Q))}static _moveToLineStartByModel(J,$,Q){return R1.fromModelState(d1.moveToBeginningOfLine(J.cursorConfig,J.model,$.modelState,Q))}static moveToEndOfLine(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=this._moveToLineEnd(J,q,Q,X)}return Y}static _moveToLineEnd(J,$,Q,X){let Y=$.viewState.position,Z=J.getLineMaxColumn(Y.lineNumber),G=Y.column===Z,q=$.modelState.position,U=J.model.getLineMaxColumn(q.lineNumber),z=Z-Y.column===U-q.column;if(G||z)return this._moveToLineEndByModel(J,$,Q,X);else return this._moveToLineEndByView(J,$,Q,X)}static _moveToLineEndByView(J,$,Q,X){return R1.fromViewState(d1.moveToEndOfLine(J.cursorConfig,J,$.viewState,Q,X))}static _moveToLineEndByModel(J,$,Q,X){return R1.fromModelState(d1.moveToEndOfLine(J.cursorConfig,J.model,$.modelState,Q,X))}static expandLineSelection(J,$){let Q=[];for(let X=0,Y=$.length;X<Y;X++){let Z=$[X],G=Z.modelState.selection.startLineNumber,q=J.model.getLineCount(),U=Z.modelState.selection.endLineNumber,z;if(U===q)z=J.model.getLineMaxColumn(q);else U++,z=1;Q[X]=R1.fromModelState(new K5(new v(G,1,G,1),0,0,new s(U,z),0))}return Q}static moveToBeginningOfBuffer(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];X[Y]=R1.fromModelState(d1.moveToBeginningOfBuffer(J.cursorConfig,J.model,G.modelState,Q))}return X}static moveToEndOfBuffer(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];X[Y]=R1.fromModelState(d1.moveToEndOfBuffer(J.cursorConfig,J.model,G.modelState,Q))}return X}static selectAll(J,$){let Q=J.model.getLineCount(),X=J.model.getLineMaxColumn(Q);return R1.fromModelState(new K5(new v(1,1,1,1),0,0,new s(Q,X),0))}static line(J,$,Q,X,Y){let Z=J.model.validatePosition(X),G=Y?J.coordinatesConverter.validateViewPosition(new s(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);if(!Q){let U=J.model.getLineCount(),z=Z.lineNumber+1,H=1;if(z>U)z=U,H=J.model.getLineMaxColumn(z);return R1.fromModelState(new K5(new v(Z.lineNumber,1,z,H),2,0,new s(z,H),0))}let q=$.modelState.selectionStart.getStartPosition().lineNumber;if(Z.lineNumber<q)return R1.fromViewState($.viewState.move(!0,G.lineNumber,1,0));else if(Z.lineNumber>q){let U=J.getLineCount(),z=G.lineNumber+1,H=1;if(z>U)z=U,H=J.getLineMaxColumn(z);return R1.fromViewState($.viewState.move(!0,z,H,0))}else{let U=$.modelState.selectionStart.getEndPosition();return R1.fromModelState($.modelState.move(!0,U.lineNumber,U.column,0))}}static word(J,$,Q,X){let Y=J.model.validatePosition(X);return R1.fromModelState(r6.word(J.cursorConfig,J.model,$.modelState,Q,Y))}static cancelSelection(J,$){if(!$.modelState.hasSelection())return new R1($.modelState,$.viewState);let Q=$.viewState.position.lineNumber,X=$.viewState.position.column;return R1.fromViewState(new K5(new v(Q,X,Q,X),0,0,new s(Q,X),0))}static moveTo(J,$,Q,X,Y){if(Q){if($.modelState.selectionStartKind===1)return this.word(J,$,Q,X);if($.modelState.selectionStartKind===2)return this.line(J,$,Q,X,Y)}let Z=J.model.validatePosition(X),G=Y?J.coordinatesConverter.validateViewPosition(new s(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);return R1.fromViewState($.viewState.move(Q,G.lineNumber,G.column,0))}static simpleMove(J,$,Q,X,Y,Z){switch(Q){case 0:if(Z===4)return this._moveHalfLineLeft(J,$,X);else return this._moveLeft(J,$,X,Y);case 1:if(Z===4)return this._moveHalfLineRight(J,$,X);else return this._moveRight(J,$,X,Y);case 2:if(Z===2)return this._moveUpByViewLines(J,$,X,Y);else return this._moveUpByModelLines(J,$,X,Y);case 3:if(Z===2)return this._moveDownByViewLines(J,$,X,Y);else return this._moveDownByModelLines(J,$,X,Y);case 4:if(Z===2)return $.map((G)=>R1.fromViewState(d1.moveToPrevBlankLine(J.cursorConfig,J,G.viewState,X)));else return $.map((G)=>R1.fromModelState(d1.moveToPrevBlankLine(J.cursorConfig,J.model,G.modelState,X)));case 5:if(Z===2)return $.map((G)=>R1.fromViewState(d1.moveToNextBlankLine(J.cursorConfig,J,G.viewState,X)));else return $.map((G)=>R1.fromModelState(d1.moveToNextBlankLine(J.cursorConfig,J.model,G.modelState,X)));case 6:return this._moveToViewMinColumn(J,$,X);case 7:return this._moveToViewFirstNonWhitespaceColumn(J,$,X);case 8:return this._moveToViewCenterColumn(J,$,X);case 9:return this._moveToViewMaxColumn(J,$,X);case 10:return this._moveToViewLastNonWhitespaceColumn(J,$,X);default:return null}}static viewportMove(J,$,Q,X,Y){let Z=J.getCompletelyVisibleViewRange(),G=J.coordinatesConverter.convertViewRangeToModelRange(Z);switch(Q){case 11:{let q=this._firstLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],X,q,U)]}case 13:{let q=this._lastLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],X,q,U)]}case 12:{let q=Math.round((G.startLineNumber+G.endLineNumber)/2),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],X,q,U)]}case 14:{let q=[];for(let U=0,z=$.length;U<z;U++){let H=$[U];q[U]=this.findPositionInViewportIfOutside(J,H,Z,X)}return q}default:return null}}static findPositionInViewportIfOutside(J,$,Q,X){let Y=$.viewState.position.lineNumber;if(Q.startLineNumber<=Y&&Y<=Q.endLineNumber-1)return new R1($.modelState,$.viewState);else{let Z;if(Y>Q.endLineNumber-1)Z=Q.endLineNumber-1;else if(Y<Q.startLineNumber)Z=Q.startLineNumber;else Z=Y;let G=d1.vertical(J.cursorConfig,J,Y,$.viewState.position.column,$.viewState.leftoverVisibleColumns,Z,!1);return R1.fromViewState($.viewState.move(X,G.lineNumber,G.column,G.leftoverVisibleColumns))}}static _firstLineNumberInRange(J,$,Q){let X=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(X))X++;return Math.min($.endLineNumber,X+Q-1)}static _lastLineNumberInRange(J,$,Q){let X=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(X))X++;return Math.max(X,$.endLineNumber-Q+1)}static _moveLeft(J,$,Q,X){return $.map((Y)=>R1.fromViewState(d1.moveLeft(J.cursorConfig,J,Y.viewState,Q,X)))}static _moveHalfLineLeft(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineLength(q)/2);X[Y]=R1.fromViewState(d1.moveLeft(J.cursorConfig,J,G.viewState,Q,U))}return X}static _moveRight(J,$,Q,X){return $.map((Y)=>R1.fromViewState(d1.moveRight(J.cursorConfig,J,Y.viewState,Q,X)))}static _moveHalfLineRight(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineLength(q)/2);X[Y]=R1.fromViewState(d1.moveRight(J.cursorConfig,J,G.viewState,Q,U))}return X}static _moveDownByViewLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=R1.fromViewState(d1.moveDown(J.cursorConfig,J,q.viewState,Q,X))}return Y}static _moveDownByModelLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=R1.fromModelState(d1.moveDown(J.cursorConfig,J.model,q.modelState,Q,X))}return Y}static _moveUpByViewLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=R1.fromViewState(d1.moveUp(J.cursorConfig,J,q.viewState,Q,X))}return Y}static _moveUpByModelLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=R1.fromModelState(d1.moveUp(J.cursorConfig,J.model,q.modelState,Q,X))}return Y}static _moveToViewPosition(J,$,Q,X,Y){return R1.fromViewState($.viewState.move(Q,X,Y,0))}static _moveToModelPosition(J,$,Q,X,Y){return R1.fromModelState($.modelState.move(Q,X,Y,0))}static _moveToViewMinColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMinColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewFirstNonWhitespaceColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineFirstNonWhitespaceColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewCenterColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=Math.round((J.getLineMaxColumn(q)+J.getLineMinColumn(q))/2);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewMaxColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMaxColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewLastNonWhitespaceColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineLastNonWhitespaceColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}}var EH;var Hm=E(()=>{f4();lN();dN();e0();(function(J){let $=function(X){if(!z5(X))return!1;let Y=X;if(!P5(Y.to))return!1;if(!q8(Y.select)&&!kW(Y.select))return!1;if(!q8(Y.by)&&!P5(Y.by))return!1;if(!q8(Y.value)&&!q9(Y.value))return!1;return!0};J.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},J.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function Q(X){if(!X.to)return null;let Y;switch(X.to){case J.RawDirection.Left:Y=0;break;case J.RawDirection.Right:Y=1;break;case J.RawDirection.Up:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.PrevBlankLine:Y=4;break;case J.RawDirection.NextBlankLine:Y=5;break;case J.RawDirection.WrappedLineStart:Y=6;break;case J.RawDirection.WrappedLineFirstNonWhitespaceCharacter:Y=7;break;case J.RawDirection.WrappedLineColumnCenter:Y=8;break;case J.RawDirection.WrappedLineEnd:Y=9;break;case J.RawDirection.WrappedLineLastNonWhitespaceCharacter:Y=10;break;case J.RawDirection.ViewPortTop:Y=11;break;case J.RawDirection.ViewPortBottom:Y=13;break;case J.RawDirection.ViewPortCenter:Y=12;break;case J.RawDirection.ViewPortIfOutside:Y=14;break;default:return null}let Z=0;switch(X.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Character:Z=3;break;case J.RawUnit.HalfLine:Z=4;break}return{direction:Y,unit:Z,select:!!X.select,value:X.value||1}}J.parse=Q})(EH||(EH={}))});function IH(J,$,Q,X){let Y=UY($,Q.startLineNumber,Q.startColumn),Z=X.getLanguageConfiguration(Y.languageId);if(!Z)return null;let G=Y.getLineContent(),q=G.substr(0,Q.startColumn-1-Y.firstCharOffset),U;if(Q.isEmpty())U=G.substr(Q.startColumn-1-Y.firstCharOffset);else U=UY($,Q.endLineNumber,Q.endColumn).getLineContent().substr(Q.endColumn-1-Y.firstCharOffset);let z="";if(Q.startLineNumber>1&&Y.firstCharOffset===0){let K=UY($,Q.startLineNumber-1);if(K.languageId===Y.languageId)z=K.getLineContent()}let H=Z.onEnter(J,z,q,U);if(!H)return null;let{indentAction:j,appendText:B}=H,V=H.removeText||0;if(!B)if(j===o5.Indent||j===o5.IndentOutdent)B="\t";else B="";else if(j===o5.Indent)B="\t"+B;let W=dF($,Q.startLineNumber,Q.startColumn);if(V)W=W.substring(0,W.length-V);return{indentAction:j,appendText:B,removeText:V,indentation:W}}var sN=E(()=>{Y2();d8()});function f2(J,$){if($<=0)return"";if(!aN[J])aN[J]=["",J];let Q=aN[J];for(let X=Q.length;X<=$;X++)Q[X]=Q[X-1]+J;return Q[$]}var q70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},U70=function(J,$){return function(Q,X){$(Q,X,J)}},tK,aN,LY;var jm=E(()=>{G1();C4();e0();u5();sN();d8();aN=Object.create(null);LY=tK=class{static unshiftIndent($,Q,X,Y,Z){let G=i1.visibleColumnFromColumn($,Q,X);if(Z){let q=f2(" ",Y),z=i1.prevIndentTabStop(G,Y)/Y;return f2(q,z)}else{let z=i1.prevRenderTabStop(G,X)/X;return f2("\t",z)}}static shiftIndent($,Q,X,Y,Z){let G=i1.visibleColumnFromColumn($,Q,X);if(Z){let q=f2(" ",Y),z=i1.nextIndentTabStop(G,Y)/Y;return f2(q,z)}else{let z=i1.nextRenderTabStop(G,X)/X;return f2("\t",z)}}constructor($,Q,X){this._languageConfigurationService=X,this._opts=Q,this._selection=$,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation($,Q,X){if(this._useLastEditRangeForCursorEndPosition)$.addTrackedEditOperation(Q,X);else $.addEditOperation(Q,X)}getEditOperations($,Q){let X=this._selection.startLineNumber,Y=this._selection.endLineNumber;if(this._selection.endColumn===1&&X!==Y)Y=Y-1;let{tabSize:Z,indentSize:G,insertSpaces:q}=this._opts,U=X===Y;if(this._opts.useTabStops){if(this._selection.isEmpty()){if(/^\s*$/.test($.getLineContent(X)))this._useLastEditRangeForCursorEndPosition=!0}let z=0,H=0;for(let j=X;j<=Y;j++,z=H){H=0;let B=$.getLineContent(j),V=s6(B);if(this._opts.isUnshift&&(B.length===0||V===0))continue;if(!U&&!this._opts.isUnshift&&B.length===0)continue;if(V===-1)V=B.length;if(j>1){if(i1.visibleColumnFromColumn(B,V+1,Z)%G!==0){if($.tokenization.isCheapToTokenize(j-1)){let A=IH(this._opts.autoIndent,$,new v(j-1,$.getLineMaxColumn(j-1),j-1,$.getLineMaxColumn(j-1)),this._languageConfigurationService);if(A){if(H=z,A.appendText)for(let F=0,P=A.appendText.length;F<P&&H<G;F++)if(A.appendText.charCodeAt(F)===32)H++;else break;if(A.removeText)H=Math.max(0,H-A.removeText);for(let F=0;F<H;F++){if(V===0||B.charCodeAt(V-1)!==32)break;V--}}}}}if(this._opts.isUnshift&&V===0)continue;let W;if(this._opts.isUnshift)W=tK.unshiftIndent(B,V+1,Z,G,q);else W=tK.shiftIndent(B,V+1,Z,G,q);if(this._addEditOperation(Q,new v(j,1,j,V+1),W),j===X&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn<=V+1}}else{if(!this._opts.isUnshift&&this._selection.isEmpty()&&$.getLineLength(X)===0)this._useLastEditRangeForCursorEndPosition=!0;let z=q?f2(" ",G):"\t";for(let H=X;H<=Y;H++){let j=$.getLineContent(H),B=s6(j);if(this._opts.isUnshift&&(j.length===0||B===0))continue;if(!U&&!this._opts.isUnshift&&j.length===0)continue;if(B===-1)B=j.length;if(this._opts.isUnshift&&B===0)continue;if(this._opts.isUnshift){B=Math.min(B,G);for(let V=0;V<B;V++)if(j.charCodeAt(V)===9){B=V+1;break}this._addEditOperation(Q,new v(H,1,H,B+1),"")}else if(this._addEditOperation(Q,new v(H,1,H,1),z),H===X&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn===1}}this._selectionId=Q.trackSelection(this._selection)}computeCursorState($,Q){if(this._useLastEditRangeForCursorEndPosition){let Y=Q.getInverseEditOperations()[0];return new d0(Y.range.endLineNumber,Y.range.endColumn,Y.range.endLineNumber,Y.range.endColumn)}let X=Q.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let Y=this._selection.startColumn;if(X.startColumn<=Y)return X;if(X.getDirection()===0)return new d0(X.startLineNumber,Y,X.endLineNumber,X.endColumn);return new d0(X.endLineNumber,X.endColumn,X.startLineNumber,Y)}return X}};LY=tK=q70([U70(2,f6)],LY)});class rN{constructor(J,$,Q){this._range=J,this._charBeforeSelection=$,this._charAfterSelection=Q}getEditOperations(J,$){$.addTrackedEditOperation(new v(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new v(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(J,$){let Q=$.getInverseEditOperations(),X=Q[0].range,Y=Q[1].range;return new d0(X.endLineNumber,X.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class iN{constructor(J,$,Q){this._position=J,this._text=$,this._charAfter=Q}getEditOperations(J,$){$.addTrackedEditOperation(new v(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return new d0(X.endLineNumber,X.startColumn,X.endLineNumber,X.endColumn-this._charAfter.length)}}var Vm=E(()=>{e0();u5()});function z70(J,$,Q){let X=J.tokenization.getLanguageIdAtPosition($,0);if($>1){let Y,Z=-1;for(Y=$-1;Y>=1;Y--){if(J.tokenization.getLanguageIdAtPosition(Y,0)!==X)return Z;let G=J.getLineContent(Y);if(Q.shouldIgnore(G)||/^\s+$/.test(G)||G===""){Z=Y;continue}return Y}}return-1}function eK(J,$,Q,X=!0,Y){if(J<4)return null;let Z=Y.getLanguageConfiguration($.tokenization.getLanguageId()).indentRulesSupport;if(!Z)return null;if(Q<=1)return{indentation:"",action:null};for(let U=Q-1;U>0;U--){if($.getLineContent(U)!=="")break;if(U===1)return{indentation:"",action:null}}let G=z70($,Q,Z);if(G<0)return null;else if(G<1)return{indentation:"",action:null};let q=$.getLineContent(G);if(Z.shouldIncrease(q)||Z.shouldIndentNextLine(q))return{indentation:W5(q),action:o5.Indent,line:G};else if(Z.shouldDecrease(q))return{indentation:W5(q),action:null,line:G};else{if(G===1)return{indentation:W5($.getLineContent(G)),action:null,line:G};let U=G-1,z=Z.getIndentMetadata($.getLineContent(U));if(!(z&3)&&z&4){let H=0;for(let j=U-1;j>0;j--){if(Z.shouldIndentNextLine($.getLineContent(j)))continue;H=j;break}return{indentation:W5($.getLineContent(H+1)),action:null,line:H+1}}if(X)return{indentation:W5($.getLineContent(G)),action:null,line:G};else{for(let H=G;H>0;H--){let j=$.getLineContent(H);if(Z.shouldIncrease(j))return{indentation:W5(j),action:o5.Indent,line:H};else if(Z.shouldIndentNextLine(j)){let B=0;for(let V=H-1;V>0;V--){if(Z.shouldIndentNextLine($.getLineContent(H)))continue;B=V;break}return{indentation:W5($.getLineContent(B+1)),action:null,line:B+1}}else if(Z.shouldDecrease(j))return{indentation:W5(j),action:null,line:H}}return{indentation:W5($.getLineContent(1)),action:null,line:1}}}}function Wm(J,$,Q,X,Y){if(J<4)return null;$.tokenization.forceTokenization(Q.startLineNumber);let Z=$.tokenization.getLineTokens(Q.startLineNumber),G=GY(Z,Q.startColumn-1),q=G.getLineContent(),U=!1,z;if(G.firstCharOffset>0&&Z.getLanguageId(0)!==G.languageId)U=!0,z=q.substr(0,Q.startColumn-1-G.firstCharOffset);else z=Z.getLineContent().substring(0,Q.startColumn-1);let H;if(Q.isEmpty())H=q.substr(Q.startColumn-1-G.firstCharOffset);else H=UY($,Q.endLineNumber,Q.endColumn).getLineContent().substr(Q.endColumn-1-G.firstCharOffset);let j=Y.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!j)return null;let B=z,V=W5(z),W={tokenization:{getLineTokens:(P)=>{return $.tokenization.getLineTokens(P)},getLanguageId:()=>{return $.getLanguageId()},getLanguageIdAtPosition:(P,R)=>{return $.getLanguageIdAtPosition(P,R)}},getLineContent:(P)=>{if(P===Q.startLineNumber)return B;else return $.getLineContent(P)}},K=W5(Z.getLineContent()),A=eK(J,W,Q.startLineNumber+1,void 0,Y);if(!A){let P=U?K:V;return{beforeEnter:P,afterEnter:P}}let F=U?K:A.indentation;if(A.action===o5.Indent)F=X.shiftIndent(F);if(j.shouldDecrease(H))F=X.unshiftIndent(F);return{beforeEnter:U?K:V,afterEnter:F}}function Bm(J,$,Q,X,Y,Z){if(J<4)return null;let G=UY($,Q.startLineNumber,Q.startColumn);if(G.firstCharOffset)return null;let q=Z.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!q)return null;let U=G.getLineContent(),z=U.substr(0,Q.startColumn-1-G.firstCharOffset),H;if(Q.isEmpty())H=U.substr(Q.startColumn-1-G.firstCharOffset);else H=UY($,Q.endLineNumber,Q.endColumn).getLineContent().substr(Q.endColumn-1-G.firstCharOffset);if(!q.shouldDecrease(z+H)&&q.shouldDecrease(z+X+H)){let j=eK(J,$,Q.startLineNumber,!1,Z);if(!j)return null;let B=j.indentation;if(j.action!==o5.Indent)B=Y.unshiftIndent(B);return B}return null}var Fm=E(()=>{G1();Y2();d8()});class p6{static indent(J,$,Q){if($===null||Q===null)return[];let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=new LY(Q[Y],{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return X}static outdent(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=new LY(Q[Y],{isUnshift:!0,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return X}static shiftIndent(J,$,Q){return Q=Q||1,LY.shiftIndent($,$.length+Q,J.tabSize,J.indentSize,J.insertSpaces)}static unshiftIndent(J,$,Q){return Q=Q||1,LY.unshiftIndent($,$.length+Q,J.tabSize,J.indentSize,J.insertSpaces)}static _distributedPaste(J,$,Q,X){let Y=[];for(let Z=0,G=Q.length;Z<G;Z++)Y[Z]=new n8(Q[Z],X[Z]);return new K8(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(J,$,Q,X,Y){let Z=[];for(let G=0,q=Q.length;G<q;G++){let U=Q[G],z=U.getPosition();if(Y&&!U.isEmpty())Y=!1;if(Y&&X.indexOf(`
`)!==X.length-1)Y=!1;if(Y){let H=new v(z.lineNumber,1,z.lineNumber,1);Z[G]=new uN(H,X,U,!0)}else Z[G]=new n8(U,X)}return new K8(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(J,$,Q,X,Y){if(X)return null;if($.length===1)return null;if(Y&&Y.length===$.length)return Y;if(J.multiCursorPaste==="spread"){if(Q.charCodeAt(Q.length-1)===10)Q=Q.substr(0,Q.length-1);if(Q.charCodeAt(Q.length-1)===13)Q=Q.substr(0,Q.length-1);let Z=H9(Q);if(Z.length===$.length)return Z}return null}static paste(J,$,Q,X,Y,Z){let G=this._distributePasteToCursors(J,Q,X,Y,Z);if(G)return Q=Q.sort(v.compareRangesUsingStarts),this._distributedPaste(J,$,Q,G);else return this._simplePaste(J,$,Q,X,Y)}static _goodIndentForLine(J,$,Q){let X=null,Y="",Z=eK(J.autoIndent,$,Q,!1,J.languageConfigurationService);if(Z)X=Z.action,Y=Z.indentation;else if(Q>1){let G;for(G=Q-1;G>=1;G--){let z=$.getLineContent(G);if(j9(z)>=0)break}if(G<1)return null;let q=$.getLineMaxColumn(G),U=IH(J.autoIndent,$,new v(G,q,G,q),J.languageConfigurationService);if(U)Y=U.indentation+U.appendText}if(X){if(X===o5.Indent)Y=p6.shiftIndent(J,Y);if(X===o5.Outdent)Y=p6.unshiftIndent(J,Y);Y=J.normalizeIndentation(Y)}if(!Y)return null;return Y}static _replaceJumpToNextIndent(J,$,Q,X){let Y="",Z=Q.getStartPosition();if(J.insertSpaces){let G=J.visibleColumnFromColumn($,Z),q=J.indentSize,U=q-G%q;for(let z=0;z<U;z++)Y+=" "}else Y="\t";return new n8(Q,Y,X)}static tab(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y];if(G.isEmpty()){let q=$.getLineContent(G.startLineNumber);if(/^\s*$/.test(q)&&$.tokenization.isCheapToTokenize(G.startLineNumber)){let U=this._goodIndentForLine(J,$,G.startLineNumber);U=U||"\t";let z=J.normalizeIndentation(U);if(!q.startsWith(z)){X[Y]=new n8(new v(G.startLineNumber,1,G.startLineNumber,q.length+1),z,!0);continue}}X[Y]=this._replaceJumpToNextIndent(J,$,G,!0)}else{if(G.startLineNumber===G.endLineNumber){let q=$.getLineMaxColumn(G.startLineNumber);if(G.startColumn!==1||G.endColumn!==q){X[Y]=this._replaceJumpToNextIndent(J,$,G,!1);continue}}X[Y]=new LY(G,{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService)}}return X}static compositionType(J,$,Q,X,Y,Z,G,q){let U=X.map((z)=>this._compositionType(Q,z,Y,Z,G,q));return new K8(4,U,{shouldPushStackElementBefore:JA(J,4),shouldPushStackElementAfter:!1})}static _compositionType(J,$,Q,X,Y,Z){if(!$.isEmpty())return null;let G=$.getPosition(),q=Math.max(1,G.column-X),U=Math.min(J.getLineMaxColumn(G.lineNumber),G.column+Y),z=new v(G.lineNumber,q,G.lineNumber,U);if(J.getValueInRange(z)===Q&&Z===0)return null;return new Qq(z,Q,0,Z)}static _typeCommand(J,$,Q){if(Q)return new $q(J,$,!0);else return new n8(J,$,!0)}static _enter(J,$,Q,X){if(J.autoIndent===0)return p6._typeCommand(X,`
`,Q);if(!$.tokenization.isCheapToTokenize(X.getStartPosition().lineNumber)||J.autoIndent===1){let q=$.getLineContent(X.startLineNumber),U=W5(q).substring(0,X.startColumn-1);return p6._typeCommand(X,`
`+J.normalizeIndentation(U),Q)}let Y=IH(J.autoIndent,$,X,J.languageConfigurationService);if(Y){if(Y.indentAction===o5.None)return p6._typeCommand(X,`
`+J.normalizeIndentation(Y.indentation+Y.appendText),Q);else if(Y.indentAction===o5.Indent)return p6._typeCommand(X,`
`+J.normalizeIndentation(Y.indentation+Y.appendText),Q);else if(Y.indentAction===o5.IndentOutdent){let q=J.normalizeIndentation(Y.indentation),U=J.normalizeIndentation(Y.indentation+Y.appendText),z=`
`+U+`
`+q;if(Q)return new $q(X,z,!0);else return new Qq(X,z,-1,U.length-q.length,!0)}else if(Y.indentAction===o5.Outdent){let q=p6.unshiftIndent(J,Y.indentation);return p6._typeCommand(X,`
`+J.normalizeIndentation(q+Y.appendText),Q)}}let Z=$.getLineContent(X.startLineNumber),G=W5(Z).substring(0,X.startColumn-1);if(J.autoIndent>=4){let q=Wm(J.autoIndent,$,X,{unshiftIndent:(U)=>{return p6.unshiftIndent(J,U)},shiftIndent:(U)=>{return p6.shiftIndent(J,U)},normalizeIndentation:(U)=>{return J.normalizeIndentation(U)}},J.languageConfigurationService);if(q){let U=J.visibleColumnFromColumn($,X.getEndPosition()),z=X.endColumn,H=$.getLineContent(X.endLineNumber),j=s6(H);if(j>=0)X=X.setEndPosition(X.endLineNumber,Math.max(X.endColumn,j+1));else X=X.setEndPosition(X.endLineNumber,$.getLineMaxColumn(X.endLineNumber));if(Q)return new $q(X,`
`+J.normalizeIndentation(q.afterEnter),!0);else{let B=0;if(z<=j+1){if(!J.insertSpaces)U=Math.ceil(U/J.indentSize);B=Math.min(U+1-J.normalizeIndentation(q.afterEnter).length-1,0)}return new Qq(X,`
`+J.normalizeIndentation(q.afterEnter),0,B,!0)}}}return p6._typeCommand(X,`
`+J.normalizeIndentation(G),Q)}static _isAutoIndentType(J,$,Q){if(J.autoIndent<4)return!1;for(let X=0,Y=Q.length;X<Y;X++)if(!$.tokenization.isCheapToTokenize(Q[X].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(J,$,Q,X){let Y=dF($,Q.startLineNumber,Q.startColumn),Z=Bm(J.autoIndent,$,Q,X,{shiftIndent:(G)=>{return p6.shiftIndent(J,G)},unshiftIndent:(G)=>{return p6.unshiftIndent(J,G)}},J.languageConfigurationService);if(Z===null)return null;if(Z!==J.normalizeIndentation(Y)){let G=$.getLineFirstNonWhitespaceColumn(Q.startLineNumber);if(G===0)return p6._typeCommand(new v(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn),J.normalizeIndentation(Z)+X,!1);else return p6._typeCommand(new v(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn),J.normalizeIndentation(Z)+$.getLineContent(Q.startLineNumber).substring(G-1,Q.startColumn-1)+X,!1)}return null}static _isAutoClosingOvertype(J,$,Q,X,Y){if(J.autoClosingOvertype==="never")return!1;if(!J.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let Z=0,G=Q.length;Z<G;Z++){let q=Q[Z];if(!q.isEmpty())return!1;let U=q.getPosition(),z=$.getLineContent(U.lineNumber);if(z.charAt(U.column-1)!==Y)return!1;let j=C$(Y);if((U.column>2?z.charCodeAt(U.column-2):0)===92&&j)return!1;if(J.autoClosingOvertype==="auto"){let V=!1;for(let W=0,K=X.length;W<K;W++){let A=X[W];if(U.lineNumber===A.startLineNumber&&U.column===A.startColumn){V=!0;break}}if(!V)return!1}}return!0}static _runAutoClosingOvertype(J,$,Q,X,Y){let Z=[];for(let G=0,q=X.length;G<q;G++){let z=X[G].getPosition(),H=new v(z.lineNumber,z.column,z.lineNumber,z.column+1);Z[G]=new n8(H,Y)}return new K8(4,Z,{shouldPushStackElementBefore:JA(J,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(J,$){let Q=$.charAt(0),X=J.autoClosingPairs.autoClosingPairsOpenByStart.get(Q)||[],Y=J.autoClosingPairs.autoClosingPairsCloseByStart.get(Q)||[],Z=X.some((q)=>$.startsWith(q.open)),G=Y.some((q)=>$.startsWith(q.close));return!Z&&G}static _findAutoClosingPairOpen(J,$,Q,X){let Y=J.autoClosingPairs.autoClosingPairsOpenByEnd.get(X);if(!Y)return null;let Z=null;for(let G of Y)if(Z===null||G.open.length>Z.open.length){let q=!0;for(let U of Q)if($.getValueInRange(new v(U.lineNumber,U.column-G.open.length+1,U.lineNumber,U.column))+X!==G.open){q=!1;break}if(q)Z=G}return Z}static _findContainedAutoClosingPair(J,$){if($.open.length<=1)return null;let Q=$.close.charAt($.close.length-1),X=J.autoClosingPairs.autoClosingPairsCloseByEnd.get(Q)||[],Y=null;for(let Z of X)if(Z.open!==$.open&&$.open.includes(Z.open)&&$.close.endsWith(Z.close)){if(!Y||Z.open.length>Y.open.length)Y=Z}return Y}static _getAutoClosingPairClose(J,$,Q,X,Y){for(let V of Q)if(!V.isEmpty())return null;let Z=Q.map((V)=>{let W=V.getPosition();if(Y)return{lineNumber:W.lineNumber,beforeColumn:W.column-X.length,afterColumn:W.column};else return{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),G=this._findAutoClosingPairOpen(J,$,Z.map((V)=>new s(V.lineNumber,V.beforeColumn)),X);if(!G)return null;let q,U;if(C$(X))q=J.autoClosingQuotes,U=J.shouldAutoCloseBefore.quote;else if(J.blockCommentStartToken?G.open.includes(J.blockCommentStartToken):!1)q=J.autoClosingComments,U=J.shouldAutoCloseBefore.comment;else q=J.autoClosingBrackets,U=J.shouldAutoCloseBefore.bracket;if(q==="never")return null;let H=this._findContainedAutoClosingPair(J,G),j=H?H.close:"",B=!0;for(let V of Z){let{lineNumber:W,beforeColumn:K,afterColumn:A}=V,F=$.getLineContent(W),P=F.substring(0,K-1),R=F.substring(A-1);if(!R.startsWith(j))B=!1;if(R.length>0){let N=R.charAt(0);if(!p6._isBeforeClosingBrace(J,R)&&!U(N))return null}if(G.open.length===1&&(X==="'"||X==='"')&&q!=="always"){let N=P$(J.wordSeparators);if(P.length>0){let w=P.charCodeAt(P.length-1);if(N.get(w)===0)return null}}if(!$.tokenization.isCheapToTokenize(W))return null;$.tokenization.forceTokenization(W);let D=$.tokenization.getLineTokens(W),_=GY(D,K-1);if(!G.shouldAutoClose(_,K-_.firstCharOffset))return null;let O=G.findNeutralCharacter();if(O){let N=$.tokenization.getTokenTypeIfInsertingCharacter(W,K,O);if(!G.isOK(N))return null}}if(B)return G.close.substring(0,G.close.length-j.length);else return G.close}static _runAutoClosingOpenCharType(J,$,Q,X,Y,Z,G){let q=[];for(let U=0,z=X.length;U<z;U++){let H=X[U];q[U]=new $A(H,Y,!Z,G)}return new K8(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(J,$){if(C$($))return J.autoSurround==="quotes"||J.autoSurround==="languageDefined";else return J.autoSurround==="brackets"||J.autoSurround==="languageDefined"}static _isSurroundSelectionType(J,$,Q,X){if(!p6._shouldSurroundChar(J,X)||!J.surroundingPairs.hasOwnProperty(X))return!1;let Y=C$(X);for(let Z of Q){if(Z.isEmpty())return!1;let G=!0;for(let q=Z.startLineNumber;q<=Z.endLineNumber;q++){let U=$.getLineContent(q),z=q===Z.startLineNumber?Z.startColumn-1:0,H=q===Z.endLineNumber?Z.endColumn-1:U.length,j=U.substring(z,H);if(/[^ \t]/.test(j)){G=!1;break}}if(G)return!1;if(Y&&Z.startLineNumber===Z.endLineNumber&&Z.startColumn+1===Z.endColumn){let q=$.getValueInRange(Z);if(C$(q))return!1}}return!0}static _runSurroundSelectionType(J,$,Q,X,Y){let Z=[];for(let G=0,q=X.length;G<q;G++){let U=X[G],z=$.surroundingPairs[Y];Z[G]=new rN(U,Y,z)}return new K8(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(J,$,Q){if(Q.length===1&&$.tokenization.isCheapToTokenize(Q[0].getEndPosition().lineNumber))return!0;return!1}static _typeInterceptorElectricChar(J,$,Q,X,Y){if(!$.electricChars.hasOwnProperty(Y)||!X.isEmpty())return null;let Z=X.getPosition();Q.tokenization.forceTokenization(Z.lineNumber);let G=Q.tokenization.getLineTokens(Z.lineNumber),q;try{q=$.onElectricCharacter(Y,G,Z.column)}catch(U){return Z1(U),null}if(!q)return null;if(q.matchOpenBracket){let U=(G.getLineContent()+Y).lastIndexOf(q.matchOpenBracket)+1,z=Q.bracketPairs.findMatchingBracketUp(q.matchOpenBracket,{lineNumber:Z.lineNumber,column:U},500);if(z){if(z.startLineNumber===Z.lineNumber)return null;let H=Q.getLineContent(z.startLineNumber),j=W5(H),B=$.normalizeIndentation(j),V=Q.getLineContent(Z.lineNumber),W=Q.getLineFirstNonWhitespaceColumn(Z.lineNumber)||Z.column,K=V.substring(W-1,Z.column-1),A=B+K+Y,F=new v(Z.lineNumber,1,Z.lineNumber,Z.column),P=new n8(F,A);return new K8(nN(A,J),[P],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(J,$,Q,X,Y,Z){if(!X)return null;let G=null;for(let H of X)if(G===null)G=H.insertedText;else if(G!==H.insertedText)return null;if(!G||G.length!==1)return null;let q=G,U=!1;for(let H of X)if(H.deletedText.length!==0){U=!0;break}if(U){if(!p6._shouldSurroundChar($,q)||!$.surroundingPairs.hasOwnProperty(q))return null;let H=C$(q);for(let V of X){if(V.deletedSelectionStart!==0||V.deletedSelectionEnd!==V.deletedText.length)return null;if(/^[ \t]+$/.test(V.deletedText))return null;if(H&&C$(V.deletedText))return null}let j=[];for(let V of Y){if(!V.isEmpty())return null;j.push(V.getPosition())}if(j.length!==X.length)return null;let B=[];for(let V=0,W=j.length;V<W;V++)B.push(new iN(j[V],X[V].deletedText,$.surroundingPairs[q]));return new K8(4,B,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype($,Q,Y,Z,q)){let H=Y.map((j)=>new n8(new v(j.positionLineNumber,j.positionColumn,j.positionLineNumber,j.positionColumn+1),"",!1));return new K8(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}let z=this._getAutoClosingPairClose($,Q,Y,q,!0);if(z!==null)return this._runAutoClosingOpenCharType(J,$,Q,Y,q,!0,z);return null}static typeWithInterceptors(J,$,Q,X,Y,Z,G){if(!J&&G===`
`){let z=[];for(let H=0,j=Y.length;H<j;H++)z[H]=p6._enter(Q,X,!1,Y[H]);return new K8(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!J&&this._isAutoIndentType(Q,X,Y)){let z=[],H=!1;for(let j=0,B=Y.length;j<B;j++)if(z[j]=this._runAutoIndentType(Q,X,Y[j],G),!z[j]){H=!0;break}if(!H)return new K8(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(Q,X,Y,Z,G))return this._runAutoClosingOvertype($,Q,X,Y,G);if(!J){let z=this._getAutoClosingPairClose(Q,X,Y,G,!1);if(z)return this._runAutoClosingOpenCharType($,Q,X,Y,G,!1,z)}if(!J&&this._isSurroundSelectionType(Q,X,Y,G))return this._runSurroundSelectionType($,Q,X,Y,G);if(!J&&this._isTypeInterceptorElectricChar(Q,X,Y)){let z=this._typeInterceptorElectricChar($,Q,X,Y[0],G);if(z)return z}let q=[];for(let z=0,H=Y.length;z<H;z++)q[z]=new n8(Y[z],G);let U=nN(G,$);return new K8(U,q,{shouldPushStackElementBefore:JA($,U),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(J,$,Q,X,Y){let Z=[];for(let q=0,U=X.length;q<U;q++)Z[q]=new n8(X[q],Y);let G=nN(Y,J);return new K8(G,Z,{shouldPushStackElementBefore:JA(J,G),shouldPushStackElementAfter:!1})}static lineInsertBefore(J,$,Q){if($===null||Q===null)return[];let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].positionLineNumber;if(G===1)X[Y]=new $q(new v(1,1,1,1),`
`);else{G--;let q=$.getLineMaxColumn(G);X[Y]=this._enter(J,$,!1,new v(G,q,G,q))}}return X}static lineInsertAfter(J,$,Q){if($===null||Q===null)return[];let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].positionLineNumber,q=$.getLineMaxColumn(G);X[Y]=this._enter(J,$,!1,new v(G,q,G,q))}return X}static lineBreakInsert(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=this._enter(J,$,!0,Q[Y]);return X}}class oN{constructor(J,$,Q,X,Y,Z){this.deletedText=J,this.deletedSelectionStart=$,this.deletedSelectionEnd=Q,this.insertedText=X,this.insertedSelectionStart=Y,this.insertedSelectionEnd=Z}}function nN(J,$){if(J===" ")return $===5||$===6?6:5;return 4}function JA(J,$){if(Am(J)&&!Am($))return!0;if(J===5)return!1;return Km(J)!==Km($)}function Km(J){return J===6||J===5?"space":J}function Am(J){return J===4||J===5||J===6}var $A;var tN=E(()=>{T1();G1();cN();jm();Vm();f4();az();e0();Y2();d8();Fm();sN();$A=class $A extends Qq{constructor(J,$,Q,X){super(J,(Q?$:"")+X,0,-X.length);this._openCharacter=$,this._closeCharacter=X,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v(X.startLineNumber,X.endColumn-this._closeCharacter.length,X.endLineNumber,X.endColumn),this.enclosingRange=new v(X.startLineNumber,X.endColumn-this._openCharacter.length-this._closeCharacter.length,X.endLineNumber,X.endColumn),super.computeCursorState(J,$)}}});var H0;var qX=E(()=>{a0();e1();(function(J){J.editorSimpleInput=new T0("editorSimpleInput",!1,!0),J.editorTextFocus=new T0("editorTextFocus",!1,M("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),J.focus=new T0("editorFocus",!1,M("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),J.textInputFocus=new T0("textInputFocus",!1,M("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),J.readOnly=new T0("editorReadonly",!1,M("editorReadonly","Whether the editor is read-only")),J.inDiffEditor=new T0("inDiffEditor",!1,M("inDiffEditor","Whether the context is a diff editor")),J.isEmbeddedDiffEditor=new T0("isEmbeddedDiffEditor",!1,M("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),J.inMultiDiffEditor=new T0("inMultiDiffEditor",!1,M("inMultiDiffEditor","Whether the context is a multi diff editor")),J.multiDiffEditorAllCollapsed=new T0("multiDiffEditorAllCollapsed",void 0,M("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),J.hasChanges=new T0("diffEditorHasChanges",!1,M("diffEditorHasChanges","Whether the diff editor has changes")),J.comparingMovedCode=new T0("comparingMovedCode",!1,M("comparingMovedCode","Whether a moved code block is selected for comparison")),J.accessibleDiffViewerVisible=new T0("accessibleDiffViewerVisible",!1,M("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),J.diffEditorRenderSideBySideInlineBreakpointReached=new T0("diffEditorRenderSideBySideInlineBreakpointReached",!1,M("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),J.columnSelection=new T0("editorColumnSelection",!1,M("editorColumnSelection","Whether `editor.columnSelection` is enabled")),J.writable=J.readOnly.toNegated(),J.hasNonEmptySelection=new T0("editorHasSelection",!1,M("editorHasSelection","Whether the editor has text selected")),J.hasOnlyEmptySelection=J.hasNonEmptySelection.toNegated(),J.hasMultipleSelections=new T0("editorHasMultipleSelections",!1,M("editorHasMultipleSelections","Whether the editor has multiple selections")),J.hasSingleSelection=J.hasMultipleSelections.toNegated(),J.tabMovesFocus=new T0("editorTabMovesFocus",!1,M("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),J.tabDoesNotMoveFocus=J.tabMovesFocus.toNegated(),J.isInWalkThroughSnippet=new T0("isInEmbeddedEditor",!1,!0),J.canUndo=new T0("canUndo",!1,!0),J.canRedo=new T0("canRedo",!1,!0),J.hoverVisible=new T0("editorHoverVisible",!1,M("editorHoverVisible","Whether the editor hover is visible")),J.hoverFocused=new T0("editorHoverFocused",!1,M("editorHoverFocused","Whether the editor hover is focused")),J.stickyScrollFocused=new T0("stickyScrollFocused",!1,M("stickyScrollFocused","Whether the sticky scroll is focused")),J.stickyScrollVisible=new T0("stickyScrollVisible",!1,M("stickyScrollVisible","Whether the sticky scroll is visible")),J.standaloneColorPickerVisible=new T0("standaloneColorPickerVisible",!1,M("standaloneColorPickerVisible","Whether the standalone color picker is visible")),J.standaloneColorPickerFocused=new T0("standaloneColorPickerFocused",!1,M("standaloneColorPickerFocused","Whether the standalone color picker is focused")),J.inCompositeEditor=new T0("inCompositeEditor",void 0,M("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),J.notInCompositeEditor=J.inCompositeEditor.toNegated(),J.languageId=new T0("editorLangId","",M("editorLangId","The language identifier of the editor")),J.hasCompletionItemProvider=new T0("editorHasCompletionItemProvider",!1,M("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),J.hasCodeActionsProvider=new T0("editorHasCodeActionsProvider",!1,M("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),J.hasCodeLensProvider=new T0("editorHasCodeLensProvider",!1,M("editorHasCodeLensProvider","Whether the editor has a code lens provider")),J.hasDefinitionProvider=new T0("editorHasDefinitionProvider",!1,M("editorHasDefinitionProvider","Whether the editor has a definition provider")),J.hasDeclarationProvider=new T0("editorHasDeclarationProvider",!1,M("editorHasDeclarationProvider","Whether the editor has a declaration provider")),J.hasImplementationProvider=new T0("editorHasImplementationProvider",!1,M("editorHasImplementationProvider","Whether the editor has an implementation provider")),J.hasTypeDefinitionProvider=new T0("editorHasTypeDefinitionProvider",!1,M("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),J.hasHoverProvider=new T0("editorHasHoverProvider",!1,M("editorHasHoverProvider","Whether the editor has a hover provider")),J.hasDocumentHighlightProvider=new T0("editorHasDocumentHighlightProvider",!1,M("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),J.hasDocumentSymbolProvider=new T0("editorHasDocumentSymbolProvider",!1,M("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),J.hasReferenceProvider=new T0("editorHasReferenceProvider",!1,M("editorHasReferenceProvider","Whether the editor has a reference provider")),J.hasRenameProvider=new T0("editorHasRenameProvider",!1,M("editorHasRenameProvider","Whether the editor has a rename provider")),J.hasSignatureHelpProvider=new T0("editorHasSignatureHelpProvider",!1,M("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),J.hasInlayHintsProvider=new T0("editorHasInlayHintsProvider",!1,M("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),J.hasDocumentFormattingProvider=new T0("editorHasDocumentFormattingProvider",!1,M("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),J.hasDocumentSelectionFormattingProvider=new T0("editorHasDocumentSelectionFormattingProvider",!1,M("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),J.hasMultipleDocumentFormattingProvider=new T0("editorHasMultipleDocumentFormattingProvider",!1,M("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),J.hasMultipleDocumentSelectionFormattingProvider=new T0("editorHasMultipleDocumentSelectionFormattingProvider",!1,M("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(H0||(H0={}))});class QA{constructor(J){J.addImplementation(1e4,"code-editor",($,Q)=>{let X=$.get(X6).getFocusedCodeEditor();if(X&&X.hasTextFocus())return this._runEditorCommand($,X,Q);return!1}),J.addImplementation(1000,"generic-dom-input-textarea",($,Q)=>{let X=B5();if(X&&["input","textarea"].indexOf(X.tagName.toLowerCase())>=0)return this.runDOMCommand(X),!0;return!1}),J.addImplementation(0,"generic-dom",($,Q)=>{let X=$.get(X6).getActiveCodeEditor();if(X)return X.focus(),this._runEditorCommand($,X,Q);return!1})}_runEditorCommand(J,$,Q){let X=this.runEditorCommand(J,$,Q);if(X)return X;return!0}}function Yq(J,$){jJ.registerKeybindingRule({id:J,primary:$,when:H70,weight:S1+1})}function Pm(J){return J.register(),J}function g2(J,$){Pm(new eN("default:"+J,J)),Pm(new eN(J,J,$))}var S1=0,m6,A8,Xq,v5,H70,Dm,eN;var Rm=E(()=>{a0();M7();KY();u9();V9();zm();f4();oK();Hm();tN();e0();qX();e1();Z3();x0();m6=class m6 extends u7{runEditorCommand(J,$,Q){let X=$._getViewModel();if(!X)return;this.runCoreEditorCommand(X,Q||{})}};(function(J){let $=function(X){if(!z5(X))return!1;let Y=X;if(!P5(Y.to))return!1;if(!q8(Y.by)&&!P5(Y.by))return!1;if(!q8(Y.value)&&!q9(Y.value))return!1;if(!q8(Y.revealCursor)&&!kW(Y.revealCursor))return!1;return!0};J.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},J.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function Q(X){let Y;switch(X.to){case J.RawDirection.Up:Y=1;break;case J.RawDirection.Right:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.Left:Y=4;break;default:return null}let Z;switch(X.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Page:Z=3;break;case J.RawUnit.HalfPage:Z=4;break;case J.RawUnit.Editor:Z=5;break;case J.RawUnit.Column:Z=6;break;default:Z=2}let G=Math.floor(X.value||1),q=!!X.revealCursor;return{direction:Y,unit:Z,value:G,revealCursor:q,select:!!X.select}}J.parse=Q})(A8||(A8={}));(function(J){let $=function(Q){if(!z5(Q))return!1;let X=Q;if(!q9(X.lineNumber)&&!P5(X.lineNumber))return!1;if(!q8(X.at)&&!P5(X.at))return!1;return!0};J.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:$,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},J.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Xq||(Xq={}));(function(J){class $ extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){if(!P.position)return;if(F.model.pushStackElement(),F.setCursorStates(P.source,3,[$8.moveTo(F,F.getPrimaryCursorState(),this._inSelectionMode,P.position,P.viewPosition)])&&P.revealType!==2)F.revealPrimaryCursor(P.source,!0,!0)}}J.MoveTo=f0(new $({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),J.MoveToSelect=f0(new $({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class Q extends m6{runCoreEditorCommand(F,P){F.model.pushStackElement();let R=this._getColumnSelectResult(F,F.getPrimaryCursorState(),F.getCursorColumnSelectData(),P);if(R===null)return;if(F.setCursorStates(P.source,3,R.viewStates.map((D)=>R1.fromViewState(D))),F.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:R.fromLineNumber,fromViewVisualColumn:R.fromVisualColumn,toViewLineNumber:R.toLineNumber,toViewVisualColumn:R.toVisualColumn}),R.reversed)F.revealTopMostCursor(P.source);else F.revealBottomMostCursor(P.source)}}J.ColumnSelect=f0(new class extends Q{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(F,P,R,D){if(typeof D.position>"u"||typeof D.viewPosition>"u"||typeof D.mouseColumn>"u")return null;let _=F.model.validatePosition(D.position),O=F.coordinatesConverter.validateViewPosition(new s(D.viewPosition.lineNumber,D.viewPosition.column),_),N=D.doColumnSelect?R.fromViewLineNumber:O.lineNumber,w=D.doColumnSelect?R.fromViewVisualColumn:D.mouseColumn-1;return wY.columnSelect(F.cursorConfig,F,N,w,O.lineNumber,D.mouseColumn-1)}}),J.CursorColumnSelectLeft=f0(new class extends Q{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(F,P,R,D){return wY.columnSelectLeft(F.cursorConfig,F,R)}}),J.CursorColumnSelectRight=f0(new class extends Q{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(F,P,R,D){return wY.columnSelectRight(F.cursorConfig,F,R)}});class X extends Q{constructor(F){super(F);this._isPaged=F.isPaged}_getColumnSelectResult(F,P,R,D){return wY.columnSelectUp(F.cursorConfig,F,R,this._isPaged)}}J.CursorColumnSelectUp=f0(new X({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3600,linux:{primary:0}}})),J.CursorColumnSelectPageUp=f0(new X({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3595,linux:{primary:0}}}));class Y extends Q{constructor(F){super(F);this._isPaged=F.isPaged}_getColumnSelectResult(F,P,R,D){return wY.columnSelectDown(F.cursorConfig,F,R,this._isPaged)}}J.CursorColumnSelectDown=f0(new Y({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3602,linux:{primary:0}}})),J.CursorColumnSelectPageDown=f0(new Y({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3596,linux:{primary:0}}}));class Z extends m6{constructor(){super({id:"cursorMove",precondition:void 0,metadata:EH.metadata})}runCoreEditorCommand(F,P){let R=EH.parse(P);if(!R)return;this._runCursorMove(F,P.source,R)}_runCursorMove(F,P,R){F.model.pushStackElement(),F.setCursorStates(P,3,Z._move(F,F.getCursorStates(),R)),F.revealPrimaryCursor(P,!0)}static _move(F,P,R){let{select:D,value:_}=R;switch(R.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return $8.simpleMove(F,P,R.direction,D,_,R.unit);case 11:case 13:case 12:case 14:return $8.viewportMove(F,P,R.direction,D,_);default:return null}}}J.CursorMoveImpl=Z,J.CursorMove=f0(new Z);class G extends m6{constructor(F){super(F);this._staticArgs=F.args}runCoreEditorCommand(F,P){let R=this._staticArgs;if(this._staticArgs.value===-1)R={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:P.pageSize||F.cursorConfig.pageSize};F.model.pushStackElement(),F.setCursorStates(P.source,3,$8.simpleMove(F,F.getCursorStates(),R.direction,R.select,R.value,R.unit)),F.revealPrimaryCursor(P.source,!0)}}J.CursorLeft=f0(new G({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),J.CursorLeftSelect=f0(new G({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1039}})),J.CursorRight=f0(new G({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),J.CursorRightSelect=f0(new G({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1041}})),J.CursorUp=f0(new G({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),J.CursorUpSelect=f0(new G({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),J.CursorPageUp=f0(new G({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:11}})),J.CursorPageUpSelect=f0(new G({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1035}})),J.CursorDown=f0(new G({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),J.CursorDownSelect=f0(new G({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),J.CursorPageDown=f0(new G({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:12}})),J.CursorPageDownSelect=f0(new G({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1036}})),J.CreateCursor=f0(new class extends m6{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(F,P){if(!P.position)return;let R;if(P.wholeLine)R=$8.line(F,F.getPrimaryCursorState(),!1,P.position,P.viewPosition);else R=$8.moveTo(F,F.getPrimaryCursorState(),!1,P.position,P.viewPosition);let D=F.getCursorStates();if(D.length>1){let _=R.modelState?R.modelState.position:null,O=R.viewState?R.viewState.position:null;for(let N=0,w=D.length;N<w;N++){let T=D[N];if(_&&!T.modelState.selection.containsPosition(_))continue;if(O&&!T.viewState.selection.containsPosition(O))continue;D.splice(N,1),F.model.pushStackElement(),F.setCursorStates(P.source,3,D);return}}D.push(R),F.model.pushStackElement(),F.setCursorStates(P.source,3,D)}}),J.LastCursorMoveToSelect=f0(new class extends m6{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(F,P){if(!P.position)return;let R=F.getLastAddedCursorIndex(),D=F.getCursorStates(),_=D.slice(0);_[R]=$8.moveTo(F,D[R],!0,P.position,P.viewPosition),F.model.pushStackElement(),F.setCursorStates(P.source,3,_)}});class q extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,$8.moveToBeginningOfLine(F,F.getCursorStates(),this._inSelectionMode)),F.revealPrimaryCursor(P.source,!0)}}J.CursorHome=f0(new q({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),J.CursorHomeSelect=f0(new q({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class U extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,this._exec(F.getCursorStates())),F.revealPrimaryCursor(P.source,!0)}_exec(F){let P=[];for(let R=0,D=F.length;R<D;R++){let _=F[R],O=_.modelState.position.lineNumber;P[R]=R1.fromModelState(_.modelState.move(this._inSelectionMode,O,1,0))}return P}}J.CursorLineStart=f0(new U({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:0,mac:{primary:287}}})),J.CursorLineStartSelect=f0(new U({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:0,mac:{primary:1311}}}));class z extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,$8.moveToEndOfLine(F,F.getCursorStates(),this._inSelectionMode,P.sticky||!1)),F.revealPrimaryCursor(P.source,!0)}}J.CursorEnd=f0(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:S1,kbExpr:H0.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:M("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),J.CursorEndSelect=f0(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:S1,kbExpr:H0.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:M("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class H extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,this._exec(F,F.getCursorStates())),F.revealPrimaryCursor(P.source,!0)}_exec(F,P){let R=[];for(let D=0,_=P.length;D<_;D++){let O=P[D],N=O.modelState.position.lineNumber,w=F.model.getLineMaxColumn(N);R[D]=R1.fromModelState(O.modelState.move(this._inSelectionMode,N,w,0))}return R}}J.CursorLineEnd=f0(new H({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:0,mac:{primary:291}}})),J.CursorLineEndSelect=f0(new H({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:0,mac:{primary:1315}}}));class j extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,$8.moveToBeginningOfBuffer(F,F.getCursorStates(),this._inSelectionMode)),F.revealPrimaryCursor(P.source,!0)}}J.CursorTop=f0(new j({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:2062,mac:{primary:2064}}})),J.CursorTopSelect=f0(new j({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3086,mac:{primary:3088}}}));class B extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,$8.moveToEndOfBuffer(F,F.getCursorStates(),this._inSelectionMode)),F.revealPrimaryCursor(P.source,!0)}}J.CursorBottom=f0(new B({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:2061,mac:{primary:2066}}})),J.CursorBottomSelect=f0(new B({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:3085,mac:{primary:3090}}}));class V extends m6{constructor(){super({id:"editorScroll",precondition:void 0,metadata:A8.metadata})}determineScrollMethod(F){let P=[6],R=[1,2,3,4,5,6],D=[4,2],_=[1,3];if(P.includes(F.unit)&&D.includes(F.direction))return this._runHorizontalEditorScroll.bind(this);if(R.includes(F.unit)&&_.includes(F.direction))return this._runVerticalEditorScroll.bind(this);return null}runCoreEditorCommand(F,P){let R=A8.parse(P);if(!R)return;let D=this.determineScrollMethod(R);if(!D)return;D(F,P.source,R)}_runVerticalEditorScroll(F,P,R){let D=this._computeDesiredScrollTop(F,R);if(R.revealCursor){let _=F.getCompletelyVisibleViewRangeAtScrollTop(D);F.setCursorStates(P,3,[$8.findPositionInViewportIfOutside(F,F.getPrimaryCursorState(),_,R.select)])}F.viewLayout.setScrollPosition({scrollTop:D},0)}_computeDesiredScrollTop(F,P){if(P.unit===1){let _=F.viewLayout.getFutureViewport(),O=F.getCompletelyVisibleViewRangeAtScrollTop(_.top),N=F.coordinatesConverter.convertViewRangeToModelRange(O),w;if(P.direction===1)w=Math.max(1,N.startLineNumber-P.value);else w=Math.min(F.model.getLineCount(),N.startLineNumber+P.value);let T=F.coordinatesConverter.convertModelPositionToViewPosition(new s(w,1));return F.viewLayout.getVerticalOffsetForLineNumber(T.lineNumber)}if(P.unit===5){let _=0;if(P.direction===3)_=F.model.getLineCount()-F.cursorConfig.pageSize;return F.viewLayout.getVerticalOffsetForLineNumber(_)}let R;if(P.unit===3)R=F.cursorConfig.pageSize*P.value;else if(P.unit===4)R=Math.round(F.cursorConfig.pageSize/2)*P.value;else R=P.value;let D=(P.direction===1?-1:1)*R;return F.viewLayout.getCurrentScrollTop()+D*F.cursorConfig.lineHeight}_runHorizontalEditorScroll(F,P,R){let D=this._computeDesiredScrollLeft(F,R);F.viewLayout.setScrollPosition({scrollLeft:D},0)}_computeDesiredScrollLeft(F,P){let R=(P.direction===4?-1:1)*P.value;return F.viewLayout.getCurrentScrollLeft()+R*F.cursorConfig.typicalHalfwidthCharacterWidth}}J.EditorScrollImpl=V,J.EditorScroll=f0(new V),J.ScrollLineUp=f0(new class extends m6{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Up,by:A8.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollPageUp=f0(new class extends m6{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Up,by:A8.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollEditorTop=f0(new class extends m6{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Up,by:A8.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollLineDown=f0(new class extends m6{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Down,by:A8.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollPageDown=f0(new class extends m6{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Down,by:A8.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollEditorBottom=f0(new class extends m6{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Down,by:A8.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollLeft=f0(new class extends m6{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Left,by:A8.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollRight=f0(new class extends m6{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus}})}runCoreEditorCommand(F,P){J.EditorScroll.runCoreEditorCommand(F,{to:A8.RawDirection.Right,by:A8.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:P.source})}});class W extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){if(!P.position)return;if(F.model.pushStackElement(),F.setCursorStates(P.source,3,[$8.word(F,F.getPrimaryCursorState(),this._inSelectionMode,P.position)]),P.revealType!==2)F.revealPrimaryCursor(P.source,!0,!0)}}J.WordSelect=f0(new W({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),J.WordSelectDrag=f0(new W({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),J.LastCursorWordSelect=f0(new class extends m6{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(F,P){if(!P.position)return;let R=F.getLastAddedCursorIndex(),D=F.getCursorStates(),_=D.slice(0),O=D[R];_[R]=$8.word(F,O,O.modelState.hasSelection(),P.position),F.model.pushStackElement(),F.setCursorStates(P.source,3,_)}});class K extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){if(!P.position)return;if(F.model.pushStackElement(),F.setCursorStates(P.source,3,[$8.line(F,F.getPrimaryCursorState(),this._inSelectionMode,P.position,P.viewPosition)]),P.revealType!==2)F.revealPrimaryCursor(P.source,!1,!0)}}J.LineSelect=f0(new K({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),J.LineSelectDrag=f0(new K({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class A extends m6{constructor(F){super(F);this._inSelectionMode=F.inSelectionMode}runCoreEditorCommand(F,P){if(!P.position)return;let R=F.getLastAddedCursorIndex(),D=F.getCursorStates(),_=D.slice(0);_[R]=$8.line(F,D[R],this._inSelectionMode,P.position,P.viewPosition),F.model.pushStackElement(),F.setCursorStates(P.source,3,_)}}J.LastCursorLineSelect=f0(new A({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),J.LastCursorLineSelectDrag=f0(new A({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),J.CancelSelection=f0(new class extends m6{constructor(){super({id:"cancelSelection",precondition:H0.hasNonEmptySelection,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,[$8.cancelSelection(F,F.getPrimaryCursorState())]),F.revealPrimaryCursor(P.source,!0)}}),J.RemoveSecondaryCursors=f0(new class extends m6{constructor(){super({id:"removeSecondaryCursors",precondition:H0.hasMultipleSelections,kbOpts:{weight:S1+1,kbExpr:H0.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates(P.source,3,[F.getPrimaryCursorState()]),F.revealPrimaryCursor(P.source,!0),O$(M("removedCursor","Removed secondary cursors"))}}),J.RevealLine=f0(new class extends m6{constructor(){super({id:"revealLine",precondition:void 0,metadata:Xq.metadata})}runCoreEditorCommand(F,P){let R=P,D=R.lineNumber||0,_=typeof D==="number"?D+1:parseInt(D)+1;if(_<1)_=1;let O=F.model.getLineCount();if(_>O)_=O;let N=new v(_,1,_,F.model.getLineMaxColumn(_)),w=0;if(R.at)switch(R.at){case Xq.RawAtArgument.Top:w=3;break;case Xq.RawAtArgument.Center:w=1;break;case Xq.RawAtArgument.Bottom:w=4;break;default:break}let T=F.coordinatesConverter.convertModelRangeToViewRange(N);F.revealRange(P.source,!1,T,w,0)}}),J.SelectAll=new class extends QA{constructor(){super(lC)}runDOMCommand(F){if(i5)F.focus(),F.select();F.ownerDocument.execCommand("selectAll")}runEditorCommand(F,P,R){let D=P._getViewModel();if(!D)return;this.runCoreEditorCommand(D,R)}runCoreEditorCommand(F,P){F.model.pushStackElement(),F.setCursorStates("keyboard",3,[$8.selectAll(F,F.getPrimaryCursorState())])}},J.SetSelection=f0(new class extends m6{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(F,P){if(!P.selection)return;F.model.pushStackElement(),F.setCursorStates(P.source,3,[R1.fromModelSelection(P.selection)])}})})(v5||(v5={}));H70=v0.and(H0.textInputFocus,H0.columnSelection);Yq(v5.CursorColumnSelectLeft.id,1039);Yq(v5.CursorColumnSelectRight.id,1041);Yq(v5.CursorColumnSelectUp.id,1040);Yq(v5.CursorColumnSelectPageUp.id,1035);Yq(v5.CursorColumnSelectDown.id,1042);Yq(v5.CursorColumnSelectPageDown.id,1036);(function(J){class $ extends u7{runEditorCommand(Q,X,Y){let Z=X._getViewModel();if(!Z)return;this.runCoreEditingCommand(X,Z,Y||{})}}J.CoreEditingCommand=$,J.LineBreakInsert=f0(new class extends ${constructor(){super({id:"lineBreakInsert",precondition:H0.writable,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(Q,X,Y){Q.pushUndoStop(),Q.executeCommands(this.id,p6.lineBreakInsert(X.cursorConfig,X.model,X.getCursorStates().map((Z)=>Z.modelState.selection)))}}),J.Outdent=f0(new class extends ${constructor(){super({id:"outdent",precondition:H0.writable,kbOpts:{weight:S1,kbExpr:v0.and(H0.editorTextFocus,H0.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(Q,X,Y){Q.pushUndoStop(),Q.executeCommands(this.id,p6.outdent(X.cursorConfig,X.model,X.getCursorStates().map((Z)=>Z.modelState.selection))),Q.pushUndoStop()}}),J.Tab=f0(new class extends ${constructor(){super({id:"tab",precondition:H0.writable,kbOpts:{weight:S1,kbExpr:v0.and(H0.editorTextFocus,H0.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(Q,X,Y){Q.pushUndoStop(),Q.executeCommands(this.id,p6.tab(X.cursorConfig,X.model,X.getCursorStates().map((Z)=>Z.modelState.selection))),Q.pushUndoStop()}}),J.DeleteLeft=f0(new class extends ${constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(Q,X,Y){let[Z,G]=v$.deleteLeft(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map((q)=>q.modelState.selection),X.getCursorAutoClosedCharacters());if(Z)Q.pushUndoStop();Q.executeCommands(this.id,G),X.setPrevEditOperationType(2)}}),J.DeleteRight=f0(new class extends ${constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:S1,kbExpr:H0.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(Q,X,Y){let[Z,G]=v$.deleteRight(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map((q)=>q.modelState.selection));if(Z)Q.pushUndoStop();Q.executeCommands(this.id,G),X.setPrevEditOperationType(3)}}),J.Undo=new class extends QA{constructor(){super(_O)}runDOMCommand(Q){Q.ownerDocument.execCommand("undo")}runEditorCommand(Q,X,Y){if(!X.hasModel()||X.getOption(90)===!0)return;return X.getModel().undo()}},J.Redo=new class extends QA{constructor(){super(NO)}runDOMCommand(Q){Q.ownerDocument.execCommand("redo")}runEditorCommand(Q,X,Y){if(!X.hasModel()||X.getOption(90)===!0)return;return X.getModel().redo()}}})(Dm||(Dm={}));eN=class eN extends F3{constructor(J,$,Q){super({id:J,precondition:void 0,metadata:Q});this._handlerId=$}runCommand(J,$){let Q=J.get(X6).getFocusedCodeEditor();if(!Q)return;Q.trigger("keyboard",this._handlerId,$)}};g2("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});g2("replacePreviousChar");g2("compositionType");g2("compositionStart");g2("compositionEnd");g2("paste");g2("cut")});class JT{constructor(J,$,Q,X){this.configuration=J,this.viewModel=$,this.userInputEvents=Q,this.commandDelegate=X}paste(J,$,Q,X){this.commandDelegate.paste(J,$,Q,X)}type(J){this.commandDelegate.type(J)}compositionType(J,$,Q,X){this.commandDelegate.compositionType(J,$,Q,X)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(J){v5.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:J})}_validateViewColumn(J){let $=this.viewModel.getLineMinColumn(J.lineNumber);if(J.column<$)return new s(J.lineNumber,$);return J}_hasMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.altKey;case"ctrlKey":return J.ctrlKey;case"metaKey":return J.metaKey;default:return!1}}_hasNonMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.ctrlKey||J.metaKey;case"ctrlKey":return J.altKey||J.metaKey;case"metaKey":return J.ctrlKey||J.altKey;default:return!1}}dispatchMouse(J){let $=this.configuration.options,Q=w6&&$.get(106),X=$.get(22);if(J.middleButton&&!Q)this._columnSelect(J.position,J.mouseColumn,J.inSelectionMode);else if(J.startedOnLineNumbers)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelect(J.position,J.revealType);else this._createCursor(J.position,!0);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount>=4)this._selectAll();else if(J.mouseDownCount===3)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelectDrag(J.position,J.revealType);else this._lastCursorLineSelect(J.position,J.revealType);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount===2){if(!J.onInjectedText)if(this._hasMulticursorModifier(J))this._lastCursorWordSelect(J.position,J.revealType);else if(J.inSelectionMode)this._wordSelectDrag(J.position,J.revealType);else this._wordSelect(J.position,J.revealType)}else if(this._hasMulticursorModifier(J)){if(!this._hasNonMulticursorModifier(J))if(J.shiftKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(J.inSelectionMode)this._lastCursorMoveToSelect(J.position,J.revealType);else this._createCursor(J.position,!1)}else if(J.inSelectionMode)if(J.altKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(X)this._columnSelect(J.position,J.mouseColumn,!0);else this._moveToSelect(J.position,J.revealType);else this.moveTo(J.position,J.revealType)}_usualArgs(J,$){return J=this._validateViewColumn(J),{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,revealType:$}}moveTo(J,$){v5.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_moveToSelect(J,$){v5.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_columnSelect(J,$,Q){J=this._validateViewColumn(J),v5.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,mouseColumn:$,doColumnSelect:Q})}_createCursor(J,$){J=this._validateViewColumn(J),v5.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,wholeLine:$})}_lastCursorMoveToSelect(J,$){v5.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelect(J,$){v5.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelectDrag(J,$){v5.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorWordSelect(J,$){v5.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelect(J,$){v5.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelectDrag(J,$){v5.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelect(J,$){v5.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelectDrag(J,$){v5.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_selectAll(){v5.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(J){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(J)}emitKeyDown(J){this.userInputEvents.emitKeyDown(J)}emitKeyUp(J){this.userInputEvents.emitKeyUp(J)}emitContextMenu(J){this.userInputEvents.emitContextMenu(J)}emitMouseMove(J){this.userInputEvents.emitMouseMove(J)}emitMouseLeave(J){this.userInputEvents.emitMouseLeave(J)}emitMouseUp(J){this.userInputEvents.emitMouseUp(J)}emitMouseDown(J){this.userInputEvents.emitMouseDown(J)}emitMouseDrag(J){this.userInputEvents.emitMouseDrag(J)}emitMouseDrop(J){this.userInputEvents.emitMouseDrop(J)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(J){this.userInputEvents.emitMouseWheel(J)}}var Mm=E(()=>{Rm();E1()});class XA{constructor(J){this._createLine=J,this._set(1,[])}flush(){this._set(1,[])}_set(J,$){this._lines=$,this._rendLineNumberStart=J}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(J){let $=J-this._rendLineNumberStart;if($<0||$>=this._lines.length)throw new l1("Illegal value for lineNumber");return this._lines[$]}onLinesDeleted(J,$){if(this.getCount()===0)return null;let Q=this.getStartLineNumber(),X=this.getEndLineNumber();if($<Q){let q=$-J+1;return this._rendLineNumberStart-=q,null}if(J>X)return null;let Y=0,Z=0;for(let q=Q;q<=X;q++){let U=q-this._rendLineNumberStart;if(J<=q&&q<=$)if(Z===0)Y=U,Z=1;else Z++}if(J<Q){let q=0;if($<Q)q=$-J+1;else q=Q-J;this._rendLineNumberStart-=q}return this._lines.splice(Y,Z)}onLinesChanged(J,$){let Q=J+$-1;if(this.getCount()===0)return!1;let X=this.getStartLineNumber(),Y=this.getEndLineNumber(),Z=!1;for(let G=J;G<=Q;G++)if(G>=X&&G<=Y)this._lines[G-this._rendLineNumberStart].onContentChanged(),Z=!0;return Z}onLinesInserted(J,$){if(this.getCount()===0)return null;let Q=$-J+1,X=this.getStartLineNumber(),Y=this.getEndLineNumber();if(J<=X)return this._rendLineNumberStart+=Q,null;if(J>Y)return null;if(Q+J>Y)return this._lines.splice(J-this._rendLineNumberStart,Y-J+1);let Z=[];for(let H=0;H<Q;H++)Z[H]=this._createLine();let G=J-this._rendLineNumberStart,q=this._lines.slice(0,G),U=this._lines.slice(G,this._lines.length-Q),z=this._lines.slice(this._lines.length-Q,this._lines.length);return this._lines=q.concat(Z).concat(U),z}onTokensChanged(J){if(this.getCount()===0)return!1;let $=this.getStartLineNumber(),Q=this.getEndLineNumber(),X=!1;for(let Y=0,Z=J.length;Y<Z;Y++){let G=J[Y];if(G.toLineNumber<$||G.fromLineNumber>Q)continue;let q=Math.max($,G.fromLineNumber),U=Math.min(Q,G.toLineNumber);for(let z=q;z<=U;z++){let H=z-this._rendLineNumberStart;this._lines[H].onTokensChanged(),X=!0}}return X}}class yH{constructor(J){this._host=J,this.domNode=this._createDomNode(),this._linesCollection=new XA(()=>this._host.createVisibleLine())}_createDomNode(){let J=q1(document.createElement("div"));return J.setClassName("view-layer"),J.setPosition("absolute"),J.domNode.setAttribute("role","presentation"),J.domNode.setAttribute("aria-hidden","true"),J}onConfigurationChanged(J){if(J.hasChanged(143))return!0;return!1}onFlushed(J){return this._linesCollection.flush(),!0}onLinesChanged(J){return this._linesCollection.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){let $=this._linesCollection.onLinesDeleted(J.fromLineNumber,J.toLineNumber);if($)for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onLinesInserted(J){let $=this._linesCollection.onLinesInserted(J.fromLineNumber,J.toLineNumber);if($)for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onScrollChanged(J){return J.scrollTopChanged}onTokensChanged(J){return this._linesCollection.onTokensChanged(J.ranges)}onZonesChanged(J){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(J){return this._linesCollection.getLine(J)}renderLines(J){let $=this._linesCollection._get(),Q=new UX(this.domNode.domNode,this._host,J),X={rendLineNumberStart:$.rendLineNumberStart,lines:$.lines,linesLength:$.lines.length},Y=Q.render(X,J.startLineNumber,J.endLineNumber,J.relativeVerticalOffset);this._linesCollection._set(Y.rendLineNumberStart,Y.lines)}}class UX{constructor(J,$,Q){this.domNode=J,this.host=$,this.viewportData=Q}render(J,$,Q,X){let Y={rendLineNumberStart:J.rendLineNumberStart,lines:J.lines.slice(0),linesLength:J.linesLength};if(Y.rendLineNumberStart+Y.linesLength-1<$||Q<Y.rendLineNumberStart){Y.rendLineNumberStart=$,Y.linesLength=Q-$+1,Y.lines=[];for(let Z=$;Z<=Q;Z++)Y.lines[Z-$]=this.host.createVisibleLine();return this._finishRendering(Y,!0,X),Y}if(this._renderUntouchedLines(Y,Math.max($-Y.rendLineNumberStart,0),Math.min(Q-Y.rendLineNumberStart,Y.linesLength-1),X,$),Y.rendLineNumberStart>$){let Z=$,G=Math.min(Q,Y.rendLineNumberStart-1);if(Z<=G)this._insertLinesBefore(Y,Z,G,X,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart<$){let Z=Math.min(Y.linesLength,$-Y.rendLineNumberStart);if(Z>0)this._removeLinesBefore(Y,Z),Y.linesLength-=Z}if(Y.rendLineNumberStart=$,Y.rendLineNumberStart+Y.linesLength-1<Q){let Z=Y.rendLineNumberStart+Y.linesLength,G=Q;if(Z<=G)this._insertLinesAfter(Y,Z,G,X,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart+Y.linesLength-1>Q){let Z=Math.max(0,Q-Y.rendLineNumberStart+1),q=Y.linesLength-1-Z+1;if(q>0)this._removeLinesAfter(Y,q),Y.linesLength-=q}return this._finishRendering(Y,!1,X),Y}_renderUntouchedLines(J,$,Q,X,Y){let{rendLineNumberStart:Z,lines:G}=J;for(let q=$;q<=Q;q++){let U=Z+q;G[q].layoutLine(U,X[U-Y])}}_insertLinesBefore(J,$,Q,X,Y){let Z=[],G=0;for(let q=$;q<=Q;q++)Z[G++]=this.host.createVisibleLine();J.lines=Z.concat(J.lines)}_removeLinesBefore(J,$){for(let Q=0;Q<$;Q++){let X=J.lines[Q].getDomNode();if(X)this.domNode.removeChild(X)}J.lines.splice(0,$)}_insertLinesAfter(J,$,Q,X,Y){let Z=[],G=0;for(let q=$;q<=Q;q++)Z[G++]=this.host.createVisibleLine();J.lines=J.lines.concat(Z)}_removeLinesAfter(J,$){let Q=J.linesLength-$;for(let X=0;X<$;X++){let Y=J.lines[Q+X].getDomNode();if(Y)this.domNode.removeChild(Y)}J.lines.splice(Q,$)}_finishRenderingNewLines(J,$,Q,X){if(UX._ttPolicy)Q=UX._ttPolicy.createHTML(Q);let Y=this.domNode.lastChild;if($||!Y)this.domNode.innerHTML=Q;else Y.insertAdjacentHTML("afterend",Q);let Z=this.domNode.lastChild;for(let G=J.linesLength-1;G>=0;G--){let q=J.lines[G];if(X[G])q.setDomNode(Z),Z=Z.previousSibling}}_finishRenderingInvalidLines(J,$,Q){let X=document.createElement("div");if(UX._ttPolicy)$=UX._ttPolicy.createHTML($);X.innerHTML=$;for(let Y=0;Y<J.linesLength;Y++){let Z=J.lines[Y];if(Q[Y]){let G=X.firstChild,q=Z.getDomNode();q.parentNode.replaceChild(G,q),Z.setDomNode(G)}}}_finishRendering(J,$,Q){let X=UX._sb,Y=J.linesLength,Z=J.lines,G=J.rendLineNumberStart,q=[];{X.reset();let U=!1;for(let z=0;z<Y;z++){let H=Z[z];if(q[z]=!1,H.getDomNode())continue;if(!H.renderLine(z+G,Q[z],this.viewportData,X))continue;q[z]=!0,U=!0}if(U)this._finishRenderingNewLines(J,$,X.build(),q)}{X.reset();let U=!1,z=[];for(let H=0;H<Y;H++){let j=Z[H];if(z[H]=!1,q[H])continue;if(!j.renderLine(H+G,Q[H],this.viewportData,X))continue;z[H]=!0,U=!0}if(U)this._finishRenderingInvalidLines(J,X.build(),z)}}}var YA=E(()=>{ZY();T1();G2();UX._ttPolicy=A9("editorViewLayer",{createHTML:(J)=>J});UX._sb=new hQ(1e5)});class Om{constructor(J,$){this._configuration=J,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=$,this._domNode=null,this._renderedContent=null}getDomNode(){if(!this._domNode)return null;return this._domNode.domNode}setDomNode(J){this._domNode=q1(J)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(J){this._lineHeight=this._configuration.options.get(66)}renderLine(J,$,Q,X){let Y="";for(let Z=0,G=this._dynamicOverlays.length;Z<G;Z++){let q=this._dynamicOverlays[Z];Y+=q.render(Q.startLineNumber,J)}if(this._renderedContent===Y)return!1;return this._renderedContent=Y,X.appendString('<div style="position:absolute;top:'),X.appendString(String($)),X.appendString("px;width:100%;height:"),X.appendString(String(this._lineHeight)),X.appendString('px;">'),X.appendString(Y),X.appendString("</div>"),!0}layoutLine(J,$){if(this._domNode)this._domNode.setTop($),this._domNode.setHeight(this._lineHeight)}}var $T,QT,XT;var _m=E(()=>{P4();YA();a8();$T=class $T extends k6{constructor(J){super(J);this._visibleLines=new yH(this),this.domNode=this._visibleLines.domNode;let Q=this._context.configuration.options.get(50);h6(this.domNode,Q),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let J=0,$=this._dynamicOverlays.length;J<$;J++)if(this._dynamicOverlays[J].shouldRender())return!0;return!1}dispose(){super.dispose();for(let J=0,$=this._dynamicOverlays.length;J<$;J++)this._dynamicOverlays[J].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Om(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(J){this._dynamicOverlays.push(J)}onConfigurationChanged(J){this._visibleLines.onConfigurationChanged(J);let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Z=$;Z<=Q;Z++)this._visibleLines.getVisibleLine(Z).onConfigurationChanged(J);let Y=this._context.configuration.options.get(50);return h6(this.domNode,Y),!0}onFlushed(J){return this._visibleLines.onFlushed(J)}onFocusChanged(J){return this._isFocused=J.isFocused,!0}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onScrollChanged(J){return this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._visibleLines.onZonesChanged(J)}prepareRender(J){let $=this._dynamicOverlays.filter((Q)=>Q.shouldRender());for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q];Y.prepareRender(J),Y.onDidRender()}}render(J){this._viewOverlaysRender(J),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(J){this._visibleLines.renderLines(J.viewportData)}};QT=class QT extends $T{constructor(J){super(J);let Q=this._context.configuration.options.get(143);this._contentWidth=Q.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(J){let Q=this._context.configuration.options.get(143);return this._contentWidth=Q.contentWidth,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollWidthChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J),this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth))}};XT=class XT extends $T{constructor(J){super(J);let $=this._context.configuration.options,Q=$.get(143);this._contentLeft=Q.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),h6(this.domNode,$.get(50))}onConfigurationChanged(J){let $=this._context.configuration.options;h6(this.domNode,$.get(50));let Q=$.get(143);return this._contentLeft=Q.contentLeft,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollHeightChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J);let $=Math.min(J.scrollHeight,1e6);this.domNode.setHeight($),this.domNode.setWidth(this._contentLeft)}}});class Zq{constructor(J){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=J}emitKeyDown(J){var $;($=this.onKeyDown)===null||$===void 0||$.call(this,J)}emitKeyUp(J){var $;($=this.onKeyUp)===null||$===void 0||$.call(this,J)}emitContextMenu(J){var $;($=this.onContextMenu)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseMove(J){var $;($=this.onMouseMove)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseLeave(J){var $;($=this.onMouseLeave)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDown(J){var $;($=this.onMouseDown)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseUp(J){var $;($=this.onMouseUp)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrag(J){var $;($=this.onMouseDrag)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrop(J){var $;($=this.onMouseDrop)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDropCanceled(){var J;(J=this.onMouseDropCanceled)===null||J===void 0||J.call(this)}emitMouseWheel(J){var $;($=this.onMouseWheel)===null||$===void 0||$.call(this,J)}_convertViewToModelMouseEvent(J){if(J.target)return{event:J.event,target:this._convertViewToModelMouseTarget(J.target)};return J}_convertViewToModelMouseTarget(J){return Zq.convertViewToModelMouseTarget(J,this._coordinatesConverter)}static convertViewToModelMouseTarget(J,$){let Q={...J};if(Q.position)Q.position=$.convertViewPositionToModelPosition(Q.position);if(Q.range)Q.range=$.convertViewRangeToModelRange(Q.range);if(Q.type===5||Q.type===8)Q.detail=this.convertViewToModelViewZoneData(Q.detail,$);return Q}static convertViewToModelViewZoneData(J,$){return{viewZoneId:J.viewZoneId,positionBefore:J.positionBefore?$.convertViewPositionToModelPosition(J.positionBefore):J.positionBefore,positionAfter:J.positionAfter?$.convertViewPositionToModelPosition(J.positionAfter):J.positionAfter,position:$.convertViewPositionToModelPosition(J.position),afterLineNumber:$.convertViewPositionToModelPosition(new s(J.afterLineNumber,1)).lineNumber}}}var YT=()=>{};var Nm=E(()=>{_0(".monaco-editor .blockDecorations-container{pointer-events:none;position:absolute;top:0}.monaco-editor .blockDecorations-block{box-sizing:border-box;position:absolute}")});var ZT;var Tm=E(()=>{Nm();a8();ZT=class ZT extends k6{constructor(J){super(J);this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=q1(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let J=!1,Q=this._context.configuration.options.get(143),X=Q.contentWidth-Q.verticalScrollbarWidth;if(this.contentWidth!==X)this.contentWidth=X,J=!0;let Y=Q.contentLeft;if(this.contentLeft!==Y)this.contentLeft=Y,J=!0;return J}dispose(){super.dispose()}onConfigurationChanged(J){return this.update()}onScrollChanged(J){return J.scrollTopChanged||J.scrollLeftChanged}onDecorationsChanged(J){return!0}onZonesChanged(J){return!0}prepareRender(J){}render(J){var $;let Q=0,X=J.getDecorationsInViewport();for(let Y of X){if(!Y.options.blockClassName)continue;let Z=this.blocks[Q];if(!Z)Z=this.blocks[Q]=q1(document.createElement("div")),this.domNode.appendChild(Z);let G,q;if(Y.options.blockIsAfterEnd)G=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!1),q=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);else G=J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!0),q=Y.range.isEmpty()&&!Y.options.blockDoesNotCollapse?J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!1):J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);let[U,z,H,j]=($=Y.options.blockPadding)!==null&&$!==void 0?$:[0,0,0,0];Z.setClassName("blockDecorations-block "+Y.options.blockClassName),Z.setLeft(this.contentLeft-j),Z.setWidth(this.contentWidth+j+z),Z.setTop(G-J.scrollTop-U),Z.setHeight(q-G+U+H),Q++}for(let Y=Q;Y<this.blocks.length;Y++)this.blocks[Y].domNode.remove();this.blocks.length=Q}}});class wm{constructor(J,$,Q){this._primaryAnchor=new Gq(null,null),this._secondaryAnchor=new Gq(null,null),this._context=J,this._viewDomNode=$,this._actual=Q,this.domNode=q1(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;let X=this._context.configuration.options,Y=X.get(143);this._fixedOverflowWidgets=X.get(42),this._contentWidth=Y.contentWidth,this._contentLeft=Y.contentLeft,this._lineHeight=X.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(J){let $=this._context.configuration.options;if(this._lineHeight=$.get(66),J.hasChanged(143)){let Q=$.get(143);this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(J,$,Q){this._affinity=J,this._primaryAnchor=X($,this._context.viewModel,this._affinity),this._secondaryAnchor=X(Q,this._context.viewModel,this._affinity);function X(Y,Z,G){if(!Y)return new Gq(null,null);let q=Z.model.validatePosition(Y);if(Z.coordinatesConverter.modelPositionIsVisible(q)){let U=Z.coordinatesConverter.convertModelPositionToViewPosition(q,G!==null&&G!==void 0?G:void 0);return new Gq(Y,U)}return new Gq(Y,null)}}_getMaxWidth(){let J=this.domNode.domNode.ownerDocument,$=J.defaultView;return this.allowEditorOverflow?($===null||$===void 0?void 0:$.innerWidth)||J.documentElement.offsetWidth||J.body.offsetWidth:this._contentWidth}setPosition(J,$,Q,X){if(this._setPosition(X,J,$),this._preference=Q,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0)this.domNode.setDisplay("block");else this.domNode.setDisplay("none");this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(J,$,Q,X){let Y=J.top,Z=Y,G=J.top+J.height,q=X.viewportHeight-G,U=Y-Q,z=Z>=Q,H=G,j=q>=Q,B=J.left;if(B+$>X.scrollLeft+X.viewportWidth)B=X.scrollLeft+X.viewportWidth-$;if(B<X.scrollLeft)B=X.scrollLeft;return{fitsAbove:z,aboveTop:U,fitsBelow:j,belowTop:H,left:B}}_layoutHorizontalSegmentInPage(J,$,Q,X){var Y;let Z=15,G=15,q=Math.max(15,$.left-X),U=Math.min($.left+$.width+X,J.width-15),H=this._viewDomNode.domNode.ownerDocument.defaultView,j=$.left+Q-((Y=H===null||H===void 0?void 0:H.scrollX)!==null&&Y!==void 0?Y:0);if(j+X>U){let B=j-(U-X);j-=B,Q-=B}if(j<q){let B=j-q;j-=B,Q-=B}return[Q,j]}_layoutBoxInPage(J,$,Q,X){var Y,Z;let G=J.top-Q,q=J.top+J.height,U=x5(this._viewDomNode.domNode),z=this._viewDomNode.domNode.ownerDocument,H=z.defaultView,j=U.top+G-((Y=H===null||H===void 0?void 0:H.scrollY)!==null&&Y!==void 0?Y:0),B=U.top+q-((Z=H===null||H===void 0?void 0:H.scrollY)!==null&&Z!==void 0?Z:0),V=K$(z.body),[W,K]=this._layoutHorizontalSegmentInPage(V,U,J.left-X.scrollLeft+this._contentLeft,$),A=22,F=22,P=j>=22,R=B+Q<=V.height-22;if(this._fixedOverflowWidgets)return{fitsAbove:P,aboveTop:Math.max(j,22),fitsBelow:R,belowTop:B,left:K};return{fitsAbove:P,aboveTop:G,fitsBelow:R,belowTop:q,left:W}}_prepareRenderWidgetAtExactPositionOverflowing(J){return new qq(J.top,J.left+this._contentLeft)}_getAnchorsCoordinates(J){var $,Q;let X=G(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),Y=(($=this._secondaryAnchor.viewPosition)===null||$===void 0?void 0:$.lineNumber)===((Q=this._primaryAnchor.viewPosition)===null||Q===void 0?void 0:Q.lineNumber)?this._secondaryAnchor.viewPosition:null,Z=G(Y,this._affinity,this._lineHeight);return{primary:X,secondary:Z};function G(q,U,z){if(!q)return null;let H=J.visibleRangeForPosition(q);if(!H)return null;let j=q.column===1&&U===3?0:H.left,B=J.getVerticalOffsetForLineNumber(q.lineNumber)-J.scrollTop;return new qT(B,j,z)}}_reduceAnchorCoordinates(J,$,Q){if(!$)return J;let X=this._context.configuration.options.get(50),Y=$.left;if(Y<J.left)Y=Math.max(Y,J.left-Q+X.typicalFullwidthCharacterWidth);else Y=Math.min(Y,J.left+Q-X.typicalFullwidthCharacterWidth);return new qT(J.top,Y,J.height)}_prepareRenderWidget(J){if(!this._preference||this._preference.length===0)return null;let{primary:$,secondary:Q}=this._getAnchorsCoordinates(J);if(!$)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Z=null;if(typeof this._actual.beforeRender==="function")Z=GT(this._actual.beforeRender,this._actual);if(Z)this._cachedDomNodeOffsetWidth=Z.width,this._cachedDomNodeOffsetHeight=Z.height;else{let q=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(q.width),this._cachedDomNodeOffsetHeight=Math.round(q.height)}}let X=this._reduceAnchorCoordinates($,Q,this._cachedDomNodeOffsetWidth),Y;if(this.allowEditorOverflow)Y=this._layoutBoxInPage(X,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);else Y=this._layoutBoxInViewport(X,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);for(let Z=1;Z<=2;Z++)for(let G of this._preference)if(G===1){if(!Y)return null;if(Z===2||Y.fitsAbove)return{coordinate:new qq(Y.aboveTop,Y.left),position:1}}else if(G===2){if(!Y)return null;if(Z===2||Y.fitsBelow)return{coordinate:new qq(Y.belowTop,Y.left),position:2}}else if(this.allowEditorOverflow)return{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new qq(X.top,X.left)),position:0};else return{coordinate:new qq(X.top,X.left),position:0};return null}onBeforeRender(J){if(!this._primaryAnchor.viewPosition||!this._preference)return;if(this._primaryAnchor.viewPosition.lineNumber<J.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>J.endLineNumber)return;this.domNode.setMaxWidth(this._maxWidth)}prepareRender(J){this._renderData=this._prepareRenderWidget(J)}render(J){if(!this._renderData){if(this._isVisible)this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden");if(typeof this._actual.afterRender==="function")GT(this._actual.afterRender,this._actual,null);return}if(this.allowEditorOverflow)this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left);else this.domNode.setTop(this._renderData.coordinate.top+J.scrollTop-J.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left);if(!this._isVisible)this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0;if(typeof this._actual.afterRender==="function")GT(this._actual.afterRender,this._actual,this._renderData.position)}}class Gq{constructor(J,$){this.modelPosition=J,this.viewPosition=$}}class qq{constructor(J,$){this.top=J,this.left=$,this._coordinateBrand=void 0}}class qT{constructor(J,$,Q){this.top=J,this.left=$,this.height=Q,this._anchorCoordinateBrand=void 0}}function GT(J,$,...Q){try{return J.call($,...Q)}catch(X){return null}}var UT;var Lm=E(()=>{x0();a8();UT=class UT extends k6{constructor(J,$){super(J);this._viewDomNode=$,this._widgets={},this.domNode=q1(document.createElement("div")),W8.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=q1(document.createElement("div")),W8.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].onConfigurationChanged(J);return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLineMappingChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(J){return this._updateAnchorsViewPositions(),!0}onLinesInserted(J){return this._updateAnchorsViewPositions(),!0}onScrollChanged(J){return!0}onZonesChanged(J){return!0}_updateAnchorsViewPositions(){let J=Object.keys(this._widgets);for(let $ of J)this._widgets[$].updateAnchorViewPosition()}addWidget(J){let $=new wm(this._context,this._viewDomNode,J);if(this._widgets[$.id]=$,$.allowEditorOverflow)this.overflowingContentWidgetsDomNode.appendChild($.domNode);else this.domNode.appendChild($.domNode);this.setShouldRender()}setWidgetPosition(J,$,Q,X,Y){this._widgets[J.getId()].setPosition($,Q,X,Y),this.setShouldRender()}removeWidget(J){let $=J.getId();if(this._widgets.hasOwnProperty($)){let Q=this._widgets[$];delete this._widgets[$];let X=Q.domNode.domNode;X.parentNode.removeChild(X),X.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(J){if(this._widgets.hasOwnProperty(J))return this._widgets[J].suppressMouseDown;return!1}onBeforeRender(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].onBeforeRender(J)}prepareRender(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].prepareRender(J)}render(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].render(J)}}});var km=E(()=>{_0(".monaco-editor .view-overlays .current-line,.monaco-editor .margin-view-overlays .current-line{box-sizing:border-box;display:block;position:absolute;top:0;left:0}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}")});var zT,HT,jT;var Em=E(()=>{km();_Y();yJ();B1();G5();u5();eQ();zT=class zT extends J9{constructor(J){super();this._context=J;let $=this._context.configuration.options,Q=$.get(143);this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._wordWrap=Q.isViewportWrapping,this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new d0(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let J=!1,$=new Set;for(let Y of this._selections)$.add(Y.positionLineNumber);let Q=Array.from($);if(Q.sort((Y,Z)=>Y-Z),!B6(this._cursorLineNumbers,Q))this._cursorLineNumbers=Q,J=!0;let X=this._selections.every((Y)=>Y.isEmpty());if(this._selectionIsEmpty!==X)this._selectionIsEmpty=X,J=!0;return J}onThemeChanged(J){return this._readFromSelections()}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);return this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._wordWrap=Q.isViewportWrapping,this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,!0}onCursorStateChanged(J){return this._selections=J.selections,this._readFromSelections()}onFlushed(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollWidthChanged||J.scrollTopChanged}onZonesChanged(J){return!0}onFocusChanged(J){if(!this._renderLineHighlightOnlyWhenFocus)return!1;return this._focused=J.isFocused,!0}prepareRender(J){if(!this._shouldRenderThis()){this._renderData=null;return}let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,X=[];for(let Z=$;Z<=Q;Z++){let G=Z-$;X[G]=""}if(this._wordWrap){let Z=this._renderOne(J,!1);for(let G of this._cursorLineNumbers){let q=this._context.viewModel.coordinatesConverter,U=q.convertViewPositionToModelPosition(new s(G,1)).lineNumber,z=q.convertModelPositionToViewPosition(new s(U,1)).lineNumber,H=q.convertModelPositionToViewPosition(new s(U,this._context.viewModel.model.getLineMaxColumn(U))).lineNumber,j=Math.max(z,$),B=Math.min(H,Q);for(let V=j;V<=B;V++){let W=V-$;X[W]=Z}}}let Y=this._renderOne(J,!0);for(let Z of this._cursorLineNumbers){if(Z<$||Z>Q)continue;let G=Z-$;X[G]=Y}this._renderData=X}render(J,$){if(!this._renderData)return"";let Q=$-J;if(Q>=this._renderData.length)return"";return this._renderData[Q]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}};HT=class HT extends zT{_renderOne(J,$){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+($?" current-line-exact":"")}" style="width:${Math.max(J.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}};jT=class jT extends zT{_renderOne(J,$){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&$?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}};i8((J,$)=>{let Q=J.getColor(CN);if(Q)$.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${Q}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${Q}; border: none; }`);if(!Q||Q.isTransparent()||J.defines(vN)){let X=J.getColor(vN);if(X){if($.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${X}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${X}; }`),S4(J.type))$.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),$.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")}}})});var Im=E(()=>{_0(".monaco-editor .lines-content .cdr{position:absolute}")});var VT;var ym=E(()=>{Im();_Y();n3();e0();VT=class VT extends J9{constructor(J){super();this._context=J;let $=this._context.configuration.options;this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;return this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}prepareRender(J){let $=J.getDecorationsInViewport(),Q=[],X=0;for(let q=0,U=$.length;q<U;q++){let z=$[q];if(z.options.className)Q[X++]=z}Q=Q.sort((q,U)=>{if(q.options.zIndex<U.options.zIndex)return-1;if(q.options.zIndex>U.options.zIndex)return 1;let z=q.options.className,H=U.options.className;if(z<H)return-1;if(z>H)return 1;return v.compareRangesUsingStarts(q.range,U.range)});let Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber,G=[];for(let q=Y;q<=Z;q++){let U=q-Y;G[U]=""}this._renderWholeLineDecorations(J,Q,G),this._renderNormalDecorations(J,Q,G),this._renderResult=G}_renderWholeLineDecorations(J,$,Q){let X=String(this._lineHeight),Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber;for(let G=0,q=$.length;G<q;G++){let U=$[G];if(!U.options.isWholeLine)continue;let z='<div class="cdr '+U.options.className+'" style="left:0;width:100%;height:'+X+'px;"></div>',H=Math.max(U.range.startLineNumber,Y),j=Math.min(U.range.endLineNumber,Z);for(let B=H;B<=j;B++){let V=B-Y;Q[V]+=z}}}_renderNormalDecorations(J,$,Q){var X;let Y=String(this._lineHeight),Z=J.visibleRange.startLineNumber,G=null,q=!1,U=null,z=!1;for(let H=0,j=$.length;H<j;H++){let B=$[H];if(B.options.isWholeLine)continue;let V=B.options.className,W=Boolean(B.options.showIfCollapsed),K=B.range;if(W&&K.endColumn===1&&K.endLineNumber!==K.startLineNumber)K=new v(K.startLineNumber,K.startColumn,K.endLineNumber-1,this._context.viewModel.getLineMaxColumn(K.endLineNumber-1));if(G===V&&q===W&&v.areIntersectingOrTouching(U,K)){U=v.plusRange(U,K);continue}if(G!==null)this._renderNormalDecoration(J,U,G,z,q,Y,Z,Q);G=V,q=W,U=K,z=(X=B.options.shouldFillLineOnLineBreak)!==null&&X!==void 0?X:!1}if(G!==null)this._renderNormalDecoration(J,U,G,z,q,Y,Z,Q)}_renderNormalDecoration(J,$,Q,X,Y,Z,G,q){let U=J.linesVisibleRangesForRange($,Q==="findMatch");if(!U)return;for(let z=0,H=U.length;z<H;z++){let j=U[z];if(j.outsideRenderedLine)continue;let B=j.lineNumber-G;if(Y&&j.ranges.length===1){let V=j.ranges[0];if(V.width<this._typicalHalfwidthCharacterWidth){let W=Math.round(V.left+V.width/2),K=Math.max(0,Math.round(W-this._typicalHalfwidthCharacterWidth/2));j.ranges[0]=new i3(K,this._typicalHalfwidthCharacterWidth)}}for(let V=0,W=j.ranges.length;V<W;V++){let K=X&&j.continuesOnNextLine&&W===1,A=j.ranges[V],F='<div class="cdr '+Q+'" style="left:'+String(A.left)+(K?"px;width:100%;height:":"px;width:"+String(A.width)+"px;height:")+Z+'px;"></div>';q[B]+=F}}}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}}});var WT;var xm=E(()=>{x0();EJ();a8();G5();WT=class WT extends k6{constructor(J,$,Q,X){super(J);let Y=this._context.configuration.options,Z=Y.get(102),G=Y.get(74),q=Y.get(40),U=Y.get(105),z={listenOnDomNode:Q.domNode,className:"editor-scrollable "+kH(J.theme.type),useShadows:!1,lazyRender:!0,vertical:Z.vertical,horizontal:Z.horizontal,verticalHasArrows:Z.verticalHasArrows,horizontalHasArrows:Z.horizontalHasArrows,verticalScrollbarSize:Z.verticalScrollbarSize,verticalSliderSize:Z.verticalSliderSize,horizontalScrollbarSize:Z.horizontalScrollbarSize,horizontalSliderSize:Z.horizontalSliderSize,handleMouseWheel:Z.handleMouseWheel,alwaysConsumeMouseWheel:Z.alwaysConsumeMouseWheel,arrowSize:Z.arrowSize,mouseWheelScrollSensitivity:G,fastScrollSensitivity:q,scrollPredominantAxis:U,scrollByPage:Z.scrollByPage};this.scrollbar=this._register(new QX($.domNode,z,this._context.viewLayout.getScrollable())),W8.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=q1(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();let H=(j,B,V)=>{let W={};if(B){let K=j.scrollTop;if(K)W.scrollTop=this._context.viewLayout.getCurrentScrollTop()+K,j.scrollTop=0}if(V){let K=j.scrollLeft;if(K)W.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+K,j.scrollLeft=0}this._context.viewModel.viewLayout.setScrollPosition(W,1)};this._register(t(Q.domNode,"scroll",(j)=>H(Q.domNode,!0,!0))),this._register(t($.domNode,"scroll",(j)=>H($.domNode,!0,!1))),this._register(t(X.domNode,"scroll",(j)=>H(X.domNode,!0,!1))),this._register(t(this.scrollbarDomNode.domNode,"scroll",(j)=>H(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){let J=this._context.configuration.options,$=J.get(143);if(this.scrollbarDomNode.setLeft($.contentLeft),J.get(72).side==="right")this.scrollbarDomNode.setWidth($.contentWidth+$.minimap.minimapWidth);else this.scrollbarDomNode.setWidth($.contentWidth);this.scrollbarDomNode.setHeight($.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(J){this.scrollbar.delegateVerticalScrollbarPointerDown(J)}delegateScrollFromMouseWheelEvent(J){this.scrollbar.delegateScrollFromMouseWheelEvent(J)}onConfigurationChanged(J){if(J.hasChanged(102)||J.hasChanged(74)||J.hasChanged(40)){let $=this._context.configuration.options,Q=$.get(102),X=$.get(74),Y=$.get(40),Z=$.get(105),G={vertical:Q.vertical,horizontal:Q.horizontal,verticalScrollbarSize:Q.verticalScrollbarSize,horizontalScrollbarSize:Q.horizontalScrollbarSize,scrollByPage:Q.scrollByPage,handleMouseWheel:Q.handleMouseWheel,mouseWheelScrollSensitivity:X,fastScrollSensitivity:Y,scrollPredominantAxis:Z};this.scrollbar.updateOptions(G)}if(J.hasChanged(143))this._setLayout();return!0}onScrollChanged(J){return!0}onThemeChanged(J){return this.scrollbar.updateClassName("editor-scrollable "+kH(this._context.theme.type)),!0}prepareRender(J){}render(J){this.scrollbar.renderNow()}}});var bm=E(()=>{_0(".monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .glyph-margin-widgets .cgmr{justify-content:center;align-items:center;display:flex;position:absolute}.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}")});class Uq{constructor(J,$,Q,X,Y){this.startLineNumber=J,this.endLineNumber=$,this.className=Q,this.tooltip=X,this._decorationToRenderBrand=void 0,this.zIndex=Y!==null&&Y!==void 0?Y:0}}class Sm{constructor(J,$,Q){this.className=J,this.zIndex=$,this.tooltip=Q}}class Cm{constructor(){this.decorations=[]}add(J){this.decorations.push(J)}getDecorations(){return this.decorations}}class vm{constructor(J,$,Q,X){this.lineNumber=J,this.laneIndex=$,this.zIndex=Q,this.className=X,this.type=0}accept(J){return new fm(this.lineNumber,this.laneIndex,J)}}class hm{constructor(J,$,Q,X){this.lineNumber=J,this.laneIndex=$,this.zIndex=Q,this.widget=X,this.type=1}}class fm{constructor(J,$,Q){this.lineNumber=J,this.laneIndex=$,this.combinedClassName=Q}}var xH,BT;var ZA=E(()=>{B1();bm();_Y();a8();e0();l7();xH=class xH extends J9{_render(J,$,Q){let X=[];for(let G=J;G<=$;G++){let q=G-J;X[q]=new Cm}if(Q.length===0)return X;Q.sort((G,q)=>{if(G.className===q.className){if(G.startLineNumber===q.startLineNumber)return G.endLineNumber-q.endLineNumber;return G.startLineNumber-q.startLineNumber}return G.className<q.className?-1:1});let Y=null,Z=0;for(let G=0,q=Q.length;G<q;G++){let U=Q[G],z=U.className,H=U.zIndex,j=Math.max(U.startLineNumber,J)-J,B=Math.min(U.endLineNumber,$)-J;if(Y===z)j=Math.max(Z+1,j),Z=Math.max(Z,B);else Y=z,Z=B;for(let V=j;V<=Z;V++)X[V].add(new Sm(z,H,U.tooltip))}return X}};BT=class BT extends k6{constructor(J){super(J);this._widgets={},this._context=J;let $=this._context.configuration.options,Q=$.get(143);this.domNode=q1(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,this._glyphMarginDecorationLaneCount=Q.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);return this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,this._glyphMarginDecorationLaneCount=Q.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}addWidget(J){let $=q1(J.getDomNode());this._widgets[J.getId()]={widget:J,preference:J.getPosition(),domNode:$,renderInfo:null},$.setPosition("absolute"),$.setDisplay("none"),$.setAttribute("widgetId",J.getId()),this.domNode.appendChild($),this.setShouldRender()}setWidgetPosition(J,$){let Q=this._widgets[J.getId()];if(Q.preference.lane===$.lane&&Q.preference.zIndex===$.zIndex&&v.equalsRange(Q.preference.range,$.range))return!1;return Q.preference=$,this.setShouldRender(),!0}removeWidget(J){var $;let Q=J.getId();if(this._widgets[Q]){let Y=this._widgets[Q].domNode.domNode;delete this._widgets[Q],($=Y.parentNode)===null||$===void 0||$.removeChild(Y),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(J,$){var Q,X,Y;let Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.getDecorationsInViewport();for(let U of q){let z=U.options.glyphMarginClassName;if(!z)continue;let H=Math.max(U.range.startLineNumber,Z),j=Math.min(U.range.endLineNumber,G),B=(X=(Q=U.options.glyphMargin)===null||Q===void 0?void 0:Q.position)!==null&&X!==void 0?X:i9.Center,V=(Y=U.options.zIndex)!==null&&Y!==void 0?Y:0;for(let W=H;W<=j;W++){let K=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s(W,0)),A=this._context.viewModel.glyphLanes.getLanesAtLine(K.lineNumber).indexOf(B);$.push(new vm(W,A,V,z))}}}_collectWidgetBasedGlyphRenderRequest(J,$){let Q=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber;for(let Y of Object.values(this._widgets)){let Z=Y.preference.range,{startLineNumber:G,endLineNumber:q}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(v.lift(Z));if(!G||!q||q<Q||G>X)continue;let U=Math.max(G,Q),z=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s(U,0)),H=this._context.viewModel.glyphLanes.getLanesAtLine(z.lineNumber).indexOf(Y.preference.lane);$.push(new hm(U,H,Y.preference.zIndex,Y))}}_collectSortedGlyphRenderRequests(J){let $=[];return this._collectDecorationBasedGlyphRenderRequest(J,$),this._collectWidgetBasedGlyphRenderRequest(J,$),$.sort((Q,X)=>{if(Q.lineNumber===X.lineNumber){if(Q.laneIndex===X.laneIndex){if(Q.zIndex===X.zIndex){if(X.type===Q.type){if(Q.type===0&&X.type===0)return Q.className<X.className?-1:1;return 0}return X.type-Q.type}return X.zIndex-Q.zIndex}return Q.laneIndex-X.laneIndex}return Q.lineNumber-X.lineNumber}),$}prepareRender(J){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(let X of Object.values(this._widgets))X.renderInfo=null;let $=new $7(this._collectSortedGlyphRenderRequests(J)),Q=[];while($.length>0){let X=$.peek();if(!X)break;let Y=$.takeWhile((G)=>G.lineNumber===X.lineNumber&&G.laneIndex===X.laneIndex);if(!Y||Y.length===0)break;let Z=Y[0];if(Z.type===0){let G=[];for(let q of Y){if(q.zIndex!==Z.zIndex||q.type!==Z.type)break;if(G.length===0||G[G.length-1]!==q.className)G.push(q.className)}Q.push(Z.accept(G.join(" ")))}else Z.widget.renderInfo={lineNumber:Z.lineNumber,laneIndex:Z.laneIndex}}this._decorationGlyphsToRender=Q}render(J){if(!this._glyphMargin){for(let Q of Object.values(this._widgets))Q.domNode.setDisplay("none");while(this._managedDomNodes.length>0){let Q=this._managedDomNodes.pop();Q===null||Q===void 0||Q.domNode.remove()}return}let $=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(let Q of Object.values(this._widgets))if(!Q.renderInfo)Q.domNode.setDisplay("none");else{let X=J.viewportData.relativeVerticalOffset[Q.renderInfo.lineNumber-J.viewportData.startLineNumber],Y=this._glyphMarginLeft+Q.renderInfo.laneIndex*this._lineHeight;Q.domNode.setDisplay("block"),Q.domNode.setTop(X),Q.domNode.setLeft(Y),Q.domNode.setWidth($),Q.domNode.setHeight(this._lineHeight)}for(let Q=0;Q<this._decorationGlyphsToRender.length;Q++){let X=this._decorationGlyphsToRender[Q],Y=J.viewportData.relativeVerticalOffset[X.lineNumber-J.viewportData.startLineNumber],Z=this._glyphMarginLeft+X.laneIndex*this._lineHeight,G;if(Q<this._managedDomNodes.length)G=this._managedDomNodes[Q];else G=q1(document.createElement("div")),this._managedDomNodes.push(G),this.domNode.appendChild(G);G.setClassName("cgmr codicon "+X.combinedClassName),G.setPosition("absolute"),G.setTop(Y),G.setLeft(Z),G.setWidth($),G.setHeight(this._lineHeight)}while(this._managedDomNodes.length>this._decorationGlyphsToRender.length){let Q=this._managedDomNodes.pop();Q===null||Q===void 0||Q.domNode.remove()}}}});var gm=E(()=>{_0(".monaco-editor .lines-content .core-guide{box-sizing:border-box;position:absolute}")});var bH;var FT=E(()=>{B0();bH=class bH extends r{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw Error("TextModelPart is disposed!")}}});function SH(J,$){let Q=0,X=0,Y=J.length;while(X<Y){let Z=J.charCodeAt(X);if(Z===32)Q++;else if(Z===9)Q=Q-Q%$+$;else break;X++}if(X===Y)return-1;return Q}class xJ{constructor(J,$,Q,X,Y,Z){if(this.visibleColumn=J,this.column=$,this.className=Q,this.horizontalLine=X,this.forWrappedLinesAfterColumn=Y,this.forWrappedLinesBeforeOrAtColumn=Z,J!==-1===($!==-1))throw Error()}}class kY{constructor(J,$){this.top=J,this.endColumn=$}}var zX;var GA=E(()=>{(function(J){J[J.Disabled=0]="Disabled",J[J.EnabledForActive=1]="EnabledForActive",J[J.Enabled=2]="Enabled"})(zX||(zX={}))});class qA{constructor(){this.activeClassName="indent-active"}getInlineClassName(J,$,Q){return this.getInlineClassNameOfLevel(Q?$:J)}getInlineClassNameOfLevel(J){return`bracket-indent-guide lvl-${J%30}`}}var KT;var AT=E(()=>{FJ();G1();C4();e0();FT();GA();T1();KT=class KT extends bH{constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$}getLanguageConfiguration(J){return this.languageConfigurationService.getLanguageConfiguration(J)}_computeIndentLevel(J){return SH(this.textModel.getLineContent(J+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(J,$,Q){this.assertNotDisposed();let X=this.textModel.getLineCount();if(J<1||J>X)throw new l1("Illegal value for lineNumber");let Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide),G=-2,q=-1,U=-2,z=-1,H=(O)=>{if(G!==-1&&(G===-2||G>O-1)){G=-1,q=-1;for(let N=O-2;N>=0;N--){let w=this._computeIndentLevel(N);if(w>=0){G=N,q=w;break}}}if(U===-2){U=-1,z=-1;for(let N=O;N<X;N++){let w=this._computeIndentLevel(N);if(w>=0){U=N,z=w;break}}}},j=-2,B=-1,V=-2,W=-1,K=(O)=>{if(j===-2){j=-1,B=-1;for(let N=O-2;N>=0;N--){let w=this._computeIndentLevel(N);if(w>=0){j=N,B=w;break}}}if(V!==-1&&(V===-2||V<O-1)){V=-1,W=-1;for(let N=O;N<X;N++){let w=this._computeIndentLevel(N);if(w>=0){V=N,W=w;break}}}},A=0,F=!0,P=0,R=!0,D=0,_=0;for(let O=0;F||R;O++){let N=J-O,w=J+O;if(O>1&&(N<1||N<$))F=!1;if(O>1&&(w>X||w>Q))R=!1;if(O>50000)F=!1,R=!1;let T=-1;if(F&&N>=1){let k=this._computeIndentLevel(N-1);if(k>=0)U=N-1,z=k,T=Math.ceil(k/this.textModel.getOptions().indentSize);else H(N),T=this._getIndentLevelForWhitespaceLine(Z,q,z)}let I=-1;if(R&&w<=X){let k=this._computeIndentLevel(w-1);if(k>=0)j=w-1,B=k,I=Math.ceil(k/this.textModel.getOptions().indentSize);else K(w),I=this._getIndentLevelForWhitespaceLine(Z,B,W)}if(O===0){_=T;continue}if(O===1){if(w<=X&&I>=0&&_+1===I){F=!1,A=w,P=w,D=I;continue}if(N>=1&&T>=0&&T-1===_){R=!1,A=N,P=N,D=T;continue}if(A=J,P=J,D=_,D===0)return{startLineNumber:A,endLineNumber:P,indent:D}}if(F)if(T>=D)A=N;else F=!1;if(R)if(I>=D)P=w;else R=!1}return{startLineNumber:A,endLineNumber:P,indent:D}}getLinesBracketGuides(J,$,Q,X){var Y;let Z=[];for(let j=J;j<=$;j++)Z.push([]);let G=!0,q=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new v(J,1,$,this.textModel.getLineMaxColumn($))).toArray(),U=void 0;if(Q&&q.length>0){let j=(J<=Q.lineNumber&&Q.lineNumber<=$?q:this.textModel.bracketPairs.getBracketPairsInRange(v.fromPositions(Q)).toArray()).filter((B)=>v.strictContainsPosition(B.range,Q));U=(Y=P2(j,(B)=>G||B.range.startLineNumber!==B.range.endLineNumber))===null||Y===void 0?void 0:Y.range}let z=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,H=new qA;for(let j of q){if(!j.closingBracketRange)continue;let B=U&&j.range.equalsRange(U);if(!B&&!X.includeInactive)continue;let V=H.getInlineClassName(j.nestingLevel,j.nestingLevelOfEqualBracketType,z)+(X.highlightActive&&B?" "+H.activeClassName:""),W=j.openingBracketRange.getStartPosition(),K=j.closingBracketRange.getStartPosition(),A=X.horizontalGuides===zX.Enabled||X.horizontalGuides===zX.EnabledForActive&&B;if(j.range.startLineNumber===j.range.endLineNumber){if(G&&A)Z[j.range.startLineNumber-J].push(new xJ(-1,j.openingBracketRange.getEndPosition().column,V,new kY(!1,K.column),-1,-1));continue}let F=this.getVisibleColumnFromPosition(K),P=this.getVisibleColumnFromPosition(j.openingBracketRange.getStartPosition()),R=Math.min(P,F,j.minVisibleColumnIndentation+1),D=!1;if(s6(this.textModel.getLineContent(j.closingBracketRange.startLineNumber))<j.closingBracketRange.startColumn-1)D=!0;let N=Math.max(W.lineNumber,J),w=Math.min(K.lineNumber,$),T=D?1:0;for(let I=N;I<w+T;I++)Z[I-J].push(new xJ(R,-1,V,null,I===W.lineNumber?W.column:-1,I===K.lineNumber?K.column:-1));if(A){if(W.lineNumber>=J&&P>R)Z[W.lineNumber-J].push(new xJ(R,-1,V,new kY(!1,W.column),-1,-1));if(K.lineNumber<=$&&F>R)Z[K.lineNumber-J].push(new xJ(R,-1,V,new kY(!D,K.column),-1,-1))}}for(let j of Z)j.sort((B,V)=>B.visibleColumn-V.visibleColumn);return Z}getVisibleColumnFromPosition(J){return i1.visibleColumnFromColumn(this.textModel.getLineContent(J.lineNumber),J.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(J,$){this.assertNotDisposed();let Q=this.textModel.getLineCount();if(J<1||J>Q)throw Error("Illegal value for startLineNumber");if($<1||$>Q)throw Error("Illegal value for endLineNumber");let X=this.textModel.getOptions(),Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide),G=Array($-J+1),q=-2,U=-1,z=-2,H=-1;for(let j=J;j<=$;j++){let B=j-J,V=this._computeIndentLevel(j-1);if(V>=0){q=j-1,U=V,G[B]=Math.ceil(V/X.indentSize);continue}if(q===-2){q=-1,U=-1;for(let W=j-2;W>=0;W--){let K=this._computeIndentLevel(W);if(K>=0){q=W,U=K;break}}}if(z!==-1&&(z===-2||z<j-1)){z=-1,H=-1;for(let W=j;W<Q;W++){let K=this._computeIndentLevel(W);if(K>=0){z=W,H=K;break}}}G[B]=this._getIndentLevelForWhitespaceLine(Z,U,H)}return G}_getIndentLevelForWhitespaceLine(J,$,Q){let X=this.textModel.getOptions();if($===-1||Q===-1)return 0;else if($<Q)return 1+Math.floor($/X.indentSize);else if($===Q)return Math.ceil(Q/X.indentSize);else if(J)return Math.ceil(Q/X.indentSize);else return 1+Math.floor(Q/X.indentSize)}}});function zq(J){if(J&&J.isTransparent())return;return J}var PT;var pm=E(()=>{gm();_Y();yJ();G5();B1();AT();GA();PT=class PT extends J9{constructor(J){super();this._context=J,this._primaryPosition=null;let $=this._context.configuration.options,Q=$.get(144),X=$.get(50);this._lineHeight=$.get(66),this._spaceWidth=X.spaceWidth,this._maxIndentLeft=Q.wrappingColumn===-1?-1:Q.wrappingColumn*X.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(144),X=$.get(50);return this._lineHeight=$.get(66),this._spaceWidth=X.spaceWidth,this._maxIndentLeft=Q.wrappingColumn===-1?-1:Q.wrappingColumn*X.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),!0}onCursorStateChanged(J){var $;let X=J.selections[0].getPosition();if(!(($=this._primaryPosition)===null||$===void 0?void 0:$.equals(X)))return this._primaryPosition=X,!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onLanguageConfigurationChanged(J){return!0}prepareRender(J){var $,Q,X,Y;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}let Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.scrollWidth,U=this._lineHeight,z=this._primaryPosition,H=this.getGuidesByLine(Z,Math.min(G+1,this._context.viewModel.getLineCount()),z),j=[];for(let B=Z;B<=G;B++){let V=B-Z,W=H[V],K="",A=(Q=($=J.visibleRangeForPosition(new s(B,1)))===null||$===void 0?void 0:$.left)!==null&&Q!==void 0?Q:0;for(let F of W){let P=F.column===-1?A+(F.visibleColumn-1)*this._spaceWidth:J.visibleRangeForPosition(new s(B,F.column)).left;if(P>q||this._maxIndentLeft>0&&P>this._maxIndentLeft)break;let R=F.horizontalLine?F.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",D=F.horizontalLine?((Y=(X=J.visibleRangeForPosition(new s(B,F.horizontalLine.endColumn)))===null||X===void 0?void 0:X.left)!==null&&Y!==void 0?Y:P+this._spaceWidth)-P:this._spaceWidth;K+=`<div class="core-guide ${F.className} ${R}" style="left:${P}px;height:${U}px;width:${D}px"></div>`}j[V]=K}this._renderResult=j}getGuidesByLine(J,$,Q){let X=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(J,$,Q,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?zX.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?zX.EnabledForActive:zX.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Y=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(J,$):null,Z=0,G=0,q=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&Q){let H=this._context.viewModel.getActiveIndentGuide(Q.lineNumber,J,$);Z=H.startLineNumber,G=H.endLineNumber,q=H.indent}let{indentSize:U}=this._context.viewModel.model.getOptions(),z=[];for(let H=J;H<=$;H++){let j=[];z.push(j);let B=X?X[H-J]:[],V=new $7(B),W=Y?Y[H-J]:0;for(let K=1;K<=W;K++){let A=(K-1)*U+1,F=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||B.length===0)&&Z<=H&&H<=G&&K===q;j.push(...V.takeWhile((R)=>R.visibleColumn<A)||[]);let P=V.peek();if(!P||P.visibleColumn!==A||P.horizontalLine)j.push(new xJ(A,-1,`core-guide-indent lvl-${(K-1)%30}`+(F?" indent-active":""),null,-1,-1))}j.push(...V.takeWhile((K)=>!0)||[])}return z}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}};i8((J,$)=>{let Q=[{bracketColor:mK,guideColor:cp,guideColorActive:ip},{bracketColor:uK,guideColor:lp,guideColorActive:np},{bracketColor:cK,guideColor:dp,guideColorActive:op},{bracketColor:lK,guideColor:sp,guideColorActive:tp},{bracketColor:dK,guideColor:ap,guideColorActive:ep},{bracketColor:sK,guideColor:rp,guideColorActive:Jm}],X=new qA,Y=[{indentColor:C2,indentColorActive:v2},{indentColor:Tp,indentColorActive:Ip},{indentColor:wp,indentColorActive:yp},{indentColor:Lp,indentColorActive:xp},{indentColor:kp,indentColorActive:bp},{indentColor:Ep,indentColorActive:Sp}],Z=Q.map((q)=>{var U,z;let H=J.getColor(q.bracketColor),j=J.getColor(q.guideColor),B=J.getColor(q.guideColorActive),V=zq((U=zq(j))!==null&&U!==void 0?U:H===null||H===void 0?void 0:H.transparent(0.3)),W=zq((z=zq(B))!==null&&z!==void 0?z:H);if(!V||!W)return;return{guideColor:V,guideColorActive:W}}).filter(BQ),G=Y.map((q)=>{let U=J.getColor(q.indentColor),z=J.getColor(q.indentColorActive),H=zq(U),j=zq(z);if(!H||!j)return;return{indentColor:H,indentColorActive:j}}).filter(BQ);if(Z.length>0){for(let q=0;q<30;q++){let U=Z[q%Z.length];$.addRule(`.monaco-editor .${X.getInlineClassNameOfLevel(q).replace(/ /g,".")} { --guide-color: ${U.guideColor}; --guide-color-active: ${U.guideColorActive}; }`)}$.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),$.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),$.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),$.addRule(`.monaco-editor .vertical.${X.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),$.addRule(`.monaco-editor .horizontal-top.${X.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),$.addRule(`.monaco-editor .horizontal-bottom.${X.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(G.length>0){for(let q=0;q<30;q++){let U=G[q%G.length];$.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${q} { --indent-color: ${U.indentColor}; --indent-color-active: ${U.indentColorActive}; }`)}$.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),$.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})});var mm=E(()=>{_0(".mtkcontrol{color:#fff!important;background:#960000!important}.mtkoverflow{background-color:var(--vscode-button-background,var(--vscode-editor-background));color:var(--vscode-button-foreground,var(--vscode-editor-foreground));border-style:solid;border-width:1px;border-color:var(--vscode-contrastBorder);cursor:pointer;border-radius:2px;padding:4px}.mtkoverflow:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{-webkit-user-select:none;user-select:none}.monaco-editor.mac .lines-content:hover,.monaco-editor.mac .view-line:hover,.monaco-editor.mac .view-lines:hover{-webkit-user-select:text;-ms-user-select:text;user-select:text}.monaco-editor.enable-user-select{user-select:initial;-webkit-user-select:initial}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{width:100%;position:absolute}.monaco-editor .mtkw{color:var(--vscode-editorWhitespace-foreground)!important}.monaco-editor .mtkz{display:inline-block;color:var(--vscode-editorWhitespace-foreground)!important}")});class CH{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;let J=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=J.left,this._clientRectScale=J.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){if(!this._clientRectRead)this.readClientRect();return this._clientRectDeltaLeft}get clientRectScale(){if(!this._clientRectRead)this.readClientRect();return this._clientRectScale}constructor(J,$){this._domNode=J,this.endNode=$,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class um{constructor(){this._currentVisibleRange=new v(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(J){this._currentVisibleRange=J}}class cm{constructor(J,$,Q,X,Y,Z,G){this.minimalReveal=J,this.lineNumber=$,this.startColumn=Q,this.endColumn=X,this.startScrollTop=Y,this.stopScrollTop=Z,this.scrollType=G,this.type="range",this.minLineNumber=$,this.maxLineNumber=$}}class lm{constructor(J,$,Q,X,Y){this.minimalReveal=J,this.selections=$,this.startScrollTop=Q,this.stopScrollTop=X,this.scrollType=Y,this.type="selections";let Z=$[0].startLineNumber,G=$[0].endLineNumber;for(let q=1,U=$.length;q<U;q++){let z=$[q];Z=Math.min(Z,z.startLineNumber),G=Math.max(G,z.endLineNumber)}this.minLineNumber=Z,this.maxLineNumber=G}}var vH;var dm=E(()=>{aK();J6();E1();mm();P4();n3();YA();a8();BN();e0();vH=class vH extends k6{constructor(J,$){super(J);this._linesContent=$,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new yH(this),this.domNode=this._visibleLines.domNode;let Q=this._context.configuration,X=this._context.configuration.options,Y=X.get(50),Z=X.get(144);this._lineHeight=X.get(66),this._typicalHalfwidthCharacterWidth=Y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=X.get(99),this._cursorSurroundingLines=X.get(29),this._cursorSurroundingLinesStyle=X.get(30),this._canUseLayerHinting=!X.get(32),this._viewLineOptions=new IK(Q,this._context.theme.type),W8.write(this.domNode,8),this.domNode.setClassName(`view-lines ${GX}`),h6(this.domNode,Y),this._maxLineWidth=0,this._asyncUpdateLineWidths=new z6(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new z6(()=>{this._checkMonospaceFontAssumptions()},2000),this._lastRenderedData=new um,this._horizontalRevealRequest=null,this._stickyScrollEnabled=X.get(114).enabled,this._maxNumberStickyLines=X.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new t7(this._viewLineOptions)}onConfigurationChanged(J){if(this._visibleLines.onConfigurationChanged(J),J.hasChanged(144))this._maxLineWidth=0;let $=this._context.configuration.options,Q=$.get(50),X=$.get(144);if(this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._isViewportWrapping=X.isViewportWrapping,this._revealHorizontalRightPadding=$.get(99),this._cursorSurroundingLines=$.get(29),this._cursorSurroundingLinesStyle=$.get(30),this._canUseLayerHinting=!$.get(32),this._stickyScrollEnabled=$.get(114).enabled,this._maxNumberStickyLines=$.get(114).maxLineCount,h6(this.domNode,Q),this._onOptionsMaybeChanged(),J.hasChanged(143))this._maxLineWidth=0;return!0}_onOptionsMaybeChanged(){let J=this._context.configuration,$=new IK(J,this._context.theme.type);if(!this._viewLineOptions.equals($)){this._viewLineOptions=$;let Q=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Y=Q;Y<=X;Y++)this._visibleLines.getVisibleLine(Y).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber(),X=!1;for(let Y=$;Y<=Q;Y++)X=this._visibleLines.getVisibleLine(Y).onSelectionChanged()||X;return X}onDecorationsChanged(J){{let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let X=$;X<=Q;X++)this._visibleLines.getVisibleLine(X).onDecorationsChanged()}return!0}onFlushed(J){let $=this._visibleLines.onFlushed(J);return this._maxLineWidth=0,$}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onRevealRangeRequest(J){let $=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),J.source,J.minimalReveal,J.range,J.selections,J.verticalType);if($===-1)return!1;let Q=this._context.viewLayout.validateScrollPosition({scrollTop:$});if(J.revealHorizontal){if(J.range&&J.range.startLineNumber!==J.range.endLineNumber)Q={scrollTop:Q.scrollTop,scrollLeft:0};else if(J.range)this._horizontalRevealRequest=new cm(J.minimalReveal,J.range.startLineNumber,J.range.startColumn,J.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),Q.scrollTop,J.scrollType);else if(J.selections&&J.selections.length>0)this._horizontalRevealRequest=new lm(J.minimalReveal,J.selections,this._context.viewLayout.getCurrentScrollTop(),Q.scrollTop,J.scrollType)}else this._horizontalRevealRequest=null;let Y=Math.abs(this._context.viewLayout.getCurrentScrollTop()-Q.scrollTop)<=this._lineHeight?1:J.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(Q,Y),!0}onScrollChanged(J){if(this._horizontalRevealRequest&&J.scrollLeftChanged)this._horizontalRevealRequest=null;if(this._horizontalRevealRequest&&J.scrollTopChanged){let $=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),Q=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);if(J.scrollTop<$||J.scrollTop>Q)this._horizontalRevealRequest=null}return this.domNode.setWidth(J.scrollWidth),this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(J)}onThemeChanged(J){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(J,$){let Q=this._getViewLineDomNode(J);if(Q===null)return null;let X=this._getLineNumberFor(Q);if(X===-1)return null;if(X<1||X>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(X)===1)return new s(X,1);let Y=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();if(X<Y||X>Z)return null;let G=this._visibleLines.getVisibleLine(X).getColumnOfNodeOffset(J,$),q=this._context.viewModel.getLineMinColumn(X);if(G<q)G=q;return new s(X,G)}_getViewLineDomNode(J){while(J&&J.nodeType===1){if(J.className===t7.CLASS_NAME)return J;J=J.parentElement}return null}_getLineNumberFor(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let X=$;X<=Q;X++){let Y=this._visibleLines.getVisibleLine(X);if(J===Y.getDomNode())return X}return-1}getLineWidth(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();if(J<$||J>Q)return-1;let X=new CH(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getWidth(X);return this._updateLineWidthsSlowIfDomDidLayout(X),Y}linesVisibleRangesForRange(J,$){if(this.shouldRender())return null;let Q=J.endLineNumber,X=v.intersectRanges(J,this._lastRenderedData.getCurrentVisibleRange());if(!X)return null;let Y=[],Z=0,G=new CH(this.domNode.domNode,this._textRangeRestingSpot),q=0;if($)q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s(X.startLineNumber,1)).lineNumber;let U=this._visibleLines.getStartLineNumber(),z=this._visibleLines.getEndLineNumber();for(let H=X.startLineNumber;H<=X.endLineNumber;H++){if(H<U||H>z)continue;let j=H===X.startLineNumber?X.startColumn:1,B=H!==X.endLineNumber,V=B?this._context.viewModel.getLineMaxColumn(H):X.endColumn,W=this._visibleLines.getVisibleLine(H).getVisibleRangesForRange(H,j,V,G);if(!W)continue;if($&&H<Q){let K=q;if(q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new s(H+1,1)).lineNumber,K!==q)W.ranges[W.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth}Y[Z++]=new jN(W.outsideRenderedLine,H,i3.from(W.ranges),B)}if(this._updateLineWidthsSlowIfDomDidLayout(G),Z===0)return null;return Y}_visibleRangesForLineRange(J,$,Q){if(this.shouldRender())return null;if(J<this._visibleLines.getStartLineNumber()||J>this._visibleLines.getEndLineNumber())return null;let X=new CH(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getVisibleRangesForRange(J,$,Q,X);return this._updateLineWidthsSlowIfDomDidLayout(X),Y}visibleRangeForPosition(J){let $=this._visibleRangesForLineRange(J.lineNumber,J.column,J.column);if(!$)return null;return new VN($.outsideRenderedLine,$.ranges[0].left)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(J){if(!J.didDomLayout)return;if(this._asyncUpdateLineWidths.isScheduled())return;this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()}_updateLineWidths(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber(),X=1,Y=!0;for(let Z=$;Z<=Q;Z++){let G=this._visibleLines.getVisibleLine(Z);if(J&&!G.getWidthIsFast()){Y=!1;continue}X=Math.max(X,G.getWidth(null))}if(Y&&$===1&&Q===this._context.viewModel.getLineCount())this._maxLineWidth=0;return this._ensureMaxLineWidth(X),Y}_checkMonospaceFontAssumptions(){let J=-1,$=-1,Q=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Y=Q;Y<=X;Y++){let Z=this._visibleLines.getVisibleLine(Y);if(Z.needsMonospaceFontCheck()){let G=Z.getWidth(null);if(G>$)$=G,J=Y}}if(J===-1)return;if(!this._visibleLines.getVisibleLine(J).monospaceAssumptionsAreValid())for(let Y=Q;Y<=X;Y++)this._visibleLines.getVisibleLine(Y).onMonospaceAssumptionsInvalidated()}prepareRender(){throw Error("Not supported")}render(){throw Error("Not supported")}renderText(J){if(this._visibleLines.renderLines(J),this._lastRenderedData.setCurrentVisibleRange(J.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){let Q=this._horizontalRevealRequest;if(J.startLineNumber<=Q.minLineNumber&&Q.maxLineNumber<=J.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();let X=this._computeScrollLeftToReveal(Q);if(X){if(!this._isViewportWrapping)this._ensureMaxLineWidth(X.maxHorizontalOffset);this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:X.scrollLeft},Q.scrollType)}}}if(!this._updateLineWidthsFast())this._asyncUpdateLineWidths.schedule();else this._asyncUpdateLineWidths.cancel();if(w6&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){let Q=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Y=Q;Y<=X;Y++)if(this._visibleLines.getVisibleLine(Y).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");let $=this._context.viewLayout.getCurrentScrollTop()-J.bigNumbersDelta;this._linesContent.setTop(-$),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(J){let $=Math.ceil(J);if(this._maxLineWidth<$)this._maxLineWidth=$,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth)}_computeScrollTopToRevealRange(J,$,Q,X,Y,Z){let{top:G,height:q}=J,U=G+q,z,H,j;if(Y&&Y.length>0){let A=Y[0].startLineNumber,F=Y[0].endLineNumber;for(let P=1,R=Y.length;P<R;P++){let D=Y[P];A=Math.min(A,D.startLineNumber),F=Math.max(F,D.endLineNumber)}z=!1,H=this._context.viewLayout.getVerticalOffsetForLineNumber(A),j=this._context.viewLayout.getVerticalOffsetForLineNumber(F)+this._lineHeight}else if(X)z=!0,H=this._context.viewLayout.getVerticalOffsetForLineNumber(X.startLineNumber),j=this._context.viewLayout.getVerticalOffsetForLineNumber(X.endLineNumber)+this._lineHeight;else return-1;let B=($==="mouse"||Q)&&this._cursorSurroundingLinesStyle==="default",V=0,W=0;if(!B){let A=Math.min(q/this._lineHeight/2,this._cursorSurroundingLines);if(this._stickyScrollEnabled)V=Math.max(A,this._maxNumberStickyLines)*this._lineHeight;else V=A*this._lineHeight;W=Math.max(0,A-1)*this._lineHeight}else if(!Q)V=this._lineHeight;if(!Q){if(Z===0||Z===4)W+=this._lineHeight}H-=V,j+=W;let K;if(j-H>q){if(!z)return-1;K=H}else if(Z===5||Z===6)if(Z===6&&G<=H&&j<=U)K=G;else{let A=Math.max(5*this._lineHeight,q*0.2),F=H-A,P=j-q;K=Math.max(P,F)}else if(Z===1||Z===2)if(Z===2&&G<=H&&j<=U)K=G;else{let A=(H+j)/2;K=Math.max(0,A-q/2)}else K=this._computeMinimumScrolling(G,U,H,j,Z===3,Z===4);return K}_computeScrollLeftToReveal(J){let $=this._context.viewLayout.getCurrentViewport(),Q=this._context.configuration.options.get(143),X=$.left,Y=X+$.width-Q.verticalScrollbarWidth,Z=1073741824,G=0;if(J.type==="range"){let U=this._visibleRangesForLineRange(J.lineNumber,J.startColumn,J.endColumn);if(!U)return null;for(let z of U.ranges)Z=Math.min(Z,Math.round(z.left)),G=Math.max(G,Math.round(z.left+z.width))}else for(let U of J.selections){if(U.startLineNumber!==U.endLineNumber)return null;let z=this._visibleRangesForLineRange(U.startLineNumber,U.startColumn,U.endColumn);if(!z)return null;for(let H of z.ranges)Z=Math.min(Z,Math.round(H.left)),G=Math.max(G,Math.round(H.left+H.width))}if(!J.minimalReveal)Z=Math.max(0,Z-vH.HORIZONTAL_EXTRA_PX),G+=this._revealHorizontalRightPadding;if(J.type==="selections"&&G-Z>$.width)return null;return{scrollLeft:this._computeMinimumScrolling(X,Y,Z,G),maxHorizontalOffset:G}}_computeMinimumScrolling(J,$,Q,X,Y,Z){J=J|0,$=$|0,Q=Q|0,X=X|0,Y=!!Y,Z=!!Z;let G=$-J;if(X-Q<G){if(Y)return Q;if(Z)return Math.max(0,X-G);if(Q<J)return Q;else if(X>$)return Math.max(0,X-G)}else return Q;return J}};vH.HORIZONTAL_EXTRA_PX=30});var sm=E(()=>{_0(".monaco-editor .lines-decorations{background:#fff;position:absolute;top:0}.monaco-editor .margin-view-overlays .cldr{height:100%;position:absolute}")});var DT;var am=E(()=>{sm();ZA();DT=class DT extends xH{constructor(J){super();this._context=J;let Q=this._context.configuration.options.get(143);this._decorationsLeft=Q.decorationsLeft,this._decorationsWidth=Q.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let Q=this._context.configuration.options.get(143);return this._decorationsLeft=Q.decorationsLeft,this._decorationsWidth=Q.decorationsWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){var $,Q;let X=J.getDecorationsInViewport(),Y=[],Z=0;for(let G=0,q=X.length;G<q;G++){let U=X[G],z=U.options.linesDecorationsClassName,H=U.options.zIndex;if(z)Y[Z++]=new Uq(U.range.startLineNumber,U.range.endLineNumber,z,($=U.options.linesDecorationsTooltip)!==null&&$!==void 0?$:null,H);let j=U.options.firstLineDecorationClassName;if(j)Y[Z++]=new Uq(U.range.startLineNumber,U.range.startLineNumber,j,(Q=U.options.linesDecorationsTooltip)!==null&&Q!==void 0?Q:null,H)}return Y}prepareRender(J){let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,X=this._render($,Q,this._getDecorations(J)),Y=this._decorationsLeft.toString(),Z=this._decorationsWidth.toString(),G='" style="left:'+Y+"px;width:"+Z+'px;"></div>',q=[];for(let U=$;U<=Q;U++){let z=U-$,H=X[z].getDecorations(),j="";for(let B of H){let V='<div class="cldr '+B.className;if(B.tooltip!==null)V+='" title="'+B.tooltip;V+=G,j+=V}q[z]=j}this._renderResult=q}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}});var rm=E(()=>{_0(".monaco-editor .margin-view-overlays .cmdr{width:100%;height:100%;position:absolute;left:0}")});var RT;var im=E(()=>{rm();ZA();RT=class RT extends xH{constructor(J){super();this._context=J,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){let $=J.getDecorationsInViewport(),Q=[],X=0;for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.options.marginClassName,U=G.options.zIndex;if(q)Q[X++]=new Uq(G.range.startLineNumber,G.range.endLineNumber,q,null,U)}return Q}prepareRender(J){let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,X=this._render($,Q,this._getDecorations(J)),Y=[];for(let Z=$;Z<=Q;Z++){let G=Z-$,q=X[G].getDecorations(),U="";for(let z of q)U+='<div class="cmdr '+z.className+'" style=""></div>';Y[G]=U}this._renderResult=Y}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}});var nm=E(()=>{_0(".monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover:hover .minimap-slider,.monaco-editor .minimap.slider-mouseover .minimap-slider.active{opacity:1}.monaco-editor .minimap-slider .minimap-slider-horizontal{background:var(--vscode-minimapSlider-background)}.monaco-editor .minimap-slider:hover .minimap-slider-horizontal{background:var(--vscode-minimapSlider-hoverBackground)}.monaco-editor .minimap-slider.active .minimap-slider-horizontal{background:var(--vscode-minimapSlider-activeBackground)}.monaco-editor .minimap-shadow-visible{box-shadow:var(--vscode-scrollbar-shadow)-6px 0 6px -6px inset}.monaco-editor .minimap-shadow-hidden{width:0;position:absolute}.monaco-editor .minimap-shadow-visible{width:6px;position:absolute;left:-6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{width:1px;position:absolute;left:-1px}.minimap.autohide{opacity:0;transition:opacity .5s}.minimap.autohide:hover{opacity:1}.monaco-editor .minimap{z-index:5}")});class $9{constructor(J,$,Q,X){this._rgba8Brand=void 0,this.r=$9._clamp(J),this.g=$9._clamp($),this.b=$9._clamp(Q),this.a=$9._clamp(X)}equals(J){return this.r===J.r&&this.g===J.g&&this.b===J.b&&this.a===J.a}static _clamp(J){if(J<0)return 0;if(J>255)return 255;return J|0}}var MT=E(()=>{$9.Empty=new $9(0,0,0,0)});var p2;var OT=E(()=>{E0();B0();MT();w8();p2=class p2 extends r{static getInstance(){if(!this._INSTANCE)this._INSTANCE=SZ(new p2);return this._INSTANCE}constructor(){super();this._onDidChange=new p,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Q6.onDidChange((J)=>{if(J.changedColorMap)this._updateColorMap()}))}_updateColorMap(){let J=Q6.getColorMap();if(!J){this._colors=[$9.Empty],this._backgroundIsLight=!0;return}this._colors=[$9.Empty];for(let Q=1;Q<J.length;Q++){let X=J[Q].rgba;this._colors[Q]=new $9(X.r,X.g,X.b,Math.round(X.a*255))}let $=J[2].getRelativeLuminance();this._backgroundIsLight=$>=0.5,this._onDidChange.fire(void 0)}getColor(J){if(J<1||J>=this._colors.length)J=2;return this._colors[J]}backgroundIsLight(){return this._backgroundIsLight}};p2._INSTANCE=null});var om,tm=(J,$)=>{if(J-=32,J<0||J>96){if($<=2)return(J+96)%96;return 95}return J};var _T=E(()=>{om=(()=>{let J=[];for(let $=32;$<=126;$++)J.push($);return J.push(65533),J})()});class Hq{constructor(J,$){this.scale=$,this._minimapCharRendererBrand=void 0,this.charDataNormal=Hq.soften(J,0.8),this.charDataLight=Hq.soften(J,0.8333333333333334)}static soften(J,$){let Q=new Uint8ClampedArray(J.length);for(let X=0,Y=J.length;X<Y;X++)Q[X]=W2(J[X]*$);return Q}renderChar(J,$,Q,X,Y,Z,G,q,U,z,H){let j=1*this.scale,B=2*this.scale,V=H?1:B;if($+j>J.width||Q+V>J.height){console.warn("bad render request outside image data");return}let W=z?this.charDataLight:this.charDataNormal,K=tm(X,U),A=J.width*4,F=G.r,P=G.g,R=G.b,D=Y.r-F,_=Y.g-P,O=Y.b-R,N=Math.max(Z,q),w=J.data,T=K*j*B,I=Q*A+$*4;for(let k=0;k<V;k++){let x=I;for(let S=0;S<j;S++){let l=W[T++]/255*(Z/255);w[x++]=F+D*l,w[x++]=P+_*l,w[x++]=R+O*l,w[x++]=N}I+=A}}blockRenderChar(J,$,Q,X,Y,Z,G,q){let U=1*this.scale,z=2*this.scale,H=q?1:z;if($+U>J.width||Q+H>J.height){console.warn("bad render request outside image data");return}let j=J.width*4,B=0.5*(Y/255),V=Z.r,W=Z.g,K=Z.b,A=X.r-V,F=X.g-W,P=X.b-K,R=V+A*B,D=W+F*B,_=K+P*B,O=Math.max(Y,G),N=J.data,w=Q*j+$*4;for(let T=0;T<H;T++){let I=w;for(let k=0;k<U;k++)N[I++]=R,N[I++]=D,N[I++]=_,N[I++]=O;w+=j}}}var em=E(()=>{_T()});var Ju,$u=(J)=>{let $=new Uint8ClampedArray(J.length/2);for(let Q=0;Q<J.length;Q+=2)$[Q>>1]=Ju[J[Q]]<<4|Ju[J[Q+1]]&15;return $},NT;var Qu=E(()=>{Ju={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},NT={1:ZJ(()=>$u("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:ZJ(()=>$u("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}});class jq{static create(J,$){if(this.lastCreated&&J===this.lastCreated.scale&&$===this.lastFontFamily)return this.lastCreated;let Q;if(NT[J])Q=new Hq(NT[J](),J);else Q=jq.createFromSampleData(jq.createSampleData($).data,J);return this.lastFontFamily=$,this.lastCreated=Q,Q}static createSampleData(J){let $=document.createElement("canvas"),Q=$.getContext("2d");$.style.height="16px",$.height=16,$.width=960,$.style.width="960px",Q.fillStyle="#ffffff",Q.font=`bold 16px ${J}`,Q.textBaseline="middle";let X=0;for(let Y of om)Q.fillText(String.fromCharCode(Y),X,8),X+=10;return Q.getImageData(0,0,960,16)}static createFromSampleData(J,$){if(J.length!==61440)throw Error("Unexpected source in MinimapCharRenderer");let X=jq._downsample(J,$);return new Hq(X,$)}static _downsampleChar(J,$,Q,X,Y){let Z=1*Y,G=2*Y,q=X,U=0;for(let z=0;z<G;z++){let H=z/G*16,j=(z+1)/G*16;for(let B=0;B<Z;B++){let V=B/Z*10,W=(B+1)/Z*10,K=0,A=0;for(let P=H;P<j;P++){let R=$+Math.floor(P)*3840,D=1-(P-Math.floor(P));for(let _=V;_<W;_++){let O=1-(_-Math.floor(_)),N=R+Math.floor(_)*4,w=O*D;A+=w,K+=J[N]*J[N+3]/255*w}}let F=K/A;U=Math.max(U,F),Q[q++]=W2(F)}}return U}static _downsample(J,$){let Q=2*$*1*$,X=Q*96,Y=new Uint8ClampedArray(X),Z=0,G=0,q=0;for(let U=0;U<96;U++)q=Math.max(q,this._downsampleChar(J,G,Y,Z,$)),Z+=Q,G+=40;if(q>0){let U=255/q;for(let z=0;z<X;z++)Y[z]*=U}return Y}}var Xu=E(()=>{em();_T();Qu()});class fH{constructor(J,$,Q){let X=J.options,Y=X.get(141),Z=X.get(143),G=Z.minimap,q=X.get(50),U=X.get(72);this.renderMinimap=G.renderMinimap,this.size=U.size,this.minimapHeightIsEditorHeight=G.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=X.get(104),this.paddingTop=X.get(83).top,this.paddingBottom=X.get(83).bottom,this.showSlider=U.showSlider,this.autohide=U.autohide,this.pixelRatio=Y,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=X.get(66),this.minimapLeft=G.minimapLeft,this.minimapWidth=G.minimapWidth,this.minimapHeight=Z.height,this.canvasInnerWidth=G.minimapCanvasInnerWidth,this.canvasInnerHeight=G.minimapCanvasInnerHeight,this.canvasOuterWidth=G.minimapCanvasOuterWidth,this.canvasOuterHeight=G.minimapCanvasOuterHeight,this.isSampling=G.minimapIsSampling,this.editorHeight=Z.height,this.fontScale=G.minimapScale,this.minimapLineHeight=G.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=ZJ(()=>jq.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=Q.getColor(2),this.backgroundColor=fH._getMinimapBackground($,this.defaultBackgroundColor),this.foregroundAlpha=fH._getMinimapForegroundOpacity($)}static _getMinimapBackground(J,$){let Q=J.getColor(fg);if(Q)return new $9(Q.rgba.r,Q.rgba.g,Q.rgba.b,Math.round(255*Q.rgba.a));return $}static _getMinimapForegroundOpacity(J){let $=J.getColor(gg);if($)return $9._clamp(Math.round(255*$.rgba.a));return 255}equals(J){return this.renderMinimap===J.renderMinimap&&this.size===J.size&&this.minimapHeightIsEditorHeight===J.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===J.scrollBeyondLastLine&&this.paddingTop===J.paddingTop&&this.paddingBottom===J.paddingBottom&&this.showSlider===J.showSlider&&this.autohide===J.autohide&&this.pixelRatio===J.pixelRatio&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.lineHeight===J.lineHeight&&this.minimapLeft===J.minimapLeft&&this.minimapWidth===J.minimapWidth&&this.minimapHeight===J.minimapHeight&&this.canvasInnerWidth===J.canvasInnerWidth&&this.canvasInnerHeight===J.canvasInnerHeight&&this.canvasOuterWidth===J.canvasOuterWidth&&this.canvasOuterHeight===J.canvasOuterHeight&&this.isSampling===J.isSampling&&this.editorHeight===J.editorHeight&&this.fontScale===J.fontScale&&this.minimapLineHeight===J.minimapLineHeight&&this.minimapCharWidth===J.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(J.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(J.backgroundColor)&&this.foregroundAlpha===J.foregroundAlpha}}class hH{constructor(J,$,Q,X,Y,Z,G,q,U){this.scrollTop=J,this.scrollHeight=$,this.sliderNeeded=Q,this._computedSliderRatio=X,this.sliderTop=Y,this.sliderHeight=Z,this.topPaddingLineCount=G,this.startLineNumber=q,this.endLineNumber=U}getDesiredScrollTopFromDelta(J){return Math.round(this.scrollTop+J/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(J){return Math.round((J-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(J){let $=Math.max(this.startLineNumber,J.startLineNumber),Q=Math.min(this.endLineNumber,J.endLineNumber);if($>Q)return null;return[$,Q]}getYForLineNumber(J,$){return+(J-this.startLineNumber+this.topPaddingLineCount)*$}static create(J,$,Q,X,Y,Z,G,q,U,z,H){let{pixelRatio:j,minimapLineHeight:B}=J,V=Math.floor(J.canvasInnerHeight/B),W=J.lineHeight;if(J.minimapHeightIsEditorHeight){let _=q*J.lineHeight+J.paddingTop+J.paddingBottom;if(J.scrollBeyondLastLine)_+=Math.max(0,Y-J.lineHeight-J.paddingBottom);let O=Math.max(1,Math.floor(Y*Y/_)),N=Math.max(0,J.minimapHeight-O),w=N/(z-Y),T=U*w,I=N>0,k=Math.floor(J.canvasInnerHeight/J.minimapLineHeight),x=Math.floor(J.paddingTop/J.lineHeight);return new hH(U,z,I,w,T,O,x,1,Math.min(G,k))}let K;if(Z&&Q!==G){let _=Q-$+1;K=Math.floor(_*B/j)}else{let _=Y/W;K=Math.floor(_*B/j)}let A=Math.floor(J.paddingTop/W),F=Math.floor(J.paddingBottom/W);if(J.scrollBeyondLastLine){let _=Y/W;F=Math.max(F,_-1)}let P;if(F>0){let _=Y/W;P=(A+G+F-_-1)*B/j}else P=Math.max(0,(A+G)*B/j-K);P=Math.min(J.minimapHeight-K,P);let R=P/(z-Y),D=U*R;if(V>=A+G+F){let _=P>0;return new hH(U,z,_,R,D,K,A,1,G)}else{let _;if($>1)_=$+A;else _=Math.max(1,U/W);let O,N=Math.max(1,Math.floor(_-D*j/B));if(N<A)O=A-N+1,N=1;else O=0,N=Math.max(1,N-A);if(H&&H.scrollHeight===z){if(H.scrollTop>U)N=Math.min(N,H.startLineNumber),O=Math.max(O,H.topPaddingLineCount);if(H.scrollTop<U)N=Math.max(N,H.startLineNumber),O=Math.min(O,H.topPaddingLineCount)}let w=Math.min(G,N-O+V-1),T=(U-X)/W,I;if(U>=J.paddingTop)I=($-N+O+T)*B/j;else I=U/J.paddingTop*(O+T)*B/j;return new hH(U,z,!0,R,I,K,O,N,w)}}}class gH{constructor(J){this.dy=J}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}class TT{constructor(J,$,Q){this.renderedLayout=J,this._imageData=$,this._renderedLines=new XA(()=>gH.INVALID),this._renderedLines._set(J.startLineNumber,Q)}linesEquals(J){if(!this.scrollEquals(J))return!1;let Q=this._renderedLines._get().lines;for(let X=0,Y=Q.length;X<Y;X++)if(Q[X].dy===-1)return!1;return!0}scrollEquals(J){return this.renderedLayout.startLineNumber===J.startLineNumber&&this.renderedLayout.endLineNumber===J.endLineNumber}_get(){let J=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:J.rendLineNumberStart,lines:J.lines}}onLinesChanged(J,$){return this._renderedLines.onLinesChanged(J,$)}onLinesDeleted(J,$){this._renderedLines.onLinesDeleted(J,$)}onLinesInserted(J,$){this._renderedLines.onLinesInserted(J,$)}onTokensChanged(J){return this._renderedLines.onTokensChanged(J)}}class LT{constructor(J,$,Q,X){this._backgroundFillData=LT._createBackgroundFillData($,Q,X),this._buffers=[J.createImageData($,Q),J.createImageData($,Q)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;let J=this._buffers[this._lastUsedBuffer];return J.data.set(this._backgroundFillData),J}static _createBackgroundFillData(J,$,Q){let{r:X,g:Y,b:Z,a:G}=Q,q=new Uint8ClampedArray(J*$*4),U=0;for(let z=0;z<$;z++)for(let H=0;H<J;H++)q[U]=X,q[U+1]=Y,q[U+2]=Z,q[U+3]=G,U+=4;return q}}class pH{static compute(J,$,Q){if(J.renderMinimap===0||!J.isSampling)return[null,[]];let{minimapLineCount:X}=EZ.computeContainedMinimapLineCount({viewLineCount:$,scrollBeyondLastLine:J.scrollBeyondLastLine,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:J.editorHeight,lineHeight:J.lineHeight,pixelRatio:J.pixelRatio}),Y=$/X,Z=Y/2;if(!Q||Q.minimapLines.length===0){let K=[];if(K[0]=1,X>1){for(let A=0,F=X-1;A<F;A++)K[A]=Math.round(A*Y+Z);K[X-1]=$}return[new pH(Y,K),[]]}let G=Q.minimapLines,q=G.length,U=[],z=0,H=0,j=1,B=10,V=[],W=null;for(let K=0;K<X;K++){let A=Math.max(j,Math.round(K*Y)),F=Math.max(A,Math.round((K+1)*Y));while(z<q&&G[z]<A){if(V.length<B){let R=z+1+H;if(W&&W.type==="deleted"&&W._oldIndex===z-1)W.deleteToLineNumber++;else W={type:"deleted",_oldIndex:z,deleteFromLineNumber:R,deleteToLineNumber:R},V.push(W);H--}z++}let P;if(z<q&&G[z]<=F)P=G[z],z++;else{if(K===0)P=1;else if(K+1===X)P=$;else P=Math.round(K*Y+Z);if(V.length<B){let R=z+1+H;if(W&&W.type==="inserted"&&W._i===K-1)W.insertToLineNumber++;else W={type:"inserted",_i:K,insertFromLineNumber:R,insertToLineNumber:R},V.push(W);H++}}U[K]=P,j=P}if(V.length<B)while(z<q){let K=z+1+H;if(W&&W.type==="deleted"&&W._oldIndex===z-1)W.deleteToLineNumber++;else W={type:"deleted",_oldIndex:z,deleteFromLineNumber:K,deleteToLineNumber:K},V.push(W);H--,z++}else V=[{type:"flush"}];return[new pH(Y,U),V]}constructor(J,$){this.samplingRatio=J,this.minimapLines=$}modelLineToMinimapLine(J){return Math.min(this.minimapLines.length,Math.max(1,Math.round(J/this.samplingRatio)))}modelLineRangeToMinimapLineRange(J,$){let Q=this.modelLineToMinimapLine(J)-1;while(Q>0&&this.minimapLines[Q-1]>=J)Q--;let X=this.modelLineToMinimapLine($)-1;while(X+1<this.minimapLines.length&&this.minimapLines[X+1]<=$)X++;if(Q===X){let Y=this.minimapLines[Q];if(Y<J||Y>$)return null}return[Q+1,X+1]}decorationLineRangeToMinimapLineRange(J,$){let Q=this.modelLineToMinimapLine(J),X=this.modelLineToMinimapLine($);if(J!==$&&X===Q)if(X===this.minimapLines.length){if(Q>1)Q--}else X++;return[Q,X]}onLinesDeleted(J){let $=J.toLineNumber-J.fromLineNumber+1,Q=this.minimapLines.length,X=0;for(let Y=this.minimapLines.length-1;Y>=0;Y--){if(this.minimapLines[Y]<J.fromLineNumber)break;if(this.minimapLines[Y]<=J.toLineNumber)this.minimapLines[Y]=Math.max(1,J.fromLineNumber-1),Q=Math.min(Q,Y),X=Math.max(X,Y);else this.minimapLines[Y]-=$}return[Q,X]}onLinesInserted(J){let $=J.toLineNumber-J.fromLineNumber+1;for(let Q=this.minimapLines.length-1;Q>=0;Q--){if(this.minimapLines[Q]<J.fromLineNumber)break;this.minimapLines[Q]+=$}}}class wT{constructor(J,$,Q){this._startLineNumber=J,this._endLineNumber=$,this._defaultValue=Q,this._values=[];for(let X=0,Y=this._endLineNumber-this._startLineNumber+1;X<Y;X++)this._values[X]=Q}has(J){return this.get(J)!==this._defaultValue}set(J,$){if(J<this._startLineNumber||J>this._endLineNumber)return;this._values[J-this._startLineNumber]=$}get(J){if(J<this._startLineNumber||J>this._endLineNumber)return this._defaultValue;return this._values[J-this._startLineNumber]}}var j70=140,V70=2,kT,UA;var Yu=E(()=>{nm();x0();KH();B0();E1();G1();YA();a8();U8();e0();MT();OT();x4();x8();u5();J4();Xu();l7();gH.INVALID=new gH(-1);kT=class kT extends k6{constructor(J){super(J);this.tokensColorTracker=p2.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new fH(this._context.configuration,this._context.theme,this.tokensColorTracker);let[$]=pH.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=$,this._shouldCheckSampling=!1,this._actual=new UA(J.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){let J=new fH(this._context.configuration,this._context.theme,this.tokensColorTracker);if(this.options.equals(J))return!1;return this.options=J,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0}onConfigurationChanged(J){return this._onOptionsMaybeChanged()}onCursorStateChanged(J){return this._selections=J.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(J){if(J.affectsMinimap)return this._actual.onDecorationsChanged();return!1}onFlushed(J){if(this._samplingState)this._shouldCheckSampling=!0;return this._actual.onFlushed()}onLinesChanged(J){if(this._samplingState){let $=this._samplingState.modelLineRangeToMinimapLineRange(J.fromLineNumber,J.fromLineNumber+J.count-1);if($)return this._actual.onLinesChanged($[0],$[1]-$[0]+1);else return!1}else return this._actual.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){if(this._samplingState){let[$,Q]=this._samplingState.onLinesDeleted(J);if($<=Q)this._actual.onLinesChanged($+1,Q-$+1);return this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(J.fromLineNumber,J.toLineNumber)}onLinesInserted(J){if(this._samplingState)return this._samplingState.onLinesInserted(J),this._shouldCheckSampling=!0,!0;else return this._actual.onLinesInserted(J.fromLineNumber,J.toLineNumber)}onScrollChanged(J){return this._actual.onScrollChanged()}onThemeChanged(J){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(J){if(this._samplingState){let $=[];for(let Q of J.ranges){let X=this._samplingState.modelLineRangeToMinimapLineRange(Q.fromLineNumber,Q.toLineNumber);if(X)$.push({fromLineNumber:X[0],toLineNumber:X[1]})}if($.length)return this._actual.onTokensChanged($);else return!1}else return this._actual.onTokensChanged(J.ranges)}onTokensColorsChanged(J){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(J){return this._actual.onZonesChanged()}prepareRender(J){if(this._shouldCheckSampling)this._shouldCheckSampling=!1,this._recreateLineSampling()}render(J){let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber;if(this._samplingState)$=this._samplingState.modelLineToMinimapLine($),Q=this._samplingState.modelLineToMinimapLine(Q);let X={viewportContainsWhitespaceGaps:J.viewportData.whitespaceViewportData.length>0,scrollWidth:J.scrollWidth,scrollHeight:J.scrollHeight,viewportStartLineNumber:$,viewportEndLineNumber:Q,viewportStartLineNumberVerticalOffset:J.getVerticalOffsetForLineNumber($),scrollTop:J.scrollTop,scrollLeft:J.scrollLeft,viewportWidth:J.viewportWidth,viewportHeight:J.viewportHeight};this._actual.render(X)}_recreateLineSampling(){this._minimapSelections=null;let J=Boolean(this._samplingState),[$,Q]=pH.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=$,J&&this._samplingState)for(let X of Q)switch(X.type){case"deleted":this._actual.onLinesDeleted(X.deleteFromLineNumber,X.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(X.insertFromLineNumber,X.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){if(this._samplingState)return this._samplingState.minimapLines.length;return this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(J){if(this._samplingState)return this._context.viewModel.getLineContent(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineContent(J)}getLineMaxColumn(J){if(this._samplingState)return this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineMaxColumn(J)}getMinimapLinesRenderingData(J,$,Q){if(this._samplingState){let X=[];for(let Y=0,Z=$-J+1;Y<Z;Y++)if(Q[Y])X[Y]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[J+Y-1]);else X[Y]=null;return X}return this._context.viewModel.getMinimapLinesRenderingData(J,$,Q).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let J of this._selections){let[$,Q]=this._samplingState.decorationLineRangeToMinimapLineRange(J.startLineNumber,J.endLineNumber);this._minimapSelections.push(new d0($,J.startColumn,Q,J.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(J,$){let Q;if(this._samplingState){let Y=this._samplingState.minimapLines[J-1],Z=this._samplingState.minimapLines[$-1];Q=new v(Y,1,Z,this._context.viewModel.getLineMaxColumn(Z))}else Q=new v(J,1,$,this._context.viewModel.getLineMaxColumn($));let X=this._context.viewModel.getMinimapDecorationsInRange(Q);if(this._samplingState){let Y=[];for(let Z of X){if(!Z.options.minimap)continue;let G=Z.range,q=this._samplingState.modelLineToMinimapLine(G.startLineNumber),U=this._samplingState.modelLineToMinimapLine(G.endLineNumber);Y.push(new HH(new v(q,G.startColumn,U,G.endColumn),Z.options))}return Y}return X}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(J){if(this._samplingState)J=this._samplingState.minimapLines[J-1];this._context.viewModel.revealRange("mouse",!1,new v(J,1,J,1),1,0)}setScrollTop(J){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:J},1)}};UA=class UA extends r{constructor(J,$){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=J,this._model=$,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ZN),this._domNode=q1(document.createElement("div")),W8.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=q1(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=q1(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=q1(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=q1(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=q1(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=q6(this._domNode.domNode,W0.POINTER_DOWN,(Q)=>{if(Q.preventDefault(),this._model.options.renderMinimap===0)return;if(!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(Q.button===0&&this._lastRenderData){let U=x5(this._slider.domNode),z=U.top+U.height/2;this._startSliderDragging(Q,z,this._lastRenderData.renderedLayout)}return}let Y=this._model.options.minimapLineHeight,Z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*Q.offsetY,q=Math.floor(Z/Y)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new rQ,this._sliderPointerDownListener=q6(this._slider.domNode,W0.POINTER_DOWN,(Q)=>{if(Q.preventDefault(),Q.stopPropagation(),Q.button===0&&this._lastRenderData)this._startSliderDragging(Q,Q.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=b1.addTarget(this._domNode.domNode),this._sliderTouchStartListener=t(this._domNode.domNode,f1.Start,(Q)=>{if(Q.preventDefault(),Q.stopPropagation(),this._lastRenderData)this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(Q)},{passive:!1}),this._sliderTouchMoveListener=t(this._domNode.domNode,f1.Change,(Q)=>{if(Q.preventDefault(),Q.stopPropagation(),this._lastRenderData&&this._gestureInProgress)this.scrollDueToTouchEvent(Q)},{passive:!1}),this._sliderTouchEndListener=q6(this._domNode.domNode,f1.End,(Q)=>{Q.preventDefault(),Q.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(J,$,Q){if(!J.target||!(J.target instanceof Element))return;let X=J.pageX;this._slider.toggleClassName("active",!0);let Y=(Z,G)=>{let q=x5(this._domNode.domNode),U=Math.min(Math.abs(G-X),Math.abs(G-q.left),Math.abs(G-q.left-q.width));if(c6&&U>j70){this._model.setScrollTop(Q.scrollTop);return}let z=Z-$;this._model.setScrollTop(Q.getDesiredScrollTopFromDelta(z))};if(J.pageY!==$)Y(J.pageY,X);this._sliderPointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Z)=>Y(Z.pageY,Z.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(J){let $=this._domNode.domNode.getBoundingClientRect().top,Q=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(J.pageY-$);this._model.setScrollTop(Q)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){let J=["minimap"];if(this._model.options.showSlider==="always")J.push("slider-always");else J.push("slider-mouseover");if(this._model.options.autohide)J.push("autohide");return J.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){if(!this._buffers){if(this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0)this._buffers=new LT(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)}return this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(J,$){if(this._lastRenderData)return this._lastRenderData.onLinesChanged(J,$);return!1}onLinesDeleted(J,$){var Q;return(Q=this._lastRenderData)===null||Q===void 0||Q.onLinesDeleted(J,$),!0}onLinesInserted(J,$){var Q;return(Q=this._lastRenderData)===null||Q===void 0||Q.onLinesInserted(J,$),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ZN),this._renderDecorations=!0,!0}onTokensChanged(J){if(this._lastRenderData)return this._lastRenderData.onTokensChanged(J);return!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(J){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}if(J.scrollLeft+J.viewportWidth>=J.scrollWidth)this._shadow.setClassName("minimap-shadow-hidden");else this._shadow.setClassName("minimap-shadow-visible");let Q=hH.create(this._model.options,J.viewportStartLineNumber,J.viewportEndLineNumber,J.viewportStartLineNumberVerticalOffset,J.viewportHeight,J.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),J.scrollTop,J.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(Q.sliderNeeded?"block":"none"),this._slider.setTop(Q.sliderTop),this._slider.setHeight(Q.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(Q.sliderHeight),this.renderDecorations(Q),this._lastRenderData=this.renderLines(Q)}renderDecorations(J){if(this._renderDecorations){this._renderDecorations=!1;let $=this._model.getSelections();$.sort(v.compareRangesUsingStarts);let Q=this._model.getMinimapDecorationsInViewport(J.startLineNumber,J.endLineNumber);Q.sort((j,B)=>(j.options.zIndex||0)-(B.options.zIndex||0));let{canvasInnerWidth:X,canvasInnerHeight:Y}=this._model.options,Z=this._model.options.minimapLineHeight,G=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,U=this._decorationsCanvas.domNode.getContext("2d");U.clearRect(0,0,X,Y);let z=new wT(J.startLineNumber,J.endLineNumber,!1);this._renderSelectionLineHighlights(U,$,z,J,Z),this._renderDecorationsLineHighlights(U,Q,z,J,Z);let H=new wT(J.startLineNumber,J.endLineNumber,null);this._renderSelectionsHighlights(U,$,H,J,Z,q,G,X),this._renderDecorationsHighlights(U,Q,H,J,Z,q,G,X)}}_renderSelectionLineHighlights(J,$,Q,X,Y){if(!this._selectionColor||this._selectionColor.isTransparent())return;J.fillStyle=this._selectionColor.transparent(0.5).toString();let Z=0,G=0;for(let q of $){let U=X.intersectWithViewport(q);if(!U)continue;let[z,H]=U;for(let V=z;V<=H;V++)Q.set(V,!0);let j=X.getYForLineNumber(z,Y),B=X.getYForLineNumber(H,Y);if(G>=j)G=B;else{if(G>Z)J.fillRect(PQ,Z,J.canvas.width,G-Z);Z=j,G=B}}if(G>Z)J.fillRect(PQ,Z,J.canvas.width,G-Z)}_renderDecorationsLineHighlights(J,$,Q,X,Y){let Z=new Map;for(let G=$.length-1;G>=0;G--){let q=$[G],U=q.options.minimap;if(!U||U.position!==y4.Inline)continue;let z=X.intersectWithViewport(q.range);if(!z)continue;let[H,j]=z,B=U.getColor(this._theme.value);if(!B||B.isTransparent())continue;let V=Z.get(B.toString());if(!V)V=B.transparent(0.5).toString(),Z.set(B.toString(),V);J.fillStyle=V;for(let W=H;W<=j;W++){if(Q.has(W))continue;Q.set(W,!0);let K=X.getYForLineNumber(H,Y);J.fillRect(PQ,K,J.canvas.width,Y)}}}_renderSelectionsHighlights(J,$,Q,X,Y,Z,G,q){if(!this._selectionColor||this._selectionColor.isTransparent())return;for(let U of $){let z=X.intersectWithViewport(U);if(!z)continue;let[H,j]=z;for(let B=H;B<=j;B++)this.renderDecorationOnLine(J,Q,U,this._selectionColor,X,B,Y,Y,Z,G,q)}}_renderDecorationsHighlights(J,$,Q,X,Y,Z,G,q){for(let U of $){let z=U.options.minimap;if(!z)continue;let H=X.intersectWithViewport(U.range);if(!H)continue;let[j,B]=H,V=z.getColor(this._theme.value);if(!V||V.isTransparent())continue;for(let W=j;W<=B;W++)switch(z.position){case y4.Inline:this.renderDecorationOnLine(J,Q,U.range,V,X,W,Y,Y,Z,G,q);continue;case y4.Gutter:{let K=X.getYForLineNumber(W,Y),A=2;this.renderDecoration(J,V,2,K,V70,Y);continue}}}}renderDecorationOnLine(J,$,Q,X,Y,Z,G,q,U,z,H){let j=Y.getYForLineNumber(Z,q);if(j+G<0||j>this._model.options.canvasInnerHeight)return;let{startLineNumber:B,endLineNumber:V}=Q,W=B===Z?Q.startColumn:1,K=V===Z?Q.endColumn:this._model.getLineMaxColumn(Z),A=this.getXOffsetForPosition($,Z,W,U,z,H),F=this.getXOffsetForPosition($,Z,K,U,z,H);this.renderDecoration(J,X,A,j,F-A,G)}getXOffsetForPosition(J,$,Q,X,Y,Z){if(Q===1)return PQ;if((Q-1)*Y>=Z)return Z;let q=J.get($);if(!q){let U=this._model.getLineContent($);q=[PQ];let z=PQ;for(let H=1;H<U.length+1;H++){let j=U.charCodeAt(H-1),B=j===9?X*Y:C9(j)?2*Y:Y,V=z+B;if(V>=Z){q[H]=Z;break}q[H]=V,z=V}J.set($,q)}if(Q-1<q.length)return q[Q-1];return Z}renderDecoration(J,$,Q,X,Y,Z){J.fillStyle=$&&$.toString()||"",J.fillRect(Q,X,Y,Z)}renderLines(J){let{startLineNumber:$,endLineNumber:Q}=J,X=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(J)){let l=this._lastRenderData._get();return new TT(J,l.imageData,l.lines)}let Y=this._getBuffer();if(!Y)return null;let[Z,G,q]=UA._renderUntouchedLines(Y,J.topPaddingLineCount,$,Q,X,this._lastRenderData),U=this._model.getMinimapLinesRenderingData($,Q,q),z=this._model.getOptions().tabSize,H=this._model.options.defaultBackgroundColor,j=this._model.options.backgroundColor,B=this._model.options.foregroundAlpha,V=this._model.tokensColorTracker,W=V.backgroundIsLight(),K=this._model.options.renderMinimap,A=this._model.options.charRenderer(),F=this._model.options.fontScale,P=this._model.options.minimapCharWidth,D=(K===1?2:3)*F,_=X>D?Math.floor((X-D)/2):0,O=j.a/255,N=new $9(Math.round((j.r-H.r)*O+H.r),Math.round((j.g-H.g)*O+H.g),Math.round((j.b-H.b)*O+H.b),255),w=J.topPaddingLineCount*X,T=[];for(let l=0,d=Q-$+1;l<d;l++){if(q[l])UA._renderLine(Y,N,j.a,W,K,P,V,B,A,w,_,z,U[l],F,X);T[l]=new gH(w),w+=X}let I=Z===-1?0:Z,x=(G===-1?Y.height:G)-I;return this._canvas.domNode.getContext("2d").putImageData(Y,0,0,0,I,Y.width,x),new TT(J,Y,T)}static _renderUntouchedLines(J,$,Q,X,Y,Z){let G=[];if(!Z){for(let w=0,T=X-Q+1;w<T;w++)G[w]=!0;return[-1,-1,G]}let q=Z._get(),U=q.imageData.data,z=q.rendLineNumberStart,H=q.lines,j=H.length,B=J.width,V=J.data,W=(X-Q+1)*Y*B*4,K=-1,A=-1,F=-1,P=-1,R=-1,D=-1,_=$*Y;for(let w=Q;w<=X;w++){let T=w-Q,I=w-z,k=I>=0&&I<j?H[I].dy:-1;if(k===-1){G[T]=!0,_+=Y;continue}let x=k*B*4,S=(k+Y)*B*4,l=_*B*4,d=(_+Y)*B*4;if(P===x&&D===l)P=S,D=d;else{if(F!==-1){if(V.set(U.subarray(F,P),R),K===-1&&F===0&&F===R)K=P;if(A===-1&&P===W&&F===R)A=F}F=x,P=S,R=l,D=d}G[T]=!1,_+=Y}if(F!==-1){if(V.set(U.subarray(F,P),R),K===-1&&F===0&&F===R)K=P;if(A===-1&&P===W&&F===R)A=F}let O=K===-1?-1:K/(B*4),N=A===-1?-1:A/(B*4);return[O,N,G]}static _renderLine(J,$,Q,X,Y,Z,G,q,U,z,H,j,B,V,W){let{content:K,tokens:A}=B,F=J.width-Z,P=W===1,R=PQ,D=0,_=0;for(let O=0,N=A.getCount();O<N;O++){let w=A.getEndOffset(O),T=A.getForeground(O),I=G.getColor(T);for(;D<w;D++){if(R>F)return;let k=K.charCodeAt(D);if(k===9){let x=j-(D+_)%j;_+=x-1,R+=x*Z}else if(k===32)R+=Z;else{let x=C9(k)?2:1;for(let S=0;S<x;S++){if(Y===2)U.blockRenderChar(J,R,z+H,I,q,$,Q,P);else U.renderChar(J,R,z+H,k,I,q,$,Q,V,X,P);if(R+=Z,R>F)return}}}}}}});var Zu=E(()=>{_0(".monaco-editor .overlayWidgets{position:absolute;top:0;left:0}")});var ET;var Gu=E(()=>{Zu();a8();x0();ET=class ET extends k6{constructor(J,$){super(J);this._viewDomNode=$;let X=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=X.verticalScrollbarWidth,this._minimapWidth=X.minimap.minimapWidth,this._horizontalScrollbarHeight=X.horizontalScrollbarHeight,this._editorHeight=X.height,this._editorWidth=X.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=q1(document.createElement("div")),W8.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=q1(document.createElement("div")),W8.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(J){let Q=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=Q.verticalScrollbarWidth,this._minimapWidth=Q.minimap.minimapWidth,this._horizontalScrollbarHeight=Q.horizontalScrollbarHeight,this._editorHeight=Q.height,this._editorWidth=Q.width,!0}addWidget(J){let $=q1(J.getDomNode());if(this._widgets[J.getId()]={widget:J,preference:null,domNode:$},$.setPosition("absolute"),$.setAttribute("widgetId",J.getId()),J.allowEditorOverflow)this.overflowingOverlayWidgetsDomNode.appendChild($);else this._domNode.appendChild($);this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(J,$){let Q=this._widgets[J.getId()];if(Q.preference===$)return this._updateMaxMinWidth(),!1;return Q.preference=$,this.setShouldRender(),this._updateMaxMinWidth(),!0}removeWidget(J){let $=J.getId();if(this._widgets.hasOwnProperty($)){let X=this._widgets[$].domNode.domNode;delete this._widgets[$],X.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var J,$;let Q=0,X=Object.keys(this._widgets);for(let Y=0,Z=X.length;Y<Z;Y++){let G=X[Y],U=($=(J=this._widgets[G].widget).getMinContentWidthInPx)===null||$===void 0?void 0:$.call(J);if(typeof U<"u")Q=Math.max(Q,U)}this._context.viewLayout.setOverlayWidgetsMinWidth(Q)}_renderWidget(J){let $=J.domNode;if(J.preference===null){$.setTop("");return}if(J.preference===0)$.setTop(0),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(J.preference===1){let Q=$.domNode.clientHeight;$.setTop(this._editorHeight-Q-2*this._horizontalScrollbarHeight),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(J.preference===2)$.setTop(0),$.domNode.style.right="50%";else{let{top:Q,left:X}=J.preference;if(this._context.configuration.options.get(42)&&J.widget.allowEditorOverflow){let Z=this._viewDomNodeRect;$.setTop(Q+Z.top),$.setLeft(X+Z.left),$.setPosition("fixed")}else $.setTop(Q),$.setLeft(X),$.setPosition("absolute")}}prepareRender(J){this._viewDomNodeRect=x5(this._viewDomNode.domNode)}render(J){this._domNode.setWidth(this._editorWidth);let $=Object.keys(this._widgets);for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q];this._renderWidget(this._widgets[Y])}}}});class qu{constructor(J,$){let Q=J.options;this.lineHeight=Q.get(66),this.pixelRatio=Q.get(141),this.overviewRulerLanes=Q.get(82),this.renderBorder=Q.get(81);let X=$.getColor(vp);this.borderColor=X?X.toString():null,this.hideCursor=Q.get(59);let Y=$.getColor(pK);this.cursorColor=Y?Y.transparent(0.7).toString():null,this.themeType=$.type;let Z=Q.get(72),G=Z.enabled,q=Z.side,U=$.getColor(hp),z=Q6.getDefaultBackground();if(U)this.backgroundColor=U;else if(G&&q==="right")this.backgroundColor=z;else this.backgroundColor=null;let j=Q.get(143).overviewRuler;if(this.top=j.top,this.right=j.right,this.domWidth=j.width,this.domHeight=j.height,this.overviewRulerLanes===0)this.canvasWidth=0,this.canvasHeight=0;else this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;let[B,V]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=B,this.w=V}_initLanes(J,$,Q){let X=$-J;if(Q>=3){let Y=Math.floor(X/3),Z=Math.floor(X/3),G=X-Y-Z,q=J,U=q+Y,z=q+Y+G;return[[0,q,U,q,z,q,U,q],[0,Y,G,Y+G,Z,Y+G+Z,G+Z,Y+G+Z]]}else if(Q===2){let Y=Math.floor(X/2),Z=X-Y,G=J,q=G+Y;return[[0,G,G,G,q,G,G,G],[0,Y,Y,Y,Z,Y+Z,Y+Z,Y+Z]]}else{let Y=J,Z=X;return[[0,Y,Y,Y,Y,Y,Y,Y],[0,Z,Z,Z,Z,Z,Z,Z]]}}equals(J){return this.lineHeight===J.lineHeight&&this.pixelRatio===J.pixelRatio&&this.overviewRulerLanes===J.overviewRulerLanes&&this.renderBorder===J.renderBorder&&this.borderColor===J.borderColor&&this.hideCursor===J.hideCursor&&this.cursorColor===J.cursorColor&&this.themeType===J.themeType&&X0.equals(this.backgroundColor,J.backgroundColor)&&this.top===J.top&&this.right===J.right&&this.domWidth===J.domWidth&&this.domHeight===J.domHeight&&this.canvasWidth===J.canvasWidth&&this.canvasHeight===J.canvasHeight}}var IT;var Uu=E(()=>{a7();a8();w8();yJ();x4();B1();IT=class IT extends k6{constructor(J){super(J);this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=q1(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Q6.onDidChange(($)=>{if($.changedColorMap)this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(J){let $=new qu(this._context.configuration,this._context.theme);if(this._settings&&this._settings.equals($))return!1;if(this._settings=$,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,J)this._render();return!0}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(J){this._cursorPositions=[];for(let $=0,Q=J.selections.length;$<Q;$++)this._cursorPositions[$]=J.selections[$].getPosition();return this._cursorPositions.sort(s.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(J){if(J.affectsOverviewRuler)return this._markRenderingIsMaybeNeeded();return!1}onFlushed(J){return this._markRenderingIsNeeded()}onScrollChanged(J){return J.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(J){return this._markRenderingIsNeeded()}onThemeChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(J){}render(J){this._render(),this._actualShouldRender=0}_render(){let J=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(J?X0.Format.CSS.formatHexA(J):""),this._domNode.setDisplay("none");return}let $=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if($.sort(_2.compareByRenderingProps),this._actualShouldRender===1&&!_2.equalsArr(this._renderedDecorations,$))this._actualShouldRender=2;if(this._actualShouldRender===1&&!B6(this._renderedCursorPositions,this._cursorPositions,(V,W)=>V.lineNumber===W.lineNumber))this._actualShouldRender=2;if(this._actualShouldRender===1)return;this._renderedDecorations=$,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");let Q=this._settings.canvasWidth,X=this._settings.canvasHeight,Y=this._settings.lineHeight,Z=this._context.viewLayout,G=this._context.viewLayout.getScrollHeight(),q=X/G,U=6*this._settings.pixelRatio|0,z=U/2|0,H=this._domNode.domNode.getContext("2d");if(J)if(J.isOpaque())H.fillStyle=X0.Format.CSS.formatHexA(J),H.fillRect(0,0,Q,X);else H.clearRect(0,0,Q,X),H.fillStyle=X0.Format.CSS.formatHexA(J),H.fillRect(0,0,Q,X);else H.clearRect(0,0,Q,X);let j=this._settings.x,B=this._settings.w;for(let V of $){let{color:W,data:K}=V;H.fillStyle=W;let A=0,F=0,P=0;for(let R=0,D=K.length/3;R<D;R++){let _=K[3*R],O=K[3*R+1],N=K[3*R+2],w=Z.getVerticalOffsetForLineNumber(O)*q|0,T=(Z.getVerticalOffsetForLineNumber(N)+Y)*q|0;if(T-w<U){let k=(w+T)/2|0;if(k<z)k=z;else if(k+z>X)k=X-z;w=k-z,T=k+z}if(w>P+1||_!==A){if(R!==0)H.fillRect(j[A],F,B[A],P-F);A=_,F=w,P=T}else if(T>P)P=T}H.fillRect(j[A],F,B[A],P-F)}if(!this._settings.hideCursor&&this._settings.cursorColor){let V=2*this._settings.pixelRatio|0,W=V/2|0,K=this._settings.x[7],A=this._settings.w[7];H.fillStyle=this._settings.cursorColor;let F=-100,P=-100;for(let R=0,D=this._cursorPositions.length;R<D;R++){let _=this._cursorPositions[R],O=Z.getVerticalOffsetForLineNumber(_.lineNumber)*q|0;if(O<W)O=W;else if(O+W>X)O=X-W;let N=O-W,w=N+V;if(N>P+1){if(R!==0)H.fillRect(K,F,A,P-F);F=N,P=w}else if(w>P)P=w}H.fillRect(K,F,A,P-F)}if(this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0)H.beginPath(),H.lineWidth=1,H.strokeStyle=this._settings.borderColor,H.moveTo(0,0),H.lineTo(0,X),H.stroke(),H.moveTo(0,0),H.lineTo(Q,0),H.stroke()}}});class yT{constructor(J,$,Q){this._colorZoneBrand=void 0,this.from=J|0,this.to=$|0,this.colorId=Q|0}static compare(J,$){if(J.colorId===$.colorId){if(J.from===$.from)return J.to-$.to;return J.from-$.from}return J.colorId-$.colorId}}class zA{constructor(J,$,Q,X){this._overviewRulerZoneBrand=void 0,this.startLineNumber=J,this.endLineNumber=$,this.heightInLines=Q,this.color=X,this._colorZone=null}static compare(J,$){if(J.color===$.color){if(J.startLineNumber===$.startLineNumber){if(J.heightInLines===$.heightInLines)return J.endLineNumber-$.endLineNumber;return J.heightInLines-$.heightInLines}return J.startLineNumber-$.startLineNumber}return J.color<$.color?-1:1}setColorZone(J){this._colorZone=J}getColorZones(){return this._colorZone}}class xT{constructor(J){this._getVerticalOffsetForLine=J,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(J){this._zones=J,this._zones.sort(zA.compare)}setLineHeight(J){if(this._lineHeight===J)return!1;return this._lineHeight=J,this._colorZonesInvalid=!0,!0}setPixelRatio(J){this._pixelRatio=J,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(J){if(this._domWidth===J)return!1;return this._domWidth=J,this._colorZonesInvalid=!0,!0}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(J){if(this._domHeight===J)return!1;return this._domHeight=J,this._colorZonesInvalid=!0,!0}getOuterHeight(){return this._outerHeight}setOuterHeight(J){if(this._outerHeight===J)return!1;return this._outerHeight=J,this._colorZonesInvalid=!0,!0}resolveColorZones(){let J=this._colorZonesInvalid,$=Math.floor(this._lineHeight),Q=Math.floor(this.getCanvasHeight()),X=Math.floor(this._outerHeight),Y=Q/X,Z=Math.floor(4*this._pixelRatio/2),G=[];for(let q=0,U=this._zones.length;q<U;q++){let z=this._zones[q];if(!J){let R=z.getColorZones();if(R){G.push(R);continue}}let H=this._getVerticalOffsetForLine(z.startLineNumber),j=z.heightInLines===0?this._getVerticalOffsetForLine(z.endLineNumber)+$:H+z.heightInLines*$,B=Math.floor(Y*H),V=Math.floor(Y*j),W=Math.floor((B+V)/2),K=V-W;if(K<Z)K=Z;if(W-K<0)W=K;if(W+K>Q)W=Q-K;let A=z.color,F=this._color2Id[A];if(!F)F=++this._lastAssignedId,this._color2Id[A]=F,this._id2Color[F]=A;let P=new yT(W-K,W+K,F);z.setColorZone(P),G.push(P)}return this._colorZonesInvalid=!1,G.sort(yT.compare),G}}var bT;var zu=E(()=>{r3();bT=class bT extends kJ{constructor(J,$){super();this._context=J;let Q=this._context.configuration.options;this._domNode=q1(document.createElement("canvas")),this._domNode.setClassName($),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new xT((X)=>this._context.viewLayout.getVerticalOffsetForLineNumber(X)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(Q.get(66)),this._zoneManager.setPixelRatio(Q.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;if(J.hasChanged(66))this._zoneManager.setLineHeight($.get(66)),this._render();if(J.hasChanged(141))this._zoneManager.setPixelRatio($.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render();return!0}onFlushed(J){return this._render(),!0}onScrollChanged(J){if(J.scrollHeightChanged)this._zoneManager.setOuterHeight(J.scrollHeight),this._render();return!0}onZonesChanged(J){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(J){this._domNode.setTop(J.top),this._domNode.setRight(J.right);let $=!1;if($=this._zoneManager.setDOMWidth(J.width)||$,$=this._zoneManager.setDOMHeight(J.height)||$,$)this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()}setZones(J){this._zoneManager.setZones(J),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;let J=this._zoneManager.getCanvasWidth(),$=this._zoneManager.getCanvasHeight(),Q=this._zoneManager.resolveColorZones(),X=this._zoneManager.getId2Color(),Y=this._domNode.domNode.getContext("2d");if(Y.clearRect(0,0,J,$),Q.length>0)this._renderOneLane(Y,Q,X,J);return!0}_renderOneLane(J,$,Q,X){let Y=0,Z=0,G=0;for(let q of $){let{colorId:U,from:z,to:H}=q;if(U!==Y)J.fillRect(0,Z,X,G-Z),Y=U,J.fillStyle=Q[Y],Z=z,G=H;else if(G>=z)G=Math.max(G,H);else J.fillRect(0,Z,X,G-Z),Z=z,G=H}J.fillRect(0,Z,X,G-Z)}}});var Hu=E(()=>{_0(".monaco-editor .view-ruler{box-shadow:1px 0 0 0 var(--vscode-editorRuler-foreground)inset;position:absolute;top:0}")});var ST;var ju=E(()=>{Hu();a8();ST=class ST extends k6{constructor(J){super(J);this.domNode=q1(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];let $=this._context.configuration.options;this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;return this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(J){return J.scrollHeightChanged}prepareRender(J){}_ensureRulersCount(){let J=this._renderedRulers.length,$=this._rulers.length;if(J===$)return;if(J<$){let{tabSize:X}=this._context.viewModel.model.getOptions(),Y=X,Z=$-J;while(Z>0){let G=q1(document.createElement("div"));G.setClassName("view-ruler"),G.setWidth(Y),this.domNode.appendChild(G),this._renderedRulers.push(G),Z--}return}let Q=J-$;while(Q>0){let X=this._renderedRulers.pop();this.domNode.removeChild(X),Q--}}render(J){this._ensureRulersCount();for(let $=0,Q=this._rulers.length;$<Q;$++){let X=this._renderedRulers[$],Y=this._rulers[$];X.setBoxShadow(Y.color?`1px 0 0 0 ${Y.color} inset`:""),X.setHeight(Math.min(J.scrollHeight,1e6)),X.setLeft(Y.column*this._typicalHalfwidthCharacterWidth)}}}});var Vu=E(()=>{_0(".monaco-editor .scroll-decoration{height:6px;box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;position:absolute;top:0;left:0}")});var CT;var Wu=E(()=>{Vu();a8();CT=class CT extends k6{constructor(J){super(J);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;let Q=this._context.configuration.options.get(102);this._useShadows=Q.useShadows,this._domNode=q1(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){let J=this._useShadows&&this._scrollTop>0;if(this._shouldShow!==J)return this._shouldShow=J,!0;return!1}getDomNode(){return this._domNode}_updateWidth(){let $=this._context.configuration.options.get(143);if($.minimap.renderMinimap===0||$.minimap.minimapWidth>0&&$.minimap.minimapLeft===0)this._width=$.width;else this._width=$.width-$.verticalScrollbarWidth}onConfigurationChanged(J){let Q=this._context.configuration.options.get(102);return this._useShadows=Q.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(J){return this._scrollTop=J.scrollTop,this._updateShouldShow()}prepareRender(J){}render(J){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}});var Bu=E(()=>{_0(".monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .focused .selected-text{background-color:var(--vscode-editor-selectionBackground)}.monaco-editor .selected-text{background-color:var(--vscode-editor-inactiveSelectionBackground)}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor.hc-light .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-light .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-light .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-light .bottom-right-radius{border-bottom-right-radius:0}")});class Fu{constructor(J){this.left=J.left,this.width=J.width,this.startStyle=null,this.endStyle=null}}class Ku{constructor(J,$){this.lineNumber=J,this.ranges=$}}function W70(J){return new Fu(J)}function B70(J){return new Ku(J.lineNumber,J.ranges.map(W70))}function HA(J){return J<0?-J:J}var i6;var Au=E(()=>{Bu();_Y();x8();G5();i6=class i6 extends J9{constructor(J){super();this._previousFrameVisibleRangesWithStyle=[],this._context=J;let $=this._context.configuration.options;this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;return this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(J){return this._selections=J.selections.slice(0),!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_visibleRangesHaveGaps(J){for(let $=0,Q=J.length;$<Q;$++)if(J[$].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(J,$,Q){let X=this._typicalHalfwidthCharacterWidth/4,Y=null,Z=null;if(Q&&Q.length>0&&$.length>0){let G=$[0].lineNumber;if(G===J.startLineNumber){for(let U=0;!Y&&U<Q.length;U++)if(Q[U].lineNumber===G)Y=Q[U].ranges[0]}let q=$[$.length-1].lineNumber;if(q===J.endLineNumber){for(let U=Q.length-1;!Z&&U>=0;U--)if(Q[U].lineNumber===q)Z=Q[U].ranges[0]}if(Y&&!Y.startStyle)Y=null;if(Z&&!Z.startStyle)Z=null}for(let G=0,q=$.length;G<q;G++){let U=$[G].ranges[0],z=U.left,H=U.left+U.width,j={top:0,bottom:0},B={top:0,bottom:0};if(G>0){let V=$[G-1].ranges[0].left,W=$[G-1].ranges[0].left+$[G-1].ranges[0].width;if(HA(z-V)<X)j.top=2;else if(z>V)j.top=1;if(HA(H-W)<X)B.top=2;else if(V<H&&H<W)B.top=1}else if(Y)j.top=Y.startStyle.top,B.top=Y.endStyle.top;if(G+1<q){let V=$[G+1].ranges[0].left,W=$[G+1].ranges[0].left+$[G+1].ranges[0].width;if(HA(z-V)<X)j.bottom=2;else if(V<z&&z<W)j.bottom=1;if(HA(H-W)<X)B.bottom=2;else if(H<W)B.bottom=1}else if(Z)j.bottom=Z.startStyle.bottom,B.bottom=Z.endStyle.bottom;U.startStyle=j,U.endStyle=B}}_getVisibleRangesWithStyle(J,$,Q){let Y=($.linesVisibleRangesForRange(J,!0)||[]).map(B70);if(!this._visibleRangesHaveGaps(Y)&&this._roundedSelection)this._enrichVisibleRangesWithStyle($.visibleRange,Y,Q);return Y}_createSelectionPiece(J,$,Q,X,Y){return'<div class="cslr '+Q+'" style="top:'+J.toString()+"px;left:"+X.toString()+"px;width:"+Y.toString()+"px;height:"+$+'px;"></div>'}_actualRenderOneSelection(J,$,Q,X){if(X.length===0)return;let Y=!!X[0].ranges[0].startStyle,Z=this._lineHeight.toString(),G=(this._lineHeight-1).toString(),q=X[0].lineNumber,U=X[X.length-1].lineNumber;for(let z=0,H=X.length;z<H;z++){let j=X[z],B=j.lineNumber,V=B-$,W=Q?B===U||B===q?G:Z:Z,K=Q?B===q?1:0:0,A="",F="";for(let P=0,R=j.ranges.length;P<R;P++){let D=j.ranges[P];if(Y){let{startStyle:O,endStyle:N}=D;if(O.top===1||O.bottom===1){A+=this._createSelectionPiece(K,W,i6.SELECTION_CLASS_NAME,D.left-i6.ROUNDED_PIECE_WIDTH,i6.ROUNDED_PIECE_WIDTH);let w=i6.EDITOR_BACKGROUND_CLASS_NAME;if(O.top===1)w+=" "+i6.SELECTION_TOP_RIGHT;if(O.bottom===1)w+=" "+i6.SELECTION_BOTTOM_RIGHT;A+=this._createSelectionPiece(K,W,w,D.left-i6.ROUNDED_PIECE_WIDTH,i6.ROUNDED_PIECE_WIDTH)}if(N.top===1||N.bottom===1){A+=this._createSelectionPiece(K,W,i6.SELECTION_CLASS_NAME,D.left+D.width,i6.ROUNDED_PIECE_WIDTH);let w=i6.EDITOR_BACKGROUND_CLASS_NAME;if(N.top===1)w+=" "+i6.SELECTION_TOP_LEFT;if(N.bottom===1)w+=" "+i6.SELECTION_BOTTOM_LEFT;A+=this._createSelectionPiece(K,W,w,D.left+D.width,i6.ROUNDED_PIECE_WIDTH)}}let _=i6.SELECTION_CLASS_NAME;if(Y){let{startStyle:O,endStyle:N}=D;if(O.top===0)_+=" "+i6.SELECTION_TOP_LEFT;if(O.bottom===0)_+=" "+i6.SELECTION_BOTTOM_LEFT;if(N.top===0)_+=" "+i6.SELECTION_TOP_RIGHT;if(N.bottom===0)_+=" "+i6.SELECTION_BOTTOM_RIGHT}F+=this._createSelectionPiece(K,W,_,D.left,D.width)}J[V][0]+=A,J[V][1]+=F}}prepareRender(J){let $=[],Q=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber;for(let Z=Q;Z<=X;Z++){let G=Z-Q;$[G]=["",""]}let Y=[];for(let Z=0,G=this._selections.length;Z<G;Z++){let q=this._selections[Z];if(q.isEmpty()){Y[Z]=null;continue}let U=this._getVisibleRangesWithStyle(q,J,this._previousFrameVisibleRangesWithStyle[Z]);Y[Z]=U,this._actualRenderOneSelection($,Q,this._selections.length>1,U)}this._previousFrameVisibleRangesWithStyle=Y,this._renderResult=$.map(([Z,G])=>Z+G)}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}};i6.SELECTION_CLASS_NAME="selected-text";i6.SELECTION_TOP_LEFT="top-left-radius";i6.SELECTION_BOTTOM_LEFT="bottom-left-radius";i6.SELECTION_TOP_RIGHT="top-right-radius";i6.SELECTION_BOTTOM_RIGHT="bottom-right-radius";i6.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";i6.ROUNDED_PIECE_WIDTH=10;i8((J,$)=>{let Q=J.getColor(of);if(Q&&!Q.isTransparent())$.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${Q}; }`)})});var Pu=E(()=>{_0(".monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{box-sizing:border-box;position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{border-style:solid;border-width:1px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-style:solid;border-bottom-width:2px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-style:solid;border-bottom-width:1px;background:0 0!important}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:.5s ease-in-out 20 alternate monaco-cursor-smooth}.cursor-phase{animation:.5s ease-in-out 20 alternate monaco-cursor-phase}.cursor-expand>.cursor{animation:.5s ease-in-out 20 alternate monaco-cursor-expand}")});class vT{constructor(J,$,Q,X,Y,Z,G){this.top=J,this.left=$,this.paddingLeft=Q,this.width=X,this.height=Y,this.textContent=Z,this.textContentClassName=G}}class jA{constructor(J){this._context=J;let $=this._context.configuration.options,Q=$.get(50);this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=q1(document.createElement("div")),this._domNode.setClassName(`cursor ${GX}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),h6(this._domNode,Q),this._domNode.setDisplay("none"),this._position=new s(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){if(!this._isVisible)this._domNode.setVisibility("inherit"),this._isVisible=!0}hide(){if(this._isVisible)this._domNode.setVisibility("hidden"),this._isVisible=!1}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(50);return this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),h6(this._domNode,Q),!0}onCursorPositionChanged(J,$){if($)this._domNode.domNode.style.transitionProperty="none";else this._domNode.domNode.style.transitionProperty="";return this._position=J,!0}_getGraphemeAwarePosition(){let{lineNumber:J,column:$}=this._position,Q=this._context.viewModel.getLineContent(J),[X,Y]=hS(Q,$-1);return[new s(J,X+1),Q.substring(X,Y)]}_prepareRender(J){let $="",Q="",[X,Y]=this._getGraphemeAwarePosition();if(this._cursorStyle===I5.Line||this._cursorStyle===I5.LineThin){let j=J.visibleRangeForPosition(X);if(!j||j.outsideRenderedLine)return null;let B=L0(this._domNode.domNode),V;if(this._cursorStyle===I5.Line){if(V=DO(B,this._lineCursorWidth>0?this._lineCursorWidth:2),V>2)$=Y,Q=this._getTokenClassName(X)}else V=DO(B,1);let W=j.left,K=0;if(V>=2&&W>=1)K=1,W-=K;let A=J.getVerticalOffsetForLineNumber(X.lineNumber)-J.bigNumbersDelta;return new vT(A,W,K,V,this._lineHeight,$,Q)}let Z=J.linesVisibleRangesForRange(new v(X.lineNumber,X.column,X.lineNumber,X.column+Y.length),!1);if(!Z||Z.length===0)return null;let G=Z[0];if(G.outsideRenderedLine||G.ranges.length===0)return null;let q=G.ranges[0],U=Y==="\t"?this._typicalHalfwidthCharacterWidth:q.width<1?this._typicalHalfwidthCharacterWidth:q.width;if(this._cursorStyle===I5.Block)$=Y,Q=this._getTokenClassName(X);let z=J.getVerticalOffsetForLineNumber(X.lineNumber)-J.bigNumbersDelta,H=this._lineHeight;if(this._cursorStyle===I5.Underline||this._cursorStyle===I5.UnderlineThin)z+=this._lineHeight-2,H=2;return new vT(z,q.left,0,U,H,$,Q)}_getTokenClassName(J){let $=this._context.viewModel.getViewLineData(J.lineNumber),Q=$.tokens.findTokenIndexAtOffset(J.column-1);return $.tokens.getClassName(Q)}prepareRender(J){this._renderData=this._prepareRender(J)}render(J){if(!this._renderData)return this._domNode.setDisplay("none"),null;if(this._lastRenderedContent!==this._renderData.textContent)this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent;return this._domNode.setClassName(`cursor ${GX} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}}}var Du=E(()=>{x0();G1();P4();U8();e0();aK()});var Vq;var Ru=E(()=>{Pu();J6();a8();Du();U8();yJ();G5();eQ();x0();Vq=class Vq extends k6{constructor(J){super(J);let $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new jA(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=q1(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new E8,this._cursorFlatBlinkInterval=new $2,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(J){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(J){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(J){let $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(J);for(let Q=0,X=this._secondaryCursors.length;Q<X;Q++)this._secondaryCursors[Q].onConfigurationChanged(J);return!0}_onCursorPositionChanged(J,$,Q){let X=this._secondaryCursors.length!==$.length||this._cursorSmoothCaretAnimation==="explicit"&&Q!==3;if(this._primaryCursor.onCursorPositionChanged(J,X),this._updateBlinking(),this._secondaryCursors.length<$.length){let Y=$.length-this._secondaryCursors.length;for(let Z=0;Z<Y;Z++){let G=new jA(this._context);this._domNode.domNode.insertBefore(G.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(G)}}else if(this._secondaryCursors.length>$.length){let Y=this._secondaryCursors.length-$.length;for(let Z=0;Z<Y;Z++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Y=0;Y<$.length;Y++)this._secondaryCursors[Y].onCursorPositionChanged($[Y],X)}onCursorStateChanged(J){let $=[];for(let X=0,Y=J.selections.length;X<Y;X++)$[X]=J.selections[X].getPosition();this._onCursorPositionChanged($[0],$.slice(1),J.reason);let Q=J.selections[0].isEmpty();if(this._selectionIsEmpty!==Q)this._selectionIsEmpty=Q,this._updateDomClassName();return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onFocusChanged(J){return this._editorHasFocus=J.isFocused,this._updateBlinking(),!1}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return!0}onTokensChanged(J){let $=(Q)=>{for(let X=0,Y=J.ranges.length;X<Y;X++)if(J.ranges[X].fromLineNumber<=Q.lineNumber&&Q.lineNumber<=J.ranges[X].toLineNumber)return!0;return!1};if($(this._primaryCursor.getPosition()))return!0;for(let Q of this._secondaryCursors)if($(Q.getPosition()))return!0;return!1}onZonesChanged(J){return!0}_getCursorBlinking(){if(this._isComposingInput)return 0;if(!this._editorHasFocus)return 0;if(this._readOnly)return 5;return this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();let J=this._getCursorBlinking(),$=J===0,Q=J===5;if($)this._hide();else this._show();if(this._blinkingEnabled=!1,this._updateDomClassName(),!$&&!Q)if(J===1)this._cursorFlatBlinkInterval.cancelAndSet(()=>{if(this._isVisible)this._hide();else this._show()},Vq.BLINK_INTERVAL,L0(this._domNode.domNode));else this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Vq.BLINK_INTERVAL)}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let J="cursors-layer";if(!this._selectionIsEmpty)J+=" has-selection";switch(this._cursorStyle){case I5.Line:J+=" cursor-line-style";break;case I5.Block:J+=" cursor-block-style";break;case I5.Underline:J+=" cursor-underline-style";break;case I5.LineThin:J+=" cursor-line-thin-style";break;case I5.BlockOutline:J+=" cursor-block-outline-style";break;case I5.UnderlineThin:J+=" cursor-underline-thin-style";break;default:J+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:J+=" cursor-blink";break;case 2:J+=" cursor-smooth";break;case 3:J+=" cursor-phase";break;case 4:J+=" cursor-expand";break;case 5:J+=" cursor-solid";break;default:J+=" cursor-solid"}else J+=" cursor-solid";if(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")J+=" cursor-smooth-caret-animation";return J}_show(){this._primaryCursor.show();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].hide();this._isVisible=!1}prepareRender(J){this._primaryCursor.prepareRender(J);for(let $=0,Q=this._secondaryCursors.length;$<Q;$++)this._secondaryCursors[$].prepareRender(J)}render(J){let $=[],Q=0,X=this._primaryCursor.render(J);if(X)$[Q++]=X;for(let Y=0,Z=this._secondaryCursors.length;Y<Z;Y++){let G=this._secondaryCursors[Y].render(J);if(G)$[Q++]=G}this._renderData=$}getLastRenderData(){return this._renderData}};Vq.BLINK_INTERVAL=500;i8((J,$)=>{let Q=J.getColor(pK);if(Q){let X=J.getColor(_p);if(!X)X=Q.opposite();if($.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${Q}; border-color: ${Q}; color: ${X}; }`),S4(J.type))$.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${X}; border-right: 1px solid ${X}; }`)}})});function F70(J,$){try{return J($)}catch(Q){Z1(Q)}}var hT=()=>{throw Error("Invalid change accessor")},fT;var Mu=E(()=>{T1();a8();fT=class fT extends k6{constructor(J){super(J);let $=this._context.configuration.options,Q=$.get(143);this._lineHeight=$.get(66),this._contentWidth=Q.contentWidth,this._contentLeft=Q.contentLeft,this.domNode=q1(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=q1(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){let J=this._context.viewLayout.getWhitespaces(),$=new Map;for(let X of J)$.set(X.id,X);let Q=!1;return this._context.viewModel.changeWhitespace((X)=>{let Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z],U=this._zones[q],z=this._computeWhitespaceProps(U.delegate);U.isInHiddenArea=z.isInHiddenArea;let H=$.get(q);if(H&&(H.afterLineNumber!==z.afterViewLineNumber||H.height!==z.heightInPx))X.changeOneWhitespace(q,z.afterViewLineNumber,z.heightInPx),this._safeCallOnComputedHeight(U.delegate,z.heightInPx),Q=!0}}),Q}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);if(this._lineHeight=$.get(66),this._contentWidth=Q.contentWidth,this._contentLeft=Q.contentLeft,J.hasChanged(66))this._recomputeWhitespacesProps();return!0}onLineMappingChanged(J){return this._recomputeWhitespacesProps()}onLinesDeleted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}onLinesInserted(J){return!0}_getZoneOrdinal(J){var $,Q;return(Q=($=J.ordinal)!==null&&$!==void 0?$:J.afterColumn)!==null&&Q!==void 0?Q:1e4}_computeWhitespaceProps(J){if(J.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(J),minWidthInPx:this._minWidthInPixels(J)};let $;if(typeof J.afterColumn<"u")$=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:J.afterColumn});else{let Z=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:1}).lineNumber;$=new s(Z,this._context.viewModel.model.getLineMaxColumn(Z))}let Q;if($.column===this._context.viewModel.model.getLineMaxColumn($.lineNumber))Q=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber+1,column:1});else Q=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber,column:$.column+1});let X=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($,J.afterColumnAffinity,!0),Y=J.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(Q);return{isInHiddenArea:!Y,afterViewLineNumber:X.lineNumber,heightInPx:Y?this._heightInPixels(J):0,minWidthInPx:this._minWidthInPixels(J)}}changeViewZones(J){let $=!1;return this._context.viewModel.changeWhitespace((Q)=>{let X={addZone:(Y)=>{return $=!0,this._addZone(Q,Y)},removeZone:(Y)=>{if(!Y)return;$=this._removeZone(Q,Y)||$},layoutZone:(Y)=>{if(!Y)return;$=this._layoutZone(Q,Y)||$}};F70(J,X),X.addZone=hT,X.removeZone=hT,X.layoutZone=hT}),$}_addZone(J,$){let Q=this._computeWhitespaceProps($),Y={whitespaceId:J.insertWhitespace(Q.afterViewLineNumber,this._getZoneOrdinal($),Q.heightInPx,Q.minWidthInPx),delegate:$,isInHiddenArea:Q.isInHiddenArea,isVisible:!1,domNode:q1($.domNode),marginDomNode:$.marginDomNode?q1($.marginDomNode):null};if(this._safeCallOnComputedHeight(Y.delegate,Q.heightInPx),Y.domNode.setPosition("absolute"),Y.domNode.domNode.style.width="100%",Y.domNode.setDisplay("none"),Y.domNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.domNode.appendChild(Y.domNode),Y.marginDomNode)Y.marginDomNode.setPosition("absolute"),Y.marginDomNode.domNode.style.width="100%",Y.marginDomNode.setDisplay("none"),Y.marginDomNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.marginDomNode.appendChild(Y.marginDomNode);return this._zones[Y.whitespaceId]=Y,this.setShouldRender(),Y.whitespaceId}_removeZone(J,$){if(this._zones.hasOwnProperty($)){let Q=this._zones[$];if(delete this._zones[$],J.removeWhitespace(Q.whitespaceId),Q.domNode.removeAttribute("monaco-visible-view-zone"),Q.domNode.removeAttribute("monaco-view-zone"),Q.domNode.domNode.parentNode.removeChild(Q.domNode.domNode),Q.marginDomNode)Q.marginDomNode.removeAttribute("monaco-visible-view-zone"),Q.marginDomNode.removeAttribute("monaco-view-zone"),Q.marginDomNode.domNode.parentNode.removeChild(Q.marginDomNode.domNode);return this.setShouldRender(),!0}return!1}_layoutZone(J,$){if(this._zones.hasOwnProperty($)){let Q=this._zones[$],X=this._computeWhitespaceProps(Q.delegate);return Q.isInHiddenArea=X.isInHiddenArea,J.changeOneWhitespace(Q.whitespaceId,X.afterViewLineNumber,X.heightInPx),this._safeCallOnComputedHeight(Q.delegate,X.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(J){if(this._zones.hasOwnProperty(J)){let $=this._zones[J];return Boolean($.delegate.suppressMouseDown)}return!1}_heightInPixels(J){if(typeof J.heightInPx==="number")return J.heightInPx;if(typeof J.heightInLines==="number")return this._lineHeight*J.heightInLines;return this._lineHeight}_minWidthInPixels(J){if(typeof J.minWidthInPx==="number")return J.minWidthInPx;return 0}_safeCallOnComputedHeight(J,$){if(typeof J.onComputedHeight==="function")try{J.onComputedHeight($)}catch(Q){Z1(Q)}}_safeCallOnDomNodeTop(J,$){if(typeof J.onDomNodeTop==="function")try{J.onDomNodeTop($)}catch(Q){Z1(Q)}}prepareRender(J){}render(J){let $=J.viewportData.whitespaceViewportData,Q={},X=!1;for(let Z of $){if(this._zones[Z.id].isInHiddenArea)continue;Q[Z.id]=Z,X=!0}let Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z],U=this._zones[q],z=0,H=0,j="none";if(Q.hasOwnProperty(q)){if(z=Q[q].verticalOffset-J.bigNumbersDelta,H=Q[q].height,j="block",!U.isVisible)U.domNode.setAttribute("monaco-visible-view-zone","true"),U.isVisible=!0;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(Q[q].verticalOffset))}else{if(U.isVisible)U.domNode.removeAttribute("monaco-visible-view-zone"),U.isVisible=!1;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(-1e6))}if(U.domNode.setTop(z),U.domNode.setHeight(H),U.domNode.setDisplay(j),U.marginDomNode)U.marginDomNode.setTop(z),U.marginDomNode.setHeight(H),U.marginDomNode.setDisplay(j)}if(X)this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft)}}});var Ou=E(()=>{_0(".monaco-editor .mwh{position:absolute;color:var(--vscode-editorWhitespace-foreground)!important}")});class gT{constructor(J){let $=J.options,Q=$.get(50),X=$.get(38);if(X==="off")this.renderWhitespace="none",this.renderWithSVG=!1;else if(X==="svg")this.renderWhitespace=$.get(98),this.renderWithSVG=!0;else this.renderWhitespace=$.get(98),this.renderWithSVG=!1;this.spaceWidth=Q.spaceWidth,this.middotWidth=Q.middotWidth,this.wsmiddotWidth=Q.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=Q.canUseHalfwidthRightwardsArrow,this.lineHeight=$.get(66),this.stopRenderingLineAfter=$.get(116)}equals(J){return this.renderWhitespace===J.renderWhitespace&&this.renderWithSVG===J.renderWithSVG&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter}}var pT;var _u=E(()=>{Ou();_Y();G1();L3();yJ();pT=class pT extends J9{constructor(J){super();this._context=J,this._options=new gT(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=new gT(this._context.configuration);if(this._options.equals($))return J.hasChanged(143);return this._options=$,!0}onCursorStateChanged(J){if(this._selection=J.selections,this._options.renderWhitespace==="selection")return!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}prepareRender(J){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}let $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber-$+1,Y=Array(X);for(let G=0;G<X;G++)Y[G]=!0;let Z=this._context.viewModel.getMinimapLinesRenderingData(J.viewportData.startLineNumber,J.viewportData.endLineNumber,Y);this._renderResult=[];for(let G=J.viewportData.startLineNumber;G<=J.viewportData.endLineNumber;G++){let q=G-J.viewportData.startLineNumber,U=Z.data[q],z=null;if(this._options.renderWhitespace==="selection"){let H=this._selection;for(let j of H){if(j.endLineNumber<G||j.startLineNumber>G)continue;let B=j.startLineNumber===G?j.startColumn:U.minColumn,V=j.endLineNumber===G?j.endColumn:U.maxColumn;if(B<V){if(!z)z=[];z.push(new UH(B-1,V-1))}}}this._renderResult[q]=this._applyRenderWhitespace(J,G,z,U)}}_applyRenderWhitespace(J,$,Q,X){if(this._options.renderWhitespace==="selection"&&!Q)return"";if(this._options.renderWhitespace==="trailing"&&X.continuesWithWrappedLine)return"";let Y=this._context.theme.getColor(S$),Z=this._options.renderWithSVG,G=X.content,q=this._options.stopRenderingLineAfter===-1?G.length:Math.min(this._options.stopRenderingLineAfter,G.length),U=X.continuesWithWrappedLine,z=X.minColumn-1,H=this._options.renderWhitespace==="boundary",j=this._options.renderWhitespace==="trailing",B=this._options.lineHeight,V=this._options.middotWidth,W=this._options.wsmiddotWidth,K=this._options.spaceWidth,A=Math.abs(W-K),F=Math.abs(V-K),P=A<F?11825:183,R=this._options.canUseHalfwidthRightwardsArrow,D="",_=!1,O=s6(G),N;if(O===-1)_=!0,O=q,N=q;else N=j9(G);let w=0,T=Q&&Q[w],I=0;for(let k=z;k<q;k++){let x=G.charCodeAt(k);if(T&&k>=T.endOffset)w++,T=Q&&Q[w];if(x!==9&&x!==32)continue;if(j&&!_&&k<=N)continue;if(H&&k>=O&&k<=N&&x===32){let l=k-1>=0?G.charCodeAt(k-1):0,d=k+1<q?G.charCodeAt(k+1):0;if(l!==32&&d!==32)continue}if(H&&U&&k===q-1){let l=k-1>=0?G.charCodeAt(k-1):0;if(x===32&&(l!==32&&l!==9))continue}if(Q&&(!T||T.startOffset>k||T.endOffset<=k))continue;let S=J.visibleRangeForPosition(new s($,k+1));if(!S)continue;if(Z)if(I=Math.max(I,S.left),x===9)D+=this._renderArrow(B,K,S.left);else D+=`<circle cx="${(S.left+K/2).toFixed(2)}" cy="${(B/2).toFixed(2)}" r="${(K/7).toFixed(2)}" />`;else if(x===9)D+=`<div class="mwh" style="left:${S.left}px;height:${B}px;">${R?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`;else D+=`<div class="mwh" style="left:${S.left}px;height:${B}px;">${String.fromCharCode(P)}</div>`}if(Z)return I=Math.round(I+K),`<svg style="position:absolute;width:${I}px;height:${B}px" viewBox="0 0 ${I} ${B}" xmlns="http://www.w3.org/2000/svg" fill="${Y}">`+D+"</svg>";return D}_renderArrow(J,$,Q){let X=$/7,Y=$,Z=J/2,G=Q,q={x:0,y:X/2},U={x:0.8*Y,y:q.y},z={x:U.x-0.2*U.x,y:U.y+0.2*U.x},H={x:z.x+0.1*U.x,y:z.y+0.1*U.x},j={x:H.x+0.35*U.x,y:H.y-0.35*U.x},B={x:j.x,y:-j.y},V={x:H.x,y:-H.y},W={x:z.x,y:-z.y},K={x:U.x,y:-U.y},A={x:q.x,y:-q.y};return`<path d="M ${[q,U,z,H,j,B,V,W,K,A].map((R)=>`${(G+R.x).toFixed(2)} ${(Z+R.y).toFixed(2)}`).join(" L ")}" />`}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}}});class mT{constructor(J,$,Q,X){this.selections=J,this.startLineNumber=$.startLineNumber|0,this.endLineNumber=$.endLineNumber|0,this.relativeVerticalOffset=$.relativeVerticalOffset,this.bigNumbersDelta=$.bigNumbersDelta|0,this.whitespaceViewportData=Q,this._model=X,this.visibleRange=new v($.startLineNumber,this._model.getLineMinColumn($.startLineNumber),$.endLineNumber,this._model.getLineMaxColumn($.endLineNumber))}getViewLineRenderingData(J){return this._model.getViewportViewLineRenderingData(this.visibleRange,J)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var Nu=E(()=>{e0()});class uT{get type(){return this._theme.type}get value(){return this._theme}constructor(J){this._theme=J}update(J){this._theme=J}getColor(J){return this._theme.getColor(J)}}class cT{constructor(J,$,Q){this.configuration=J,this.theme=new uT($),this.viewModel=Q,this.viewLayout=Q.viewLayout}addEventHandler(J){this.viewModel.addViewEventHandler(J)}removeEventHandler(J){this.viewModel.removeViewEventHandler(J)}}var Tu=()=>{};function EY(J){try{return J()}catch($){return Z1($),null}}class WA{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(J){return this._coordinatedRenderings.push(J),this._scheduleRender(J.window),{dispose:()=>{let $=this._coordinatedRenderings.indexOf(J);if($===-1)return;if(this._coordinatedRenderings.splice($,1),this._coordinatedRenderings.length===0){for(let[Q,X]of this._animationFrameRunners)X.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(J){if(!this._animationFrameRunners.has(J)){let $=()=>{this._animationFrameRunners.delete(J),this._onRenderScheduled()};this._animationFrameRunners.set(J,H3(J,$,100))}}_onRenderScheduled(){let J=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(let Q of J)EY(()=>Q.prepareRenderText());let $=[];for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];$[Q]=EY(()=>Y.renderText())}for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q],Z=$[Q];if(!Z)continue;let[G,q]=Z;EY(()=>Y.prepareRender(G,q))}for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q],Z=$[Q];if(!Z)continue;let[G,q]=Z;EY(()=>Y.render(G,q))}}}var K70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},A70=function(J,$){return function(Q,X){$(Q,X,J)}},VA;var wu=E(()=>{x0();o_();T1();RN();Pp();Gm();n3();Mm();_m();a8();YT();Tm();Lm();Em();ym();xm();ZA();pm();hN();dm();am();fN();im();Yu();Gu();Uu();zu();ju();Wu();Au();Ru();Mu();_u();e0();u5();l7();r3();Nu();Tu();n0();G5();VA=class extends kJ{constructor($,Q,X,Y,Z,G,q){super();this._instantiationService=q,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new d0(1,1,1,1)],this._renderAnimationFrame=null;let U=new JT(Q,Y,Z,$);this._context=new cT(Q,X,Y),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(rK,this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=q1(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=q1(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=q1(document.createElement("div")),W8.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new WT(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new vH(this._context,this._linesContent),this._viewZones=new fT(this._context),this._viewParts.push(this._viewZones);let z=new IT(this._context);this._viewParts.push(z);let H=new CT(this._context);this._viewParts.push(H);let j=new QT(this._context);this._viewParts.push(j),j.addDynamicOverlay(new HT(this._context)),j.addDynamicOverlay(new i6(this._context)),j.addDynamicOverlay(new PT(this._context)),j.addDynamicOverlay(new VT(this._context)),j.addDynamicOverlay(new pT(this._context));let B=new XT(this._context);this._viewParts.push(B),B.addDynamicOverlay(new jT(this._context)),B.addDynamicOverlay(new RT(this._context)),B.addDynamicOverlay(new DT(this._context)),B.addDynamicOverlay(new h2(this._context)),this._glyphMarginWidgets=new BT(this._context),this._viewParts.push(this._glyphMarginWidgets);let V=new ZX(this._context);V.getDomNode().appendChild(this._viewZones.marginDomNode),V.getDomNode().appendChild(B.getDomNode()),V.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(V),this._contentWidgets=new UT(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Vq(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new ET(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);let W=new ST(this._context);this._viewParts.push(W);let K=new ZT(this._context);this._viewParts.push(K);let A=new kT(this._context);if(this._viewParts.push(A),z){let F=this._scrollbar.getOverviewRulerLayoutInfo();F.parent.insertBefore(z.getDomNode(),F.insertBefore)}if(this._linesContent.appendChild(j.getDomNode()),this._linesContent.appendChild(W.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(V.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(H.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(A.getDomNode()),this._overflowGuardContainer.appendChild(K.domNode),this.domNode.appendChild(this._overflowGuardContainer),G)G.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),G.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode);else this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode);this._applyLayout(),this._pointerHandler=this._register(new xN(this._context,U,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){let $=this._context.viewModel.model,Q=this._context.viewModel.glyphLanes,X=[],Y=0;X=X.concat($.getAllMarginDecorations().map((Z)=>{var G,q,U;let z=(q=(G=Z.options.glyphMargin)===null||G===void 0?void 0:G.position)!==null&&q!==void 0?q:i9.Center;return Y=Math.max(Y,Z.range.endLineNumber),{range:Z.range,lane:z,persist:(U=Z.options.glyphMargin)===null||U===void 0?void 0:U.persistLane}})),X=X.concat(this._glyphMarginWidgets.getWidgets().map((Z)=>{let G=$.validateRange(Z.preference.range);return Y=Math.max(Y,G.endLineNumber),{range:G,lane:Z.preference.lane}})),X.sort((Z,G)=>v.compareRangesUsingStarts(Z.range,G.range)),Q.reset(Y);for(let Z of X)Q.push(Z.lane,Z.range,Z.persist);return Q}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:($)=>{this._textAreaHandler.textArea.domNode.dispatchEvent($)},getLastRenderData:()=>{let $=this._viewCursors.getLastRenderData()||[],Q=this._textAreaHandler.getLastRenderData();return new PN($,Q)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:($)=>{return this._viewZones.shouldSuppressMouseDownOnViewZone($)},shouldSuppressMouseDownOnWidget:($)=>{return this._contentWidgets.shouldSuppressMouseDownOnWidget($)},getPositionFromDOMInfo:($,Q)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo($,Q)},visibleRangeForPosition:($,Q)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new s($,Q))},getLineWidth:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth($)}}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition($)}}}_applyLayout(){let Q=this._context.configuration.options.get(143);this.domNode.setWidth(Q.width),this.domNode.setHeight(Q.height),this._overflowGuardContainer.setWidth(Q.width),this._overflowGuardContainer.setHeight(Q.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){let $=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+kH(this._context.theme.type)+$}handleEvents($){super.handleEvents($),this._scheduleRender()}onConfigurationChanged($){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged($){return this._selections=$.selections,!1}onDecorationsChanged($){if($.affectsGlyphMargin)this._shouldRecomputeGlyphMarginLanes=!0;return!1}onFocusChanged($){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged($){return this._context.theme.update($.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){if(this._renderAnimationFrame!==null)this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null;this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let $ of this._viewParts)$.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new l1;if(this._renderAnimationFrame===null){let $=this._createCoordinatedRendering();this._renderAnimationFrame=WA.INSTANCE.scheduleCoordinatedRendering({window:L0(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new l1;try{return $.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new l1;return $.renderText()},prepareRender:(Q,X)=>{if(this._store.isDisposed)throw new l1;return $.prepareRender(Q,X)},render:(Q,X)=>{if(this._store.isDisposed)throw new l1;return $.render(Q,X)}})}}_flushAccumulatedAndRenderNow(){let $=this._createCoordinatedRendering();EY(()=>$.prepareRenderText());let Q=EY(()=>$.renderText());if(Q){let[X,Y]=Q;EY(()=>$.prepareRender(X,Y)),EY(()=>$.render(X,Y))}}_getViewPartsToRender(){let $=[],Q=0;for(let X of this._viewParts)if(X.shouldRender())$[Q++]=X;return $}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;let $=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount($.requiredLanes)}_$.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let $=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&$.length===0)return null;let Q=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(Q.startLineNumber,Q.endLineNumber,Q.centeredLineNumber);let X=new mT(this._selections,Q,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);if(this._contentWidgets.shouldRender())this._contentWidgets.onBeforeRender(X);if(this._viewLines.shouldRender())this._viewLines.renderText(X),this._viewLines.onDidRender(),$=this._getViewPartsToRender();return[$,new HN(this._context.viewLayout,X,this._viewLines)]},prepareRender:($,Q)=>{for(let X of $)X.prepareRender(Q)},render:($,Q)=>{for(let X of $)X.render(Q),X.onDidRender()}}}delegateVerticalScrollbarPointerDown($){this._scrollbar.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){this._scrollbar.delegateScrollFromMouseWheelEvent($)}restoreState($){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:$.scrollTop,scrollLeft:$.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn($,Q){let X=this._context.viewModel.model.validatePosition({lineNumber:$,column:Q}),Y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);this._flushAccumulatedAndRenderNow();let Z=this._viewLines.visibleRangeForPosition(new s(Y.lineNumber,Y.column));if(!Z)return-1;return Z.left}getTargetAtClientPoint($,Q){let X=this._pointerHandler.getTargetAtClientPoint($,Q);if(!X)return null;return Zq.convertViewToModelMouseTarget(X,this._context.viewModel.coordinatesConverter)}createOverviewRuler($){return new bT(this._context,$)}change($){this._viewZones.changeViewZones($),this._scheduleRender()}render($,Q){if(Q){this._viewLines.forceShouldRender();for(let X of this._viewParts)X.forceShouldRender()}if($)this._flushAccumulatedAndRenderNow();else this._scheduleRender()}writeScreenReaderContent($){this._textAreaHandler.writeScreenReaderContent($)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions($){this._textAreaHandler.setAriaOptions($)}addContentWidget($){this._contentWidgets.addWidget($.widget),this.layoutContentWidget($),this._scheduleRender()}layoutContentWidget($){var Q,X,Y,Z,G,q,U,z;this._contentWidgets.setWidgetPosition($.widget,(X=(Q=$.position)===null||Q===void 0?void 0:Q.position)!==null&&X!==void 0?X:null,(Z=(Y=$.position)===null||Y===void 0?void 0:Y.secondaryPosition)!==null&&Z!==void 0?Z:null,(q=(G=$.position)===null||G===void 0?void 0:G.preference)!==null&&q!==void 0?q:null,(z=(U=$.position)===null||U===void 0?void 0:U.positionAffinity)!==null&&z!==void 0?z:null),this._scheduleRender()}removeContentWidget($){this._contentWidgets.removeWidget($.widget),this._scheduleRender()}addOverlayWidget($){this._overlayWidgets.addWidget($.widget),this.layoutOverlayWidget($),this._scheduleRender()}layoutOverlayWidget($){let Q=$.position?$.position.preference:null;if(this._overlayWidgets.setWidgetPosition($.widget,Q))this._scheduleRender()}removeOverlayWidget($){this._overlayWidgets.removeWidget($.widget),this._scheduleRender()}addGlyphMarginWidget($){this._glyphMarginWidgets.addWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget($){let Q=$.position;if(this._glyphMarginWidgets.setWidgetPosition($.widget,Q))this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}removeGlyphMarginWidget($){this._glyphMarginWidgets.removeWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};VA=K70([A70(6,r0)],VA);WA.INSTANCE=new WA});class mH{constructor(J,$,Q,X,Y,Z,G){this.id=J,this.label=$,this.alias=Q,this.metadata=X,this._precondition=Y,this._run=Z,this._contextKeyService=G}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(J){if(!this.isSupported())return Promise.resolve(void 0);return this._run(J)}}function $4(J){let $=0,Q=0,X=0,Y=0;for(let Z=0,G=J.length;Z<G;Z++){let q=J.charCodeAt(Z);if(q===13){if($===0)Q=Z;if($++,Z+1<G&&J.charCodeAt(Z+1)===10)Y|=2,Z++;else Y|=3;X=Z+1}else if(q===10){if(Y|=1,$===0)Q=Z;$++,X=Z+1}}if($===0)Q=J.length;return[$,Q,J.length-X,Y]}class BA{constructor(J,$,Q,X){this.range=J,this.nestingLevel=$,this.nestingLevelOfEqualBracketType=Q,this.isInvalid=X}}class Lu{constructor(J,$,Q,X,Y,Z){this.range=J,this.openingBracketRange=$,this.closingBracketRange=Q,this.nestingLevel=X,this.nestingLevelOfEqualBracketType=Y,this.bracketPairNode=Z}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}var lT;var ku=E(()=>{lT=class lT extends Lu{constructor(J,$,Q,X,Y,Z,G){super(J,$,Q,X,Y,Z);this.minVisibleColumnIndentation=G}}});class m2{constructor(J,$){this.lineCount=J,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}function Eu(J,$,Q,X){return J!==Q?E6(Q-J,X):E6(0,X-$)}function Wq(J){return J===0}function E6(J,$){return J*M9+$}function H7(J){let $=J,Q=Math.floor($/M9),X=$-Q*M9;return new m2(Q,X)}function Iu(J){return Math.floor(J/M9)}function dT(J){return J}function I6(J,$){let Q=J+$;if($>=M9)Q=Q-J%M9;return Q}function yu(J,$){return J.reduce((Q,X)=>I6(Q,$(X)),Q8)}function sT(J,$){return J===$}function u2(J,$){let Q=J,X=$;if(X-Q<=0)return Q8;let Z=Math.floor(Q/M9),G=Math.floor(X/M9),q=X-G*M9;if(Z===G){let U=Q-Z*M9;return E6(0,q-U)}else return E6(G-Z,q)}function HX(J,$){return J<$}function IY(J,$){return J<=$}function Bq(J,$){return J>=$}function yY(J){return E6(J.lineNumber-1,J.column-1)}function xY(J,$){let Q=J,X=Math.floor(Q/M9),Y=Q-X*M9,Z=$,G=Math.floor(Z/M9),q=Z-G*M9;return new v(X+1,Y+1,G+1,q+1)}function xu(J){let $=H9(J);return E6($.length-1,$[$.length-1].length)}var Q8=0,M9=67108864;var h$=E(()=>{G1();e0();m2.zero=new m2(0,0)});class g4{static fromModelContentChanges(J){return J.map((Q)=>{let X=v.lift(Q.range);return new g4(yY(X.getStartPosition()),yY(X.getEndPosition()),xu(Q.text))}).reverse()}constructor(J,$,Q){this.startOffset=J,this.endOffset=$,this.newLength=Q}toString(){return`[${H7(this.startOffset)}...${H7(this.endOffset)}) -> ${H7(this.newLength)}`}}class aT{constructor(J){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=J.map(($)=>rT.from($))}getOffsetBeforeChange(J){return this.adjustNextEdit(J),this.translateCurToOld(J)}getDistanceToNextChange(J){this.adjustNextEdit(J);let $=this.edits[this.nextEditIdx],Q=$?this.translateOldToCur($.offsetObj):null;if(Q===null)return null;return u2(J,Q)}translateOldToCur(J){if(J.lineCount===this.deltaLineIdxInOld)return E6(J.lineCount+this.deltaOldToNewLineCount,J.columnCount+this.deltaOldToNewColumnCount);else return E6(J.lineCount+this.deltaOldToNewLineCount,J.columnCount)}translateCurToOld(J){let $=H7(J);if($.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld)return E6($.lineCount-this.deltaOldToNewLineCount,$.columnCount-this.deltaOldToNewColumnCount);else return E6($.lineCount-this.deltaOldToNewLineCount,$.columnCount)}adjustNextEdit(J){while(this.nextEditIdx<this.edits.length){let $=this.edits[this.nextEditIdx],Q=this.translateOldToCur($.endOffsetAfterObj);if(IY(Q,J)){this.nextEditIdx++;let X=H7(Q),Y=H7(this.translateOldToCur($.endOffsetBeforeObj)),Z=X.lineCount-Y.lineCount;this.deltaOldToNewLineCount+=Z;let G=this.deltaLineIdxInOld===$.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,q=X.columnCount-Y.columnCount;this.deltaOldToNewColumnCount=G+q,this.deltaLineIdxInOld=$.endOffsetBeforeObj.lineCount}else break}}}class rT{static from(J){return new rT(J.startOffset,J.endOffset,J.newLength)}constructor(J,$,Q){this.endOffsetBeforeObj=H7($),this.endOffsetAfterObj=H7(I6(J,Q)),this.offsetObj=H7(J)}}var uH=E(()=>{e0();h$()});class n6{static create(J,$){if(J<=128&&$.length===0){let Q=n6.cache[J];if(!Q)Q=new n6(J,$),n6.cache[J]=Q;return Q}return new n6(J,$)}static getEmpty(){return this.empty}constructor(J,$){this.items=J,this.additionalItems=$}add(J,$){let Q=$.getKey(J),X=Q>>5;if(X===0){let Z=1<<Q|this.items;if(Z===this.items)return this;return n6.create(Z,this.additionalItems)}X--;let Y=this.additionalItems.slice(0);while(Y.length<X)Y.push(0);return Y[X]|=1<<(Q&31),n6.create(this.items,Y)}merge(J){let $=this.items|J.items;if(this.additionalItems===FA&&J.additionalItems===FA){if($===this.items)return this;if($===J.items)return J;return n6.create($,FA)}let Q=[];for(let X=0;X<Math.max(this.additionalItems.length,J.additionalItems.length);X++){let Y=this.additionalItems[X]||0,Z=J.additionalItems[X]||0;Q.push(Y|Z)}return n6.create($,Q)}intersects(J){if((this.items&J.items)!==0)return!0;for(let $=0;$<Math.min(this.additionalItems.length,J.additionalItems.length);$++)if((this.additionalItems[$]&J.additionalItems[$])!==0)return!0;return!1}}class nT{constructor(){this.items=new Map}getKey(J){let $=this.items.get(J);if($===void 0)$=this.items.size,this.items.set(J,$);return $}}var FA,iT;var Fq=E(()=>{FA=[];n6.cache=Array(129);n6.empty=n6.create(0,FA);iT={getKey(J){return J}}});class AA{get length(){return this._length}constructor(J){this._length=J}}var Kq,Q4,cH,bu,KA,Su,P70,PA,f$,lH,oT;var dH=E(()=>{T1();C4();h$();Fq();Kq=class Kq extends AA{static create(J,$,Q){let X=J.length;if($)X=I6(X,$.length);if(Q)X=I6(X,Q.length);return new Kq(X,J,$,Q,$?$.missingOpeningBracketIds:n6.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(J){switch(J){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw Error("Invalid child index")}get children(){let J=[];if(J.push(this.openingBracket),this.child)J.push(this.child);if(this.closingBracket)J.push(this.closingBracket);return J}constructor(J,$,Q,X,Y){super(J);this.openingBracket=$,this.child=Q,this.closingBracket=X,this.missingOpeningBracketIds=Y}canBeReused(J){if(this.closingBracket===null)return!1;if(J.intersects(this.missingOpeningBracketIds))return!1;return!0}deepClone(){return new Kq(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(J,$){return this.child?this.child.computeMinIndentation(I6(J,this.openingBracket.length),$):Number.MAX_SAFE_INTEGER}};Q4=class Q4 extends AA{static create23(J,$,Q,X=!1){let{length:Y,missingOpeningBracketIds:Z}=J;if(J.listHeight!==$.listHeight)throw Error("Invalid list heights");if(Y=I6(Y,$.length),Z=Z.merge($.missingOpeningBracketIds),Q){if(J.listHeight!==Q.listHeight)throw Error("Invalid list heights");Y=I6(Y,Q.length),Z=Z.merge(Q.missingOpeningBracketIds)}return X?new bu(Y,J.listHeight+1,J,$,Q,Z):new cH(Y,J.listHeight+1,J,$,Q,Z)}static getEmpty(){return new Su(Q8,0,[],n6.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(J,$,Q){super(J);this.listHeight=$,this._missingOpeningBracketIds=Q,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let J=this.childrenLength;if(J===0)return;let $=this.getChild(J-1),Q=$.kind===4?$.toMutable():$;if($!==Q)this.setChild(J-1,Q);return Q}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let $=this.getChild(0),Q=$.kind===4?$.toMutable():$;if($!==Q)this.setChild(0,Q);return Q}canBeReused(J){if(J.intersects(this.missingOpeningBracketIds))return!1;if(this.childrenLength===0)return!1;let $=this;while($.kind===4){let Q=$.childrenLength;if(Q===0)throw new l1;$=$.getChild(Q-1)}return $.canBeReused(J)}handleChildrenChanged(){this.throwIfImmutable();let J=this.childrenLength,$=this.getChild(0).length,Q=this.getChild(0).missingOpeningBracketIds;for(let X=1;X<J;X++){let Y=this.getChild(X);$=I6($,Y.length),Q=Q.merge(Y.missingOpeningBracketIds)}this._length=$,this._missingOpeningBracketIds=Q,this.cachedMinIndentation=-1}computeMinIndentation(J,$){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let Q=Number.MAX_SAFE_INTEGER,X=J;for(let Y=0;Y<this.childrenLength;Y++){let Z=this.getChild(Y);if(Z)Q=Math.min(Q,Z.computeMinIndentation(X,$)),X=I6(X,Z.length)}return this.cachedMinIndentation=Q,Q}};cH=class cH extends Q4{get childrenLength(){return this._item3!==null?3:2}getChild(J){switch(J){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw Error("Invalid child index")}setChild(J,$){switch(J){case 0:this._item1=$;return;case 1:this._item2=$;return;case 2:this._item3=$;return}throw Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(J,$,Q,X,Y,Z){super(J,$,Z);this._item1=Q,this._item2=X,this._item3=Y}deepClone(){return new cH(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){if(this._item3)throw Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=J,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let J=this._item3;return this._item3=null,this.handleChildrenChanged(),J}prependChildOfSameHeight(J){if(this._item3)throw Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=J,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let J=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),J}toMutable(){return this}};bu=class bu extends cH{toMutable(){return new cH(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw Error("this instance is immutable")}};KA=class KA extends Q4{get childrenLength(){return this._children.length}getChild(J){return this._children[J]}setChild(J,$){this._children[J]=$}get children(){return this._children}constructor(J,$,Q,X){super(J,$,X);this._children=Q}deepClone(){let J=Array(this._children.length);for(let $=0;$<this._children.length;$++)J[$]=this._children[$].deepClone();return new KA(this.length,this.listHeight,J,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){this.throwIfImmutable(),this._children.push(J),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let J=this._children.pop();return this.handleChildrenChanged(),J}prependChildOfSameHeight(J){this.throwIfImmutable(),this._children.unshift(J),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let J=this._children.shift();return this.handleChildrenChanged(),J}toMutable(){return this}};Su=class Su extends KA{toMutable(){return new KA(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw Error("this instance is immutable")}};P70=[];PA=class PA extends AA{get listHeight(){return 0}get childrenLength(){return 0}getChild(J){return null}get children(){return P70}deepClone(){return this}};f$=class f$ extends PA{get kind(){return 0}get missingOpeningBracketIds(){return n6.getEmpty()}canBeReused(J){return!0}computeMinIndentation(J,$){let Q=H7(J),X=(Q.columnCount===0?Q.lineCount:Q.lineCount+1)+1,Y=Iu(I6(J,this.length))+1,Z=Number.MAX_SAFE_INTEGER;for(let G=X;G<=Y;G++){let q=$.getLineFirstNonWhitespaceColumn(G),U=$.getLineContent(G);if(q===0)continue;let z=i1.visibleColumnFromColumn(U,q,$.getOptions().tabSize);Z=Math.min(Z,z)}return Z}};lH=class lH extends PA{static create(J,$,Q){return new lH(J,$,Q)}get kind(){return 1}get missingOpeningBracketIds(){return n6.getEmpty()}constructor(J,$,Q){super(J);this.bracketInfo=$,this.bracketIds=Q}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(J){return!1}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}};oT=class oT extends PA{get kind(){return 3}constructor(J,$){super($);this.missingOpeningBracketIds=J}canBeReused(J){return!J.intersects(this.missingOpeningBracketIds)}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}}});class g${constructor(J,$,Q,X,Y){this.length=J,this.kind=$,this.bracketId=Q,this.bracketIds=X,this.astNode=Y}}class tT{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.reader=new Cu(this.textModel,this.bracketTokens),this._offset=Q8,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return E6(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(J){this.didPeek=!1,this._offset=I6(this._offset,J);let $=H7(this._offset);this.reader.setPosition($.lineCount,$.columnCount)}read(){let J;if(this.peeked)this.didPeek=!1,J=this.peeked;else J=this.reader.read();if(J)this._offset=I6(this._offset,J.length);return J}peek(){if(!this.didPeek)this.peeked=this.reader.read(),this.didPeek=!0;return this.peeked}}class Cu{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}setPosition(J,$){if(J===this.lineIdx){if(this.lineCharOffset=$,this.line!==null)this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)}else this.lineIdx=J,this.lineCharOffset=$,this.line=null;this.peekedToken=null}read(){if(this.peekedToken){let Y=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=dT(Y.length),Y}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;if(this.line===null)this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset);let J=this.lineIdx,$=this.lineCharOffset,Q=0;while(!0){let Y=this.lineTokens,Z=Y.getCount(),G=null;if(this.lineTokenOffset<Z){let q=Y.getMetadata(this.lineTokenOffset);while(this.lineTokenOffset+1<Z&&q===Y.getMetadata(this.lineTokenOffset+1))this.lineTokenOffset++;let U=t5.getTokenType(q)===0,z=t5.containsBalancedBrackets(q),H=Y.getEndOffset(this.lineTokenOffset);if(z&&U&&this.lineCharOffset<H){let j=Y.getLanguageId(this.lineTokenOffset),B=this.line.substring(this.lineCharOffset,H),V=this.bracketTokens.getSingleLanguageBracketTokens(j),W=V.regExpGlobal;if(W){W.lastIndex=0;let K=W.exec(B);if(K){if(G=V.getToken(K[0]),G)this.lineCharOffset+=K.index}}}if(Q+=H-this.lineCharOffset,G)if(J!==this.lineIdx||$!==this.lineCharOffset){this.peekedToken=G;break}else return this.lineCharOffset+=dT(G.length),G;else this.lineTokenOffset++,this.lineCharOffset=H}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,Q+=33,Q>1000)break}if(Q>1500)break}let X=Eu(J,$,this.lineIdx,this.lineCharOffset);return new g$(X,0,-1,n6.getEmpty(),new f$(X))}}class eT{constructor(J,$){this.text=J,this._offset=Q8,this.idx=0;let Q=$.getRegExpStr(),X=Q?new RegExp(Q+`|
`,"gi"):null,Y=[],Z,G=0,q=0,U=0,z=0,H=[];for(let V=0;V<60;V++)H.push(new g$(E6(0,V),0,-1,n6.getEmpty(),new f$(E6(0,V))));let j=[];for(let V=0;V<60;V++)j.push(new g$(E6(1,V),0,-1,n6.getEmpty(),new f$(E6(1,V))));if(X){X.lastIndex=0;while((Z=X.exec(J))!==null){let V=Z.index,W=Z[0];if(W===`
`)G++,q=V+1;else{if(U!==V){let K;if(z===G){let A=V-U;if(A<H.length)K=H[A];else{let F=E6(0,A);K=new g$(F,0,-1,n6.getEmpty(),new f$(F))}}else{let A=G-z,F=V-q;if(A===1&&F<j.length)K=j[F];else{let P=E6(A,F);K=new g$(P,0,-1,n6.getEmpty(),new f$(P))}}Y.push(K)}Y.push($.getToken(W)),U=V+W.length,z=G}}}let B=J.length;if(U!==B){let V=z===G?E6(0,B-U):E6(G-z,B-q);Y.push(new g$(V,0,-1,n6.getEmpty(),new f$(V)))}this.length=E6(G,B-q),this.tokens=Y}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(J){throw new BM}}var Jw=E(()=>{T1();dH();h$();Fq()});class $w{static createFromLanguage(J,$){function Q(Y){return $.getKey(`${Y.languageId}:::${Y.bracketText}`)}let X=new Map;for(let Y of J.bracketsNew.openingBrackets){let Z=E6(0,Y.bracketText.length),G=Q(Y),q=n6.getEmpty().add(G,iT);X.set(Y.bracketText,new g$(Z,1,G,q,lH.create(Z,Y,q)))}for(let Y of J.bracketsNew.closingBrackets){let Z=E6(0,Y.bracketText.length),G=n6.getEmpty(),q=Y.getOpeningBrackets();for(let U of q)G=G.add(Q(U),iT);X.set(Y.bracketText,new g$(Z,2,Q(q[0]),G,lH.create(Z,Y,G)))}return new $w(X)}constructor(J){this.map=J,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;else{let J=[...this.map.keys()];return J.sort(),J.reverse(),J.map(($)=>D70($)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let J=this.getRegExpStr();this._regExpGlobal=J?new RegExp(J,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(J){return this.map.get(J.toLowerCase())}findClosingTokenText(J){for(let[$,Q]of this.map)if(Q.kind===2&&Q.bracketIds.intersects(J))return $;return}get isEmpty(){return this.map.size===0}}function D70(J){let $=Y7(J);if(/^[\w ]+/.test(J))$=`\\b${$}`;if(/[\w ]+$/.test(J))$=`${$}\\b`;return $}class Qw{constructor(J,$){this.denseKeyProvider=J,this.getLanguageConfiguration=$,this.languageIdToBracketTokens=new Map}didLanguageChange(J){return this.languageIdToBracketTokens.has(J)}getSingleLanguageBracketTokens(J){let $=this.languageIdToBracketTokens.get(J);if(!$)$=$w.createFromLanguage(this.getLanguageConfiguration(J),this.denseKeyProvider),this.languageIdToBracketTokens.set(J,$);return $}}var vu=E(()=>{G1();dH();h$();Fq();Jw()});function fu(J){if(J.length===0)return null;if(J.length===1)return J[0];let $=0;function Q(){if($>=J.length)return null;let G=$,q=J[G].listHeight;$++;while($<J.length&&J[$].listHeight===q)$++;if($-G>=2)return Yw(G===0&&$===J.length?J:J.slice(G,$),!1);else return J[G]}let X=Q(),Y=Q();if(!Y)return X;for(let G=Q();G;G=Q())if(hu(X,Y)<=hu(Y,G))X=Xw(X,Y),Y=G;else Y=Xw(Y,G);return Xw(X,Y)}function Yw(J,$=!1){if(J.length===0)return null;if(J.length===1)return J[0];let Q=J.length;while(Q>3){let X=Q>>1;for(let Y=0;Y<X;Y++){let Z=Y<<1;J[Y]=Q4.create23(J[Z],J[Z+1],Z+3===Q?J[Z+2]:null,$)}Q=X}return Q4.create23(J[0],J[1],Q>=3?J[2]:null,$)}function hu(J,$){return Math.abs(J.listHeight-$.listHeight)}function Xw(J,$){if(J.listHeight===$.listHeight)return Q4.create23(J,$,null,!1);else if(J.listHeight>$.listHeight)return R70(J,$);else return M70($,J)}function R70(J,$){J=J.toMutable();let Q=J,X=[],Y;while(!0){if($.listHeight===Q.listHeight){Y=$;break}if(Q.kind!==4)throw Error("unexpected");X.push(Q),Q=Q.makeLastElementMutable()}for(let Z=X.length-1;Z>=0;Z--){let G=X[Z];if(Y)if(G.childrenLength>=3)Y=Q4.create23(G.unappendChild(),Y,null,!1);else G.appendChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return Q4.create23(J,Y,null,!1);else return J}function M70(J,$){J=J.toMutable();let Q=J,X=[];while($.listHeight!==Q.listHeight){if(Q.kind!==4)throw Error("unexpected");X.push(Q),Q=Q.makeFirstElementMutable()}let Y=$;for(let Z=X.length-1;Z>=0;Z--){let G=X[Z];if(Y)if(G.childrenLength>=3)Y=Q4.create23(Y,G.unprependChild(),null,!1);else G.prependChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return Q4.create23(Y,J,null,!1);else return J}var gu=E(()=>{dH()});class Gw{constructor(J){this.lastOffset=Q8,this.nextNodes=[J],this.offsets=[Q8],this.idxs=[]}readLongestNodeAt(J,$){if(HX(J,this.lastOffset))throw Error("Invalid offset");this.lastOffset=J;while(!0){let Q=sH(this.nextNodes);if(!Q)return;let X=sH(this.offsets);if(HX(J,X))return;if(HX(X,J))if(I6(X,Q.length)<=J)this.nextNodeAfterCurrent();else{let Y=Zw(Q);if(Y!==-1)this.nextNodes.push(Q.getChild(Y)),this.offsets.push(X),this.idxs.push(Y);else this.nextNodeAfterCurrent()}else if($(Q))return this.nextNodeAfterCurrent(),Q;else{let Y=Zw(Q);if(Y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(Q.getChild(Y)),this.offsets.push(X),this.idxs.push(Y)}}}nextNodeAfterCurrent(){while(!0){let J=sH(this.offsets),$=sH(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let Q=sH(this.nextNodes),X=Zw(Q,this.idxs[this.idxs.length-1]);if(X!==-1){this.nextNodes.push(Q.getChild(X)),this.offsets.push(I6(J,$.length)),this.idxs[this.idxs.length-1]=X;break}else this.idxs.pop()}}}function Zw(J,$=-1){while(!0){if($++,$>=J.childrenLength)return-1;if(J.getChild($))return $}}function sH(J){return J.length>0?J[J.length-1]:void 0}var pu=E(()=>{h$()});function qw(J,$,Q,X){return new mu(J,$,Q,X).parseDocument()}class mu{constructor(J,$,Q,X){if(this.tokenizer=J,this.createImmutableLists=X,this._itemsConstructed=0,this._itemsFromCache=0,Q&&X)throw Error("Not supported");this.oldNodeReader=Q?new Gw(Q):void 0,this.positionMapper=new aT($)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let J=this.parseList(n6.getEmpty(),0);if(!J)J=Q4.getEmpty();return J}parseList(J,$){let Q=[];while(!0){let Y=this.tryReadChildFromCache(J);if(!Y){let Z=this.tokenizer.peek();if(!Z||Z.kind===2&&Z.bracketIds.intersects(J))break;Y=this.parseChild(J,$+1)}if(Y.kind===4&&Y.childrenLength===0)continue;Q.push(Y)}return this.oldNodeReader?fu(Q):Yw(Q,this.createImmutableLists)}tryReadChildFromCache(J){if(this.oldNodeReader){let $=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if($===null||!Wq($)){let Q=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(X)=>{if($!==null&&!HX(X.length,$))return!1;return X.canBeReused(J)});if(Q)return this._itemsFromCache++,this.tokenizer.skip(Q.length),Q}}return}parseChild(J,$){this._itemsConstructed++;let Q=this.tokenizer.read();switch(Q.kind){case 2:return new oT(Q.bracketIds,Q.length);case 0:return Q.astNode;case 1:{if($>300)return new f$(Q.length);let X=J.merge(Q.bracketIds),Y=this.parseList(X,$+1),Z=this.tokenizer.peek();if(Z&&Z.kind===2&&(Z.bracketId===Q.bracketId||Z.bracketIds.intersects(Q.bracketIds)))return this.tokenizer.read(),Kq.create(Q.astNode,Y,Z.astNode);else return Kq.create(Q.astNode,Y,null)}default:throw Error("unexpected")}}}var uu=E(()=>{dH();uH();Fq();h$();gu();pu()});function Aq(J,$){if(J.length===0)return $;if($.length===0)return J;let Q=new $7(cu(J)),X=cu($);X.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let Y=Q.dequeue();function Z(z){if(z===void 0){let j=Q.takeWhile((B)=>!0)||[];if(Y)j.unshift(Y);return j}let H=[];while(Y&&!Wq(z)){let[j,B]=Y.splitAt(z);H.push(j),z=u2(j.lengthAfter,z),Y=B!==null&&B!==void 0?B:Q.dequeue()}if(!Wq(z))H.push(new bY(!1,z,z));return H}let G=[];function q(z,H,j){if(G.length>0&&sT(G[G.length-1].endOffset,z)){let B=G[G.length-1];G[G.length-1]=new g4(B.startOffset,H,I6(B.newLength,j))}else G.push({startOffset:z,endOffset:H,newLength:j})}let U=Q8;for(let z of X){let H=Z(z.lengthBefore);if(z.modified){let j=yu(H,(V)=>V.lengthBefore),B=I6(U,j);q(U,B,z.lengthAfter),U=B}else for(let j of H){let B=U;if(U=I6(U,j.lengthBefore),j.modified)q(B,U,j.lengthAfter)}}return G}class bY{constructor(J,$,Q){this.modified=J,this.lengthBefore=$,this.lengthAfter=Q}splitAt(J){let $=u2(J,this.lengthAfter);if(sT($,Q8))return[this,void 0];else if(this.modified)return[new bY(this.modified,this.lengthBefore,J),new bY(this.modified,Q8,$)];else return[new bY(this.modified,J,J),new bY(this.modified,$,$)]}toString(){return`${this.modified?"M":"U"}:${H7(this.lengthBefore)} -> ${H7(this.lengthAfter)}`}}function cu(J){let $=[],Q=Q8;for(let X of J){let Y=u2(Q,X.startOffset);if(!Wq(Y))$.push(new bY(!1,Y,Y));let Z=u2(X.startOffset,X.endOffset);$.push(new bY(!0,Z,X.newLength)),Q=X.endOffset}return $}var Uw=E(()=>{B1();uH();h$()});function lu(J,$,Q,X){if(J.kind===4||J.kind===2){let Y=[];for(let Z of J.children)Q=I6($,Z.length),Y.push({nodeOffsetStart:$,nodeOffsetEnd:Q}),$=Q;for(let Z=Y.length-1;Z>=0;Z--){let{nodeOffsetStart:G,nodeOffsetEnd:q}=Y[Z];if(HX(G,X)){let U=lu(J.children[Z],G,q,X);if(U)return U}}return null}else if(J.kind===3)return null;else if(J.kind===1){let Y=xY($,Q);return{bracketInfo:J.bracketInfo,range:Y}}return null}function du(J,$,Q,X){if(J.kind===4||J.kind===2){for(let Y of J.children){if(Q=I6($,Y.length),HX(X,Q)){let Z=du(Y,$,Q,X);if(Z)return Z}$=Q}return null}else if(J.kind===3)return null;else if(J.kind===1){let Y=xY($,Q);return{bracketInfo:J.bracketInfo,range:Y}}return null}function zw(J,$,Q,X,Y,Z,G,q,U,z,H=!1){if(G>200)return!0;J:while(!0)switch(J.kind){case 4:{let j=J.childrenLength;for(let B=0;B<j;B++){let V=J.getChild(B);if(!V)continue;if(Q=I6($,V.length),IY($,Y)&&Bq(Q,X)){if(Bq(Q,Y)){J=V;continue J}if(!zw(V,$,Q,X,Y,Z,G,0,U,z))return!1}$=Q}return!0}case 2:{let j=!z||!J.closingBracket||J.closingBracket.bracketInfo.closesColorized(J.openingBracket.bracketInfo),B=0;if(U){let W=U.get(J.openingBracket.text);if(W===void 0)W=0;if(B=W,j)W++,U.set(J.openingBracket.text,W)}let V=J.childrenLength;for(let W=0;W<V;W++){let K=J.getChild(W);if(!K)continue;if(Q=I6($,K.length),IY($,Y)&&Bq(Q,X)){if(Bq(Q,Y)&&K.kind!==1){if(J=K,j)G++,q=B+1;else q=B;continue J}if(j||K.kind!==1||!J.closingBracket){if(!zw(K,$,Q,X,Y,Z,j?G+1:G,j?B+1:B,U,z,!J.closingBracket))return!1}}$=Q}return U===null||U===void 0||U.set(J.openingBracket.text,B),!0}case 3:{let j=xY($,Q);return Z(new BA(j,G-1,0,!0))}case 1:{let j=xY($,Q);return Z(new BA(j,G-1,q-1,H))}case 0:return!0}}class su{constructor(J,$,Q){this.push=J,this.includeMinIndentation=$,this.textModel=Q}}function Hw(J,$,Q,X,Y,Z,G,q){var U;if(G>200)return!0;let z=!0;if(J.kind===2){let H=0;if(q){let V=q.get(J.openingBracket.text);if(V===void 0)V=0;H=V,V++,q.set(J.openingBracket.text,V)}let j=I6($,J.openingBracket.length),B=-1;if(Z.includeMinIndentation)B=J.computeMinIndentation($,Z.textModel);if(z=Z.push(new lT(xY($,Q),xY($,j),J.closingBracket?xY(I6(j,((U=J.child)===null||U===void 0?void 0:U.length)||Q8),Q):void 0,G,H,J,B)),$=j,z&&J.child){let V=J.child;if(Q=I6($,V.length),IY($,Y)&&Bq(Q,X)){if(z=Hw(V,$,Q,X,Y,Z,G+1,q),!z)return!1}}q===null||q===void 0||q.set(J.openingBracket.text,H)}else{let H=$;for(let j of J.children){let B=H;if(H=I6(H,j.length),IY(B,Y)&&IY(X,H)){if(z=Hw(j,B,H,X,Y,Z,G,q),!z)return!1}}}return z}var jw;var au=E(()=>{E0();B0();ku();uH();vu();h$();uu();Fq();Jw();B1();Uw();jw=class jw extends r{didLanguageChange(J){return this.brackets.didLanguageChange(J)}constructor(J,$){super();if(this.textModel=J,this.getLanguageConfiguration=$,this.didChangeEmitter=new p,this.denseKeyProvider=new nT,this.brackets=new Qw(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],!J.tokenization.hasTokens){let Q=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),X=new eT(this.textModel.getValue(),Q);this.initialAstWithoutTokens=qw(X,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else if(J.tokenization.backgroundTokenizationState===2)this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1);else this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){let J=this.initialAstWithoutTokens===void 0;if(this.initialAstWithoutTokens=void 0,!J)this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:J}){let $=J.map((Q)=>new g4(E6(Q.fromLineNumber-1,0),E6(Q.toLineNumber,0),E6(Q.toLineNumber-Q.fromLineNumber+1,0)));if(this.handleEdits($,!0),!this.initialAstWithoutTokens)this.didChangeEmitter.fire()}handleContentChanged(J){let $=g4.fromModelContentChanges(J.changes);this.handleEdits($,!1)}handleEdits(J,$){let Q=Aq(this.queuedTextEdits,J);if(this.queuedTextEdits=Q,this.initialAstWithoutTokens&&!$)this.queuedTextEditsForInitialAstWithoutTokens=Aq(this.queuedTextEditsForInitialAstWithoutTokens,J)}flushQueue(){if(this.queuedTextEdits.length>0)this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[];if(this.queuedTextEditsForInitialAstWithoutTokens.length>0){if(this.initialAstWithoutTokens)this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1);this.queuedTextEditsForInitialAstWithoutTokens=[]}}parseDocumentFromTextBuffer(J,$,Q){let Y=$,Z=new tT(this.textModel,this.brackets);return qw(Z,J,Y,Q)}getBracketsInRange(J,$){this.flushQueue();let Q=E6(J.startLineNumber-1,J.startColumn-1),X=E6(J.endLineNumber-1,J.endColumn-1);return new j4((Y)=>{let Z=this.initialAstWithoutTokens||this.astWithTokens;zw(Z,Q8,Z.length,Q,X,Y,0,0,new Map,$)})}getBracketPairsInRange(J,$){this.flushQueue();let Q=yY(J.getStartPosition()),X=yY(J.getEndPosition());return new j4((Y)=>{let Z=this.initialAstWithoutTokens||this.astWithTokens,G=new su(Y,$,this.textModel);Hw(Z,Q8,Z.length,Q,X,G,0,new Map)})}getFirstBracketAfter(J){this.flushQueue();let $=this.initialAstWithoutTokens||this.astWithTokens;return du($,Q8,$.length,yY(J))}getFirstBracketBefore(J){this.flushQueue();let $=this.initialAstWithoutTokens||this.astWithTokens;return lu($,Q8,$.length,yY(J))}}});function O70(J,$){return{object:J,dispose:()=>$===null||$===void 0?void 0:$.dispose()}}function Vw(J){if(typeof J>"u")return()=>!0;else{let $=Date.now();return()=>{return Date.now()-$<=J}}}class p${constructor(){this._searchCanceledBrand=void 0}}function DA(J){if(J instanceof p$)return null;return J}var Ww;var ru=E(()=>{B1();E0();B0();e0();fF();au();Ww=class Ww extends r{get canBuildAST(){return this.textModel.getValueLength()<=5000000}constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$,this.bracketPairsTree=this._register(new r5),this.onDidChangeEmitter=new p,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((Q)=>{var X;if(!Q.languageId||((X=this.bracketPairsTree.value)===null||X===void 0?void 0:X.object.didLanguageChange(Q.languageId)))this.bracketPairsTree.clear(),this.updateBracketPairsTree()}))}handleDidChangeOptions(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleContentChanged(J)}handleDidChangeBackgroundTokenizationState(){var J;(J=this.bracketPairsTree.value)===null||J===void 0||J.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleDidChangeTokens(J)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){let J=new q0;this.bracketPairsTree.value=O70(J.add(new jw(this.textModel,($)=>{return this.languageConfigurationService.getLanguageConfiguration($)})),J),J.add(this.bracketPairsTree.value.object.onDidChange(($)=>this.onDidChangeEmitter.fire($))),this.onDidChangeEmitter.fire()}}else if(this.bracketPairsTree.value)this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire()}getBracketPairsInRange(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!1))||j4.empty}getBracketPairsInRangeWithMinIndentation(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!0))||j4.empty}getBracketsInRange(J,$=!1){var Q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((Q=this.bracketPairsTree.value)===null||Q===void 0?void 0:Q.object.getBracketsInRange(J,$))||j4.empty}findMatchingBracketUp(J,$,Q){let X=this.textModel.validatePosition($),Y=this.textModel.getLanguageIdAtPosition(X.lineNumber,X.column);if(this.canBuildAST){let Z=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew.getClosingBracketInfo(J);if(!Z)return null;let G=this.getBracketPairsInRange(v.fromPositions($,$)).findLast((q)=>Z.closes(q.openingBracketInfo));if(G)return G.openingBracketRange;return null}else{let Z=J.toLowerCase(),G=this.languageConfigurationService.getLanguageConfiguration(Y).brackets;if(!G)return null;let q=G.textIsBracket[Z];if(!q)return null;return DA(this._findMatchingBracketUp(q,X,Vw(Q)))}}matchBracket(J,$){if(this.canBuildAST){let Q=this.getBracketPairsInRange(v.fromPositions(J,J)).filter((X)=>X.closingBracketRange!==void 0&&(X.openingBracketRange.containsPosition(J)||X.closingBracketRange.containsPosition(J))).findLastMaxBy(v7((X)=>X.openingBracketRange.containsPosition(J)?X.openingBracketRange:X.closingBracketRange,v.compareRangesUsingStarts));if(Q)return[Q.openingBracketRange,Q.closingBracketRange];return null}else{let Q=Vw($);return this._matchBracket(this.textModel.validatePosition(J),Q)}}_establishBracketSearchOffsets(J,$,Q,X){let Y=$.getCount(),Z=$.getLanguageId(X),G=Math.max(0,J.column-1-Q.maxBracketLength);for(let U=X-1;U>=0;U--){let z=$.getEndOffset(U);if(z<=G)break;if(E4($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){G=z;break}}let q=Math.min($.getLineContent().length,J.column-1+Q.maxBracketLength);for(let U=X+1;U<Y;U++){let z=$.getStartOffset(U);if(z>=q)break;if(E4($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){q=z;break}}return{searchStartOffset:G,searchEndOffset:q}}_matchBracket(J,$){let Q=J.lineNumber,X=this.textModel.tokenization.getLineTokens(Q),Y=this.textModel.getLineContent(Q),Z=X.findTokenIndexAtOffset(J.column-1);if(Z<0)return null;let G=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId(Z)).brackets;if(G&&!E4(X.getStandardTokenType(Z))){let{searchStartOffset:q,searchEndOffset:U}=this._establishBracketSearchOffsets(J,X,G,Z),z=null;while(!0){let H=c7.findNextBracketInRange(G.forwardRegex,Q,Y,q,U);if(!H)break;if(H.startColumn<=J.column&&J.column<=H.endColumn){let j=Y.substring(H.startColumn-1,H.endColumn-1).toLowerCase(),B=this._matchFoundBracket(H,G.textIsBracket[j],G.textIsOpenBracket[j],$);if(B){if(B instanceof p$)return null;z=B}}q=H.endColumn-1}if(z)return z}if(Z>0&&X.getStartOffset(Z)===J.column-1){let q=Z-1,U=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId(q)).brackets;if(U&&!E4(X.getStandardTokenType(q))){let{searchStartOffset:z,searchEndOffset:H}=this._establishBracketSearchOffsets(J,X,U,q),j=c7.findPrevBracketInRange(U.reversedRegex,Q,Y,z,H);if(j&&j.startColumn<=J.column&&J.column<=j.endColumn){let B=Y.substring(j.startColumn-1,j.endColumn-1).toLowerCase(),V=this._matchFoundBracket(j,U.textIsBracket[B],U.textIsOpenBracket[B],$);if(V){if(V instanceof p$)return null;return V}}}}return null}_matchFoundBracket(J,$,Q,X){if(!$)return null;let Y=Q?this._findMatchingBracketDown($,J.getEndPosition(),X):this._findMatchingBracketUp($,J.getStartPosition(),X);if(!Y)return null;if(Y instanceof p$)return Y;return[J,Y]}_findMatchingBracketUp(J,$,Q){let{languageId:X,reversedRegex:Y}=J,Z=-1,G=0,q=(U,z,H,j)=>{while(!0){if(Q&&++G%100===0&&!Q())return p$.INSTANCE;let B=c7.findPrevBracketInRange(Y,U,z,H,j);if(!B)break;let V=z.substring(B.startColumn-1,B.endColumn-1).toLowerCase();if(J.isOpen(V))Z++;else if(J.isClose(V))Z--;if(Z===0)return B;j=B.startColumn-1}return null};for(let U=$.lineNumber;U>=1;U--){let z=this.textModel.tokenization.getLineTokens(U),H=z.getCount(),j=this.textModel.getLineContent(U),B=H-1,V=j.length,W=j.length;if(U===$.lineNumber)B=z.findTokenIndexAtOffset($.column-1),V=$.column-1,W=$.column-1;let K=!0;for(;B>=0;B--){let A=z.getLanguageId(B)===X&&!E4(z.getStandardTokenType(B));if(A)if(K)V=z.getStartOffset(B);else V=z.getStartOffset(B),W=z.getEndOffset(B);else if(K&&V!==W){let F=q(U,j,V,W);if(F)return F}K=A}if(K&&V!==W){let A=q(U,j,V,W);if(A)return A}}return null}_findMatchingBracketDown(J,$,Q){let{languageId:X,forwardRegex:Y}=J,Z=1,G=0,q=(z,H,j,B)=>{while(!0){if(Q&&++G%100===0&&!Q())return p$.INSTANCE;let V=c7.findNextBracketInRange(Y,z,H,j,B);if(!V)break;let W=H.substring(V.startColumn-1,V.endColumn-1).toLowerCase();if(J.isOpen(W))Z++;else if(J.isClose(W))Z--;if(Z===0)return V;j=V.endColumn-1}return null},U=this.textModel.getLineCount();for(let z=$.lineNumber;z<=U;z++){let H=this.textModel.tokenization.getLineTokens(z),j=H.getCount(),B=this.textModel.getLineContent(z),V=0,W=0,K=0;if(z===$.lineNumber)V=H.findTokenIndexAtOffset($.column-1),W=$.column-1,K=$.column-1;let A=!0;for(;V<j;V++){let F=H.getLanguageId(V)===X&&!E4(H.getStandardTokenType(V));if(F)if(A)K=H.getEndOffset(V);else W=H.getStartOffset(V),K=H.getEndOffset(V);else if(A&&W!==K){let P=q(z,B,W,K);if(P)return P}A=F}if(A&&W!==K){let F=q(z,B,W,K);if(F)return F}}return null}findPrevBracket(J){var $;let Q=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketBefore(Q))||null;let X=null,Y=null,Z=null;for(let G=Q.lineNumber;G>=1;G--){let q=this.textModel.tokenization.getLineTokens(G),U=q.getCount(),z=this.textModel.getLineContent(G),H=U-1,j=z.length,B=z.length;if(G===Q.lineNumber){H=q.findTokenIndexAtOffset(Q.column-1),j=Q.column-1,B=Q.column-1;let W=q.getLanguageId(H);if(X!==W)X=W,Y=this.languageConfigurationService.getLanguageConfiguration(X).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(X).bracketsNew}let V=!0;for(;H>=0;H--){let W=q.getLanguageId(H);if(X!==W){if(Y&&Z&&V&&j!==B){let A=c7.findPrevBracketInRange(Y.reversedRegex,G,z,j,B);if(A)return this._toFoundBracket(Z,A);V=!1}X=W,Y=this.languageConfigurationService.getLanguageConfiguration(X).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(X).bracketsNew}let K=!!Y&&!E4(q.getStandardTokenType(H));if(K)if(V)j=q.getStartOffset(H);else j=q.getStartOffset(H),B=q.getEndOffset(H);else if(Z&&Y&&V&&j!==B){let A=c7.findPrevBracketInRange(Y.reversedRegex,G,z,j,B);if(A)return this._toFoundBracket(Z,A)}V=K}if(Z&&Y&&V&&j!==B){let W=c7.findPrevBracketInRange(Y.reversedRegex,G,z,j,B);if(W)return this._toFoundBracket(Z,W)}}return null}findNextBracket(J){var $;let Q=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketAfter(Q))||null;let X=this.textModel.getLineCount(),Y=null,Z=null,G=null;for(let q=Q.lineNumber;q<=X;q++){let U=this.textModel.tokenization.getLineTokens(q),z=U.getCount(),H=this.textModel.getLineContent(q),j=0,B=0,V=0;if(q===Q.lineNumber){j=U.findTokenIndexAtOffset(Q.column-1),B=Q.column-1,V=Q.column-1;let K=U.getLanguageId(j);if(Y!==K)Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}let W=!0;for(;j<z;j++){let K=U.getLanguageId(j);if(Y!==K){if(G&&Z&&W&&B!==V){let F=c7.findNextBracketInRange(Z.forwardRegex,q,H,B,V);if(F)return this._toFoundBracket(G,F);W=!1}Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}let A=!!Z&&!E4(U.getStandardTokenType(j));if(A)if(W)V=U.getEndOffset(j);else B=U.getStartOffset(j),V=U.getEndOffset(j);else if(G&&Z&&W&&B!==V){let F=c7.findNextBracketInRange(Z.forwardRegex,q,H,B,V);if(F)return this._toFoundBracket(G,F)}W=A}if(G&&Z&&W&&B!==V){let K=c7.findNextBracketInRange(Z.forwardRegex,q,H,B,V);if(K)return this._toFoundBracket(G,K)}}return null}findEnclosingBrackets(J,$){let Q=this.textModel.validatePosition(J);if(this.canBuildAST){let B=v.fromPositions(Q),V=this.getBracketPairsInRange(v.fromPositions(Q,Q)).findLast((W)=>W.closingBracketRange!==void 0&&W.range.strictContainsRange(B));if(V)return[V.openingBracketRange,V.closingBracketRange];return null}let X=Vw($),Y=this.textModel.getLineCount(),Z=new Map,G=[],q=(B,V)=>{if(!Z.has(B)){let W=[];for(let K=0,A=V?V.brackets.length:0;K<A;K++)W[K]=0;Z.set(B,W)}G=Z.get(B)},U=0,z=(B,V,W,K,A)=>{while(!0){if(X&&++U%100===0&&!X())return p$.INSTANCE;let F=c7.findNextBracketInRange(B.forwardRegex,V,W,K,A);if(!F)break;let P=W.substring(F.startColumn-1,F.endColumn-1).toLowerCase(),R=B.textIsBracket[P];if(R){if(R.isOpen(P))G[R.index]++;else if(R.isClose(P))G[R.index]--;if(G[R.index]===-1)return this._matchFoundBracket(F,R,!1,X)}K=F.endColumn-1}return null},H=null,j=null;for(let B=Q.lineNumber;B<=Y;B++){let V=this.textModel.tokenization.getLineTokens(B),W=V.getCount(),K=this.textModel.getLineContent(B),A=0,F=0,P=0;if(B===Q.lineNumber){A=V.findTokenIndexAtOffset(Q.column-1),F=Q.column-1,P=Q.column-1;let D=V.getLanguageId(A);if(H!==D)H=D,j=this.languageConfigurationService.getLanguageConfiguration(H).brackets,q(H,j)}let R=!0;for(;A<W;A++){let D=V.getLanguageId(A);if(H!==D){if(j&&R&&F!==P){let O=z(j,B,K,F,P);if(O)return DA(O);R=!1}H=D,j=this.languageConfigurationService.getLanguageConfiguration(H).brackets,q(H,j)}let _=!!j&&!E4(V.getStandardTokenType(A));if(_)if(R)P=V.getEndOffset(A);else F=V.getStartOffset(A),P=V.getEndOffset(A);else if(j&&R&&F!==P){let O=z(j,B,K,F,P);if(O)return DA(O)}R=_}if(j&&R&&F!==P){let D=z(j,B,K,F,P);if(D)return DA(D)}}return null}_toFoundBracket(J,$){if(!$)return null;let Q=this.textModel.getValueInRange($);Q=Q.toLowerCase();let X=J.getBracketInfo(Q);if(!X)return null;return{range:$,bracketInfo:X}}};p$.INSTANCE=new p$});class Fw{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(J,$){if(J.isInvalid)return this.unexpectedClosingBracketClassName;return this.getInlineClassNameOfLevel($?J.nestingLevelOfEqualBracketType:J.nestingLevel)}getInlineClassNameOfLevel(J){return`bracket-highlighting-${J%30}`}}var Bw;var iu=E(()=>{E0();B0();e0();yJ();G5();Bw=class Bw extends r{constructor(J){super();this.textModel=J,this.colorProvider=new Fw,this.onDidChangeEmitter=new p,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=J.getOptions().bracketPairColorizationOptions,this._register(J.bracketPairs.onDidChange(($)=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(J){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(J,$,Q,X){if(X)return[];if($===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.textModel.bracketPairs.getBracketsInRange(J,!0).map((Z)=>({id:`bracket${Z.range.toString()}-${Z.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Z,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Z.range})).toArray()}getAllDecorations(J,$){if(J===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.getDecorationsInRange(new v(1,1,this.textModel.getLineCount(),1),J,$)}};i8((J,$)=>{let Q=[mK,uK,cK,lK,dK,sK],X=new Fw;$.addRule(`.monaco-editor .${X.unexpectedClosingBracketClassName} { color: ${J.getColor(up)}; }`);let Y=Q.map((Z)=>J.getColor(Z)).filter((Z)=>!!Z).filter((Z)=>!Z.isTransparent());for(let Z=0;Z<30;Z++){let G=Y[Z%Y.length];$.addRule(`.monaco-editor .${X.getInlineClassNameOfLevel(Z)} { color: ${G}; }`)}})});function RA(J){return J.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class d5{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(J,$,Q,X){this.oldPosition=J,this.oldText=$,this.newPosition=Q,this.newText=X}toString(){if(this.oldText.length===0)return`(insert@${this.oldPosition} "${RA(this.newText)}")`;if(this.newText.length===0)return`(delete@${this.oldPosition} "${RA(this.oldText)}")`;return`(replace@${this.oldPosition} "${RA(this.oldText)}" with "${RA(this.newText)}")`}static _writeStringSize(J){return 4+2*J.length}static _writeString(J,$,Q){let X=$.length;l9(J,X,Q),Q+=4;for(let Y=0;Y<X;Y++)Zv(J,$.charCodeAt(Y),Q),Q+=2;return Q}static _readString(J,$){let Q=c9(J,$);return $+=4,qv(J,$,Q)}writeSize(){return 8+d5._writeStringSize(this.oldText)+d5._writeStringSize(this.newText)}write(J,$){return l9(J,this.oldPosition,$),$+=4,l9(J,this.newPosition,$),$+=4,$=d5._writeString(J,this.oldText,$),$=d5._writeString(J,this.newText,$),$}static read(J,$,Q){let X=c9(J,$);$+=4;let Y=c9(J,$);$+=4;let Z=d5._readString(J,$);$+=d5._writeStringSize(Z);let G=d5._readString(J,$);return $+=d5._writeStringSize(G),Q.push(new d5(X,Z,Y,G)),$}}function nu(J,$){if(J===null||J.length===0)return $;return new m$(J,$).compress()}class m${constructor(J,$){this._prevEdits=J,this._currEdits=$,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let J=0,$=0,Q=this._getPrev(J),X=this._getCurr($);while(J<this._prevLen||$<this._currLen){if(Q===null){this._acceptCurr(X),X=this._getCurr(++$);continue}if(X===null){this._acceptPrev(Q),Q=this._getPrev(++J);continue}if(X.oldEnd<=Q.newPosition){this._acceptCurr(X),X=this._getCurr(++$);continue}if(Q.newEnd<=X.oldPosition){this._acceptPrev(Q),Q=this._getPrev(++J);continue}if(X.oldPosition<Q.newPosition){let[U,z]=m$._splitCurr(X,Q.newPosition-X.oldPosition);this._acceptCurr(U),X=z;continue}if(Q.newPosition<X.oldPosition){let[U,z]=m$._splitPrev(Q,X.oldPosition-Q.newPosition);this._acceptPrev(U),Q=z;continue}let G,q;if(X.oldEnd===Q.newEnd)G=Q,q=X,Q=this._getPrev(++J),X=this._getCurr(++$);else if(X.oldEnd<Q.newEnd){let[U,z]=m$._splitPrev(Q,X.oldLength);G=U,q=X,Q=z,X=this._getCurr(++$)}else{let[U,z]=m$._splitCurr(X,Q.newLength);G=Q,q=U,Q=this._getPrev(++J),X=z}this._result[this._resultLen++]=new d5(G.oldPosition,G.oldText,q.newPosition,q.newText),this._prevDeltaOffset+=G.newLength-G.oldLength,this._currDeltaOffset+=q.newLength-q.oldLength}let Y=m$._merge(this._result);return m$._removeNoOps(Y)}_acceptCurr(J){this._result[this._resultLen++]=m$._rebaseCurr(this._prevDeltaOffset,J),this._currDeltaOffset+=J.newLength-J.oldLength}_getCurr(J){return J<this._currLen?this._currEdits[J]:null}_acceptPrev(J){this._result[this._resultLen++]=m$._rebasePrev(this._currDeltaOffset,J),this._prevDeltaOffset+=J.newLength-J.oldLength}_getPrev(J){return J<this._prevLen?this._prevEdits[J]:null}static _rebaseCurr(J,$){return new d5($.oldPosition-J,$.oldText,$.newPosition,$.newText)}static _rebasePrev(J,$){return new d5($.oldPosition,$.oldText,$.newPosition+J,$.newText)}static _splitPrev(J,$){let Q=J.newText.substr(0,$),X=J.newText.substr($);return[new d5(J.oldPosition,J.oldText,J.newPosition,Q),new d5(J.oldEnd,"",J.newPosition+$,X)]}static _splitCurr(J,$){let Q=J.oldText.substr(0,$),X=J.oldText.substr($);return[new d5(J.oldPosition,Q,J.newPosition,J.newText),new d5(J.oldPosition+$,X,J.newEnd,"")]}static _merge(J){if(J.length===0)return J;let $=[],Q=0,X=J[0];for(let Y=1;Y<J.length;Y++){let Z=J[Y];if(X.oldEnd===Z.oldPosition)X=new d5(X.oldPosition,X.oldText+Z.oldText,X.newPosition,X.newText+Z.newText);else $[Q++]=X,X=Z}return $[Q++]=X,$}static _removeNoOps(J){if(J.length===0)return J;let $=[],Q=0;for(let X=0;X<J.length;X++){let Y=J[X];if(Y.oldText===Y.newText)continue;$[Q++]=Y}return $}}var Kw=E(()=>{pz();G2()});function SY(J){return J===47||J===92}function Aw(J){return J.replace(/[\\/]/g,v6.sep)}function ou(J){if(J.indexOf("/")===-1)J=Aw(J);if(/^[a-zA-Z]:(\/|$)/.test(J))J="/"+J;return J}function Pw(J,$=v6.sep){if(!J)return"";let Q=J.length,X=J.charCodeAt(0);if(SY(X)){if(SY(J.charCodeAt(1))){if(!SY(J.charCodeAt(2))){let Z=3,G=Z;for(;Z<Q;Z++)if(SY(J.charCodeAt(Z)))break;if(G!==Z&&!SY(J.charCodeAt(Z+1))){Z+=1;for(;Z<Q;Z++)if(SY(J.charCodeAt(Z)))return J.slice(0,Z+1).replace(/[\\/]/g,$)}}}return $}else if(tu(X)){if(J.charCodeAt(1)===58)if(SY(J.charCodeAt(2)))return J.slice(0,2)+$;else return J.slice(0,2)}let Y=J.indexOf("://");if(Y!==-1){Y+=3;for(;Y<Q;Y++)if(SY(J.charCodeAt(Y)))return J.slice(0,Y+1)}return""}function aH(J,$,Q,X=GJ){if(J===$)return!0;if(!J||!$)return!1;if($.length>J.length)return!1;if(Q){if(!nG(J,$))return!1;if($.length===J.length)return!0;let Z=$.length;if($.charAt($.length-1)===X)Z--;return J.charAt(Z)===X}if($.charAt($.length-1)!==X)$+=X;return J.indexOf($)===0}function tu(J){return J>=65&&J<=90||J>=97&&J<=122}function eu(J,$=c6){if($)return tu(J.charCodeAt(0))&&J.charCodeAt(1)===58;return!1}var MA=E(()=>{RQ();E1();G1()});function jX(J){return Gz(J,!0)}class OA{constructor(J){this._ignorePathCasing=J}compare(J,$,Q=!1){if(J===$)return 0;return qz(this.getComparisonKey(J,Q),this.getComparisonKey($,Q))}isEqual(J,$,Q=!1){if(J===$)return!0;if(!J||!$)return!1;return this.getComparisonKey(J,Q)===this.getComparisonKey($,Q)}getComparisonKey(J,$=!1){return J.with({path:this._ignorePathCasing(J)?J.path.toLowerCase():void 0,fragment:$?null:void 0}).toString()}isEqualOrParent(J,$,Q=!1){if(J.scheme===$.scheme){if(J.scheme===H1.file)return aH(jX(J),jX($),this._ignorePathCasing(J))&&J.query===$.query&&(Q||J.fragment===$.fragment);if(Jc(J.authority,$.authority))return aH(J.path,$.path,this._ignorePathCasing(J),"/")&&J.query===$.query&&(Q||J.fragment===$.fragment)}return!1}joinPath(J,...$){return m0.joinPath(J,...$)}basenameOrAuthority(J){return c2(J)||J.authority}basename(J){return v6.basename(J.path)}extname(J){return v6.extname(J.path)}dirname(J){if(J.path.length===0)return J;let $;if(J.scheme===H1.file)$=m0.file(dW(jX(J))).path;else if($=v6.dirname(J.path),J.authority&&$.length&&$.charCodeAt(0)!==47)console.error(`dirname("${J.toString})) resulted in a relative path`),$="/";return J.with({path:$})}normalizePath(J){if(!J.path.length)return J;let $;if(J.scheme===H1.file)$=m0.file(lW(jX(J))).path;else $=v6.normalize(J.path);return J.with({path:$})}relativePath(J,$){if(J.scheme!==$.scheme||!Jc(J.authority,$.authority))return;if(J.scheme===H1.file){let Y=AS(jX(J),jX($));return c6?Aw(Y):Y}let Q=J.path||"/",X=$.path||"/";if(this._ignorePathCasing(J)){let Y=0;for(let Z=Math.min(Q.length,X.length);Y<Z;Y++)if(Q.charCodeAt(Y)!==X.charCodeAt(Y)){if(Q.charAt(Y).toLowerCase()!==X.charAt(Y).toLowerCase())break}Q=X.substr(0,Y)+Q.substr(Y)}return v6.relative(Q,X)}resolvePath(J,$){if(J.scheme===H1.file){let Q=m0.file(KS(jX(J),$));return J.with({authority:Q.authority,path:Q.path})}return $=ou($),J.with({path:v6.resolve(J.path,$)})}isAbsolutePath(J){return!!J.path&&J.path[0]==="/"}isEqualAuthority(J,$){return J===$||J!==void 0&&$!==void 0&&_Q(J,$)}hasTrailingPathSeparator(J,$=GJ){if(J.scheme===H1.file){let Q=jX(J);return Q.length>Pw(Q).length&&Q[Q.length-1]===$}else{let Q=J.path;return Q.length>1&&Q.charCodeAt(Q.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(J.fsPath)}}removeTrailingPathSeparator(J,$=GJ){if($c(J,$))return J.with({path:J.path.substr(0,J.path.length-1)});return J}addTrailingPathSeparator(J,$=GJ){let Q=!1;if(J.scheme===H1.file){let X=jX(J);Q=X!==void 0&&X.length===Pw(X).length&&X[X.length-1]===$}else{$="/";let X=J.path;Q=X.length===1&&X.charCodeAt(X.length-1)===47}if(!Q&&!$c(J,$))return J.with({path:J.path+"/"});return J}}var N6,XL0,YL0,Qc,ZL0,GL0,qL0,c2,Xc,_A,UL0,Yc,zL0,Dw,HL0,Jc,$c,jL0,VL0,O9;var u$=E(()=>{MA();K9();RQ();E1();G1();V5();N6=new OA(()=>!1),XL0=new OA((J)=>{return J.scheme===H1.file?!w6:!0}),YL0=new OA((J)=>!0),Qc=N6.isEqual.bind(N6),ZL0=N6.isEqualOrParent.bind(N6),GL0=N6.getComparisonKey.bind(N6),qL0=N6.basenameOrAuthority.bind(N6),c2=N6.basename.bind(N6),Xc=N6.extname.bind(N6),_A=N6.dirname.bind(N6),UL0=N6.joinPath.bind(N6),Yc=N6.normalizePath.bind(N6),zL0=N6.relativePath.bind(N6),Dw=N6.resolvePath.bind(N6),HL0=N6.isAbsolutePath.bind(N6),Jc=N6.isEqualAuthority.bind(N6),$c=N6.hasTrailingPathSeparator.bind(N6),jL0=N6.removeTrailingPathSeparator.bind(N6),VL0=N6.addTrailingPathSeparator.bind(N6);(function(J){J.META_DATA_LABEL="label",J.META_DATA_DESCRIPTION="description",J.META_DATA_SIZE="size",J.META_DATA_MIME="mime";function $(Q){let X=new Map;Q.path.substring(Q.path.indexOf(";")+1,Q.path.lastIndexOf(";")).split(";").forEach((G)=>{let[q,U]=G.split(":");if(q&&U)X.set(q,U)});let Z=Q.path.substring(0,Q.path.indexOf(";"));if(Z)X.set(J.META_DATA_MIME,Z);return X}J.parseMetaData=$})(O9||(O9={}))});function Pq(J){return J.toString()}class s5{static create(J,$){let Q=J.getAlternativeVersionId(),X=Rw(J);return new s5(Q,Q,X,X,$,$,[])}constructor(J,$,Q,X,Y,Z,G){this.beforeVersionId=J,this.afterVersionId=$,this.beforeEOL=Q,this.afterEOL=X,this.beforeCursorState=Y,this.afterCursorState=Z,this.changes=G}append(J,$,Q,X,Y){if($.length>0)this.changes=nu(this.changes,$);this.afterEOL=Q,this.afterVersionId=X,this.afterCursorState=Y}static _writeSelectionsSize(J){return 4+16*(J?J.length:0)}static _writeSelections(J,$,Q){if(l9(J,$?$.length:0,Q),Q+=4,$)for(let X of $)l9(J,X.selectionStartLineNumber,Q),Q+=4,l9(J,X.selectionStartColumn,Q),Q+=4,l9(J,X.positionLineNumber,Q),Q+=4,l9(J,X.positionColumn,Q),Q+=4;return Q}static _readSelections(J,$,Q){let X=c9(J,$);$+=4;for(let Y=0;Y<X;Y++){let Z=c9(J,$);$+=4;let G=c9(J,$);$+=4;let q=c9(J,$);$+=4;let U=c9(J,$);$+=4,Q.push(new d0(Z,G,q,U))}return $}serialize(){let J=10+s5._writeSelectionsSize(this.beforeCursorState)+s5._writeSelectionsSize(this.afterCursorState)+4;for(let X of this.changes)J+=X.writeSize();let $=new Uint8Array(J),Q=0;l9($,this.beforeVersionId,Q),Q+=4,l9($,this.afterVersionId,Q),Q+=4,SO($,this.beforeEOL,Q),Q+=1,SO($,this.afterEOL,Q),Q+=1,Q=s5._writeSelections($,this.beforeCursorState,Q),Q=s5._writeSelections($,this.afterCursorState,Q),l9($,this.changes.length,Q),Q+=4;for(let X of this.changes)Q=X.write($,Q);return $.buffer}static deserialize(J){let $=new Uint8Array(J),Q=0,X=c9($,Q);Q+=4;let Y=c9($,Q);Q+=4;let Z=bO($,Q);Q+=1;let G=bO($,Q);Q+=1;let q=[];Q=s5._readSelections($,Q,q);let U=[];Q=s5._readSelections($,Q,U);let z=c9($,Q);Q+=4;let H=[];for(let j=0;j<z;j++)Q=d5.read($,Q,H);return new s5(X,Y,Z,G,q,U,H)}}class Mw{get type(){return 0}get resource(){if(m0.isUri(this.model))return this.model;return this.model.uri}constructor(J,$,Q,X){this.label=J,this.code=$,this.model=Q,this._data=s5.create(Q,X)}toString(){return(this._data instanceof s5?this._data:s5.deserialize(this._data)).changes.map(($)=>$.toString()).join(", ")}matchesResource(J){return(m0.isUri(this.model)?this.model:this.model.uri).toString()===J.toString()}setModel(J){this.model=J}canAppend(J){return this.model===J&&this._data instanceof s5}append(J,$,Q,X,Y){if(this._data instanceof s5)this._data.append(J,$,Q,X,Y)}close(){if(this._data instanceof s5)this._data=this._data.serialize()}open(){if(!(this._data instanceof s5))this._data=s5.deserialize(this._data)}undo(){if(m0.isUri(this.model))throw Error("Invalid SingleModelEditStackElement");if(this._data instanceof s5)this._data=this._data.serialize();let J=s5.deserialize(this._data);this.model._applyUndo(J.changes,J.beforeEOL,J.beforeVersionId,J.beforeCursorState)}redo(){if(m0.isUri(this.model))throw Error("Invalid SingleModelEditStackElement");if(this._data instanceof s5)this._data=this._data.serialize();let J=s5.deserialize(this._data);this.model._applyRedo(J.changes,J.afterEOL,J.afterVersionId,J.afterCursorState)}heapSize(){if(this._data instanceof s5)this._data=this._data.serialize();return this._data.byteLength+168}}class Zc{get resources(){return this._editStackElementsArr.map((J)=>J.resource)}constructor(J,$,Q){this.label=J,this.code=$,this.type=1,this._isOpen=!0,this._editStackElementsArr=Q.slice(0),this._editStackElementsMap=new Map;for(let X of this._editStackElementsArr){let Y=Pq(X.resource);this._editStackElementsMap.set(Y,X)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(J){let $=Pq(J);return this._editStackElementsMap.has($)}setModel(J){let $=Pq(m0.isUri(J)?J:J.uri);if(this._editStackElementsMap.has($))this._editStackElementsMap.get($).setModel(J)}canAppend(J){if(!this._isOpen)return!1;let $=Pq(J.uri);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).canAppend(J);return!1}append(J,$,Q,X,Y){let Z=Pq(J.uri);this._editStackElementsMap.get(Z).append(J,$,Q,X,Y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let J of this._editStackElementsArr)J.undo()}redo(){for(let J of this._editStackElementsArr)J.redo()}heapSize(J){let $=Pq(J);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).heapSize();return 0}split(){return this._editStackElementsArr}toString(){let J=[];for(let $ of this._editStackElementsArr)J.push(`${c2($.resource)}: ${$}`);return`{${J.join(", ")}}`}}function Rw(J){if(J.getEOL()===`
`)return 0;else return 1}function c$(J){if(!J)return!1;return J instanceof Mw||J instanceof Zc}class NA{constructor(J,$){this._model=J,this._undoRedoService=$}pushStackElement(){let J=this._undoRedoService.getLastElement(this._model.uri);if(c$(J))J.close()}popStackElement(){let J=this._undoRedoService.getLastElement(this._model.uri);if(c$(J))J.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(J,$){let Q=this._undoRedoService.getLastElement(this._model.uri);if(c$(Q)&&Q.canAppend(this._model))return Q;let X=new Mw(M("edit","Typing"),"undoredo.textBufferEdit",this._model,J);return this._undoRedoService.pushElement(X,$),X}pushEOL(J){let $=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(J),$.append(this._model,[],Rw(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(J,$,Q,X){let Y=this._getOrCreateEditStackElement(J,X),Z=this._model.applyEdits($,!0),G=NA._computeCursorState(Q,Z),q=Z.map((U,z)=>({index:z,textChange:U.textChange}));return q.sort((U,z)=>{if(U.textChange.oldPosition===z.textChange.oldPosition)return U.index-z.index;return U.textChange.oldPosition-z.textChange.oldPosition}),Y.append(this._model,q.map((U)=>U.textChange),Rw(this._model),this._model.getAlternativeVersionId(),G),G}static _computeCursorState(J,$){try{return J?J($):null}catch(Q){return Z1(Q),null}}}var Ow=E(()=>{a0();T1();u5();V5();Kw();pz();u$()});class Gc{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function N70(J,$,Q,X,Y){Y.spacesDiff=0,Y.looksLikeAlignment=!1;let Z;for(Z=0;Z<$&&Z<X;Z++){let B=J.charCodeAt(Z),V=Q.charCodeAt(Z);if(B!==V)break}let G=0,q=0;for(let B=Z;B<$;B++)if(J.charCodeAt(B)===32)G++;else q++;let U=0,z=0;for(let B=Z;B<X;B++)if(Q.charCodeAt(B)===32)U++;else z++;if(G>0&&q>0)return;if(U>0&&z>0)return;let H=Math.abs(q-z),j=Math.abs(G-U);if(H===0){if(Y.spacesDiff=j,j>0&&0<=U-1&&U-1<J.length&&U<Q.length){if(Q.charCodeAt(U)!==32&&J.charCodeAt(U-1)===32){if(J.charCodeAt(J.length-1)===44)Y.looksLikeAlignment=!0}}return}if(j%H===0){Y.spacesDiff=j/H;return}}function _w(J,$,Q){let X=Math.min(J.getLineCount(),1e4),Y=0,Z=0,G="",q=0,U=[2,4,6,8,3,5,7],z=8,H=[0,0,0,0,0,0,0,0,0],j=new Gc;for(let W=1;W<=X;W++){let K=J.getLineLength(W),A=J.getLineContent(W),F=K<=65536,P=!1,R=0,D=0,_=0;for(let N=0,w=K;N<w;N++){let T=F?A.charCodeAt(N):J.getLineCharCode(W,N);if(T===9)_++;else if(T===32)D++;else{P=!0,R=N;break}}if(!P)continue;if(_>0)Y++;else if(D>1)Z++;if(N70(G,q,A,R,j),j.looksLikeAlignment){if(!(Q&&$===j.spacesDiff))continue}let O=j.spacesDiff;if(O<=z)H[O]++;G=A,q=R}let B=Q;if(Y!==Z)B=Y<Z;let V=$;if(B){let W=B?0:0.1*X;if(U.forEach((K)=>{let A=H[K];if(A>W)W=A,V=K}),V===4&&H[4]>0&&H[2]>0&&H[2]>=H[4]/2)V=2}return{insertSpaces:B,tabSize:V}}function N7(J){return(J.metadata&1)>>>0}function K6(J,$){J.metadata=J.metadata&254|$<<0}function P8(J){return(J.metadata&2)>>>1===1}function j6(J,$){J.metadata=J.metadata&253|($?1:0)<<1}function Wc(J){return(J.metadata&4)>>>2===1}function qc(J,$){J.metadata=J.metadata&251|($?1:0)<<2}function Bc(J){return(J.metadata&64)>>>6===1}function Uc(J,$){J.metadata=J.metadata&191|($?1:0)<<6}function T70(J){return(J.metadata&24)>>>3}function zc(J,$){J.metadata=J.metadata&231|$<<3}function w70(J){return(J.metadata&32)>>>5===1}function Hc(J,$){J.metadata=J.metadata&223|($?1:0)<<5}class TA{constructor(J,$,Q){this.metadata=0,this.parent=this,this.left=this,this.right=this,K6(this,1),this.start=$,this.end=Q,this.delta=0,this.maxEnd=Q,this.id=J,this.ownerId=0,this.options=null,qc(this,!1),Uc(this,!1),zc(this,1),Hc(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=Q,this.range=null,j6(this,!1)}reset(J,$,Q,X){this.start=$,this.end=Q,this.maxEnd=Q,this.cachedVersionId=J,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=Q,this.range=X}setOptions(J){this.options=J;let $=this.options.className;qc(this,$==="squiggly-error"||$==="squiggly-warning"||$==="squiggly-info"),Uc(this,this.options.glyphMarginClassName!==null),zc(this,this.options.stickiness),Hc(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(J,$,Q){if(this.cachedVersionId!==Q)this.range=null;this.cachedVersionId=Q,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=$}detach(){this.parent=null,this.left=null,this.right=null}}class nH{constructor(){this.root=A1,this.requestNormalizeDelta=!1}intervalSearch(J,$,Q,X,Y,Z){if(this.root===A1)return[];return S70(this,J,$,Q,X,Y,Z)}search(J,$,Q,X){if(this.root===A1)return[];return b70(this,J,$,Q,X)}collectNodesFromOwner(J){return y70(this,J)}collectNodesPostOrder(){return x70(this)}insert(J){jc(this,J),this._normalizeDeltaIfNecessary()}delete(J){Vc(this,J),this._normalizeDeltaIfNecessary()}resolveNode(J,$){let Q=J,X=0;while(J!==this.root){if(J===J.parent.right)X+=J.parent.delta;J=J.parent}let Y=Q.start+X,Z=Q.end+X;Q.setCachedOffsets(Y,Z,$)}acceptReplace(J,$,Q,X){let Y=E70(this,J,J+$);for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z];Vc(this,q)}this._normalizeDeltaIfNecessary(),I70(this,J,J+$,Q),this._normalizeDeltaIfNecessary();for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z];q.start=q.cachedAbsoluteStart,q.end=q.cachedAbsoluteEnd,k70(q,J,J+$,Q,X),q.maxEnd=q.end,jc(this,q)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){if(!this.requestNormalizeDelta)return;this.requestNormalizeDelta=!1,L70(this)}}function L70(J){let $=J.root,Q=0;while($!==A1){if($.left!==A1&&!P8($.left)){$=$.left;continue}if($.right!==A1&&!P8($.right)){Q+=$.delta,$=$.right;continue}if($.start=Q+$.start,$.end=Q+$.end,$.delta=0,VX($),j6($,!0),j6($.left,!1),j6($.right,!1),$===$.parent.right)Q-=$.parent.delta;$=$.parent}j6(J.root,!1)}function Dq(J,$,Q,X){if(J<Q)return!0;if(J>Q)return!1;if(X===1)return!1;if(X===2)return!0;return $}function k70(J,$,Q,X,Y){let Z=T70(J),G=Z===0||Z===2,q=Z===1||Z===2,U=Q-$,z=X,H=Math.min(U,z),j=J.start,B=!1,V=J.end,W=!1;if($<=j&&V<=Q&&w70(J))J.start=$,B=!0,J.end=$,W=!0;{let A=Y?1:U>0?2:0;if(!B&&Dq(j,G,$,A))B=!0;if(!W&&Dq(V,q,$,A))W=!0}if(H>0&&!Y){let A=U>z?2:0;if(!B&&Dq(j,G,$+H,A))B=!0;if(!W&&Dq(V,q,$+H,A))W=!0}{let A=Y?1:0;if(!B&&Dq(j,G,Q,A))J.start=$+z,B=!0;if(!W&&Dq(V,q,Q,A))J.end=$+z,W=!0}let K=z-U;if(!B)J.start=Math.max(0,j+K);if(!W)J.end=Math.max(0,V+K);if(J.start>J.end)J.end=J.start}function E70(J,$,Q){let X=J.root,Y=0,Z=0,G=0,q=0,U=[],z=0;while(X!==A1){if(P8(X)){if(j6(X.left,!1),j6(X.right,!1),X===X.parent.right)Y-=X.parent.delta;X=X.parent;continue}if(!P8(X.left)){if(Z=Y+X.maxEnd,Z<$){j6(X,!0);continue}if(X.left!==A1){X=X.left;continue}}if(G=Y+X.start,G>Q){j6(X,!0);continue}if(q=Y+X.end,q>=$)X.setCachedOffsets(G,q,0),U[z++]=X;if(j6(X,!0),X.right!==A1&&!P8(X.right)){Y+=X.delta,X=X.right;continue}}return j6(J.root,!1),U}function I70(J,$,Q,X){let Y=J.root,Z=0,G=0,q=0,U=X-(Q-$);while(Y!==A1){if(P8(Y)){if(j6(Y.left,!1),j6(Y.right,!1),Y===Y.parent.right)Z-=Y.parent.delta;VX(Y),Y=Y.parent;continue}if(!P8(Y.left)){if(G=Z+Y.maxEnd,G<$){j6(Y,!0);continue}if(Y.left!==A1){Y=Y.left;continue}}if(q=Z+Y.start,q>Q){if(Y.start+=U,Y.end+=U,Y.delta+=U,Y.delta<-1073741824||Y.delta>1073741824)J.requestNormalizeDelta=!0;j6(Y,!0);continue}if(j6(Y,!0),Y.right!==A1&&!P8(Y.right)){Z+=Y.delta,Y=Y.right;continue}}j6(J.root,!1)}function y70(J,$){let Q=J.root,X=[],Y=0;while(Q!==A1){if(P8(Q)){j6(Q.left,!1),j6(Q.right,!1),Q=Q.parent;continue}if(Q.left!==A1&&!P8(Q.left)){Q=Q.left;continue}if(Q.ownerId===$)X[Y++]=Q;if(j6(Q,!0),Q.right!==A1&&!P8(Q.right)){Q=Q.right;continue}}return j6(J.root,!1),X}function x70(J){let $=J.root,Q=[],X=0;while($!==A1){if(P8($)){j6($.left,!1),j6($.right,!1),$=$.parent;continue}if($.left!==A1&&!P8($.left)){$=$.left;continue}if($.right!==A1&&!P8($.right)){$=$.right;continue}Q[X++]=$,j6($,!0)}return j6(J.root,!1),Q}function b70(J,$,Q,X,Y){let Z=J.root,G=0,q=0,U=0,z=[],H=0;while(Z!==A1){if(P8(Z)){if(j6(Z.left,!1),j6(Z.right,!1),Z===Z.parent.right)G-=Z.parent.delta;Z=Z.parent;continue}if(Z.left!==A1&&!P8(Z.left)){Z=Z.left;continue}q=G+Z.start,U=G+Z.end,Z.setCachedOffsets(q,U,X);let j=!0;if($&&Z.ownerId&&Z.ownerId!==$)j=!1;if(Q&&Wc(Z))j=!1;if(Y&&!Bc(Z))j=!1;if(j)z[H++]=Z;if(j6(Z,!0),Z.right!==A1&&!P8(Z.right)){G+=Z.delta,Z=Z.right;continue}}return j6(J.root,!1),z}function S70(J,$,Q,X,Y,Z,G){let q=J.root,U=0,z=0,H=0,j=0,B=[],V=0;while(q!==A1){if(P8(q)){if(j6(q.left,!1),j6(q.right,!1),q===q.parent.right)U-=q.parent.delta;q=q.parent;continue}if(!P8(q.left)){if(z=U+q.maxEnd,z<$){j6(q,!0);continue}if(q.left!==A1){q=q.left;continue}}if(H=U+q.start,H>Q){j6(q,!0);continue}if(j=U+q.end,j>=$){q.setCachedOffsets(H,j,Z);let W=!0;if(X&&q.ownerId&&q.ownerId!==X)W=!1;if(Y&&Wc(q))W=!1;if(G&&!Bc(q))W=!1;if(W)B[V++]=q}if(j6(q,!0),q.right!==A1&&!P8(q.right)){U+=q.delta,q=q.right;continue}}return j6(J.root,!1),B}function jc(J,$){if(J.root===A1)return $.parent=A1,$.left=A1,$.right=A1,K6($,0),J.root=$,J.root;C70(J,$),CY($.parent);let Q=$;while(Q!==J.root&&N7(Q.parent)===1)if(Q.parent===Q.parent.parent.left){let X=Q.parent.parent.right;if(N7(X)===1)K6(Q.parent,0),K6(X,0),K6(Q.parent.parent,1),Q=Q.parent.parent;else{if(Q===Q.parent.right)Q=Q.parent,rH(J,Q);K6(Q.parent,0),K6(Q.parent.parent,1),iH(J,Q.parent.parent)}}else{let X=Q.parent.parent.left;if(N7(X)===1)K6(Q.parent,0),K6(X,0),K6(Q.parent.parent,1),Q=Q.parent.parent;else{if(Q===Q.parent.left)Q=Q.parent,iH(J,Q);K6(Q.parent,0),K6(Q.parent.parent,1),rH(J,Q.parent.parent)}}return K6(J.root,0),$}function C70(J,$){let Q=0,X=J.root,Y=$.start,Z=$.end;while(!0)if(h70(Y,Z,X.start+Q,X.end+Q)<0)if(X.left===A1){$.start-=Q,$.end-=Q,$.maxEnd-=Q,X.left=$;break}else X=X.left;else if(X.right===A1){$.start-=Q+X.delta,$.end-=Q+X.delta,$.maxEnd-=Q+X.delta,X.right=$;break}else Q+=X.delta,X=X.right;$.parent=X,$.left=A1,$.right=A1,K6($,1)}function Vc(J,$){let Q,X;if($.left===A1){if(Q=$.right,X=$,Q.delta+=$.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0;Q.start+=$.delta,Q.end+=$.delta}else if($.right===A1)Q=$.left,X=$;else{if(X=v70($.right),Q=X.right,Q.start+=X.delta,Q.end+=X.delta,Q.delta+=X.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0;if(X.start+=$.delta,X.end+=$.delta,X.delta=$.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0}if(X===J.root){J.root=Q,K6(Q,0),$.detach(),Nw(),VX(Q),J.root.parent=A1;return}let Y=N7(X)===1;if(X===X.parent.left)X.parent.left=Q;else X.parent.right=Q;if(X===$)Q.parent=X.parent;else{if(X.parent===$)Q.parent=X;else Q.parent=X.parent;if(X.left=$.left,X.right=$.right,X.parent=$.parent,K6(X,N7($)),$===J.root)J.root=X;else if($===$.parent.left)$.parent.left=X;else $.parent.right=X;if(X.left!==A1)X.left.parent=X;if(X.right!==A1)X.right.parent=X}if($.detach(),Y){if(CY(Q.parent),X!==$)CY(X),CY(X.parent);Nw();return}if(CY(Q),CY(Q.parent),X!==$)CY(X),CY(X.parent);let Z;while(Q!==J.root&&N7(Q)===0)if(Q===Q.parent.left){if(Z=Q.parent.right,N7(Z)===1)K6(Z,0),K6(Q.parent,1),rH(J,Q.parent),Z=Q.parent.right;if(N7(Z.left)===0&&N7(Z.right)===0)K6(Z,1),Q=Q.parent;else{if(N7(Z.right)===0)K6(Z.left,0),K6(Z,1),iH(J,Z),Z=Q.parent.right;K6(Z,N7(Q.parent)),K6(Q.parent,0),K6(Z.right,0),rH(J,Q.parent),Q=J.root}}else{if(Z=Q.parent.left,N7(Z)===1)K6(Z,0),K6(Q.parent,1),iH(J,Q.parent),Z=Q.parent.left;if(N7(Z.left)===0&&N7(Z.right)===0)K6(Z,1),Q=Q.parent;else{if(N7(Z.left)===0)K6(Z.right,0),K6(Z,1),rH(J,Z),Z=Q.parent.left;K6(Z,N7(Q.parent)),K6(Q.parent,0),K6(Z.left,0),iH(J,Q.parent),Q=J.root}}K6(Q,0),Nw()}function v70(J){while(J.left!==A1)J=J.left;return J}function Nw(){A1.parent=A1,A1.delta=0,A1.start=0,A1.end=0}function rH(J,$){let Q=$.right;if(Q.delta+=$.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0;if(Q.start+=$.delta,Q.end+=$.delta,$.right=Q.left,Q.left!==A1)Q.left.parent=$;if(Q.parent=$.parent,$.parent===A1)J.root=Q;else if($===$.parent.left)$.parent.left=Q;else $.parent.right=Q;Q.left=$,$.parent=Q,VX($),VX(Q)}function iH(J,$){let Q=$.left;if($.delta-=Q.delta,$.delta<-1073741824||$.delta>1073741824)J.requestNormalizeDelta=!0;if($.start-=Q.delta,$.end-=Q.delta,$.left=Q.right,Q.right!==A1)Q.right.parent=$;if(Q.parent=$.parent,$.parent===A1)J.root=Q;else if($===$.parent.right)$.parent.right=Q;else $.parent.left=Q;Q.right=$,$.parent=Q,VX($),VX(Q)}function Fc(J){let $=J.end;if(J.left!==A1){let Q=J.left.maxEnd;if(Q>$)$=Q}if(J.right!==A1){let Q=J.right.maxEnd+J.delta;if(Q>$)$=Q}return $}function VX(J){J.maxEnd=Fc(J)}function CY(J){while(J!==A1){let $=Fc(J);if(J.maxEnd===$)return;J.maxEnd=$,J=J.parent}}function h70(J,$,Q,X){if(J===Q)return $-X;return J-Q}var A1;var Kc=E(()=>{A1=new TA(null,0,0);A1.parent=A1;A1.left=A1;A1.right=A1;K6(A1,0)});class Jj{constructor(J,$){this.piece=J,this.color=$,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==U1)return wA(this.right);let J=this;while(J.parent!==U1){if(J.parent.left===J)break;J=J.parent}if(J.parent===U1)return U1;else return J.parent}prev(){if(this.left!==U1)return ww(this.left);let J=this;while(J.parent!==U1){if(J.parent.right===J)break;J=J.parent}if(J.parent===U1)return U1;else return J.parent}detach(){this.parent=null,this.left=null,this.right=null}}function wA(J){while(J.left!==U1)J=J.left;return J}function ww(J){while(J.right!==U1)J=J.right;return J}function Lw(J){if(J===U1)return 0;return J.size_left+J.piece.length+Lw(J.right)}function kw(J){if(J===U1)return 0;return J.lf_left+J.piece.lineFeedCnt+kw(J.right)}function Tw(){U1.parent=U1}function tH(J,$){let Q=$.right;if(Q.size_left+=$.size_left+($.piece?$.piece.length:0),Q.lf_left+=$.lf_left+($.piece?$.piece.lineFeedCnt:0),$.right=Q.left,Q.left!==U1)Q.left.parent=$;if(Q.parent=$.parent,$.parent===U1)J.root=Q;else if($.parent.left===$)$.parent.left=Q;else $.parent.right=Q;Q.left=$,$.parent=Q}function eH(J,$){let Q=$.left;if($.left=Q.right,Q.right!==U1)Q.right.parent=$;if(Q.parent=$.parent,$.size_left-=Q.size_left+(Q.piece?Q.piece.length:0),$.lf_left-=Q.lf_left+(Q.piece?Q.piece.lineFeedCnt:0),$.parent===U1)J.root=Q;else if($===$.parent.right)$.parent.right=Q;else $.parent.left=Q;Q.right=$,$.parent=Q}function $j(J,$){let Q,X;if($.left===U1)X=$,Q=X.right;else if($.right===U1)X=$,Q=X.left;else X=wA($.right),Q=X.right;if(X===J.root){J.root=Q,Q.color=0,$.detach(),Tw(),J.root.parent=U1;return}let Y=X.color===1;if(X===X.parent.left)X.parent.left=Q;else X.parent.right=Q;if(X===$)Q.parent=X.parent,oH(J,Q);else{if(X.parent===$)Q.parent=X;else Q.parent=X.parent;if(oH(J,Q),X.left=$.left,X.right=$.right,X.parent=$.parent,X.color=$.color,$===J.root)J.root=X;else if($===$.parent.left)$.parent.left=X;else $.parent.right=X;if(X.left!==U1)X.left.parent=X;if(X.right!==U1)X.right.parent=X;X.size_left=$.size_left,X.lf_left=$.lf_left,oH(J,X)}if($.detach(),Q.parent.left===Q){let G=Lw(Q),q=kw(Q);if(G!==Q.parent.size_left||q!==Q.parent.lf_left){let U=G-Q.parent.size_left,z=q-Q.parent.lf_left;Q.parent.size_left=G,Q.parent.lf_left=q,l$(J,Q.parent,U,z)}}if(oH(J,Q.parent),Y){Tw();return}let Z;while(Q!==J.root&&Q.color===0)if(Q===Q.parent.left){if(Z=Q.parent.right,Z.color===1)Z.color=0,Q.parent.color=1,tH(J,Q.parent),Z=Q.parent.right;if(Z.left.color===0&&Z.right.color===0)Z.color=1,Q=Q.parent;else{if(Z.right.color===0)Z.left.color=0,Z.color=1,eH(J,Z),Z=Q.parent.right;Z.color=Q.parent.color,Q.parent.color=0,Z.right.color=0,tH(J,Q.parent),Q=J.root}}else{if(Z=Q.parent.left,Z.color===1)Z.color=0,Q.parent.color=1,eH(J,Q.parent),Z=Q.parent.left;if(Z.left.color===0&&Z.right.color===0)Z.color=1,Q=Q.parent;else{if(Z.left.color===0)Z.right.color=0,Z.color=1,tH(J,Z),Z=Q.parent.left;Z.color=Q.parent.color,Q.parent.color=0,Z.left.color=0,eH(J,Q.parent),Q=J.root}}Q.color=0,Tw()}function Ew(J,$){oH(J,$);while($!==J.root&&$.parent.color===1)if($.parent===$.parent.parent.left){let Q=$.parent.parent.right;if(Q.color===1)$.parent.color=0,Q.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.right)$=$.parent,tH(J,$);$.parent.color=0,$.parent.parent.color=1,eH(J,$.parent.parent)}}else{let Q=$.parent.parent.left;if(Q.color===1)$.parent.color=0,Q.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.left)$=$.parent,eH(J,$);$.parent.color=0,$.parent.parent.color=1,tH(J,$.parent.parent)}}J.root.color=0}function l$(J,$,Q,X){while($!==J.root&&$!==U1){if($.parent.left===$)$.parent.size_left+=Q,$.parent.lf_left+=X;$=$.parent}}function oH(J,$){let Q=0,X=0;if($===J.root)return;while($!==J.root&&$===$.parent.right)$=$.parent;if($===J.root)return;$=$.parent,Q=Lw($.left)-$.size_left,X=kw($.left)-$.lf_left,$.size_left+=Q,$.lf_left+=X;while($!==J.root&&(Q!==0||X!==0)){if($.parent.left===$)$.parent.size_left+=Q,$.parent.lf_left+=X;$=$.parent}}var U1;var Ac=E(()=>{U1=new Jj(null,0);U1.parent=U1;U1.left=U1;U1.right=U1;U1.color=0});function Pc(J){let $;if(J[J.length-1]<65536)$=new Uint16Array(J.length);else $=new Uint32Array(J.length);return $.set(J,0),$}class Dc{constructor(J,$,Q,X,Y){this.lineStarts=J,this.cr=$,this.lf=Q,this.crlf=X,this.isBasicASCII=Y}}function d$(J,$=!0){let Q=[0],X=1;for(let Y=0,Z=J.length;Y<Z;Y++){let G=J.charCodeAt(Y);if(G===13)if(Y+1<Z&&J.charCodeAt(Y+1)===10)Q[X++]=Y+2,Y++;else Q[X++]=Y+1;else if(G===10)Q[X++]=Y+1}if($)return Pc(Q);else return Q}function Rc(J,$){J.length=0,J[0]=0;let Q=1,X=0,Y=0,Z=0,G=!0;for(let U=0,z=$.length;U<z;U++){let H=$.charCodeAt(U);if(H===13)if(U+1<z&&$.charCodeAt(U+1)===10)Z++,J[Q++]=U+2,U++;else X++,J[Q++]=U+1;else if(H===10)Y++,J[Q++]=U+1;else if(G){if(H!==9&&(H<32||H>126))G=!1}}let q=new Dc(Pc(J),X,Y,Z,G);return J.length=0,q}class T7{constructor(J,$,Q,X,Y){this.bufferIndex=J,this.start=$,this.end=Q,this.lineFeedCnt=X,this.length=Y}}class BX{constructor(J,$){this.buffer=J,this.lineStarts=$}}class Mc{constructor(J,$){if(this._pieces=[],this._tree=J,this._BOM=$,this._index=0,J.root!==U1)J.iterate(J.root,(Q)=>{if(Q!==U1)this._pieces.push(Q.piece);return!0})}read(){if(this._pieces.length===0)if(this._index===0)return this._index++,this._BOM;else return null;if(this._index>this._pieces.length-1)return null;if(this._index===0)return this._BOM+this._tree.getPieceContent(this._pieces[this._index++]);return this._tree.getPieceContent(this._pieces[this._index++])}}class Oc{constructor(J){this._limit=J,this._cache=[]}get(J){for(let $=this._cache.length-1;$>=0;$--){let Q=this._cache[$];if(Q.nodeStartOffset<=J&&Q.nodeStartOffset+Q.node.piece.length>=J)return Q}return null}get2(J){for(let $=this._cache.length-1;$>=0;$--){let Q=this._cache[$];if(Q.nodeStartLineNumber&&Q.nodeStartLineNumber<J&&Q.nodeStartLineNumber+Q.node.piece.lineFeedCnt>=J)return Q}return null}set(J){if(this._cache.length>=this._limit)this._cache.shift();this._cache.push(J)}validate(J){let $=!1,Q=this._cache;for(let X=0;X<Q.length;X++){let Y=Q[X];if(Y.node.parent===null||Y.nodeStartOffset>=J){Q[X]=null,$=!0;continue}}if($){let X=[];for(let Y of Q)if(Y!==null)X.push(Y);this._cache=X}}}class Iw{constructor(J,$,Q){this.create(J,$,Q)}create(J,$,Q){this._buffers=[new BX("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=U1,this._lineCnt=1,this._length=0,this._EOL=$,this._EOLLength=$.length,this._EOLNormalized=Q;let X=null;for(let Y=0,Z=J.length;Y<Z;Y++)if(J[Y].buffer.length>0){if(!J[Y].lineStarts)J[Y].lineStarts=d$(J[Y].buffer);let G=new T7(Y+1,{line:0,column:0},{line:J[Y].lineStarts.length-1,column:J[Y].buffer.length-J[Y].lineStarts[J[Y].lineStarts.length-1]},J[Y].lineStarts.length-1,J[Y].buffer.length);this._buffers.push(J[Y]),X=this.rbInsertRight(X,G)}this._searchCache=new Oc(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(J){let $=WX,Q=$-Math.floor($/3),X=Q*2,Y="",Z=0,G=[];if(this.iterate(this.root,(q)=>{let U=this.getNodeContent(q),z=U.length;if(Z<=Q||Z+z<X)return Y+=U,Z+=z,!0;let H=Y.replace(/\r\n|\r|\n/g,J);return G.push(new BX(H,d$(H))),Y=U,Z=z,!0}),Z>0){let q=Y.replace(/\r\n|\r|\n/g,J);G.push(new BX(q,d$(q)))}this.create(G,J,!0)}getEOL(){return this._EOL}setEOL(J){this._EOL=J,this._EOLLength=this._EOL.length,this.normalizeEOL(J)}createSnapshot(J){return new Mc(this,J)}getOffsetAt(J,$){let Q=0,X=this.root;while(X!==U1)if(X.left!==U1&&X.lf_left+1>=J)X=X.left;else if(X.lf_left+X.piece.lineFeedCnt+1>=J){Q+=X.size_left;let Y=this.getAccumulatedValue(X,J-X.lf_left-2);return Q+=Y+$-1}else J-=X.lf_left+X.piece.lineFeedCnt,Q+=X.size_left+X.piece.length,X=X.right;return Q}getPositionAt(J){J=Math.floor(J),J=Math.max(0,J);let $=this.root,Q=0,X=J;while($!==U1)if($.size_left!==0&&$.size_left>=J)$=$.left;else if($.size_left+$.piece.length>=J){let Y=this.getIndexOf($,J-$.size_left);if(Q+=$.lf_left+Y.index,Y.index===0){let Z=this.getOffsetAt(Q+1,1),G=X-Z;return new s(Q+1,G+1)}return new s(Q+1,Y.remainder+1)}else if(J-=$.size_left+$.piece.length,Q+=$.lf_left+$.piece.lineFeedCnt,$.right===U1){let Y=this.getOffsetAt(Q+1,1),Z=X-J-Y;return new s(Q+1,Z+1)}else $=$.right;return new s(1,1)}getValueInRange(J,$){if(J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn)return"";let Q=this.nodeAt2(J.startLineNumber,J.startColumn),X=this.nodeAt2(J.endLineNumber,J.endColumn),Y=this.getValueInRange2(Q,X);if($){if($!==this._EOL||!this._EOLNormalized)return Y.replace(/\r\n|\r|\n/g,$);if($===this.getEOL()&&this._EOLNormalized)return Y;return Y.replace(/\r\n|\r|\n/g,$)}return Y}getValueInRange2(J,$){if(J.node===$.node){let G=J.node,q=this._buffers[G.piece.bufferIndex].buffer,U=this.offsetInBuffer(G.piece.bufferIndex,G.piece.start);return q.substring(U+J.remainder,U+$.remainder)}let Q=J.node,X=this._buffers[Q.piece.bufferIndex].buffer,Y=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start),Z=X.substring(Y+J.remainder,Y+Q.piece.length);Q=Q.next();while(Q!==U1){let G=this._buffers[Q.piece.bufferIndex].buffer,q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);if(Q===$.node){Z+=G.substring(q,q+$.remainder);break}else Z+=G.substr(q,Q.piece.length);Q=Q.next()}return Z}getLinesContent(){let J=[],$=0,Q="",X=!1;if(this.iterate(this.root,(Y)=>{if(Y===U1)return!0;let Z=Y.piece,G=Z.length;if(G===0)return!0;let q=this._buffers[Z.bufferIndex].buffer,U=this._buffers[Z.bufferIndex].lineStarts,z=Z.start.line,H=Z.end.line,j=U[z]+Z.start.column;if(X){if(q.charCodeAt(j)===10)j++,G--;if(J[$++]=Q,Q="",X=!1,G===0)return!0}if(z===H){if(!this._EOLNormalized&&q.charCodeAt(j+G-1)===13)X=!0,Q+=q.substr(j,G-1);else Q+=q.substr(j,G);return!0}Q+=this._EOLNormalized?q.substring(j,Math.max(j,U[z+1]-this._EOLLength)):q.substring(j,U[z+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=Q;for(let B=z+1;B<H;B++)Q=this._EOLNormalized?q.substring(U[B],U[B+1]-this._EOLLength):q.substring(U[B],U[B+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=Q;if(!this._EOLNormalized&&q.charCodeAt(U[H]+Z.end.column-1)===13)if(X=!0,Z.end.column===0)$--;else Q=q.substr(U[H],Z.end.column-1);else Q=q.substr(U[H],Z.end.column);return!0}),X)J[$++]=Q,Q="";return J[$++]=Q,J}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(J){if(this._lastVisitedLine.lineNumber===J)return this._lastVisitedLine.value;if(this._lastVisitedLine.lineNumber=J,J===this._lineCnt)this._lastVisitedLine.value=this.getLineRawContent(J);else if(this._EOLNormalized)this._lastVisitedLine.value=this.getLineRawContent(J,this._EOLLength);else this._lastVisitedLine.value=this.getLineRawContent(J).replace(/(\r\n|\r|\n)$/,"");return this._lastVisitedLine.value}_getCharCode(J){if(J.remainder===J.node.piece.length){let $=J.node.next();if(!$)return 0;let Q=this._buffers[$.piece.bufferIndex],X=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);return Q.buffer.charCodeAt(X)}else{let $=this._buffers[J.node.piece.bufferIndex],X=this.offsetInBuffer(J.node.piece.bufferIndex,J.node.piece.start)+J.remainder;return $.buffer.charCodeAt(X)}}getLineCharCode(J,$){let Q=this.nodeAt2(J,$+1);return this._getCharCode(Q)}getLineLength(J){if(J===this.getLineCount()){let $=this.getOffsetAt(J,1);return this.getLength()-$}return this.getOffsetAt(J+1,1)-this.getOffsetAt(J,1)-this._EOLLength}findMatchesInNode(J,$,Q,X,Y,Z,G,q,U,z,H){let j=this._buffers[J.piece.bufferIndex],B=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start),V=this.offsetInBuffer(J.piece.bufferIndex,Y),W=this.offsetInBuffer(J.piece.bufferIndex,Z),K,A={line:0,column:0},F,P;if($._wordSeparators)F=j.buffer.substring(V,W),P=(R)=>R+V,$.reset(0);else F=j.buffer,P=(R)=>R,$.reset(V);do if(K=$.next(F),K){if(P(K.index)>=W)return z;this.positionInBuffer(J,P(K.index)-B,A);let R=this.getLineFeedCnt(J.piece.bufferIndex,Y,A),D=A.line===Y.line?A.column-Y.column+X:A.column+1,_=D+K[0].length;if(H[z++]=zY(new v(Q+R,D,Q+R,_),K,q),P(K.index)+K[0].length>=W)return z;if(z>=U)return z}while(K);return z}findMatchesLineByLine(J,$,Q,X){let Y=[],Z=0,G=new mQ($.wordSeparators,$.regex),q=this.nodeAt2(J.startLineNumber,J.startColumn);if(q===null)return[];let U=this.nodeAt2(J.endLineNumber,J.endColumn);if(U===null)return[];let z=this.positionInBuffer(q.node,q.remainder),H=this.positionInBuffer(U.node,U.remainder);if(q.node===U.node)return this.findMatchesInNode(q.node,G,J.startLineNumber,J.startColumn,z,H,$,Q,X,Z,Y),Y;let j=J.startLineNumber,B=q.node;while(B!==U.node){let W=this.getLineFeedCnt(B.piece.bufferIndex,z,B.piece.end);if(W>=1){let A=this._buffers[B.piece.bufferIndex].lineStarts,F=this.offsetInBuffer(B.piece.bufferIndex,B.piece.start),P=A[z.line+W],R=j===J.startLineNumber?J.startColumn:1;if(Z=this.findMatchesInNode(B,G,j,R,z,this.positionInBuffer(B,P-F),$,Q,X,Z,Y),Z>=X)return Y;j+=W}let K=j===J.startLineNumber?J.startColumn-1:0;if(j===J.endLineNumber){let A=this.getLineContent(j).substring(K,J.endColumn-1);return Z=this._findMatchesInLine($,G,A,J.endLineNumber,K,Z,Y,Q,X),Y}if(Z=this._findMatchesInLine($,G,this.getLineContent(j).substr(K),j,K,Z,Y,Q,X),Z>=X)return Y;j++,q=this.nodeAt2(j,1),B=q.node,z=this.positionInBuffer(q.node,q.remainder)}if(j===J.endLineNumber){let W=j===J.startLineNumber?J.startColumn-1:0,K=this.getLineContent(j).substring(W,J.endColumn-1);return Z=this._findMatchesInLine($,G,K,J.endLineNumber,W,Z,Y,Q,X),Y}let V=j===J.startLineNumber?J.startColumn:1;return Z=this.findMatchesInNode(U.node,G,j,V,z,H,$,Q,X,Z,Y),Y}_findMatchesInLine(J,$,Q,X,Y,Z,G,q,U){let z=J.wordSeparators;if(!q&&J.simpleSearch){let j=J.simpleSearch,B=j.length,V=Q.length,W=-B;while((W=Q.indexOf(j,W+B))!==-1)if(!z||rF(z,Q,V,W,B)){if(G[Z++]=new pQ(new v(X,W+1+Y,X,W+1+B+Y),null),Z>=U)return Z}return Z}let H;$.reset(0);do if(H=$.next(Q),H){if(G[Z++]=zY(new v(X,H.index+1+Y,X,H.index+1+H[0].length+Y),H,q),Z>=U)return Z}while(H);return Z}insert(J,$,Q=!1){if(this._EOLNormalized=this._EOLNormalized&&Q,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==U1){let{node:X,remainder:Y,nodeStartOffset:Z}=this.nodeAt(J),G=X.piece,q=G.bufferIndex,U=this.positionInBuffer(X,Y);if(X.piece.bufferIndex===0&&G.end.line===this._lastChangeBufferPos.line&&G.end.column===this._lastChangeBufferPos.column&&Z+G.length===J&&$.length<WX){this.appendToNode(X,$),this.computeBufferMetadata();return}if(Z===J)this.insertContentToNodeLeft($,X),this._searchCache.validate(J);else if(Z+X.piece.length>J){let z=[],H=new T7(G.bufferIndex,U,G.end,this.getLineFeedCnt(G.bufferIndex,U,G.end),this.offsetInBuffer(q,G.end)-this.offsetInBuffer(q,U));if(this.shouldCheckCRLF()&&this.endWithCR($)){if(this.nodeCharCodeAt(X,Y)===10){let W={line:H.start.line+1,column:0};H=new T7(H.bufferIndex,W,H.end,this.getLineFeedCnt(H.bufferIndex,W,H.end),H.length-1),$+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF($))if(this.nodeCharCodeAt(X,Y-1)===13){let W=this.positionInBuffer(X,Y-1);if(this.deleteNodeTail(X,W),$="\r"+$,X.piece.length===0)z.push(X)}else this.deleteNodeTail(X,U);else this.deleteNodeTail(X,U);let j=this.createNewPieces($);if(H.length>0)this.rbInsertRight(X,H);let B=X;for(let V=0;V<j.length;V++)B=this.rbInsertRight(B,j[V]);this.deleteNodes(z)}else this.insertContentToNodeRight($,X)}else{let X=this.createNewPieces($),Y=this.rbInsertLeft(null,X[0]);for(let Z=1;Z<X.length;Z++)Y=this.rbInsertRight(Y,X[Z])}this.computeBufferMetadata()}delete(J,$){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",$<=0||this.root===U1)return;let Q=this.nodeAt(J),X=this.nodeAt(J+$),Y=Q.node,Z=X.node;if(Y===Z){let j=this.positionInBuffer(Y,Q.remainder),B=this.positionInBuffer(Y,X.remainder);if(Q.nodeStartOffset===J){if($===Y.piece.length){let V=Y.next();$j(this,Y),this.validateCRLFWithPrevNode(V),this.computeBufferMetadata();return}this.deleteNodeHead(Y,B),this._searchCache.validate(J),this.validateCRLFWithPrevNode(Y),this.computeBufferMetadata();return}if(Q.nodeStartOffset+Y.piece.length===J+$){this.deleteNodeTail(Y,j),this.validateCRLFWithNextNode(Y),this.computeBufferMetadata();return}this.shrinkNode(Y,j,B),this.computeBufferMetadata();return}let G=[],q=this.positionInBuffer(Y,Q.remainder);if(this.deleteNodeTail(Y,q),this._searchCache.validate(J),Y.piece.length===0)G.push(Y);let U=this.positionInBuffer(Z,X.remainder);if(this.deleteNodeHead(Z,U),Z.piece.length===0)G.push(Z);let z=Y.next();for(let j=z;j!==U1&&j!==Z;j=j.next())G.push(j);let H=Y.piece.length===0?Y.prev():Y;this.deleteNodes(G),this.validateCRLFWithNextNode(H),this.computeBufferMetadata()}insertContentToNodeLeft(J,$){let Q=[];if(this.shouldCheckCRLF()&&this.endWithCR(J)&&this.startWithLF($)){let Z=$.piece,G={line:Z.start.line+1,column:0},q=new T7(Z.bufferIndex,G,Z.end,this.getLineFeedCnt(Z.bufferIndex,G,Z.end),Z.length-1);if($.piece=q,J+=`
`,l$(this,$,-1,-1),$.piece.length===0)Q.push($)}let X=this.createNewPieces(J),Y=this.rbInsertLeft($,X[X.length-1]);for(let Z=X.length-2;Z>=0;Z--)Y=this.rbInsertLeft(Y,X[Z]);this.validateCRLFWithPrevNode(Y),this.deleteNodes(Q)}insertContentToNodeRight(J,$){if(this.adjustCarriageReturnFromNext(J,$))J+=`
`;let Q=this.createNewPieces(J),X=this.rbInsertRight($,Q[0]),Y=X;for(let Z=1;Z<Q.length;Z++)Y=this.rbInsertRight(Y,Q[Z]);this.validateCRLFWithPrevNode(X)}positionInBuffer(J,$,Q){let X=J.piece,Y=J.piece.bufferIndex,Z=this._buffers[Y].lineStarts,q=Z[X.start.line]+X.start.column+$,U=X.start.line,z=X.end.line,H=0,j=0,B=0;while(U<=z){if(H=U+(z-U)/2|0,B=Z[H],H===z)break;if(j=Z[H+1],q<B)z=H-1;else if(q>=j)U=H+1;else break}if(Q)return Q.line=H,Q.column=q-B,null;return{line:H,column:q-B}}getLineFeedCnt(J,$,Q){if(Q.column===0)return Q.line-$.line;let X=this._buffers[J].lineStarts;if(Q.line===X.length-1)return Q.line-$.line;let Y=X[Q.line+1],Z=X[Q.line]+Q.column;if(Y>Z+1)return Q.line-$.line;let G=Z-1;if(this._buffers[J].buffer.charCodeAt(G)===13)return Q.line-$.line+1;else return Q.line-$.line}offsetInBuffer(J,$){return this._buffers[J].lineStarts[$.line]+$.column}deleteNodes(J){for(let $=0;$<J.length;$++)$j(this,J[$])}createNewPieces(J){if(J.length>WX){let z=[];while(J.length>WX){let j=J.charCodeAt(WX-1),B;if(j===13||j>=55296&&j<=56319)B=J.substring(0,WX-1),J=J.substring(WX-1);else B=J.substring(0,WX),J=J.substring(WX);let V=d$(B);z.push(new T7(this._buffers.length,{line:0,column:0},{line:V.length-1,column:B.length-V[V.length-1]},V.length-1,B.length)),this._buffers.push(new BX(B,V))}let H=d$(J);return z.push(new T7(this._buffers.length,{line:0,column:0},{line:H.length-1,column:J.length-H[H.length-1]},H.length-1,J.length)),this._buffers.push(new BX(J,H)),z}let $=this._buffers[0].buffer.length,Q=d$(J,!1),X=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===$&&$!==0&&this.startWithLF(J)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},X=this._lastChangeBufferPos;for(let z=0;z<Q.length;z++)Q[z]+=$+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Q.slice(1)),this._buffers[0].buffer+="_"+J,$+=1}else{if($!==0)for(let z=0;z<Q.length;z++)Q[z]+=$;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Q.slice(1)),this._buffers[0].buffer+=J}let Y=this._buffers[0].buffer.length,Z=this._buffers[0].lineStarts.length-1,G=Y-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=new T7(0,X,q,this.getLineFeedCnt(0,X,q),Y-$);return this._lastChangeBufferPos=q,[U]}getLineRawContent(J,$=0){let Q=this.root,X="",Y=this._searchCache.get2(J);if(Y){Q=Y.node;let Z=this.getAccumulatedValue(Q,J-Y.nodeStartLineNumber-1),G=this._buffers[Q.piece.bufferIndex].buffer,q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);if(Y.nodeStartLineNumber+Q.piece.lineFeedCnt===J)X=G.substring(q+Z,q+Q.piece.length);else{let U=this.getAccumulatedValue(Q,J-Y.nodeStartLineNumber);return G.substring(q+Z,q+U-$)}}else{let Z=0,G=J;while(Q!==U1)if(Q.left!==U1&&Q.lf_left>=J-1)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt>J-1){let q=this.getAccumulatedValue(Q,J-Q.lf_left-2),U=this.getAccumulatedValue(Q,J-Q.lf_left-1),z=this._buffers[Q.piece.bufferIndex].buffer,H=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);return Z+=Q.size_left,this._searchCache.set({node:Q,nodeStartOffset:Z,nodeStartLineNumber:G-(J-1-Q.lf_left)}),z.substring(H+q,H+U-$)}else if(Q.lf_left+Q.piece.lineFeedCnt===J-1){let q=this.getAccumulatedValue(Q,J-Q.lf_left-2),U=this._buffers[Q.piece.bufferIndex].buffer,z=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);X=U.substring(z+q,z+Q.piece.length);break}else J-=Q.lf_left+Q.piece.lineFeedCnt,Z+=Q.size_left+Q.piece.length,Q=Q.right}Q=Q.next();while(Q!==U1){let Z=this._buffers[Q.piece.bufferIndex].buffer;if(Q.piece.lineFeedCnt>0){let G=this.getAccumulatedValue(Q,0),q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);return X+=Z.substring(q,q+G-$),X}else{let G=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);X+=Z.substr(G,Q.piece.length)}Q=Q.next()}return X}computeBufferMetadata(){let J=this.root,$=1,Q=0;while(J!==U1)$+=J.lf_left+J.piece.lineFeedCnt,Q+=J.size_left+J.piece.length,J=J.right;this._lineCnt=$,this._length=Q,this._searchCache.validate(this._length)}getIndexOf(J,$){let Q=J.piece,X=this.positionInBuffer(J,$),Y=X.line-Q.start.line;if(this.offsetInBuffer(Q.bufferIndex,Q.end)-this.offsetInBuffer(Q.bufferIndex,Q.start)===$){let Z=this.getLineFeedCnt(J.piece.bufferIndex,Q.start,X);if(Z!==Y)return{index:Z,remainder:0}}return{index:Y,remainder:X.column}}getAccumulatedValue(J,$){if($<0)return 0;let Q=J.piece,X=this._buffers[Q.bufferIndex].lineStarts,Y=Q.start.line+$+1;if(Y>Q.end.line)return X[Q.end.line]+Q.end.column-X[Q.start.line]-Q.start.column;else return X[Y]-X[Q.start.line]-Q.start.column}deleteNodeTail(J,$){let Q=J.piece,X=Q.lineFeedCnt,Y=this.offsetInBuffer(Q.bufferIndex,Q.end),Z=$,G=this.offsetInBuffer(Q.bufferIndex,Z),q=this.getLineFeedCnt(Q.bufferIndex,Q.start,Z),U=q-X,z=G-Y,H=Q.length+z;J.piece=new T7(Q.bufferIndex,Q.start,Z,q,H),l$(this,J,z,U)}deleteNodeHead(J,$){let Q=J.piece,X=Q.lineFeedCnt,Y=this.offsetInBuffer(Q.bufferIndex,Q.start),Z=$,G=this.getLineFeedCnt(Q.bufferIndex,Z,Q.end),q=this.offsetInBuffer(Q.bufferIndex,Z),U=G-X,z=Y-q,H=Q.length+z;J.piece=new T7(Q.bufferIndex,Z,Q.end,G,H),l$(this,J,z,U)}shrinkNode(J,$,Q){let X=J.piece,Y=X.start,Z=X.end,G=X.length,q=X.lineFeedCnt,U=$,z=this.getLineFeedCnt(X.bufferIndex,X.start,U),H=this.offsetInBuffer(X.bufferIndex,$)-this.offsetInBuffer(X.bufferIndex,Y);J.piece=new T7(X.bufferIndex,X.start,U,z,H),l$(this,J,H-G,z-q);let j=new T7(X.bufferIndex,Q,Z,this.getLineFeedCnt(X.bufferIndex,Q,Z),this.offsetInBuffer(X.bufferIndex,Z)-this.offsetInBuffer(X.bufferIndex,Q)),B=this.rbInsertRight(J,j);this.validateCRLFWithPrevNode(B)}appendToNode(J,$){if(this.adjustCarriageReturnFromNext($,J))$+=`
`;let Q=this.shouldCheckCRLF()&&this.startWithLF($)&&this.endWithCR(J),X=this._buffers[0].buffer.length;this._buffers[0].buffer+=$;let Y=d$($,!1);for(let B=0;B<Y.length;B++)Y[B]+=X;if(Q){let B=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:X-B}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Y.slice(1));let Z=this._buffers[0].lineStarts.length-1,G=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=J.piece.length+$.length,z=J.piece.lineFeedCnt,H=this.getLineFeedCnt(0,J.piece.start,q),j=H-z;J.piece=new T7(J.piece.bufferIndex,J.piece.start,q,H,U),this._lastChangeBufferPos=q,l$(this,J,$.length,j)}nodeAt(J){let $=this.root,Q=this._searchCache.get(J);if(Q)return{node:Q.node,nodeStartOffset:Q.nodeStartOffset,remainder:J-Q.nodeStartOffset};let X=0;while($!==U1)if($.size_left>J)$=$.left;else if($.size_left+$.piece.length>=J){X+=$.size_left;let Y={node:$,remainder:J-$.size_left,nodeStartOffset:X};return this._searchCache.set(Y),Y}else J-=$.size_left+$.piece.length,X+=$.size_left+$.piece.length,$=$.right;return null}nodeAt2(J,$){let Q=this.root,X=0;while(Q!==U1)if(Q.left!==U1&&Q.lf_left>=J-1)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt>J-1){let Y=this.getAccumulatedValue(Q,J-Q.lf_left-2),Z=this.getAccumulatedValue(Q,J-Q.lf_left-1);return X+=Q.size_left,{node:Q,remainder:Math.min(Y+$-1,Z),nodeStartOffset:X}}else if(Q.lf_left+Q.piece.lineFeedCnt===J-1){let Y=this.getAccumulatedValue(Q,J-Q.lf_left-2);if(Y+$-1<=Q.piece.length)return{node:Q,remainder:Y+$-1,nodeStartOffset:X};else{$-=Q.piece.length-Y;break}}else J-=Q.lf_left+Q.piece.lineFeedCnt,X+=Q.size_left+Q.piece.length,Q=Q.right;Q=Q.next();while(Q!==U1){if(Q.piece.lineFeedCnt>0){let Y=this.getAccumulatedValue(Q,0),Z=this.offsetOfNode(Q);return{node:Q,remainder:Math.min($-1,Y),nodeStartOffset:Z}}else if(Q.piece.length>=$-1){let Y=this.offsetOfNode(Q);return{node:Q,remainder:$-1,nodeStartOffset:Y}}else $-=Q.piece.length;Q=Q.next()}return null}nodeCharCodeAt(J,$){if(J.piece.lineFeedCnt<1)return-1;let Q=this._buffers[J.piece.bufferIndex],X=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start)+$;return Q.buffer.charCodeAt(X)}offsetOfNode(J){if(!J)return 0;let $=J.size_left;while(J!==this.root){if(J.parent.right===J)$+=J.parent.size_left+J.parent.piece.length;J=J.parent}return $}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(J){if(typeof J==="string")return J.charCodeAt(0)===10;if(J===U1||J.piece.lineFeedCnt===0)return!1;let $=J.piece,Q=this._buffers[$.bufferIndex].lineStarts,X=$.start.line,Y=Q[X]+$.start.column;if(X===Q.length-1)return!1;if(Q[X+1]>Y+1)return!1;return this._buffers[$.bufferIndex].buffer.charCodeAt(Y)===10}endWithCR(J){if(typeof J==="string")return J.charCodeAt(J.length-1)===13;if(J===U1||J.piece.lineFeedCnt===0)return!1;return this.nodeCharCodeAt(J,J.piece.length-1)===13}validateCRLFWithPrevNode(J){if(this.shouldCheckCRLF()&&this.startWithLF(J)){let $=J.prev();if(this.endWithCR($))this.fixCRLF($,J)}}validateCRLFWithNextNode(J){if(this.shouldCheckCRLF()&&this.endWithCR(J)){let $=J.next();if(this.startWithLF($))this.fixCRLF(J,$)}}fixCRLF(J,$){let Q=[],X=this._buffers[J.piece.bufferIndex].lineStarts,Y;if(J.piece.end.column===0)Y={line:J.piece.end.line-1,column:X[J.piece.end.line]-X[J.piece.end.line-1]-1};else Y={line:J.piece.end.line,column:J.piece.end.column-1};let Z=J.piece.length-1,G=J.piece.lineFeedCnt-1;if(J.piece=new T7(J.piece.bufferIndex,J.piece.start,Y,G,Z),l$(this,J,-1,-1),J.piece.length===0)Q.push(J);let q={line:$.piece.start.line+1,column:0},U=$.piece.length-1,z=this.getLineFeedCnt($.piece.bufferIndex,q,$.piece.end);if($.piece=new T7($.piece.bufferIndex,q,$.piece.end,z,U),l$(this,$,-1,-1),$.piece.length===0)Q.push($);let H=this.createNewPieces(`\r
`);this.rbInsertRight(J,H[0]);for(let j=0;j<Q.length;j++)$j(this,Q[j])}adjustCarriageReturnFromNext(J,$){if(this.shouldCheckCRLF()&&this.endWithCR(J)){let Q=$.next();if(this.startWithLF(Q)){if(J+=`
`,Q.piece.length===1)$j(this,Q);else{let X=Q.piece,Y={line:X.start.line+1,column:0},Z=X.length-1,G=this.getLineFeedCnt(X.bufferIndex,Y,X.end);Q.piece=new T7(X.bufferIndex,Y,X.end,G,Z),l$(this,Q,-1,-1)}return!0}}return!1}iterate(J,$){if(J===U1)return $(U1);let Q=this.iterate(J.left,$);if(!Q)return Q;return $(J)&&this.iterate(J.right,$)}getNodeContent(J){if(J===U1)return"";let $=this._buffers[J.piece.bufferIndex],Q=J.piece,X=this.offsetInBuffer(Q.bufferIndex,Q.start),Y=this.offsetInBuffer(Q.bufferIndex,Q.end);return $.buffer.substring(X,Y)}getPieceContent(J){let $=this._buffers[J.bufferIndex],Q=this.offsetInBuffer(J.bufferIndex,J.start),X=this.offsetInBuffer(J.bufferIndex,J.end);return $.buffer.substring(Q,X)}rbInsertRight(J,$){let Q=new Jj($,1);if(Q.left=U1,Q.right=U1,Q.parent=U1,Q.size_left=0,Q.lf_left=0,this.root===U1)this.root=Q,Q.color=0;else if(J.right===U1)J.right=Q,Q.parent=J;else{let Y=wA(J.right);Y.left=Q,Q.parent=Y}return Ew(this,Q),Q}rbInsertLeft(J,$){let Q=new Jj($,1);if(Q.left=U1,Q.right=U1,Q.parent=U1,Q.size_left=0,Q.lf_left=0,this.root===U1)this.root=Q,Q.color=0;else if(J.left===U1)J.left=Q,Q.parent=J;else{let X=ww(J.left);X.right=Q,Q.parent=X}return Ew(this,Q),Q}}var WX=65535;var yw=E(()=>{e0();l7();Ac();iF()});var vY;var xw=E(()=>{E0();G1();e0();l7();yw();Kw();B0();vY=class vY extends r{constructor(J,$,Q,X,Y,Z,G){super();this._onDidChangeContent=this._register(new p),this._BOM=$,this._mightContainNonBasicASCII=!Z,this._mightContainRTL=X,this._mightContainUnusualLineTerminators=Y,this._pieceTree=new Iw(J,Q,G)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(J){return this._pieceTree.createSnapshot(J?this._BOM:"")}getOffsetAt(J,$){return this._pieceTree.getOffsetAt(J,$)}getPositionAt(J){return this._pieceTree.getPositionAt(J)}getRangeAt(J,$){let Q=J+$,X=this.getPositionAt(J),Y=this.getPositionAt(Q);return new v(X.lineNumber,X.column,Y.lineNumber,Y.column)}getValueInRange(J,$=0){if(J.isEmpty())return"";let Q=this._getEndOfLine($);return this._pieceTree.getValueInRange(J,Q)}getValueLengthInRange(J,$=0){if(J.isEmpty())return 0;if(J.startLineNumber===J.endLineNumber)return J.endColumn-J.startColumn;let Q=this.getOffsetAt(J.startLineNumber,J.startColumn),X=this.getOffsetAt(J.endLineNumber,J.endColumn),Y=0,Z=this._getEndOfLine($),G=this.getEOL();if(Z.length!==G.length){let q=Z.length-G.length,U=J.endLineNumber-J.startLineNumber;Y=q*U}return X-Q+Y}getCharacterCountInRange(J,$=0){if(this._mightContainNonBasicASCII){let Q=0,X=J.startLineNumber,Y=J.endLineNumber;for(let Z=X;Z<=Y;Z++){let G=this.getLineContent(Z),q=Z===X?J.startColumn-1:0,U=Z===Y?J.endColumn-1:G.length;for(let z=q;z<U;z++)if(P6(G.charCodeAt(z)))Q=Q+1,z=z+1;else Q=Q+1}return Q+=this._getEndOfLine($).length*(Y-X),Q}return this.getValueLengthInRange(J,$)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(J){return this._pieceTree.getLineContent(J)}getLineCharCode(J,$){return this._pieceTree.getLineCharCode(J,$)}getLineLength(J){return this._pieceTree.getLineLength(J)}getLineFirstNonWhitespaceColumn(J){let $=s6(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){let $=j9(this.getLineContent(J));if($===-1)return 0;return $+2}_getEndOfLine(J){switch(J){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw Error("Unknown EOL preference")}}setEOL(J){this._pieceTree.setEOL(J)}applyEdits(J,$,Q){let X=this._mightContainRTL,Y=this._mightContainUnusualLineTerminators,Z=this._mightContainNonBasicASCII,G=!0,q=[];for(let W=0;W<J.length;W++){let K=J[W];if(G&&K._isTracked)G=!1;let A=K.range;if(K.text){let _=!0;if(!Z)_=!eG(K.text),Z=_;if(!X&&_)X=NQ(K.text);if(!Y&&_)Y=cB(K.text)}let F="",P=0,R=0,D=0;if(K.text){let _;[P,R,D,_]=$4(K.text);let O=this.getEOL();if(_===0||_===(O===`\r
`?2:1))F=K.text;else F=K.text.replace(/\r\n|\r|\n/g,O)}q[W]={sortIndex:W,identifier:K.identifier||null,range:A,rangeOffset:this.getOffsetAt(A.startLineNumber,A.startColumn),rangeLength:this.getValueLengthInRange(A),text:F,eolCount:P,firstLineLength:R,lastLineLength:D,forceMoveMarkers:Boolean(K.forceMoveMarkers),isAutoWhitespaceEdit:K.isAutoWhitespaceEdit||!1}}q.sort(vY._sortOpsAscending);let U=!1;for(let W=0,K=q.length-1;W<K;W++){let A=q[W].range.getEndPosition(),F=q[W+1].range.getStartPosition();if(F.isBeforeOrEqual(A)){if(F.isBefore(A))throw Error("Overlapping ranges are not allowed!");U=!0}}if(G)q=this._reduceOperations(q);let z=Q||$?vY._getInverseEditRanges(q):[],H=[];if($)for(let W=0;W<q.length;W++){let K=q[W],A=z[W];if(K.isAutoWhitespaceEdit&&K.range.isEmpty())for(let F=A.startLineNumber;F<=A.endLineNumber;F++){let P="";if(F===A.startLineNumber){if(P=this.getLineContent(K.range.startLineNumber),s6(P)!==-1)continue}H.push({lineNumber:F,oldContent:P})}}let j=null;if(Q){let W=0;j=[];for(let K=0;K<q.length;K++){let A=q[K],F=z[K],P=this.getValueInRange(A.range),R=A.rangeOffset+W;W+=A.text.length-P.length,j[K]={sortIndex:A.sortIndex,identifier:A.identifier,range:F,text:P,textChange:new d5(A.rangeOffset,P,R,A.text)}}if(!U)j.sort((K,A)=>K.sortIndex-A.sortIndex)}this._mightContainRTL=X,this._mightContainUnusualLineTerminators=Y,this._mightContainNonBasicASCII=Z;let B=this._doApplyEdits(q),V=null;if($&&H.length>0){H.sort((W,K)=>K.lineNumber-W.lineNumber),V=[];for(let W=0,K=H.length;W<K;W++){let A=H[W].lineNumber;if(W>0&&H[W-1].lineNumber===A)continue;let F=H[W].oldContent,P=this.getLineContent(A);if(P.length===0||P===F||s6(P)!==-1)continue;V.push(A)}}return this._onDidChangeContent.fire(),new W_(j,B,V)}_reduceOperations(J){if(J.length<1000)return J;return[this._toSingleEditOperation(J)]}_toSingleEditOperation(J){let $=!1,Q=J[0].range,X=J[J.length-1].range,Y=new v(Q.startLineNumber,Q.startColumn,X.endLineNumber,X.endColumn),Z=Q.startLineNumber,G=Q.startColumn,q=[];for(let B=0,V=J.length;B<V;B++){let W=J[B],K=W.range;if($=$||W.forceMoveMarkers,q.push(this.getValueInRange(new v(Z,G,K.startLineNumber,K.startColumn))),W.text.length>0)q.push(W.text);Z=K.endLineNumber,G=K.endColumn}let U=q.join(""),[z,H,j]=$4(U);return{sortIndex:0,identifier:J[0].identifier,range:Y,rangeOffset:this.getOffsetAt(Y.startLineNumber,Y.startColumn),rangeLength:this.getValueLengthInRange(Y,0),text:U,eolCount:z,firstLineLength:H,lastLineLength:j,forceMoveMarkers:$,isAutoWhitespaceEdit:!1}}_doApplyEdits(J){J.sort(vY._sortOpsDescending);let $=[];for(let Q=0;Q<J.length;Q++){let X=J[Q],Y=X.range.startLineNumber,Z=X.range.startColumn,G=X.range.endLineNumber,q=X.range.endColumn;if(Y===G&&Z===q&&X.text.length===0)continue;if(X.text)this._pieceTree.delete(X.rangeOffset,X.rangeLength),this._pieceTree.insert(X.rangeOffset,X.text,!0);else this._pieceTree.delete(X.rangeOffset,X.rangeLength);let U=new v(Y,Z,G,q);$.push({range:U,rangeLength:X.rangeLength,text:X.text,rangeOffset:X.rangeOffset,forceMoveMarkers:X.forceMoveMarkers})}return $}findMatchesLineByLine(J,$,Q,X){return this._pieceTree.findMatchesLineByLine(J,$,Q,X)}static _getInverseEditRanges(J){let $=[],Q=0,X=0,Y=null;for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z],U,z;if(Y)if(Y.range.endLineNumber===q.range.startLineNumber)U=Q,z=X+(q.range.startColumn-Y.range.endColumn);else U=Q+(q.range.startLineNumber-Y.range.endLineNumber),z=q.range.startColumn;else U=q.range.startLineNumber,z=q.range.startColumn;let H;if(q.text.length>0){let j=q.eolCount+1;if(j===1)H=new v(U,z,U,z+q.firstLineLength);else H=new v(U,z,U+j-1,q.lastLineLength+1)}else H=new v(U,z,U,z);Q=H.endLineNumber,X=H.endColumn,$.push(H),Y=q}return $}static _sortOpsAscending(J,$){let Q=v.compareRangesUsingEnds(J.range,$.range);if(Q===0)return J.sortIndex-$.sortIndex;return Q}static _sortOpsDescending(J,$){let Q=v.compareRangesUsingEnds(J.range,$.range);if(Q===0)return $.sortIndex-J.sortIndex;return-Q}}});class _c{constructor(J,$,Q,X,Y,Z,G,q,U){this._chunks=J,this._bom=$,this._cr=Q,this._lf=X,this._crlf=Y,this._containsRTL=Z,this._containsUnusualLineTerminators=G,this._isBasicASCII=q,this._normalizeEOL=U}_getEOL(J){let $=this._cr+this._lf+this._crlf,Q=this._cr+this._crlf;if($===0)return J===1?`
`:`\r
`;if(Q>$/2)return`\r
`;return`
`}create(J){let $=this._getEOL(J),Q=this._chunks;if(this._normalizeEOL&&($===`\r
`&&(this._cr>0||this._lf>0)||$===`
`&&(this._cr>0||this._crlf>0)))for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].buffer.replace(/\r\n|\r|\n/g,$),q=d$(G);Q[Y]=new BX(G,q)}let X=new vY(Q,this._bom,$,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:X,disposable:X}}}class LA{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(J){if(J.length===0)return;if(this.chunks.length===0){if(J3(J))this.BOM=fS,J=J.substr(1)}let $=J.charCodeAt(J.length-1);if($===13||$>=55296&&$<=56319)this._acceptChunk1(J.substr(0,J.length-1),!1),this._hasPreviousChar=!0,this._previousChar=$;else this._acceptChunk1(J,!1),this._hasPreviousChar=!1,this._previousChar=$}_acceptChunk1(J,$){if(!$&&J.length===0)return;if(this._hasPreviousChar)this._acceptChunk2(String.fromCharCode(this._previousChar)+J);else this._acceptChunk2(J)}_acceptChunk2(J){let $=Rc(this._tmpLineStarts,J);if(this.chunks.push(new BX(J,$.lineStarts)),this.cr+=$.cr,this.lf+=$.lf,this.crlf+=$.crlf,!$.isBasicASCII){if(this.isBasicASCII=!1,!this.containsRTL)this.containsRTL=NQ(J);if(!this.containsUnusualLineTerminators)this.containsUnusualLineTerminators=cB(J)}}finish(J=!0){return this._finish(),new _c(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,J)}_finish(){if(this.chunks.length===0)this._acceptChunk1("",!0);if(this._hasPreviousChar){this._hasPreviousChar=!1;let J=this.chunks[this.chunks.length-1];J.buffer+=String.fromCharCode(this._previousChar);let $=d$(J.buffer);if(J.lineStarts=$,this._previousChar===13)this.cr++}}}var Nc=E(()=>{G1();yw();xw()});class bw{constructor(J){this._default=J,this._store=[]}get(J){if(J<this._store.length)return this._store[J];return this._default}set(J,$){while(J>=this._store.length)this._store[this._store.length]=this._default;this._store[J]=$}replace(J,$,Q){if(J>=this._store.length)return;if($===0){this.insert(J,Q);return}else if(Q===0){this.delete(J,$);return}let X=this._store.slice(0,J),Y=this._store.slice(J+$),Z=f70(Q,this._default);this._store=X.concat(Z,Y)}delete(J,$){if($===0||J>=this._store.length)return;this._store.splice(J,$)}insert(J,$){if($===0||J>=this._store.length)return;let Q=[];for(let X=0;X<$;X++)Q[X]=this._default;this._store=pX(this._store,J,Q)}}function f70(J,$){let Q=[];for(let X=0;X<J;X++)Q[X]=$;return Q}var Tc=E(()=>{B1()});class Sw{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(J,$){this._startLineNumber=J,this._tokens=$}getLineTokens(J){return this._tokens[J-this._startLineNumber]}appendLineTokens(J){this._tokens.push(J)}}class Rq{constructor(){this._tokens=[]}add(J,$){if(this._tokens.length>0){let Q=this._tokens[this._tokens.length-1];if(Q.endLineNumber+1===J){Q.appendLineTokens($);return}}this._tokens.push(new Sw(J,[$]))}finalize(){return this._tokens}}var Cw=()=>{};class wc{constructor(J,$){this.tokenizationSupport=$,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new Xj(J)}getStartState(J){return this.store.getStartState(J,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class Xj{constructor(J){this.lineCount=J,this._tokenizationStateStore=new Lc,this._invalidEndStatesLineNumbers=new kc,this._invalidEndStatesLineNumbers.addRange(new J1(1,J+1))}getEndState(J){return this._tokenizationStateStore.getEndState(J)}setEndState(J,$){if(!$)throw new l1("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(J);let Q=this._tokenizationStateStore.setEndState(J,$);if(Q&&J<this.lineCount)this._invalidEndStatesLineNumbers.addRange(new J1(J+1,J+2));return Q}acceptChange(J,$){this.lineCount+=$-J.length,this._tokenizationStateStore.acceptChange(J,$),this._invalidEndStatesLineNumbers.addRangeAndResize(new J1(J.startLineNumber,J.endLineNumberExclusive),$)}acceptChanges(J){for(let $ of J){let[Q]=$4($.text);this.acceptChange(new l0($.range.startLineNumber,$.range.endLineNumber+1),Q+1)}}invalidateEndStateRange(J){this._invalidEndStatesLineNumbers.addRange(new J1(J.startLineNumber,J.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(J,$){if(J===1)return $;return this.getEndState(J-1)}getFirstInvalidLine(J){let $=this.getFirstInvalidEndStateLineNumber();if($===null)return null;let Q=this.getStartState($,J);if(!Q)throw new l1("Start state must be defined");return{lineNumber:$,startState:Q}}}class Lc{constructor(){this._lineEndStates=new bw(null)}getEndState(J){return this._lineEndStates.get(J)}setEndState(J,$){let Q=this._lineEndStates.get(J);if(Q&&Q.equals($))return!1;return this._lineEndStates.set(J,$),!0}acceptChange(J,$){let Q=J.length;if($>0&&Q>0)Q--,$--;this._lineEndStates.replace(J.startLineNumber,Q,$)}}class kc{constructor(){this._ranges=[]}get min(){if(this._ranges.length===0)return null;return this._ranges[0].start}delete(J){let $=this._ranges.findIndex((Q)=>Q.contains(J));if($!==-1){let Q=this._ranges[$];if(Q.start===J)if(Q.endExclusive===J+1)this._ranges.splice($,1);else this._ranges[$]=new J1(J+1,Q.endExclusive);else if(Q.endExclusive===J+1)this._ranges[$]=new J1(Q.start,J);else this._ranges.splice($,1,new J1(Q.start,J),new J1(J+1,Q.endExclusive))}}addRange(J){J1.addRange(J,this._ranges)}addRangeAndResize(J,$){let Q=0;while(!(Q>=this._ranges.length||J.start<=this._ranges[Q].endExclusive))Q++;let X=Q;while(!(X>=this._ranges.length||J.endExclusive<this._ranges[X].start))X++;let Y=$-J.length;for(let Z=X;Z<this._ranges.length;Z++)this._ranges[Z]=this._ranges[Z].delta(Y);if(Q===X){let Z=new J1(J.start,J.start+$);if(!Z.isEmpty)this._ranges.splice(Q,0,Z)}else{let Z=Math.min(J.start,this._ranges[Q].start),G=Math.max(J.endExclusive,this._ranges[X-1].endExclusive),q=new J1(Z,G+Y);if(!q.isEmpty)this._ranges.splice(Q,X-Q,q);else this._ranges.splice(Q,X-Q)}}toString(){return this._ranges.map((J)=>J.toString()).join(" + ")}}function Qj(J,$,Q,X,Y,Z){let G=null;if(Q)try{G=Q.tokenizeEncoded(X,Y,Z.clone())}catch(q){Z1(q)}if(!G)G=T3(J.encodeLanguageId($),Z);return g6.convertToEndOffset(G.tokens,X.length),G}class hw{constructor(J,$){this._tokenizerWithStateStore=J,this._backgroundTokenStore=$,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){if(this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;this._isScheduled=!0,ZO((J)=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(J)})}_backgroundTokenizeWithDeadline(J){let $=Date.now()+J.timeRemaining(),Q=()=>{if(this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;if(this._backgroundTokenizeForAtLeast1ms(),Date.now()<$)bW(Q);else this._beginBackgroundTokenization()};Q()}_backgroundTokenizeForAtLeast1ms(){let J=this._tokenizerWithStateStore._textModel.getLineCount(),$=new Rq,Q=R5.create(!1);do{if(Q.elapsed()>1)break;if(this._tokenizeOneInvalidLine($)>=J)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens($.finalize()),this.checkFinished()}_hasLinesToTokenize(){if(!this._tokenizerWithStateStore)return!1;return!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(J){var $;let Q=($=this._tokenizerWithStateStore)===null||$===void 0?void 0:$.getFirstInvalidLine();if(!Q)return this._tokenizerWithStateStore._textModel.getLineCount()+1;return this._tokenizerWithStateStore.updateTokensUntilLine(J,Q.lineNumber),Q.lineNumber}checkFinished(){if(this._isDisposed)return;if(this._tokenizerWithStateStore.store.allStatesValid())this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(J,$){this._tokenizerWithStateStore.store.invalidateEndStateRange(new l0(J,$))}}var vw;var Ec=E(()=>{J6();T1();E1();G$();s7();n9();qH();Tc();Cw();sQ();vw=class vw extends wc{constructor(J,$,Q,X){super(J,$);this._textModel=Q,this._languageIdCodec=X}updateTokensUntilLine(J,$){let Q=this._textModel.getLanguageId();while(!0){let X=this.getFirstInvalidLine();if(!X||X.lineNumber>$)break;let Y=this._textModel.getLineContent(X.lineNumber),Z=Qj(this._languageIdCodec,Q,this.tokenizationSupport,Y,!0,X.startState);J.add(X.lineNumber,Z.tokens),this.store.setEndState(X.lineNumber,Z.endState)}}getTokenTypeIfInsertingCharacter(J,$){let Q=this.getStartState(J.lineNumber);if(!Q)return 0;let X=this._textModel.getLanguageId(),Y=this._textModel.getLineContent(J.lineNumber),Z=Y.substring(0,J.column-1)+$+Y.substring(J.column-1),G=Qj(this._languageIdCodec,X,this.tokenizationSupport,Z,!0,Q),q=new g6(G.tokens,Z,this._languageIdCodec);if(q.getCount()===0)return 0;let U=q.findTokenIndexAtOffset(J.column-1);return q.getStandardTokenType(U)}tokenizeLineWithEdit(J,$,Q){let{lineNumber:X,column:Y}=J,Z=this.getStartState(X);if(!Z)return null;let G=this._textModel.getLineContent(X),q=G.substring(0,Y-1)+Q+G.substring(Y-1+$),U=this._textModel.getLanguageIdAtPosition(X,0),z=Qj(this._languageIdCodec,U,this.tokenizationSupport,q,!0,Z);return new g6(z.tokens,q,this._languageIdCodec)}isCheapToTokenize(J){let $=this.store.getFirstInvalidEndStateLineNumberOrMax();if(J<$)return!0;if(J===$&&this._textModel.getLineLength(J)<2048)return!0;return!1}tokenizeHeuristically(J,$,Q){if(Q<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if($<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(J,Q),{heuristicTokens:!1};let X=this.guessStartState($),Y=this._textModel.getLanguageId();for(let Z=$;Z<=Q;Z++){let G=this._textModel.getLineContent(Z),q=Qj(this._languageIdCodec,Y,this.tokenizationSupport,G,!0,X);J.add(Z,q.tokens),X=q.endState}return{heuristicTokens:!0}}guessStartState(J){let $=this._textModel.getLineFirstNonWhitespaceColumn(J),Q=[],X=null;for(let G=J-1;$>1&&G>=1;G--){let q=this._textModel.getLineFirstNonWhitespaceColumn(G);if(q===0)continue;if(q<$){if(Q.push(this._textModel.getLineContent(G)),$=q,X=this.getStartState(G),X)break}}if(!X)X=this.tokenizationSupport.getInitialState();Q.reverse();let Y=this._textModel.getLanguageId(),Z=X;for(let G of Q)Z=Qj(this._languageIdCodec,Y,this.tokenizationSupport,G,!1,Z).endState;return Z}}});class bJ{static deleteBeginning(J,$){if(J===null||J===s$)return J;return bJ.delete(J,0,$)}static deleteEnding(J,$){if(J===null||J===s$)return J;let Q=a$(J),X=Q[Q.length-2];return bJ.delete(J,$,X)}static delete(J,$,Q){if(J===null||J===s$||$===Q)return J;let X=a$(J),Y=X.length>>>1;if($===0&&X[X.length-2]===Q)return s$;let Z=g6.findIndexInTokensArray(X,$),G=Z>0?X[Z-1<<1]:0,q=X[Z<<1];if(Q<q){let B=Q-$;for(let V=Z;V<Y;V++)X[V<<1]-=B;return J}let U,z;if(G!==$)X[Z<<1]=$,U=Z+1<<1,z=$;else U=Z<<1,z=G;let H=Q-$;for(let B=Z+1;B<Y;B++){let V=X[B<<1]-H;if(V>z)X[U++]=V,X[U++]=X[(B<<1)+1],z=V}if(U===X.length)return J;let j=new Uint32Array(U);return j.set(X.subarray(0,U),0),j.buffer}static append(J,$){if($===s$)return J;if(J===s$)return $;if(J===null)return J;if($===null)return null;let Q=a$(J),X=a$($),Y=X.length>>>1,Z=new Uint32Array(Q.length+X.length);Z.set(Q,0);let G=Q.length,q=Q[Q.length-2];for(let U=0;U<Y;U++)Z[G++]=X[U<<1]+q,Z[G++]=X[(U<<1)+1];return Z.buffer}static insert(J,$,Q){if(J===null||J===s$)return J;let X=a$(J),Y=X.length>>>1,Z=g6.findIndexInTokensArray(X,$);if(Z>0){if(X[Z-1<<1]===$)Z--}for(let G=Z;G<Y;G++)X[G<<1]+=Q;return J}}function a$(J){if(J instanceof Uint32Array)return J;else return new Uint32Array(J)}var s$;var Ic=E(()=>{sQ();s$=new Uint32Array(0).buffer});class Mq{constructor(J){this._lineTokens=[],this._len=0,this._languageIdCodec=J}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(J,$,Q){let X=null;if($<this._len)X=this._lineTokens[$];if(X!==null&&X!==s$)return new g6(a$(X),Q,this._languageIdCodec);let Y=new Uint32Array(2);return Y[0]=Q.length,Y[1]=yc(this._languageIdCodec.encodeLanguageId(J)),new g6(Y,Q,this._languageIdCodec)}static _massageTokens(J,$,Q){let X=Q?a$(Q):null;if($===0){let Y=!1;if(X&&X.length>1)Y=t5.getLanguageId(X[1])!==J;if(!Y)return s$}if(!X||X.length===0){let Y=new Uint32Array(2);return Y[0]=$,Y[1]=yc(J),Y.buffer}if(X[X.length-2]=$,X.byteOffset===0&&X.byteLength===X.buffer.byteLength)return X.buffer;return X}_ensureLine(J){while(J>=this._len)this._lineTokens[this._len]=null,this._len++}_deleteLines(J,$){if($===0)return;if(J+$>this._len)$=this._len-J;this._lineTokens.splice(J,$),this._len-=$}_insertLines(J,$){if($===0)return;let Q=[];for(let X=0;X<$;X++)Q[X]=null;this._lineTokens=pX(this._lineTokens,J,Q),this._len+=$}setTokens(J,$,Q,X,Y){let Z=Mq._massageTokens(this._languageIdCodec.encodeLanguageId(J),Q,X);this._ensureLine($);let G=this._lineTokens[$];if(this._lineTokens[$]=Z,Y)return!Mq._equals(G,Z);return!1}static _equals(J,$){if(!J||!$)return!J&&!$;let Q=a$(J),X=a$($);if(Q.length!==X.length)return!1;for(let Y=0,Z=Q.length;Y<Z;Y++)if(Q[Y]!==X[Y])return!1;return!0}acceptEdit(J,$,Q){this._acceptDeleteRange(J),this._acceptInsertText(new s(J.startLineNumber,J.startColumn),$,Q)}_acceptDeleteRange(J){let $=J.startLineNumber-1;if($>=this._len)return;if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._lineTokens[$]=bJ.delete(this._lineTokens[$],J.startColumn-1,J.endColumn-1);return}this._lineTokens[$]=bJ.deleteEnding(this._lineTokens[$],J.startColumn-1);let Q=J.endLineNumber-1,X=null;if(Q<this._len)X=bJ.deleteBeginning(this._lineTokens[Q],J.endColumn-1);this._lineTokens[$]=bJ.append(this._lineTokens[$],X),this._deleteLines(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$,Q){if($===0&&Q===0)return;let X=J.lineNumber-1;if(X>=this._len)return;if($===0){this._lineTokens[X]=bJ.insert(this._lineTokens[X],J.column-1,Q);return}this._lineTokens[X]=bJ.deleteEnding(this._lineTokens[X],J.column-1),this._lineTokens[X]=bJ.insert(this._lineTokens[X],J.column-1,Q),this._insertLines(J.lineNumber,$)}setMultilineTokens(J,$){if(J.length===0)return{changes:[]};let Q=[];for(let X=0,Y=J.length;X<Y;X++){let Z=J[X],G=0,q=0,U=!1;for(let z=Z.startLineNumber;z<=Z.endLineNumber;z++)if(U)this.setTokens($.getLanguageId(),z-1,$.getLineLength(z),Z.getLineTokens(z),!1),q=z;else if(this.setTokens($.getLanguageId(),z-1,$.getLineLength(z),Z.getLineTokens(z),!0))U=!0,G=z,q=z;if(U)Q.push({fromLineNumber:G,toLineNumber:q})}return{changes:Q}}}function yc(J){return(J<<0|0|0|32768|33554432|1024)>>>0}var xc=E(()=>{B1();Ic();sQ()});class kA{constructor(J){this._pieces=[],this._isComplete=!1,this._languageIdCodec=J}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(J,$){this._pieces=J||[],this._isComplete=$}setPartial(J,$){let Q=J;if($.length>0){let Y=$[0].getRange(),Z=$[$.length-1].getRange();if(!Y||!Z)return J;Q=J.plusRange(Y).plusRange(Z)}let X=null;for(let Y=0,Z=this._pieces.length;Y<Z;Y++){let G=this._pieces[Y];if(G.endLineNumber<Q.startLineNumber)continue;if(G.startLineNumber>Q.endLineNumber){X=X||{index:Y};break}if(G.removeTokens(Q),G.isEmpty()){this._pieces.splice(Y,1),Y--,Z--;continue}if(G.endLineNumber<Q.startLineNumber)continue;if(G.startLineNumber>Q.endLineNumber){X=X||{index:Y};continue}let[q,U]=G.split(Q);if(q.isEmpty()){X=X||{index:Y};continue}if(U.isEmpty())continue;this._pieces.splice(Y,1,q,U),Y++,Z++,X=X||{index:Y}}if(X=X||{index:this._pieces.length},$.length>0)this._pieces=pX(this._pieces,X.index,$);return Q}isComplete(){return this._isComplete}addSparseTokens(J,$){if($.getLineContent().length===0)return $;let Q=this._pieces;if(Q.length===0)return $;let X=kA._findFirstPieceWithLine(Q,J),Y=Q[X].getLineTokens(J);if(!Y)return $;let Z=$.getCount(),G=Y.getCount(),q=0,U=[],z=0,H=0,j=(B,V)=>{if(B===H)return;H=B,U[z++]=B,U[z++]=V};for(let B=0;B<G;B++){let V=Y.getStartCharacter(B),W=Y.getEndCharacter(B),K=Y.getMetadata(B),A=((K&1?2048:0)|(K&2?4096:0)|(K&4?8192:0)|(K&8?16384:0)|(K&16?16744448:0)|(K&32?4278190080:0))>>>0,F=~A>>>0;while(q<Z&&$.getEndOffset(q)<=V)j($.getEndOffset(q),$.getMetadata(q)),q++;if(q<Z&&$.getStartOffset(q)<V)j(V,$.getMetadata(q));while(q<Z&&$.getEndOffset(q)<W)j($.getEndOffset(q),$.getMetadata(q)&F|K&A),q++;if(q<Z){if(j(W,$.getMetadata(q)&F|K&A),$.getEndOffset(q)===W)q++}else{let P=Math.min(Math.max(0,q-1),Z-1);j(W,$.getMetadata(P)&F|K&A)}}while(q<Z)j($.getEndOffset(q),$.getMetadata(q)),q++;return new g6(new Uint32Array(U),$.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(J,$){let Q=0,X=J.length-1;while(Q<X){let Y=Q+Math.floor((X-Q)/2);if(J[Y].endLineNumber<$)Q=Y+1;else if(J[Y].startLineNumber>$)X=Y-1;else{while(Y>Q&&J[Y-1].startLineNumber<=$&&$<=J[Y-1].endLineNumber)Y--;return Y}}return Q}acceptEdit(J,$,Q,X,Y){for(let Z of this._pieces)Z.acceptEdit(J,$,Q,X,Y)}}var bc=E(()=>{B1();sQ()});var Yj,Sc,Cc;var vc=E(()=>{B1();J6();T1();E0();B0();s7();pG();w8();FT();Ec();Cw();xc();bc();Yj=class Yj extends bH{constructor(J,$,Q,X,Y,Z){super();this._languageService=J,this._languageConfigurationService=$,this._textModel=Q,this._bracketPairsTextModelPart=X,this._languageId=Y,this._attachedViews=Z,this._semanticTokens=new kA(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new p),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new p),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new p),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new Sc(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange((G)=>{if(G.affects(this._languageId))this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens((G)=>{this._emitModelTokensChangedEvent(G)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState((G)=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(J){if(J.isFlush)this._semanticTokens.flush();else if(!J.isEolChange)for(let $ of J.changes){let[Q,X,Y]=$4($.text);this._semanticTokens.acceptEdit($.range,Q,X,Y,$.text.length>0?$.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(J)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(J){this.validateLineNumber(J);let $=this.grammarTokens.getLineTokens(J);return this._semanticTokens.addSparseTokens(J,$)}_emitModelTokensChangedEvent(J){if(!this._textModel._isDisposing())this._bracketPairsTextModelPart.handleDidChangeTokens(J),this._onDidChangeTokens.fire(J)}validateLineNumber(J){if(J<1||J>this._textModel.getLineCount())throw new l1("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(J){this.validateLineNumber(J),this.grammarTokens.forceTokenization(J)}isCheapToTokenize(J){return this.validateLineNumber(J),this.grammarTokens.isCheapToTokenize(J)}tokenizeIfCheap(J){this.validateLineNumber(J),this.grammarTokens.tokenizeIfCheap(J)}getTokenTypeIfInsertingCharacter(J,$,Q){return this.grammarTokens.getTokenTypeIfInsertingCharacter(J,$,Q)}tokenizeLineWithEdit(J,$,Q){return this.grammarTokens.tokenizeLineWithEdit(J,$,Q)}setSemanticTokens(J,$){this._semanticTokens.set(J,$),this._emitModelTokensChangedEvent({semanticTokensApplied:J!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(J,$){if(this.hasCompleteSemanticTokens())return;let Q=this._textModel.validateRange(this._semanticTokens.setPartial(J,$));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:Q.startLineNumber,toLineNumber:Q.endLineNumber}]})}getWordAtPosition(J){this.assertNotDisposed();let $=this._textModel.validatePosition(J),Q=this._textModel.getLineContent($.lineNumber),X=this.getLineTokens($.lineNumber),Y=X.findTokenIndexAtOffset($.column-1),[Z,G]=Yj._findLanguageBoundaries(X,Y),q=cX($.column,this.getLanguageConfiguration(X.getLanguageId(Y)).getWordDefinition(),Q.substring(Z,G),Z);if(q&&q.startColumn<=J.column&&J.column<=q.endColumn)return q;if(Y>0&&Z===$.column-1){let[U,z]=Yj._findLanguageBoundaries(X,Y-1),H=cX($.column,this.getLanguageConfiguration(X.getLanguageId(Y-1)).getWordDefinition(),Q.substring(U,z),U);if(H&&H.startColumn<=J.column&&J.column<=H.endColumn)return H}return null}getLanguageConfiguration(J){return this._languageConfigurationService.getLanguageConfiguration(J)}static _findLanguageBoundaries(J,$){let Q=J.getLanguageId($),X=0;for(let Z=$;Z>=0&&J.getLanguageId(Z)===Q;Z--)X=J.getStartOffset(Z);let Y=J.getLineContent().length;for(let Z=$,G=J.getCount();Z<G&&J.getLanguageId(Z)===Q;Z++)Y=J.getEndOffset(Z);return[X,Y]}getWordUntilPosition(J){let $=this.getWordAtPosition(J);if(!$)return{word:"",startColumn:J.column,endColumn:J.column};return{word:$.word.substr(0,J.column-$.startColumn),startColumn:$.startColumn,endColumn:J.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(J,$){let Q=this._textModel.validatePosition(new s(J,$)),X=this.getLineTokens(Q.lineNumber);return X.getLanguageId(X.findTokenIndexAtOffset(Q.column-1))}setLanguageId(J,$="api"){if(this._languageId===J)return;let Q={oldLanguage:this._languageId,newLanguage:J,source:$};this._languageId=J,this._bracketPairsTextModelPart.handleDidChangeLanguage(Q),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(Q),this._onDidChangeLanguageConfiguration.fire({})}};Sc=class Sc extends r{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(J,$,Q,X){super();this._languageIdCodec=J,this._textModel=$,this.getLanguageId=Q,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new r5),this._tokens=new Mq(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new r5),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new p),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new p),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new CZ),this._register(Q6.onDidChange((Y)=>{let Z=this.getLanguageId();if(Y.changedLanguages.indexOf(Z)===-1)return;this.resetTokenization()})),this.resetTokenization(),this._register(X.onDidChangeVisibleRanges(({view:Y,state:Z})=>{if(Z){let G=this._attachedViewStates.get(Y);if(!G)G=new Cc(()=>this.refreshRanges(G.lineRanges)),this._attachedViewStates.set(Y,G);G.handleStateChange(Z)}else this._attachedViewStates.deleteAndDispose(Y)}))}resetTokenization(J=!0){var $;if(this._tokens.flush(),($=this._debugBackgroundTokens)===null||$===void 0||$.flush(),this._debugBackgroundStates)this._debugBackgroundStates=new Xj(this._textModel.getLineCount());if(J)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});let Q=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];let Z=Q6.get(this.getLanguageId());if(!Z)return[null,null];let G;try{G=Z.getInitialState()}catch(q){return Z1(q),[null,null]}return[Z,G]},[X,Y]=Q();if(X&&Y)this._tokenizer=new vw(this._textModel.getLineCount(),X,this._textModel,this._languageIdCodec);else this._tokenizer=null;if(this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){let Z={setTokens:(G)=>{this.setTokens(G)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;let G=2;this._backgroundTokenizationState=G,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(G,q)=>{var U;if(!this._tokenizer)return;let z=this._tokenizer.store.getFirstInvalidEndStateLineNumber();if(z!==null&&G>=z)(U=this._tokenizer)===null||U===void 0||U.store.setEndState(G,q)}};if(X&&X.createBackgroundTokenizer&&!X.backgroundTokenizerShouldOnlyVerifyTokens)this._backgroundTokenizer.value=X.createBackgroundTokenizer(this._textModel,Z);if(!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization())this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new hw(this._tokenizer,Z),this._defaultBackgroundTokenizer.handleChanges();if((X===null||X===void 0?void 0:X.backgroundTokenizerShouldOnlyVerifyTokens)&&X.createBackgroundTokenizer)this._debugBackgroundTokens=new Mq(this._languageIdCodec),this._debugBackgroundStates=new Xj(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=X.createBackgroundTokenizer(this._textModel,{setTokens:(G)=>{var q;(q=this._debugBackgroundTokens)===null||q===void 0||q.setMultilineTokens(G,this._textModel)},backgroundTokenizationFinished(){},setEndState:(G,q)=>{var U;(U=this._debugBackgroundStates)===null||U===void 0||U.setEndState(G,q)}});else this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var J;(J=this._defaultBackgroundTokenizer)===null||J===void 0||J.handleChanges()}handleDidChangeContent(J){var $,Q,X;if(J.isFlush)this.resetTokenization(!1);else if(!J.isEolChange){for(let Y of J.changes){let[Z,G]=$4(Y.text);this._tokens.acceptEdit(Y.range,Z,G),($=this._debugBackgroundTokens)===null||$===void 0||$.acceptEdit(Y.range,Z,G)}if((Q=this._debugBackgroundStates)===null||Q===void 0||Q.acceptChanges(J.changes),this._tokenizer)this._tokenizer.store.acceptChanges(J.changes);(X=this._defaultBackgroundTokenizer)===null||X===void 0||X.handleChanges()}}setTokens(J){let{changes:$}=this._tokens.setMultilineTokens(J,this._textModel);if($.length>0)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:$});return{changes:$}}refreshAllVisibleLineTokens(){let J=l0.joinMany([...this._attachedViewStates].map(([$,Q])=>Q.lineRanges));this.refreshRanges(J)}refreshRanges(J){for(let $ of J)this.refreshRange($.startLineNumber,$.endLineNumberExclusive-1)}refreshRange(J,$){var Q,X;if(!this._tokenizer)return;J=Math.max(1,Math.min(this._textModel.getLineCount(),J)),$=Math.min(this._textModel.getLineCount(),$);let Y=new Rq,{heuristicTokens:Z}=this._tokenizer.tokenizeHeuristically(Y,J,$),G=this.setTokens(Y.finalize());if(Z)for(let q of G.changes)(Q=this._backgroundTokenizer.value)===null||Q===void 0||Q.requestTokens(q.fromLineNumber,q.toLineNumber+1);(X=this._defaultBackgroundTokenizer)===null||X===void 0||X.checkFinished()}forceTokenization(J){var $,Q;let X=new Rq;($=this._tokenizer)===null||$===void 0||$.updateTokensUntilLine(X,J),this.setTokens(X.finalize()),(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.checkFinished()}isCheapToTokenize(J){if(!this._tokenizer)return!0;return this._tokenizer.isCheapToTokenize(J)}tokenizeIfCheap(J){if(this.isCheapToTokenize(J))this.forceTokenization(J)}getLineTokens(J){var $;let Q=this._textModel.getLineContent(J),X=this._tokens.getTokens(this._textModel.getLanguageId(),J-1,Q);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer){if(this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>J&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>J){let Y=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),J-1,Q);if(!X.equals(Y)&&(($=this._debugBackgroundTokenizer.value)===null||$===void 0?void 0:$.reportMismatchingTokens))this._debugBackgroundTokenizer.value.reportMismatchingTokens(J)}}return X}getTokenTypeIfInsertingCharacter(J,$,Q){if(!this._tokenizer)return 0;let X=this._textModel.validatePosition(new s(J,$));return this.forceTokenization(X.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(X,Q)}tokenizeLineWithEdit(J,$,Q){if(!this._tokenizer)return null;let X=this._textModel.validatePosition(J);return this.forceTokenization(X.lineNumber),this._tokenizer.tokenizeLineWithEdit(X,$,Q)}get hasTokens(){return this._tokens.hasTokens}};Cc=class Cc extends r{get lineRanges(){return this._lineRanges}constructor(J){super();this._refreshTokens=J,this.runner=this._register(new z6(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){if(B6(this._computedLineRanges,this._lineRanges,(J,$)=>J.equals($)))return;this._computedLineRanges=this._lineRanges,this._refreshTokens()}handleStateChange(J){if(this._lineRanges=J.visibleLineRanges,J.stabilized)this.runner.cancel(),this.update();else this.runner.schedule()}}});class fw{constructor(){this.changeType=1}}class w7{static applyInjectedText(J,$){if(!$||$.length===0)return J;let Q="",X=0;for(let Y of $)Q+=J.substring(X,Y.column-1),X=Y.column-1,Q+=Y.options.content;return Q+=J.substring(X),Q}static fromDecorations(J){let $=[];for(let Q of J){if(Q.options.before&&Q.options.before.content.length>0)$.push(new w7(Q.ownerId,Q.range.startLineNumber,Q.range.startColumn,Q.options.before,0));if(Q.options.after&&Q.options.after.content.length>0)$.push(new w7(Q.ownerId,Q.range.endLineNumber,Q.range.endColumn,Q.options.after,1))}return $.sort((Q,X)=>{if(Q.lineNumber===X.lineNumber){if(Q.column===X.column)return Q.order-X.order;return Q.column-X.column}return Q.lineNumber-X.lineNumber}),$}constructor(J,$,Q,X,Y){this.ownerId=J,this.lineNumber=$,this.column=Q,this.options=X,this.order=Y}}class EA{constructor(J,$,Q){this.changeType=2,this.lineNumber=J,this.detail=$,this.injectedText=Q}}class gw{constructor(J,$){this.changeType=3,this.fromLineNumber=J,this.toLineNumber=$}}class pw{constructor(J,$,Q,X){this.changeType=4,this.injectedTexts=X,this.fromLineNumber=J,this.toLineNumber=$,this.detail=Q}}class mw{constructor(){this.changeType=5}}class l2{constructor(J,$,Q,X){this.changes=J,this.versionId=$,this.isUndoing=Q,this.isRedoing=X,this.resultingSelection=null}containsEvent(J){for(let $=0,Q=this.changes.length;$<Q;$++)if(this.changes[$].changeType===J)return!0;return!1}static merge(J,$){let Q=[].concat(J.changes).concat($.changes),X=$.versionId,Y=J.isUndoing||$.isUndoing,Z=J.isRedoing||$.isRedoing;return new l2(Q,X,Y,Z)}}class Zj{constructor(J){this.changes=J}}class FX{constructor(J,$){this.rawContentChangedEvent=J,this.contentChangedEvent=$}merge(J){let $=l2.merge(this.rawContentChangedEvent,J.rawContentChangedEvent),Q=FX._mergeChangeEvents(this.contentChangedEvent,J.contentChangedEvent);return new FX($,Q)}static _mergeChangeEvents(J,$){let Q=[].concat(J.changes).concat($.changes),X=$.eol,Y=$.versionId,Z=J.isUndoing||$.isUndoing,G=J.isRedoing||$.isRedoing,q=J.isFlush||$.isFlush,U=J.isEolChange&&$.isEolChange;return{changes:Q,eol:X,isEolChange:U,versionId:Y,isUndoing:Z,isRedoing:G,isFlush:q}}}class IA{constructor(J,$){this.resource=J,this.elements=$}}class d2{constructor(){this.id=d2._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}class SJ{constructor(){this.id=SJ._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}var Oq;var yA=E(()=>{n0();Oq=b0("undoRedoService");d2._ID=0;d2.None=new d2;SJ._ID=0;SJ.None=new SJ});function m70(J){let $=new LA;return $.acceptChunk(J),$.finish()}function u70(J){let $=new LA,Q;while(typeof(Q=J.read())==="string")$.acceptChunk(Q);return $.finish()}function hc(J,$){let Q;if(typeof J==="string")Q=m70(J);else if(gv(J))Q=u70(J);else Q=J;return Q.create($)}class pc{constructor(J){this._source=J,this._eos=!1}read(){if(this._eos)return null;let J=[],$=0,Q=0;do{let X=this._source.read();if(X===null)if(this._eos=!0,$===0)return null;else return J.join("");if(X.length>0)J[$++]=X,Q+=X.length;if(Q>=65536)return J.join("")}while(!0)}}function d70(J){let $=0;for(let Q of J)if(Q===" "||Q==="\t")$++;else break;return $}function cw(J){return J.options.overviewRuler&&J.options.overviewRuler.color?!0:!1}function s70(J){return!!J.after||!!J.before}function bA(J){return!!J.options.after||!!J.options.before}class lw{constructor(){this._decorationsTree0=new nH,this._decorationsTree1=new nH,this._injectedTextDecorationsTree=new nH}ensureAllNodesHaveRanges(J){this.getAll(J,0,!1,!1,!1)}_ensureNodesHaveRanges(J,$){for(let Q of $)if(Q.range===null)Q.range=J.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd);return $}getAllInInterval(J,$,Q,X,Y,Z){let G=J.getVersionId(),q=this._intervalSearch($,Q,X,Y,G,Z);return this._ensureNodesHaveRanges(J,q)}_intervalSearch(J,$,Q,X,Y,Z){let G=this._decorationsTree0.intervalSearch(J,$,Q,X,Y,Z),q=this._decorationsTree1.intervalSearch(J,$,Q,X,Y,Z),U=this._injectedTextDecorationsTree.intervalSearch(J,$,Q,X,Y,Z);return G.concat(q).concat(U)}getInjectedTextInInterval(J,$,Q,X){let Y=J.getVersionId(),Z=this._injectedTextDecorationsTree.intervalSearch($,Q,X,!1,Y,!1);return this._ensureNodesHaveRanges(J,Z).filter((G)=>G.options.showIfCollapsed||!G.range.isEmpty())}getAllInjectedText(J,$){let Q=J.getVersionId(),X=this._injectedTextDecorationsTree.search($,!1,Q,!1);return this._ensureNodesHaveRanges(J,X).filter((Y)=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(J,$,Q,X,Y){let Z=J.getVersionId(),G=this._search($,Q,X,Z,Y);return this._ensureNodesHaveRanges(J,G)}_search(J,$,Q,X,Y){if(Q)return this._decorationsTree1.search(J,$,X,Y);else{let Z=this._decorationsTree0.search(J,$,X,Y),G=this._decorationsTree1.search(J,$,X,Y),q=this._injectedTextDecorationsTree.search(J,$,X,Y);return Z.concat(G).concat(q)}}collectNodesFromOwner(J){let $=this._decorationsTree0.collectNodesFromOwner(J),Q=this._decorationsTree1.collectNodesFromOwner(J),X=this._injectedTextDecorationsTree.collectNodesFromOwner(J);return $.concat(Q).concat(X)}collectNodesPostOrder(){let J=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),Q=this._injectedTextDecorationsTree.collectNodesPostOrder();return J.concat($).concat(Q)}insert(J){if(bA(J))this._injectedTextDecorationsTree.insert(J);else if(cw(J))this._decorationsTree1.insert(J);else this._decorationsTree0.insert(J)}delete(J){if(bA(J))this._injectedTextDecorationsTree.delete(J);else if(cw(J))this._decorationsTree1.delete(J);else this._decorationsTree0.delete(J)}getNodeRange(J,$){let Q=J.getVersionId();if($.cachedVersionId!==Q)this._resolveNode($,Q);if($.range===null)$.range=J.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd);return $.range}_resolveNode(J,$){if(bA(J))this._injectedTextDecorationsTree.resolveNode(J,$);else if(cw(J))this._decorationsTree1.resolveNode(J,$);else this._decorationsTree0.resolveNode(J,$)}acceptReplace(J,$,Q,X){this._decorationsTree0.acceptReplace(J,$,Q,X),this._decorationsTree1.acceptReplace(J,$,Q,X),this._injectedTextDecorationsTree.acceptReplace(J,$,Q,X)}}function r$(J){return J.replace(/[^a-z0-9\-_]/gi," ")}class dw{constructor(J){this.color=J.color||"",this.darkColor=J.darkColor||""}}class uc{constructor(J){var $;this.position=($=J===null||J===void 0?void 0:J.position)!==null&&$!==void 0?$:i9.Center,this.persistLane=J===null||J===void 0?void 0:J.persistLane}}class qj{static from(J){if(J instanceof qj)return J;return new qj(J)}constructor(J){this.content=J.content||"",this.inlineClassName=J.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=J.attachedData||null,this.cursorStops=J.cursorStops||null}}class C1{static register(J){return new C1(J)}static createDynamic(J){return new C1(J)}constructor(J){var $,Q,X,Y,Z,G;this.description=J.description,this.blockClassName=J.blockClassName?r$(J.blockClassName):null,this.blockDoesNotCollapse=($=J.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(Q=J.blockIsAfterEnd)!==null&&Q!==void 0?Q:null,this.blockPadding=(X=J.blockPadding)!==null&&X!==void 0?X:null,this.stickiness=J.stickiness||0,this.zIndex=J.zIndex||0,this.className=J.className?r$(J.className):null,this.shouldFillLineOnLineBreak=(Y=J.shouldFillLineOnLineBreak)!==null&&Y!==void 0?Y:null,this.hoverMessage=J.hoverMessage||null,this.glyphMarginHoverMessage=J.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=J.lineNumberHoverMessage||null,this.isWholeLine=J.isWholeLine||!1,this.showIfCollapsed=J.showIfCollapsed||!1,this.collapseOnReplaceEdit=J.collapseOnReplaceEdit||!1,this.overviewRuler=J.overviewRuler?new mc(J.overviewRuler):null,this.minimap=J.minimap?new cc(J.minimap):null,this.glyphMargin=J.glyphMarginClassName?new uc(J.glyphMargin):null,this.glyphMarginClassName=J.glyphMarginClassName?r$(J.glyphMarginClassName):null,this.linesDecorationsClassName=J.linesDecorationsClassName?r$(J.linesDecorationsClassName):null,this.lineNumberClassName=J.lineNumberClassName?r$(J.lineNumberClassName):null,this.linesDecorationsTooltip=J.linesDecorationsTooltip?bS(J.linesDecorationsTooltip):null,this.firstLineDecorationClassName=J.firstLineDecorationClassName?r$(J.firstLineDecorationClassName):null,this.marginClassName=J.marginClassName?r$(J.marginClassName):null,this.inlineClassName=J.inlineClassName?r$(J.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=J.beforeContentClassName?r$(J.beforeContentClassName):null,this.afterContentClassName=J.afterContentClassName?r$(J.afterContentClassName):null,this.after=J.after?qj.from(J.after):null,this.before=J.before?qj.from(J.before):null,this.hideInCommentTokens=(Z=J.hideInCommentTokens)!==null&&Z!==void 0?Z:!1,this.hideInStringTokens=(G=J.hideInStringTokens)!==null&&G!==void 0?G:!1}}function gc(J){if(J instanceof C1)return J;return C1.createDynamic(J)}class sc{constructor(){this._onDidChangeVisibleRanges=new p,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){let J=new ac(($)=>{this._onDidChangeVisibleRanges.fire({view:J,state:$})});return this._views.add(J),J}detachView(J){this._views.delete(J),this._onDidChangeVisibleRanges.fire({view:J,state:void 0})}}class ac{constructor(J){this.handleStateChange=J}setVisibleLines(J,$){let Q=J.map((X)=>new l0(X.startLineNumber,X.endLineNumber+1));this.handleStateChange({visibleLineRanges:Q,stabilized:$})}}var p70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},uw=function(J,$){return function(Q,X){$(Q,X,J)}},s2,xA=0,c70=999,l70=1e4,Gj=()=>{throw Error("Invalid change accessor")},KX,mc,cc,fc,lc,dc;var hY=E(()=>{B1();a7();T1();E0();B0();G1();V5();mN();s7();e0();u5();iU();d9();d8();l7();ru();iu();Ow();AT();Kc();xw();Nc();iF();vc();yA();KX=s2=class extends r{static resolveOptions($,Q){if(Q.detectIndentation){let X=_w($,Q.tabSize,Q.insertSpaces);return new K2({tabSize:X.tabSize,indentSize:"tabSize",insertSpaces:X.insertSpaces,trimAutoWhitespace:Q.trimAutoWhitespace,defaultEOL:Q.defaultEOL,bracketPairColorizationOptions:Q.bracketPairColorizationOptions})}return new K2(Q)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent($){return this._eventEmitter.slowEvent((Q)=>$(Q.contentChangedEvent))}onDidChangeContentOrInjectedText($){return p8(this._eventEmitter.fastEvent((Q)=>$(Q)),this._onDidChangeInjectedText.event((Q)=>$(Q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor($,Q,X,Y=null,Z,G,q){super();if(this._undoRedoService=Z,this._languageService=G,this._languageConfigurationService=q,this._onWillDispose=this._register(new p),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new lc((V)=>this.handleBeforeFireDecorationsChangedEvent(V))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new p),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new p),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new p),this._eventEmitter=this._register(new dc),this._languageSelectionListener=this._register(new r5),this._deltaDecorationCallCnt=0,this._attachedViews=new sc,xA++,this.id="$model"+xA,this.isForSimpleWidget=X.isForSimpleWidget,typeof Y>"u"||Y===null)this._associatedResource=m0.parse("inmemory://model/"+xA);else this._associatedResource=Y;this._attachedEditorCount=0;let{textBuffer:U,disposable:z}=hc($,X.defaultEOL);this._buffer=U,this._bufferDisposable=z,this._options=s2.resolveOptions(this._buffer,X);let H=typeof Q==="string"?Q:Q.languageId;if(typeof Q!=="string")this._languageSelectionListener.value=Q.onDidChange(()=>this._setLanguage(Q.languageId));this._bracketPairs=this._register(new Ww(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new KT(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Bw(this)),this._tokenizationTextModelPart=new Yj(this._languageService,this._languageConfigurationService,this,this._bracketPairs,H,this._attachedViews);let j=this._buffer.getLineCount(),B=this._buffer.getValueLengthInRange(new v(1,1,j,this._buffer.getLineLength(j)+1),0);if(X.largeFileOptimizations)this._isTooLargeForTokenization=B>s2.LARGE_FILE_SIZE_THRESHOLD||j>s2.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=B>s2.LARGE_FILE_HEAP_OPERATION_THRESHOLD;else this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1;this._isTooLargeForSyncing=B>s2._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=lB(xA),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new lw,this._commandManager=new NA(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(H)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;let $=new vY([],"",`
`,!1,!1,!0,!0);$.dispose(),this._buffer=$,this._bufferDisposable=r.None}_assertNotDisposed(){if(this._isDisposed)throw Error("Model is disposed!")}_emitContentChangedEvent($,Q){if(this.__isDisposing)return;this._tokenizationTextModelPart.handleDidChangeContent(Q),this._bracketPairs.handleDidChangeContent(Q),this._eventEmitter.fire(new FX($,Q))}setValue($){if(this._assertNotDisposed(),$===null||$===void 0)throw YJ();let{textBuffer:Q,disposable:X}=hc($,this._options.defaultEOL);this._setValueFromTextBuffer(Q,X)}_createContentChanged2($,Q,X,Y,Z,G,q,U){return{changes:[{range:$,rangeOffset:Q,rangeLength:X,text:Y}],eol:this._buffer.getEOL(),isEolChange:U,versionId:this.getVersionId(),isUndoing:Z,isRedoing:G,isFlush:q}}_setValueFromTextBuffer($,Q){this._assertNotDisposed();let X=this.getFullModelRange(),Y=this.getValueLengthInRange(X),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._buffer=$,this._bufferDisposable.dispose(),this._bufferDisposable=Q,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new lw,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new l2([new fw],this._versionId,!1,!1),this._createContentChanged2(new v(1,1,Z,G),0,Y,this.getValue(),!1,!1,!0,!1))}setEOL($){this._assertNotDisposed();let Q=$===1?`\r
`:`
`;if(this._buffer.getEOL()===Q)return;let X=this.getFullModelRange(),Y=this.getValueLengthInRange(X),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._onBeforeEOLChange(),this._buffer.setEOL(Q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new l2([new mw],this._versionId,!1,!1),this._createContentChanged2(new v(1,1,Z,G),0,Y,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let $=this.getVersionId(),Q=this._decorationsTree.collectNodesPostOrder();for(let X=0,Y=Q.length;X<Y;X++){let Z=Q[X],G=Z.range,q=Z.cachedAbsoluteStart-Z.start,U=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),z=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);Z.cachedAbsoluteStart=U,Z.cachedAbsoluteEnd=z,Z.cachedVersionId=$,Z.start=U-q,Z.end=z-q,VX(Z)}}onBeforeAttached(){if(this._attachedEditorCount++,this._attachedEditorCount===1)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);return this._attachedViews.attachView()}onBeforeDetached($){if(this._attachedEditorCount--,this._attachedEditorCount===0)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);this._attachedViews.detachView($)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let $=0,Q=0,X=this._buffer.getLineCount();for(let Y=1;Y<=X;Y++){let Z=this._buffer.getLineLength(Y);if(Z>=l70)Q+=Z;else $+=Z}return Q>$}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions($){this._assertNotDisposed();let Q=typeof $.tabSize<"u"?$.tabSize:this._options.tabSize,X=typeof $.indentSize<"u"?$.indentSize:this._options.originalIndentSize,Y=typeof $.insertSpaces<"u"?$.insertSpaces:this._options.insertSpaces,Z=typeof $.trimAutoWhitespace<"u"?$.trimAutoWhitespace:this._options.trimAutoWhitespace,G=typeof $.bracketColorizationOptions<"u"?$.bracketColorizationOptions:this._options.bracketPairColorizationOptions,q=new K2({tabSize:Q,indentSize:X,insertSpaces:Y,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Z,bracketPairColorizationOptions:G});if(this._options.equals(q))return;let U=this._options.createChangeEvent(q);this._options=q,this._bracketPairs.handleDidChangeOptions(U),this._decorationProvider.handleDidChangeOptions(U),this._onDidChangeOptions.fire(U)}detectIndentation($,Q){this._assertNotDisposed();let X=_w(this._buffer,Q,$);this.updateOptions({insertSpaces:X.insertSpaces,tabSize:X.tabSize,indentSize:X.tabSize})}normalizeIndentation($){return this._assertNotDisposed(),iK($,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators($=null){let Q=this.findMatches(gM.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations($,Q.map((X)=>({range:X.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt($){this._assertNotDisposed();let Q=this._validatePosition($.lineNumber,$.column,0);return this._buffer.getOffsetAt(Q.lineNumber,Q.column)}getPositionAt($){this._assertNotDisposed();let Q=Math.min(this._buffer.getLength(),Math.max(0,$));return this._buffer.getPositionAt(Q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId($){this._versionId=$}_overwriteAlternativeVersionId($){this._alternativeVersionId=$}_overwriteInitialUndoRedoSnapshot($){this._initialUndoRedoSnapshot=$}getValue($,Q=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new l1("Operation would exceed heap memory limits");let X=this.getFullModelRange(),Y=this.getValueInRange(X,$);if(Q)return this._buffer.getBOM()+Y;return Y}createSnapshot($=!1){return new pc(this._buffer.createSnapshot($))}getValueLength($,Q=!1){this._assertNotDisposed();let X=this.getFullModelRange(),Y=this.getValueLengthInRange(X,$);if(Q)return this._buffer.getBOM().length+Y;return Y}getValueInRange($,Q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange($),Q)}getValueLengthInRange($,Q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange($),Q)}getCharacterCountInRange($,Q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange($),Q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new l1("Illegal value for lineNumber");return this._buffer.getLineContent($)}getLineLength($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new l1("Illegal value for lineNumber");return this._buffer.getLineLength($)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new l1("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn($){return this._assertNotDisposed(),1}getLineMaxColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new l1("Illegal value for lineNumber");return this._buffer.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new l1("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn($)}getLineLastNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new l1("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn($)}_validateRangeRelaxedNoAllocations($){let Q=this._buffer.getLineCount(),X=$.startLineNumber,Y=$.startColumn,Z=Math.floor(typeof X==="number"&&!isNaN(X)?X:1),G=Math.floor(typeof Y==="number"&&!isNaN(Y)?Y:1);if(Z<1)Z=1,G=1;else if(Z>Q)Z=Q,G=this.getLineMaxColumn(Z);else if(G<=1)G=1;else{let j=this.getLineMaxColumn(Z);if(G>=j)G=j}let{endLineNumber:q,endColumn:U}=$,z=Math.floor(typeof q==="number"&&!isNaN(q)?q:1),H=Math.floor(typeof U==="number"&&!isNaN(U)?U:1);if(z<1)z=1,H=1;else if(z>Q)z=Q,H=this.getLineMaxColumn(z);else if(H<=1)H=1;else{let j=this.getLineMaxColumn(z);if(H>=j)H=j}if(X===Z&&Y===G&&q===z&&U===H&&$ instanceof v&&!($ instanceof d0))return $;return new v(Z,G,z,H)}_isValidPosition($,Q,X){if(typeof $!=="number"||typeof Q!=="number")return!1;if(isNaN($)||isNaN(Q))return!1;if($<1||Q<1)return!1;if(($|0)!==$||(Q|0)!==Q)return!1;let Y=this._buffer.getLineCount();if($>Y)return!1;if(Q===1)return!0;let Z=this.getLineMaxColumn($);if(Q>Z)return!1;if(X===1){let G=this._buffer.getLineCharCode($,Q-2);if(P6(G))return!1}return!0}_validatePosition($,Q,X){let Y=Math.floor(typeof $==="number"&&!isNaN($)?$:1),Z=Math.floor(typeof Q==="number"&&!isNaN(Q)?Q:1),G=this._buffer.getLineCount();if(Y<1)return new s(1,1);if(Y>G)return new s(G,this.getLineMaxColumn(G));if(Z<=1)return new s(Y,1);let q=this.getLineMaxColumn(Y);if(Z>=q)return new s(Y,q);if(X===1){let U=this._buffer.getLineCharCode(Y,Z-2);if(P6(U))return new s(Y,Z-1)}return new s(Y,Z)}validatePosition($){if(this._assertNotDisposed(),$ instanceof s){if(this._isValidPosition($.lineNumber,$.column,1))return $}return this._validatePosition($.lineNumber,$.column,1)}_isValidRange($,Q){let{startLineNumber:X,startColumn:Y,endLineNumber:Z,endColumn:G}=$;if(!this._isValidPosition(X,Y,0))return!1;if(!this._isValidPosition(Z,G,0))return!1;if(Q===1){let q=Y>1?this._buffer.getLineCharCode(X,Y-2):0,U=G>1&&G<=this._buffer.getLineLength(Z)?this._buffer.getLineCharCode(Z,G-2):0,z=P6(q),H=P6(U);if(!z&&!H)return!0;return!1}return!0}validateRange($){if(this._assertNotDisposed(),$ instanceof v&&!($ instanceof d0)){if(this._isValidRange($,1))return $}let X=this._validatePosition($.startLineNumber,$.startColumn,0),Y=this._validatePosition($.endLineNumber,$.endColumn,0),Z=X.lineNumber,G=X.column,q=Y.lineNumber,U=Y.column;{let z=G>1?this._buffer.getLineCharCode(Z,G-2):0,H=U>1&&U<=this._buffer.getLineLength(q)?this._buffer.getLineCharCode(q,U-2):0,j=P6(z),B=P6(H);if(!j&&!B)return new v(Z,G,q,U);if(Z===q&&G===U)return new v(Z,G-1,q,U-1);if(j&&B)return new v(Z,G-1,q,U+1);if(j)return new v(Z,G-1,q,U);return new v(Z,G,q,U+1)}return new v(Z,G,q,U)}modifyPosition($,Q){this._assertNotDisposed();let X=this.getOffsetAt($)+Q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,X)))}getFullModelRange(){this._assertNotDisposed();let $=this.getLineCount();return new v(1,1,$,this.getLineMaxColumn($))}findMatchesLineByLine($,Q,X,Y){return this._buffer.findMatchesLineByLine($,Q,X,Y)}findMatches($,Q,X,Y,Z,G,q=c70){this._assertNotDisposed();let U=null;if(Q!==null){if(!Array.isArray(Q))Q=[Q];if(Q.every((j)=>v.isIRange(j)))U=Q.map((j)=>this.validateRange(j))}if(U===null)U=[this.getFullModelRange()];U=U.sort((j,B)=>j.startLineNumber-B.startLineNumber||j.startColumn-B.startColumn);let z=[];z.push(U.reduce((j,B)=>{if(v.areIntersecting(j,B))return j.plusRange(B);return z.push(j),B}));let H;if(!X&&$.indexOf(`
`)<0){let B=new HY($,X,Y,Z).parseSearchRequest();if(!B)return[];H=(V)=>this.findMatchesLineByLine(V,B,G,q)}else H=(j)=>D3.findMatches(this,new HY($,X,Y,Z),j,G,q);return z.map(H).reduce((j,B)=>j.concat(B),[])}findNextMatch($,Q,X,Y,Z,G){this._assertNotDisposed();let q=this.validatePosition(Q);if(!X&&$.indexOf(`
`)<0){let z=new HY($,X,Y,Z).parseSearchRequest();if(!z)return null;let H=this.getLineCount(),j=new v(q.lineNumber,q.column,H,this.getLineMaxColumn(H)),B=this.findMatchesLineByLine(j,z,G,1);if(D3.findNextMatch(this,new HY($,X,Y,Z),q,G),B.length>0)return B[0];if(j=new v(1,1,q.lineNumber,this.getLineMaxColumn(q.lineNumber)),B=this.findMatchesLineByLine(j,z,G,1),B.length>0)return B[0];return null}return D3.findNextMatch(this,new HY($,X,Y,Z),q,G)}findPreviousMatch($,Q,X,Y,Z,G){this._assertNotDisposed();let q=this.validatePosition(Q);return D3.findPreviousMatch(this,new HY($,X,Y,Z),q,G)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL($){if((this.getEOL()===`
`?0:1)===$)return;try{if(this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);this._commandManager.pushEOL($)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation($){if($ instanceof rz)return $;return new rz($.identifier||null,this.validateRange($.range),$.text,$.forceMoveMarkers||!1,$.isAutoWhitespaceEdit||!1,$._isTracked||!1)}_validateEditOperations($){let Q=[];for(let X=0,Y=$.length;X<Y;X++)Q[X]=this._validateEditOperation($[X]);return Q}pushEditOperations($,Q,X,Y){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations($,this._validateEditOperations(Q),X,Y)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations($,Q,X,Y){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let Z=Q.map((q)=>{return{range:this.validateRange(q.range),text:q.text}}),G=!0;if($)for(let q=0,U=$.length;q<U;q++){let z=$[q],H=!1;for(let j=0,B=Z.length;j<B;j++){let V=Z[j].range,W=V.startLineNumber>z.endLineNumber,K=z.startLineNumber>V.endLineNumber;if(!W&&!K){H=!0;break}}if(!H){G=!1;break}}if(G)for(let q=0,U=this._trimAutoWhitespaceLines.length;q<U;q++){let z=this._trimAutoWhitespaceLines[q],H=this.getLineMaxColumn(z),j=!0;for(let B=0,V=Z.length;B<V;B++){let W=Z[B].range,K=Z[B].text;if(z<W.startLineNumber||z>W.endLineNumber)continue;if(z===W.startLineNumber&&W.startColumn===H&&W.isEmpty()&&K&&K.length>0&&K.charAt(0)===`
`)continue;if(z===W.startLineNumber&&W.startColumn===1&&W.isEmpty()&&K&&K.length>0&&K.charAt(K.length-1)===`
`)continue;j=!1;break}if(j){let B=new v(z,1,z,H);Q.push(new rz(null,B,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}if(this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);return this._commandManager.pushEditOperation($,Q,X,Y)}_applyUndo($,Q,X,Y){let Z=$.map((G)=>{let q=this.getPositionAt(G.newPosition),U=this.getPositionAt(G.newEnd);return{range:new v(q.lineNumber,q.column,U.lineNumber,U.column),text:G.oldText}});this._applyUndoRedoEdits(Z,Q,!0,!1,X,Y)}_applyRedo($,Q,X,Y){let Z=$.map((G)=>{let q=this.getPositionAt(G.oldPosition),U=this.getPositionAt(G.oldEnd);return{range:new v(q.lineNumber,q.column,U.lineNumber,U.column),text:G.newText}});this._applyUndoRedoEdits(Z,Q,!1,!0,X,Y)}_applyUndoRedoEdits($,Q,X,Y,Z,G){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=X,this._isRedoing=Y,this.applyEdits($,!1),this.setEOL(Q),this._overwriteAlternativeVersionId(Z)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(G),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits($,Q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let X=this._validateEditOperations($);return this._doApplyEdits(X,Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits($,Q){let X=this._buffer.getLineCount(),Y=this._buffer.applyEdits($,this._options.trimAutoWhitespace,Q),Z=this._buffer.getLineCount(),G=Y.changes;if(this._trimAutoWhitespaceLines=Y.trimAutoWhitespaceLineNumbers,G.length!==0){for(let z=0,H=G.length;z<H;z++){let j=G[z];this._decorationsTree.acceptReplace(j.rangeOffset,j.rangeLength,j.text.length,j.forceMoveMarkers)}let q=[];this._increaseVersionId();let U=X;for(let z=0,H=G.length;z<H;z++){let j=G[z],[B]=$4(j.text);this._onDidChangeDecorations.fire();let V=j.range.startLineNumber,W=j.range.endLineNumber,K=W-V,A=B,F=Math.min(K,A),P=A-K,R=Z-U-P+V,D=R,_=R+A,O=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new s(D,1)),this.getOffsetAt(new s(_,this.getLineMaxColumn(_))),0),N=w7.fromDecorations(O),w=new $7(N);for(let T=F;T>=0;T--){let I=V+T,k=R+T;w.takeFromEndWhile((S)=>S.lineNumber>k);let x=w.takeFromEndWhile((S)=>S.lineNumber===k);q.push(new EA(I,this.getLineContent(k),x))}if(F<K){let T=V+F;q.push(new gw(T+1,W))}if(F<A){let T=new $7(N),I=V+F,k=A-F,x=Z-U-k+I+1,S=[],l=[];for(let d=0;d<k;d++){let y=x+d;l[d]=this.getLineContent(y),T.takeWhile((b)=>b.lineNumber<y),S[d]=T.takeWhile((b)=>b.lineNumber===y)}q.push(new pw(I+1,V+A,l,S))}U+=P}this._emitContentChangedEvent(new l2(q,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:G,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Y.reverseEdits===null?void 0:Y.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent($){if($===null||$.size===0)return;let X=Array.from($).map((Y)=>new EA(Y,this.getLineContent(Y),this._getInjectedTextInLine(Y)));this._onDidChangeInjectedText.fire(new Zj(X))}changeDecorations($,Q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(Q,$)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations($,Q){let X={addDecoration:(Z,G)=>{return this._deltaDecorationsImpl($,[],[{range:Z,options:G}])[0]},changeDecoration:(Z,G)=>{this._changeDecorationImpl(Z,G)},changeDecorationOptions:(Z,G)=>{this._changeDecorationOptionsImpl(Z,gc(G))},removeDecoration:(Z)=>{this._deltaDecorationsImpl($,[Z],[])},deltaDecorations:(Z,G)=>{if(Z.length===0&&G.length===0)return[];return this._deltaDecorationsImpl($,Z,G)}},Y=null;try{Y=Q(X)}catch(Z){Z1(Z)}return X.addDecoration=Gj,X.changeDecoration=Gj,X.changeDecorationOptions=Gj,X.removeDecoration=Gj,X.deltaDecorations=Gj,Y}deltaDecorations($,Q,X=0){if(this._assertNotDisposed(),!$)$=[];if($.length===0&&Q.length===0)return[];try{if(this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1)console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Z1(Error("Invoking deltaDecorations recursively could lead to leaking decorations."));return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(X,$,Q)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange($){return this.getDecorationRange($)}_setTrackedRange($,Q,X){let Y=$?this._decorations[$]:null;if(!Y){if(!Q)return null;return this._deltaDecorationsImpl(0,[],[{range:Q,options:fc[X]}],!0)[0]}if(!Q)return this._decorationsTree.delete(Y),delete this._decorations[Y.id],null;let Z=this._validateRangeRelaxedNoAllocations(Q),G=this._buffer.getOffsetAt(Z.startLineNumber,Z.startColumn),q=this._buffer.getOffsetAt(Z.endLineNumber,Z.endColumn);return this._decorationsTree.delete(Y),Y.reset(this.getVersionId(),G,q,Z),Y.setOptions(fc[X]),this._decorationsTree.insert(Y),Y.id}removeAllDecorationsWithOwnerId($){if(this._isDisposed)return;let Q=this._decorationsTree.collectNodesFromOwner($);for(let X=0,Y=Q.length;X<Y;X++){let Z=Q[X];this._decorationsTree.delete(Z),delete this._decorations[Z.id]}}getDecorationOptions($){let Q=this._decorations[$];if(!Q)return null;return Q.options}getDecorationRange($){let Q=this._decorations[$];if(!Q)return null;return this._decorationsTree.getNodeRange(this,Q)}getLineDecorations($,Q=0,X=!1){if($<1||$>this.getLineCount())return[];return this.getLinesDecorations($,$,Q,X)}getLinesDecorations($,Q,X=0,Y=!1,Z=!1){let G=this.getLineCount(),q=Math.min(G,Math.max(1,$)),U=Math.min(G,Math.max(1,Q)),z=this.getLineMaxColumn(U),H=new v(q,1,U,z),j=this._getDecorationsInRange(H,X,Y,Z);return lU(j,this._decorationProvider.getDecorationsInRange(H,X,Y)),j}getDecorationsInRange($,Q=0,X=!1,Y=!1,Z=!1){let G=this.validateRange($),q=this._getDecorationsInRange(G,Q,X,Z);return lU(q,this._decorationProvider.getDecorationsInRange(G,Q,X,Y)),q}getOverviewRulerDecorations($=0,Q=!1){return this._decorationsTree.getAll(this,$,Q,!0,!1)}getInjectedTextDecorations($=0){return this._decorationsTree.getAllInjectedText(this,$)}_getInjectedTextInLine($){let Q=this._buffer.getOffsetAt($,1),X=Q+this._buffer.getLineLength($),Y=this._decorationsTree.getInjectedTextInInterval(this,Q,X,0);return w7.fromDecorations(Y).filter((Z)=>Z.lineNumber===$)}getAllDecorations($=0,Q=!1){let X=this._decorationsTree.getAll(this,$,Q,!1,!1);return X=X.concat(this._decorationProvider.getAllDecorations($,Q)),X}getAllMarginDecorations($=0){return this._decorationsTree.getAll(this,$,!1,!1,!0)}_getDecorationsInRange($,Q,X,Y){let Z=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),G=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.getAllInInterval(this,Z,G,Q,X,Y)}getRangeAt($,Q){return this._buffer.getRangeAt($,Q-$)}_changeDecorationImpl($,Q){let X=this._decorations[$];if(!X)return;if(X.options.after){let q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.endLineNumber)}if(X.options.before){let q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.startLineNumber)}let Y=this._validateRangeRelaxedNoAllocations(Q),Z=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),G=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);if(this._decorationsTree.delete(X),X.reset(this.getVersionId(),Z,G,Y),this._decorationsTree.insert(X),this._onDidChangeDecorations.checkAffectedAndFire(X.options),X.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.endLineNumber);if(X.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.startLineNumber)}_changeDecorationOptionsImpl($,Q){let X=this._decorations[$];if(!X)return;let Y=X.options.overviewRuler&&X.options.overviewRuler.color?!0:!1,Z=Q.overviewRuler&&Q.overviewRuler.color?!0:!1;if(this._onDidChangeDecorations.checkAffectedAndFire(X.options),this._onDidChangeDecorations.checkAffectedAndFire(Q),X.options.after||Q.after){let U=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.endLineNumber)}if(X.options.before||Q.before){let U=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.startLineNumber)}let G=Y!==Z,q=s70(Q)!==bA(X);if(G||q)this._decorationsTree.delete(X),X.setOptions(Q),this._decorationsTree.insert(X);else X.setOptions(Q)}_deltaDecorationsImpl($,Q,X,Y=!1){let Z=this.getVersionId(),G=Q.length,q=0,U=X.length,z=0;this._onDidChangeDecorations.beginDeferredEmit();try{let H=Array(U);while(q<G||z<U){let j=null;if(q<G){do j=this._decorations[Q[q++]];while(!j&&q<G);if(j){if(j.options.after){let B=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(B.endLineNumber)}if(j.options.before){let B=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(B.startLineNumber)}if(this._decorationsTree.delete(j),!Y)this._onDidChangeDecorations.checkAffectedAndFire(j.options)}}if(z<U){if(!j){let F=++this._lastDecorationId,P=`${this._instanceId};${F}`;j=new TA(P,0,0),this._decorations[P]=j}let B=X[z],V=this._validateRangeRelaxedNoAllocations(B.range),W=gc(B.options),K=this._buffer.getOffsetAt(V.startLineNumber,V.startColumn),A=this._buffer.getOffsetAt(V.endLineNumber,V.endColumn);if(j.ownerId=$,j.reset(Z,K,A,V),j.setOptions(W),j.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(V.endLineNumber);if(j.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(V.startLineNumber);if(!Y)this._onDidChangeDecorations.checkAffectedAndFire(W);this._decorationsTree.insert(j),H[z]=j.id,z++}else if(j)delete this._decorations[j.id]}return H}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage($,Q){if(typeof $==="string")this._languageSelectionListener.clear(),this._setLanguage($,Q);else this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId,Q)),this._setLanguage($.languageId,Q)}_setLanguage($,Q){this.tokenization.setLanguageId($,Q),this._languageService.requestRichLanguageFeatures($)}getLanguageIdAtPosition($,Q){return this.tokenization.getLanguageIdAtPosition($,Q)}getWordAtPosition($){return this._tokenizationTextModelPart.getWordAtPosition($)}getWordUntilPosition($){return this._tokenizationTextModelPart.getWordUntilPosition($)}normalizePosition($,Q){return $}getLineIndentColumn($){return d70(this.getLineContent($))+1}};KX._MODEL_SYNC_LIMIT=52428800;KX.LARGE_FILE_SIZE_THRESHOLD=20971520;KX.LARGE_FILE_LINE_COUNT_THRESHOLD=300000;KX.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456;KX.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:E5.tabSize,indentSize:E5.indentSize,insertSpaces:E5.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:E5.trimAutoWhitespace,largeFileOptimizations:E5.largeFileOptimizations,bracketPairColorizationOptions:E5.bracketPairColorizationOptions};KX=s2=p70([uw(4,Oq),uw(5,H6),uw(6,f6)],KX);mc=class mc extends dw{constructor(J){super(J);this._resolvedColor=null,this.position=typeof J.position==="number"?J.position:P3.Center}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(J,$){if(typeof J==="string")return J;let Q=J?$.getColor(J.id):null;if(!Q)return"";return Q.toString()}};cc=class cc extends dw{constructor(J){super(J);this.position=J.position}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(J,$){if(typeof J==="string")return X0.fromHex(J);return $.getColor(J.id)}};C1.EMPTY=C1.register({description:"empty"});fc=[C1.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),C1.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),C1.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),C1.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];lc=class lc extends r{constructor(J){super();this.handleBeforeFire=J,this._actual=this._register(new p),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var J;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFireDeferred)this.doFire();(J=this._affectedInjectedTextLines)===null||J===void 0||J.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(J){if(!this._affectedInjectedTextLines)this._affectedInjectedTextLines=new Set;this._affectedInjectedTextLines.add(J)}checkAffectedAndFire(J){var $,Q;this._affectsMinimap||(this._affectsMinimap=!!(($=J.minimap)===null||$===void 0?void 0:$.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((Q=J.overviewRuler)===null||Q===void 0?void 0:Q.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!J.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!J.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){if(this._deferredCnt===0)this.doFire();else this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);let J={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(J)}};dc=class dc extends r{constructor(){super();this._fastEmitter=this._register(new p),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new p),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(J=null){if(this._deferredCnt--,this._deferredCnt===0){if(this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=J;let $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}}fire(J){if(this._deferredCnt>0){if(this._deferredEvent)this._deferredEvent=this._deferredEvent.merge(J);else this._deferredEvent=J;return}this._fastEmitter.fire(J),this._slowEmitter.fire(J)}}});class Uj{constructor(J){this._selTrackedRange=null,this._trackSelection=!0,this._setState(J,new K5(new v(1,1,1,1),0,0,new s(1,1),0),new K5(new v(1,1,1,1),0,0,new s(1,1),0))}dispose(J){this._removeTrackedRange(J)}startTrackingSelection(J){this._trackSelection=!0,this._updateTrackedRange(J)}stopTrackingSelection(J){this._trackSelection=!1,this._removeTrackedRange(J)}_updateTrackedRange(J){if(!this._trackSelection)return;this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0)}_removeTrackedRange(J){this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new R1(this.modelState,this.viewState)}readSelectionFromMarkers(J){let $=J.model._getTrackedRange(this._selTrackedRange);if(this.modelState.selection.isEmpty()&&!$.isEmpty())return d0.fromRange($.collapseToEnd(),this.modelState.selection.getDirection());return d0.fromRange($,this.modelState.selection.getDirection())}ensureValidState(J){this._setState(J,this.modelState,this.viewState)}setState(J,$,Q){this._setState(J,$,Q)}static _validatePositionWithCache(J,$,Q,X){if($.equals(Q))return X;return J.normalizePosition($,2)}static _validateViewState(J,$){let Q=$.position,X=$.selectionStart.getStartPosition(),Y=$.selectionStart.getEndPosition(),Z=J.normalizePosition(Q,2),G=this._validatePositionWithCache(J,X,Q,Z),q=this._validatePositionWithCache(J,Y,X,G);if(Q.equals(Z)&&X.equals(G)&&Y.equals(q))return $;return new K5(v.fromPositions(G,q),$.selectionStartKind,$.selectionStartLeftoverVisibleColumns+X.column-G.column,Z,$.leftoverVisibleColumns+Q.column-Z.column)}_setState(J,$,Q){if(Q)Q=Uj._validateViewState(J.viewModel,Q);if(!$){if(!Q)return;let X=J.model.validateRange(J.coordinatesConverter.convertViewRangeToModelRange(Q.selectionStart)),Y=J.model.validatePosition(J.coordinatesConverter.convertViewPositionToModelPosition(Q.position));$=new K5(X,Q.selectionStartKind,Q.selectionStartLeftoverVisibleColumns,Y,Q.leftoverVisibleColumns)}else{let X=J.model.validateRange($.selectionStart),Y=$.selectionStart.equalsRange(X)?$.selectionStartLeftoverVisibleColumns:0,Z=J.model.validatePosition($.position),G=$.position.equals(Z)?$.leftoverVisibleColumns:0;$=new K5(X,$.selectionStartKind,Y,Z,G)}if(!Q){let X=J.coordinatesConverter.convertModelPositionToViewPosition(new s($.selectionStart.startLineNumber,$.selectionStart.startColumn)),Y=J.coordinatesConverter.convertModelPositionToViewPosition(new s($.selectionStart.endLineNumber,$.selectionStart.endColumn)),Z=new v(X.lineNumber,X.column,Y.lineNumber,Y.column),G=J.coordinatesConverter.convertModelPositionToViewPosition($.position);Q=new K5(Z,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,G,$.leftoverVisibleColumns)}else{let X=J.coordinatesConverter.validateViewRange(Q.selectionStart,$.selectionStart),Y=J.coordinatesConverter.validateViewPosition(Q.position,$.position);Q=new K5(X,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,Y,$.leftoverVisibleColumns)}this.modelState=$,this.viewState=Q,this._updateTrackedRange(J)}}var rc=E(()=>{f4();e0();u5()});class SA{constructor(J){this.context=J,this.cursors=[new Uj(J)],this.lastAddedCursorIndex=0}dispose(){for(let J of this.cursors)J.dispose(this.context)}startTrackingSelections(){for(let J of this.cursors)J.startTrackingSelection(this.context)}stopTrackingSelections(){for(let J of this.cursors)J.stopTrackingSelection(this.context)}updateContext(J){this.context=J}ensureValidState(){for(let J of this.cursors)J.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((J)=>J.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map((J)=>J.asCursorState())}getViewPositions(){return this.cursors.map((J)=>J.viewState.position)}getTopMostViewPosition(){return dv(this.cursors,v7((J)=>J.viewState.position,s.compare)).viewState.position}getBottomMostViewPosition(){return lv(this.cursors,v7((J)=>J.viewState.position,s.compare)).viewState.position}getSelections(){return this.cursors.map((J)=>J.modelState.selection)}getViewSelections(){return this.cursors.map((J)=>J.viewState.selection)}setSelections(J){this.setStates(R1.fromModelSelections(J))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(J){if(J===null)return;this.cursors[0].setState(this.context,J[0].modelState,J[0].viewState),this._setSecondaryStates(J.slice(1))}_setSecondaryStates(J){let $=this.cursors.length-1,Q=J.length;if($<Q){let X=Q-$;for(let Y=0;Y<X;Y++)this._addSecondaryCursor()}else if($>Q){let X=$-Q;for(let Y=0;Y<X;Y++)this._removeSecondaryCursor(this.cursors.length-2)}for(let X=0;X<Q;X++)this.cursors[X+1].setState(this.context,J[X].modelState,J[X].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Uj(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){if(this.cursors.length===1||this.lastAddedCursorIndex===0)return 0;return this.lastAddedCursorIndex}_removeSecondaryCursor(J){if(this.lastAddedCursorIndex>=J+1)this.lastAddedCursorIndex--;this.cursors[J+1].dispose(this.context),this.cursors.splice(J+1,1)}normalize(){if(this.cursors.length===1)return;let J=this.cursors.slice(0),$=[];for(let Q=0,X=J.length;Q<X;Q++)$.push({index:Q,selection:J[Q].modelState.selection});$.sort(v7((Q)=>Q.selection,v.compareRangesUsingStarts));for(let Q=0;Q<$.length-1;Q++){let X=$[Q],Y=$[Q+1],Z=X.selection,G=Y.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let q;if(G.isEmpty()||Z.isEmpty())q=G.getStartPosition().isBeforeOrEqual(Z.getEndPosition());else q=G.getStartPosition().isBefore(Z.getEndPosition());if(q){let U=X.index<Y.index?Q:Q+1,z=X.index<Y.index?Q+1:Q,H=$[z].index,j=$[U].index,B=$[z].selection,V=$[U].selection;if(!B.equalsSelection(V)){let W=B.plusRange(V),K=B.selectionStartLineNumber===B.startLineNumber&&B.selectionStartColumn===B.startColumn,A=V.selectionStartLineNumber===V.startLineNumber&&V.selectionStartColumn===V.startColumn,F;if(H===this.lastAddedCursorIndex)F=K,this.lastAddedCursorIndex=j;else F=A;let P;if(F)P=new d0(W.startLineNumber,W.startColumn,W.endLineNumber,W.endColumn);else P=new d0(W.endLineNumber,W.endColumn,W.startLineNumber,W.startColumn);$[U].selection=P;let R=R1.fromModelSelection(P);J[j].setState(this.context,R.modelState,R.viewState)}for(let W of $)if(W.index>H)W.index--;J.splice(H,1),$.splice(z,1),this._removeSecondaryCursor(H-1),Q--}}}}var ic=E(()=>{B1();FJ();f4();rc();e0();u5()});class CA{constructor(J,$,Q,X){this._cursorContextBrand=void 0,this.model=J,this.viewModel=$,this.coordinatesConverter=Q,this.cursorConfig=X}}class sw{constructor(){this.type=0}}class aw{constructor(){this.type=1}}class rw{constructor(J){this.type=2,this._source=J}hasChanged(J){return this._source.hasChanged(J)}}class iw{constructor(J,$,Q){this.selections=J,this.modelSelections=$,this.reason=Q,this.type=3}}class AX{constructor(J){if(this.type=4,J)this.affectsMinimap=J.affectsMinimap,this.affectsOverviewRuler=J.affectsOverviewRuler,this.affectsGlyphMargin=J.affectsGlyphMargin,this.affectsLineNumber=J.affectsLineNumber;else this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0}}class _q{constructor(){this.type=5}}class nw{constructor(J){this.type=6,this.isFocused=J}}class ow{constructor(){this.type=7}}class Nq{constructor(){this.type=8}}class vA{constructor(J,$){this.fromLineNumber=J,this.count=$,this.type=9}}class zj{constructor(J,$){this.type=10,this.fromLineNumber=J,this.toLineNumber=$}}class Hj{constructor(J,$){this.type=11,this.fromLineNumber=J,this.toLineNumber=$}}class a2{constructor(J,$,Q,X,Y,Z,G){this.source=J,this.minimalReveal=$,this.range=Q,this.selections=X,this.verticalType=Y,this.revealHorizontal=Z,this.scrollType=G,this.type=12}}class tw{constructor(J){this.type=13,this.scrollWidth=J.scrollWidth,this.scrollLeft=J.scrollLeft,this.scrollHeight=J.scrollHeight,this.scrollTop=J.scrollTop,this.scrollWidthChanged=J.scrollWidthChanged,this.scrollLeftChanged=J.scrollLeftChanged,this.scrollHeightChanged=J.scrollHeightChanged,this.scrollTopChanged=J.scrollTopChanged}}class ew{constructor(J){this.theme=J,this.type=14}}class JL{constructor(J){this.type=15,this.ranges=J}}class $L{constructor(){this.type=16}}class QL{constructor(){this.type=17}}class oc{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(J){this.viewEvents.push(J)}emitOutgoingEvent(J){this.outgoingEvents.push(J)}}class hA{constructor(J,$,Q,X){this.kind=0,this._oldContentWidth=J,this._oldContentHeight=$,this.contentWidth=Q,this.contentHeight=X,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new hA(this._oldContentWidth,this._oldContentHeight,J.contentWidth,J.contentHeight)}}class fA{constructor(J,$){this.kind=1,this.oldHasFocus=J,this.hasFocus=$}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(J){if(J.kind!==this.kind)return null;return new fA(this.oldHasFocus,J.hasFocus)}}class gA{constructor(J,$,Q,X,Y,Z,G,q){this.kind=2,this._oldScrollWidth=J,this._oldScrollLeft=$,this._oldScrollHeight=Q,this._oldScrollTop=X,this.scrollWidth=Y,this.scrollLeft=Z,this.scrollHeight=G,this.scrollTop=q,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new gA(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,J.scrollWidth,J.scrollLeft,J.scrollHeight,J.scrollTop)}}class YL{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class ZL{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class jj{constructor(J,$,Q,X,Y,Z,G){this.kind=6,this.oldSelections=J,this.selections=$,this.oldModelVersionId=Q,this.modelVersionId=X,this.source=Y,this.reason=Z,this.reachedMaxCursorCount=G}static _selectionsAreEqual(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;let Q=J.length,X=$.length;if(Q!==X)return!1;for(let Y=0;Y<Q;Y++)if(!J[Y].equalsSelection($[Y]))return!1;return!0}isNoOp(){return jj._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(J){if(J.kind!==this.kind)return null;return new jj(this.oldSelections,J.selections,this.oldModelVersionId,J.modelVersionId,J.source,J.reason,this.reachedMaxCursorCount||J.reachedMaxCursorCount)}}class GL{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class qL{constructor(J){this.event=J,this.kind=7}isNoOp(){return!1}attemptToMerge(J){return null}}class UL{constructor(J){this.event=J,this.kind=8}isNoOp(){return!1}attemptToMerge(J){return null}}class zL{constructor(J){this.event=J,this.kind=9}isNoOp(){return!1}attemptToMerge(J){return null}}class HL{constructor(J){this.event=J,this.kind=10}isNoOp(){return!1}attemptToMerge(J){return null}}class jL{constructor(J){this.event=J,this.kind=11}isNoOp(){return!1}attemptToMerge(J){return null}}class VL{constructor(J){this.event=J,this.kind=12}isNoOp(){return!1}attemptToMerge(J){return null}}var XL;var pA=E(()=>{E0();B0();XL=class XL extends r{constructor(){super();this._onEvent=this._register(new p),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(J){this._addOutgoingEvent(J),this._emitOutgoingEvents()}_addOutgoingEvent(J){for(let $=0,Q=this._outgoingEvents.length;$<Q;$++){let X=this._outgoingEvents[$].kind===J.kind?this._outgoingEvents[$].attemptToMerge(J):null;if(X){this._outgoingEvents[$]=X;return}}this._outgoingEvents.push(J)}_emitOutgoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;let J=this._outgoingEvents.shift();if(J.isNoOp())continue;this._onEvent.fire(J)}}addViewEventHandler(J){for(let $=0,Q=this._eventHandlers.length;$<Q;$++)if(this._eventHandlers[$]===J)console.warn("Detected duplicate listener in ViewEventDispatcher",J);this._eventHandlers.push(J)}removeViewEventHandler(J){for(let $=0;$<this._eventHandlers.length;$++)if(this._eventHandlers[$]===J){this._eventHandlers.splice($,1);break}}beginEmitViewEvents(){if(this._collectorCnt++,this._collectorCnt===1)this._collector=new oc;return this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){let J=this._collector.outgoingEvents,$=this._collector.viewEvents;this._collector=null;for(let Q of J)this._addOutgoingEvent(Q);if($.length>0)this._emitMany($)}this._emitOutgoingEvents()}emitSingleViewEvent(J){try{this.beginEmitViewEvents().emitViewEvent(J)}finally{this.endEmitViewEvents()}}_emitMany(J){if(this._viewEventQueue)this._viewEventQueue=this._viewEventQueue.concat(J);else this._viewEventQueue=J;if(!this._isConsumingViewEventQueue)this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){let J=this._viewEventQueue;this._viewEventQueue=null;let $=this._eventHandlers.slice(0);for(let Q of $)Q.handleEvents(J)}}}});class Vj{static from(J,$){return new Vj(J.getVersionId(),$.getCursorStates())}constructor(J,$){this.modelVersionId=J,this.cursorState=$}equals(J){if(!J)return!1;if(this.modelVersionId!==J.modelVersionId)return!1;if(this.cursorState.length!==J.cursorState.length)return!1;for(let $=0,Q=this.cursorState.length;$<Q;$++)if(!this.cursorState[$].equals(J.cursorState[$]))return!1;return!0}}class WL{static getAllAutoClosedCharacters(J){let $=[];for(let Q of J)$=$.concat(Q.getAutoClosedCharactersRanges());return $}constructor(J,$,Q){this._model=J,this._autoClosedCharactersDecorations=$,this._autoClosedEnclosingDecorations=Q}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let J=[];for(let $=0;$<this._autoClosedCharactersDecorations.length;$++){let Q=this._model.getDecorationRange(this._autoClosedCharactersDecorations[$]);if(Q)J.push(Q)}return J}isValid(J){let $=[];for(let Q=0;Q<this._autoClosedEnclosingDecorations.length;Q++){let X=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[Q]);if(X){if($.push(X),X.startLineNumber!==X.endLineNumber)return!1}}$.sort(v.compareRangesUsingStarts),J.sort(v.compareRangesUsingStarts);for(let Q=0;Q<J.length;Q++){if(Q>=$.length)return!1;if(!$[Q].strictContainsRange(J[Q]))return!1}return!0}}class tc{static executeCommands(J,$,Q){let X={model:J,selectionsBefore:$,trackedRanges:[],trackedRangesDirection:[]},Y=this._innerExecuteCommands(X,Q);for(let Z=0,G=X.trackedRanges.length;Z<G;Z++)X.model._setTrackedRange(X.trackedRanges[Z],null,0);return Y}static _innerExecuteCommands(J,$){if(this._arrayIsEmpty($))return null;let Q=this._getEditOperations(J,$);if(Q.operations.length===0)return null;let X=Q.operations,Y=this._getLoserCursorMap(X);if(Y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let Z=[];for(let U=0,z=X.length;U<z;U++)if(!Y.hasOwnProperty(X[U].identifier.major.toString()))Z.push(X[U]);if(Q.hadTrackedEditOperation&&Z.length>0)Z[0]._isTracked=!0;let G=J.model.pushEditOperations(J.selectionsBefore,Z,(U)=>{let z=[];for(let B=0;B<J.selectionsBefore.length;B++)z[B]=[];for(let B of U){if(!B.identifier)continue;z[B.identifier.major].push(B)}let H=(B,V)=>{return B.identifier.minor-V.identifier.minor},j=[];for(let B=0;B<J.selectionsBefore.length;B++)if(z[B].length>0)z[B].sort(H),j[B]=$[B].computeCursorState(J.model,{getInverseEditOperations:()=>{return z[B]},getTrackedSelection:(V)=>{let W=parseInt(V,10),K=J.model._getTrackedRange(J.trackedRanges[W]);if(J.trackedRangesDirection[W]===0)return new d0(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn);return new d0(K.endLineNumber,K.endColumn,K.startLineNumber,K.startColumn)}});else j[B]=J.selectionsBefore[B];return j});if(!G)G=J.selectionsBefore;let q=[];for(let U in Y)if(Y.hasOwnProperty(U))q.push(parseInt(U,10));q.sort((U,z)=>{return z-U});for(let U of q)G.splice(U,1);return G}static _arrayIsEmpty(J){for(let $=0,Q=J.length;$<Q;$++)if(J[$])return!1;return!0}static _getEditOperations(J,$){let Q=[],X=!1;for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];if(G){let q=this._getEditOperationsFromCommand(J,Y,G);Q=Q.concat(q.operations),X=X||q.hadTrackedEditOperation}}return{operations:Q,hadTrackedEditOperation:X}}static _getEditOperationsFromCommand(J,$,Q){let X=[],Y=0,Z=(H,j,B=!1)=>{if(v.isEmpty(H)&&j==="")return;X.push({identifier:{major:$,minor:Y++},range:H,text:j,forceMoveMarkers:B,isAutoWhitespaceEdit:Q.insertsAutoWhitespace})},G=!1,z={addEditOperation:Z,addTrackedEditOperation:(H,j,B)=>{G=!0,Z(H,j,B)},trackSelection:(H,j)=>{let B=d0.liftSelection(H),V;if(B.isEmpty())if(typeof j==="boolean")if(j)V=2;else V=3;else{let A=J.model.getLineMaxColumn(B.startLineNumber);if(B.startColumn===A)V=2;else V=3}else V=1;let W=J.trackedRanges.length,K=J.model._setTrackedRange(null,B,V);return J.trackedRanges[W]=K,J.trackedRangesDirection[W]=B.getDirection(),W.toString()}};try{Q.getEditOperations(J.model,z)}catch(H){return Z1(H),{operations:[],hadTrackedEditOperation:!1}}return{operations:X,hadTrackedEditOperation:G}}static _getLoserCursorMap(J){J=J.slice(0),J.sort((Q,X)=>{return-v.compareRangesUsingEnds(Q.range,X.range)});let $={};for(let Q=1;Q<J.length;Q++){let X=J[Q-1],Y=J[Q];if(v.getStartPosition(X.range).isBefore(v.getEndPosition(Y.range))){let Z;if(X.identifier.major>Y.identifier.major)Z=X.identifier.major;else Z=Y.identifier.major;$[Z.toString()]=!0;for(let G=0;G<J.length;G++)if(J[G].identifier.major===Z){if(J.splice(G,1),G<Q)Q--;G--}if(Q>0)Q--}}return $}}class ec{constructor(J,$,Q){this.text=J,this.startSelection=$,this.endSelection=Q}}class Wj{static _capture(J,$){let Q=[];for(let X of $){if(X.startLineNumber!==X.endLineNumber)return null;Q.push(new ec(J.getLineContent(X.startLineNumber),X.startColumn-1,X.endColumn-1))}return Q}constructor(J,$){this._original=Wj._capture(J,$)}deduceOutcome(J,$){if(!this._original)return null;let Q=Wj._capture(J,$);if(!Q)return null;if(this._original.length!==Q.length)return null;let X=[];for(let Y=0,Z=this._original.length;Y<Z;Y++)X.push(Wj._deduceOutcome(this._original[Y],Q[Y]));return X}static _deduceOutcome(J,$){let Q=Math.min(J.startSelection,$.startSelection,cZ(J.text,$.text)),X=Math.min(J.text.length-J.endSelection,$.text.length-$.endSelection,Hz(J.text,$.text)),Y=J.text.substring(Q,J.text.length-X),Z=$.text.substring(Q,$.text.length-X);return new oN(Y,J.startSelection-Q,J.endSelection-Q,Z,$.startSelection-Q,$.endSelection-Q)}}var BL;var Jl=E(()=>{T1();G1();ic();f4();oK();tN();e0();u5();B0();pA();BL=class BL extends r{constructor(J,$,Q,X){super();this._model=J,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=$,this._coordinatesConverter=Q,this.context=new CA(this._model,this._viewModel,this._coordinatesConverter,X),this._cursors=new SA(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=h1(this._autoClosedActions),super.dispose()}updateConfiguration(J){this.context=new CA(this._model,this._viewModel,this._coordinatesConverter,J),this._cursors.updateContext(this.context)}onLineMappingChanged(J){if(this._knownModelVersionId!==this._model.getVersionId())return;this.setStates(J,"viewModel",0,this.getCursorStates())}setHasFocus(J){this._hasFocus=J}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let J=this._cursors.getSelections();for(let $=0;$<this._autoClosedActions.length;$++){let Q=this._autoClosedActions[$];if(!Q.isValid(J))Q.dispose(),this._autoClosedActions.splice($,1),$--}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(J,$,Q,X){let Y=!1,Z=this.context.cursorConfig.multiCursorLimit;if(X!==null&&X.length>Z)X=X.slice(0,Z),Y=!0;let G=Vj.from(this._model,this);return this._cursors.setStates(X),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,$,Q,G,Y)}setCursorColumnSelectData(J){this._columnSelectData=J}revealPrimary(J,$,Q,X,Y,Z){let G=this._cursors.getViewPositions(),q=null,U=null;if(G.length>1)U=this._cursors.getViewSelections();else q=v.fromPositions(G[0],G[0]);J.emitViewEvent(new a2($,Q,q,U,X,Y,Z))}saveState(){let J=[],$=this._cursors.getSelections();for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q];J.push({inSelectionMode:!Y.isEmpty(),selectionStart:{lineNumber:Y.selectionStartLineNumber,column:Y.selectionStartColumn},position:{lineNumber:Y.positionLineNumber,column:Y.positionColumn}})}return J}restoreState(J,$){let Q=[];for(let X=0,Y=$.length;X<Y;X++){let Z=$[X],G=1,q=1;if(Z.position&&Z.position.lineNumber)G=Z.position.lineNumber;if(Z.position&&Z.position.column)q=Z.position.column;let U=G,z=q;if(Z.selectionStart&&Z.selectionStart.lineNumber)U=Z.selectionStart.lineNumber;if(Z.selectionStart&&Z.selectionStart.column)z=Z.selectionStart.column;Q.push({selectionStartLineNumber:U,selectionStartColumn:z,positionLineNumber:G,positionColumn:q})}this.setStates(J,"restoreState",0,R1.fromModelSelections(Q)),this.revealPrimary(J,"restoreState",!1,0,!0,1)}onModelContentChanged(J,$){if($ instanceof Zj){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(J,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{let Q=$.rawContentChangedEvent;if(this._knownModelVersionId=Q.versionId,this._isHandling)return;let X=Q.containsEvent(1);if(this._prevEditOperationType=0,X)this._cursors.dispose(),this._cursors=new SA(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,"model",1,null,!1);else if(this._hasFocus&&Q.resultingSelection&&Q.resultingSelection.length>0){let Y=R1.fromModelSelections(Q.resultingSelection);if(this.setStates(J,"modelChange",Q.isUndoing?5:Q.isRedoing?6:2,Y))this.revealPrimary(J,"modelChange",!1,0,!0,0)}else{let Y=this._cursors.readSelectionFromMarkers();this.setStates(J,"modelChange",2,R1.fromModelSelections(Y))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;let J=this._cursors.getPrimaryCursor(),$=J.viewState.selectionStart.getStartPosition(),Q=J.viewState.position;return{isReal:!1,fromViewLineNumber:$.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,$),toViewLineNumber:Q.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,Q)}}getSelections(){return this._cursors.getSelections()}setSelections(J,$,Q,X){this.setStates(J,$,X,R1.fromModelSelections(Q))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(J){this._prevEditOperationType=J}_pushAutoClosedAction(J,$){let Q=[],X=[];for(let G=0,q=J.length;G<q;G++)Q.push({range:J[G],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),X.push({range:$[G],options:{description:"auto-closed-enclosing",stickiness:1}});let Y=this._model.deltaDecorations([],Q),Z=this._model.deltaDecorations([],X);this._autoClosedActions.push(new WL(this._model,Y,Z))}_executeEditOperation(J){if(!J)return;if(J.shouldPushStackElementBefore)this._model.pushStackElement();let $=tc.executeCommands(this._model,this._cursors.getSelections(),J.commands);if($){this._interpretCommandResult($);let Q=[],X=[];for(let Y=0;Y<J.commands.length;Y++){let Z=J.commands[Y];if(Z instanceof $A&&Z.enclosingRange&&Z.closeCharacterRange)Q.push(Z.closeCharacterRange),X.push(Z.enclosingRange)}if(Q.length>0)this._pushAutoClosedAction(Q,X);this._prevEditOperationType=J.type}if(J.shouldPushStackElementAfter)this._model.pushStackElement()}_interpretCommandResult(J){if(!J||J.length===0)J=this._cursors.readSelectionFromMarkers();this._columnSelectData=null,this._cursors.setSelections(J),this._cursors.normalize()}_emitStateChangedIfNecessary(J,$,Q,X,Y){let Z=Vj.from(this._model,this);if(Z.equals(X))return!1;let G=this._cursors.getSelections(),q=this._cursors.getViewSelections();if(J.emitViewEvent(new iw(q,G,Q)),!X||X.cursorState.length!==Z.cursorState.length||Z.cursorState.some((U,z)=>!U.modelState.equals(X.cursorState[z].modelState))){let U=X?X.cursorState.map((H)=>H.modelState.selection):null,z=X?X.modelVersionId:0;J.emitOutgoingEvent(new jj(U,G,z,Z.modelVersionId,$||"keyboard",Q,Y))}return!0}_findAutoClosingPairs(J){if(!J.length)return null;let $=[];for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];if(!Y.text||Y.text.indexOf(`
`)>=0)return null;let Z=Y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Z)return null;let G=Z[1],q=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(G);if(!q||q.length!==1)return null;let U=q[0].open,z=Y.text.length-Z[2].length-1,H=Y.text.lastIndexOf(U,z-1);if(H===-1)return null;$.push([H,z])}return $}executeEdits(J,$,Q,X){let Y=null;if($==="snippet")Y=this._findAutoClosingPairs(Q);if(Y)Q[0]._isTracked=!0;let Z=[],G=[],q=this._model.pushEditOperations(this.getSelections(),Q,(U)=>{if(Y)for(let H=0,j=Y.length;H<j;H++){let[B,V]=Y[H],W=U[H],K=W.range.startLineNumber,A=W.range.startColumn-1+B,F=W.range.startColumn-1+V;Z.push(new v(K,F+1,K,F+2)),G.push(new v(K,A+1,K,F+2))}let z=X(U);if(z)this._isHandling=!0;return z});if(q)this._isHandling=!1,this.setSelections(J,$,q,0);if(Z.length>0)this._pushAutoClosedAction(Z,G)}_executeEdit(J,$,Q,X=0){if(this.context.cursorConfig.readOnly)return;let Y=Vj.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),J()}catch(Z){Z1(Z)}if(this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary($,Q,X,Y,!1))this.revealPrimary($,Q,!1,0,!0,0)}getAutoClosedCharacters(){return WL.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(J){this._compositionState=new Wj(this._model,this.getSelections())}endComposition(J,$){let Q=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{if($==="keyboard")this._executeEditOperation(p6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,Q,this.getSelections(),this.getAutoClosedCharacters()))},J,$)}type(J,$,Q){this._executeEdit(()=>{if(Q==="keyboard"){let X=$.length,Y=0;while(Y<X){let Z=jz($,Y),G=$.substr(Y,Z);this._executeEditOperation(p6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),G)),Y+=Z}}else this._executeEditOperation(p6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$))},J,Q)}compositionType(J,$,Q,X,Y,Z){if($.length===0&&Q===0&&X===0){if(Y!==0){let G=this.getSelections().map((q)=>{let U=q.getPosition();return new d0(U.lineNumber,U.column+Y,U.lineNumber,U.column+Y)});this.setSelections(J,Z,G,0)}return}this._executeEdit(()=>{this._executeEditOperation(p6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$,Q,X,Y))},J,Z)}paste(J,$,Q,X,Y){this._executeEdit(()=>{this._executeEditOperation(p6.paste(this.context.cursorConfig,this._model,this.getSelections(),$,Q,X||[]))},J,Y,4)}cut(J,$){this._executeEdit(()=>{this._executeEditOperation(v$.cut(this.context.cursorConfig,this._model,this.getSelections()))},J,$)}executeCommand(J,$,Q){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new K8(0,[$],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,Q)}executeCommands(J,$,Q){this._executeEdit(()=>{this._executeEditOperation(new K8(0,$,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,Q)}}});async function Xl(J,$,Q){if(!Q)return Ql($,J.languageIdCodec,$l);let X=await Q6.getOrCreate(Q);return Ql($,J.languageIdCodec,X||$l)}function Yl(J,$,Q,X,Y,Z,G){let q="<div>",U=X,z=0,H=!0;for(let j=0,B=$.getCount();j<B;j++){let V=$.getEndOffset(j);if(V<=X)continue;let W="";for(;U<V&&U<Y;U++){let K=J.charCodeAt(U);switch(K){case 9:{let A=Z-(U+z)%Z;z+=A-1;while(A>0){if(G&&H)W+="&#160;",H=!1;else W+=" ",H=!0;A--}break}case 60:W+="&lt;",H=!1;break;case 62:W+="&gt;",H=!1;break;case 38:W+="&amp;",H=!1;break;case 0:W+="&#00;",H=!1;break;case 65279:case 8232:case 8233:case 133:W+="�",H=!1;break;case 13:W+="&#8203",H=!1;break;case 32:if(G&&H)W+="&#160;",H=!1;else W+=" ",H=!0;break;default:W+=String.fromCharCode(K),H=!1}}if(q+=`<span style="${$.getInlineStyle(j,Q)}">${W}</span>`,V>Y||U>=Y)break}return q+="</div>",q}function Ql(J,$,Q){let X='<div class="monaco-tokenized-source">',Y=H9(J),Z=Q.getInitialState();for(let G=0,q=Y.length;G<q;G++){let U=Y[G];if(G>0)X+="<br/>";let z=Q.tokenizeEncoded(U,!0,Z);g6.convertToEndOffset(z.tokens,U.length);let j=new g6(z.tokens,U,$).inflate(),B=0;for(let V=0,W=j.getCount();V<W;V++){let K=j.getClassName(V),A=j.getEndOffset(V);X+=`<span class="${K}">${uZ(U.substring(B,A))}</span>`,B=A}Z=z.endState}return X+="</div>",X}var $l;var FL=E(()=>{G1();sQ();w8();qH();$l={getInitialState:()=>BY,tokenizeEncoded:(J,$,Q)=>T3(0,Q)}});class Zl{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(J){this._hasPending=!0,this._inserts.push(J)}change(J){this._hasPending=!0,this._changes.push(J)}remove(J){this._hasPending=!0,this._removes.push(J)}mustCommit(){return this._hasPending}commit(J){if(!this._hasPending)return;let $=this._inserts,Q=this._changes,X=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],J._commitPendingChanges($,Q,X)}}class Gl{constructor(J,$,Q,X,Y){this.id=J,this.afterLineNumber=$,this.ordinal=Q,this.height=X,this.minWidth=Y,this.prefixSum=0}}class Tq{constructor(J,$,Q,X){this._instanceId=lB(++Tq.INSTANCE_COUNT),this._pendingChanges=new Zl,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=J,this._lineHeight=$,this._paddingTop=Q,this._paddingBottom=X}static findInsertionIndex(J,$,Q){let X=0,Y=J.length;while(X<Y){let Z=X+Y>>>1;if($===J[Z].afterLineNumber)if(Q<J[Z].ordinal)Y=Z;else X=Z+1;else if($<J[Z].afterLineNumber)Y=Z;else X=Z+1}return X}setLineHeight(J){this._checkPendingChanges(),this._lineHeight=J}setPadding(J,$){this._paddingTop=J,this._paddingBottom=$}onFlushed(J){this._checkPendingChanges(),this._lineCount=J}changeWhitespace(J){let $=!1;try{J({insertWhitespace:(X,Y,Z,G)=>{$=!0,X=X|0,Y=Y|0,Z=Z|0,G=G|0;let q=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Gl(q,X,Y,Z,G)),q},changeOneWhitespace:(X,Y,Z)=>{$=!0,Y=Y|0,Z=Z|0,this._pendingChanges.change({id:X,newAfterLineNumber:Y,newHeight:Z})},removeWhitespace:(X)=>{$=!0,this._pendingChanges.remove({id:X})}})}finally{this._pendingChanges.commit(this)}return $}_commitPendingChanges(J,$,Q){if(J.length>0||Q.length>0)this._minWidth=-1;if(J.length+$.length+Q.length<=1){for(let q of J)this._insertWhitespace(q);for(let q of $)this._changeOneWhitespace(q.id,q.newAfterLineNumber,q.newHeight);for(let q of Q){let U=this._findWhitespaceIndex(q.id);if(U===-1)continue;this._removeWhitespace(U)}return}let X=new Set;for(let q of Q)X.add(q.id);let Y=new Map;for(let q of $)Y.set(q.id,q);let Z=(q)=>{let U=[];for(let z of q){if(X.has(z.id))continue;if(Y.has(z.id)){let H=Y.get(z.id);z.afterLineNumber=H.newAfterLineNumber,z.height=H.newHeight}U.push(z)}return U},G=Z(this._arr).concat(Z(J));G.sort((q,U)=>{if(q.afterLineNumber===U.afterLineNumber)return q.ordinal-U.ordinal;return q.afterLineNumber-U.afterLineNumber}),this._arr=G,this._prefixSumValidIndex=-1}_checkPendingChanges(){if(this._pendingChanges.mustCommit())this._pendingChanges.commit(this)}_insertWhitespace(J){let $=Tq.findInsertionIndex(this._arr,J.afterLineNumber,J.ordinal);this._arr.splice($,0,J),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,$-1)}_findWhitespaceIndex(J){let $=this._arr;for(let Q=0,X=$.length;Q<X;Q++)if($[Q].id===J)return Q;return-1}_changeOneWhitespace(J,$,Q){let X=this._findWhitespaceIndex(J);if(X===-1)return;if(this._arr[X].height!==Q)this._arr[X].height=Q,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,X-1);if(this._arr[X].afterLineNumber!==$){let Y=this._arr[X];this._removeWhitespace(X),Y.afterLineNumber=$,this._insertWhitespace(Y)}}_removeWhitespace(J){this._arr.splice(J,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,J-1)}onLinesDeleted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount-=$-J+1;for(let Q=0,X=this._arr.length;Q<X;Q++){let Y=this._arr[Q].afterLineNumber;if(J<=Y&&Y<=$)this._arr[Q].afterLineNumber=J-1;else if(Y>$)this._arr[Q].afterLineNumber-=$-J+1}}onLinesInserted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount+=$-J+1;for(let Q=0,X=this._arr.length;Q<X;Q++){let Y=this._arr[Q].afterLineNumber;if(J<=Y)this._arr[Q].afterLineNumber+=$-J+1}}getWhitespacesTotalHeight(){if(this._checkPendingChanges(),this._arr.length===0)return 0;return this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(J){this._checkPendingChanges(),J=J|0;let $=Math.max(0,this._prefixSumValidIndex+1);if($===0)this._arr[0].prefixSum=this._arr[0].height,$++;for(let Q=$;Q<=J;Q++)this._arr[Q].prefixSum=this._arr[Q-1].prefixSum+this._arr[Q].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,J),this._arr[J].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();let J=this._lineHeight*this._lineCount,$=this.getWhitespacesTotalHeight();return J+$+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(J){this._checkPendingChanges(),J=J|0;let $=this._findLastWhitespaceBeforeLineNumber(J);if($===-1)return 0;return this.getWhitespacesAccumulatedHeight($)}_findLastWhitespaceBeforeLineNumber(J){J=J|0;let $=this._arr,Q=0,X=$.length-1;while(Q<=X){let Z=(X-Q|0)/2|0,G=Q+Z|0;if($[G].afterLineNumber<J)if(G+1>=$.length||$[G+1].afterLineNumber>=J)return G;else Q=G+1|0;else X=G-1|0}return-1}_findFirstWhitespaceAfterLineNumber(J){J=J|0;let Q=this._findLastWhitespaceBeforeLineNumber(J)+1;if(Q<this._arr.length)return Q;return-1}getFirstWhitespaceIndexAfterLineNumber(J){return this._checkPendingChanges(),J=J|0,this._findFirstWhitespaceAfterLineNumber(J)}getVerticalOffsetForLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;let Q;if(J>1)Q=this._lineHeight*(J-1);else Q=0;let X=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J-($?1:0));return Q+X+this._paddingTop}getVerticalOffsetAfterLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;let Q=this._lineHeight*J,X=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J+($?1:0));return Q+X+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let J=0;for(let $=0,Q=this._arr.length;$<Q;$++)J=Math.max(J,this._arr[$].minWidth);this._minWidth=J}return this._minWidth}isAfterLines(J){this._checkPendingChanges();let $=this.getLinesTotalHeight();return J>$}isInTopPadding(J){if(this._paddingTop===0)return!1;return this._checkPendingChanges(),J<this._paddingTop}isInBottomPadding(J){if(this._paddingBottom===0)return!1;this._checkPendingChanges();let $=this.getLinesTotalHeight();return J>=$-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(J){if(this._checkPendingChanges(),J=J|0,J<0)return 1;let $=this._lineCount|0,Q=this._lineHeight,X=1,Y=$;while(X<Y){let Z=(X+Y)/2|0,G=this.getVerticalOffsetForLineNumber(Z)|0;if(J>=G+Q)X=Z+1;else if(J>=G)return Z;else Y=Z}if(X>$)return $;return X}getLinesViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;let Q=this._lineHeight,X=this.getLineNumberAtOrAfterVerticalOffset(J)|0,Y=this.getVerticalOffsetForLineNumber(X)|0,Z=this._lineCount|0,G=this.getFirstWhitespaceIndexAfterLineNumber(X)|0,q=this.getWhitespacesCount()|0,U,z;if(G===-1)G=q,z=Z+1,U=0;else z=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;let H=Y,j=H,B=500000,V=0;if(Y>=B)V=Math.floor(Y/B)*B,V=Math.floor(V/Q)*Q,j-=V;let W=[],K=J+($-J)/2,A=-1;for(let D=X;D<=Z;D++){if(A===-1){let _=H,O=H+Q;if(_<=K&&K<O||_>K)A=D}H+=Q,W[D-X]=j,j+=Q;while(z===D)if(j+=U,H+=U,G++,G>=q)z=Z+1;else z=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;if(H>=$){Z=D;break}}if(A===-1)A=Z;let F=this.getVerticalOffsetForLineNumber(Z)|0,P=X,R=Z;if(P<R){if(Y<J)P++}if(P<R){if(F+Q>$)R--}return{bigNumbersDelta:V,startLineNumber:X,endLineNumber:Z,relativeVerticalOffset:W,centeredLineNumber:A,completelyVisibleStartLineNumber:P,completelyVisibleEndLineNumber:R}}getVerticalOffsetForWhitespaceIndex(J){this._checkPendingChanges(),J=J|0;let $=this.getAfterLineNumberForWhitespaceIndex(J),Q;if($>=1)Q=this._lineHeight*$;else Q=0;let X;if(J>0)X=this.getWhitespacesAccumulatedHeight(J-1);else X=0;return Q+X+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(J){this._checkPendingChanges(),J=J|0;let $=0,Q=this.getWhitespacesCount()-1;if(Q<0)return-1;let X=this.getVerticalOffsetForWhitespaceIndex(Q),Y=this.getHeightForWhitespaceIndex(Q);if(J>=X+Y)return-1;while($<Q){let Z=Math.floor(($+Q)/2),G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(J>=G+q)$=Z+1;else if(J>=G)return Z;else Q=Z}return $}getWhitespaceAtVerticalOffset(J){this._checkPendingChanges(),J=J|0;let $=this.getWhitespaceIndexAtOrAfterVerticallOffset(J);if($<0)return null;if($>=this.getWhitespacesCount())return null;let Q=this.getVerticalOffsetForWhitespaceIndex($);if(Q>J)return null;let X=this.getHeightForWhitespaceIndex($),Y=this.getIdForWhitespaceIndex($),Z=this.getAfterLineNumberForWhitespaceIndex($);return{id:Y,afterLineNumber:Z,verticalOffset:Q,height:X}}getWhitespaceViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;let Q=this.getWhitespaceIndexAtOrAfterVerticallOffset(J),X=this.getWhitespacesCount()-1;if(Q<0)return[];let Y=[];for(let Z=Q;Z<=X;Z++){let G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(G>=$)break;Y.push({id:this.getIdForWhitespaceIndex(Z),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Z),verticalOffset:G,height:q})}return Y}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].id}getAfterLineNumberForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].afterLineNumber}getHeightForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].height}}var ql=E(()=>{G1();Tq.INSTANCE_COUNT=0});class wq{constructor(J,$,Q,X){if(J=J|0,$=$|0,Q=Q|0,X=X|0,J<0)J=0;if($<0)$=0;if(Q<0)Q=0;if(X<0)X=0;this.width=J,this.contentWidth=$,this.scrollWidth=Math.max(J,$),this.height=Q,this.contentHeight=X,this.scrollHeight=Math.max(Q,X)}equals(J){return this.width===J.width&&this.contentWidth===J.contentWidth&&this.height===J.height&&this.contentHeight===J.contentHeight}}var a70=125,Ul,KL;var zl=E(()=>{E0();B0();e3();ql();x4();pA();Ul=class Ul extends r{constructor(J,$){super();this._onDidContentSizeChange=this._register(new p),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new wq(0,0,0,0),this._scrollable=this._register(new v4({forceIntegerValues:!0,smoothScrollDuration:J,scheduleAtNextAnimationFrame:$})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(J){this._scrollable.setSmoothScrollDuration(J)}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}getScrollDimensions(){return this._dimensions}setScrollDimensions(J){if(this._dimensions.equals(J))return;let $=this._dimensions;this._dimensions=J,this._scrollable.setScrollDimensions({width:J.width,scrollWidth:J.scrollWidth,height:J.height,scrollHeight:J.scrollHeight},!0);let Q=$.contentWidth!==J.contentWidth,X=$.contentHeight!==J.contentHeight;if(Q||X)this._onDidContentSizeChange.fire(new hA($.contentWidth,$.contentHeight,J.contentWidth,J.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(J){this._scrollable.setScrollPositionNow(J)}setScrollPositionSmooth(J){this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}};KL=class KL extends r{constructor(J,$,Q){super();this._configuration=J;let X=this._configuration.options,Y=X.get(143),Z=X.get(83);this._linesLayout=new Tq($,X.get(66),Z.top,Z.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Ul(0,Q)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new wq(Y.contentWidth,0,Y.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?a70:0)}onConfigurationChanged(J){let $=this._configuration.options;if(J.hasChanged(66))this._linesLayout.setLineHeight($.get(66));if(J.hasChanged(83)){let Q=$.get(83);this._linesLayout.setPadding(Q.top,Q.bottom)}if(J.hasChanged(143)){let Q=$.get(143),X=Q.contentWidth,Y=Q.height,Z=this._scrollable.getScrollDimensions(),G=Z.contentWidth;this._scrollable.setScrollDimensions(new wq(X,Z.contentWidth,Y,this._getContentHeight(X,Y,G)))}else this._updateHeight();if(J.hasChanged(113))this._configureSmoothScrollDuration()}onFlushed(J){this._linesLayout.onFlushed(J)}onLinesDeleted(J,$){this._linesLayout.onLinesDeleted(J,$)}onLinesInserted(J,$){this._linesLayout.onLinesInserted(J,$)}_getHorizontalScrollbarHeight(J,$){let X=this._configuration.options.get(102);if(X.horizontal===2)return 0;if(J>=$)return 0;return X.horizontalScrollbarSize}_getContentHeight(J,$,Q){let X=this._configuration.options,Y=this._linesLayout.getLinesTotalHeight();if(X.get(104))Y+=Math.max(0,$-X.get(66)-X.get(83).bottom);else if(!X.get(102).ignoreHorizontalScrollbarInContentHeight)Y+=this._getHorizontalScrollbarHeight(J,Q);return Y}_updateHeight(){let J=this._scrollable.getScrollDimensions(),$=J.width,Q=J.height,X=J.contentWidth;this._scrollable.setScrollDimensions(new wq($,J.contentWidth,Q,this._getContentHeight($,Q,X)))}getCurrentViewport(){let J=this._scrollable.getScrollDimensions(),$=this._scrollable.getCurrentScrollPosition();return new HK($.scrollTop,$.scrollLeft,J.width,J.height)}getFutureViewport(){let J=this._scrollable.getScrollDimensions(),$=this._scrollable.getFutureScrollPosition();return new HK($.scrollTop,$.scrollLeft,J.width,J.height)}_computeContentWidth(){let J=this._configuration.options,$=this._maxLineWidth,Q=J.get(144),X=J.get(50),Y=J.get(143);if(Q.isViewportWrapping){let Z=J.get(72);if($>Y.contentWidth+X.typicalHalfwidthCharacterWidth){if(Z.enabled&&Z.side==="right")return $+Y.verticalScrollbarWidth}return $}else{let Z=J.get(103)*X.typicalHalfwidthCharacterWidth,G=this._linesLayout.getWhitespaceMinWidth();return Math.max($+Z+Y.verticalScrollbarWidth,G,this._overlayWidgetsMinWidth)}}setMaxLineWidth(J){this._maxLineWidth=J,this._updateContentWidth()}setOverlayWidgetsMinWidth(J){this._overlayWidgetsMinWidth=J,this._updateContentWidth()}_updateContentWidth(){let J=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new wq(J.width,this._computeContentWidth(),J.height,J.contentHeight)),this._updateHeight()}saveState(){let J=this._scrollable.getFutureScrollPosition(),$=J.scrollTop,Q=this._linesLayout.getLineNumberAtOrAfterVerticalOffset($),X=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(Q);return{scrollTop:$,scrollTopWithoutViewZones:$-X,scrollLeft:J.scrollLeft}}changeWhitespace(J){let $=this._linesLayout.changeWhitespace(J);if($)this.onHeightMaybeChanged();return $}getVerticalOffsetForLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(J,$)}isAfterLines(J){return this._linesLayout.isAfterLines(J)}isInTopPadding(J){return this._linesLayout.isInTopPadding(J)}isInBottomPadding(J){return this._linesLayout.isInBottomPadding(J)}getLineNumberAtVerticalOffset(J){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(J)}getWhitespaceAtVerticalOffset(J){return this._linesLayout.getWhitespaceAtVerticalOffset(J)}getLinesViewportData(){let J=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(J.top,J.top+J.height)}getLinesViewportDataAtScrollTop(J){let $=this._scrollable.getScrollDimensions();if(J+$.height>$.scrollHeight)J=$.scrollHeight-$.height;if(J<0)J=0;return this._linesLayout.getLinesViewportData(J,J+$.height)}getWhitespaceViewportData(){let J=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(J.top,J.top+J.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}setScrollPosition(J,$){if($===1)this._scrollable.setScrollPositionNow(J);else this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(J,$){let Q=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:Q.scrollLeft+J,scrollTop:Q.scrollTop+$})}}});class AL{constructor(J,$,Q,X,Y){this.editorId=J,this.model=$,this.configuration=Q,this._linesCollection=X,this._coordinatesConverter=Y,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(J){let $=J.id,Q=this._decorationsCache[$];if(!Q){let{range:X,options:Y}=J,Z;if(Y.isWholeLine){let G=this._coordinatesConverter.convertModelPositionToViewPosition(new s(X.startLineNumber,1),0,!1,!0),q=this._coordinatesConverter.convertModelPositionToViewPosition(new s(X.endLineNumber,this.model.getLineMaxColumn(X.endLineNumber)),1);Z=new v(G.lineNumber,G.column,q.lineNumber,q.column)}else Z=this._coordinatesConverter.convertModelRangeToViewRange(X,1);Q=new HH(Z,Y),this._decorationsCache[$]=Q}return Q}getMinimapDecorationsInRange(J){return this._getDecorationsInRange(J,!0,!1).decorations}getDecorationsViewportData(J){let $=this._cachedModelDecorationsResolver!==null;if($=$&&J.equalsRange(this._cachedModelDecorationsResolverViewRange),!$)this._cachedModelDecorationsResolver=this._getDecorationsInRange(J,!1,!1),this._cachedModelDecorationsResolverViewRange=J;return this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(J,$=!1,Q=!1){let X=new v(J,this._linesCollection.getViewLineMinColumn(J),J,this._linesCollection.getViewLineMaxColumn(J));return this._getDecorationsInRange(X,$,Q).inlineDecorations[0]}_getDecorationsInRange(J,$,Q){let X=this._linesCollection.getDecorationsInRange(J,this.editorId,yZ(this.configuration.options),$,Q),Y=J.startLineNumber,Z=J.endLineNumber,G=[],q=0,U=[];for(let z=Y;z<=Z;z++)U[z-Y]=[];for(let z=0,H=X.length;z<H;z++){let j=X[z],B=j.options;if(!r70(this.model,j))continue;let V=this._getOrCreateViewModelDecoration(j),W=V.range;if(G[q++]=V,B.inlineClassName){let K=new FY(W,B.inlineClassName,B.inlineClassNameAffectsLetterSpacing?3:0),A=Math.max(Y,W.startLineNumber),F=Math.min(Z,W.endLineNumber);for(let P=A;P<=F;P++)U[P-Y].push(K)}if(B.beforeContentClassName){if(Y<=W.startLineNumber&&W.startLineNumber<=Z){let K=new FY(new v(W.startLineNumber,W.startColumn,W.startLineNumber,W.startColumn),B.beforeContentClassName,1);U[W.startLineNumber-Y].push(K)}}if(B.afterContentClassName){if(Y<=W.endLineNumber&&W.endLineNumber<=Z){let K=new FY(new v(W.endLineNumber,W.endColumn,W.endLineNumber,W.endColumn),B.afterContentClassName,2);U[W.endLineNumber-Y].push(K)}}}return{decorations:G,inlineDecorations:U}}}function r70(J,$){if($.options.hideInCommentTokens&&i70(J,$))return!1;if($.options.hideInStringTokens&&n70(J,$))return!1;return!0}function i70(J,$){return Hl(J,$.range,(Q)=>Q===1)}function n70(J,$){return Hl(J,$.range,(Q)=>Q===2)}function Hl(J,$,Q){for(let X=$.startLineNumber;X<=$.endLineNumber;X++){let Y=J.tokenization.getLineTokens(X),Z=X===$.startLineNumber,G=X===$.endLineNumber,q=Z?Y.findTokenIndexAtOffset($.startColumn-1):0;while(q<Y.getCount()){if(G){if(Y.getStartOffset(q)>$.endColumn-1)break}if(!Q(Y.getStandardTokenType(q)))return!1;q++}}return!0}var jl=E(()=>{e0();x4();U8()});function mA(J,$){if(J===null){if($)return Bj.INSTANCE;return Fj.INSTANCE}else return new Wl(J,$)}class Wl{constructor(J,$){this._projectionData=J,this._isVisible=$}isVisible(){return this._isVisible}setVisible(J){return this._isVisible=J,this}getProjectionData(){return this._projectionData}getViewLineCount(){if(!this._isVisible)return 0;return this._projectionData.getOutputLineCount()}getViewLineContent(J,$,Q){this._assertVisible();let X=Q>0?this._projectionData.breakOffsets[Q-1]:0,Y=this._projectionData.breakOffsets[Q],Z;if(this._projectionData.injectionOffsets!==null){let G=this._projectionData.injectionOffsets.map((U,z)=>new w7(0,0,U+1,this._projectionData.injectionOptions[z],0));Z=w7.applyInjectedText(J.getLineContent($),G).substring(X,Y)}else Z=J.getValueInRange({startLineNumber:$,startColumn:X+1,endLineNumber:$,endColumn:Y+1});if(Q>0)Z=Vl(this._projectionData.wrappedTextIndentLength)+Z;return Z}getViewLineLength(J,$,Q){return this._assertVisible(),this._projectionData.getLineLength(Q)}getViewLineMinColumn(J,$,Q){return this._assertVisible(),this._projectionData.getMinOutputOffset(Q)+1}getViewLineMaxColumn(J,$,Q){return this._assertVisible(),this._projectionData.getMaxOutputOffset(Q)+1}getViewLineData(J,$,Q){let X=[];return this.getViewLinesData(J,$,Q,1,0,[!0],X),X[0]}getViewLinesData(J,$,Q,X,Y,Z,G){this._assertVisible();let q=this._projectionData,U=q.injectionOffsets,z=q.injectionOptions,H=null;if(U){H=[];let B=0,V=0;for(let W=0;W<q.getOutputLineCount();W++){let K=[];H[W]=K;let A=W>0?q.breakOffsets[W-1]:0,F=q.breakOffsets[W];while(V<U.length){let P=z[V].content.length,R=U[V]+B,D=R+P;if(R>F)break;if(A<D){let _=z[V];if(_.inlineClassName){let O=W>0?q.wrappedTextIndentLength:0,N=O+Math.max(R-A,0),w=O+Math.min(D-A,F-A);if(N!==w)K.push(new g_(N,w,_.inlineClassName,_.inlineClassNameAffectsLetterSpacing))}}if(D<=F)B+=P,V++;else break}}}let j;if(U)j=J.tokenization.getLineTokens($).withInserted(U.map((B,V)=>({offset:B,text:z[V].content,tokenMetadata:g6.defaultTokenMetadata})));else j=J.tokenization.getLineTokens($);for(let B=Q;B<Q+X;B++){let V=Y+B-Q;if(!Z[V]){G[V]=null;continue}G[V]=this._getViewLineData(j,H?H[B]:null,B)}}_getViewLineData(J,$,Q){this._assertVisible();let X=this._projectionData,Y=Q>0?X.wrappedTextIndentLength:0,Z=Q>0?X.breakOffsets[Q-1]:0,G=X.breakOffsets[Q],q=J.sliceAndInflate(Z,G,Y),U=q.getLineContent();if(Q>0)U=Vl(X.wrappedTextIndentLength)+U;let z=this._projectionData.getMinOutputOffset(Q)+1,H=U.length+1,j=Q+1<this.getViewLineCount(),B=Q===0?0:X.breakOffsetsVisibleColumn[Q-1];return new k3(U,j,z,H,B,q,$)}getModelColumnOfViewPosition(J,$){return this._assertVisible(),this._projectionData.translateToInputOffset(J,$-1)+1}getViewPositionOfModelPosition(J,$,Q=2){return this._assertVisible(),this._projectionData.translateToOutputPosition($-1,Q).toPosition(J)}getViewLineNumberOfModelPosition(J,$){this._assertVisible();let Q=this._projectionData.translateToOutputPosition($-1);return J+Q.outputLineIndex}normalizePosition(J,$,Q){let X=$.lineNumber-J;return this._projectionData.normalizeOutputPosition(J,$.column-1,Q).toPosition(X)}getInjectedTextAt(J,$){return this._projectionData.getInjectedText(J,$-1)}_assertVisible(){if(!this._isVisible)throw Error("Not supported")}}class Bj{constructor(){}isVisible(){return!0}setVisible(J){if(J)return this;return Fj.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(J,$,Q){return J.getLineContent($)}getViewLineLength(J,$,Q){return J.getLineLength($)}getViewLineMinColumn(J,$,Q){return J.getLineMinColumn($)}getViewLineMaxColumn(J,$,Q){return J.getLineMaxColumn($)}getViewLineData(J,$,Q){let X=J.tokenization.getLineTokens($),Y=X.getLineContent();return new k3(Y,!1,1,Y.length+1,0,X.inflate(),null)}getViewLinesData(J,$,Q,X,Y,Z,G){if(!Z[Y]){G[Y]=null;return}G[Y]=this.getViewLineData(J,$,0)}getModelColumnOfViewPosition(J,$){return $}getViewPositionOfModelPosition(J,$){return new s(J,$)}getViewLineNumberOfModelPosition(J,$){return J}normalizePosition(J,$,Q){return $}getInjectedTextAt(J,$){return null}}class Fj{constructor(){}isVisible(){return!1}setVisible(J){if(!J)return this;return Bj.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(J,$,Q){throw Error("Not supported")}getViewLineLength(J,$,Q){throw Error("Not supported")}getViewLineMinColumn(J,$,Q){throw Error("Not supported")}getViewLineMaxColumn(J,$,Q){throw Error("Not supported")}getViewLineData(J,$,Q){throw Error("Not supported")}getViewLinesData(J,$,Q,X,Y,Z,G){throw Error("Not supported")}getModelColumnOfViewPosition(J,$){throw Error("Not supported")}getViewPositionOfModelPosition(J,$){throw Error("Not supported")}getViewLineNumberOfModelPosition(J,$){throw Error("Not supported")}normalizePosition(J,$,Q){throw Error("Not supported")}getInjectedTextAt(J,$){throw Error("Not supported")}}function Vl(J){if(J>=PL.length)for(let $=1;$<=J;$++)PL[$]=o70($);return PL[J]}function o70(J){return Array(J+1).join(" ")}var PL;var Bl=E(()=>{sQ();x4();Bj.INSTANCE=new Bj;Fj.INSTANCE=new Fj;PL=[""]});class ML{constructor(J,$,Q,X,Y,Z,G,q,U,z){this._editorId=J,this.model=$,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=Q,this._monospaceLineBreaksComputerFactory=X,this.fontInfo=Y,this.tabSize=Z,this.wrappingStrategy=G,this.wrappingColumn=q,this.wrappingIndent=U,this.wordBreak=z,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Fl(this)}_constructLines(J,$){if(this.modelLineProjections=[],J)this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]);let Q=this.model.getLinesContent(),X=this.model.getInjectedTextDecorations(this._editorId),Y=Q.length,Z=this.createLineBreaksComputer(),G=new $7(w7.fromDecorations(X));for(let W=0;W<Y;W++){let K=G.takeWhile((A)=>A.lineNumber===W+1);Z.addRequest(Q[W],K,$?$[W]:null)}let q=Z.finalize(),U=[],z=this.hiddenAreasDecorationIds.map((W)=>this.model.getDecorationRange(W)).sort(v.compareRangesUsingStarts),H=1,j=0,B=-1,V=B+1<z.length?j+1:Y+2;for(let W=0;W<Y;W++){let K=W+1;if(K===V)B++,H=z[B].startLineNumber,j=z[B].endLineNumber,V=B+1<z.length?j+1:Y+2;let A=K>=H&&K<=j,F=mA(q[W],!A);U[W]=F.getViewLineCount(),this.modelLineProjections[W]=F}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new q_(U)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((J)=>this.model.getDecorationRange(J))}setHiddenAreas(J){let $=J.map((j)=>this.model.validateRange(j)),Q=t70($),X=this.hiddenAreasDecorationIds.map((j)=>this.model.getDecorationRange(j)).sort(v.compareRangesUsingStarts);if(Q.length===X.length){let j=!1;for(let B=0;B<Q.length;B++)if(!Q[B].equalsRange(X[B])){j=!0;break}if(!j)return!1}let Y=Q.map((j)=>({range:j,options:C1.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Y);let Z=Q,G=1,q=0,U=-1,z=U+1<Z.length?q+1:this.modelLineProjections.length+2,H=!1;for(let j=0;j<this.modelLineProjections.length;j++){let B=j+1;if(B===z)U++,G=Z[U].startLineNumber,q=Z[U].endLineNumber,z=U+1<Z.length?q+1:this.modelLineProjections.length+2;let V=!1;if(B>=G&&B<=q){if(this.modelLineProjections[j].isVisible())this.modelLineProjections[j]=this.modelLineProjections[j].setVisible(!1),V=!0}else if(H=!0,!this.modelLineProjections[j].isVisible())this.modelLineProjections[j]=this.modelLineProjections[j].setVisible(!0),V=!0;if(V){let W=this.modelLineProjections[j].getViewLineCount();this.projectedModelLineLineCounts.setValue(j,W)}}if(!H)this.setHiddenAreas([]);return!0}modelPositionIsVisible(J,$){if(J<1||J>this.modelLineProjections.length)return!1;return this.modelLineProjections[J-1].isVisible()}getModelLineViewLineCount(J){if(J<1||J>this.modelLineProjections.length)return 1;return this.modelLineProjections[J-1].getViewLineCount()}setTabSize(J){if(this.tabSize===J)return!1;return this.tabSize=J,this._constructLines(!1,null),!0}setWrappingSettings(J,$,Q,X,Y){let Z=this.fontInfo.equals(J),G=this.wrappingStrategy===$,q=this.wrappingColumn===Q,U=this.wrappingIndent===X,z=this.wordBreak===Y;if(Z&&G&&q&&U&&z)return!1;let H=Z&&G&&!q&&U&&z;this.fontInfo=J,this.wrappingStrategy=$,this.wrappingColumn=Q,this.wrappingIndent=X,this.wordBreak=Y;let j=null;if(H){j=[];for(let B=0,V=this.modelLineProjections.length;B<V;B++)j[B]=this.modelLineProjections[B].getProjectionData()}return this._constructLines(!1,j),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(J,$,Q){if(!J||J<=this._validModelVersionId)return null;let X=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1,Y=this.projectedModelLineLineCounts.getPrefixSum(Q);return this.modelLineProjections.splice($-1,Q-$+1),this.projectedModelLineLineCounts.removeValues($-1,Q-$+1),new zj(X,Y)}onModelLinesInserted(J,$,Q,X){if(!J||J<=this._validModelVersionId)return null;let Y=$>2&&!this.modelLineProjections[$-2].isVisible(),Z=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1,G=0,q=[],U=[];for(let z=0,H=X.length;z<H;z++){let j=mA(X[z],!Y);q.push(j);let B=j.getViewLineCount();G+=B,U[z]=B}return this.modelLineProjections=this.modelLineProjections.slice(0,$-1).concat(q).concat(this.modelLineProjections.slice($-1)),this.projectedModelLineLineCounts.insertValues($-1,U),new Hj(Z,Z+G-1)}onModelLineChanged(J,$,Q){if(J!==null&&J<=this._validModelVersionId)return[!1,null,null,null];let X=$-1,Y=this.modelLineProjections[X].getViewLineCount(),Z=this.modelLineProjections[X].isVisible(),G=mA(Q,Z);this.modelLineProjections[X]=G;let q=this.modelLineProjections[X].getViewLineCount(),U=!1,z=0,H=-1,j=0,B=-1,V=0,W=-1;if(Y>q)z=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,H=z+q-1,V=H+1,W=V+(Y-q)-1,U=!0;else if(Y<q)z=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,H=z+Y-1,j=H+1,B=j+(q-Y)-1,U=!0;else z=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,H=z+q-1;this.projectedModelLineLineCounts.setValue(X,q);let K=z<=H?new vA(z,H-z+1):null,A=j<=B?new Hj(j,B):null,F=V<=W?new zj(V,W):null;return[U,K,A,F]}acceptVersionId(J){if(this._validModelVersionId=J,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible())this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(J){if(J<1)return 1;let $=this.getViewLineCount();if(J>$)return $;return J|0}getActiveIndentGuide(J,$,Q){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($),Q=this._toValidViewLineNumber(Q);let X=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),Y=this.convertViewPositionToModelPosition($,this.getViewLineMinColumn($)),Z=this.convertViewPositionToModelPosition(Q,this.getViewLineMinColumn(Q)),G=this.model.guides.getActiveIndentGuide(X.lineNumber,Y.lineNumber,Z.lineNumber),q=this.convertModelPositionToViewPosition(G.startLineNumber,1),U=this.convertModelPositionToViewPosition(G.endLineNumber,this.model.getLineMaxColumn(G.endLineNumber));return{startLineNumber:q.lineNumber,endLineNumber:U.lineNumber,indent:G.indent}}getViewLineInfo(J){J=this._toValidViewLineNumber(J);let $=this.projectedModelLineLineCounts.getIndexOf(J-1),Q=$.index,X=$.remainder;return new DL(Q+1,X)}getMinColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(J){let $=this.modelLineProjections[J.modelLineNumber-1],Q=$.getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),X=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,Q);return new s(J.modelLineNumber,X)}getModelEndPositionOfViewLine(J){let $=this.modelLineProjections[J.modelLineNumber-1],Q=$.getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),X=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,Q);return new s(J.modelLineNumber,X)}getViewLineInfosGroupedByModelRanges(J,$){let Q=this.getViewLineInfo(J),X=this.getViewLineInfo($),Y=[],Z=this.getModelStartPositionOfViewLine(Q),G=[];for(let q=Q.modelLineNumber;q<=X.modelLineNumber;q++){let U=this.modelLineProjections[q-1];if(U.isVisible()){let z=q===Q.modelLineNumber?Q.modelLineWrappedLineIdx:0,H=q===X.modelLineNumber?X.modelLineWrappedLineIdx+1:U.getViewLineCount();for(let j=z;j<H;j++)G.push(new DL(q,j))}if(!U.isVisible()&&Z){let z=new s(q-1,this.model.getLineMaxColumn(q-1)+1),H=v.fromPositions(Z,z);Y.push(new RL(H,G)),G=[],Z=null}else if(U.isVisible()&&!Z)Z=new s(q,1)}if(Z){let q=v.fromPositions(Z,this.getModelEndPositionOfViewLine(X));Y.push(new RL(q,G))}return Y}getViewLinesBracketGuides(J,$,Q,X){let Y=Q?this.convertViewPositionToModelPosition(Q.lineNumber,Q.column):null,Z=[];for(let G of this.getViewLineInfosGroupedByModelRanges(J,$)){let q=G.modelRange.startLineNumber,U=this.model.guides.getLinesBracketGuides(q,G.modelRange.endLineNumber,Y,X);for(let z of G.viewLines){let j=U[z.modelLineNumber-q].map((B)=>{if(B.forWrappedLinesAfterColumn!==-1){if(this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesAfterColumn).lineNumber>=z.modelLineWrappedLineIdx)return}if(B.forWrappedLinesBeforeOrAtColumn!==-1){if(this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesBeforeOrAtColumn).lineNumber<z.modelLineWrappedLineIdx)return}if(!B.horizontalLine)return B;let V=-1;if(B.column!==-1){let A=this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,B.column);if(A.lineNumber===z.modelLineWrappedLineIdx)V=A.column;else if(A.lineNumber<z.modelLineWrappedLineIdx)V=this.getMinColumnOfViewLine(z);else if(A.lineNumber>z.modelLineWrappedLineIdx)return}let W=this.convertModelPositionToViewPosition(z.modelLineNumber,B.horizontalLine.endColumn),K=this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,B.horizontalLine.endColumn);if(K.lineNumber===z.modelLineWrappedLineIdx)return new xJ(B.visibleColumn,V,B.className,new kY(B.horizontalLine.top,W.column),-1,-1);else if(K.lineNumber<z.modelLineWrappedLineIdx)return;else{if(B.visibleColumn!==-1)return;return new xJ(B.visibleColumn,V,B.className,new kY(B.horizontalLine.top,this.getMaxColumnOfViewLine(z)),-1,-1)}});Z.push(j.filter((B)=>!!B))}}return Z}getViewLinesIndentGuides(J,$){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);let Q=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),X=this.convertViewPositionToModelPosition($,this.getViewLineMaxColumn($)),Y=[],Z=[],G=[],q=Q.lineNumber-1,U=X.lineNumber-1,z=null;for(let V=q;V<=U;V++){let W=this.modelLineProjections[V];if(W.isVisible()){let K=W.getViewLineNumberOfModelPosition(0,V===q?Q.column:1),A=W.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(V+1)),F=A-K+1,P=0;if(F>1&&W.getViewLineMinColumn(this.model,V+1,A)===1)P=K===0?1:2;if(Z.push(F),G.push(P),z===null)z=new s(V+1,0)}else if(z!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(z.lineNumber,V)),z=null}if(z!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(z.lineNumber,X.lineNumber)),z=null;let H=$-J+1,j=Array(H),B=0;for(let V=0,W=Y.length;V<W;V++){let K=Y[V],A=Math.min(H-B,Z[V]),F=G[V],P;if(F===2)P=0;else if(F===1)P=1;else P=A;for(let R=0;R<A;R++){if(R===P)K=0;j[B++]=K}}return j}getViewLineContent(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineContent(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineLength(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineLength(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMinColumn(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMinColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMaxColumn(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMaxColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineData(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineData(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLinesData(J,$,Q){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);let X=this.projectedModelLineLineCounts.getIndexOf(J-1),Y=J,Z=X.index,G=X.remainder,q=[];for(let U=Z,z=this.model.getLineCount();U<z;U++){let H=this.modelLineProjections[U];if(!H.isVisible())continue;let j=U===Z?G:0,B=H.getViewLineCount()-j,V=!1;if(Y+B>$)V=!0,B=$-Y+1;if(H.getViewLinesData(this.model,U+1,j,B,Y-J,Q,q),Y+=B,V)break}return q}validateViewPosition(J,$,Q){J=this._toValidViewLineNumber(J);let X=this.projectedModelLineLineCounts.getIndexOf(J-1),Y=X.index,Z=X.remainder,G=this.modelLineProjections[Y],q=G.getViewLineMinColumn(this.model,Y+1,Z),U=G.getViewLineMaxColumn(this.model,Y+1,Z);if($<q)$=q;if($>U)$=U;let z=G.getModelColumnOfViewPosition(Z,$);if(this.model.validatePosition(new s(Y+1,z)).equals(Q))return new s(J,$);return this.convertModelPositionToViewPosition(Q.lineNumber,Q.column)}validateViewRange(J,$){let Q=this.validateViewPosition(J.startLineNumber,J.startColumn,$.getStartPosition()),X=this.validateViewPosition(J.endLineNumber,J.endColumn,$.getEndPosition());return new v(Q.lineNumber,Q.column,X.lineNumber,X.column)}convertViewPositionToModelPosition(J,$){let Q=this.getViewLineInfo(J),X=this.modelLineProjections[Q.modelLineNumber-1].getModelColumnOfViewPosition(Q.modelLineWrappedLineIdx,$);return this.model.validatePosition(new s(Q.modelLineNumber,X))}convertViewRangeToModelRange(J){let $=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),Q=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);return new v($.lineNumber,$.column,Q.lineNumber,Q.column)}convertModelPositionToViewPosition(J,$,Q=2,X=!1,Y=!1){let Z=this.model.validatePosition(new s(J,$)),G=Z.lineNumber,q=Z.column,U=G-1,z=!1;if(Y)while(U<this.modelLineProjections.length&&!this.modelLineProjections[U].isVisible())U++,z=!0;else while(U>0&&!this.modelLineProjections[U].isVisible())U--,z=!0;if(U===0&&!this.modelLineProjections[U].isVisible())return new s(X?0:1,1);let H=1+this.projectedModelLineLineCounts.getPrefixSum(U),j;if(z)if(Y)j=this.modelLineProjections[U].getViewPositionOfModelPosition(H,1,Q);else j=this.modelLineProjections[U].getViewPositionOfModelPosition(H,this.model.getLineMaxColumn(U+1),Q);else j=this.modelLineProjections[G-1].getViewPositionOfModelPosition(H,q,Q);return j}convertModelRangeToViewRange(J,$=0){if(J.isEmpty()){let Q=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,$);return v.fromPositions(Q)}else{let Q=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,1),X=this.convertModelPositionToViewPosition(J.endLineNumber,J.endColumn,0);return new v(Q.lineNumber,Q.column,X.lineNumber,X.column)}}getViewLineNumberOfModelPosition(J,$){let Q=J-1;if(this.modelLineProjections[Q].isVisible()){let Y=1+this.projectedModelLineLineCounts.getPrefixSum(Q);return this.modelLineProjections[Q].getViewLineNumberOfModelPosition(Y,$)}while(Q>0&&!this.modelLineProjections[Q].isVisible())Q--;if(Q===0&&!this.modelLineProjections[Q].isVisible())return 1;let X=1+this.projectedModelLineLineCounts.getPrefixSum(Q);return this.modelLineProjections[Q].getViewLineNumberOfModelPosition(X,this.model.getLineMaxColumn(Q+1))}getDecorationsInRange(J,$,Q,X,Y){let Z=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),G=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);if(G.lineNumber-Z.lineNumber<=J.endLineNumber-J.startLineNumber)return this.model.getDecorationsInRange(new v(Z.lineNumber,1,G.lineNumber,G.column),$,Q,X,Y);let q=[],U=Z.lineNumber-1,z=G.lineNumber-1,H=null;for(let W=U;W<=z;W++)if(this.modelLineProjections[W].isVisible()){if(H===null)H=new s(W+1,W===U?Z.column:1)}else if(H!==null){let A=this.model.getLineMaxColumn(W);q=q.concat(this.model.getDecorationsInRange(new v(H.lineNumber,H.column,W,A),$,Q,X)),H=null}if(H!==null)q=q.concat(this.model.getDecorationsInRange(new v(H.lineNumber,H.column,G.lineNumber,G.column),$,Q,X)),H=null;q.sort((W,K)=>{let A=v.compareRangesUsingStarts(W.range,K.range);if(A===0){if(W.id<K.id)return-1;if(W.id>K.id)return 1;return 0}return A});let j=[],B=0,V=null;for(let W of q){let K=W.id;if(V===K)continue;V=K,j[B++]=W}return j}getInjectedTextAt(J){let $=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[$.modelLineNumber-1].getInjectedTextAt($.modelLineWrappedLineIdx,J.column)}normalizePosition(J,$){let Q=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[Q.modelLineNumber-1].normalizePosition(Q.modelLineWrappedLineIdx,J,$)}getLineIndentColumn(J){let $=this.getViewLineInfo(J);if($.modelLineWrappedLineIdx===0)return this.model.getLineIndentColumn($.modelLineNumber);return 0}}function t70(J){if(J.length===0)return[];let $=J.slice();$.sort(v.compareRangesUsingStarts);let Q=[],X=$[0].startLineNumber,Y=$[0].endLineNumber;for(let Z=1,G=$.length;Z<G;Z++){let q=$[Z];if(q.startLineNumber>Y+1)Q.push(new v(X,1,Y,1)),X=q.startLineNumber,Y=q.endLineNumber;else if(q.endLineNumber>Y)Y=q.endLineNumber}return Q.push(new v(X,1,Y,1)),Q}class DL{constructor(J,$){this.modelLineNumber=J,this.modelLineWrappedLineIdx=$}}class RL{constructor(J,$){this.modelRange=J,this.viewLines=$}}class Fl{constructor(J){this._lines=J}convertViewPositionToModelPosition(J){return this._lines.convertViewPositionToModelPosition(J.lineNumber,J.column)}convertViewRangeToModelRange(J){return this._lines.convertViewRangeToModelRange(J)}validateViewPosition(J,$){return this._lines.validateViewPosition(J.lineNumber,J.column,$)}validateViewRange(J,$){return this._lines.validateViewRange(J,$)}convertModelPositionToViewPosition(J,$,Q,X){return this._lines.convertModelPositionToViewPosition(J.lineNumber,J.column,$,Q,X)}convertModelRangeToViewRange(J,$){return this._lines.convertModelRangeToViewRange(J,$)}modelPositionIsVisible(J){return this._lines.modelPositionIsVisible(J.lineNumber,J.column)}getModelLineViewLineCount(J){return this._lines.getModelLineViewLineCount(J)}getViewLineNumberOfModelPosition(J,$){return this._lines.getViewLineNumberOfModelPosition(J,$)}}class OL{constructor(J){this.model=J}dispose(){}createCoordinatesConverter(){return new Kl(this)}getHiddenAreas(){return[]}setHiddenAreas(J){return!1}setTabSize(J){return!1}setWrappingSettings(J,$,Q,X){return!1}createLineBreaksComputer(){let J=[];return{addRequest:($,Q,X)=>{J.push(null)},finalize:()=>{return J}}}onModelFlushed(){}onModelLinesDeleted(J,$,Q){return new zj($,Q)}onModelLinesInserted(J,$,Q,X){return new Hj($,Q)}onModelLineChanged(J,$,Q){return[!1,new vA($,1),null,null]}acceptVersionId(J){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(J,$,Q){return{startLineNumber:J,endLineNumber:J,indent:0}}getViewLinesBracketGuides(J,$,Q){return Array($-J+1).fill([])}getViewLinesIndentGuides(J,$){let Q=$-J+1,X=Array(Q);for(let Y=0;Y<Q;Y++)X[Y]=0;return X}getViewLineContent(J){return this.model.getLineContent(J)}getViewLineLength(J){return this.model.getLineLength(J)}getViewLineMinColumn(J){return this.model.getLineMinColumn(J)}getViewLineMaxColumn(J){return this.model.getLineMaxColumn(J)}getViewLineData(J){let $=this.model.tokenization.getLineTokens(J),Q=$.getLineContent();return new k3(Q,!1,1,Q.length+1,0,$.inflate(),null)}getViewLinesData(J,$,Q){let X=this.model.getLineCount();J=Math.min(Math.max(1,J),X),$=Math.min(Math.max(1,$),X);let Y=[];for(let Z=J;Z<=$;Z++){let G=Z-J;Y[G]=Q[G]?this.getViewLineData(Z):null}return Y}getDecorationsInRange(J,$,Q,X,Y){return this.model.getDecorationsInRange(J,$,Q,X,Y)}normalizePosition(J,$){return this.model.normalizePosition(J,$)}getLineIndentColumn(J){return this.model.getLineIndentColumn(J)}getInjectedTextAt(J){return null}}class Kl{constructor(J){this._lines=J}_validPosition(J){return this._lines.model.validatePosition(J)}_validRange(J){return this._lines.model.validateRange(J)}convertViewPositionToModelPosition(J){return this._validPosition(J)}convertViewRangeToModelRange(J){return this._validRange(J)}validateViewPosition(J,$){return this._validPosition($)}validateViewRange(J,$){return this._validRange($)}convertModelPositionToViewPosition(J){return this._validPosition(J)}convertModelRangeToViewRange(J){return this._validRange(J)}modelPositionIsVisible(J){let $=this._lines.model.getLineCount();if(J.lineNumber<1||J.lineNumber>$)return!1;return!0}getModelLineViewLineCount(J){return 1}getViewLineNumberOfModelPosition(J,$){return J}}var Al=E(()=>{B1();e0();GA();hY();Bl();z_();x4()});class _L{constructor(J){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((J+1)*r2/8))}reset(J){let $=Math.ceil((J+1)*r2/8);if(this.lanes.length<$)this.lanes=new Uint8Array($);else this.lanes.fill(0);this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(J,$,Q){if(Q)this.persist|=1<<J-1;for(let X=$.startLineNumber;X<=$.endLineNumber;X++){let Y=r2*X+(J-1);this.lanes[Y>>>3]|=1<<Y%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(X))}}getLanesAtLine(J){let $=[],Q=r2*J;for(let X=0;X<r2;X++){if(this.persist&1<<X||this.lanes[Q>>>3]&1<<Q%8)$.push(X+1);Q++}return $.length?$:[i9.Center]}countAtLine(J){let $=r2*J,Q=0;for(let X=0;X<r2;X++){if(this.persist&1<<X||this.lanes[$>>>3]&1<<$%8)Q++;$++}return Q}}var r2;var Pl=E(()=>{l7();r2=i9.Right});class wL{static create(J){let $=J._setTrackedRange(null,new v(1,1,1,1),1);return new wL(J,1,!1,$,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(J,$,Q,X,Y){this._model=J,this._viewLineNumber=$,this._isValid=Q,this._modelTrackedRange=X,this._startLineDelta=Y}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(J,$){let Q=J.coordinatesConverter.convertViewPositionToModelPosition(new s($,J.getLineMinColumn($))),X=J.model._setTrackedRange(this._modelTrackedRange,new v(Q.lineNumber,Q.column,Q.lineNumber,Q.column),1),Y=J.viewLayout.getVerticalOffsetForLineNumber($),Z=J.viewLayout.getCurrentScrollTop();this._viewLineNumber=$,this._isValid=!0,this._modelTrackedRange=X,this._startLineDelta=Z-Y}invalidate(){this._isValid=!1}}class Rl{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(J,$,Q,X,Y){let Z=this._asMap[J];if(Z){let G=Z.data,q=G[G.length-3],U=G[G.length-1];if(q===Y&&U+1>=Q){if(X>U)G[G.length-1]=X;return}G.push(Y,Q,X)}else{let G=new _2(J,$,[Y,Q,X]);this._asMap[J]=G,this.asArray.push(G)}}}class Ml{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(J,$){let Q=this.hiddenAreas.get(J);if(Q&&Dl(Q,$))return;this.hiddenAreas.set(J,$),this.shouldRecompute=!0}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;let J=Array.from(this.hiddenAreas.values()).reduce(($,Q)=>J90($,Q),[]);if(Dl(this.ranges,J))return this.ranges;return this.ranges=J,this.ranges}}function J90(J,$){let Q=[],X=0,Y=0;while(X<J.length&&Y<$.length){let Z=J[X],G=$[Y];if(Z.endLineNumber<G.startLineNumber-1)Q.push(J[X++]);else if(G.endLineNumber<Z.startLineNumber-1)Q.push($[Y++]);else{let q=Math.min(Z.startLineNumber,G.startLineNumber),U=Math.max(Z.endLineNumber,G.endLineNumber);Q.push(new v(q,1,U,1)),X++,Y++}}while(X<J.length)Q.push(J[X++]);while(Y<$.length)Q.push($[Y++]);return Q}function Dl(J,$){if(J.length!==$.length)return!1;for(let Q=0;Q<J.length;Q++)if(!J[Q].equalsRange($[Q]))return!1;return!0}class NL{constructor(J,$){this.viewportStartModelPosition=J,this.startLineDelta=$}recoverViewportStart(J,$){if(!this.viewportStartModelPosition)return;let Q=J.convertModelPositionToViewPosition(this.viewportStartModelPosition),X=$.getVerticalOffsetForLineNumber(Q.lineNumber);$.setScrollPosition({scrollTop:X+this.startLineDelta},1)}}var e70=!0,TL;var Ol=E(()=>{B1();J6();a7();B0();E1();G1();U8();Jl();f4();e0();w8();I4();FL();zl();OT();x4();jl();pA();Al();Pl();TL=class TL extends r{constructor(J,$,Q,X,Y,Z,G,q,U){super();if(this.languageConfigurationService=G,this._themeService=q,this._attachedView=U,this.hiddenAreasModel=new Ml,this.previousHiddenAreas=[],this._editorId=J,this._configuration=$,this.model=Q,this._eventDispatcher=new XL,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new TY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new z6(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=wL.create(this.model),this.glyphLanes=new _L(0),e70&&this.model.isTooLargeForTokenization())this._lines=new OL(this.model);else{let z=this._configuration.options,H=z.get(50),j=z.get(137),B=z.get(144),V=z.get(136),W=z.get(128);this._lines=new ML(this._editorId,this.model,X,Y,H,this.model.getOptions().tabSize,j,B.wrappingColumn,V,W)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new BL(Q,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new KL(this._configuration,this.getLineCount(),Z)),this._register(this.viewLayout.onDidScroll((z)=>{if(z.scrollTopChanged)this._handleVisibleLinesChanged();if(z.scrollTopChanged)this._viewportStart.invalidate();this._eventDispatcher.emitSingleViewEvent(new tw(z)),this._eventDispatcher.emitOutgoingEvent(new gA(z.oldScrollWidth,z.oldScrollLeft,z.oldScrollHeight,z.oldScrollTop,z.scrollWidth,z.scrollLeft,z.scrollHeight,z.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange((z)=>{this._eventDispatcher.emitOutgoingEvent(z)})),this._decorations=new AL(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((z)=>{try{let H=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(H,z)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(p2.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new $L)})),this._register(this._themeService.onDidColorThemeChange((z)=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new ew(z))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(J){this._eventDispatcher.addViewEventHandler(J)}removeViewEventHandler(J){this._eventDispatcher.removeViewEventHandler(J)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){let J=this.viewLayout.getLinesViewportData(),$=new v(J.startLineNumber,this.getLineMinColumn(J.startLineNumber),J.endLineNumber,this.getLineMaxColumn(J.endLineNumber));return this._toModelVisibleRanges($)}visibleLinesStabilized(){let J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!0)}_handleVisibleLinesChanged(){let J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!1)}setHasFocus(J){this._hasFocus=J,this._cursor.setHasFocus(J),this._eventDispatcher.emitSingleViewEvent(new nw(J)),this._eventDispatcher.emitOutgoingEvent(new fA(!J,J))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new sw)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new aw)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){let J=new s(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),$=this.coordinatesConverter.convertViewPositionToModelPosition(J);return new NL($,this._viewportStart.startLineDelta)}return new NL(null,0)}_onConfigurationChanged(J,$){let Q=this._captureStableViewport(),X=this._configuration.options,Y=X.get(50),Z=X.get(137),G=X.get(144),q=X.get(136),U=X.get(128);if(this._lines.setWrappingSettings(Y,Z,G.wrappingColumn,q,U))J.emitViewEvent(new _q),J.emitViewEvent(new Nq),J.emitViewEvent(new AX(null)),this._cursor.onLineMappingChanged(J),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule();if($.hasChanged(90))this._decorations.reset(),J.emitViewEvent(new AX(null));if($.hasChanged(97))this._decorations.reset(),J.emitViewEvent(new AX(null));if(J.emitViewEvent(new rw($)),this.viewLayout.onConfigurationChanged($),Q.recoverViewportStart(this.coordinatesConverter,this.viewLayout),TY.shouldRecreate($))this.cursorConfig=new TY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((J)=>{try{let Q=this._eventDispatcher.beginEmitViewEvents(),X=!1,Y=!1,Z=J instanceof FX?J.rawContentChangedEvent.changes:J.changes,G=J instanceof FX?J.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(let H of Z)switch(H.changeType){case 4:{for(let j=0;j<H.detail.length;j++){let B=H.detail[j],V=H.injectedTexts[j];if(V)V=V.filter((W)=>!W.ownerId||W.ownerId===this._editorId);q.addRequest(B,V,null)}break}case 2:{let j=null;if(H.injectedText)j=H.injectedText.filter((B)=>!B.ownerId||B.ownerId===this._editorId);q.addRequest(H.detail,j,null);break}}let U=q.finalize(),z=new $7(U);for(let H of Z)switch(H.changeType){case 1:{this._lines.onModelFlushed(),Q.emitViewEvent(new _q),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),X=!0;break}case 3:{let j=this._lines.onModelLinesDeleted(G,H.fromLineNumber,H.toLineNumber);if(j!==null)Q.emitViewEvent(j),this.viewLayout.onLinesDeleted(j.fromLineNumber,j.toLineNumber);X=!0;break}case 4:{let j=z.takeCount(H.detail.length),B=this._lines.onModelLinesInserted(G,H.fromLineNumber,H.toLineNumber,j);if(B!==null)Q.emitViewEvent(B),this.viewLayout.onLinesInserted(B.fromLineNumber,B.toLineNumber);X=!0;break}case 2:{let j=z.dequeue(),[B,V,W,K]=this._lines.onModelLineChanged(G,H.lineNumber,j);if(Y=B,V)Q.emitViewEvent(V);if(W)Q.emitViewEvent(W),this.viewLayout.onLinesInserted(W.fromLineNumber,W.toLineNumber);if(K)Q.emitViewEvent(K),this.viewLayout.onLinesDeleted(K.fromLineNumber,K.toLineNumber);break}case 5:break}if(G!==null)this._lines.acceptVersionId(G);if(this.viewLayout.onHeightMaybeChanged(),!X&&Y)Q.emitViewEvent(new Nq),Q.emitViewEvent(new AX(null)),this._cursor.onLineMappingChanged(Q),this._decorations.onLineMappingChanged()}finally{this._eventDispatcher.endEmitViewEvents()}let $=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&$){let Q=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(Q){let X=this.coordinatesConverter.convertModelPositionToViewPosition(Q.getStartPosition()),Y=this.viewLayout.getVerticalOffsetForLineNumber(X.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Y+this._viewportStart.startLineDelta},1)}}try{let Q=this._eventDispatcher.beginEmitViewEvents();if(J instanceof FX)Q.emitOutgoingEvent(new HL(J.contentChangedEvent));this._cursor.onModelContentChanged(Q,J)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens((J)=>{let $=[];for(let Q=0,X=J.ranges.length;Q<X;Q++){let Y=J.ranges[Q],Z=this.coordinatesConverter.convertModelPositionToViewPosition(new s(Y.fromLineNumber,1)).lineNumber,G=this.coordinatesConverter.convertModelPositionToViewPosition(new s(Y.toLineNumber,this.model.getLineMaxColumn(Y.toLineNumber))).lineNumber;$[Q]={fromLineNumber:Z,toLineNumber:G}}this._eventDispatcher.emitSingleViewEvent(new JL($)),this._eventDispatcher.emitOutgoingEvent(new VL(J))})),this._register(this.model.onDidChangeLanguageConfiguration((J)=>{this._eventDispatcher.emitSingleViewEvent(new ow),this.cursorConfig=new TY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new zL(J))})),this._register(this.model.onDidChangeLanguage((J)=>{this.cursorConfig=new TY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new UL(J))})),this._register(this.model.onDidChangeOptions((J)=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{let $=this._eventDispatcher.beginEmitViewEvents();$.emitViewEvent(new _q),$.emitViewEvent(new Nq),$.emitViewEvent(new AX(null)),this._cursor.onLineMappingChanged($),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new TY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new jL(J))})),this._register(this.model.onDidChangeDecorations((J)=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new AX(J)),this._eventDispatcher.emitOutgoingEvent(new qL(J))}))}setHiddenAreas(J,$){var Q;this.hiddenAreasModel.setHiddenAreas($,J);let X=this.hiddenAreasModel.getMergedRanges();if(X===this.previousHiddenAreas)return;this.previousHiddenAreas=X;let Y=this._captureStableViewport(),Z=!1;try{let G=this._eventDispatcher.beginEmitViewEvents();if(Z=this._lines.setHiddenAreas(X),Z)G.emitViewEvent(new _q),G.emitViewEvent(new Nq),G.emitViewEvent(new AX(null)),this._cursor.onLineMappingChanged(G),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged();let q=(Q=Y.viewportStartModelPosition)===null||Q===void 0?void 0:Q.lineNumber;if(!(q&&X.some((z)=>z.startLineNumber<=q&&q<=z.endLineNumber)))Y.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}if(this._updateConfigurationViewLineCount.schedule(),Z)this._eventDispatcher.emitOutgoingEvent(new ZL)}getVisibleRangesPlusViewportAboveBelow(){let J=this._configuration.options.get(143),$=this._configuration.options.get(66),Q=Math.max(20,Math.round(J.height/$)),X=this.viewLayout.getLinesViewportData(),Y=Math.max(1,X.completelyVisibleStartLineNumber-Q),Z=Math.min(this.getLineCount(),X.completelyVisibleEndLineNumber+Q);return this._toModelVisibleRanges(new v(Y,this.getLineMinColumn(Y),Z,this.getLineMaxColumn(Z)))}getVisibleRanges(){let J=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(J)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(J){let $=this.coordinatesConverter.convertViewRangeToModelRange(J),Q=this._lines.getHiddenAreas();if(Q.length===0)return[$];let X=[],Y=0,Z=$.startLineNumber,G=$.startColumn,q=$.endLineNumber,U=$.endColumn;for(let z=0,H=Q.length;z<H;z++){let j=Q[z].startLineNumber,B=Q[z].endLineNumber;if(B<Z)continue;if(j>q)continue;if(Z<j)X[Y++]=new v(Z,G,j-1,this.model.getLineMaxColumn(j-1));Z=B+1,G=1}if(Z<q||Z===q&&G<U)X[Y++]=new v(Z,G,q,U);return X}getCompletelyVisibleViewRange(){let J=this.viewLayout.getLinesViewportData(),$=J.completelyVisibleStartLineNumber,Q=J.completelyVisibleEndLineNumber;return new v($,this.getLineMinColumn($),Q,this.getLineMaxColumn(Q))}getCompletelyVisibleViewRangeAtScrollTop(J){let $=this.viewLayout.getLinesViewportDataAtScrollTop(J),Q=$.completelyVisibleStartLineNumber,X=$.completelyVisibleEndLineNumber;return new v(Q,this.getLineMinColumn(Q),X,this.getLineMaxColumn(X))}saveState(){let J=this.viewLayout.saveState(),$=J.scrollTop,Q=this.viewLayout.getLineNumberAtVerticalOffset($),X=this.coordinatesConverter.convertViewPositionToModelPosition(new s(Q,this.getLineMinColumn(Q))),Y=this.viewLayout.getVerticalOffsetForLineNumber(Q)-$;return{scrollLeft:J.scrollLeft,firstPosition:X,firstPositionDeltaTop:Y}}reduceRestoreState(J){if(typeof J.firstPosition>"u")return this._reduceRestoreStateCompatibility(J);let $=this.model.validatePosition(J.firstPosition),Q=this.coordinatesConverter.convertModelPositionToViewPosition($),X=this.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber)-J.firstPositionDeltaTop;return{scrollLeft:J.scrollLeft,scrollTop:X}}_reduceRestoreStateCompatibility(J){return{scrollLeft:J.scrollLeft,scrollTop:J.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(J,$,Q){this._viewportStart.update(this,J)}getActiveIndentGuide(J,$,Q){return this._lines.getActiveIndentGuide(J,$,Q)}getLinesIndentGuides(J,$){return this._lines.getViewLinesIndentGuides(J,$)}getBracketGuidesInRangeByLine(J,$,Q,X){return this._lines.getViewLinesBracketGuides(J,$,Q,X)}getLineContent(J){return this._lines.getViewLineContent(J)}getLineLength(J){return this._lines.getViewLineLength(J)}getLineMinColumn(J){return this._lines.getViewLineMinColumn(J)}getLineMaxColumn(J){return this._lines.getViewLineMaxColumn(J)}getLineFirstNonWhitespaceColumn(J){let $=s6(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){let $=j9(this.getLineContent(J));if($===-1)return 0;return $+2}getMinimapDecorationsInRange(J){return this._decorations.getMinimapDecorationsInRange(J)}getDecorationsInViewport(J){return this._decorations.getDecorationsViewportData(J).decorations}getInjectedTextAt(J){return this._lines.getInjectedTextAt(J)}getViewportViewLineRenderingData(J,$){let X=this._decorations.getDecorationsViewportData(J).inlineDecorations[$-J.startLineNumber];return this._getViewLineRenderingData($,X)}getViewLineRenderingData(J){let $=this._decorations.getInlineDecorationsOnLine(J);return this._getViewLineRenderingData(J,$)}_getViewLineRenderingData(J,$){let Q=this.model.mightContainRTL(),X=this.model.mightContainNonBasicASCII(),Y=this.getTabSize(),Z=this._lines.getViewLineData(J);if(Z.inlineDecorations)$=[...$,...Z.inlineDecorations.map((G)=>G.toInlineDecoration(J))];return new s8(Z.minColumn,Z.maxColumn,Z.content,Z.continuesWithWrappedLine,Q,X,Z.tokens,$,Y,Z.startVisibleColumn)}getViewLineData(J){return this._lines.getViewLineData(J)}getMinimapLinesRenderingData(J,$,Q){let X=this._lines.getViewLinesData(J,$,Q);return new f_(this.getTabSize(),X)}getAllOverviewRulerDecorations(J){let $=this.model.getOverviewRulerDecorations(this._editorId,yZ(this._configuration.options)),Q=new Rl;for(let X of $){let Y=X.options,Z=Y.overviewRuler;if(!Z)continue;let G=Z.position;if(G===0)continue;let q=Z.getColor(J.value),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(X.range.startLineNumber,X.range.startColumn),z=this.coordinatesConverter.getViewLineNumberOfModelPosition(X.range.endLineNumber,X.range.endColumn);Q.accept(q,Y.zIndex,U,z,G)}return Q.asArray}_invalidateDecorationsColorCache(){let J=this.model.getOverviewRulerDecorations();for(let $ of J){let Q=$.options.overviewRuler;Q===null||Q===void 0||Q.invalidateCachedColor();let X=$.options.minimap;X===null||X===void 0||X.invalidateCachedColor()}}getValueInRange(J,$){let Q=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueInRange(Q,$)}getValueLengthInRange(J,$){let Q=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueLengthInRange(Q,$)}modifyPosition(J,$){let Q=this.coordinatesConverter.convertViewPositionToModelPosition(J),X=this.model.modifyPosition(Q,$);return this.coordinatesConverter.convertModelPositionToViewPosition(X)}deduceModelPositionRelativeToViewPosition(J,$,Q){let X=this.coordinatesConverter.convertViewPositionToModelPosition(J);if(this.model.getEOL().length===2)if($<0)$-=Q;else $+=Q;let Z=this.model.getOffsetAt(X)+$;return this.model.getPositionAt(Z)}getPlainTextToCopy(J,$,Q){let X=Q?`\r
`:this.model.getEOL();J=J.slice(0),J.sort(v.compareRangesUsingStarts);let Y=!1,Z=!1;for(let q of J)if(q.isEmpty())Y=!0;else Z=!0;if(!Z){if(!$)return"";let q=J.map((z)=>z.startLineNumber),U="";for(let z=0;z<q.length;z++){if(z>0&&q[z-1]===q[z])continue;U+=this.model.getLineContent(q[z])+X}return U}if(Y&&$){let q=[],U=0;for(let z of J){let H=z.startLineNumber;if(z.isEmpty()){if(H!==U)q.push(this.model.getLineContent(H))}else q.push(this.model.getValueInRange(z,Q?2:0));U=H}return q.length===1?q[0]:q}let G=[];for(let q of J)if(!q.isEmpty())G.push(this.model.getValueInRange(q,Q?2:0));return G.length===1?G[0]:G}getRichTextToCopy(J,$){let Q=this.model.getLanguageId();if(Q===S5)return null;if(J.length!==1)return null;let X=J[0];if(X.isEmpty()){if(!$)return null;let z=X.startLineNumber;X=new v(z,this.model.getLineMinColumn(z),z,this.model.getLineMaxColumn(z))}let Y=this._configuration.options.get(50),Z=this._getColorMap(),q=/[:;\\\/<>]/.test(Y.fontFamily)||Y.fontFamily===g8.fontFamily,U;if(q)U=g8.fontFamily;else{if(U=Y.fontFamily,U=U.replace(/"/g,"'"),!/[,']/.test(U)){if(/[+ ]/.test(U))U=`'${U}'`}U=`${U}, ${g8.fontFamily}`}return{mode:Q,html:`<div style="color: ${Z[1]};background-color: ${Z[2]};font-family: ${U};font-weight: ${Y.fontWeight};font-size: ${Y.fontSize}px;line-height: ${Y.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(X,Z)+"</div>"}}_getHTMLToCopy(J,$){let{startLineNumber:Q,startColumn:X,endLineNumber:Y,endColumn:Z}=J,G=this.getTabSize(),q="";for(let U=Q;U<=Y;U++){let z=this.model.tokenization.getLineTokens(U),H=z.getLineContent(),j=U===Q?X-1:0,B=U===Y?Z-1:H.length;if(H==="")q+="<br>";else q+=Yl(H,z.inflate(),$,j,B,G,c6)}return q}_getColorMap(){let J=Q6.getColorMap(),$=["#000000"];if(J)for(let Q=1,X=J.length;Q<X;Q++)$[Q]=X0.Format.CSS.formatHex(J[Q]);return $}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(J,$,Q){return this._withViewEventsCollector((X)=>this._cursor.setStates(X,J,$,Q))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(J){this._cursor.setCursorColumnSelectData(J)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(J){this._cursor.setPrevEditOperationType(J)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(J,$,Q=0){this._withViewEventsCollector((X)=>this._cursor.setSelections(X,J,$,Q))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(J){this._withViewEventsCollector(($)=>this._cursor.restoreState($,J))}_executeCursorEdit(J){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new GL);return}this._withViewEventsCollector(J)}executeEdits(J,$,Q){this._executeCursorEdit((X)=>this._cursor.executeEdits(X,J,$,Q))}startComposition(){this._executeCursorEdit((J)=>this._cursor.startComposition(J))}endComposition(J){this._executeCursorEdit(($)=>this._cursor.endComposition($,J))}type(J,$){this._executeCursorEdit((Q)=>this._cursor.type(Q,J,$))}compositionType(J,$,Q,X,Y){this._executeCursorEdit((Z)=>this._cursor.compositionType(Z,J,$,Q,X,Y))}paste(J,$,Q,X){this._executeCursorEdit((Y)=>this._cursor.paste(Y,J,$,Q,X))}cut(J){this._executeCursorEdit(($)=>this._cursor.cut($,J))}executeCommand(J,$){this._executeCursorEdit((Q)=>this._cursor.executeCommand(Q,J,$))}executeCommands(J,$){this._executeCursorEdit((Q)=>this._cursor.executeCommands(Q,J,$))}revealPrimaryCursor(J,$,Q=!1){this._withViewEventsCollector((X)=>this._cursor.revealPrimary(X,J,Q,0,$,0))}revealTopMostCursor(J){let $=this._cursor.getTopMostViewPosition(),Q=new v($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((X)=>X.emitViewEvent(new a2(J,!1,Q,null,0,!0,0)))}revealBottomMostCursor(J){let $=this._cursor.getBottomMostViewPosition(),Q=new v($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((X)=>X.emitViewEvent(new a2(J,!1,Q,null,0,!0,0)))}revealRange(J,$,Q,X,Y){this._withViewEventsCollector((Z)=>Z.emitViewEvent(new a2(J,!1,Q,null,X,$,Y)))}changeWhitespace(J){if(this.viewLayout.changeWhitespace(J))this._eventDispatcher.emitSingleViewEvent(new QL),this._eventDispatcher.emitOutgoingEvent(new YL)}_withViewEventsCollector(J){try{let $=this._eventDispatcher.beginEmitViewEvents();return J($)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(J,$){return this._lines.normalizePosition(J,$)}getLineIndentColumn(J){return this._lines.getLineIndentColumn(J)}}});class CJ{constructor(...J){this._entries=new Map;for(let[$,Q]of J)this.set($,Q)}set(J,$){let Q=this._entries.get(J);return this._entries.set(J,$),Q}get(J){return this._entries.get(J)}}var Kj,y6;var fY=E(()=>{G1();(function(J){J[J.Ignore=0]="Ignore",J[J.Info=1]="Info",J[J.Warning=2]="Warning",J[J.Error=3]="Error"})(Kj||(Kj={}));(function(J){function G(U){if(!U)return J.Ignore;if(_Q("error",U))return J.Error;if(_Q("warning",U)||_Q("warn",U))return J.Warning;if(_Q("info",U))return J.Info;return J.Ignore}J.fromValue=G;function q(U){switch(U){case J.Error:return"error";case J.Warning:return"warning";case J.Info:return"info";default:return"ignore"}}J.toString=q})(Kj||(Kj={}));y6=Kj});class LL{}var _l,X8;var PX=E(()=>{fY();n0();_l=y6,X8=b0("notificationService")});class gY{constructor(J,$,Q,X,Y){this.injectionOffsets=J,this.injectionOptions=$,this.breakOffsets=Q,this.breakOffsetsVisibleColumn=X,this.wrappedTextIndentLength=Y}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(J){if(J>0)return this.wrappedTextIndentLength;return 0}getLineLength(J){let $=J>0?this.breakOffsets[J-1]:0,X=this.breakOffsets[J]-$;if(J>0)X+=this.wrappedTextIndentLength;return X}getMaxOutputOffset(J){return this.getLineLength(J)}translateToInputOffset(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);let X=J===0?$:this.breakOffsets[J-1]+$;if(this.injectionOffsets!==null)for(let Y=0;Y<this.injectionOffsets.length;Y++)if(X>this.injectionOffsets[Y])if(X<this.injectionOffsets[Y]+this.injectionOptions[Y].content.length)X=this.injectionOffsets[Y];else X-=this.injectionOptions[Y].content.length;else break;return X}translateToOutputPosition(J,$=2){let Q=J;if(this.injectionOffsets!==null)for(let X=0;X<this.injectionOffsets.length;X++){if(J<this.injectionOffsets[X])break;if($!==1&&J===this.injectionOffsets[X])break;Q+=this.injectionOptions[X].content.length}return this.offsetInInputWithInjectionsToOutputPosition(Q,$)}offsetInInputWithInjectionsToOutputPosition(J,$=2){let Q=0,X=this.breakOffsets.length-1,Y=0,Z=0;while(Q<=X){Y=Q+(X-Q)/2|0;let q=this.breakOffsets[Y];if(Z=Y>0?this.breakOffsets[Y-1]:0,$===0)if(J<=Z)X=Y-1;else if(J>q)Q=Y+1;else break;else if(J<Z)X=Y-1;else if(J>=q)Q=Y+1;else break}let G=J-Z;if(Y>0)G+=this.wrappedTextIndentLength;return new Aj(Y,G)}normalizeOutputPosition(J,$,Q){if(this.injectionOffsets!==null){let X=this.outputPositionToOffsetInInputWithInjections(J,$),Y=this.normalizeOffsetInInputWithInjectionsAroundInjections(X,Q);if(Y!==X)return this.offsetInInputWithInjectionsToOutputPosition(Y,Q)}if(Q===0){if(J>0&&$===this.getMinOutputOffset(J))return new Aj(J-1,this.getMaxOutputOffset(J-1))}else if(Q===1){let X=this.getOutputLineCount()-1;if(J<X&&$===this.getMaxOutputOffset(J))return new Aj(J+1,this.getMinOutputOffset(J+1))}return new Aj(J,$)}outputPositionToOffsetInInputWithInjections(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);return(J>0?this.breakOffsets[J-1]:0)+$}normalizeOffsetInInputWithInjectionsAroundInjections(J,$){let Q=this.getInjectedTextAtOffset(J);if(!Q)return J;if($===2)if(J===Q.offsetInInputWithInjections+Q.length&&Nl(this.injectionOptions[Q.injectedTextIndex].cursorStops))return Q.offsetInInputWithInjections+Q.length;else{let X=Q.offsetInInputWithInjections;if(Tl(this.injectionOptions[Q.injectedTextIndex].cursorStops))return X;let Y=Q.injectedTextIndex-1;while(Y>=0&&this.injectionOffsets[Y]===this.injectionOffsets[Q.injectedTextIndex]){if(Nl(this.injectionOptions[Y].cursorStops))break;if(X-=this.injectionOptions[Y].content.length,Tl(this.injectionOptions[Y].cursorStops))break;Y--}return X}else if($===1||$===4){let X=Q.offsetInInputWithInjections+Q.length,Y=Q.injectedTextIndex;while(Y+1<this.injectionOffsets.length&&this.injectionOffsets[Y+1]===this.injectionOffsets[Y])X+=this.injectionOptions[Y+1].content.length,Y++;return X}else if($===0||$===3){let{offsetInInputWithInjections:X,injectedTextIndex:Y}=Q;while(Y-1>=0&&this.injectionOffsets[Y-1]===this.injectionOffsets[Y])X-=this.injectionOptions[Y-1].content.length,Y--;return X}Y3($)}getInjectedText(J,$){let Q=this.outputPositionToOffsetInInputWithInjections(J,$),X=this.getInjectedTextAtOffset(Q);if(!X)return null;return{options:this.injectionOptions[X.injectedTextIndex]}}getInjectedTextAtOffset(J){let $=this.injectionOffsets,Q=this.injectionOptions;if($!==null){let X=0;for(let Y=0;Y<$.length;Y++){let Z=Q[Y].content.length,G=$[Y]+X,q=$[Y]+X+Z;if(G>J)break;if(J<=q)return{injectedTextIndex:Y,offsetInInputWithInjections:G,length:Z};X+=Z}}return}}function Nl(J){if(J===null||J===void 0)return!0;return J===F2.Right||J===F2.Both}function Tl(J){if(J===null||J===void 0)return!0;return J===F2.Left||J===F2.Both}class Aj{constructor(J,$){this.outputLineIndex=J,this.outputOffset=$}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(J){return new s(J+this.outputLineIndex,this.outputOffset+1)}}var kL=E(()=>{V$();l7()});class uA{static create(J){return new uA(J.get(132),J.get(131))}constructor(J,$){this.classifier=new Ll(J,$)}createLineBreaksComputer(J,$,Q,X,Y){let Z=[],G=[],q=[];return{addRequest:(U,z,H)=>{Z.push(U),G.push(z),q.push(H)},finalize:()=>{let U=J.typicalFullwidthCharacterWidth/J.typicalHalfwidthCharacterWidth,z=[];for(let H=0,j=Z.length;H<j;H++){let B=G[H],V=q[H];if(V&&!V.injectionOptions&&!B)z[H]=$90(this.classifier,V,Z[H],$,Q,U,X,Y);else z[H]=Q90(this.classifier,Z[H],B,$,Q,U,X,Y)}return EL.length=0,IL.length=0,z}}}}function $90(J,$,Q,X,Y,Z,G,q){if(Y===-1)return null;let U=Q.length;if(U<=1)return null;let z=q==="keepAll",H=$.breakOffsets,j=$.breakOffsetsVisibleColumn,B=kl(Q,X,Y,Z,G),V=Y-B,W=EL,K=IL,A=0,F=0,P=0,R=Y,D=H.length,_=0;if(_>=0){let O=Math.abs(j[_]-R);while(_+1<D){let N=Math.abs(j[_+1]-R);if(N>=O)break;O=N,_++}}while(_<D){let O=_<0?0:H[_],N=_<0?0:j[_];if(F>O)O=F,N=P;let w=0,T=0,I=0,k=0;if(N<=R){let S=N,l=O===0?0:Q.charCodeAt(O-1),d=O===0?0:J.get(l),y=!0;for(let b=O;b<U;b++){let h=b,u=Q.charCodeAt(b),$0,Z0;if(P6(u))b++,$0=0,Z0=2;else $0=J.get(u),Z0=Pj(u,S,X,Z);if(h>F&&yL(l,d,u,$0,z))w=h,T=S;if(S+=Z0,S>R){if(h>F)I=h,k=S-Z0;else I=b+1,k=S;if(S-T>V)w=0;y=!1;break}l=u,d=$0}if(y){if(A>0)W[A]=H[H.length-1],K[A]=j[H.length-1],A++;break}}if(w===0){let S=N,l=Q.charCodeAt(O),d=J.get(l),y=!1;for(let b=O-1;b>=F;b--){let h=b+1,u=Q.charCodeAt(b);if(u===9){y=!0;break}let $0,Z0;if(z$(u))b--,$0=0,Z0=2;else $0=J.get(u),Z0=C9(u)?Z:1;if(S<=R){if(I===0)I=h,k=S;if(S<=R-V)break;if(yL(u,$0,l,d,z)){w=h,T=S;break}}S-=Z0,l=u,d=$0}if(w!==0){let b=V-(k-T);if(b<=X){let h=Q.charCodeAt(I),u;if(P6(h))u=2;else u=Pj(h,k,X,Z);if(b-u<0)w=0}}if(y){_--;continue}}if(w===0)w=I,T=k;if(w<=F){let S=Q.charCodeAt(F);if(P6(S))w=F+2,T=P+2;else w=F+1,T=P+Pj(S,P,X,Z)}F=w,W[A]=w,P=T,K[A]=T,A++,R=T+V;while(_<0||_<D&&j[_]<T)_++;let x=Math.abs(j[_]-R);while(_+1<D){let S=Math.abs(j[_+1]-R);if(S>=x)break;x=S,_++}}if(A===0)return null;return W.length=A,K.length=A,EL=$.breakOffsets,IL=$.breakOffsetsVisibleColumn,$.breakOffsets=W,$.breakOffsetsVisibleColumn=K,$.wrappedTextIndentLength=B,$}function Q90(J,$,Q,X,Y,Z,G,q){let U=w7.applyInjectedText($,Q),z,H;if(Q&&Q.length>0)z=Q.map((T)=>T.options),H=Q.map((T)=>T.column-1);else z=null,H=null;if(Y===-1){if(!z)return null;return new gY(H,z,[U.length],[],0)}let j=U.length;if(j<=1){if(!z)return null;return new gY(H,z,[U.length],[],0)}let B=q==="keepAll",V=kl(U,X,Y,Z,G),W=Y-V,K=[],A=[],F=0,P=0,R=0,D=Y,_=U.charCodeAt(0),O=J.get(_),N=Pj(_,0,X,Z),w=1;if(P6(_))N+=1,_=U.charCodeAt(1),O=J.get(_),w++;for(let T=w;T<j;T++){let I=T,k=U.charCodeAt(T),x,S;if(P6(k))T++,x=0,S=2;else x=J.get(k),S=Pj(k,N,X,Z);if(yL(_,O,k,x,B))P=I,R=N;if(N+=S,N>D){if(P===0||N-R>W)P=I,R=N-S;K[F]=P,A[F]=R,F++,D=R+W,P=0}_=k,O=x}if(F===0&&(!Q||Q.length===0))return null;return K[F]=j,A[F]=N,new gY(H,z,K,A,V)}function Pj(J,$,Q,X){if(J===9)return Q-$%Q;if(C9(J))return X;if(J<32)return X;return 1}function wl(J,$){return $-J%$}function yL(J,$,Q,X,Y){return Q!==32&&($===2&&X!==2||$!==1&&X===1||!Y&&$===3&&X!==2||!Y&&X===3&&$!==1)}function kl(J,$,Q,X,Y){let Z=0;if(Y!==0){let G=s6(J);if(G!==-1){for(let U=0;U<G;U++){let z=J.charCodeAt(U)===9?wl(Z,$):1;Z+=z}let q=Y===3?2:Y===2?1:0;for(let U=0;U<q;U++){let z=wl(Z,$);Z+=z}if(Z+X>Q)Z=0}}return Z}var Ll,EL,IL;var El=E(()=>{G1();A3();kL();Ll=class Ll extends gQ{constructor(J,$){super(0);for(let Q=0;Q<J.length;Q++)this.set(J.charCodeAt(Q),1);for(let Q=0;Q<$.length;Q++)this.set($.charCodeAt(Q),2)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else{if(J>=12352&&J<=12543||J>=13312&&J<=19903||J>=19968&&J<=40959)return 3;return this._map.get(J)||this._defaultValue}}};EL=[],IL=[]});class cA{static create(J){return new cA(new WeakRef(J))}constructor(J){this.targetWindow=J}createLineBreaksComputer(J,$,Q,X,Y){let Z=[],G=[];return{addRequest:(q,U,z)=>{Z.push(q),G.push(U)},finalize:()=>{return X90(EW(this.targetWindow.deref()),Z,J,$,Q,X,Y,G)}}}}function X90(J,$,Q,X,Y,Z,G,q){var U;function z(I){let k=q[I];if(k){let x=w7.applyInjectedText($[I],k),S=k.map((d)=>d.options),l=k.map((d)=>d.column-1);return new gY(l,S,[x.length],[],0)}else return null}if(Y===-1){let I=[];for(let k=0,x=$.length;k<x;k++)I[k]=z(k);return I}let H=Math.round(Y*Q.typicalHalfwidthCharacterWidth),B=Math.round(X*(Z===3?2:Z===2?1:0)),V=Math.ceil(Q.spaceWidth*B),W=document.createElement("div");h6(W,Q);let K=new hQ(1e4),A=[],F=[],P=[],R=[],D=[];for(let I=0;I<$.length;I++){let k=w7.applyInjectedText($[I],q[I]),x=0,S=0,l=H;if(Z!==0)if(x=s6(k),x===-1)x=0;else{for(let h=0;h<x;h++){let u=k.charCodeAt(h)===9?X-S%X:1;S+=u}let b=Math.ceil(Q.spaceWidth*S);if(b+Q.typicalFullwidthCharacterWidth>H)x=0,S=0;else l=H-b}let d=k.substr(x),y=Y90(d,S,X,l,K,V);A[I]=x,F[I]=S,P[I]=d,R[I]=y[0],D[I]=y[1]}let _=K.build(),O=(U=xL===null||xL===void 0?void 0:xL.createHTML(_))!==null&&U!==void 0?U:_;if(W.innerHTML=O,W.style.position="absolute",W.style.top="10000",G==="keepAll")W.style.wordBreak="keep-all",W.style.overflowWrap="anywhere";else W.style.wordBreak="inherit",W.style.overflowWrap="break-word";J.document.body.appendChild(W);let N=document.createRange(),w=Array.prototype.slice.call(W.children,0),T=[];for(let I=0;I<$.length;I++){let k=w[I],x=Z90(N,k,P[I],R[I]);if(x===null){T[I]=z(I);continue}let S=A[I],l=F[I]+B,d=D[I],y=[];for(let $0=0,Z0=x.length;$0<Z0;$0++)y[$0]=d[x[$0]];if(S!==0)for(let $0=0,Z0=x.length;$0<Z0;$0++)x[$0]+=S;let b,h,u=q[I];if(u)b=u.map(($0)=>$0.options),h=u.map(($0)=>$0.column-1);else b=null,h=null;T[I]=new gY(h,b,x,y,l)}return J.document.body.removeChild(W),T}function Y90(J,$,Q,X,Y,Z){if(Z!==0){let B=String(Z);Y.appendString('<div style="text-indent: -'),Y.appendString(B),Y.appendString("px; padding-left: "),Y.appendString(B),Y.appendString("px; box-sizing: border-box; width:")}else Y.appendString('<div style="width:');Y.appendString(String(X)),Y.appendString('px;">');let G=J.length,q=$,U=0,z=[],H=[],j=0<G?J.charCodeAt(0):0;Y.appendString("<span>");for(let B=0;B<G;B++){if(B!==0&&B%16384===0)Y.appendString("</span><span>");z[B]=U,H[B]=q;let V=j;j=B+1<G?J.charCodeAt(B+1):0;let W=1,K=1;switch(V){case 9:W=Q-q%Q,K=W;for(let A=1;A<=W;A++)if(A<W)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 32:if(j===32)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 60:Y.appendString("&lt;");break;case 62:Y.appendString("&gt;");break;case 38:Y.appendString("&amp;");break;case 0:Y.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:Y.appendCharCode(65533);break;default:if(C9(V))K++;if(V<32)Y.appendCharCode(9216+V);else Y.appendCharCode(V)}U+=W,q+=K}return Y.appendString("</span>"),z[J.length]=U,H[J.length]=q,Y.appendString("</div>"),[z,H]}function Z90(J,$,Q,X){if(Q.length<=1)return null;let Y=Array.prototype.slice.call($.children,0),Z=[];try{SL(J,Y,X,0,null,Q.length-1,null,Z)}catch(G){return console.log(G),null}if(Z.length===0)return null;return Z.push(Q.length),Z}function SL(J,$,Q,X,Y,Z,G,q){if(X===Z)return;if(Y=Y||bL(J,$,Q[X],Q[X+1]),G=G||bL(J,$,Q[Z],Q[Z+1]),Math.abs(Y[0].top-G[0].top)<=0.1)return;if(X+1===Z){q.push(Z);return}let U=X+(Z-X)/2|0,z=bL(J,$,Q[U],Q[U+1]);SL(J,$,Q,X,Y,U,z,q),SL(J,$,Q,U,z,Z,G,q)}function bL(J,$,Q,X){return J.setStart($[Q/16384|0].firstChild,Q%16384),J.setEnd($[X/16384|0].firstChild,X%16384),J.getClientRects()}var xL;var Il=E(()=>{ZY();G1();P4();G2();kL();xL=A9("domLineBreaksComputer",{createHTML:(J)=>J})});var CL;var yl=E(()=>{x0();T1();B0();CL=class CL extends r{constructor(){super();this._editor=null,this._instantiationService=null,this._instances=this._register(new CZ),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(J,$,Q){this._editor=J,this._instantiationService=Q;for(let X of $){if(this._pending.has(X.id)){Z1(Error(`Cannot have two contributions with the same id ${X.id}`));continue}this._pending.set(X.id,X)}this._instantiateSome(0),this._register(xz(L0(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(xz(L0(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(xz(L0(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5000))}saveViewState(){let J={};for(let[$,Q]of this._instances)if(typeof Q.saveViewState==="function")J[$]=Q.saveViewState();return J}restoreViewState(J){for(let[$,Q]of this._instances)if(typeof Q.restoreViewState==="function")Q.restoreViewState(J[$])}get(J){return this._instantiateById(J),this._instances.get(J)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var J;this._register(xz(L0((J=this._editor)===null||J===void 0?void 0:J.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(J){if(this._finishedInstantiation[J])return;this._finishedInstantiation[J]=!0;let $=this._findPendingContributionsByInstantiation(J);for(let Q of $)this._instantiateById(Q.id)}_findPendingContributionsByInstantiation(J){let $=[];for(let[,Q]of this._pending)if(Q.instantiation===J)$.push(Q);return $}_instantiateById(J){let $=this._pending.get(J);if(!$)return;if(this._pending.delete(J),!this._instantiationService||!this._editor)throw Error("Cannot instantiate contributions before being initialized!");try{let Q=this._instantiationService.createInstance($.ctor,this._editor);if(this._instances.set($.id,Q),typeof Q.restoreViewState==="function"&&$.instantiation!==0)console.warn(`Editor contribution '${$.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(Q){Z1(Q)}}}});class xl{constructor(J,$,Q,X,Y,Z){this.model=J,this.viewModel=$,this.view=Q,this.hasRealView=X,this.listenersToRemove=Y,this.attachedView=Z}dispose(){if(h1(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView)this.view.dispose();this.viewModel.dispose()}}class vl{get length(){return this._decorationIds.length}constructor(J,$){if(this._editor=J,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray($)&&$.length>0)this.set($)}onDidChange(J,$,Q){return this._editor.onDidChangeModelDecorations((X)=>{if(this._isChangingDecorations)return;J.call($,X)},Q)}getRange(J){if(!this._editor.hasModel())return null;if(J>=this._decorationIds.length)return null;return this._editor.getModel().getDecorationRange(this._decorationIds[J])}getRanges(){if(!this._editor.hasModel())return[];let J=this._editor.getModel(),$=[];for(let Q of this._decorationIds){let X=J.getDecorationRange(Q);if(X)$.push(X)}return $}has(J){return this._decorationIds.includes(J.id)}clear(){if(this._decorationIds.length===0)return;this.set([])}set(J){try{this._isChangingDecorations=!0,this._editor.changeDecorations(($)=>{this._decorationIds=$.deltaDecorations(this._decorationIds,J)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(J){let $=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations((Q)=>{$=Q.deltaDecorations([],J),this._decorationIds=this._decorationIds.concat($)})}finally{this._isChangingDecorations=!1}return $}}function vL(J){return U90+encodeURIComponent(J.toString())+z90}function V90(J){return H90+encodeURIComponent(J.toString())+j90}var G90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},DX=function(J,$){return function(Q,X){$(Q,X,J)}},i2,q90=0,RX,hL,b8,bl,Sl,Cl,U90,z90,H90,j90;var lA=E(()=>{nh();oh();a0();x0();T1();E0();B0();K9();Zf();u9();V9();wu();YT();U8();C4();e0();u5();GH();qX();hY();yJ();x8();Ol();G7();e1();n0();PX();G5();RJ();El();Il();dN();d8();P4();e9();yl();n_();RX=i2=class extends r{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor($,Q,X,Y,Z,G,q,U,z,H,j,B){var V;super();this.languageConfigurationService=j,this._deliveryQueue=VS(),this._contributions=this._register(new CL),this._onDidDispose=this._register(new p),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new b8(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new hL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new hL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new b8(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new b8(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new b8(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new b8(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new b8(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new b8(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new b8(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new b8(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new b8(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new b8(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new p({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Z.willCreateCodeEditor();let W={...Q};this._domElement=$,this._overflowWidgetsDomNode=W.overflowWidgetsDomNode,delete W.overflowWidgetsDomNode,this._id=++q90,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=X.telemetryData,this._configuration=this._register(this._createConfiguration(X.isSimpleWidget||!1,W,H)),this._register(this._configuration.onDidChange((F)=>{this._onDidChangeConfiguration.fire(F);let P=this._configuration.options;if(F.hasChanged(143)){let R=P.get(143);this._onDidLayoutChange.fire(R)}})),this._contextKeyService=this._register(q.createScoped(this._domElement)),this._notificationService=z,this._codeEditorService=Z,this._commandService=G,this._themeService=U,this._register(new bl(this,this._contextKeyService)),this._register(new Sl(this,this._contextKeyService,B)),this._instantiationService=Y.createChild(new CJ([s0,this._contextKeyService])),this._modelData=null,this._focusTracker=new Cl($,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let K;if(Array.isArray(X.contributions))K=X.contributions;else K=YY.getEditorContributions();this._contributions.initialize(this,K,this._instantiationService);for(let F of YY.getEditorActions()){if(this._actions.has(F.id)){Z1(Error(`Cannot have two actions with the same id ${F.id}`));continue}let P=new mH(F.id,F.label,F.alias,F.metadata,(V=F.precondition)!==null&&V!==void 0?V:void 0,(R)=>{return this._instantiationService.invokeFunction((D)=>{return Promise.resolve(F.runEditorCommand(D,this,R))})},this._contextKeyService);this._actions.set(P.id,P)}let A=()=>{return!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled};this._register(new MO(this._domElement,{onDragOver:(F)=>{if(!A())return;let P=this.getTargetAtClientPoint(F.clientX,F.clientY);if(P===null||P===void 0?void 0:P.position)this.showDropIndicatorAt(P.position)},onDrop:async(F)=>{if(!A())return;if(this.removeDropIndicator(),!F.dataTransfer)return;let P=this.getTargetAtClientPoint(F.clientX,F.clientY);if(P===null||P===void 0?void 0:P.position)this._onDropIntoEditor.fire({position:P.position,event:F})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent($){var Q;(Q=this._modelData)===null||Q===void 0||Q.view.writeScreenReaderContent($)}_createConfiguration($,Q,X){return new KK($,Q,this._domElement,X)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return WY.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext($){return this._instantiationService.invokeFunction($)}updateOptions($){this._configuration.updateOptions($||{})}getOptions(){return this._configuration.options}getOption($){return this._configuration.options.get($)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition($){if(!this._modelData)return null;return r6.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),$)}getValue($=null){if(!this._modelData)return"";let Q=$&&$.preserveBOM?!0:!1,X=0;if($&&$.lineEnding&&$.lineEnding===`
`)X=1;else if($&&$.lineEnding&&$.lineEnding===`\r
`)X=2;return this._modelData.model.getValue(X,Q)}setValue($){if(!this._modelData)return;this._modelData.model.setValue($)}getModel(){if(!this._modelData)return null;return this._modelData.model}setModel($=null){var Q;let X=$;if(this._modelData===null&&X===null)return;if(this._modelData&&this._modelData.model===X)return;let Y={oldModelUrl:((Q=this._modelData)===null||Q===void 0?void 0:Q.model.uri)||null,newModelUrl:(X===null||X===void 0?void 0:X.uri)||null};this._onWillChangeModel.fire(Y);let Z=this.hasTextFocus(),G=this._detachModel();if(this._attachModel(X),Z&&this.hasModel())this.focus();this._removeDecorationTypes(),this._onDidChangeModel.fire(Y),this._postDetachModelCleanup(G),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let $ in this._decorationTypeSubtypes){let Q=this._decorationTypeSubtypes[$];for(let X in Q)this._removeDecorationType($+"-"+X)}this._decorationTypeSubtypes={}}}getVisibleRanges(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRanges()}getVisibleRangesPlusViewportAboveBelow(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow()}getWhitespaces(){if(!this._modelData)return[];return this._modelData.viewModel.viewLayout.getWhitespaces()}static _getVerticalOffsetAfterPosition($,Q,X,Y){let Z=$.model.validatePosition({lineNumber:Q,column:X}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(G.lineNumber,Y)}getTopForLineNumber($,Q=!1){if(!this._modelData)return-1;return i2._getVerticalOffsetForPosition(this._modelData,$,1,Q)}getTopForPosition($,Q){if(!this._modelData)return-1;return i2._getVerticalOffsetForPosition(this._modelData,$,Q,!1)}static _getVerticalOffsetForPosition($,Q,X,Y=!1){let Z=$.model.validatePosition({lineNumber:Q,column:X}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetForLineNumber(G.lineNumber,Y)}getBottomForLineNumber($,Q=!1){if(!this._modelData)return-1;return i2._getVerticalOffsetAfterPosition(this._modelData,$,1,Q)}setHiddenAreas($,Q){var X;(X=this._modelData)===null||X===void 0||X.viewModel.setHiddenAreas($.map((Y)=>v.lift(Y)),Q)}getVisibleColumnFromPosition($){if(!this._modelData)return $.column;let Q=this._modelData.model.validatePosition($),X=this._modelData.model.getOptions().tabSize;return i1.visibleColumnFromColumn(this._modelData.model.getLineContent(Q.lineNumber),Q.column,X)+1}getPosition(){if(!this._modelData)return null;return this._modelData.viewModel.getPosition()}setPosition($,Q="api"){if(!this._modelData)return;if(!s.isIPosition($))throw Error("Invalid arguments");this._modelData.viewModel.setSelections(Q,[{selectionStartLineNumber:$.lineNumber,selectionStartColumn:$.column,positionLineNumber:$.lineNumber,positionColumn:$.column}])}_sendRevealRange($,Q,X,Y){if(!this._modelData)return;if(!v.isIRange($))throw Error("Invalid arguments");let Z=this._modelData.model.validateRange($),G=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Z);this._modelData.viewModel.revealRange("api",X,G,Q,Y)}revealLine($,Q=0){this._revealLine($,0,Q)}revealLineInCenter($,Q=0){this._revealLine($,1,Q)}revealLineInCenterIfOutsideViewport($,Q=0){this._revealLine($,2,Q)}revealLineNearTop($,Q=0){this._revealLine($,5,Q)}_revealLine($,Q,X){if(typeof $!=="number")throw Error("Invalid arguments");this._sendRevealRange(new v($,1,$,1),Q,!1,X)}revealPosition($,Q=0){this._revealPosition($,0,!0,Q)}revealPositionInCenter($,Q=0){this._revealPosition($,1,!0,Q)}revealPositionInCenterIfOutsideViewport($,Q=0){this._revealPosition($,2,!0,Q)}revealPositionNearTop($,Q=0){this._revealPosition($,5,!0,Q)}_revealPosition($,Q,X,Y){if(!s.isIPosition($))throw Error("Invalid arguments");this._sendRevealRange(new v($.lineNumber,$.column,$.lineNumber,$.column),Q,X,Y)}getSelection(){if(!this._modelData)return null;return this._modelData.viewModel.getSelection()}getSelections(){if(!this._modelData)return null;return this._modelData.viewModel.getSelections()}setSelection($,Q="api"){let X=d0.isISelection($),Y=v.isIRange($);if(!X&&!Y)throw Error("Invalid arguments");if(X)this._setSelectionImpl($,Q);else if(Y){let Z={selectionStartLineNumber:$.startLineNumber,selectionStartColumn:$.startColumn,positionLineNumber:$.endLineNumber,positionColumn:$.endColumn};this._setSelectionImpl(Z,Q)}}_setSelectionImpl($,Q){if(!this._modelData)return;let X=new d0($.selectionStartLineNumber,$.selectionStartColumn,$.positionLineNumber,$.positionColumn);this._modelData.viewModel.setSelections(Q,[X])}revealLines($,Q,X=0){this._revealLines($,Q,0,X)}revealLinesInCenter($,Q,X=0){this._revealLines($,Q,1,X)}revealLinesInCenterIfOutsideViewport($,Q,X=0){this._revealLines($,Q,2,X)}revealLinesNearTop($,Q,X=0){this._revealLines($,Q,5,X)}_revealLines($,Q,X,Y){if(typeof $!=="number"||typeof Q!=="number")throw Error("Invalid arguments");this._sendRevealRange(new v($,1,Q,1),X,!1,Y)}revealRange($,Q=0,X=!1,Y=!0){this._revealRange($,X?1:0,Y,Q)}revealRangeInCenter($,Q=0){this._revealRange($,1,!0,Q)}revealRangeInCenterIfOutsideViewport($,Q=0){this._revealRange($,2,!0,Q)}revealRangeNearTop($,Q=0){this._revealRange($,5,!0,Q)}revealRangeNearTopIfOutsideViewport($,Q=0){this._revealRange($,6,!0,Q)}revealRangeAtTop($,Q=0){this._revealRange($,3,!0,Q)}_revealRange($,Q,X,Y){if(!v.isIRange($))throw Error("Invalid arguments");this._sendRevealRange(v.lift($),Q,X,Y)}setSelections($,Q="api",X=0){if(!this._modelData)return;if(!$||$.length===0)throw Error("Invalid arguments");for(let Y=0,Z=$.length;Y<Z;Y++)if(!d0.isISelection($[Y]))throw Error("Invalid arguments");this._modelData.viewModel.setSelections(Q,$,X)}getContentWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentWidth()}getScrollWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollWidth()}getScrollLeft(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollLeft()}getContentHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentHeight()}getScrollHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollHeight()}getScrollTop(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollTop()}setScrollLeft($,Q=1){if(!this._modelData)return;if(typeof $!=="number")throw Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:$},Q)}setScrollTop($,Q=1){if(!this._modelData)return;if(typeof $!=="number")throw Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:$},Q)}setScrollPosition($,Q=1){if(!this._modelData)return;this._modelData.viewModel.viewLayout.setScrollPosition($,Q)}hasPendingScrollAnimation(){if(!this._modelData)return!1;return this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;let $=this._contributions.saveViewState(),Q=this._modelData.viewModel.saveCursorState(),X=this._modelData.viewModel.saveState();return{cursorState:Q,viewState:X,contributionsState:$}}restoreViewState($){if(!this._modelData||!this._modelData.hasRealView)return;let Q=$;if(Q&&Q.cursorState&&Q.viewState){let X=Q.cursorState;if(Array.isArray(X)){if(X.length>0)this._modelData.viewModel.restoreCursorState(X)}else this._modelData.viewModel.restoreCursorState([X]);this._contributions.restoreViewState(Q.contributionsState||{});let Y=this._modelData.viewModel.reduceRestoreState(Q.viewState);this._modelData.view.restoreState(Y)}}handleInitialized(){var $;($=this._getViewModel())===null||$===void 0||$.visibleLinesStabilized()}getContribution($){return this._contributions.get($)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let $=this.getActions();return $=$.filter((Q)=>Q.isSupported()),$}getAction($){return this._actions.get($)||null}trigger($,Q,X){switch(X=X||{},Q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition($);return;case"type":{let Z=X;this._type($,Z.text||"");return}case"replacePreviousChar":{let Z=X;this._compositionType($,Z.text||"",Z.replaceCharCnt||0,0,0);return}case"compositionType":{let Z=X;this._compositionType($,Z.text||"",Z.replacePrevCharCnt||0,Z.replaceNextCharCnt||0,Z.positionDelta||0);return}case"paste":{let Z=X;this._paste($,Z.text||"",Z.pasteOnNewLine||!1,Z.multicursorText||null,Z.mode||null);return}case"cut":this._cut($);return}let Y=this.getAction(Q);if(Y){Promise.resolve(Y.run(X)).then(void 0,Z1);return}if(!this._modelData)return;if(this._triggerEditorCommand($,Q,X))return;this._triggerCommand(Q,X)}_triggerCommand($,Q){this._commandService.executeCommand($,Q)}_startComposition(){if(!this._modelData)return;this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire()}_endComposition($){if(!this._modelData)return;this._modelData.viewModel.endComposition($),this._onDidCompositionEnd.fire()}_type($,Q){if(!this._modelData||Q.length===0)return;if($==="keyboard")this._onWillType.fire(Q);if(this._modelData.viewModel.type(Q,$),$==="keyboard")this._onDidType.fire(Q)}_compositionType($,Q,X,Y,Z){if(!this._modelData)return;this._modelData.viewModel.compositionType(Q,X,Y,Z,$)}_paste($,Q,X,Y,Z){if(!this._modelData||Q.length===0)return;let G=this._modelData.viewModel,q=G.getSelection().getStartPosition();G.paste(Q,X,Y,$);let U=G.getSelection().getStartPosition();if($==="keyboard")this._onDidPaste.fire({range:new v(q.lineNumber,q.column,U.lineNumber,U.column),languageId:Z})}_cut($){if(!this._modelData)return;this._modelData.viewModel.cut($)}_triggerEditorCommand($,Q,X){let Y=YY.getEditorCommand(Q);if(Y)return X=X||{},X.source=$,this._instantiationService.invokeFunction((Z)=>{Promise.resolve(Y.runEditorCommand(Z,this,X)).then(void 0,Z1)}),!0;return!1}_getViewModel(){if(!this._modelData)return null;return this._modelData.viewModel}pushUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.pushStackElement(),!0}popUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.popStackElement(),!0}executeEdits($,Q,X){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;let Y;if(!X)Y=()=>null;else if(Array.isArray(X))Y=()=>X;else Y=X;return this._modelData.viewModel.executeEdits($,Q,Y),!0}executeCommand($,Q){if(!this._modelData)return;this._modelData.viewModel.executeCommand(Q,$)}executeCommands($,Q){if(!this._modelData)return;this._modelData.viewModel.executeCommands(Q,$)}createDecorationsCollection($){return new vl(this,$)}changeDecorations($){if(!this._modelData)return null;return this._modelData.model.changeDecorations($,this._id)}getLineDecorations($){if(!this._modelData)return null;return this._modelData.model.getLineDecorations($,this._id,yZ(this._configuration.options))}getDecorationsInRange($){if(!this._modelData)return null;return this._modelData.model.getDecorationsInRange($,this._id,yZ(this._configuration.options))}deltaDecorations($,Q){if(!this._modelData)return[];if($.length===0&&Q.length===0)return $;return this._modelData.model.deltaDecorations($,Q,this._id)}removeDecorations($){if(!this._modelData||$.length===0)return;this._modelData.model.changeDecorations((Q)=>{Q.deltaDecorations($,[])})}removeDecorationsByType($){let Q=this._decorationTypeKeysToIds[$];if(Q)this.deltaDecorations(Q,[]);if(this._decorationTypeKeysToIds.hasOwnProperty($))delete this._decorationTypeKeysToIds[$];if(this._decorationTypeSubtypes.hasOwnProperty($))delete this._decorationTypeSubtypes[$]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler($){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.createOverviewRuler($)}getContainerDomNode(){return this._domElement}getDomNode(){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateScrollFromMouseWheelEvent($)}layout($,Q=!1){if(this._configuration.observeContainer($),!Q)this.render()}focus(){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.focus()}hasTextFocus(){if(!this._modelData||!this._modelData.hasRealView)return!1;return this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget($){let Q={widget:$,position:$.getPosition()};if(this._contentWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a content widget with the same id:"+$.getId());if(this._contentWidgets[$.getId()]=Q,this._modelData&&this._modelData.hasRealView)this._modelData.view.addContentWidget(Q)}layoutContentWidget($){let Q=$.getId();if(this._contentWidgets.hasOwnProperty(Q)){let X=this._contentWidgets[Q];if(X.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutContentWidget(X)}}removeContentWidget($){let Q=$.getId();if(this._contentWidgets.hasOwnProperty(Q)){let X=this._contentWidgets[Q];if(delete this._contentWidgets[Q],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeContentWidget(X)}}addOverlayWidget($){let Q={widget:$,position:$.getPosition()};if(this._overlayWidgets.hasOwnProperty($.getId()))console.warn("Overwriting an overlay widget with the same id.");if(this._overlayWidgets[$.getId()]=Q,this._modelData&&this._modelData.hasRealView)this._modelData.view.addOverlayWidget(Q)}layoutOverlayWidget($){let Q=$.getId();if(this._overlayWidgets.hasOwnProperty(Q)){let X=this._overlayWidgets[Q];if(X.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutOverlayWidget(X)}}removeOverlayWidget($){let Q=$.getId();if(this._overlayWidgets.hasOwnProperty(Q)){let X=this._overlayWidgets[Q];if(delete this._overlayWidgets[Q],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeOverlayWidget(X)}}addGlyphMarginWidget($){let Q={widget:$,position:$.getPosition()};if(this._glyphMarginWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a glyph margin widget with the same id.");if(this._glyphMarginWidgets[$.getId()]=Q,this._modelData&&this._modelData.hasRealView)this._modelData.view.addGlyphMarginWidget(Q)}layoutGlyphMarginWidget($){let Q=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(Q)){let X=this._glyphMarginWidgets[Q];if(X.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutGlyphMarginWidget(X)}}removeGlyphMarginWidget($){let Q=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(Q)){let X=this._glyphMarginWidgets[Q];if(delete this._glyphMarginWidgets[Q],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeGlyphMarginWidget(X)}}changeViewZones($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.change($)}getTargetAtClientPoint($,Q){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.getTargetAtClientPoint($,Q)}getScrolledVisiblePosition($){if(!this._modelData||!this._modelData.hasRealView)return null;let Q=this._modelData.model.validatePosition($),X=this._configuration.options,Y=X.get(143),Z=i2._getVerticalOffsetForPosition(this._modelData,Q.lineNumber,Q.column)-this.getScrollTop(),G=this._modelData.view.getOffsetForColumn(Q.lineNumber,Q.column)+Y.glyphMarginWidth+Y.lineNumbersWidth+Y.decorationsWidth-this.getScrollLeft();return{top:Z,left:G,height:X.get(66)}}getOffsetForColumn($,Q){if(!this._modelData||!this._modelData.hasRealView)return-1;return this._modelData.view.getOffsetForColumn($,Q)}render($=!1){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.render(!0,$)}setAriaOptions($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.setAriaOptions($)}applyFontInfo($){h6($,this._configuration.options.get(50))}setBanner($,Q){if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);if(this._bannerDomNode=$,this._configuration.setReservedHeight($?Q:0),this._bannerDomNode)this._domElement.prepend(this._bannerDomNode)}_attachModel($){if(!$){this._modelData=null;return}let Q=[];this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._configuration.setIsDominatedByLongLines($.isDominatedByLongLines()),this._configuration.setModelLineCount($.getLineCount());let X=$.onBeforeAttached(),Y=new TL(this._id,this._configuration,$,cA.create(L0(this._domElement)),uA.create(this._configuration.options),(q)=>y5(L0(this._domElement),q),this.languageConfigurationService,this._themeService,X);Q.push($.onWillDispose(()=>this.setModel(null))),Q.push(Y.onEvent((q)=>{switch(q.kind){case 0:this._onDidContentSizeChange.fire(q);break;case 1:this._editorTextFocus.setValue(q.hasFocus);break;case 2:this._onDidScrollChange.fire(q);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(q.reachedMaxCursorCount){let j=this.getOption(79),B=M("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",j);this._notificationService.prompt(_l.Warning,B,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:M("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}let U=[];for(let j=0,B=q.selections.length;j<B;j++)U[j]=q.selections[j].getPosition();let z={position:U[0],secondaryPositions:U.slice(1),reason:q.reason,source:q.source};this._onDidChangeCursorPosition.fire(z);let H={selection:q.selections[0],secondarySelections:q.selections.slice(1),modelVersionId:q.modelVersionId,oldSelections:q.oldSelections,oldModelVersionId:q.oldModelVersionId,source:q.source,reason:q.reason};this._onDidChangeCursorSelection.fire(H);break}case 7:this._onDidChangeModelDecorations.fire(q.event);break;case 8:this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._onDidChangeModelLanguage.fire(q.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(q.event);break;case 10:this._onDidChangeModelContent.fire(q.event);break;case 11:this._onDidChangeModelOptions.fire(q.event);break;case 12:this._onDidChangeModelTokens.fire(q.event);break}}));let[Z,G]=this._createView(Y);if(G){this._domElement.appendChild(Z.domNode.domNode);let q=Object.keys(this._contentWidgets);for(let U=0,z=q.length;U<z;U++){let H=q[U];Z.addContentWidget(this._contentWidgets[H])}q=Object.keys(this._overlayWidgets);for(let U=0,z=q.length;U<z;U++){let H=q[U];Z.addOverlayWidget(this._overlayWidgets[H])}q=Object.keys(this._glyphMarginWidgets);for(let U=0,z=q.length;U<z;U++){let H=q[U];Z.addGlyphMarginWidget(this._glyphMarginWidgets[H])}Z.render(!1,!0),Z.domNode.domNode.setAttribute("data-uri",$.uri.toString())}this._modelData=new xl($,Y,Z,G,Q,X)}_createView($){let Q;if(this.isSimpleWidget)Q={paste:(Z,G,q,U)=>{this._paste("keyboard",Z,G,q,U)},type:(Z)=>{this._type("keyboard",Z)},compositionType:(Z,G,q,U)=>{this._compositionType("keyboard",Z,G,q,U)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}};else Q={paste:(Z,G,q,U)=>{let z={text:Z,pasteOnNewLine:G,multicursorText:q,mode:U};this._commandService.executeCommand("paste",z)},type:(Z)=>{let G={text:Z};this._commandService.executeCommand("type",G)},compositionType:(Z,G,q,U)=>{if(q||U){let z={text:Z,replacePrevCharCnt:G,replaceNextCharCnt:q,positionDelta:U};this._commandService.executeCommand("compositionType",z)}else{let z={text:Z,replaceCharCnt:G};this._commandService.executeCommand("replacePreviousChar",z)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};let X=new Zq($.coordinatesConverter);return X.onKeyDown=(Z)=>this._onKeyDown.fire(Z),X.onKeyUp=(Z)=>this._onKeyUp.fire(Z),X.onContextMenu=(Z)=>this._onContextMenu.fire(Z),X.onMouseMove=(Z)=>this._onMouseMove.fire(Z),X.onMouseLeave=(Z)=>this._onMouseLeave.fire(Z),X.onMouseDown=(Z)=>this._onMouseDown.fire(Z),X.onMouseUp=(Z)=>this._onMouseUp.fire(Z),X.onMouseDrag=(Z)=>this._onMouseDrag.fire(Z),X.onMouseDrop=(Z)=>this._onMouseDrop.fire(Z),X.onMouseDropCanceled=(Z)=>this._onMouseDropCanceled.fire(Z),X.onMouseWheel=(Z)=>this._onMouseWheel.fire(Z),[new VA(Q,this._configuration,this._themeService.getColorTheme(),$,X,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup($){$===null||$===void 0||$.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;let $=this._modelData.model,Q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;if(this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),Q&&this._domElement.contains(Q))this._domElement.removeChild(Q);if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);return $}_removeDecorationType($){this._codeEditorService.removeDecorationType($)}hasModel(){return this._modelData!==null}showDropIndicatorAt($){let Q=[{range:new v($.lineNumber,$.column,$.lineNumber,$.column),options:i2.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(Q),this.revealPosition($,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue($,Q){this._contextKeyService.createKey($,Q)}};RX.dropIntoEditorDecorationOptions=C1.register({description:"workbench-dnd-target",className:"dnd-target"});RX=i2=G90([DX(3,r0),DX(4,X6),DX(5,T5),DX(6,s0),DX(7,Z5),DX(8,X8),DX(9,I8),DX(10,f6),DX(11,M1)],RX);hL=class hL extends r{constructor(J){super();this._emitterOptions=J,this._onDidChangeToTrue=this._register(new p(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new p(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){let $=J?2:1;if(this._value===$)return;if(this._value=$,this._value===2)this._onDidChangeToTrue.fire();else if(this._value===1)this._onDidChangeToFalse.fire()}};b8=class b8 extends p{constructor(J,$){super({deliveryQueue:$});this._contributions=J}fire(J){this._contributions.onBeforeInteractionEvent(),super.fire(J)}};bl=class bl extends r{constructor(J,$){super();this._editor=J,$.createKey("editorId",J.getId()),this._editorSimpleInput=H0.editorSimpleInput.bindTo($),this._editorFocus=H0.focus.bindTo($),this._textInputFocus=H0.textInputFocus.bindTo($),this._editorTextFocus=H0.editorTextFocus.bindTo($),this._tabMovesFocus=H0.tabMovesFocus.bindTo($),this._editorReadonly=H0.readOnly.bindTo($),this._inDiffEditor=H0.inDiffEditor.bindTo($),this._editorColumnSelection=H0.columnSelection.bindTo($),this._hasMultipleSelections=H0.hasMultipleSelections.bindTo($),this._hasNonEmptySelection=H0.hasNonEmptySelection.bindTo($),this._canUndo=H0.canUndo.bindTo($),this._canRedo=H0.canRedo.bindTo($),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(b3.onDidChangeTabFocus((Q)=>this._tabMovesFocus.set(Q))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){let J=this._editor.getOptions();this._tabMovesFocus.set(b3.getTabFocusMode()),this._editorReadonly.set(J.get(90)),this._inDiffEditor.set(J.get(61)),this._editorColumnSelection.set(J.get(22))}_updateFromSelection(){let J=this._editor.getSelections();if(!J)this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset();else this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(($)=>!$.isEmpty()))}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){let J=this._editor.getModel();this._canUndo.set(Boolean(J&&J.canUndo())),this._canRedo.set(Boolean(J&&J.canRedo()))}};Sl=class Sl extends r{constructor(J,$,Q){super();this._editor=J,this._contextKeyService=$,this._languageFeaturesService=Q,this._langId=H0.languageId.bindTo($),this._hasCompletionItemProvider=H0.hasCompletionItemProvider.bindTo($),this._hasCodeActionsProvider=H0.hasCodeActionsProvider.bindTo($),this._hasCodeLensProvider=H0.hasCodeLensProvider.bindTo($),this._hasDefinitionProvider=H0.hasDefinitionProvider.bindTo($),this._hasDeclarationProvider=H0.hasDeclarationProvider.bindTo($),this._hasImplementationProvider=H0.hasImplementationProvider.bindTo($),this._hasTypeDefinitionProvider=H0.hasTypeDefinitionProvider.bindTo($),this._hasHoverProvider=H0.hasHoverProvider.bindTo($),this._hasDocumentHighlightProvider=H0.hasDocumentHighlightProvider.bindTo($),this._hasDocumentSymbolProvider=H0.hasDocumentSymbolProvider.bindTo($),this._hasReferenceProvider=H0.hasReferenceProvider.bindTo($),this._hasRenameProvider=H0.hasRenameProvider.bindTo($),this._hasSignatureHelpProvider=H0.hasSignatureHelpProvider.bindTo($),this._hasInlayHintsProvider=H0.hasInlayHintsProvider.bindTo($),this._hasDocumentFormattingProvider=H0.hasDocumentFormattingProvider.bindTo($),this._hasDocumentSelectionFormattingProvider=H0.hasDocumentSelectionFormattingProvider.bindTo($),this._hasMultipleDocumentFormattingProvider=H0.hasMultipleDocumentFormattingProvider.bindTo($),this._hasMultipleDocumentSelectionFormattingProvider=H0.hasMultipleDocumentSelectionFormattingProvider.bindTo($),this._isInWalkThrough=H0.isInWalkThroughSnippet.bindTo($);let X=()=>this._update();this._register(J.onDidChangeModel(X)),this._register(J.onDidChangeModelLanguage(X)),this._register(Q.completionProvider.onDidChange(X)),this._register(Q.codeActionProvider.onDidChange(X)),this._register(Q.codeLensProvider.onDidChange(X)),this._register(Q.definitionProvider.onDidChange(X)),this._register(Q.declarationProvider.onDidChange(X)),this._register(Q.implementationProvider.onDidChange(X)),this._register(Q.typeDefinitionProvider.onDidChange(X)),this._register(Q.hoverProvider.onDidChange(X)),this._register(Q.documentHighlightProvider.onDidChange(X)),this._register(Q.documentSymbolProvider.onDidChange(X)),this._register(Q.referenceProvider.onDidChange(X)),this._register(Q.renameProvider.onDidChange(X)),this._register(Q.documentFormattingEditProvider.onDidChange(X)),this._register(Q.documentRangeFormattingEditProvider.onDidChange(X)),this._register(Q.signatureHelpProvider.onDidChange(X)),this._register(Q.inlayHintsProvider.onDidChange(X)),X()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){let J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(J)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(J)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(J)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(J)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(J)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(J)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(J)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(J)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(J)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(J)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(J)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(J)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(J)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(J)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(J)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(J).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===H1.walkThroughSnippet)})}};Cl=class Cl extends r{constructor(J,$){super();if(this._onChange=this._register(new p),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(vQ(J)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),$)this._overflowWidgetsDomNode=this._register(vQ($)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()}))}_update(){let J=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;if(this._hadFocus!==J)this._hadFocus=J,this._onChange.fire(void 0)}hasFocus(){var J;return(J=this._hadFocus)!==null&&J!==void 0?J:!1}};U90=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),z90=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");H90=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),j90=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');i8((J,$)=>{let Q=J.getColor(w$);if(Q)$.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${vL(Q)}") repeat-x bottom left; }`);let X=J.getColor(y8);if(X)$.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${vL(X)}") repeat-x bottom left; }`);let Y=J.getColor(n7);if(Y)$.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${vL(Y)}") repeat-x bottom left; }`);let Z=J.getColor(uf);if(Z)$.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${V90(Z)}") no-repeat bottom left; }`);let G=J.getColor(fp);if(G)$.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${G.rgba.a}; }`)})});var W90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},B90=function(J,$){return function(Q,X){$(Q,X,J)}},dA;var hl=E(()=>{E0();B0();S9();G5();dA=class extends r{constructor($){super();this._themeService=$,this._onWillCreateCodeEditor=this._register(new p),this._onCodeEditorAdd=this._register(new p),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new p),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new p),this._onDiffEditorAdd=this._register(new p),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new p),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new l6,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor($){this._codeEditors[$.getId()]=$,this._onCodeEditorAdd.fire($)}removeCodeEditor($){if(delete this._codeEditors[$.getId()])this._onCodeEditorRemove.fire($)}listCodeEditors(){return Object.keys(this._codeEditors).map(($)=>this._codeEditors[$])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor($){this._diffEditors[$.getId()]=$,this._onDiffEditorAdd.fire($)}listDiffEditors(){return Object.keys(this._diffEditors).map(($)=>this._diffEditors[$])}getFocusedCodeEditor(){let $=null,Q=this.listCodeEditors();for(let X of Q){if(X.hasTextFocus())return X;if(X.hasWidgetFocus())$=X}return $}removeDecorationType($){let Q=this._decorationOptionProviders.get($);if(Q){if(Q.refCount--,Q.refCount<=0)this._decorationOptionProviders.delete($),Q.dispose(),this.listCodeEditors().forEach((X)=>X.removeDecorationsByType($))}}setModelProperty($,Q,X){let Y=$.toString(),Z;if(this._modelProperties.has(Y))Z=this._modelProperties.get(Y);else Z=new Map,this._modelProperties.set(Y,Z);Z.set(Q,X)}getModelProperty($,Q){let X=$.toString();if(this._modelProperties.has(X))return this._modelProperties.get(X).get(Q);return}async openCodeEditor($,Q,X){for(let Y of this._codeEditorOpenHandlers){let Z=await Y($,Q,X);if(Z!==null)return Z}return null}registerCodeEditorOpenHandler($){let Q=this._codeEditorOpenHandlers.unshift($);return y0(Q)}};dA=W90([B90(0,Z5)],dA)});var F90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},fl=function(J,$){return function(Q,X){$(Q,X,J)}},Dj;var fL=E(()=>{x0();K9();hl();V9();e1();s9();G5();Dj=class extends dA{constructor($,Q){super(Q);this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=$.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(X,Y,Z)=>{if(!Y)return null;return this.doOpenEditor(Y,X)}))}_checkContextKey(){let $=!1;for(let Q of this.listCodeEditors())if(!Q.isSimpleWidget){$=!0;break}this._editorIsOpen.set($)}setActiveCodeEditor($){this._activeCodeEditor=$}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor($,Q){if(!this.findModel($,Q.resource)){if(Q.resource){let Z=Q.resource.scheme;if(Z===H1.http||Z===H1.https)return xF(Q.resource.toString()),$}return null}let Y=Q.options?Q.options.selection:null;if(Y)if(typeof Y.endLineNumber==="number"&&typeof Y.endColumn==="number")$.setSelection(Y),$.revealRangeInCenter(Y,1);else{let Z={lineNumber:Y.startLineNumber,column:Y.startColumn};$.setPosition(Z),$.revealPositionInCenter(Z,1)}return $}findModel($,Q){let X=$.getModel();if(X&&X.uri.toString()!==Q.toString())return null;return X}};Dj=F90([fl(0,s0),fl(1,Z5)],Dj);K1(X6,Dj,0)});var _9;var pY=E(()=>{n0();_9=b0("layoutService")});var gl=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},pl=function(J,$){return function(Q,X){$(Q,X,J)}},sA=class{get mainContainer(){var $,Q;return(Q=($=hG(this._codeEditorService.listCodeEditors()))===null||$===void 0?void 0:$.getContainerDomNode())!==null&&Q!==void 0?Q:F1.document.body}get activeContainer(){var $,Q;let X=($=this._codeEditorService.getFocusedCodeEditor())!==null&&$!==void 0?$:this._codeEditorService.getActiveCodeEditor();return(Q=X===null||X===void 0?void 0:X.getContainerDomNode())!==null&&Q!==void 0?Q:this.mainContainer}get mainContainerDimension(){return K$(this.mainContainer)}get activeContainerDimension(){return K$(this.activeContainer)}get containers(){return TW(this._codeEditorService.listCodeEditors().map(($)=>$.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var $;($=this._codeEditorService.getFocusedCodeEditor())===null||$===void 0||$.focus()}constructor($){this._codeEditorService=$,this.onDidLayoutMainContainer=V0.None,this.onDidLayoutActiveContainer=V0.None,this.onDidLayoutContainer=V0.None,this.onDidChangeActiveContainer=V0.None,this.onDidAddContainer=V0.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}},aA;var gL=E(()=>{x0();H8();B1();E0();V9();s9();pY();sA=gl([pl(0,X6)],sA);aA=class extends sA{get mainContainer(){return this._container}constructor($,Q){super(Q);this._container=$}};aA=gl([pl(1,X6)],aA);K1(_9,sA,1)});var rA;var pL=E(()=>{n0();rA=b0("dialogService")});function iA(J){return J.scheme===H1.file?J.fsPath:J.path}class Rj{constructor(J,$,Q,X,Y,Z,G){this.id=++ul,this.type=0,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabel=$,this.strResource=Q,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=X,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.isValid=!0}setValid(J){this.isValid=J}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class mL{constructor(J,$){this.resourceLabel=J,this.reason=$}}class uL{constructor(){this.elements=new Map}createMessage(){let J=[],$=[];for(let[,X]of this.elements)(X.reason===0?J:$).push(X.resourceLabel);let Q=[];if(J.length>0)Q.push(M({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",J.join(", ")));if($.length>0)Q.push(M({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",$.join(", ")));return Q.join(`
`)}get size(){return this.elements.size}has(J){return this.elements.has(J)}set(J,$){this.elements.set(J,$)}delete(J){return this.elements.delete(J)}}class cl{constructor(J,$,Q,X,Y,Z,G){this.id=++ul,this.type=1,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabels=$,this.strResources=Q,this.groupId=X,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split==="function"}removeResource(J,$,Q){if(!this.removedResources)this.removedResources=new uL;if(!this.removedResources.has($))this.removedResources.set($,new mL(J,Q))}setValid(J,$,Q){if(Q){if(this.invalidatedResources){if(this.invalidatedResources.delete($),this.invalidatedResources.size===0)this.invalidatedResources=null}}else{if(!this.invalidatedResources)this.invalidatedResources=new uL;if(!this.invalidatedResources.has($))this.invalidatedResources.set($,new mL(J,0))}}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class lL{constructor(J,$){this.resourceLabel=J,this.strResource=$,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let J of this._past)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);for(let J of this._future)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let J=[];J.push(`* ${this.strResource}:`);for(let $=0;$<this._past.length;$++)J.push(`   * [UNDO] ${this._past[$]}`);for(let $=this._future.length-1;$>=0;$--)J.push(`   * [REDO] ${this._future[$]}`);return J.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(J,$){if(J.type===1)J.setValid(this.resourceLabel,this.strResource,$);else J.setValid($)}setElementsValidFlag(J,$){for(let Q of this._past)if($(Q.actual))this._setElementValidFlag(Q,J);for(let Q of this._future)if($(Q.actual))this._setElementValidFlag(Q,J)}pushElement(J){for(let $ of this._future)if($.type===1)$.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(J),this.versionId++}createSnapshot(J){let $=[];for(let Q=0,X=this._past.length;Q<X;Q++)$.push(this._past[Q].id);for(let Q=this._future.length-1;Q>=0;Q--)$.push(this._future[Q].id);return new IA(J,$)}restoreSnapshot(J){let $=J.elements.length,Q=!0,X=0,Y=-1;for(let G=0,q=this._past.length;G<q;G++,X++){let U=this._past[G];if(Q&&(X>=$||U.id!==J.elements[X]))Q=!1,Y=0;if(!Q&&U.type===1)U.removeResource(this.resourceLabel,this.strResource,0)}let Z=-1;for(let G=this._future.length-1;G>=0;G--,X++){let q=this._future[G];if(Q&&(X>=$||q.id!==J.elements[X]))Q=!1,Z=G;if(!Q&&q.type===1)q.removeResource(this.resourceLabel,this.strResource,0)}if(Y!==-1)this._past=this._past.slice(0,Y);if(Z!==-1)this._future=this._future.slice(Z+1);this.versionId++}getElements(){let J=[],$=[];for(let Q of this._past)J.push(Q.actual);for(let Q of this._future)$.push(Q.actual);return{past:J,future:$}}getClosestPastElement(){if(this._past.length===0)return null;return this._past[this._past.length-1]}getSecondClosestPastElement(){if(this._past.length<2)return null;return this._past[this._past.length-2]}getClosestFutureElement(){if(this._future.length===0)return null;return this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(J,$){for(let Q=this._past.length-1;Q>=0;Q--)if(this._past[Q]===J){if($.has(this.strResource))this._past[Q]=$.get(this.strResource);else this._past.splice(Q,1);break}this.versionId++}splitFutureWorkspaceElement(J,$){for(let Q=this._future.length-1;Q>=0;Q--)if(this._future[Q]===J){if($.has(this.strResource))this._future[Q]=$.get(this.strResource);else this._future.splice(Q,1);break}this.versionId++}moveBackward(J){this._past.pop(),this._future.push(J),this.versionId++}moveForward(J){this._future.pop(),this._past.push(J),this.versionId++}}class nA{constructor(J){this.editStacks=J,this._versionIds=[];for(let $=0,Q=this.editStacks.length;$<Q;$++)this._versionIds[$]=this.editStacks[$].versionId}isValid(){for(let J=0,$=this.editStacks.length;J<$;J++)if(this._versionIds[J]!==this.editStacks[J].versionId)return!1;return!0}}class Mj{constructor(J){this.returnValue=J}}var K90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ml=function(J,$){return function(Q,X){$(Q,X,J)}},Lq=!1,ul=0,ll,cL=class{constructor($,Q){this._dialogService=$,this._notificationService=Q,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey($){for(let Q of this._uriComparisonKeyComputers)if(Q[0]===$.scheme)return Q[1].getComparisonKey($);return $.toString()}_print($){console.log("------------------------------------"),console.log(`AFTER ${$}: `);let Q=[];for(let X of this._editStacks)Q.push(X[1].toString());console.log(Q.join(`
`))}pushElement($,Q=d2.None,X=SJ.None){if($.type===0){let Y=iA($.resource),Z=this.getUriComparisonKey($.resource);this._pushElement(new Rj($,Y,Z,Q.id,Q.nextOrder(),X.id,X.nextOrder()))}else{let Y=new Set,Z=[],G=[];for(let q of $.resources){let U=iA(q),z=this.getUriComparisonKey(q);if(Y.has(z))continue;Y.add(z),Z.push(U),G.push(z)}if(Z.length===1)this._pushElement(new Rj($,Z[0],G[0],Q.id,Q.nextOrder(),X.id,X.nextOrder()));else this._pushElement(new cl($,Z,G,Q.id,Q.nextOrder(),X.id,X.nextOrder()))}if(Lq)this._print("pushElement")}_pushElement($){for(let Q=0,X=$.strResources.length;Q<X;Q++){let Y=$.resourceLabels[Q],Z=$.strResources[Q],G;if(this._editStacks.has(Z))G=this._editStacks.get(Z);else G=new lL(Y,Z),this._editStacks.set(Z,G);G.pushElement($)}}getLastElement($){let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q)){let X=this._editStacks.get(Q);if(X.hasFutureElements())return null;let Y=X.getClosestPastElement();return Y?Y.actual:null}return null}_splitPastWorkspaceElement($,Q){let X=$.actual.split(),Y=new Map;for(let Z of X){let G=iA(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new Rj(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(Q&&Q.has(Z))continue;this._editStacks.get(Z).splitPastWorkspaceElement($,Y)}}_splitFutureWorkspaceElement($,Q){let X=$.actual.split(),Y=new Map;for(let Z of X){let G=iA(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new Rj(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(Q&&Q.has(Z))continue;this._editStacks.get(Z).splitFutureWorkspaceElement($,Y)}}removeElements($){let Q=typeof $==="string"?$:this.getUriComparisonKey($);if(this._editStacks.has(Q))this._editStacks.get(Q).dispose(),this._editStacks.delete(Q);if(Lq)this._print("removeElements")}setElementsValidFlag($,Q,X){let Y=this.getUriComparisonKey($);if(this._editStacks.has(Y))this._editStacks.get(Y).setElementsValidFlag(Q,X);if(Lq)this._print("setElementsValidFlag")}createSnapshot($){let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).createSnapshot($);return new IA($,[])}restoreSnapshot($){let Q=this.getUriComparisonKey($.resource);if(this._editStacks.has(Q)){let X=this._editStacks.get(Q);if(X.restoreSnapshot($),!X.hasPastElements()&&!X.hasFutureElements())X.dispose(),this._editStacks.delete(Q)}if(Lq)this._print("restoreSnapshot")}getElements($){let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).getElements();return{past:[],future:[]}}_findClosestUndoElementWithSource($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestPastElement();if(!G)continue;if(G.sourceId===$){if(!Q||G.sourceOrder>Q.sourceOrder)Q=G,X=Y}}return[Q,X]}canUndo($){if($ instanceof SJ){let[,X]=this._findClosestUndoElementWithSource($.id);return X?!0:!1}let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).hasPastElements();return!1}_onError($,Q){Z1($);for(let X of Q.strResources)this.removeElements(X);this._notificationService.error($)}_acquireLocks($){for(let Q of $.editStacks)if(Q.locked)throw Error("Cannot acquire edit stack lock");for(let Q of $.editStacks)Q.locked=!0;return()=>{for(let Q of $.editStacks)Q.locked=!1}}_safeInvokeWithLocks($,Q,X,Y,Z){let G=this._acquireLocks(X),q;try{q=Q()}catch(U){return G(),Y.dispose(),this._onError(U,$)}if(q)return q.then(()=>{return G(),Y.dispose(),Z()},(U)=>{return G(),Y.dispose(),this._onError(U,$)});else return G(),Y.dispose(),Z()}async _invokeWorkspacePrepare($){if(typeof $.actual.prepareUndoRedo>"u")return r.None;let Q=$.actual.prepareUndoRedo();if(typeof Q>"u")return r.None;return Q}_invokeResourcePrepare($,Q){if($.actual.type!==1||typeof $.actual.prepareUndoRedo>"u")return Q(r.None);let X=$.actual.prepareUndoRedo();if(!X)return Q(r.None);if(fW(X))return Q(X);return X.then((Y)=>{return Q(Y)})}_getAffectedEditStacks($){let Q=[];for(let X of $.strResources)Q.push(this._editStacks.get(X)||ll);return new nA(Q)}_tryToSplitAndUndo($,Q,X,Y){if(Q.canSplit())return this._splitPastWorkspaceElement(Q,X),this._notificationService.warn(Y),new Mj(this._undo($,0,!0));else{for(let Z of Q.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new Mj}}_checkWorkspaceUndo($,Q,X,Y){if(Q.removedResources)return this._tryToSplitAndUndo($,Q,Q.removedResources,M({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",Q.label,Q.removedResources.createMessage()));if(Y&&Q.invalidatedResources)return this._tryToSplitAndUndo($,Q,Q.invalidatedResources,M({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",Q.label,Q.invalidatedResources.createMessage()));let Z=[];for(let q of X.editStacks)if(q.getClosestPastElement()!==Q)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndUndo($,Q,null,M({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",Q.label,Z.join(", ")));let G=[];for(let q of X.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndUndo($,Q,null,M({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",Q.label,G.join(", ")));if(!X.isValid())return this._tryToSplitAndUndo($,Q,null,M({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",Q.label));return null}_workspaceUndo($,Q,X){let Y=this._getAffectedEditStacks(Q),Z=this._checkWorkspaceUndo($,Q,Y,!1);if(Z)return Z.returnValue;return this._confirmAndExecuteWorkspaceUndo($,Q,Y,X)}_isPartOfUndoGroup($){if(!$.groupId)return!1;for(let[,Q]of this._editStacks){let X=Q.getClosestPastElement();if(!X)continue;if(X===$){let Y=Q.getSecondClosestPastElement();if(Y&&Y.groupId===$.groupId)return!0}if(X.groupId===$.groupId)return!0}return!1}async _confirmAndExecuteWorkspaceUndo($,Q,X,Y){if(Q.canSplit()&&!this._isPartOfUndoGroup(Q)){let q;(function(H){H[H.All=0]="All",H[H.This=1]="This",H[H.Cancel=2]="Cancel"})(q||(q={}));let{result:U}=await this._dialogService.prompt({type:y6.Info,message:M("confirmWorkspace","Would you like to undo '{0}' across all files?",Q.label),buttons:[{label:M({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",X.editStacks.length),run:()=>q.All},{label:M({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>q.This}],cancelButton:{run:()=>q.Cancel}});if(U===q.Cancel)return;if(U===q.This)return this._splitPastWorkspaceElement(Q,null),this._undo($,0,!0);let z=this._checkWorkspaceUndo($,Q,X,!1);if(z)return z.returnValue;Y=!0}let Z;try{Z=await this._invokeWorkspacePrepare(Q)}catch(q){return this._onError(q,Q)}let G=this._checkWorkspaceUndo($,Q,X,!0);if(G)return Z.dispose(),G.returnValue;for(let q of X.editStacks)q.moveBackward(Q);return this._safeInvokeWithLocks(Q,()=>Q.actual.undo(),X,Z,()=>this._continueUndoInGroup(Q.groupId,Y))}_resourceUndo($,Q,X){if(!Q.isValid){$.flushAllElements();return}if($.locked){let Y=M({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",Q.label);this._notificationService.warn(Y);return}return this._invokeResourcePrepare(Q,(Y)=>{return $.moveBackward(Q),this._safeInvokeWithLocks(Q,()=>Q.actual.undo(),new nA([$]),Y,()=>this._continueUndoInGroup(Q.groupId,X))})}_findClosestUndoElementInGroup($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestPastElement();if(!G)continue;if(G.groupId===$){if(!Q||G.groupOrder>Q.groupOrder)Q=G,X=Y}}return[Q,X]}_continueUndoInGroup($,Q){if(!$)return;let[,X]=this._findClosestUndoElementInGroup($);if(X)return this._undo(X,0,Q)}undo($){if($ instanceof SJ){let[,Q]=this._findClosestUndoElementWithSource($.id);return Q?this._undo(Q,$.id,!1):void 0}if(typeof $==="string")return this._undo($,0,!1);return this._undo(this.getUriComparisonKey($),0,!1)}_undo($,Q=0,X){if(!this._editStacks.has($))return;let Y=this._editStacks.get($),Z=Y.getClosestPastElement();if(!Z)return;if(Z.groupId){let[q,U]=this._findClosestUndoElementInGroup(Z.groupId);if(Z!==q&&U)return this._undo(U,Q,X)}if((Z.sourceId!==Q||Z.confirmBeforeUndo)&&!X)return this._confirmAndContinueUndo($,Q,Z);try{if(Z.type===1)return this._workspaceUndo($,Z,X);else return this._resourceUndo(Y,Z,X)}finally{if(Lq)this._print("undo")}}async _confirmAndContinueUndo($,Q,X){if(!(await this._dialogService.confirm({message:M("confirmDifferentSource","Would you like to undo '{0}'?",X.label),primaryButton:M({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:M("confirmDifferentSource.no","No")})).confirmed)return;return this._undo($,Q,!0)}_findClosestRedoElementWithSource($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestFutureElement();if(!G)continue;if(G.sourceId===$){if(!Q||G.sourceOrder<Q.sourceOrder)Q=G,X=Y}}return[Q,X]}canRedo($){if($ instanceof SJ){let[,X]=this._findClosestRedoElementWithSource($.id);return X?!0:!1}let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).hasFutureElements();return!1}_tryToSplitAndRedo($,Q,X,Y){if(Q.canSplit())return this._splitFutureWorkspaceElement(Q,X),this._notificationService.warn(Y),new Mj(this._redo($));else{for(let Z of Q.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new Mj}}_checkWorkspaceRedo($,Q,X,Y){if(Q.removedResources)return this._tryToSplitAndRedo($,Q,Q.removedResources,M({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",Q.label,Q.removedResources.createMessage()));if(Y&&Q.invalidatedResources)return this._tryToSplitAndRedo($,Q,Q.invalidatedResources,M({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",Q.label,Q.invalidatedResources.createMessage()));let Z=[];for(let q of X.editStacks)if(q.getClosestFutureElement()!==Q)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndRedo($,Q,null,M({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",Q.label,Z.join(", ")));let G=[];for(let q of X.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndRedo($,Q,null,M({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",Q.label,G.join(", ")));if(!X.isValid())return this._tryToSplitAndRedo($,Q,null,M({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",Q.label));return null}_workspaceRedo($,Q){let X=this._getAffectedEditStacks(Q),Y=this._checkWorkspaceRedo($,Q,X,!1);if(Y)return Y.returnValue;return this._executeWorkspaceRedo($,Q,X)}async _executeWorkspaceRedo($,Q,X){let Y;try{Y=await this._invokeWorkspacePrepare(Q)}catch(G){return this._onError(G,Q)}let Z=this._checkWorkspaceRedo($,Q,X,!0);if(Z)return Y.dispose(),Z.returnValue;for(let G of X.editStacks)G.moveForward(Q);return this._safeInvokeWithLocks(Q,()=>Q.actual.redo(),X,Y,()=>this._continueRedoInGroup(Q.groupId))}_resourceRedo($,Q){if(!Q.isValid){$.flushAllElements();return}if($.locked){let X=M({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",Q.label);this._notificationService.warn(X);return}return this._invokeResourcePrepare(Q,(X)=>{return $.moveForward(Q),this._safeInvokeWithLocks(Q,()=>Q.actual.redo(),new nA([$]),X,()=>this._continueRedoInGroup(Q.groupId))})}_findClosestRedoElementInGroup($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestFutureElement();if(!G)continue;if(G.groupId===$){if(!Q||G.groupOrder<Q.groupOrder)Q=G,X=Y}}return[Q,X]}_continueRedoInGroup($){if(!$)return;let[,Q]=this._findClosestRedoElementInGroup($);if(Q)return this._redo(Q)}redo($){if($ instanceof SJ){let[,Q]=this._findClosestRedoElementWithSource($.id);return Q?this._redo(Q):void 0}if(typeof $==="string")return this._redo($);return this._redo(this.getUriComparisonKey($))}_redo($){if(!this._editStacks.has($))return;let Q=this._editStacks.get($),X=Q.getClosestFutureElement();if(!X)return;if(X.groupId){let[Y,Z]=this._findClosestRedoElementInGroup(X.groupId);if(X!==Y&&Z)return this._redo(Z)}try{if(X.type===1)return this._workspaceRedo($,X);else return this._resourceRedo(Q,X)}finally{if(Lq)this._print("redo")}}};var dl=E(()=>{T1();B0();K9();fY();a0();pL();s9();PX();yA();ll=new lL("","");ll.locked=!0;cL=K90([ml(0,rA),ml(1,X8)],cL);K1(Oq,cL,1)});function Y8(J,$,Q){return Math.min(Math.max(J,$),Q)}class oA{constructor(){this._n=1,this._val=0}update(J){return this._val=this._val+(J-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class dL{constructor(J){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=Array(J),this._values.fill(0,0,J)}update(J){let $=this._values[this._index];if(this._values[this._index]=J,this._index=(this._index+1)%this._values.length,this._sum-=$,this._sum+=J,this._n<this._values.length)this._n+=1;return this._val=this._sum/this._n,this._val}get value(){return this._val}}var kq;var tA=E(()=>{n0();kq=b0("environmentService")});class al{constructor(J){this._default=J}get(J){return this._default}update(J,$){return this._default}default(){return this._default}}class rl{constructor(J,$,Q,X,Y,Z){this._logService=J,this._name=$,this._registry=Q,this._default=X,this._min=Y,this._max=Z,this._cache=new lQ(50,0.7)}_key(J){return J.id+this._registry.all(J).reduce(($,Q)=>Ez(eA.of(Q),$),0)}get(J){let $=this._key(J),Q=this._cache.get($);return Q?Y8(Q.value,this._min,this._max):this.default()}update(J,$){let Q=this._key(J),X=this._cache.get(Q);if(!X)X=new dL(6),this._cache.set(Q,X);let Y=Y8(X.update($),this._min,this._max);if(!Lz(J.uri,"output"))this._logService.trace(`[DEBOUNCE: ${this._name}] for ${J.uri.toString()} is ${Y}ms`);return Y}_overall(){let J=new oA;for(let[,$]of this._cache)J.update($.value);return J.value}default(){let J=this._overall()|0||this._default;return Y8(J,this._min,this._max)}}var A90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},sl=function(J,$){return function(Q,X){$(Q,X,J)}},aL,eA,sL=class{constructor($,Q){this._logService=$,this._data=new Map,this._isDev=Q.isExtensionDevelopment||!Q.isBuilt}for($,Q,X){var Y,Z,G;let q=(Y=X===null||X===void 0?void 0:X.min)!==null&&Y!==void 0?Y:50,U=(Z=X===null||X===void 0?void 0:X.max)!==null&&Z!==void 0?Z:q**2,z=(G=X===null||X===void 0?void 0:X.key)!==null&&G!==void 0?G:void 0,H=`${eA.of($)},${q}${z?","+z:""}`,j=this._data.get(H);if(!j){if(!this._isDev)this._logService.debug(`[DEBOUNCE: ${Q}] is disabled in developed mode`),j=new al(q*1.5);else j=new rl(this._logService,Q,$,this._overallAverage()|0||q*1.5,q,U);this._data.set(H,j)}return j}_overallAverage(){let $=new oA;for(let Q of this._data.values())$.update(Q.default());return $.value}};var rL=E(()=>{XY();AJ();tA();s9();n0();B9();K9();aL=b0("ILanguageFeatureDebounceService");(function(J){let $=new WeakMap,Q=0;function X(Y){let Z=$.get(Y);if(Z===void 0)Z=++Q,$.set(Y,Z);return Z}J.of=X})(eA||(eA={}));sL=A90([sl(0,A5),sl(1,kq)],sL);K1(aL,sL,1)});var il=E(()=>{e0()});class nl{constructor(J,$,Q,X){this.tokenTypeIndex=J,this.tokenModifierSet=$,this.languageId=Q,this.metadata=X,this.next=null}}class MX{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=MX._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<MX._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],MX._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(J,$){for(let Q=0;Q<$;Q++)J[Q]=null}_hash2(J,$){return(J<<5)-J+$|0}_hashFunc(J,$,Q){return this._hash2(this._hash2(J,$),Q)%this._currentLength}get(J,$,Q){let X=this._hashFunc(J,$,Q),Y=this._elements[X];while(Y){if(Y.tokenTypeIndex===J&&Y.tokenModifierSet===$&&Y.languageId===Q)return Y;Y=Y.next}return null}add(J,$,Q,X){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){let Y=this._elements;this._currentLengthIndex++,this._currentLength=MX._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<MX._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],MX._nullOutEntries(this._elements,this._currentLength);for(let Z of Y){let G=Z;while(G){let q=G.next;G.next=null,this._add(G),G=q}}}this._add(new nl(J,$,Q,X))}_add(J){let $=this._hashFunc(J.tokenTypeIndex,J.tokenModifierSet,J.languageId);J.next=this._elements[$],this._elements[$]=J}}var P90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},iL=function(J,$){return function(Q,X){$(Q,X,J)}},JP=class{constructor($,Q,X,Y){this._legend=$,this._themeService=Q,this._languageService=X,this._logService=Y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new MX}getMetadata($,Q,X){let Y=this._languageService.languageIdCodec.encodeLanguageId(X),Z=this._hashTable.get($,Q,Y),G;if(Z){if(G=Z.metadata,this._logService.getLevel()===n5.Trace)this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${$} / ${Q}: foreground ${t5.getForeground(G)}, fontStyle ${t5.getFontStyle(G).toString(2)}`)}else{let q=this._legend.tokenTypes[$],U=[];if(q){let z=Q;for(let j=0;z>0&&j<this._legend.tokenModifiers.length;j++){if(z&1)U.push(this._legend.tokenModifiers[j]);z=z>>1}if(z>0&&this._logService.getLevel()===n5.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${Q.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),U.push("not-in-legend");let H=this._themeService.getColorTheme().getTokenStyleMetadata(q,U,X);if(typeof H>"u")G=2147483647;else{if(G=0,typeof H.italic<"u"){let j=(H.italic?1:0)<<11;G|=j|1}if(typeof H.bold<"u"){let j=(H.bold?2:0)<<11;G|=j|2}if(typeof H.underline<"u"){let j=(H.underline?4:0)<<11;G|=j|4}if(typeof H.strikethrough<"u"){let j=(H.strikethrough?8:0)<<11;G|=j|8}if(H.foreground){let j=H.foreground<<15;G|=j|16}if(G===0)G=2147483647}}else{if(this._logService.getLevel()===n5.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${$} for legend: ${JSON.stringify(this._legend.tokenTypes)}`);G=2147483647,q="not-in-legend"}if(this._hashTable.add($,Q,Y,G),this._logService.getLevel()===n5.Trace)this._logService.trace(`SemanticTokensProviderStyling ${$} (${q}) / ${Q} (${U.join(" ")}): foreground ${t5.getForeground(G)}, fontStyle ${t5.getFontStyle(G).toString(2)}`)}return G}warnOverlappingSemanticTokens($,Q){if(!this._hasWarnedOverlappingTokens)this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${$}, column ${Q}`)}warnInvalidLengthSemanticTokens($,Q){if(!this._hasWarnedInvalidLengthTokens)this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${$}, column ${Q}`)}warnInvalidEditStart($,Q,X,Y,Z){if(!this._hasWarnedInvalidEditStart)this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${$}, resultId: ${Q}) at edit #${X}: The provided start offset ${Y} is outside the previous data (length ${Z}).`)}};var ol=E(()=>{G5();B9();il();d9();JP=P90([iL(1,Z5),iL(2,H6),iL(3,A5)],JP);MX._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});var tl;var el=E(()=>{n0();tl=b0("semanticTokensStylingService")});var D90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},nL=function(J,$){return function(Q,X){$(Q,X,J)}},oL;var Jd=E(()=>{B0();d9();G5();B9();ol();el();s9();oL=class extends r{constructor($,Q,X){super();this._themeService=$,this._logService=Q,this._languageService=X,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling($){if(!this._caches.has($))this._caches.set($,new JP($.getLegend(),this._themeService,this._languageService,this._logService));return this._caches.get($)}};oL=D90([nL(0,Z5),nL(1,A5),nL(2,H6)],oL);K1(tl,oL,1)});function Qd(J,$){switch(J){case 0:return"";case 1:return`${XP}*?`;default:return`(?:${QP}|${XP}+${QP}${$?`|${QP}${XP}+`:""})*?`}}function Xd(J,$){if(!J)return[];let Q=[],X=!1,Y=!1,Z="";for(let G of J){switch(G){case $:if(!X&&!Y){Q.push(Z),Z="";continue}break;case"{":X=!0;break;case"}":X=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}Z+=G}if(Z)Q.push(Z);return Q}function Ud(J){if(!J)return"";let $="",Q=Xd(J,$d);if(Q.every((X)=>X===$P))$=".*";else{let X=!1;Q.forEach((Y,Z)=>{if(Y===$P){if(X)return;$+=Qd(2,Z===Q.length-1)}else{let G=!1,q="",U=!1,z="";for(let H of Y){if(H!=="}"&&G){q+=H;continue}if(U&&(H!=="]"||!z)){let j;if(H==="-")j=H;else if((H==="^"||H==="!")&&!z)j="^";else if(H===$d)j="";else j=Y7(H);z+=j;continue}switch(H){case"{":G=!0;continue;case"[":U=!0;continue;case"}":{let B=`(?:${Xd(q,",").map((V)=>Ud(V)).join("|")})`;$+=B,G=!1,q="";break}case"]":{$+="["+z+"]",U=!1,z="";break}case"?":$+=XP;continue;case"*":$+=Qd(1);continue;default:$+=Y7(H)}}if(Z<Q.length-1&&(Q[Z+1]!==$P||Z+2<Q.length))$+=QP}X=Y===$P})}return $}function eL(J,$){if(!J)return i$;let Q;if(typeof J!=="string")Q=J.pattern;else Q=J;Q=Q.trim();let X=`${Q}_${!!$.trimForExclusions}`,Y=Yd.get(X);if(Y)return Gd(Y,J);let Z;if(M90.test(Q))Y=L90(Q.substr(4),Q);else if(Z=O90.exec(tL(Q,$)))Y=k90(Z[1],Q);else if(($.trimForExclusions?N90:_90).test(Q))Y=E90(Q,$);else if(Z=T90.exec(tL(Q,$)))Y=qd(Z[1].substr(1),Q,!0);else if(Z=w90.exec(tL(Q,$)))Y=qd(Z[1],Q,!1);else Y=I90(Q);return Yd.set(X,Y),Gd(Y,J)}function Gd(J,$){if(typeof $==="string")return J;let Q=function(X,Y){if(!aH(X,$.base,!w6))return null;return J(eX(X.substr($.base.length),GJ),Y)};return Q.allBasenames=J.allBasenames,Q.allPaths=J.allPaths,Q.basenames=J.basenames,Q.patterns=J.patterns,Q}function tL(J,$){return $.trimForExclusions&&J.endsWith("/**")?J.substr(0,J.length-2):J}function L90(J,$){return function(Q,X){return typeof Q==="string"&&Q.endsWith(J)?$:null}}function k90(J,$){let Q=`/${J}`,X=`\\${J}`,Y=function(G,q){if(typeof G!=="string")return null;if(q)return q===J?$:null;return G===J||G.endsWith(Q)||G.endsWith(X)?$:null},Z=[J];return Y.basenames=Z,Y.patterns=[$],Y.allBasenames=Z,Y}function E90(J,$){let Q=Hd(J.slice(1,-1).split(",").map((q)=>eL(q,$)).filter((q)=>q!==i$),J),X=Q.length;if(!X)return i$;if(X===1)return Q[0];let Y=function(q,U){for(let z=0,H=Q.length;z<H;z++)if(Q[z](q,U))return J;return null},Z=Q.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;let G=Q.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y}function qd(J,$,Q){let X=GJ===v6.sep,Y=X?J:J.replace(R90,GJ),Z=GJ+Y,G=v6.sep+J,q;if(Q)q=function(U,z){return typeof U==="string"&&(U===Y||U.endsWith(Z)||!X&&(U===J||U.endsWith(G)))?$:null};else q=function(U,z){return typeof U==="string"&&(U===Y||!X&&U===J)?$:null};return q.allPaths=[(Q?"*/":"./")+J],q}function I90(J){try{let $=new RegExp(`^${Ud(J)}$`);return function(Q){return $.lastIndex=0,typeof Q==="string"&&$.test(Q)?J:null}}catch($){return i$}}function zd(J,$,Q){if(!J||typeof $!=="string")return!1;return Jk(J)($,void 0,Q)}function Jk(J,$={}){if(!J)return Zd;if(typeof J==="string"||y90(J)){let Q=eL(J,$);if(Q===i$)return Zd;let X=function(Y,Z){return!!Q(Y,Z)};if(Q.allBasenames)X.allBasenames=Q.allBasenames;if(Q.allPaths)X.allPaths=Q.allPaths;return X}return x90(J,$)}function y90(J){let $=J;if(!$)return!1;return typeof $.base==="string"&&typeof $.pattern==="string"}function x90(J,$){let Q=Hd(Object.getOwnPropertyNames(J).map((q)=>b90(q,J[q],$)).filter((q)=>q!==i$)),X=Q.length;if(!X)return i$;if(!Q.some((q)=>!!q.requiresSiblings)){if(X===1)return Q[0];let q=function(H,j){let B=void 0;for(let V=0,W=Q.length;V<W;V++){let K=Q[V](H,j);if(typeof K==="string")return K;if(BF(K)){if(!B)B=[];B.push(K)}}if(B)return(async()=>{for(let V of B){let W=await V;if(typeof W==="string")return W}return null})();return null},U=Q.find((H)=>!!H.allBasenames);if(U)q.allBasenames=U.allBasenames;let z=Q.reduce((H,j)=>j.allPaths?H.concat(j.allPaths):H,[]);if(z.length)q.allPaths=z;return q}let Y=function(q,U,z){let H=void 0,j=void 0;for(let B=0,V=Q.length;B<V;B++){let W=Q[B];if(W.requiresSiblings&&z){if(!U)U=A4(q);if(!H)H=U.substr(0,U.length-PS(q).length)}let K=W(q,U,H,z);if(typeof K==="string")return K;if(BF(K)){if(!j)j=[];j.push(K)}}if(j)return(async()=>{for(let B of j){let V=await B;if(typeof V==="string")return V}return null})();return null},Z=Q.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;let G=Q.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y}function b90(J,$,Q){if($===!1)return i$;let X=eL(J,Q);if(X===i$)return i$;if(typeof $==="boolean")return X;if($){let Y=$.when;if(typeof Y==="string"){let Z=(G,q,U,z)=>{if(!z||!X(G,q))return null;let H=Y.replace("$(basename)",()=>U),j=z(H);return BF(j)?j.then((B)=>B?J:null):j?J:null};return Z.requiresSiblings=!0,Z}}return X}function Hd(J,$){let Q=J.filter((q)=>!!q.basenames);if(Q.length<2)return J;let X=Q.reduce((q,U)=>{let z=U.basenames;return z?q.concat(z):q},[]),Y;if($){Y=[];for(let q=0,U=X.length;q<U;q++)Y.push($)}else Y=Q.reduce((q,U)=>{let z=U.patterns;return z?q.concat(z):q},[]);let Z=function(q,U){if(typeof q!=="string")return null;if(!U){let H;for(H=q.length;H>0;H--){let j=q.charCodeAt(H-1);if(j===47||j===92)break}U=q.substr(H)}let z=X.indexOf(U);return z!==-1?Y[z]:null};Z.basenames=X,Z.patterns=Y,Z.allBasenames=X;let G=J.filter((q)=>!q.basenames);return G.push(Z),G}var $P="**",$d="/",QP="[/\\\\]",XP="[^/\\\\]",R90,M90,O90,_90,N90,T90,w90,Yd,Zd=function(){return!1},i$=function(){return null};var $k=E(()=>{J6();MA();AJ();RQ();E1();G1();R90=/\//g;M90=/^\*\*\/\*\.[\w\.-]+$/,O90=/^\*\*\/([\w\.-]+)\/?$/,_90=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,N90=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,T90=/^\*\*((\/[\w\.-]+)+)\/?$/,w90=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Yd=new lQ(1e4)});function Qk(J,$,Q,X,Y,Z){if(Array.isArray(J)){let G=0;for(let q of J){let U=Qk(q,$,Q,X,Y,Z);if(U===10)return U;if(U>G)G=U}return G}else if(typeof J==="string"){if(!X)return 0;if(J==="*")return 5;else if(J===Q)return 10;else return 0}else if(J){let{language:G,pattern:q,scheme:U,hasAccessToAllModels:z,notebookType:H}=J;if(!X&&!z)return 0;if(H&&Y)$=Y;let j=0;if(U)if(U===$.scheme)j=10;else if(U==="*")j=5;else return 0;if(G)if(G===Q)j=10;else if(G==="*")j=Math.max(j,5);else return 0;if(H)if(H===Z)j=10;else if(H==="*"&&Z!==void 0)j=Math.max(j,5);else return 0;if(q){let B;if(typeof q==="string")B=q;else B={...q,base:lW(q.base)};if(B===$.fsPath||zd(B,$.fsPath))j=10;else return 0}return j}else return 0}var jd=E(()=>{$k();RQ()});function Vd(J){if(typeof J==="string")return!1;else if(Array.isArray(J))return J.every(Vd);else return!!J.exclusive}class Xk{constructor(J,$,Q,X){this.uri=J,this.languageId=$,this.notebookUri=Q,this.notebookType=X}equals(J){var $,Q;return this.notebookType===J.notebookType&&this.languageId===J.languageId&&this.uri.toString()===J.uri.toString()&&(($=this.notebookUri)===null||$===void 0?void 0:$.toString())===((Q=J.notebookUri)===null||Q===void 0?void 0:Q.toString())}}class x6{constructor(J){this._notebookInfoResolver=J,this._clock=0,this._entries=[],this._onDidChange=new p,this.onDidChange=this._onDidChange.event}register(J,$){let Q={selector:J,provider:$,_score:-1,_time:this._clock++};return this._entries.push(Q),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),y0(()=>{if(Q){let X=this._entries.indexOf(Q);if(X>=0)this._entries.splice(X,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Q=void 0}})}has(J){return this.all(J).length>0}all(J){if(!J)return[];this._updateScores(J);let $=[];for(let Q of this._entries)if(Q._score>0)$.push(Q.provider);return $}ordered(J){let $=[];return this._orderedForEach(J,(Q)=>$.push(Q.provider)),$}orderedGroups(J){let $=[],Q,X;return this._orderedForEach(J,(Y)=>{if(Q&&X===Y._score)Q.push(Y.provider);else X=Y._score,Q=[Y.provider],$.push(Q)}),$}_orderedForEach(J,$){this._updateScores(J);for(let Q of this._entries)if(Q._score>0)$(Q)}_updateScores(J){var $,Q;let X=($=this._notebookInfoResolver)===null||$===void 0?void 0:$.call(this,J.uri),Y=X?new Xk(J.uri,J.getLanguageId(),X.uri,X.type):new Xk(J.uri,J.getLanguageId(),void 0,void 0);if((Q=this._lastCandidate)===null||Q===void 0?void 0:Q.equals(Y))return;this._lastCandidate=Y;for(let Z of this._entries)if(Z._score=Qk(Z.selector,Y.uri,Y.languageId,pv(J),Y.notebookUri,Y.notebookType),Vd(Z.selector)&&Z._score>0){for(let G of this._entries)G._score=0;Z._score=1000;break}this._entries.sort(x6._compareByScoreAndTime)}static _compareByScoreAndTime(J,$){if(J._score<$._score)return 1;else if(J._score>$._score)return-1;if(Oj(J.selector)&&!Oj($.selector))return 1;else if(!Oj(J.selector)&&Oj($.selector))return-1;if(J._time<$._time)return 1;else if(J._time>$._time)return-1;else return 0}}function Oj(J){if(typeof J==="string")return!1;if(Array.isArray(J))return J.some(Oj);return Boolean(J.isBuiltin)}var Wd=E(()=>{E0();B0();l7();jd()});class Bd{constructor(){this.referenceProvider=new x6(this._score.bind(this)),this.renameProvider=new x6(this._score.bind(this)),this.codeActionProvider=new x6(this._score.bind(this)),this.definitionProvider=new x6(this._score.bind(this)),this.typeDefinitionProvider=new x6(this._score.bind(this)),this.declarationProvider=new x6(this._score.bind(this)),this.implementationProvider=new x6(this._score.bind(this)),this.documentSymbolProvider=new x6(this._score.bind(this)),this.inlayHintsProvider=new x6(this._score.bind(this)),this.colorProvider=new x6(this._score.bind(this)),this.codeLensProvider=new x6(this._score.bind(this)),this.documentFormattingEditProvider=new x6(this._score.bind(this)),this.documentRangeFormattingEditProvider=new x6(this._score.bind(this)),this.onTypeFormattingEditProvider=new x6(this._score.bind(this)),this.signatureHelpProvider=new x6(this._score.bind(this)),this.hoverProvider=new x6(this._score.bind(this)),this.documentHighlightProvider=new x6(this._score.bind(this)),this.multiDocumentHighlightProvider=new x6(this._score.bind(this)),this.selectionRangeProvider=new x6(this._score.bind(this)),this.foldingRangeProvider=new x6(this._score.bind(this)),this.linkProvider=new x6(this._score.bind(this)),this.inlineCompletionsProvider=new x6(this._score.bind(this)),this.completionProvider=new x6(this._score.bind(this)),this.linkedEditingRangeProvider=new x6(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new x6(this._score.bind(this)),this.documentSemanticTokensProvider=new x6(this._score.bind(this)),this.documentOnDropEditProvider=new x6(this._score.bind(this)),this.documentPasteEditProvider=new x6(this._score.bind(this))}_score(J){var $;return($=this._notebookTypeResolver)===null||$===void 0?void 0:$.call(this,J)}}var Fd=E(()=>{Wd();e9();s9();K1(M1,Bd,1)});var Eq;var YP=E(()=>{n0();Eq=b0("hoverService")});var vJ,Q9;var OX=E(()=>{n0();vJ=b0("contextViewService"),Q9=b0("contextMenuService")});var Kd=E(()=>{_0(".monaco-workbench .workbench-hover{z-index:40;background:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);max-width:700px;color:var(--vscode-editorHoverWidget-foreground);box-shadow:0 2px 8px var(--vscode-widget-shadow);border-radius:3px;font-size:13px;line-height:19px;position:relative;overflow:hidden}.monaco-workbench .workbench-hover hr{border-bottom:none}.monaco-workbench .workbench-hover:not(.skip-fade-in){animation:.1s linear fadein}.monaco-workbench .workbench-hover.compact{font-size:12px}.monaco-workbench .workbench-hover.compact .hover-contents{padding:2px 8px}.monaco-workbench .workbench-hover-container.locked .workbench-hover{outline:1px solid var(--vscode-editorHoverWidget-border)}.monaco-workbench .workbench-hover-container.locked .workbench-hover:focus,.monaco-workbench .workbench-hover-lock:focus{outline:1px solid var(--vscode-focusBorder)}.monaco-workbench .workbench-hover-container.locked .workbench-hover-lock:hover{background:var(--vscode-toolbar-hoverBackground)}.monaco-workbench .workbench-hover-pointer{z-index:41;pointer-events:none;position:absolute}.monaco-workbench .workbench-hover-pointer:after{content:\"\";background-color:var(--vscode-editorHoverWidget-background);border-right:1px solid var(--vscode-editorHoverWidget-border);border-bottom:1px solid var(--vscode-editorHoverWidget-border);width:5px;height:5px;position:absolute}.monaco-workbench .locked .workbench-hover-pointer:after{border-bottom-width:2px;border-right-width:2px;width:4px;height:4px}.monaco-workbench .workbench-hover-pointer.left{left:-3px}.monaco-workbench .workbench-hover-pointer.right{right:3px}.monaco-workbench .workbench-hover-pointer.top{top:-3px}.monaco-workbench .workbench-hover-pointer.bottom{bottom:3px}.monaco-workbench .workbench-hover-pointer.left:after{transform:rotate(135deg)}.monaco-workbench .workbench-hover-pointer.right:after{transform:rotate(315deg)}.monaco-workbench .workbench-hover-pointer.top:after{transform:rotate(225deg)}.monaco-workbench .workbench-hover-pointer.bottom:after{transform:rotate(45deg)}.monaco-workbench .workbench-hover a{color:var(--vscode-textLink-foreground)}.monaco-workbench .workbench-hover a:focus{outline-offset:-1px;outline:1px solid;outline-color:var(--vscode-focusBorder);text-decoration:underline}.monaco-workbench .workbench-hover a:hover,.monaco-workbench .workbench-hover a:active{color:var(--vscode-textLink-activeForeground)}.monaco-workbench .workbench-hover code{background:var(--vscode-textCodeBlock-background)}.monaco-workbench .workbench-hover .hover-row .actions{background:var(--vscode-editorHoverWidget-statusBarBackground)}.monaco-workbench .workbench-hover.right-aligned{left:1px}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions{flex-direction:row-reverse}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions .action-container{margin-left:16px;margin-right:0}")});var Ad=E(()=>{_0(".monaco-hover{cursor:default;-webkit-user-select:text;user-select:text;box-sizing:border-box;white-space:var(--vscode-hover-whiteSpace,normal);line-height:1.5em;animation:.1s linear fadein;position:absolute;overflow:hidden}.monaco-hover.hidden{display:none}.monaco-hover a:hover:not(.disabled){cursor:pointer}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:var(--vscode-hover-maxWidth,500px);word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover p,.monaco-hover .code,.monaco-hover ul,.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{margin:8px 0}.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{line-height:1.1}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;height:1px;margin:4px -8px -4px}.monaco-hover p:first-child,.monaco-hover .code:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover p:last-child,.monaco-hover .code:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ul,.monaco-hover ol{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:var(--vscode-hover-sourceWhiteSpace,pre-wrap)}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .info{padding:0 8px;font-style:italic}.monaco-hover .hover-row.status-bar .actions{padding:0 8px;display:flex}.monaco-hover .hover-row.status-bar .actions .action-container{cursor:pointer;margin-right:16px}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link:hover,.monaco-hover .hover-contents a.code-link{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:\"(\"}.monaco-hover .hover-contents a.code-link:after{content:\")\"}.monaco-hover .hover-contents a.code-link>span{text-underline-position:under;color:var(--vscode-textLink-foreground);border-bottom:1px solid #0000;text-decoration:underline}.monaco-hover .hover-contents a.code-link>span:hover{color:var(--vscode-textLink-activeForeground)}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}")});function Pd(J,$){return J&&$?M("acessibleViewHint","Inspect this in the accessible view with {0}.",$):J?M("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}var ZP,Yk,GP;var Dd=E(()=>{x0();k8();EJ();B0();Ad();a0();ZP=M0;Yk=class Yk extends r{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new XX(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};GP=class GP extends r{static render(J,$,Q){return new GP(J,$,Q)}constructor(J,$,Q){super();if(this.actionContainer=P0(J,ZP("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=P0(this.actionContainer,ZP("a.action")),this.action.setAttribute("role","button"),$.iconClass)P0(this.action,ZP(`span.icon.${$.iconClass}`));let X=P0(this.action,ZP("span"));X.textContent=Q?`${$.label} (${Q})`:$.label,this._register(t(this.actionContainer,W0.CLICK,(Y)=>{Y.stopPropagation(),Y.preventDefault(),$.run(this.actionContainer)})),this._register(t(this.actionContainer,W0.KEY_DOWN,(Y)=>{let Z=new _1(Y);if(Z.equals(3)||Z.equals(10))Y.stopPropagation(),Y.preventDefault(),$.run(this.actionContainer)})),this.setEnabled(!0)}setEnabled(J){if(J)this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled");else this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true")}}});function Rd(J){let $=void 0,Q=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(J.fragment);if(Q)$={startLineNumber:parseInt(Q[1]),startColumn:Q[2]?parseInt(Q[2]):1,endLineNumber:Q[4]?parseInt(Q[4]):void 0,endColumn:Q[4]?Q[5]?parseInt(Q[5]):1:void 0},J=J.with({fragment:""});return{selection:$,uri:J}}var n$;var n2=E(()=>{n0();n$=b0("openerService")});function Md(J,$={}){let Q=qP($);return Q.textContent=J,Q}function Od(J,$={}){let Q=qP($);return Nd(Q,S90(J,!!$.renderCodeSegments),$.actionHandler,$.renderCodeSegments),Q}function qP(J){let $=J.inline?"span":"div",Q=document.createElement($);if(J.className)Q.className=J.className;return Q}class _d{constructor(J){this.source=J,this.index=0}eos(){return this.index>=this.source.length}next(){let J=this.peek();return this.advance(),J}peek(){return this.source[this.index]}advance(){this.index++}}function Nd(J,$,Q,X){let Y;if($.type===2)Y=document.createTextNode($.content||"");else if($.type===3)Y=document.createElement("b");else if($.type===4)Y=document.createElement("i");else if($.type===7&&X)Y=document.createElement("code");else if($.type===5&&Q){let Z=document.createElement("a");Q.disposables.add(q6(Z,"click",(G)=>{Q.callback(String($.index),G)})),Y=Z}else if($.type===8)Y=document.createElement("br");else if($.type===1)Y=J;if(Y&&J!==Y)J.appendChild(Y);if(Y&&Array.isArray($.children))$.children.forEach((Z)=>{Nd(Y,Z,Q,X)})}function S90(J,$){let Q={type:1,children:[]},X=0,Y=Q,Z=[],G=new _d(J);while(!G.eos()){let q=G.next(),U=q==="\\"&&Zk(G.peek(),$)!==0;if(U)q=G.next();if(!U&&C90(q,$)&&q===G.peek()){if(G.advance(),Y.type===2)Y=Z.pop();let z=Zk(q,$);if(Y.type===z||Y.type===5&&z===6)Y=Z.pop();else{let H={type:z,children:[]};if(z===5)H.index=X,X++;Y.children.push(H),Z.push(Y),Y=H}}else if(q===`
`){if(Y.type===2)Y=Z.pop();Y.children.push({type:8})}else if(Y.type!==2){let z={type:2,content:q};Y.children.push(z),Z.push(Y),Y=z}else Y.content+=q}if(Y.type===2)Y=Z.pop();if(Z.length);return Q}function C90(J,$){return Zk(J,$)!==0}function Zk(J,$){switch(J){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return $?7:0;default:return 0}}var Gk=E(()=>{x0()});function p4(J){let $=[],Q,X=0,Y=0;while((Q=v90.exec(J))!==null){if(Y=Q.index||0,X<Y)$.push(J.substring(X,Y));X=(Q.index||0)+Q[0].length;let[,Z,G]=Q;$.push(Z?`$(${G})`:Iq({id:G}))}if(X<J.length)$.push(J.substring(X));return $}function Iq(J){let $=M0("span");return $.classList.add(...c0.asClassNameArray(J)),$}var v90;var o2=E(()=>{x0();N5();v90=new RegExp(`(\\\\)?\\$\\((${c0.iconNameExpression}(?:${c0.iconModifierExpression})?)\\)`,"g")});var Cb0,vb0,hb0,fb0,gb0;var Td=E(()=>{Cb0=new Uint32Array(10),vb0=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),hb0=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),fb0=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),gb0=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])});function kd(...J){return function($,Q){for(let X=0,Y=J.length;X<Y;X++){let Z=J[X]($,Q);if(Z)return Z}return null}}function Ed(J,$,Q){if(!Q||Q.length<$.length)return null;let X;if(J)X=nG(Q,$);else X=Q.indexOf($)===0;if(!X)return null;return $.length>0?[{start:0,end:$.length}]:[]}function h90(J,$){let Q=$.toLowerCase().indexOf(J.toLowerCase());if(Q===-1)return null;return[{start:Q,end:Q+J.length}]}function f90(J,$){return Uk(J.toLowerCase(),$.toLowerCase(),0,0)}function Uk(J,$,Q,X){if(Q===J.length)return[];else if(X===$.length)return null;else{if(J[Q]===$[X]){let Y=null;if(Y=Uk(J,$,Q+1,X+1))return yd({start:X,end:X+1},Y);return null}return Uk(J,$,Q,X+1)}}function jk(J){return 97<=J&&J<=122}function HP(J){return 65<=J&&J<=90}function Vk(J){return 48<=J&&J<=57}function g90(J){return J===32||J===9||J===10||J===13}function Id(J){return jk(J)||HP(J)||Vk(J)}function yd(J,$){if($.length===0)$=[J];else if(J.end===$[0].start)$[0].start=J.start;else $.unshift(J);return $}function xd(J,$){for(let Q=$;Q<J.length;Q++){let X=J.charCodeAt(Q);if(HP(X)||Vk(X)||Q>0&&!Id(J.charCodeAt(Q-1)))return Q}return J.length}function zk(J,$,Q,X){if(Q===J.length)return[];else if(X===$.length)return null;else if(J[Q]!==$[X].toLowerCase())return null;else{let Y=null,Z=X+1;Y=zk(J,$,Q+1,X+1);while(!Y&&(Z=xd($,Z))<$.length)Y=zk(J,$,Q+1,Z),Z++;return Y===null?null:yd({start:X,end:X+1},Y)}}function m90(J){let $=0,Q=0,X=0,Y=0,Z=0;for(let H=0;H<J.length;H++){if(Z=J.charCodeAt(H),HP(Z))$++;if(jk(Z))Q++;if(Id(Z))X++;if(Vk(Z))Y++}let G=$/J.length,q=Q/J.length,U=X/J.length,z=Y/J.length;return{upperPercent:G,lowerPercent:q,alphaPercent:U,numericPercent:z}}function u90(J){let{upperPercent:$,lowerPercent:Q}=J;return Q===0&&$>0.6}function c90(J){let{upperPercent:$,lowerPercent:Q,alphaPercent:X,numericPercent:Y}=J;return Q>0.2&&$<0.8&&X>0.6&&Y<0.2}function l90(J){let $=0,Q=0,X=0,Y=0;for(let Z=0;Z<J.length;Z++){if(X=J.charCodeAt(Z),HP(X))$++;if(jk(X))Q++;if(g90(X))Y++}if(($===0||Q===0)&&Y===0)return J.length<=30;else return $<=5}function bd(J,$){if(!$)return null;if($=$.trim(),$.length===0)return null;if(!l90(J))return null;if($.length>60)return null;let Q=m90($);if(!c90(Q)){if(!u90(Q))return null;$=$.toLowerCase()}let X=null,Y=0;J=J.toLowerCase();while(Y<$.length&&(X=zk(J,$,0,Y))===null)Y=xd($,Y+1);return X}function Wk(J,$,Q=!1){if(typeof J!=="string"||typeof $!=="string")return null;let X=wd.get(J);if(!X)X=new RegExp(CS(J),"i"),wd.set(J,X);let Y=X.exec($);if(Y)return[{start:Y.index,end:Y.index+Y[0].length}];return Q?s90(J,$):d90(J,$)}function Sd(J,$){let Q=cY(J,J.toLowerCase(),0,$,$.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Q?Bk(Q):null}function Cd(J,$,Q,X,Y,Z){let G=Math.min(13,J.length);for(;Q<G;Q++){let q=cY(J,$,Q,X,Y,Z,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return q}return[0,Z]}function Bk(J){if(typeof J>"u")return[];let $=[],Q=J[1];for(let X=J.length-1;X>1;X--){let Y=J[X]+Q,Z=$[$.length-1];if(Z&&Z.end===Y)Z.end=Y+1;else $.push({start:Y,end:Y+1})}return $}function Fk(){let J=[],$=[];for(let Q=0;Q<=uY;Q++)$[Q]=0;for(let Q=0;Q<=uY;Q++)J.push($.slice(0));return J}function vd(J){let $=[];for(let Q=0;Q<=J;Q++)$[Q]=0;return $}function qk(J,$,Q,X,Y){function Z(q,U,z=" "){while(q.length<U)q=z+q;return q}let G=` |   |${X.split("").map((q)=>Z(q,3)).join("|")}
`;for(let q=0;q<=Q;q++){if(q===0)G+=" |";else G+=`${$[q-1]}|`;G+=J[q].slice(0,Y+1).map((U)=>Z(U.toString(),3)).join("|")+`
`}return G}function r90(J,$,Q,X){J=J.substr($),Q=Q.substr(X),console.log(qk(mY,J,J.length,Q,Q.length)),console.log(qk(_j,J,J.length,Q,Q.length)),console.log(qk(o$,J,J.length,Q,Q.length))}function UP(J,$){if($<0||$>=J.length)return!1;let Q=J.codePointAt($);switch(Q){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:if(Vz(Q))return!0;return!1}}function Ld(J,$){if($<0||$>=J.length)return!1;switch(J.charCodeAt($)){case 32:case 9:return!0;default:return!1}}function zP(J,$,Q){return $[J]!==Q[J]}function i90(J,$,Q,X,Y,Z,G=!1){while($<Q&&Y<Z){if(J[$]===X[Y]){if(G)hd[$]=Y;$+=1}Y+=1}return $===Q}class t2{constructor(J,$){this.firstMatchCanBeWeak=J,this.boostFullMatch=$}}function cY(J,$,Q,X,Y,Z,G=t2.default){let q=J.length>uY?uY:J.length,U=X.length>uY?uY:X.length;if(Q>=q||Z>=U||q-Q>U-Z)return;if(!i90($,Q,q,Y,Z,U,!0))return;n90(q,U,Q,Z,$,Y);let z=1,H=1,j=Q,B=Z,V=[!1];for(z=1,j=Q;j<q;z++,j++){let P=hd[j],R=Hk[j],D=j+1<q?Hk[j+1]:U;for(H=P-Z+1,B=P;B<D;H++,B++){let _=Number.MIN_SAFE_INTEGER,O=!1;if(B<=R)_=o90(J,$,j,Q,X,Y,B,U,Z,o$[z-1][H-1]===0,V);let N=0;if(_!==Number.MAX_SAFE_INTEGER)O=!0,N=_+mY[z-1][H-1];let w=B>P,T=w?mY[z][H-1]+(o$[z][H-1]>0?-5:0):0,I=B>P+1&&o$[z][H-1]>0,k=I?mY[z][H-2]+(o$[z][H-2]>0?-5:0):0;if(I&&(!w||k>=T)&&(!O||k>=N))mY[z][H]=k,_j[z][H]=3,o$[z][H]=0;else if(w&&(!O||T>=N))mY[z][H]=T,_j[z][H]=2,o$[z][H]=0;else if(O)mY[z][H]=N,_j[z][H]=1,o$[z][H]=o$[z-1][H-1]+1;else throw Error("not possible")}}if(a90)r90(J,Q,X,Z);if(!V[0]&&!G.firstMatchCanBeWeak)return;z--,H--;let W=[mY[z][H],Z],K=0,A=0;while(z>=1){let P=H;do{let R=_j[z][P];if(R===3)P=P-2;else if(R===2)P=P-1;else break}while(P>=1);if(K>1&&$[Q+z-1]===Y[Z+H-1]&&!zP(P+Z-1,X,Y)&&K+1>o$[z][P])P=H;if(P===H)K++;else K=1;if(!A)A=P;z--,H=P-1,W.push(H)}if(U===q&&G.boostFullMatch)W[0]+=2;let F=A-q;return W[0]-=F,W}function n90(J,$,Q,X,Y,Z){let G=J-1,q=$-1;while(G>=Q&&q>=X){if(Y[G]===Z[q])Hk[G]=q,G--;q--}}function o90(J,$,Q,X,Y,Z,G,q,U,z,H){if($[Q]!==Z[G])return Number.MIN_SAFE_INTEGER;let j=1,B=!1;if(G===Q-X)j=J[Q]===Y[G]?7:5;else if(zP(G,Y,Z)&&(G===0||!zP(G-1,Y,Z)))j=J[Q]===Y[G]?7:5,B=!0;else if(UP(Z,G)&&(G===0||!UP(Z,G-1)))j=5;else if(UP(Z,G-1)||Ld(Z,G-1))j=5,B=!0;if(j>1&&Q===X)H[0]=!0;if(!B)B=zP(G,Y,Z)||UP(Z,G-1)||Ld(Z,G-1);if(Q===X){if(G>U)j-=B?3:5}else if(z)j+=B?2:0;else j+=B?0:1;if(G+1===q)j-=B?3:5;return j}function fd(J,$,Q,X,Y,Z,G){return t90(J,$,Q,X,Y,Z,!0,G)}function t90(J,$,Q,X,Y,Z,G,q){let U=cY(J,$,Q,X,Y,Z,q);if(U&&!G)return U;if(J.length>=3){let z=Math.min(7,J.length-1);for(let H=Q+1;H<z;H++){let j=e90(J,H);if(j){let B=cY(j,j.toLowerCase(),Q,X,Y,Z,q);if(B){if(B[0]-=3,!U||B[0]>U[0])U=B}}}}return U}function e90(J,$){if($+1>=J.length)return;let Q=J[$],X=J[$+1];if(Q===X)return;return J.slice(0,$)+X+Q+J.slice($+2)}var lb0,Nj,p90,d90,s90,wd,uY=128,hd,Hk,o$,mY,_j,a90=!1,m4;var lY=E(()=>{AJ();Td();G1();lb0=Ed.bind(void 0,!1),Nj=Ed.bind(void 0,!0);p90=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach((J)=>p90.add(J.charCodeAt(0)));d90=kd(Nj,bd,h90),s90=kd(Nj,bd,f90),wd=new lQ(1e4);hd=vd(2*uY),Hk=vd(2*uY),o$=Fk(),mY=Fk(),_j=Fk();(function(J){J.Default=[-100,0];function $(Q){return!Q||Q.length===2&&Q[0]===-100&&Q[1]===0}J.isDefault=$})(m4||(m4={}));t2.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}});function gd(J){return J.replace($40,($,Q)=>Q?$:`\\${$}`)}function pd(J){return J.replace(Q40,($)=>`\\${$}`)}function jP(J){if(J.indexOf(J40)===-1)return J;return J.replace(X40,($,Q,X,Y)=>X?$:Q||Y||"")}function md(J){if(!J)return"";return J.replace(/\$\((.*?)\)/g,($,Q)=>` ${Q} `).trim()}function yq(J){Kk.lastIndex=0;let $="",Q=[],X=0;while(!0){let Y=Kk.lastIndex,Z=Kk.exec(J),G=J.substring(Y,Z===null||Z===void 0?void 0:Z.index);if(G.length>0){$+=G;for(let q=0;q<G.length;q++)Q.push(X)}if(!Z)break;X+=Z[0].length}return{text:$,iconOffsets:Q}}function VP(J,$,Q=!1){let{text:X,iconOffsets:Y}=$;if(!Y||Y.length===0)return Wk(J,X,Q);let Z=eX(X," "),G=X.length-Z.length,q=Wk(J,Z,Q);if(q)for(let U of q){let z=Y[U.start+G]+G;U.start+=z,U.end+=z}return q}var J40="$(",Ak,$40,Q40,X40,Kk;var xq=E(()=>{lY();G1();N5();Ak=new RegExp(`\\$\\(${c0.iconNameExpression}(?:${c0.iconModifierExpression})?\\)`,"g"),$40=new RegExp(`(\\\\)?${Ak.source}`,"g");Q40=new RegExp(`\\\\${Ak.source}`,"g");X40=new RegExp(`(\\s)?(\\\\)?${Ak.source}(\\s)?`,"g");Kk=new RegExp(`\\$\\(${c0.iconNameCharacter}+\\)`,"g")});class bq{constructor(J="",$=!1){var Q,X,Y;if(this.value=J,typeof this.value!=="string")throw YJ("value");if(typeof $==="boolean")this.isTrusted=$,this.supportThemeIcons=!1,this.supportHtml=!1;else this.isTrusted=(Q=$.isTrusted)!==null&&Q!==void 0?Q:void 0,this.supportThemeIcons=(X=$.supportThemeIcons)!==null&&X!==void 0?X:!1,this.supportHtml=(Y=$.supportHtml)!==null&&Y!==void 0?Y:!1}appendText(J,$=0){return this.value+=Y40(this.supportThemeIcons?gd(J):J).replace(/([ \t]+)/g,(Q,X)=>"&nbsp;".repeat(X.length)).replace(/\>/gm,"\\>").replace(/\n/g,$===1?"\\\n":`

`),this}appendMarkdown(J){return this.value+=J,this}appendCodeblock(J,$){return this.value+=`
${Z40($,J)}
`,this}appendLink(J,$,Q){if(this.value+="[",this.value+=this._escape($,"]"),this.value+="](",this.value+=this._escape(String(J),")"),Q)this.value+=` "${this._escape(this._escape(Q,'"'),")")}"`;return this.value+=")",this}_escape(J,$){let Q=new RegExp(Y7($),"g");return J.replace(Q,(X,Y)=>{if(J.charAt(Y-1)!=="\\")return`\\${X}`;else return X})}}function _X(J){if(J instanceof bq)return!0;else if(J&&typeof J==="object")return typeof J.value==="string"&&(typeof J.isTrusted==="boolean"||typeof J.isTrusted==="object"||J.isTrusted===void 0)&&(typeof J.supportThemeIcons==="boolean"||J.supportThemeIcons===void 0);return!1}function ud(J,$){if(J===$)return!0;else if(!J||!$)return!1;else return J.value===$.value&&J.isTrusted===$.isTrusted&&J.supportThemeIcons===$.supportThemeIcons&&J.supportHtml===$.supportHtml&&(J.baseUri===$.baseUri||!!J.baseUri&&!!$.baseUri&&Qc(m0.from(J.baseUri),m0.from($.baseUri)))}function Y40(J){return J.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function Z40(J,$){var Q,X;let Y=(X=(Q=J.match(/^`+/gm))===null||Q===void 0?void 0:Q.reduce((G,q)=>G.length>q.length?G:q).length)!==null&&X!==void 0?X:0,Z=Y>=3?Y+1:3;return[`${"`".repeat(Z)}${$}`,J,`${"`".repeat(Z)}`].join(`
`)}function Tj(J){return J.replace(/"/g,"&quot;")}function WP(J){if(!J)return J;return J.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function cd(J){let $=[],Q=J.split("|").map((Y)=>Y.trim());J=Q[0];let X=Q[1];if(X){let Y=/height=(\d+)/.exec(X),Z=/width=(\d+)/.exec(X),G=Y?Y[1]:"",q=Z?Z[1]:"",U=isFinite(parseInt(q)),z=isFinite(parseInt(G));if(U)$.push(`width="${q}"`);if(z)$.push(`height="${G}"`)}return{href:J,dimensions:$}}var e2=E(()=>{T1();xq();u$();G1();V5()});class BP{constructor(J){this._prefix=J,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}var Pk;var Dk=E(()=>{Pk=new BP("id#")});var Rk={};gX(Rk,{walkTokens:()=>R40,use:()=>D40,setOptions:()=>P40,parser:()=>A40,parseInline:()=>K40,parse:()=>F40,options:()=>B40,marked:()=>u4,lexer:()=>W40,getDefaults:()=>V40,Tokenizer:()=>j40,TextRenderer:()=>H40,Slugger:()=>z40,Renderer:()=>U40,Parser:()=>q40,Lexer:()=>G40});var j7,G40,q40,U40,z40,H40,j40,V40,W40,u4,B40,F40,K40,A40,P40,D40,R40;var ld=E(()=>{j7={};(function(){function J($,Q){Q(j7)}J.amd=!0,function($,Q){typeof J==="function"&&J.amd?J(["exports"],Q):typeof Rk==="object"&&typeof M40<"u"?Q(Rk):($=typeof globalThis<"u"?globalThis:$||self,Q($.marked={}))}(this,function($){function Q(e,n){for(var J0=0;J0<n.length;J0++){var C=n[J0];if(C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C)C.writable=!0;Object.defineProperty(e,C.key,C)}}function X(e,n,J0){if(n)Q(e.prototype,n);if(J0)Q(e,J0);return Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e,n){if(!e)return;if(typeof e==="string")return Z(e,n);var J0=Object.prototype.toString.call(e).slice(8,-1);if(J0==="Object"&&e.constructor)J0=e.constructor.name;if(J0==="Map"||J0==="Set")return Array.from(e);if(J0==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J0))return Z(e,n)}function Z(e,n){if(n==null||n>e.length)n=e.length;for(var J0=0,C=Array(n);J0<n;J0++)C[J0]=e[J0];return C}function G(e,n){var J0=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(J0)return(J0=J0.call(e)).next.bind(J0);if(Array.isArray(e)||(J0=Y(e))||n&&e&&typeof e.length==="number"){if(J0)e=J0;var C=0;return function(){if(C>=e.length)return{done:!0};return{done:!1,value:e[C++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}$.defaults=q();function U(e){$.defaults=e}var z=/[&<>"']/,H=/[&<>"']/g,j=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},W=function(n){return V[n]};function K(e,n){if(n){if(z.test(e))return e.replace(H,W)}else if(j.test(e))return e.replace(B,W);return e}var A=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function F(e){return e.replace(A,function(n,J0){if(J0=J0.toLowerCase(),J0==="colon")return":";if(J0.charAt(0)==="#")return J0.charAt(1)==="x"?String.fromCharCode(parseInt(J0.substring(2),16)):String.fromCharCode(+J0.substring(1));return""})}var P=/(^|[^\[])\^/g;function R(e,n){e=typeof e==="string"?e:e.source,n=n||"";var J0={replace:function(c,i){return i=i.source||i,i=i.replace(P,"$1"),e=e.replace(c,i),J0},getRegex:function(){return new RegExp(e,n)}};return J0}var D=/[^\w:]/g,_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function O(e,n,J0){if(e){var C;try{C=decodeURIComponent(F(J0)).replace(D,"").toLowerCase()}catch(c){return null}if(C.indexOf("javascript:")===0||C.indexOf("vbscript:")===0||C.indexOf("data:")===0)return null}if(n&&!_.test(J0))J0=k(n,J0);try{J0=encodeURI(J0).replace(/%25/g,"%")}catch(c){return null}return J0}var N={},w=/^[^:]+:\/*[^/]*$/,T=/^([^:]+:)[\s\S]*$/,I=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,n){if(!N[" "+e])if(w.test(e))N[" "+e]=e+"/";else N[" "+e]=d(e,"/",!0);e=N[" "+e];var J0=e.indexOf(":")===-1;if(n.substring(0,2)==="//"){if(J0)return n;return e.replace(T,"$1")+n}else if(n.charAt(0)==="/"){if(J0)return n;return e.replace(I,"$1")+n}else return e+n}var x={exec:function(){}};function S(e){var n=1,J0,C;for(;n<arguments.length;n++){J0=arguments[n];for(C in J0)if(Object.prototype.hasOwnProperty.call(J0,C))e[C]=J0[C]}return e}function l(e,n){var J0=e.replace(/\|/g,function(i,a,G0){var K0=!1,I0=a;while(--I0>=0&&G0[I0]==="\\")K0=!K0;if(K0)return"|";else return" |"}),C=J0.split(/ \|/),c=0;if(!C[0].trim())C.shift();if(C.length>0&&!C[C.length-1].trim())C.pop();if(C.length>n)C.splice(n);else while(C.length<n)C.push("");for(;c<C.length;c++)C[c]=C[c].trim().replace(/\\\|/g,"|");return C}function d(e,n,J0){var C=e.length;if(C===0)return"";var c=0;while(c<C){var i=e.charAt(C-c-1);if(i===n&&!J0)c++;else if(i!==n&&J0)c++;else break}return e.slice(0,C-c)}function y(e,n){if(e.indexOf(n[1])===-1)return-1;var J0=e.length,C=0,c=0;for(;c<J0;c++)if(e[c]==="\\")c++;else if(e[c]===n[0])C++;else if(e[c]===n[1]){if(C--,C<0)return c}return-1}function b(e){if(e&&e.sanitize&&!e.silent)console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function h(e,n){if(n<1)return"";var J0="";while(n>1){if(n&1)J0+=e;n>>=1,e+=e}return J0+e}function u(e,n,J0,C){var c=n.href,i=n.title?K(n.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){C.state.inLink=!0;var G0={type:"link",raw:J0,href:c,title:i,text:a,tokens:C.inlineTokens(a)};return C.state.inLink=!1,G0}return{type:"image",raw:J0,href:c,title:i,text:K(a)}}function $0(e,n){var J0=e.match(/^(\s+)(?:```)/);if(J0===null)return n;var C=J0[1];return n.split(`
`).map(function(c){var i=c.match(/^\s+/);if(i===null)return c;var a=i[0];if(a.length>=C.length)return c.slice(C.length);return c}).join(`
`)}var Z0=function(){function e(J0){this.options=J0||$.defaults}var n=e.prototype;return n.space=function(C){var c=this.rules.block.newline.exec(C);if(c&&c[0].length>0)return{type:"space",raw:c[0]}},n.code=function(C){var c=this.rules.block.code.exec(C);if(c){var i=c[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:c[0],codeBlockStyle:"indented",text:!this.options.pedantic?d(i,`
`):i}}},n.fences=function(C){var c=this.rules.block.fences.exec(C);if(c){var i=c[0],a=$0(i,c[3]||"");return{type:"code",raw:i,lang:c[2]?c[2].trim():c[2],text:a}}},n.heading=function(C){var c=this.rules.block.heading.exec(C);if(c){var i=c[2].trim();if(/#$/.test(i)){var a=d(i,"#");if(this.options.pedantic)i=a.trim();else if(!a||/ $/.test(a))i=a.trim()}return{type:"heading",raw:c[0],depth:c[1].length,text:i,tokens:this.lexer.inline(i)}}},n.hr=function(C){var c=this.rules.block.hr.exec(C);if(c)return{type:"hr",raw:c[0]}},n.blockquote=function(C){var c=this.rules.block.blockquote.exec(C);if(c){var i=c[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:c[0],tokens:this.lexer.blockTokens(i,[]),text:i}}},n.list=function(C){var c=this.rules.block.list.exec(C);if(c){var i,a,G0,K0,I0,k0,z1,Y1,$6,c1,t0,C6,R6=c[1].trim(),C7=R6.length>1,v1={type:"list",raw:"",ordered:C7,start:C7?+R6.slice(0,-1):"",loose:!1,items:[]};if(R6=C7?"\\d{1,9}\\"+R6.slice(-1):"\\"+R6,this.options.pedantic)R6=C7?R6:"[*+-]";var U5=new RegExp("^( {0,3}"+R6+")((?:[\t ][^\\n]*)?(?:\\n|$))");while(C){if(C6=!1,!(c=U5.exec(C)))break;if(this.rules.block.hr.test(C))break;if(i=c[0],C=C.substring(i.length),Y1=c[2].split(`
`,1)[0],$6=C.split(`
`,1)[0],this.options.pedantic)K0=2,t0=Y1.trimLeft();else K0=c[2].search(/[^ ]/),K0=K0>4?1:K0,t0=Y1.slice(K0),K0+=c[1].length;if(k0=!1,!Y1&&/^ *$/.test($6))i+=$6+`
`,C=C.substring($6.length+1),C6=!0;if(!C6){var OZ=new RegExp("^ {0,"+Math.min(3,K0-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),_Z=new RegExp("^ {0,"+Math.min(3,K0-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),e4=new RegExp("^ {0,"+Math.min(3,K0-1)+"}(?:```|~~~)"),fX=new RegExp("^ {0,"+Math.min(3,K0-1)+"}#");while(C){if(c1=C.split(`
`,1)[0],Y1=c1,this.options.pedantic)Y1=Y1.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(e4.test(Y1))break;if(fX.test(Y1))break;if(OZ.test(Y1))break;if(_Z.test(C))break;if(Y1.search(/[^ ]/)>=K0||!Y1.trim())t0+=`
`+Y1.slice(K0);else if(!k0)t0+=`
`+Y1;else break;if(!k0&&!Y1.trim())k0=!0;i+=c1+`
`,C=C.substring(c1.length+1)}}if(!v1.loose){if(z1)v1.loose=!0;else if(/\n *\n *$/.test(i))z1=!0}if(this.options.gfm){if(a=/^\[[ xX]\] /.exec(t0),a)G0=a[0]!=="[ ] ",t0=t0.replace(/^\[[ xX]\] +/,"")}v1.items.push({type:"list_item",raw:i,task:!!a,checked:G0,loose:!1,text:t0}),v1.raw+=i}v1.items[v1.items.length-1].raw=i.trimRight(),v1.items[v1.items.length-1].text=t0.trimRight(),v1.raw=v1.raw.trimRight();var NZ=v1.items.length;for(I0=0;I0<NZ;I0++){this.lexer.state.top=!1,v1.items[I0].tokens=this.lexer.blockTokens(v1.items[I0].text,[]);var TZ=v1.items[I0].tokens.filter(function(wZ){return wZ.type==="space"}),CG=TZ.every(function(wZ){var iR=wZ.raw.split(""),tJ=0;for(var pU=G(iR),mU;!(mU=pU()).done;){var RW=mU.value;if(RW===`
`)tJ+=1;if(tJ>1)return!0}return!1});if(!v1.loose&&TZ.length&&CG)v1.loose=!0,v1.items[I0].loose=!0}return v1}},n.html=function(C){var c=this.rules.block.html.exec(C);if(c){var i={type:"html",raw:c[0],pre:!this.options.sanitizer&&(c[1]==="pre"||c[1]==="script"||c[1]==="style"),text:c[0]};if(this.options.sanitize){var a=this.options.sanitizer?this.options.sanitizer(c[0]):K(c[0]);i.type="paragraph",i.text=a,i.tokens=this.lexer.inline(a)}return i}},n.def=function(C){var c=this.rules.block.def.exec(C);if(c){if(c[3])c[3]=c[3].substring(1,c[3].length-1);var i=c[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:i,raw:c[0],href:c[2],title:c[3]}}},n.table=function(C){var c=this.rules.block.table.exec(C);if(c){var i={type:"table",header:l(c[1]).map(function(z1){return{text:z1}}),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:c[3]&&c[3].trim()?c[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=c[0];var a=i.align.length,G0,K0,I0,k0;for(G0=0;G0<a;G0++)if(/^ *-+: *$/.test(i.align[G0]))i.align[G0]="right";else if(/^ *:-+: *$/.test(i.align[G0]))i.align[G0]="center";else if(/^ *:-+ *$/.test(i.align[G0]))i.align[G0]="left";else i.align[G0]=null;a=i.rows.length;for(G0=0;G0<a;G0++)i.rows[G0]=l(i.rows[G0],i.header.length).map(function(z1){return{text:z1}});a=i.header.length;for(K0=0;K0<a;K0++)i.header[K0].tokens=this.lexer.inline(i.header[K0].text);a=i.rows.length;for(K0=0;K0<a;K0++){k0=i.rows[K0];for(I0=0;I0<k0.length;I0++)k0[I0].tokens=this.lexer.inline(k0[I0].text)}return i}}},n.lheading=function(C){var c=this.rules.block.lheading.exec(C);if(c)return{type:"heading",raw:c[0],depth:c[2].charAt(0)==="="?1:2,text:c[1],tokens:this.lexer.inline(c[1])}},n.paragraph=function(C){var c=this.rules.block.paragraph.exec(C);if(c){var i=c[1].charAt(c[1].length-1)===`
`?c[1].slice(0,-1):c[1];return{type:"paragraph",raw:c[0],text:i,tokens:this.lexer.inline(i)}}},n.text=function(C){var c=this.rules.block.text.exec(C);if(c)return{type:"text",raw:c[0],text:c[0],tokens:this.lexer.inline(c[0])}},n.escape=function(C){var c=this.rules.inline.escape.exec(C);if(c)return{type:"escape",raw:c[0],text:K(c[1])}},n.tag=function(C){var c=this.rules.inline.tag.exec(C);if(c){if(!this.lexer.state.inLink&&/^<a /i.test(c[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(c[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0]))this.lexer.state.inRawBlock=!1;return{type:this.options.sanitize?"text":"html",raw:c[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):K(c[0]):c[0]}}},n.link=function(C){var c=this.rules.inline.link.exec(C);if(c){var i=c[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var a=d(i.slice(0,-1),"\\");if((i.length-a.length)%2===0)return}else{var G0=y(c[2],"()");if(G0>-1){var K0=c[0].indexOf("!")===0?5:4,I0=K0+c[1].length+G0;c[2]=c[2].substring(0,G0),c[0]=c[0].substring(0,I0).trim(),c[3]=""}}var k0=c[2],z1="";if(this.options.pedantic){var Y1=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(k0);if(Y1)k0=Y1[1],z1=Y1[3]}else z1=c[3]?c[3].slice(1,-1):"";if(k0=k0.trim(),/^</.test(k0))if(this.options.pedantic&&!/>$/.test(i))k0=k0.slice(1);else k0=k0.slice(1,-1);return u(c,{href:k0?k0.replace(this.rules.inline._escapes,"$1"):k0,title:z1?z1.replace(this.rules.inline._escapes,"$1"):z1},c[0],this.lexer)}},n.reflink=function(C,c){var i;if((i=this.rules.inline.reflink.exec(C))||(i=this.rules.inline.nolink.exec(C))){var a=(i[2]||i[1]).replace(/\s+/g," ");if(a=c[a.toLowerCase()],!a||!a.href){var G0=i[0].charAt(0);return{type:"text",raw:G0,text:G0}}return u(i,a,i[0],this.lexer)}},n.emStrong=function(C,c,i){if(i===void 0)i="";var a=this.rules.inline.emStrong.lDelim.exec(C);if(!a)return;if(a[3]&&i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))return;var G0=a[1]||a[2]||"";if(!G0||G0&&(i===""||this.rules.inline.punctuation.exec(i))){var K0=a[0].length-1,I0,k0,z1=K0,Y1=0,$6=a[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;$6.lastIndex=0,c=c.slice(-1*C.length+K0);while((a=$6.exec(c))!=null){if(I0=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!I0)continue;if(k0=I0.length,a[3]||a[4]){z1+=k0;continue}else if(a[5]||a[6]){if(K0%3&&!((K0+k0)%3)){Y1+=k0;continue}}if(z1-=k0,z1>0)continue;if(k0=Math.min(k0,k0+z1+Y1),Math.min(K0,k0)%2){var c1=C.slice(1,K0+a.index+k0);return{type:"em",raw:C.slice(0,K0+a.index+k0+1),text:c1,tokens:this.lexer.inlineTokens(c1)}}var t0=C.slice(2,K0+a.index+k0-1);return{type:"strong",raw:C.slice(0,K0+a.index+k0+1),text:t0,tokens:this.lexer.inlineTokens(t0)}}}},n.codespan=function(C){var c=this.rules.inline.code.exec(C);if(c){var i=c[2].replace(/\n/g," "),a=/[^ ]/.test(i),G0=/^ /.test(i)&&/ $/.test(i);if(a&&G0)i=i.substring(1,i.length-1);return i=K(i,!0),{type:"codespan",raw:c[0],text:i}}},n.br=function(C){var c=this.rules.inline.br.exec(C);if(c)return{type:"br",raw:c[0]}},n.del=function(C){var c=this.rules.inline.del.exec(C);if(c)return{type:"del",raw:c[0],text:c[2],tokens:this.lexer.inlineTokens(c[2])}},n.autolink=function(C,c){var i=this.rules.inline.autolink.exec(C);if(i){var a,G0;if(i[2]==="@")a=K(this.options.mangle?c(i[1]):i[1]),G0="mailto:"+a;else a=K(i[1]),G0=a;return{type:"link",raw:i[0],text:a,href:G0,tokens:[{type:"text",raw:a,text:a}]}}},n.url=function(C,c){var i;if(i=this.rules.inline.url.exec(C)){var a,G0;if(i[2]==="@")a=K(this.options.mangle?c(i[0]):i[0]),G0="mailto:"+a;else{var K0;do K0=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(K0!==i[0]);if(a=K(i[0]),i[1]==="www.")G0="http://"+a;else G0=a}return{type:"link",raw:i[0],text:a,href:G0,tokens:[{type:"text",raw:a,text:a}]}}},n.inlineText=function(C,c){var i=this.rules.inline.text.exec(C);if(i){var a;if(this.lexer.state.inRawBlock)a=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):K(i[0]):i[0];else a=K(this.options.smartypants?c(i[0]):i[0]);return{type:"text",raw:i[0],text:a}}},e}(),U0={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:x,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};U0._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,U0._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,U0.def=R(U0.def).replace("label",U0._label).replace("title",U0._title).getRegex(),U0.bullet=/(?:[*+-]|\d{1,9}[.)])/,U0.listItemStart=R(/^( *)(bull) */).replace("bull",U0.bullet).getRegex(),U0.list=R(U0.list).replace(/bull/g,U0.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U0.def.source+")").getRegex(),U0._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U0._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,U0.html=R(U0.html,"i").replace("comment",U0._comment).replace("tag",U0._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U0.paragraph=R(U0._paragraph).replace("hr",U0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U0._tag).getRegex(),U0.blockquote=R(U0.blockquote).replace("paragraph",U0.paragraph).getRegex(),U0.normal=S({},U0),U0.gfm=S({},U0.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),U0.gfm.table=R(U0.gfm.table).replace("hr",U0.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U0._tag).getRegex(),U0.gfm.paragraph=R(U0._paragraph).replace("hr",U0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",U0.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U0._tag).getRegex(),U0.pedantic=S({},U0.normal,{html:R(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U0._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:x,paragraph:R(U0.normal._paragraph).replace("hr",U0.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",U0.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Q0={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:x,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:x,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Q0._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Q0.punctuation=R(Q0.punctuation).replace(/punctuation/g,Q0._punctuation).getRegex(),Q0.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Q0.escapedEmSt=/\\\*|\\_/g,Q0._comment=R(U0._comment).replace("(?:-->|$)","-->").getRegex(),Q0.emStrong.lDelim=R(Q0.emStrong.lDelim).replace(/punct/g,Q0._punctuation).getRegex(),Q0.emStrong.rDelimAst=R(Q0.emStrong.rDelimAst,"g").replace(/punct/g,Q0._punctuation).getRegex(),Q0.emStrong.rDelimUnd=R(Q0.emStrong.rDelimUnd,"g").replace(/punct/g,Q0._punctuation).getRegex(),Q0._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Q0._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Q0._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Q0.autolink=R(Q0.autolink).replace("scheme",Q0._scheme).replace("email",Q0._email).getRegex(),Q0._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Q0.tag=R(Q0.tag).replace("comment",Q0._comment).replace("attribute",Q0._attribute).getRegex(),Q0._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Q0._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Q0._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Q0.link=R(Q0.link).replace("label",Q0._label).replace("href",Q0._href).replace("title",Q0._title).getRegex(),Q0.reflink=R(Q0.reflink).replace("label",Q0._label).replace("ref",U0._label).getRegex(),Q0.nolink=R(Q0.nolink).replace("ref",U0._label).getRegex(),Q0.reflinkSearch=R(Q0.reflinkSearch,"g").replace("reflink",Q0.reflink).replace("nolink",Q0.nolink).getRegex(),Q0.normal=S({},Q0),Q0.pedantic=S({},Q0.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:R(/^!?\[(label)\]\((.*?)\)/).replace("label",Q0._label).getRegex(),reflink:R(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Q0._label).getRegex()}),Q0.gfm=S({},Q0.normal,{escape:R(Q0.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Q0.gfm.url=R(Q0.gfm.url,"i").replace("email",Q0.gfm._extended_email).getRegex(),Q0.breaks=S({},Q0.gfm,{br:R(Q0.br).replace("{2,}","*").getRegex(),text:R(Q0.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function o(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function m(e){var n="",J0,C,c=e.length;for(J0=0;J0<c;J0++){if(C=e.charCodeAt(J0),Math.random()>0.5)C="x"+C.toString(16);n+="&#"+C+";"}return n}var A0=function(){function e(J0){this.tokens=[],this.tokens.links=Object.create(null),this.options=J0||$.defaults,this.options.tokenizer=this.options.tokenizer||new Z0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var C={block:U0.normal,inline:Q0.normal};if(this.options.pedantic)C.block=U0.pedantic,C.inline=Q0.pedantic;else if(this.options.gfm)if(C.block=U0.gfm,this.options.breaks)C.inline=Q0.breaks;else C.inline=Q0.gfm;this.tokenizer.rules=C}e.lex=function(C,c){var i=new e(c);return i.lex(C)},e.lexInline=function(C,c){var i=new e(c);return i.inlineTokens(C)};var n=e.prototype;return n.lex=function(C){C=C.replace(/\r\n|\r/g,`
`),this.blockTokens(C,this.tokens);var c;while(c=this.inlineQueue.shift())this.inlineTokens(c.src,c.tokens);return this.tokens},n.blockTokens=function(C,c){var i=this;if(c===void 0)c=[];if(this.options.pedantic)C=C.replace(/\t/g,"    ").replace(/^ +$/gm,"");else C=C.replace(/^( *)(\t+)/gm,function(z1,Y1,$6){return Y1+"    ".repeat($6.length)});var a,G0,K0,I0;while(C){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(z1){if(a=z1.call({lexer:i},C,c))return C=C.substring(a.raw.length),c.push(a),!0;return!1}))continue;if(a=this.tokenizer.space(C)){if(C=C.substring(a.raw.length),a.raw.length===1&&c.length>0)c[c.length-1].raw+=`
`;else c.push(a);continue}if(a=this.tokenizer.code(C)){if(C=C.substring(a.raw.length),G0=c[c.length-1],G0&&(G0.type==="paragraph"||G0.type==="text"))G0.raw+=`
`+a.raw,G0.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=G0.text;else c.push(a);continue}if(a=this.tokenizer.fences(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.heading(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.hr(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.blockquote(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.list(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.html(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.def(C)){if(C=C.substring(a.raw.length),G0=c[c.length-1],G0&&(G0.type==="paragraph"||G0.type==="text"))G0.raw+=`
`+a.raw,G0.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=G0.text;else if(!this.tokens.links[a.tag])this.tokens.links[a.tag]={href:a.href,title:a.title};continue}if(a=this.tokenizer.table(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.lheading(C)){C=C.substring(a.raw.length),c.push(a);continue}if(K0=C,this.options.extensions&&this.options.extensions.startBlock)(function(){var z1=1/0,Y1=C.slice(1),$6=void 0;if(i.options.extensions.startBlock.forEach(function(c1){if($6=c1.call({lexer:this},Y1),typeof $6==="number"&&$6>=0)z1=Math.min(z1,$6)}),z1<1/0&&z1>=0)K0=C.substring(0,z1+1)})();if(this.state.top&&(a=this.tokenizer.paragraph(K0))){if(G0=c[c.length-1],I0&&G0.type==="paragraph")G0.raw+=`
`+a.raw,G0.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=G0.text;else c.push(a);I0=K0.length!==C.length,C=C.substring(a.raw.length);continue}if(a=this.tokenizer.text(C)){if(C=C.substring(a.raw.length),G0=c[c.length-1],G0&&G0.type==="text")G0.raw+=`
`+a.raw,G0.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=G0.text;else c.push(a);continue}if(C){var k0="Infinite loop on byte: "+C.charCodeAt(0);if(this.options.silent){console.error(k0);break}else throw Error(k0)}}return this.state.top=!0,c},n.inline=function(C,c){if(c===void 0)c=[];return this.inlineQueue.push({src:C,tokens:c}),c},n.inlineTokens=function(C,c){var i=this;if(c===void 0)c=[];var a,G0,K0,I0=C,k0,z1,Y1;if(this.tokens.links){var $6=Object.keys(this.tokens.links);if($6.length>0){while((k0=this.tokenizer.rules.inline.reflinkSearch.exec(I0))!=null)if($6.includes(k0[0].slice(k0[0].lastIndexOf("[")+1,-1)))I0=I0.slice(0,k0.index)+"["+h("a",k0[0].length-2)+"]"+I0.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((k0=this.tokenizer.rules.inline.blockSkip.exec(I0))!=null)I0=I0.slice(0,k0.index)+"["+h("a",k0[0].length-2)+"]"+I0.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((k0=this.tokenizer.rules.inline.escapedEmSt.exec(I0))!=null)I0=I0.slice(0,k0.index)+"++"+I0.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);while(C){if(!z1)Y1="";if(z1=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(t0){if(a=t0.call({lexer:i},C,c))return C=C.substring(a.raw.length),c.push(a),!0;return!1}))continue;if(a=this.tokenizer.escape(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.tag(C)){if(C=C.substring(a.raw.length),G0=c[c.length-1],G0&&a.type==="text"&&G0.type==="text")G0.raw+=a.raw,G0.text+=a.text;else c.push(a);continue}if(a=this.tokenizer.link(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.reflink(C,this.tokens.links)){if(C=C.substring(a.raw.length),G0=c[c.length-1],G0&&a.type==="text"&&G0.type==="text")G0.raw+=a.raw,G0.text+=a.text;else c.push(a);continue}if(a=this.tokenizer.emStrong(C,I0,Y1)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.codespan(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.br(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.del(C)){C=C.substring(a.raw.length),c.push(a);continue}if(a=this.tokenizer.autolink(C,m)){C=C.substring(a.raw.length),c.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(C,m))){C=C.substring(a.raw.length),c.push(a);continue}if(K0=C,this.options.extensions&&this.options.extensions.startInline)(function(){var t0=1/0,C6=C.slice(1),R6=void 0;if(i.options.extensions.startInline.forEach(function(C7){if(R6=C7.call({lexer:this},C6),typeof R6==="number"&&R6>=0)t0=Math.min(t0,R6)}),t0<1/0&&t0>=0)K0=C.substring(0,t0+1)})();if(a=this.tokenizer.inlineText(K0,o)){if(C=C.substring(a.raw.length),a.raw.slice(-1)!=="_")Y1=a.raw.slice(-1);if(z1=!0,G0=c[c.length-1],G0&&G0.type==="text")G0.raw+=a.raw,G0.text+=a.text;else c.push(a);continue}if(C){var c1="Infinite loop on byte: "+C.charCodeAt(0);if(this.options.silent){console.error(c1);break}else throw Error(c1)}}return c},X(e,null,[{key:"rules",get:function(){return{block:U0,inline:Q0}}}]),e}(),z0=function(){function e(J0){this.options=J0||$.defaults}var n=e.prototype;return n.code=function(C,c,i){var a=(c||"").match(/\S*/)[0];if(this.options.highlight){var G0=this.options.highlight(C,a);if(G0!=null&&G0!==C)i=!0,C=G0}if(C=C.replace(/\n$/,"")+`
`,!a)return"<pre><code>"+(i?C:K(C,!0))+`</code></pre>
`;return'<pre><code class="'+this.options.langPrefix+K(a,!0)+'">'+(i?C:K(C,!0))+`</code></pre>
`},n.blockquote=function(C){return`<blockquote>
`+C+`</blockquote>
`},n.html=function(C){return C},n.heading=function(C,c,i,a){if(this.options.headerIds){var G0=this.options.headerPrefix+a.slug(i);return"<h"+c+' id="'+G0+'">'+C+"</h"+c+`>
`}return"<h"+c+">"+C+"</h"+c+`>
`},n.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},n.list=function(C,c,i){var a=c?"ol":"ul",G0=c&&i!==1?' start="'+i+'"':"";return"<"+a+G0+`>
`+C+"</"+a+`>
`},n.listitem=function(C){return"<li>"+C+`</li>
`},n.checkbox=function(C){return"<input "+(C?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(C){return"<p>"+C+`</p>
`},n.table=function(C,c){if(c)c="<tbody>"+c+"</tbody>";return`<table>
<thead>
`+C+`</thead>
`+c+`</table>
`},n.tablerow=function(C){return`<tr>
`+C+`</tr>
`},n.tablecell=function(C,c){var i=c.header?"th":"td",a=c.align?"<"+i+' align="'+c.align+'">':"<"+i+">";return a+C+("</"+i+`>
`)},n.strong=function(C){return"<strong>"+C+"</strong>"},n.em=function(C){return"<em>"+C+"</em>"},n.codespan=function(C){return"<code>"+C+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(C){return"<del>"+C+"</del>"},n.link=function(C,c,i){if(C=O(this.options.sanitize,this.options.baseUrl,C),C===null)return i;var a='<a href="'+K(C)+'"';if(c)a+=' title="'+c+'"';return a+=">"+i+"</a>",a},n.image=function(C,c,i){if(C=O(this.options.sanitize,this.options.baseUrl,C),C===null)return i;var a='<img src="'+C+'" alt="'+i+'"';if(c)a+=' title="'+c+'"';return a+=this.options.xhtml?"/>":">",a},n.text=function(C){return C},e}(),h0=function(){function e(){}var n=e.prototype;return n.strong=function(C){return C},n.em=function(C){return C},n.codespan=function(C){return C},n.del=function(C){return C},n.html=function(C){return C},n.text=function(C){return C},n.link=function(C,c,i){return""+i},n.image=function(C,c,i){return""+i},n.br=function(){return""},e}(),N0=function(){function e(){this.seen={}}var n=e.prototype;return n.serialize=function(C){return C.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},n.getNextSafeSlug=function(C,c){var i=C,a=0;if(this.seen.hasOwnProperty(i)){a=this.seen[C];do a++,i=C+"-"+a;while(this.seen.hasOwnProperty(i))}if(!c)this.seen[C]=a,this.seen[i]=0;return i},n.slug=function(C,c){if(c===void 0)c={};var i=this.serialize(C);return this.getNextSafeSlug(i,c.dryrun)},e}(),w1=function(){function e(J0){this.options=J0||$.defaults,this.options.renderer=this.options.renderer||new z0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new h0,this.slugger=new N0}e.parse=function(C,c){var i=new e(c);return i.parse(C)},e.parseInline=function(C,c){var i=new e(c);return i.parseInline(C)};var n=e.prototype;return n.parse=function(C,c){if(c===void 0)c=!0;var i="",a,G0,K0,I0,k0,z1,Y1,$6,c1,t0,C6,R6,C7,v1,U5,OZ,_Z,e4,fX,NZ=C.length;for(a=0;a<NZ;a++){if(t0=C[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[t0.type]){if(fX=this.options.extensions.renderers[t0.type].call({parser:this},t0),fX!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t0.type)){i+=fX||"";continue}}switch(t0.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(t0.tokens),t0.depth,F(this.parseInline(t0.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(t0.text,t0.lang,t0.escaped);continue}case"table":{$6="",Y1="",I0=t0.header.length;for(G0=0;G0<I0;G0++)Y1+=this.renderer.tablecell(this.parseInline(t0.header[G0].tokens),{header:!0,align:t0.align[G0]});$6+=this.renderer.tablerow(Y1),c1="",I0=t0.rows.length;for(G0=0;G0<I0;G0++){z1=t0.rows[G0],Y1="",k0=z1.length;for(K0=0;K0<k0;K0++)Y1+=this.renderer.tablecell(this.parseInline(z1[K0].tokens),{header:!1,align:t0.align[K0]});c1+=this.renderer.tablerow(Y1)}i+=this.renderer.table($6,c1);continue}case"blockquote":{c1=this.parse(t0.tokens),i+=this.renderer.blockquote(c1);continue}case"list":{C6=t0.ordered,R6=t0.start,C7=t0.loose,I0=t0.items.length,c1="";for(G0=0;G0<I0;G0++){if(U5=t0.items[G0],OZ=U5.checked,_Z=U5.task,v1="",U5.task)if(e4=this.renderer.checkbox(OZ),C7)if(U5.tokens.length>0&&U5.tokens[0].type==="paragraph"){if(U5.tokens[0].text=e4+" "+U5.tokens[0].text,U5.tokens[0].tokens&&U5.tokens[0].tokens.length>0&&U5.tokens[0].tokens[0].type==="text")U5.tokens[0].tokens[0].text=e4+" "+U5.tokens[0].tokens[0].text}else U5.tokens.unshift({type:"text",text:e4});else v1+=e4;v1+=this.parse(U5.tokens,C7),c1+=this.renderer.listitem(v1,_Z,OZ)}i+=this.renderer.list(c1,C6,R6);continue}case"html":{i+=this.renderer.html(t0.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(t0.tokens));continue}case"text":{c1=t0.tokens?this.parseInline(t0.tokens):t0.text;while(a+1<NZ&&C[a+1].type==="text")t0=C[++a],c1+=`
`+(t0.tokens?this.parseInline(t0.tokens):t0.text);i+=c?this.renderer.paragraph(c1):c1;continue}default:{var TZ='Token with "'+t0.type+'" type was not found.';if(this.options.silent){console.error(TZ);return}else throw Error(TZ)}}}return i},n.parseInline=function(C,c){c=c||this.renderer;var i="",a,G0,K0,I0=C.length;for(a=0;a<I0;a++){if(G0=C[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[G0.type]){if(K0=this.options.extensions.renderers[G0.type].call({parser:this},G0),K0!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(G0.type)){i+=K0||"";continue}}switch(G0.type){case"escape":{i+=c.text(G0.text);break}case"html":{i+=c.html(G0.text);break}case"link":{i+=c.link(G0.href,G0.title,this.parseInline(G0.tokens,c));break}case"image":{i+=c.image(G0.href,G0.title,G0.text);break}case"strong":{i+=c.strong(this.parseInline(G0.tokens,c));break}case"em":{i+=c.em(this.parseInline(G0.tokens,c));break}case"codespan":{i+=c.codespan(G0.text);break}case"br":{i+=c.br();break}case"del":{i+=c.del(this.parseInline(G0.tokens,c));break}case"text":{i+=c.text(G0.text);break}default:{var k0='Token with "'+G0.type+'" type was not found.';if(this.options.silent){console.error(k0);return}else throw Error(k0)}}}return i},e}();function R0(e,n,J0){if(typeof e>"u"||e===null)throw Error("marked(): input parameter is undefined or null");if(typeof e!=="string")throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof n==="function")J0=n,n=null;if(n=S({},R0.defaults,n||{}),b(n),J0){var C=n.highlight,c;try{c=A0.lex(e,n)}catch(I0){return J0(I0)}var i=function(k0){var z1;if(!k0)try{if(n.walkTokens)R0.walkTokens(c,n.walkTokens);z1=w1.parse(c,n)}catch(Y1){k0=Y1}return n.highlight=C,k0?J0(k0):J0(null,z1)};if(!C||C.length<3)return i();if(delete n.highlight,!c.length)return i();var a=0;if(R0.walkTokens(c,function(I0){if(I0.type==="code")a++,setTimeout(function(){C(I0.text,I0.lang,function(k0,z1){if(k0)return i(k0);if(z1!=null&&z1!==I0.text)I0.text=z1,I0.escaped=!0;if(a--,a===0)i()})},0)}),a===0)i();return}function G0(I0){if(I0.message+=`
Please report this to https://github.com/markedjs/marked.`,n.silent)return"<p>An error occurred:</p><pre>"+K(I0.message+"",!0)+"</pre>";throw I0}try{var K0=A0.lex(e,n);if(n.walkTokens){if(n.async)return Promise.all(R0.walkTokens(K0,n.walkTokens)).then(function(){return w1.parse(K0,n)}).catch(G0);R0.walkTokens(K0,n.walkTokens)}return w1.parse(K0,n)}catch(I0){G0(I0)}}R0.options=R0.setOptions=function(e){return S(R0.defaults,e),U(R0.defaults),R0},R0.getDefaults=q,R0.defaults=$.defaults,R0.use=function(){for(var e=arguments.length,n=Array(e),J0=0;J0<e;J0++)n[J0]=arguments[J0];var C=S.apply(void 0,[{}].concat(n)),c=R0.defaults.extensions||{renderers:{},childTokens:{}},i;n.forEach(function(a){if(a.extensions)i=!0,a.extensions.forEach(function(K0){if(!K0.name)throw Error("extension name required");if(K0.renderer){var I0=c.renderers?c.renderers[K0.name]:null;if(I0)c.renderers[K0.name]=function(){for(var k0=arguments.length,z1=Array(k0),Y1=0;Y1<k0;Y1++)z1[Y1]=arguments[Y1];var $6=K0.renderer.apply(this,z1);if($6===!1)$6=I0.apply(this,z1);return $6};else c.renderers[K0.name]=K0.renderer}if(K0.tokenizer){if(!K0.level||K0.level!=="block"&&K0.level!=="inline")throw Error("extension level must be 'block' or 'inline'");if(c[K0.level])c[K0.level].unshift(K0.tokenizer);else c[K0.level]=[K0.tokenizer];if(K0.start){if(K0.level==="block")if(c.startBlock)c.startBlock.push(K0.start);else c.startBlock=[K0.start];else if(K0.level==="inline")if(c.startInline)c.startInline.push(K0.start);else c.startInline=[K0.start]}}if(K0.childTokens)c.childTokens[K0.name]=K0.childTokens});if(a.renderer)(function(){var K0=R0.defaults.renderer||new z0,I0=function(Y1){var $6=K0[Y1];K0[Y1]=function(){for(var c1=arguments.length,t0=Array(c1),C6=0;C6<c1;C6++)t0[C6]=arguments[C6];var R6=a.renderer[Y1].apply(K0,t0);if(R6===!1)R6=$6.apply(K0,t0);return R6}};for(var k0 in a.renderer)I0(k0);C.renderer=K0})();if(a.tokenizer)(function(){var K0=R0.defaults.tokenizer||new Z0,I0=function(Y1){var $6=K0[Y1];K0[Y1]=function(){for(var c1=arguments.length,t0=Array(c1),C6=0;C6<c1;C6++)t0[C6]=arguments[C6];var R6=a.tokenizer[Y1].apply(K0,t0);if(R6===!1)R6=$6.apply(K0,t0);return R6}};for(var k0 in a.tokenizer)I0(k0);C.tokenizer=K0})();if(a.walkTokens){var G0=R0.defaults.walkTokens;C.walkTokens=function(K0){var I0=[];if(I0.push(a.walkTokens.call(this,K0)),G0)I0=I0.concat(G0.call(this,K0));return I0}}if(i)C.extensions=c;R0.setOptions(C)})},R0.walkTokens=function(e,n){var J0=[],C=function(){var G0=i.value;switch(J0=J0.concat(n.call(R0,G0)),G0.type){case"table":{for(var K0=G(G0.header),I0;!(I0=K0()).done;){var k0=I0.value;J0=J0.concat(R0.walkTokens(k0.tokens,n))}for(var z1=G(G0.rows),Y1;!(Y1=z1()).done;){var $6=Y1.value;for(var c1=G($6),t0;!(t0=c1()).done;){var C6=t0.value;J0=J0.concat(R0.walkTokens(C6.tokens,n))}}break}case"list":{J0=J0.concat(R0.walkTokens(G0.items,n));break}default:if(R0.defaults.extensions&&R0.defaults.extensions.childTokens&&R0.defaults.extensions.childTokens[G0.type])R0.defaults.extensions.childTokens[G0.type].forEach(function(R6){J0=J0.concat(R0.walkTokens(G0[R6],n))});else if(G0.tokens)J0=J0.concat(R0.walkTokens(G0.tokens,n))}};for(var c=G(e),i;!(i=c()).done;)C();return J0},R0.parseInline=function(e,n){if(typeof e>"u"||e===null)throw Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!=="string")throw Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");n=S({},R0.defaults,n||{}),b(n);try{var J0=A0.lexInline(e,n);if(n.walkTokens)R0.walkTokens(J0,n.walkTokens);return w1.parseInline(J0,n)}catch(C){if(C.message+=`
Please report this to https://github.com/markedjs/marked.`,n.silent)return"<p>An error occurred:</p><pre>"+K(C.message+"",!0)+"</pre>";throw C}},R0.Parser=w1,R0.parser=w1.parse,R0.Renderer=z0,R0.TextRenderer=h0,R0.Lexer=A0,R0.lexer=A0.lex,R0.Tokenizer=Z0,R0.Slugger=N0,R0.parse=R0;var{options:u1,setOptions:W6,use:S6,walkTokens:O1,parseInline:T6}=R0,g1=R0,a1=w1.parse,t1=A0.lex;$.Lexer=A0,$.Parser=w1,$.Renderer=z0,$.Slugger=N0,$.TextRenderer=h0,$.Tokenizer=Z0,$.getDefaults=q,$.lexer=t1,$.marked=R0,$.options=u1,$.parse=g1,$.parseInline=T6,$.parser=a1,$.setOptions=W6,$.use=S6,$.walkTokens=O1,Object.defineProperty($,"__esModule",{value:!0})})})();G40=j7.Lexer||Rk.Lexer,q40=j7.Parser||Rk.Parser,U40=j7.Renderer||Rk.Renderer,z40=j7.Slugger||Rk.Slugger,H40=j7.TextRenderer||Rk.TextRenderer,j40=j7.Tokenizer||Rk.Tokenizer,V40=j7.getDefaults||Rk.getDefaults,W40=j7.lexer||Rk.lexer,u4=j7.marked||Rk.marked,B40=j7.options||Rk.options,F40=j7.parse||Rk.parse,K40=j7.parseInline||Rk.parseInline,A40=j7.parser||Rk.parser,P40=j7.setOptions||Rk.setOptions,D40=j7.use||Rk.use,R40=j7.walkTokens||Rk.walkTokens});function dd(J){return JSON.stringify(J,O40)}function wj(J){let $=JSON.parse(J);return $=Mk($),$}function O40(J,$){if($ instanceof RegExp)return{$mid:2,source:$.source,flags:$.flags};return $}function Mk(J,$=0){if(!J||$>200)return J;if(typeof J==="object"){switch(J.$mid){case 1:return m0.revive(J);case 2:return new RegExp(J.source,J.flags);case 17:return new Date(J.source)}if(J instanceof SF||J instanceof Uint8Array)return J;if(Array.isArray(J))for(let Q=0;Q<J.length;++Q)J[Q]=Mk(J[Q],$+1);else for(let Q in J)if(Object.hasOwnProperty.call(J,Q))J[Q]=Mk(J[Q],$+1)}return J}var FP=E(()=>{pz();V5()});function Sq(J,$={},Q={}){var X,Y;let Z=new q0,G=!1,q=qP($),U=function(F){let P;try{P=wj(decodeURIComponent(F))}catch(R){}if(!P)return F;return P=IW(P,(R)=>{if(J.uris&&J.uris[R])return m0.revive(J.uris[R]);else return}),encodeURIComponent(JSON.stringify(P))},z=function(F,P){let R=J.uris&&J.uris[F],D=m0.revive(R);if(P){if(F.startsWith(H1.data+":"))return F;if(!D)D=m0.parse(F);return OF.uriToBrowserUri(D).toString(!0)}if(!D)return F;if(m0.parse(F).toString()===D.toString())return F;if(D.query)D=D.with({query:U(D.query)});return D.toString()},H=new u4.Renderer;H.image=Ok.image,H.link=Ok.link,H.paragraph=Ok.paragraph;let j=[],B=[];if($.codeBlockRendererSync)H.code=(F,P)=>{let R=Pk.nextId(),D=$.codeBlockRendererSync(sd(P),F);return B.push([R,D]),`<div class="code" data-code="${R}">${uZ(F)}</div>`};else if($.codeBlockRenderer)H.code=(F,P)=>{let R=Pk.nextId(),D=$.codeBlockRenderer(sd(P),F);return j.push(D.then((_)=>[R,_])),`<div class="code" data-code="${R}">${uZ(F)}</div>`};if($.actionHandler){let F=function(D){let _=D.target;if(_.tagName!=="A"){if(_=_.parentElement,!_||_.tagName!=="A")return}try{let O=_.dataset.href;if(O){if(J.baseUri)O=_k(m0.from(J.baseUri),O);$.actionHandler.callback(O,D)}}catch(O){Z1(O)}finally{D.preventDefault()}},P=$.actionHandler.disposables.add(new W1(q,"click")),R=$.actionHandler.disposables.add(new W1(q,"auxclick"));$.actionHandler.disposables.add(V0.any(P.event,R.event)((D)=>{let _=new j8(L0(q),D);if(!_.leftButton&&!_.middleButton)return;F(_)})),$.actionHandler.disposables.add(t(q,"keydown",(D)=>{let _=new _1(D);if(!_.equals(10)&&!_.equals(3))return;F(_)}))}if(!J.supportHtml)Q.sanitizer=(F)=>{return(J.isTrusted?F.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?F:""},Q.sanitize=!0,Q.silent=!0;Q.renderer=H;let V=(X=J.value)!==null&&X!==void 0?X:"";if(V.length>1e5)V=`${V.substr(0,1e5)}…`;if(J.supportThemeIcons)V=pd(V);let W;if($.fillInIncompleteTokens){let F={...u4.defaults,...Q},P=u4.lexer(V,F),R=E40(P);W=u4.parser(R,F)}else W=u4.parse(V,Q);if(J.supportThemeIcons)W=p4(W).map((P)=>typeof P==="string"?P:P.outerHTML).join("");let A=new DOMParser().parseFromString(Nk(J,W),"text/html");if(A.body.querySelectorAll("img").forEach((F)=>{let P=F.getAttribute("src");if(P){let R=P;try{if(J.baseUri)R=_k(m0.from(J.baseUri),R)}catch(D){}F.src=z(R,!0)}}),A.body.querySelectorAll("a").forEach((F)=>{let P=F.getAttribute("href");if(F.setAttribute("href",""),!P||/^data:|javascript:/i.test(P)||/^command:/i.test(P)&&!J.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(P))F.replaceWith(...F.childNodes);else{let R=z(P,!1);if(J.baseUri)R=_k(m0.from(J.baseUri),P);F.dataset.href=R}}),q.innerHTML=Nk(J,A.body.innerHTML),j.length>0)Promise.all(j).then((F)=>{var P,R;if(G)return;let D=new Map(F),_=q.querySelectorAll("div[data-code]");for(let O of _){let N=D.get((P=O.dataset.code)!==null&&P!==void 0?P:"");if(N)w5(O,N)}(R=$.asyncRenderCallback)===null||R===void 0||R.call($)});else if(B.length>0){let F=new Map(B),P=q.querySelectorAll("div[data-code]");for(let R of P){let D=F.get((Y=R.dataset.code)!==null&&Y!==void 0?Y:"");if(D)w5(R,D)}}if($.asyncRenderCallback)for(let F of q.getElementsByTagName("img")){let P=Z.add(t(F,"load",()=>{P.dispose(),$.asyncRenderCallback()}))}return{element:q,dispose:()=>{G=!0,Z.dispose()}}}function sd(J){if(!J)return"";let $=J.split(/[\s+|:|,|\{|\?]/,1);if($.length)return $[0];return J}function _k(J,$){if(/^\w[\w\d+.-]*:/.test($))return $;if(J.path.endsWith("/"))return Dw(J,$).toString();else return Dw(_A(J),$).toString()}function Nk(J,$){let{config:Q,allowedSchemes:X}=N40(J);Tz("uponSanitizeAttribute",(Z,G)=>{var q;if(G.attrName==="style"||G.attrName==="class"){if(Z.tagName==="SPAN"){if(G.attrName==="style"){G.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(G.attrValue);return}else if(G.attrName==="class"){G.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(G.attrValue);return}}G.keepAttr=!1;return}else if(Z.tagName==="INPUT"&&((q=Z.attributes.getNamedItem("type"))===null||q===void 0?void 0:q.value)==="checkbox"){if(G.attrName==="type"&&G.attrValue==="checkbox"||G.attrName==="disabled"||G.attrName==="checked"){G.keepAttr=!0;return}G.keepAttr=!1}}),Tz("uponSanitizeElement",(Z,G)=>{var q,U;if(G.tagName==="input")if(((q=Z.attributes.getNamedItem("type"))===null||q===void 0?void 0:q.value)==="checkbox")Z.setAttribute("disabled","");else(U=Z.parentElement)===null||U===void 0||U.removeChild(Z)});let Y=mC(X);try{return DF($,{...Q,RETURN_TRUSTED_TYPE:!0})}finally{RF("uponSanitizeAttribute"),Y.dispose()}}function N40(J){let $=[H1.http,H1.https,H1.mailto,H1.data,H1.file,H1.vscodeFileResource,H1.vscodeRemote,H1.vscodeRemoteResource];if(J.isTrusted)$.push(H1.command);return{config:{ALLOWED_TAGS:[...uC],ALLOWED_ATTR:_40,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:$}}function ad(J){return typeof J==="string"?J:T40(J)}function T40(J){var $;let Q=($=J.value)!==null&&$!==void 0?$:"";if(Q.length>1e5)Q=`${Q.substr(0,1e5)}…`;let X=u4.parse(Q,{renderer:L40.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(Y)=>{var Z;return(Z=w40.get(Y))!==null&&Z!==void 0?Z:Y});return Nk({isTrusted:!1},X).toString()}function Tk(J){let $="";return J.forEach((Q)=>{$+=Q.raw}),$}function k40(J){var $,Q;for(let X=0;X<J.tokens.length;X++){let Y=J.tokens[X];if(Y.type==="text"){let Z=Y.raw.split(`
`),G=Z[Z.length-1];if(G.includes("`"))return y40(J);else if(G.includes("**"))return h40(J);else if(G.match(/\*\w/))return x40(J);else if(G.match(/(^|\s)__\w/))return f40(J);else if(G.match(/(^|\s)_\w/))return b40(J);else if(G.match(/(^|\s)\[.*\]\(\w*/)){let q=J.tokens.slice(X+1);if((($=q[0])===null||$===void 0?void 0:$.type)==="link"&&((Q=q[1])===null||Q===void 0?void 0:Q.type)==="text"&&q[1].raw.match(/^ *"[^"]*$/))return C40(J);return S40(J)}else if(G.match(/(^|\s)\[\w/))return v40(J)}}return}function E40(J){let $,Q;for($=0;$<J.length;$++){let X=J[$];if(X.type==="paragraph"&&X.raw.match(/(\n|^)```/)){Q=I40(J.slice($));break}if(X.type==="paragraph"&&X.raw.match(/(\n|^)\|/)){Q=g40(J.slice($));break}if($===J.length-1&&X.type==="paragraph"){let Y=k40(X);if(Y){Q=[Y];break}}}if(Q){let X=[...J.slice(0,$),...Q];return X.links=J.links,X}return J}function I40(J){let $=Tk(J);return u4.lexer($+"\n```")}function y40(J){return dY(J,"`")}function x40(J){return dY(J,"*")}function b40(J){return dY(J,"_")}function S40(J){return dY(J,")")}function C40(J){return dY(J,'")')}function v40(J){return dY(J,"](about:blank)")}function h40(J){return dY(J,"**")}function f40(J){return dY(J,"__")}function dY(J,$){let Q=Tk(Array.isArray(J)?J:[J]);return u4.lexer(Q+$)[0]}function g40(J){let $=Tk(J),Q=$.split(`
`),X,Y=!1;for(let Z=0;Z<Q.length;Z++){let G=Q[Z].trim();if(typeof X>"u"&&G.match(/^\s*\|/)){let q=G.match(/(\|[^\|]+)(?=\||$)/g);if(q)X=q.length}else if(typeof X==="number")if(G.match(/^\s*\|/)){if(Z!==Q.length-1)return;Y=!0}else return}if(typeof X==="number"&&X>0){let Z=Y?Q.slice(0,-1).join(`
`):$,G=!!Z.match(/\|\s*$/),q=Z+(G?"":"|")+`
|${" --- |".repeat(X)}`;return u4.lexer(q)}return}var Ok,_40,w40,L40;var KP=E(()=>{x0();MF();IJ();Gk();k8();h9();o2();T1();E0();e2();xq();Dk();B0();ld();FP();K9();P7();u$();G1();V5();Ok=Object.freeze({image:(J,$,Q)=>{let X=[],Y=[];if(J)({href:J,dimensions:X}=cd(J)),Y.push(`src="${Tj(J)}"`);if(Q)Y.push(`alt="${Tj(Q)}"`);if($)Y.push(`title="${Tj($)}"`);if(X.length)Y=Y.concat(X);return"<img "+Y.join(" ")+">"},paragraph:(J)=>{return`<p>${J}</p>`},link:(J,$,Q)=>{if(typeof J!=="string")return"";if(J===Q)Q=WP(Q);return $=typeof $==="string"?Tj(WP($)):"",J=WP(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${$||J}" draggable="false">${Q}</a>`}});_40=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];w40=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),L40=new z9(()=>{let J=new u4.Renderer;return J.code=($)=>{return $},J.blockquote=($)=>{return $},J.html=($)=>{return""},J.heading=($,Q,X)=>{return $+`
`},J.hr=()=>{return""},J.list=($,Q)=>{return $},J.listitem=($)=>{return $+`
`},J.paragraph=($)=>{return $+`
`},J.table=($,Q)=>{return $+Q+`
`},J.tablerow=($)=>{return $},J.tablecell=($,Q)=>{return $+" "},J.strong=($)=>{return $},J.em=($)=>{return $},J.codespan=($)=>{return $},J.br=()=>{return`
`},J.del=($)=>{return $},J.image=($,Q,X)=>{return""},J.text=($)=>{return $},J.link=($,Q,X)=>{return X},J})});var rd=E(()=>{_0(".monaco-editor .rendered-markdown kbd{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);vertical-align:middle;border-radius:3px;padding:1px 3px}")});async function Lk(J,$,Q){try{return await J.open($,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:m40(Q)})}catch(X){return Z1(X),!1}}function m40(J){if(J===!0)return!0;if(J&&Array.isArray(J.enabledCommands))return J.enabledCommands;return!1}var p40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},id=function(J,$){return function(Q,X){$(Q,X,J)}},wk,JG;var kk=E(()=>{KP();ZY();T1();E0();B0();rd();P4();d9();I4();FL();n2();JG=wk=class{constructor($,Q,X){this._options=$,this._languageService=Q,this._openerService=X,this._onDidRenderAsync=new p,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render($,Q,X){if(!$)return{element:document.createElement("span"),dispose:()=>{}};let Y=new q0,Z=Y.add(Sq($,{...this._getRenderOptions($,Y),...Q},X));return Z.element.classList.add("rendered-markdown"),{element:Z.element,dispose:()=>Y.dispose()}}_getRenderOptions($,Q){return{codeBlockRenderer:async(X,Y)=>{var Z,G,q;let U;if(X)U=this._languageService.getLanguageIdByLanguageName(X);else if(this._options.editor)U=(Z=this._options.editor.getModel())===null||Z===void 0?void 0:Z.getLanguageId();if(!U)U=S5;let z=await Xl(this._languageService,Y,U),H=document.createElement("span");if(H.innerHTML=(q=(G=wk._ttpTokenizer)===null||G===void 0?void 0:G.createHTML(z))!==null&&q!==void 0?q:z,this._options.editor){let j=this._options.editor.getOption(50);h6(H,j)}else if(this._options.codeBlockFontFamily)H.style.fontFamily=this._options.codeBlockFontFamily;if(this._options.codeBlockFontSize!==void 0)H.style.fontSize=this._options.codeBlockFontSize;return H},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:(X)=>Lk(this._openerService,X,$.isTrusted),disposables:Q}}}};JG._ttpTokenizer=A9("tokenizeToString",{createHTML(J){return J}});JG=wk=p40([id(1,H6),id(2,n$)],JG)});class nd{constructor(J){this._element=J,this.targetElements=[this._element]}dispose(){}}var u40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Lj=function(J,$){return function(Q,X){$(Q,X,J)}},t$,AP,Ek;var od=E(()=>{Kd();B0();E0();x0();h4();l8();U8();Dd();b$();n2();n0();kk();e2();a0();E1();RJ();KY();t$=M0,AP=class extends F8{get _targetWindow(){return L0(this._target.targetElements[0])}get _targetDocumentElement(){return L0(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked($){if(this._isLocked===$)return;this._isLocked=$,this._hoverContainer.classList.toggle("locked",this._isLocked)}constructor($,Q,X,Y,Z,G){var q,U,z,H,j,B,V,W;super();if(this._keybindingService=Q,this._configurationService=X,this._openerService=Y,this._instantiationService=Z,this._accessibilityService=G,this._messageListeners=new q0,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new p),this._onRequestLayout=this._register(new p),this._linkHandler=$.linkHandler||((D)=>{return Lk(this._openerService,D,_X($.content)?$.content.isTrusted:void 0)}),this._target="targetElements"in $.target?$.target:new nd($.target),this._hoverPointer=((q=$.appearance)===null||q===void 0?void 0:q.showPointer)?t$("div.workbench-hover-pointer"):void 0,this._hover=this._register(new Yk),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(U=$.appearance)===null||U===void 0?void 0:U.compact)this._hover.containerDomNode.classList.add("workbench-hover","compact");if((z=$.appearance)===null||z===void 0?void 0:z.skipFadeInAnimation)this._hover.containerDomNode.classList.add("skip-fade-in");if($.additionalClasses)this._hover.containerDomNode.classList.add(...$.additionalClasses);if((H=$.position)===null||H===void 0?void 0:H.forcePosition)this._forcePosition=!0;if($.trapFocus)this._enableFocusTraps=!0;this._hoverPosition=(B=(j=$.position)===null||j===void 0?void 0:j.hoverPosition)!==null&&B!==void 0?B:3,this.onmousedown(this._hover.containerDomNode,(D)=>D.stopPropagation()),this.onkeydown(this._hover.containerDomNode,(D)=>{if(D.equals(9))this.dispose()}),this._register(t(this._targetWindow,"blur",()=>this.dispose()));let K=t$("div.hover-row.markdown-hover"),A=t$("div.hover-contents");if(typeof $.content==="string")A.textContent=$.content,A.style.whiteSpace="pre-wrap";else if($.content instanceof HTMLElement)A.appendChild($.content),A.classList.add("html-hover-contents");else{let D=$.content,_=this._instantiationService.createInstance(JG,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||g8.fontFamily}),{element:O}=_.render(D,{actionHandler:{callback:(N)=>this._linkHandler(N),disposables:this._messageListeners},asyncRenderCallback:()=>{A.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});A.appendChild(O)}if(K.appendChild(A),this._hover.contentsDomNode.appendChild(K),$.actions&&$.actions.length>0){let D=t$("div.hover-row.status-bar"),_=t$("div.actions");$.actions.forEach((O)=>{let N=this._keybindingService.lookupKeybinding(O.commandId),w=N?N.getLabel():null;GP.render(_,{label:O.label,commandId:O.commandId,run:(T)=>{O.run(T),this.dispose()},iconClass:O.iconClass},w)}),D.appendChild(_),this._hover.containerDomNode.appendChild(D)}if(this._hoverContainer=t$("div.workbench-hover-container"),this._hoverPointer)this._hoverContainer.appendChild(this._hoverPointer);this._hoverContainer.appendChild(this._hover.containerDomNode);let F;if($.actions&&$.actions.length>0)F=!1;else if(((V=$.persistence)===null||V===void 0?void 0:V.hideOnHover)===void 0)F=typeof $.content==="string"||_X($.content)&&!$.content.value.includes("](")&&!$.content.value.includes("</a>");else F=$.persistence.hideOnHover;if(F&&((W=$.appearance)===null||W===void 0?void 0:W.showHoverHint)){let D=t$("div.hover-row.status-bar"),_=t$("div.info");_.textContent=M("hoverhint","Hold {0} key to mouse over",$1?"Option":"Alt"),D.appendChild(_),this._hover.containerDomNode.appendChild(D)}let P=[...this._target.targetElements];if(!F)P.push(this._hoverContainer);let R=this._register(new Ek(P));if(this._register(R.onMouseOut(()=>{if(!this._isLocked)this.dispose()})),F){let D=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new Ek(D)),this._register(this._lockMouseTracker.onMouseOut(()=>{if(!this._isLocked)this.dispose()}))}else this._lockMouseTracker=R}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;let $=this._hover.containerDomNode,Q=this.findLastFocusableChild(this._hover.containerDomNode);if(Q){let X=B3(this._hoverContainer,t$("div")),Y=P0(this._hoverContainer,t$("div"));X.tabIndex=0,Y.tabIndex=0,this._register(t(Y,"focus",(Z)=>{$.focus(),Z.preventDefault()})),this._register(t(X,"focus",(Z)=>{Q.focus(),Z.preventDefault()}))}}findLastFocusableChild($){if($.hasChildNodes())for(let Q=0;Q<$.childNodes.length;Q++){let X=$.childNodes.item($.childNodes.length-Q-1);if(X.nodeType===X.ELEMENT_NODE){let Z=X;if(typeof Z.tabIndex==="number"&&Z.tabIndex>=0)return Z}let Y=this.findLastFocusableChild(X);if(Y)return Y}return}render($){var Q;$.appendChild(this._hoverContainer);let Y=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&Pd(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(Q=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||Q===void 0?void 0:Q.getAriaLabel());if(Y)O$(Y);this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";let $=(H)=>{let j=wF(H),B=H.getBoundingClientRect();return{top:B.top*j,bottom:B.bottom*j,right:B.right*j,left:B.left*j}},Q=this._target.targetElements.map((H)=>$(H)),X=Math.min(...Q.map((H)=>H.top)),Y=Math.max(...Q.map((H)=>H.right)),Z=Math.max(...Q.map((H)=>H.bottom)),G=Math.min(...Q.map((H)=>H.left)),q=Y-G,U=Z-X,z={top:X,right:Y,bottom:Z,left:G,width:q,height:U,center:{x:G+q/2,y:X+U/2}};if(this.adjustHorizontalHoverPosition(z),this.adjustVerticalHoverPosition(z),this.adjustHoverMaxHeight(z),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:z.left+=3,z.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:z.left-=3,z.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:z.top+=3,z.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:z.top-=3,z.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}z.center.x=z.left+q/2,z.center.y=z.top+U/2}if(this.computeXCordinate(z),this.computeYCordinate(z),this._hoverPointer)this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(z);this._hover.onContentsChanged()}computeXCordinate($){let Q=this._hover.containerDomNode.clientWidth+2;if(this._target.x!==void 0)this._x=this._target.x;else if(this._hoverPosition===1)this._x=$.right;else if(this._hoverPosition===0)this._x=$.left-Q;else{if(this._hoverPointer)this._x=$.center.x-this._hover.containerDomNode.clientWidth/2;else this._x=$.left;if(this._x+Q>=this._targetDocumentElement.clientWidth)this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-Q-2,this._targetDocumentElement.clientLeft)}if(this._x<this._targetDocumentElement.clientLeft)this._x=$.left+2}computeYCordinate($){if(this._target.y!==void 0)this._y=this._target.y;else if(this._hoverPosition===3)this._y=$.top;else if(this._hoverPosition===2)this._y=$.bottom-2;else if(this._hoverPointer)this._y=$.center.y+this._hover.containerDomNode.clientHeight/2;else this._y=$.bottom;if(this._y>this._targetWindow.innerHeight)this._y=$.bottom}adjustHorizontalHoverPosition($){if(this._target.x!==void 0)return;if(this._forcePosition){let Q=(this._hoverPointer?3:0)+2;if(this._hoverPosition===1)this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-$.right-Q}px`;else if(this._hoverPosition===0)this._hover.containerDomNode.style.maxWidth=`${$.left-Q}px`;return}if(this._hoverPosition===1){if(this._targetDocumentElement.clientWidth-$.right<this._hover.containerDomNode.clientWidth)if($.left>=this._hover.containerDomNode.clientWidth)this._hoverPosition=0;else this._hoverPosition=2}else if(this._hoverPosition===0){if($.left<this._hover.containerDomNode.clientWidth)if(this._targetDocumentElement.clientWidth-$.right>=this._hover.containerDomNode.clientWidth)this._hoverPosition=1;else this._hoverPosition=2;if($.left-this._hover.containerDomNode.clientWidth<=this._targetDocumentElement.clientLeft)this._hoverPosition=1}}adjustVerticalHoverPosition($){if(this._target.y!==void 0||this._forcePosition)return;if(this._hoverPosition===3){if($.top-this._hover.containerDomNode.clientHeight<0)this._hoverPosition=2}else if(this._hoverPosition===2){if($.bottom+this._hover.containerDomNode.clientHeight>this._targetWindow.innerHeight)this._hoverPosition=3}}adjustHoverMaxHeight($){let Q=this._targetWindow.innerHeight/2;if(this._forcePosition){let X=(this._hoverPointer?3:0)+2;if(this._hoverPosition===3)Q=Math.min(Q,$.top-X);else if(this._hoverPosition===2)Q=Math.min(Q,this._targetWindow.innerHeight-$.bottom-X)}if(this._hover.containerDomNode.style.maxHeight=`${Q}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){let X=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;if(this._hover.contentsDomNode.style.paddingRight!==X)this._hover.contentsDomNode.style.paddingRight=X}}setHoverPointerPosition($){if(!this._hoverPointer)return;switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");let Q=this._hover.containerDomNode.clientHeight;if(Q>$.height)this._hoverPointer.style.top=`${$.center.y-(this._y-Q)-3}px`;else this._hoverPointer.style.top=`${Math.round(Q/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");let Q=this._hover.containerDomNode.clientWidth,X=Math.round(Q/2)-3,Y=this._x+X;if(Y<$.left||Y>$.right)X=$.center.x-this._x-3;this._hoverPointer.style.left=`${X}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){if(!this._isDisposed)this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose();this._isDisposed=!0}};AP=u40([Lj(1,Q5),Lj(2,p1),Lj(3,n$),Lj(4,r0),Lj(5,I8)],AP);Ek=class Ek extends F8{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(J){super();this._elements=J,this._isMouseIn=!0,this._onMouseOut=this._register(new p),this._elements.forEach(($)=>this.onmouseover($,()=>this._onTargetMouseOver($))),this._elements.forEach(($)=>this.onmouseleave($,()=>this._onTargetMouseLeave($)))}_onTargetMouseOver(J){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(J)}_onTargetMouseLeave(J){this._isMouseIn=!1,this._evaluateMouseState(J)}_evaluateMouseState(J){this._clearEvaluateMouseStateTimeout(J),this._mouseTimeout=L0(J).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(J){if(this._mouseTimeout)L0(J).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0}_fireIfMouseOutside(){if(!this._isMouseIn)this._onMouseOut.fire()}}});function td(J){var $;if(J===void 0)return;return($=J===null||J===void 0?void 0:J.id)!==null&&$!==void 0?$:J}class ed{get anchorPosition(){return this._hover.anchor}constructor(J,$=!1){this._hover=J,this._focus=$}render(J){if(this._hover.render(J),this._focus)this._hover.focus();return this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}var c40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Cq=function(J,$){return function(Q,X){$(Q,X,J)}},Ik=class{constructor($,Q,X,Y,Z,G){this._instantiationService=$,this._contextViewService=Q,this._keybindingService=Y,this._layoutService=Z,this._accessibilityService=G,X.onDidShowContextMenu(()=>this.hideHover())}showHover($,Q,X){var Y,Z,G,q;if(td(this._currentHoverOptions)===td($))return;if(this._currentHover&&((Z=(Y=this._currentHoverOptions)===null||Y===void 0?void 0:Y.persistence)===null||Z===void 0?void 0:Z.sticky))return;this._currentHoverOptions=$,this._lastHoverOptions=$;let U=$.trapFocus||this._accessibilityService.isScreenReaderOptimized(),z=B5();if(!X)if(U&&z)this._lastFocusedElementBeforeOpen=z;else this._lastFocusedElementBeforeOpen=void 0;let H=new q0,j=this._instantiationService.createInstance(AP,$);if((G=$.persistence)===null||G===void 0?void 0:G.sticky)j.isLocked=!0;if(j.onDispose(()=>{var V,W;if(((V=this._currentHover)===null||V===void 0?void 0:V.domNode)&&EF(this._currentHover.domNode))(W=this._lastFocusedElementBeforeOpen)===null||W===void 0||W.focus();if(this._currentHoverOptions===$)this._currentHoverOptions=void 0;H.dispose()}),!$.container){let V=$.target instanceof HTMLElement?$.target:$.target.targetElements[0];$.container=this._layoutService.getContainer(L0(V))}let B=this._contextViewService;if(B.showContextView(new ed(j,Q),$.container),j.onRequestLayout(()=>B.layout()),(q=$.persistence)===null||q===void 0?void 0:q.sticky)H.add(t(L0($.container).document,W0.MOUSE_DOWN,(V)=>{if(!J5(V.target,j.domNode))this.doHideHover()}));else{if("targetElements"in $.target)for(let W of $.target.targetElements)H.add(t(W,W0.CLICK,()=>this.hideHover()));else H.add(t($.target,W0.CLICK,()=>this.hideHover()));let V=B5();if(V){let W=L0(V).document;H.add(t(V,W0.KEY_DOWN,(K)=>{var A;return this._keyDown(K,j,!!((A=$.persistence)===null||A===void 0?void 0:A.hideOnKeyDown))})),H.add(t(W,W0.KEY_DOWN,(K)=>{var A;return this._keyDown(K,j,!!((A=$.persistence)===null||A===void 0?void 0:A.hideOnKeyDown))})),H.add(t(V,W0.KEY_UP,(K)=>this._keyUp(K,j))),H.add(t(W,W0.KEY_UP,(K)=>this._keyUp(K,j)))}}if("IntersectionObserver"in F1){let V=new IntersectionObserver((K)=>this._intersectionChange(K,j),{threshold:0}),W="targetElements"in $.target?$.target.targetElements[0]:$.target;V.observe(W),H.add(y0(()=>V.disconnect()))}return this._currentHover=j,j}hideHover(){var $;if((($=this._currentHover)===null||$===void 0?void 0:$.isLocked)||!this._currentHoverOptions)return;this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewService.hideContextView()}_intersectionChange($,Q){if(!$[$.length-1].isIntersecting)Q.dispose()}_keyDown($,Q,X){var Y,Z;if($.key==="Alt"){Q.isLocked=!0;return}let G=new _1($);if(this._keybindingService.resolveKeyboardEvent(G).getSingleModifierDispatchChords().some((U)=>!!U)||this._keybindingService.softDispatch(G,G.target).kind!==0)return;if(X&&(!((Y=this._currentHoverOptions)===null||Y===void 0?void 0:Y.trapFocus)||$.key!=="Tab"))this.hideHover(),(Z=this._lastFocusedElementBeforeOpen)===null||Z===void 0||Z.focus()}_keyUp($,Q){var X;if($.key==="Alt"){if(Q.isLocked=!1,!Q.isMouseIn)this.hideHover(),(X=this._lastFocusedElementBeforeOpen)===null||X===void 0||X.focus()}}};var Js=E(()=>{s9();G5();x8();YP();OX();n0();od();B0();x0();h4();k8();RJ();pY();H8();Ik=c40([Cq(0,r0),Cq(1,vJ),Cq(2,Q9),Cq(3,Q5),Cq(4,_9),Cq(5,I8)],Ik);K1(Eq,Ik,1);i8((J,$)=>{let Q=J.getColor(tf);if(Q)$.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Q.transparent(0.5)}; }`),$.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${Q.transparent(0.5)}; }`)})});class kj{constructor(J){this.metadata=J}static convert(J){return J.edits.map(($)=>{if(sY.is($))return sY.lift($);if(vq.is($))return vq.lift($);throw Error("Unsupported edit")})}}var $s,sY,vq;var Qs=E(()=>{n0();V5();$s=b0("IWorkspaceEditService");sY=class sY extends kj{static is(J){if(J instanceof sY)return!0;return z5(J)&&m0.isUri(J.resource)&&z5(J.textEdit)}static lift(J){if(J instanceof sY)return J;else return new sY(J.resource,J.textEdit,J.versionId,J.metadata)}constructor(J,$,Q=void 0,X){super(X);this.resource=J,this.textEdit=$,this.versionId=Q}};vq=class vq extends kj{static is(J){if(J instanceof vq)return!0;else return z5(J)&&(Boolean(J.newResource)||Boolean(J.oldResource))}static lift(J){if(J instanceof vq)return J;else return new vq(J.oldResource,J.newResource,J.options,J.metadata)}constructor(J,$,Q={},X){super(X);this.oldResource=J,this.newResource=$,this.options=Q}}});var D8;var yk=E(()=>{D8={enableSplitViewResizing:!0,splitViewDefaultRatio:0.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5000,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}});function d40(J){return typeof J.type<"u"||typeof J.anyOf<"u"}function Xs(){if(PP===null)PP=Object.create(null),Object.keys(DP.properties).forEach((J)=>{PP[J]=!0});return PP}function Ys(J){return Xs()[`editor.${J}`]||!1}function Zs(J){return Xs()[`diffEditor.${J}`]||!1}var l40,DP,PP=null,s40;var Gs=E(()=>{yk();U8();iU();a0();H2();U7();l40=Object.freeze({id:"editor",order:5,type:"object",title:M("editorConfigurationTitle","Editor"),scope:5}),DP={...l40,properties:{"editor.tabSize":{type:"number",default:E5.tabSize,minimum:1,markdownDescription:M("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:M("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:E5.insertSpaces,markdownDescription:M("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:E5.detectIndentation,markdownDescription:M("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:E5.trimAutoWhitespace,description:M("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:E5.largeFileOptimizations,description:M("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[M("wordBasedSuggestions.off","Turn off Word Based Suggestions."),M("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),M("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),M("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:M("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[M("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),M("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),M("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:M("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:M("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:20000,description:M("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:M("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:M("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:M("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:M("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:M("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:M("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:M("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:M("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:M("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:D8.maxComputationTime,description:M("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:D8.maxFileSize,description:M("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:D8.renderSideBySide,description:M("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:D8.renderSideBySideInlineBreakpoint,description:M("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:D8.useInlineViewWhenSpaceIsLimited,description:M("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:D8.renderMarginRevertIcon,description:M("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:D8.ignoreTrimWhitespace,description:M("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:D8.renderIndicators,description:M("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:D8.diffCodeLens,description:M("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:D8.diffWordWrap,markdownEnumDescriptions:[M("wordWrap.off","Lines will never wrap."),M("wordWrap.on","Lines will wrap at the viewport width."),M("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:D8.diffAlgorithm,markdownEnumDescriptions:[M("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),M("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:D8.hideUnchangedRegions.enabled,markdownDescription:M("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:D8.hideUnchangedRegions.revealLineCount,markdownDescription:M("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:D8.hideUnchangedRegions.minimumLineCount,markdownDescription:M("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:D8.hideUnchangedRegions.contextLineCount,markdownDescription:M("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:D8.experimental.showMoves,markdownDescription:M("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:D8.experimental.showEmptyDecorations,description:M("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};for(let J of dX){let $=J.schema;if(typeof $<"u"){if(d40($))DP.properties[`editor.${J.name}`]=$;else for(let Q in $)if(Object.hasOwnProperty.call($,Q))DP.properties[Q]=$[Q]}}s40=G6.as(r9.Configuration);s40.registerConfiguration(DP)});class X4{static insert(J,$){return{range:new v(J.lineNumber,J.column,J.lineNumber,J.column),text:$,forceMoveMarkers:!0}}static delete(J){return{range:J,text:null}}static replace(J,$){return{range:J,text:$}}static replaceMove(J,$){return{range:J,text:$,forceMoveMarkers:!0}}}var Ej=E(()=>{e0()});function xk(J){return Object.isFrozen(J)?J:qb(J)}class Z8{constructor(J={},$=[],Q=[],X){this._contents=J,this._keys=$,this._overrides=Q,this.raw=X,this.overrideConfigurations=new Map}get rawConfiguration(){var J;if(!this._rawConfiguration)if((J=this.raw)===null||J===void 0?void 0:J.length){let $=this.raw.map((Q)=>{if(Q instanceof Z8)return Q;let X=new qs("");return X.parseRaw(Q),X.configurationModel});this._rawConfiguration=$.reduce((Q,X)=>X===Q?X:Q.merge(X),$[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(J){return J?dO(this.contents,J):this.contents}inspect(J,$){let Q=this.rawConfiguration.getValue(J),X=$?this.rawConfiguration.getOverrideValue(J,$):void 0,Y=$?this.rawConfiguration.override($).getValue(J):Q;return{value:Q,override:X,merged:Y}}getOverrideValue(J,$){let Q=this.getContentsForOverrideIdentifer($);return Q?J?dO(Q,J):Q:void 0}override(J){let $=this.overrideConfigurations.get(J);if(!$)$=this.createOverrideConfigurationModel(J),this.overrideConfigurations.set(J,$);return $}merge(...J){var $,Q;let X=J$(this.contents),Y=J$(this.overrides),Z=[...this.keys],G=(($=this.raw)===null||$===void 0?void 0:$.length)?[...this.raw]:[this];for(let q of J){if(G.push(...((Q=q.raw)===null||Q===void 0?void 0:Q.length)?q.raw:[q]),q.isEmpty())continue;this.mergeContents(X,q.contents);for(let U of q.overrides){let[z]=Y.filter((H)=>B6(H.identifiers,U.identifiers));if(z)this.mergeContents(z.contents,U.contents),z.keys.push(...U.keys),z.keys=V4(z.keys);else Y.push(J$(U))}for(let U of q.keys)if(Z.indexOf(U)===-1)Z.push(U)}return new Z8(X,Z,Y,G.every((q)=>q instanceof Z8)?void 0:G)}createOverrideConfigurationModel(J){let $=this.getContentsForOverrideIdentifer(J);if(!$||typeof $!=="object"||!Object.keys($).length)return this;let Q={};for(let X of V4([...Object.keys(this.contents),...Object.keys($)])){let Y=this.contents[X],Z=$[X];if(Z)if(typeof Y==="object"&&typeof Z==="object")Y=J$(Y),this.mergeContents(Y,Z);else Y=Z;Q[X]=Y}return new Z8(Q,this.keys,this.overrides)}mergeContents(J,$){for(let Q of Object.keys($)){if(Q in J){if(z5(J[Q])&&z5($[Q])){this.mergeContents(J[Q],$[Q]);continue}}J[Q]=J$($[Q])}}getContentsForOverrideIdentifer(J){let $=null,Q=null,X=(Y)=>{if(Y)if(Q)this.mergeContents(Q,Y);else Q=J$(Y)};for(let Y of this.overrides)if(Y.identifiers.length===1&&Y.identifiers[0]===J)$=Y.contents;else if(Y.identifiers.includes(J))X(Y.contents);return X($),Q}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(J,$){this.updateValue(J,$,!0)}setValue(J,$){this.updateValue(J,$,!1)}removeValue(J){let $=this.keys.indexOf(J);if($===-1)return;if(this.keys.splice($,1),Vv(this.contents,J),fQ.test(J))this.overrides.splice(this.overrides.findIndex((Q)=>B6(Q.identifiers,cz(J))),1)}updateValue(J,$,Q){if(lO(this.contents,J,$,(X)=>console.error(X)),Q=Q||this.keys.indexOf(J)===-1,Q)this.keys.push(J);if(fQ.test(J))this.overrides.push({identifiers:cz(J),keys:Object.keys(this.contents[J]),contents:pF(this.contents[J],(X)=>console.error(X))})}}class qs{constructor(J){this._name=J,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Z8}parseRaw(J,$){this._raw=J;let{contents:Q,keys:X,overrides:Y,restricted:Z,hasExcludedProperties:G}=this.doParseRaw(J,$);this._configurationModel=new Z8(Q,X,Y,G?[J]:void 0),this._restrictedConfigurations=Z||[]}doParseRaw(J,$){let Q=G6.as(r9.Configuration).getConfigurationProperties(),X=this.filter(J,Q,!0,$);J=X.raw;let Y=pF(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`)),Z=Object.keys(J),G=this.toOverrides(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`));return{contents:Y,keys:Z,overrides:G,restricted:X.restricted,hasExcludedProperties:X.hasExcludedProperties}}filter(J,$,Q,X){var Y,Z,G;let q=!1;if(!(X===null||X===void 0?void 0:X.scopes)&&!(X===null||X===void 0?void 0:X.skipRestricted)&&!((Y=X===null||X===void 0?void 0:X.exclude)===null||Y===void 0?void 0:Y.length))return{raw:J,restricted:[],hasExcludedProperties:q};let U={},z=[];for(let H in J)if(fQ.test(H)&&Q){let j=this.filter(J[H],$,!1,X);U[H]=j.raw,q=q||j.hasExcludedProperties,z.push(...j.restricted)}else{let j=$[H],B=j?typeof j.scope<"u"?j.scope:3:void 0;if(j===null||j===void 0?void 0:j.restricted)z.push(H);if(!((Z=X.exclude)===null||Z===void 0?void 0:Z.includes(H))&&(((G=X.include)===null||G===void 0?void 0:G.includes(H))||(B===void 0||X.scopes===void 0||X.scopes.includes(B))&&!(X.skipRestricted&&(j===null||j===void 0?void 0:j.restricted))))U[H]=J[H];else q=!0}return{raw:U,restricted:z,hasExcludedProperties:q}}toOverrides(J,$){let Q=[];for(let X of Object.keys(J))if(fQ.test(X)){let Y={};for(let Z in J[X])Y[Z]=J[X][Z];Q.push({identifiers:cz(X),keys:Object.keys(Y),contents:pF(Y,$)})}return Q}}class Us{constructor(J,$,Q,X,Y,Z,G,q,U,z,H,j,B){this.key=J,this.overrides=$,this._value=Q,this.overrideIdentifiers=X,this.defaultConfiguration=Y,this.policyConfiguration=Z,this.applicationConfiguration=G,this.userConfiguration=q,this.localUserConfiguration=U,this.remoteUserConfiguration=z,this.workspaceConfiguration=H,this.folderConfigurationModel=j,this.memoryConfigurationModel=B}inspect(J,$,Q){let X=J.inspect($,Q);return{get value(){return xk(X.value)},get override(){return xk(X.override)},get merged(){return xk(X.merged)}}}get userInspectValue(){if(!this._userInspectValue)this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier);return this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class Ij{constructor(J,$,Q,X,Y=new Z8,Z=new Z8,G=new l5,q=new Z8,U=new l5){this._defaultConfiguration=J,this._policyConfiguration=$,this._applicationConfiguration=Q,this._localUserConfiguration=X,this._remoteUserConfiguration=Y,this._workspaceConfiguration=Z,this._folderConfigurations=G,this._memoryConfiguration=q,this._memoryConfigurationByResource=U,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new l5,this._userConfiguration=null}getValue(J,$,Q){return this.getConsolidatedConfigurationModel(J,$,Q).getValue(J)}updateValue(J,$,Q={}){let X;if(Q.resource){if(X=this._memoryConfigurationByResource.get(Q.resource),!X)X=new Z8,this._memoryConfigurationByResource.set(Q.resource,X)}else X=this._memoryConfiguration;if($===void 0)X.removeValue(J);else X.setValue(J,$);if(!Q.resource)this._workspaceConsolidatedConfiguration=null}inspect(J,$,Q){let X=this.getConsolidatedConfigurationModel(J,$,Q),Y=this.getFolderConfigurationModelForResource($.resource,Q),Z=$.resource?this._memoryConfigurationByResource.get($.resource)||this._memoryConfiguration:this._memoryConfiguration,G=new Set;for(let q of X.overrides)for(let U of q.identifiers)if(X.getOverrideValue(J,U)!==void 0)G.add(U);return new Us(J,$,X.getValue(J),G.size?[...G]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,Q?this._workspaceConfiguration:void 0,Y?Y:void 0,Z)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){if(!this._userConfiguration)this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration);return this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(J,$,Q){let X=this.getConsolidatedConfigurationModelForResource($,Q);if($.overrideIdentifier)X=X.override($.overrideIdentifier);if(!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(J)!==void 0)X=X.merge(this._policyConfiguration);return X}getConsolidatedConfigurationModelForResource({resource:J},$){let Q=this.getWorkspaceConsolidatedConfiguration();if($&&J){let X=$.getFolder(J);if(X)Q=this.getFolderConsolidatedConfiguration(X.uri)||Q;let Y=this._memoryConfigurationByResource.get(J);if(Y)Q=Q.merge(Y)}return Q}getWorkspaceConsolidatedConfiguration(){if(!this._workspaceConsolidatedConfiguration)this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration);return this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(J){let $=this._foldersConsolidatedConfigurations.get(J);if(!$){let Q=this.getWorkspaceConsolidatedConfiguration(),X=this._folderConfigurations.get(J);if(X)$=Q.merge(X),this._foldersConsolidatedConfigurations.set(J,$);else $=Q}return $}getFolderConfigurationModelForResource(J,$){if($&&J){let Q=$.getFolder(J);if(Q)return this._folderConfigurations.get(Q.uri)}return}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((J,$)=>{let{contents:Q,overrides:X,keys:Y}=this._folderConfigurations.get($);return J.push([$,{contents:Q,overrides:X,keys:Y}]),J},[])}}static parse(J){let $=this.parseConfigurationModel(J.defaults),Q=this.parseConfigurationModel(J.policy),X=this.parseConfigurationModel(J.application),Y=this.parseConfigurationModel(J.user),Z=this.parseConfigurationModel(J.workspace),G=J.folders.reduce((q,U)=>{return q.set(m0.revive(U[0]),this.parseConfigurationModel(U[1])),q},new l5);return new Ij($,Q,X,Y,new Z8,Z,G,new Z8,new l5)}static parseConfigurationModel(J){return new Z8(J.contents,J.keys,J.overrides)}}class bk{constructor(J,$,Q,X){this.change=J,this.previous=$,this.currentConfiguraiton=Q,this.currentWorkspace=X,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(let Y of J.keys)this.affectedKeys.add(Y);for(let[,Y]of J.overrides)for(let Z of Y)this.affectedKeys.add(Z);this._affectsConfigStr=this._marker;for(let Y of this.affectedKeys)this._affectsConfigStr+=Y+this._marker}get previousConfiguration(){if(!this._previousConfiguration&&this.previous)this._previousConfiguration=Ij.parse(this.previous.data);return this._previousConfiguration}affectsConfiguration(J,$){var Q;let X=this._marker+J,Y=this._affectsConfigStr.indexOf(X);if(Y<0)return!1;let Z=Y+X.length;if(Z>=this._affectsConfigStr.length)return!1;let G=this._affectsConfigStr.charCodeAt(Z);if(G!==this._markerCode1&&G!==this._markerCode2)return!1;if($){let q=this.previousConfiguration?this.previousConfiguration.getValue(J,$,(Q=this.previous)===null||Q===void 0?void 0:Q.workspace):void 0,U=this.currentConfiguraiton.getValue(J,$,this.currentWorkspace);return!p5(q,U)}return!0}}var Sk=E(()=>{B1();AJ();P7();V5();l8();H2();U7()});function r40(J,$,Q){return{kind:2,commandId:J,commandArgs:$,isBubble:Q}}class hq{constructor(J,$,Q){var X;this._log=Q,this._defaultKeybindings=J,this._defaultBoundCommands=new Map;for(let Y of J){let Z=Y.command;if(Z&&Z.charAt(0)!=="-")this._defaultBoundCommands.set(Z,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=hq.handleRemovals([].concat(J).concat($));for(let Y=0,Z=this._keybindings.length;Y<Z;Y++){let G=this._keybindings[Y];if(G.chords.length===0)continue;let q=(X=G.when)===null||X===void 0?void 0:X.substituteConstants();if(q&&q.type===0)continue;this._addKeyPress(G.chords[0],G)}}static _isTargetedForRemoval(J,$,Q){if($){for(let X=0;X<$.length;X++)if($[X]!==J.chords[X])return!1}if(Q&&Q.type!==1){if(!J.when)return!1;if(!eS(Q,J.when))return!1}return!0}static handleRemovals(J){let $=new Map;for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(Z.command&&Z.command.charAt(0)==="-"){let G=Z.command.substring(1);if(!$.has(G))$.set(G,[Z]);else $.get(G).push(Z)}}if($.size===0)return J;let Q=[];for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(!Z.command||Z.command.length===0){Q.push(Z);continue}if(Z.command.charAt(0)==="-")continue;let G=$.get(Z.command);if(!G||!Z.isDefault){Q.push(Z);continue}let q=!1;for(let U of G){let z=U.when;if(this._isTargetedForRemoval(Z,U.chords,z)){q=!0;break}}if(!q){Q.push(Z);continue}}return Q}_addKeyPress(J,$){let Q=this._map.get(J);if(typeof Q>"u"){this._map.set(J,[$]),this._addToLookupMap($);return}for(let X=Q.length-1;X>=0;X--){let Y=Q[X];if(Y.command===$.command)continue;let Z=!0;for(let G=1;G<Y.chords.length&&G<$.chords.length;G++)if(Y.chords[G]!==$.chords[G]){Z=!1;break}if(!Z)continue;if(hq.whenIsEntirelyIncluded(Y.when,$.when))this._removeFromLookupMap(Y)}Q.push($),this._addToLookupMap($)}_addToLookupMap(J){if(!J.command)return;let $=this._lookupMap.get(J.command);if(typeof $>"u")$=[J],this._lookupMap.set(J.command,$);else $.push(J)}_removeFromLookupMap(J){if(!J.command)return;let $=this._lookupMap.get(J.command);if(typeof $>"u")return;for(let Q=0,X=$.length;Q<X;Q++)if($[Q]===J){$.splice(Q,1);return}}static whenIsEntirelyIncluded(J,$){if(!$||$.type===1)return!0;if(!J||J.type===1)return!1;return nB(J,$)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(J,$){let Q=this._lookupMap.get(J);if(typeof Q>"u"||Q.length===0)return null;if(Q.length===1)return Q[0];for(let X=Q.length-1;X>=0;X--){let Y=Q[X];if($.contextMatchesRules(Y.when))return Y}return Q[Q.length-1]}resolve(J,$,Q){let X=[...$,Q];this._log(`| Resolving ${X}`);let Y=this._map.get(X[0]);if(Y===void 0)return this._log("\\ No keybinding entries."),yj;let Z=null;if(X.length<2)Z=Y;else{Z=[];for(let q=0,U=Y.length;q<U;q++){let z=Y[q];if(X.length>z.chords.length)continue;let H=!0;for(let j=1;j<X.length;j++)if(z.chords[j]!==X[j]){H=!1;break}if(H)Z.push(z)}}let G=this._findCommand(J,Z);if(!G)return this._log(`\\ From ${Z.length} keybinding entries, no when clauses matched the context.`),yj;if(X.length<G.chords.length)return this._log(`\\ From ${Z.length} keybinding entries, awaiting ${G.chords.length-X.length} more chord(s), when: ${zs(G.when)}, source: ${Hs(G)}.`),a40;return this._log(`\\ From ${Z.length} keybinding entries, matched ${G.command}, when: ${zs(G.when)}, source: ${Hs(G)}.`),r40(G.command,G.commandArgs,G.bubble)}_findCommand(J,$){for(let Q=$.length-1;Q>=0;Q--){let X=$[Q];if(!hq._contextMatchesRules(J,X.when))continue;return X}return null}static _contextMatchesRules(J,$){if(!$)return!0;return $.evaluate(J)}}function zs(J){if(!J)return"no when condition";return`${J.serialize()}`}function Hs(J){return J.extensionId?J.isBuiltinExtension?`built-in extension ${J.extensionId}`:`user extension ${J.extensionId}`:J.isDefault?"built-in":"user"}var yj,a40;var Ck=E(()=>{e1();yj={kind:0},a40={kind:1}});class $G{constructor(J){this._ctrlKey=J?J.ctrlKey:!1,this._shiftKey=J?J.shiftKey:!1,this._altKey=J?J.altKey:!1,this._metaKey=J?J.metaKey:!1}has(J){switch(J){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}var i40,vk;var js=E(()=>{J6();T1();E0();gN();B0();a0();Ck();i40=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;vk=class vk extends r{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:V0.None}get inChordMode(){return this._currentChords.length>0}constructor(J,$,Q,X,Y){super();this._contextKeyService=J,this._commandService=$,this._telemetryService=Q,this._notificationService=X,this._logService=Y,this._onDidUpdateKeybindings=this._register(new p),this._currentChords=[],this._currentChordChecker=new eZ,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=$G.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new E8,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(J){if(this._logging)this._logService.info(`[KeybindingService]: ${J}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(J,$){let Q=this._getResolver().lookupPrimaryKeybinding(J,$||this._contextKeyService);if(!Q)return;return Q.resolvedKeybinding}dispatchEvent(J,$){return this._dispatch(J,$)}softDispatch(J,$){this._log("/ Soft dispatching keyboard event");let Q=this.resolveKeyboardEvent(J);if(Q.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),yj;let[X]=Q.getDispatchChords();if(X===null)return this._log("\\ Keyboard event cannot be dispatched"),yj;let Y=this._contextKeyService.getContext($),Z=this._currentChords.map(({keypress:G})=>G);return this._getResolver().resolve(Y,Z,X)}_scheduleLeaveChordMode(){let J=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}if(Date.now()-J>5000)this._leaveChordMode()},500)}_expectAnotherChord(J,$){switch(this._currentChords.push({keypress:J,label:$}),this._currentChords.length){case 0:throw lG("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(M("first.chord","({0}) was pressed. Waiting for second key of chord...",$));break;default:{let Q=this._currentChords.map(({label:X})=>X).join(", ");this._currentChordStatusMessage=this._notificationService.status(M("next.chord","({0}) was pressed. Waiting for next key of chord...",Q))}}if(this._scheduleLeaveChordMode(),NY.enabled)NY.disable()}_leaveChordMode(){if(this._currentChordStatusMessage)this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null;this._currentChordChecker.cancel(),this._currentChords=[],NY.enable()}_dispatch(J,$){return this._doDispatch(this.resolveKeyboardEvent(J),$,!1)}_singleModifierDispatch(J,$){let Q=this.resolveKeyboardEvent(J),[X]=Q.getSingleModifierDispatchChords();if(X){if(this._ignoreSingleModifiers.has(X))return this._log(`+ Ignoring single modifier ${X} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=$G.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1;if(this._ignoreSingleModifiers=$G.EMPTY,this._currentSingleModifier===null)return this._log(`+ Storing single modifier for possible chord ${X}.`),this._currentSingleModifier=X,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1;if(X===this._currentSingleModifier)return this._log(`/ Dispatching single modifier chord ${X} ${X}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Q,$,!0);return this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${X}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}let[Y]=Q.getChords();if(this._ignoreSingleModifiers=new $G(Y),this._currentSingleModifier!==null)this._log("+ Clearing single modifier due to other key up.");return this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(J,$,Q=!1){var X;let Y=!1;if(J.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Z=null,G=null;if(Q){let[H]=J.getSingleModifierDispatchChords();Z=H,G=H?[H]:[]}else[Z]=J.getDispatchChords(),G=this._currentChords.map(({keypress:H})=>H);if(Z===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Y;let q=this._contextKeyService.getContext($),U=J.getLabel(),z=this._getResolver().resolve(q,G,Z);switch(z.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",U,"[ No matching keybinding ]"),this.inChordMode){let H=this._currentChords.map(({label:j})=>j).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${H}, ${U}".`),this._notificationService.status(M("missing.chord","The key combination ({0}, {1}) is not a command.",H,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}return Y}case 1:return this._logService.trace("KeybindingService#dispatch",U,"[ Several keybindings match - more chords needed ]"),Y=!0,this._expectAnotherChord(Z,U),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),Y;case 2:{if(this._logService.trace("KeybindingService#dispatch",U,`[ Will dispatch command ${z.commandId} ]`),z.commandId===null||z.commandId===""){if(this.inChordMode){let H=this._currentChords.map(({label:j})=>j).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${H}, ${U}".`),this._notificationService.status(M("missing.chord","The key combination ({0}, {1}) is not a command.",H,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}}else{if(this.inChordMode)this._leaveChordMode();if(!z.isBubble)Y=!0;this._log(`+ Invoking command ${z.commandId}.`),this._currentlyDispatchingCommandId=z.commandId;try{if(typeof z.commandArgs>"u")this._commandService.executeCommand(z.commandId).then(void 0,(H)=>this._notificationService.warn(H));else this._commandService.executeCommand(z.commandId,z.commandArgs).then(void 0,(H)=>this._notificationService.warn(H))}finally{this._currentlyDispatchingCommandId=null}if(!i40.test(z.commandId))this._telemetryService.publicLog2("workbenchActionExecuted",{id:z.commandId,from:"keybinding",detail:(X=J.getUserSettingsLabel())!==null&&X!==void 0?X:void 0})}return Y}}}mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey)return!1;if(J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30)return!0;return!1}};$G.EMPTY=new $G(null)});class MP{constructor(J,$,Q,X,Y,Z,G){if(this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=J,this.chords=J?RP(J.getDispatchChords()):[],J&&this.chords.length===0)this.chords=RP(J.getSingleModifierDispatchChords());this.bubble=$?$.charCodeAt(0)===94:!1,this.command=this.bubble?$.substr(1):$,this.commandArgs=Q,this.when=X,this.isDefault=Y,this.extensionId=Z,this.isBuiltinExtension=G}}function RP(J){let $=[];for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];if(!Y)return[];$.push(Y)}return $}class xj{constructor(J,$,Q=$){this.modifierLabels=[null],this.modifierLabels[2]=J,this.modifierLabels[1]=$,this.modifierLabels[3]=Q}toLabel(J,$,Q){if($.length===0)return null;let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=Q(G);if(q===null)return null;X[Y]=n40(G,q,this.modifierLabels[J])}return X.join(" ")}}function n40(J,$,Q){if($===null)return"";let X=[];if(J.ctrlKey)X.push(Q.ctrlKey);if(J.shiftKey)X.push(Q.shiftKey);if(J.altKey)X.push(Q.altKey);if(J.metaKey)X.push(Q.metaKey);if($!=="")X.push($);return X.join(Q.separator)}var fq,Vs,Ws,Bs;var OP=E(()=>{a0();fq=new xj({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:M({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:M({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:M({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:M({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:M({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:M({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:M({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:M({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Vs=new xj({ctrlKey:M({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:M({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:M({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:M({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:M({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:M({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:M({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:M({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:M({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:M({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:M({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:M({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),Ws=new xj({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),Bs=new xj({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})});var hk;var Fs=E(()=>{T1();OP();nZ();hk=class hk extends oM{constructor(J,$){super();if($.length===0)throw YJ("chords");this._os=J,this._chords=$}getLabel(){return fq.toLabel(this._os,this._chords,(J)=>this._getLabel(J))}getAriaLabel(){return Vs.toLabel(this._os,this._chords,(J)=>this._getAriaLabel(J))}getElectronAccelerator(){if(this._chords.length>1)return null;if(this._chords[0].isDuplicateModifierCase())return null;return Ws.toLabel(this._os,this._chords,(J)=>this._getElectronAccelerator(J))}getUserSettingsLabel(){return Bs.toLabel(this._os,this._chords,(J)=>this._getUserSettingsLabel(J))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((J)=>this._getChord(J))}_getChord(J){return new nM(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,this._getLabel(J),this._getAriaLabel(J))}getDispatchChords(){return this._chords.map((J)=>this._getChordDispatch(J))}getSingleModifierDispatchChords(){return this._chords.map((J)=>this._getSingleModifierChordDispatch(J))}}});var gq;var Ks=E(()=>{hZ();nZ();Fs();gq=class gq extends hk{constructor(J,$){super($,J)}_keyCodeToUILabel(J){if(this._os===2)switch(J){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return K4.toString(J)}_getLabel(J){if(J.isDuplicateModifierCase())return"";return this._keyCodeToUILabel(J.keyCode)}_getAriaLabel(J){if(J.isDuplicateModifierCase())return"";return K4.toString(J.keyCode)}_getElectronAccelerator(J){return K4.toElectronAccelerator(J.keyCode)}_getUserSettingsLabel(J){if(J.isDuplicateModifierCase())return"";let $=K4.toUserSettingsUS(J.keyCode);return $?$.toLowerCase():$}_getChordDispatch(J){return gq.getDispatchStr(J)}static getDispatchStr(J){if(J.isModifierKey())return null;let $="";if(J.ctrlKey)$+="ctrl+";if(J.shiftKey)$+="shift+";if(J.altKey)$+="alt+";if(J.metaKey)$+="meta+";return $+=K4.toString(J.keyCode),$}_getSingleModifierChordDispatch(J){if(J.keyCode===5&&!J.shiftKey&&!J.altKey&&!J.metaKey)return"ctrl";if(J.keyCode===4&&!J.ctrlKey&&!J.altKey&&!J.metaKey)return"shift";if(J.keyCode===6&&!J.ctrlKey&&!J.shiftKey&&!J.metaKey)return"alt";if(J.keyCode===57&&!J.ctrlKey&&!J.shiftKey&&!J.altKey)return"meta";return null}static _scanCodeToKeyCode(J){let $=uW[J];if($!==-1)return $;switch(J){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(J){if(!J)return null;if(J instanceof v9)return J;let $=this._scanCodeToKeyCode(J.scanCode);if($===0)return null;return new v9(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,$)}static resolveKeybinding(J,$){let Q=RP(J.chords.map((X)=>this._toKeyCodeChord(X)));if(Q.length>0)return[new gq(Q,$)];return[]}}});var bj;var fk=E(()=>{n0();bj=b0("labelService")});class pq{constructor(J){this.callback=J}report(J){this._value=J,this.callback(this._value)}}var As,Mv0,NX;var Sj=E(()=>{n0();As=b0("progressService"),Mv0=Object.freeze({total(){},worked(){},done(){}});pq.None=Object.freeze({report(){}});NX=b0("editorProgressService")});class Ps{constructor(){this._value="",this._pos=0}reset(J){return this._value=J,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(J){let $=J.charCodeAt(0),Q=this._value.charCodeAt(this._pos);return $-Q}value(){return this._value[this._pos]}}class Ds{constructor(J=!0){this._caseSensitive=J}reset(J){return this._value=J,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let J=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(J)this._from++;else break;else J=!1;return this}cmp(J){return this._caseSensitive?pB(J,this._value,0,J.length,this._from,this._to):iG(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Rs{constructor(J=!0,$=!0){this._splitOnBackslash=J,this._caseSensitive=$}reset(J){this._from=0,this._to=0,this._value=J,this._valueLen=J.length;for(let $=J.length-1;$>=0;$--,this._valueLen--){let Q=this._value.charCodeAt($);if(!(Q===47||this._splitOnBackslash&&Q===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let J=!0;for(;this._to<this._valueLen;this._to++){let $=this._value.charCodeAt(this._to);if($===47||this._splitOnBackslash&&$===92)if(J)this._from++;else break;else J=!1}return this}cmp(J){return this._caseSensitive?pB(J,this._value,0,J.length,this._from,this._to):iG(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ms{constructor(J,$){this._ignorePathCasing=J,this._ignoreQueryAndFragment=$,this._states=[],this._stateIdx=0}reset(J){if(this._value=J,this._states=[],this._value.scheme)this._states.push(1);if(this._value.authority)this._states.push(2);if(this._value.path){if(this._pathIterator=new Rs(!1,!this._ignorePathCasing(J)),this._pathIterator.reset(J.path),this._pathIterator.value())this._states.push(3)}if(!this._ignoreQueryAndFragment(J)){if(this._value.query)this._states.push(4);if(this._value.fragment)this._states.push(5)}return this._stateIdx=0,this}next(){if(this._states[this._stateIdx]===3&&this._pathIterator.hasNext())this._pathIterator.next();else this._stateIdx+=1;return this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(J){if(this._states[this._stateIdx]===1)return Uz(J,this._value.scheme);else if(this._states[this._stateIdx]===2)return Uz(J,this._value.authority);else if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(J);else if(this._states[this._stateIdx]===4)return qz(J,this._value.query);else if(this._states[this._stateIdx]===5)return qz(J,this._value.fragment);throw Error()}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;else if(this._states[this._stateIdx]===2)return this._value.authority;else if(this._states[this._stateIdx]===3)return this._pathIterator.value();else if(this._states[this._stateIdx]===4)return this._value.query;else if(this._states[this._stateIdx]===5)return this._value.fragment;throw Error()}}class Cj{constructor(){this.height=1}rotateLeft(){let J=this.right;return this.right=J.left,J.left=this,this.updateHeight(),J.updateHeight(),J}rotateRight(){let J=this.left;return this.left=J.right,J.right=this,this.updateHeight(),J.updateHeight(),J}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var J,$;return($=(J=this.left)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}get heightRight(){var J,$;return($=(J=this.right)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}}var TX;var _P=E(()=>{G1();TX=class TX{static forUris(J=()=>!1,$=()=>!1){return new TX(new Ms(J,$))}static forStrings(){return new TX(new Ps)}static forConfigKeys(){return new TX(new Ds)}constructor(J){this._iter=J}clear(){this._root=void 0}set(J,$){let Q=this._iter.reset(J),X;if(!this._root)this._root=new Cj,this._root.segment=Q.value();let Y=[];X=this._root;while(!0){let G=Q.cmp(X.segment);if(G>0){if(!X.left)X.left=new Cj,X.left.segment=Q.value();Y.push([-1,X]),X=X.left}else if(G<0){if(!X.right)X.right=new Cj,X.right.segment=Q.value();Y.push([1,X]),X=X.right}else if(Q.hasNext()){if(Q.next(),!X.mid)X.mid=new Cj,X.mid.segment=Q.value();Y.push([0,X]),X=X.mid}else break}let Z=X.value;X.value=$,X.key=J;for(let G=Y.length-1;G>=0;G--){let q=Y[G][1];q.updateHeight();let U=q.balanceFactor();if(U<-1||U>1){let z=Y[G][0],H=Y[G+1][0];if(z===1&&H===1)Y[G][1]=q.rotateLeft();else if(z===-1&&H===-1)Y[G][1]=q.rotateRight();else if(z===1&&H===-1)q.right=Y[G+1][1]=Y[G+1][1].rotateRight(),Y[G][1]=q.rotateLeft();else if(z===-1&&H===1)q.left=Y[G+1][1]=Y[G+1][1].rotateLeft(),Y[G][1]=q.rotateRight();else throw Error();if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}return Z}get(J){var $;return($=this._getNode(J))===null||$===void 0?void 0:$.value}_getNode(J){let $=this._iter.reset(J),Q=this._root;while(Q){let X=$.cmp(Q.segment);if(X>0)Q=Q.left;else if(X<0)Q=Q.right;else if($.hasNext())$.next(),Q=Q.mid;else break}return Q}has(J){let $=this._getNode(J);return!(($===null||$===void 0?void 0:$.value)===void 0&&($===null||$===void 0?void 0:$.mid)===void 0)}delete(J){return this._delete(J,!1)}deleteSuperstr(J){return this._delete(J,!0)}_delete(J,$){var Q;let X=this._iter.reset(J),Y=[],Z=this._root;while(Z){let G=X.cmp(Z.segment);if(G>0)Y.push([-1,Z]),Z=Z.left;else if(G<0)Y.push([1,Z]),Z=Z.right;else if(X.hasNext())X.next(),Y.push([0,Z]),Z=Z.mid;else break}if(!Z)return;if($)Z.left=void 0,Z.mid=void 0,Z.right=void 0,Z.height=1;else Z.key=void 0,Z.value=void 0;if(!Z.mid&&!Z.value)if(Z.left&&Z.right){let G=this._min(Z.right);if(G.key){let{key:q,value:U,segment:z}=G;this._delete(G.key,!1),Z.key=q,Z.value=U,Z.segment=z}}else{let G=(Q=Z.left)!==null&&Q!==void 0?Q:Z.right;if(Y.length>0){let[q,U]=Y[Y.length-1];switch(q){case-1:U.left=G;break;case 0:U.mid=G;break;case 1:U.right=G;break}}else this._root=G}for(let G=Y.length-1;G>=0;G--){let q=Y[G][1];q.updateHeight();let U=q.balanceFactor();if(U>1)if(q.right.balanceFactor()>=0)Y[G][1]=q.rotateLeft();else q.right=q.right.rotateRight(),Y[G][1]=q.rotateLeft();else if(U<-1)if(q.left.balanceFactor()<=0)Y[G][1]=q.rotateRight();else q.left=q.left.rotateLeft(),Y[G][1]=q.rotateRight();if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}_min(J){while(J.left)J=J.left;return J}findSubstr(J){let $=this._iter.reset(J),Q=this._root,X=void 0;while(Q){let Y=$.cmp(Q.segment);if(Y>0)Q=Q.left;else if(Y<0)Q=Q.right;else if($.hasNext())$.next(),X=Q.value||X,Q=Q.mid;else break}return Q&&Q.value||X}findSuperstr(J){return this._findSuperstrOrElement(J,!1)}_findSuperstrOrElement(J,$){let Q=this._iter.reset(J),X=this._root;while(X){let Y=Q.cmp(X.segment);if(Y>0)X=X.left;else if(Y<0)X=X.right;else if(Q.hasNext())Q.next(),X=X.mid;else if(!X.mid)if($)return X.value;else return;else return this._entries(X.mid)}return}forEach(J){for(let[$,Q]of this)J(Q,$)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(J){let $=[];return this._dfsEntries(J,$),$[Symbol.iterator]()}_dfsEntries(J,$){if(!J)return;if(J.left)this._dfsEntries(J.left,$);if(J.value)$.push([J.key,J.value]);if(J.mid)this._dfsEntries(J.mid,$);if(J.right)this._dfsEntries(J.right,$)}}});function NP(J){let $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&m0.isUri($.uri)}function Os(J){let $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&!NP(J)&&!e40(J)}function _s(J,$){if(typeof J==="string"||typeof J>"u"){if(typeof J==="string")return{id:A4(J)};if($)return o40;return t40}let Q=J;if(Q.configuration)return{id:Q.id,configPath:Q.configuration};if(Q.folders.length===1)return{id:Q.id,uri:Q.folders[0].uri};return{id:Q.id}}function e40(J){let $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&m0.isUri($.configPath)}class gk{constructor(J,$){this.raw=$,this.uri=J.uri,this.index=J.index,this.name=J.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var vj,o40,t40,TP="code-workspace",Iv0,Ns="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var wP=E(()=>{a0();RQ();_P();V5();n0();vj=b0("contextService");o40={id:"ext-dev"},t40={id:"empty-window"};Iv0=[{name:M("codeWorkspace","Code Workspace"),extensions:[TP]}]});var Ts,ws,Ls,ks,Es,hj,Is,LP;var pk=E(()=>{a0();(function(J){J.inspectTokensAction=M("inspectTokens","Developer: Inspect Tokens")})(Ts||(Ts={}));(function(J){J.gotoLineActionLabel=M("gotoLineActionLabel","Go to Line/Column...")})(ws||(ws={}));(function(J){J.helpQuickAccessActionLabel=M("helpQuickAccess","Show all Quick Access Providers")})(Ls||(Ls={}));(function(J){J.quickCommandActionLabel=M("quickCommandActionLabel","Command Palette"),J.quickCommandHelp=M("quickCommandActionHelp","Show And Run Commands")})(ks||(ks={}));(function(J){J.quickOutlineActionLabel=M("quickOutlineActionLabel","Go to Symbol..."),J.quickOutlineByCategoryActionLabel=M("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Es||(Es={}));(function(J){J.editorViewAccessibleLabel=M("editorViewAccessibleLabel","Editor content"),J.accessibilityHelpMessage=M("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(hj||(hj={}));(function(J){J.toggleHighContrast=M("toggleHighContrast","Toggle High Contrast Theme")})(Is||(Is={}));(function(J){J.bulkEditServiceSummary=M("bulkEditServiceSummary","Made {0} edits in {1} files")})(LP||(LP={}))});var ys;var xs=E(()=>{n0();ys=b0("workspaceTrustManagementService")});var h5;var fj=E(()=>{(function(J){function $(Z,G){if(Z.start>=G.end||G.start>=Z.end)return{start:0,end:0};let q=Math.max(Z.start,G.start),U=Math.min(Z.end,G.end);if(U-q<=0)return{start:0,end:0};return{start:q,end:U}}J.intersect=$;function Q(Z){return Z.end-Z.start<=0}J.isEmpty=Q;function X(Z,G){return!Q($(Z,G))}J.intersects=X;function Y(Z,G){let q=[],U={start:Z.start,end:Math.min(G.start,Z.end)},z={start:Math.max(G.end,Z.start),end:Z.end};if(!Q(U))q.push(U);if(!Q(z))q.push(z);return q}J.relativeComplement=Y})(h5||(h5={}))});var bs=E(()=>{_0(".context-view{position:absolute}.context-view.fixed{all:initial;color:inherit;font-family:inherit;font-size:13px;position:fixed}")});function JJ0(J){let $=J;return!!$&&typeof $.x==="number"&&typeof $.y==="number"}function QG(J,$,Q){let X=Q.mode===aY.ALIGN?Q.offset:Q.offset+Q.size,Y=Q.mode===aY.ALIGN?Q.offset+Q.size:Q.offset;if(Q.position===0){if($<=J-X)return X;if($<=Y)return Y-$;return Math.max(J-$,0)}else{if($<=Y)return Y-$;if($<=J-X)return X;return 0}}var aY,XG,$J0=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var mk=E(()=>{jF();x0();B0();E1();fj();bs();(function(J){J[J.AVOID=0]="AVOID",J[J.ALIGN=1]="ALIGN"})(aY||(aY={}));XG=class XG extends r{constructor(J,$){super();this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=r.None,this.toDisposeOnSetContainer=r.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=M0(".context-view"),m7(this.view),this.setContainer(J,$),this._register(y0(()=>this.setContainer(null,1)))}setContainer(J,$){var Q;this.useFixedPosition=$!==1;let X=this.useShadowDOM;if(this.useShadowDOM=$===3,J===this.container&&X===this.useShadowDOM)return;if(this.container){if(this.toDisposeOnSetContainer.dispose(),this.shadowRoot)this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(Q=this.shadowRootHostElement)===null||Q===void 0||Q.remove(),this.shadowRootHostElement=null;else this.container.removeChild(this.view);this.container=null}if(J){if(this.container=J,this.useShadowDOM){this.shadowRootHostElement=M0(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});let Z=document.createElement("style");Z.textContent=$J0,this.shadowRoot.appendChild(Z),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(M0("slot"))}else this.container.appendChild(this.view);let Y=new q0;XG.BUBBLE_UP_EVENTS.forEach((Z)=>{Y.add(q6(this.container,Z,(G)=>{this.onDOMEvent(G,!1)}))}),XG.BUBBLE_DOWN_EVENTS.forEach((Z)=>{Y.add(q6(this.container,Z,(G)=>{this.onDOMEvent(G,!0)},!0))}),this.toDisposeOnSetContainer=Y}}show(J){var $,Q;if(this.isVisible())this.hide();c5(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",p7(this.view),this.toDisposeOnClean=J.render(this.view)||r.None,this.delegate=J,this.doLayout(),(Q=($=this.delegate).focus)===null||Q===void 0||Q.call($)}getViewElement(){return this.view}layout(){if(!this.isVisible())return;if(this.delegate.canRelayout===!1&&!(x9&&q3.pointerEvents)){this.hide();return}if(this.delegate.layout)this.delegate.layout();this.doLayout()}doLayout(){if(!this.isVisible())return;let J=this.delegate.getAnchor(),$;if(J instanceof HTMLElement){let j=x5(J),B=wF(J);$={top:j.top*B,left:j.left*B,width:j.width*B,height:j.height*B}}else if(JJ0(J))$={top:J.y,left:J.x,width:J.width||1,height:J.height||2};else $={top:J.posy,left:J.posx,width:2,height:2};let Q=j3(this.view),X=Sz(this.view),Y=this.delegate.anchorPosition||0,Z=this.delegate.anchorAlignment||0,G=this.delegate.anchorAxisAlignment||0,q,U,z=bC();if(G===0){let j={offset:$.top-z.pageYOffset,size:$.height,position:Y===0?0:1},B={offset:$.left,size:$.width,position:Z===0?0:1,mode:aY.ALIGN};if(q=QG(z.innerHeight,X,j)+z.pageYOffset,h5.intersects({start:q,end:q+X},{start:j.offset,end:j.offset+j.size}))B.mode=aY.AVOID;U=QG(z.innerWidth,Q,B)}else{let j={offset:$.left,size:$.width,position:Z===0?0:1},B={offset:$.top,size:$.height,position:Y===0?0:1,mode:aY.ALIGN};if(U=QG(z.innerWidth,Q,j),h5.intersects({start:U,end:U+Q},{start:j.offset,end:j.offset+j.size}))B.mode=aY.AVOID;q=QG(z.innerHeight,X,B)+z.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(Y===0?"bottom":"top"),this.view.classList.add(Z===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);let H=x5(this.container);this.view.style.top=`${q-(this.useFixedPosition?x5(this.view).top:H.top)}px`,this.view.style.left=`${U-(this.useFixedPosition?x5(this.view).left:H.left)}px`,this.view.style.width="initial"}hide(J){let $=this.delegate;if(this.delegate=null,$===null||$===void 0?void 0:$.onHide)$.onHide(J);this.toDisposeOnClean.dispose(),m7(this.view)}isVisible(){return!!this.delegate}onDOMEvent(J,$){if(this.delegate){if(this.delegate.onDOMEvent)this.delegate.onDOMEvent(J,L0(J).document.activeElement);else if($&&!J5(J.target,this.container))this.hide()}}dispose(){this.hide(),super.dispose()}};XG.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];XG.BUBBLE_DOWN_EVENTS=["click"]});var QJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},XJ0=function(J,$){return function(Q,X){$(Q,X,J)}},kP;var Ss=E(()=>{mk();B0();pY();x0();kP=class extends r{constructor($){super();this.layoutService=$,this.currentViewDisposable=r.None,this.contextView=this._register(new XG(this.layoutService.mainContainer,1)),this.layout(),this._register($.onDidLayoutContainer(()=>this.layout()))}showContextView($,Q,X){let Y;if(Q)if(Q===this.layoutService.getContainer(L0(Q)))Y=1;else if(X)Y=3;else Y=2;else Y=1;this.contextView.setContainer(Q!==null&&Q!==void 0?Q:this.layoutService.activeContainer,Y),this.contextView.show($);let Z=y0(()=>{if(this.currentViewDisposable===Z)this.hideContextView()});return this.currentViewDisposable=Z,Z}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView($){this.contextView.hide($)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=r.None}};kP=QJ0([XJ0(0,_9)],kP)});function gj(J,$=!1){YJ0(J,!1,$)}function YJ0(J,$,Q){let X=ZJ0(J,$);if(mq.push(X),!X.userConfigured)uk.push(X);else vs.push(X);if(Q&&!X.userConfigured)mq.forEach((Y)=>{if(Y.mime===X.mime||Y.userConfigured)return;if(X.extension&&Y.extension===X.extension)console.warn(`Overwriting extension <<${X.extension}>> to now point to mime <<${X.mime}>>`);if(X.filename&&Y.filename===X.filename)console.warn(`Overwriting filename <<${X.filename}>> to now point to mime <<${X.mime}>>`);if(X.filepattern&&Y.filepattern===X.filepattern)console.warn(`Overwriting filepattern <<${X.filepattern}>> to now point to mime <<${X.mime}>>`);if(X.firstline&&Y.firstline===X.firstline)console.warn(`Overwriting firstline <<${X.firstline}>> to now point to mime <<${X.mime}>>`)})}function ZJ0(J,$){return{id:J.id,mime:J.mime,filename:J.filename,extension:J.extension,filepattern:J.filepattern,firstline:J.firstline,userConfigured:$,filenameLowercase:J.filename?J.filename.toLowerCase():void 0,extensionLowercase:J.extension?J.extension.toLowerCase():void 0,filepatternLowercase:J.filepattern?Jk(J.filepattern.toLowerCase()):void 0,filepatternOnPath:J.filepattern?J.filepattern.indexOf(v6.sep)>=0:!1}}function hs(){mq=mq.filter((J)=>J.userConfigured),uk=[]}function fs(J,$){return GJ0(J,$).map((Q)=>Q.id)}function GJ0(J,$){let Q;if(J)switch(J.scheme){case H1.file:Q=J.fsPath;break;case H1.data:{Q=O9.parseMetaData(J).get(O9.META_DATA_LABEL);break}case H1.vscodeNotebookCell:Q=void 0;break;default:Q=J.path}if(!Q)return[{id:"unknown",mime:a9.unknown}];Q=Q.toLowerCase();let X=A4(Q),Y=Cs(Q,X,vs);if(Y)return[Y,{id:S5,mime:a9.text}];let Z=Cs(Q,X,uk);if(Z)return[Z,{id:S5,mime:a9.text}];if($){let G=qJ0($);if(G)return[G,{id:S5,mime:a9.text}]}return[{id:"unknown",mime:a9.unknown}]}function Cs(J,$,Q){var X;let Y=void 0,Z=void 0,G=void 0;for(let q=Q.length-1;q>=0;q--){let U=Q[q];if($===U.filenameLowercase){Y=U;break}if(U.filepattern){if(!Z||U.filepattern.length>Z.filepattern.length){let z=U.filepatternOnPath?J:$;if((X=U.filepatternLowercase)===null||X===void 0?void 0:X.call(U,z))Z=U}}if(U.extension){if(!G||U.extension.length>G.extension.length){if($.endsWith(U.extensionLowercase))G=U}}}if(Y)return Y;if(Z)return Z;if(G)return G;return}function qJ0(J){if(J3(J))J=J.substr(1);if(J.length>0)for(let $=mq.length-1;$>=0;$--){let Q=mq[$];if(!Q.firstline)continue;let X=J.match(Q.firstline);if(X&&X.length>0)return Q}return}var mq,uk,vs;var gs=E(()=>{$k();mz();K9();RQ();u$();G1();I4();mq=[],uk=[],vs=[]});class ms{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(ps,0),this._register(S5,1),this._nextLanguageId=2}_register(J,$){this._languageIdToLanguage[$]=J,this._languageToLanguageId.set(J,$)}register(J){if(this._languageToLanguageId.has(J))return;let $=this._nextLanguageId++;this._register(J,$)}encodeLanguageId(J){return this._languageToLanguageId.get(J)||0}decodeLanguageId(J){return this._languageIdToLanguage[J]||ps}}var EP,ps="vs.editor.nullLanguage",uq;var us=E(()=>{E0();B0();G1();gs();I4();H2();U7();EP=Object.prototype.hasOwnProperty;uq=class uq extends r{constructor(J=!0,$=!1){super();if(this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,uq.instanceCount++,this._warnOnOverwrite=$,this.languageIdCodec=new ms,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},J)this._initializeFromRegistry(),this._register(qY.onDidChangeLanguages((Q)=>{this._initializeFromRegistry()}))}dispose(){uq.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},hs();let J=[].concat(qY.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(J)}_registerLanguages(J){for(let $ of J)this._registerLanguage($);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(($)=>{let Q=this._languages[$];if(Q.name)this._nameMap[Q.name]=Q.identifier;Q.aliases.forEach((X)=>{this._lowercaseNameMap[X.toLowerCase()]=Q.identifier}),Q.mimetypes.forEach((X)=>{this._mimeTypesMap[X]=Q.identifier})}),G6.as(r9.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(J){let $=J.id,Q;if(EP.call(this._languages,$))Q=this._languages[$];else this.languageIdCodec.register($),Q={identifier:$,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[$]=Q;this._mergeLanguage(Q,J)}_mergeLanguage(J,$){let Q=$.id,X=null;if(Array.isArray($.mimetypes)&&$.mimetypes.length>0)J.mimetypes.push(...$.mimetypes),X=$.mimetypes[0];if(!X)X=`text/x-${Q}`,J.mimetypes.push(X);if(Array.isArray($.extensions)){if($.configuration)J.extensions=$.extensions.concat(J.extensions);else J.extensions=J.extensions.concat($.extensions);for(let G of $.extensions)gj({id:Q,mime:X,extension:G},this._warnOnOverwrite)}if(Array.isArray($.filenames))for(let G of $.filenames)gj({id:Q,mime:X,filename:G},this._warnOnOverwrite),J.filenames.push(G);if(Array.isArray($.filenamePatterns))for(let G of $.filenamePatterns)gj({id:Q,mime:X,filepattern:G},this._warnOnOverwrite);if(typeof $.firstLine==="string"&&$.firstLine.length>0){let G=$.firstLine;if(G.charAt(0)!=="^")G="^"+G;try{let q=new RegExp(G);if(!vS(q))gj({id:Q,mime:X,firstline:q},this._warnOnOverwrite)}catch(q){console.warn(`[${$.id}]: Invalid regular expression \`${G}\`: `,q)}}J.aliases.push(Q);let Y=null;if(typeof $.aliases<"u"&&Array.isArray($.aliases))if($.aliases.length===0)Y=[null];else Y=$.aliases;if(Y!==null)for(let G of Y){if(!G||G.length===0)continue;J.aliases.push(G)}let Z=Y!==null&&Y.length>0;if(Z&&Y[0]===null);else{let G=(Z?Y[0]:null)||Q;if(Z||!J.name)J.name=G}if($.configuration)J.configurationFiles.push($.configuration);if($.icon)J.icons.push($.icon)}isRegisteredLanguageId(J){if(!J)return!1;return EP.call(this._languages,J)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(J){let $=J.toLowerCase();if(!EP.call(this._lowercaseNameMap,$))return null;return this._lowercaseNameMap[$]}getLanguageIdByMimeType(J){if(!J)return null;if(EP.call(this._mimeTypesMap,J))return this._mimeTypesMap[J];return null}guessLanguageIdByFilepathOrFirstLine(J,$){if(!J&&!$)return[];return fs(J,$)}};uq.instanceCount=0});class ck{constructor(J,$){this._onDidChangeLanguages=J,this._selector=$,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){if(this._listener)this._listener.dispose(),this._listener=null;if(this._emitter)this._emitter.dispose(),this._emitter=null}get onDidChange(){if(!this._listener)this._listener=this._onDidChangeLanguages(()=>this._evaluate());if(!this._emitter)this._emitter=new p({onDidRemoveLastListener:()=>{this._dispose()}});return this._emitter.event}_evaluate(){var J;let $=this._selector();if($===this.languageId)return;this.languageId=$,(J=this._emitter)===null||J===void 0||J.fire(this.languageId)}}var cq;var cs=E(()=>{E0();B0();us();B1();w8();I4();cq=class cq extends r{constructor(J=!1){super();this._onDidRequestBasicLanguageFeatures=this._register(new p),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new p),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new p({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,cq.instanceCount++,this._registry=this._register(new uq(!0,J)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){cq.instanceCount--,super.dispose()}isRegisteredLanguageId(J){return this._registry.isRegisteredLanguageId(J)}getLanguageIdByLanguageName(J){return this._registry.getLanguageIdByLanguageName(J)}getLanguageIdByMimeType(J){return this._registry.getLanguageIdByMimeType(J)}guessLanguageIdByFilepathOrFirstLine(J,$){let Q=this._registry.guessLanguageIdByFilepathOrFirstLine(J,$);return hG(Q,null)}createById(J){return new ck(this.onDidChange,()=>{return this._createAndGetLanguageIdentifier(J)})}createByFilepathOrFirstLine(J,$){return new ck(this.onDidChange,()=>{let Q=this.guessLanguageIdByFilepathOrFirstLine(J,$);return this._createAndGetLanguageIdentifier(Q)})}_createAndGetLanguageIdentifier(J){if(!J||!this.isRegisteredLanguageId(J))J=S5;return J}requestBasicLanguageFeatures(J){if(!this._requestedBasicLanguages.has(J))this._requestedBasicLanguages.add(J),this._onDidRequestBasicLanguageFeatures.fire(J)}requestRichLanguageFeatures(J){if(!this._requestedRichLanguages.has(J))this._requestedRichLanguages.add(J),this.requestBasicLanguageFeatures(J),Q6.getOrCreate(J),this._onDidRequestRichLanguageFeatures.fire(J)}};cq.instanceCount=0});var IP;var lk=E(()=>{mz();IP={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:a9.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}});function ls(J,$){if(P5($))J.title=jP($);else if($===null||$===void 0?void 0:$.markdownNotSupportedFallback)J.title=$.markdownNotSupportedFallback;else J.removeAttribute("title")}class ds{constructor(J,$,Q){this.hoverDelegate=J,this.target=$,this.fadeInAnimation=Q}async update(J,$,Q){var X;if(this._cancellationTokenSource)this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0;if(this.isDisposed)return;let Y;if(J===void 0||P5(J)||J instanceof HTMLElement)Y=J;else if(!fG(J.markdown))Y=(X=J.markdown)!==null&&X!==void 0?X:J.markdownNotSupportedFallback;else{if(!this._hoverWidget)this.show(M("iconLabel.loading","Loading..."),$);this._cancellationTokenSource=new M5;let Z=this._cancellationTokenSource.token;if(Y=await J.markdown(Z),Y===void 0)Y=J.markdownNotSupportedFallback;if(this.isDisposed||Z.isCancellationRequested)return}this.show(Y,$,Q)}show(J,$,Q){let X=this._hoverWidget;if(this.hasContent(J)){let Y={content:J,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!X},position:{hoverPosition:2},...Q};this._hoverWidget=this.hoverDelegate.showHover(Y,$)}X===null||X===void 0||X.dispose()}hasContent(J){if(!J)return!1;if(_X(J))return!!J.value;return!0}get isDisposed(){var J;return(J=this._hoverWidget)===null||J===void 0?void 0:J.isDisposed}dispose(){var J,$;(J=this._hoverWidget)===null||J===void 0||J.dispose(),($=this._cancellationTokenSource)===null||$===void 0||$.dispose(!0),this._cancellationTokenSource=void 0}}function yP(J,$,Q,X){let Y,Z,G=(F,P)=>{var R;let D=Z!==void 0;if(F)Z===null||Z===void 0||Z.dispose(),Z=void 0;if(P)Y===null||Y===void 0||Y.dispose(),Y=void 0;if(D)(R=J.onDidHideHover)===null||R===void 0||R.call(J)},q=(F,P,R)=>{return new E8(async()=>{if(!Z||Z.isDisposed)Z=new ds(J,R||$,F>0),await Z.update(Q,P,X)},F)},U=!1,z=t($,W0.MOUSE_DOWN,()=>{U=!0,G(!0,!0)},!0),H=t($,W0.MOUSE_UP,()=>{U=!1},!0),j=t($,W0.MOUSE_LEAVE,(F)=>{U=!1,G(!1,F.fromElement===$)},!0),B=()=>{if(Y)return;let F=new q0,P={targetElements:[$],dispose:()=>{}};if(J.placement===void 0||J.placement==="mouse"){let R=(D)=>{if(P.x=D.x+10,D.target instanceof HTMLElement&&D.target.classList.contains("action-label"))G(!0,!0)};F.add(t($,W0.MOUSE_MOVE,R,!0))}F.add(q(J.delay,!1,P)),Y=F},V=t($,W0.MOUSE_OVER,B,!0),W=()=>{if(U||Y)return;let F={targetElements:[$],dispose:()=>{}},P=new q0,R=()=>G(!0,!0);P.add(t($,W0.BLUR,R,!0)),P.add(q(J.delay,!1,F)),Y=P},K=t($,W0.FOCUS,W,!0);return{show:(F)=>{G(!1,!0),q(0,F)},hide:()=>{G(!0,!0)},update:async(F,P)=>{Q=F,await(Z===null||Z===void 0?void 0:Z.update(Q,void 0,P))},dispose:()=>{V.dispose(),j.dispose(),z.dispose(),H.dispose(),K.dispose(),G(!0,!0)}}}var dk=E(()=>{x0();J6();z8();e2();xq();B0();a0()});class sk{constructor(J){this.spliceables=J}splice(J,$,Q){this.spliceables.forEach((X)=>X.splice(J,$,Q))}}var ak=E(()=>{_0(".monaco-list{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-list.mouse-support{-webkit-user-select:none;user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{width:100%;height:100%;position:relative}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{box-sizing:border-box;width:100%;position:absolute;overflow:hidden}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list .monaco-scrollable-element>.scrollbar.vertical,.monaco-pane-view>.monaco-split-view2.vertical>.monaco-scrollable-element>.scrollbar.vertical{z-index:14}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-single,.monaco-list.selection-multiple{outline:0!important}.monaco-drag-image{z-index:1000;border-radius:10px;padding:1px 7px;font-size:12px;display:inline-block;position:absolute}.monaco-list-type-filter-message{box-sizing:border-box;text-align:center;white-space:normal;opacity:.7;pointer-events:none;width:100%;height:100%;padding:40px 1em 1em;position:absolute;top:0;left:0}.monaco-list-type-filter-message:empty{display:none}")});var wX;var ss=E(()=>{wX=class wX extends Error{constructor(J,$){super(`ListError [${J}] ${$}`)}}});function as(J,$){let Q=[];for(let X of $){if(J.start>=X.range.end)continue;if(J.end<X.range.start)break;let Y=h5.intersect(J,X.range);if(h5.isEmpty(Y))continue;Q.push({range:Y,size:X.size})}return Q}function xP({start:J,end:$},Q){return{start:J+Q,end:$+Q}}function UJ0(J){let $=[],Q=null;for(let X of J){let Y=X.range.start,Z=X.range.end,G=X.size;if(Q&&G===Q.size){Q.range.end=Z;continue}Q={range:{start:Y,end:Z},size:G},$.push(Q)}return $}function zJ0(...J){return UJ0(J.reduce(($,Q)=>$.concat(Q),[]))}class bP{get paddingTop(){return this._paddingTop}set paddingTop(J){this._size=this._size+J-this._paddingTop,this._paddingTop=J}constructor(J){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=J!==null&&J!==void 0?J:0,this._size=this._paddingTop}splice(J,$,Q=[]){let X=Q.length-$,Y=as({start:0,end:J},this.groups),Z=as({start:J+$,end:Number.POSITIVE_INFINITY},this.groups).map((q)=>({range:xP(q.range,X),size:q.size})),G=Q.map((q,U)=>({range:{start:J+U,end:J+U+1},size:q.size}));this.groups=zJ0(Y,G,Z),this._size=this._paddingTop+this.groups.reduce((q,U)=>q+U.size*(U.range.end-U.range.start),0)}get count(){let J=this.groups.length;if(!J)return 0;return this.groups[J-1].range.end}get size(){return this._size}indexAt(J){if(J<0)return-1;if(J<this._paddingTop)return 0;let $=0,Q=this._paddingTop;for(let X of this.groups){let Y=X.range.end-X.range.start,Z=Q+Y*X.size;if(J<Z)return $+Math.floor((J-Q)/X.size);$+=Y,Q=Z}return $}indexAfter(J){return Math.min(this.indexAt(J)+1,this.count)}positionAt(J){if(J<0)return-1;let $=0,Q=0;for(let X of this.groups){let Y=X.range.end-X.range.start,Z=Q+Y;if(J<Z)return this._paddingTop+$+(J-Q)*X.size;$+=Y*X.size,Q=Z}return-1}}var rs=E(()=>{fj()});function HJ0(J){var $;try{($=J.parentElement)===null||$===void 0||$.removeChild(J)}catch(Q){}}class rk{constructor(J){this.renderers=J,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(J){let $=this.getTemplateCache(J).pop(),Q=!1;if($){if(Q=this.transactionNodesPendingRemoval.has($.domNode),Q)this.transactionNodesPendingRemoval.delete($.domNode)}else{let X=M0(".monaco-list-row"),Z=this.getRenderer(J).renderTemplate(X);$={domNode:X,templateId:J,templateData:Z}}return{row:$,isReusingConnectedDomNode:Q}}release(J){if(!J)return;this.releaseRow(J)}transact(J){if(this.inTransaction)throw Error("Already in transaction");this.inTransaction=!0;try{J()}finally{for(let $ of this.transactionNodesPendingRemoval)this.doRemoveNode($);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(J){let{domNode:$,templateId:Q}=J;if($)if(this.inTransaction)this.transactionNodesPendingRemoval.add($);else this.doRemoveNode($);this.getTemplateCache(Q).push(J)}doRemoveNode(J){J.classList.remove("scrolling"),HJ0(J)}getTemplateCache(J){let $=this.cache.get(J);if(!$)$=[],this.cache.set(J,$);return $}dispose(){this.cache.forEach((J,$)=>{for(let Q of J)this.getRenderer($).disposeTemplate(Q.templateData),Q.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(J){let $=this.renderers.get(J);if(!$)throw Error(`No renderer found for ${J}`);return $}}var is=E(()=>{x0()});class rY{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class ns{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class os{constructor(){this.types=[],this.files=[]}update(J){if(J.types)this.types.splice(0,this.types.length,...J.types);if(J.files){this.files.splice(0,this.files.length);for(let $=0;$<J.files.length;$++){let Q=J.files.item($);if(Q&&(Q.size||Q.type))this.files.push(Q)}}}getData(){return{types:this.types,files:this.files}}}function jJ0(J,$){if(Array.isArray(J)&&Array.isArray($))return B6(J,$);return J===$}class ts{constructor(J){if(J===null||J===void 0?void 0:J.getSetSize)this.getSetSize=J.getSetSize.bind(J);else this.getSetSize=($,Q,X)=>X;if(J===null||J===void 0?void 0:J.getPosInSet)this.getPosInSet=J.getPosInSet.bind(J);else this.getPosInSet=($,Q)=>Q+1;if(J===null||J===void 0?void 0:J.getRole)this.getRole=J.getRole.bind(J);else this.getRole=($)=>"listitem";if(J===null||J===void 0?void 0:J.isChecked)this.isChecked=J.isChecked.bind(J);else this.isChecked=($)=>{return}}}class N9{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(J){if(J===this._horizontalScrolling)return;if(J&&this.supportDynamicHeights)throw Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=J,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let $ of this.items)this.measureItemWidth($);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:LF(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}constructor(J,$,Q,X=e$){var Y,Z,G,q,U,z,H,j,B,V,W,K,A;if(this.virtualDelegate=$,this.domId=`list_id_${++N9.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new T4(50),this.splicing=!1,this.dragOverAnimationStopDisposable=r.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=r.None,this.onDragLeaveTimeout=r.None,this.disposables=new q0,this._onDidChangeContentHeight=new p,this._onDidChangeContentWidth=new p,this.onDidChangeContentHeight=V0.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,X.horizontalScrolling&&X.supportDynamicHeights)throw Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new bP((Y=X.paddingTop)!==null&&Y!==void 0?Y:0);for(let P of Q)this.renderers.set(P.templateId,P);if(this.cache=this.disposables.add(new rk(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof X.mouseSupport==="boolean"?X.mouseSupport:!0),this._horizontalScrolling=(Z=X.horizontalScrolling)!==null&&Z!==void 0?Z:e$.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof X.paddingBottom>"u"?0:X.paddingBottom,this.accessibilityProvider=new ts(X.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(G=X.transformOptimization)!==null&&G!==void 0?G:e$.transformOptimization)this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict";this.disposables.add(b1.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new v4({forceIntegerValues:!0,smoothScrollDuration:((q=X.smoothScrolling)!==null&&q!==void 0?q:!1)?125:0,scheduleAtNextAnimationFrame:(P)=>y5(L0(this.domNode),P)})),this.scrollableElement=this.disposables.add(new QX(this.rowsContainer,{alwaysConsumeMouseWheel:(U=X.alwaysConsumeMouseWheel)!==null&&U!==void 0?U:e$.alwaysConsumeMouseWheel,horizontal:1,vertical:(z=X.verticalScrollMode)!==null&&z!==void 0?z:e$.verticalScrollMode,useShadows:(H=X.useShadows)!==null&&H!==void 0?H:e$.useShadows,mouseWheelScrollSensitivity:X.mouseWheelScrollSensitivity,fastScrollSensitivity:X.fastScrollSensitivity,scrollByPage:X.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),J.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(t(this.rowsContainer,f1.Change,(P)=>this.onTouchChange(P))),this.disposables.add(t(this.scrollableElement.getDomNode(),"scroll",(P)=>P.target.scrollTop=0)),this.disposables.add(t(this.domNode,"dragover",(P)=>this.onDragOver(this.toDragEvent(P)))),this.disposables.add(t(this.domNode,"drop",(P)=>this.onDrop(this.toDragEvent(P)))),this.disposables.add(t(this.domNode,"dragleave",(P)=>this.onDragLeave(this.toDragEvent(P)))),this.disposables.add(t(this.domNode,"dragend",(P)=>this.onDragEnd(P))),this.setRowLineHeight=(j=X.setRowLineHeight)!==null&&j!==void 0?j:e$.setRowLineHeight,this.setRowHeight=(B=X.setRowHeight)!==null&&B!==void 0?B:e$.setRowHeight,this.supportDynamicHeights=(V=X.supportDynamicHeights)!==null&&V!==void 0?V:e$.supportDynamicHeights,this.dnd=(W=X.dnd)!==null&&W!==void 0?W:this.disposables.add(e$.dnd),this.layout((K=X.initialSize)===null||K===void 0?void 0:K.height,(A=X.initialSize)===null||A===void 0?void 0:A.width)}updateOptions(J){if(J.paddingBottom!==void 0)this.paddingBottom=J.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});if(J.smoothScrolling!==void 0)this.scrollable.setSmoothScrollDuration(J.smoothScrolling?125:0);if(J.horizontalScrolling!==void 0)this.horizontalScrolling=J.horizontalScrolling;let $;if(J.scrollByPage!==void 0)$={...$!==null&&$!==void 0?$:{},scrollByPage:J.scrollByPage};if(J.mouseWheelScrollSensitivity!==void 0)$={...$!==null&&$!==void 0?$:{},mouseWheelScrollSensitivity:J.mouseWheelScrollSensitivity};if(J.fastScrollSensitivity!==void 0)$={...$!==null&&$!==void 0?$:{},fastScrollSensitivity:J.fastScrollSensitivity};if($)this.scrollableElement.updateOptions($);if(J.paddingTop!==void 0&&J.paddingTop!==this.rangeMap.paddingTop){let Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),X=J.paddingTop-this.rangeMap.paddingTop;if(this.rangeMap.paddingTop=J.paddingTop,this.render(Q,Math.max(0,this.lastRenderTop+X),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(J,$,Q=[]){if(this.splicing)throw Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(J,$,Q)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(J,$,Q=[]){let X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Y={start:J,end:J+$},Z=h5.intersect(X,Y),G=new Map;for(let _=Z.end-1;_>=Z.start;_--){let O=this.items[_];if(O.dragStartDisposable.dispose(),O.checkedDisposable.dispose(),O.row){let N=G.get(O.templateId);if(!N)N=[],G.set(O.templateId,N);let w=this.renderers.get(O.templateId);if(w&&w.disposeElement)w.disposeElement(O.element,_,O.row.templateData,O.size);N.push(O.row)}O.row=null}let q={start:J+$,end:this.items.length},U=h5.intersect(q,X),z=h5.relativeComplement(q,X),H=Q.map((_)=>({id:String(this.itemId++),element:_,templateId:this.virtualDelegate.getTemplateId(_),size:this.virtualDelegate.getHeight(_),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(_),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:r.None,checkedDisposable:r.None})),j;if(J===0&&$>=this.items.length)this.rangeMap=new bP(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,H),j=this.items,this.items=H;else this.rangeMap.splice(J,$,H),j=this.items.splice(J,$,...H);let B=Q.length-$,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),W=xP(U,B),K=h5.intersect(V,W);for(let _=K.start;_<K.end;_++)this.updateItemInDOM(this.items[_],_);let A=h5.relativeComplement(W,V);for(let _ of A)for(let O=_.start;O<_.end;O++)this.removeItemFromDOM(O);let F=z.map((_)=>xP(_,B)),R=[{start:J,end:J+Q.length},...F].map((_)=>h5.intersect(V,_)),D=this.getNextToLastElement(R);for(let _ of R)for(let O=_.start;O<_.end;O++){let N=this.items[O],w=G.get(N.templateId),T=w===null||w===void 0?void 0:w.pop();this.insertItemInDOM(O,D,T)}for(let _ of G.values())for(let O of _)this.cache.release(O);if(this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight);return j.map((_)=>_.element)}eventuallyUpdateScrollDimensions(){if(this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,!this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable=y5(L0(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let J=0;for(let $ of this.items)if(typeof $.width<"u")J=Math.max(J,$.width);this.scrollWidth=J,this.scrollableElement.setScrollDimensions({scrollWidth:J===0?0:J+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(!this.supportDynamicHeights)return;for(let J of this.items)J.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(J){return this.items[J].element}indexOf(J){return this.items.findIndex(($)=>$.element===J)}domElement(J){let $=this.items[J].row;return $&&$.domNode}elementHeight(J){return this.items[J].size}elementTop(J){return this.rangeMap.positionAt(J)}indexAt(J){return this.rangeMap.indexAt(J)}indexAfter(J){return this.rangeMap.indexAfter(J)}layout(J,$){let Q={height:typeof J==="number"?J:yC(this.domNode)};if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,Q.scrollHeight=this.scrollHeight;if(this.scrollableElement.setScrollDimensions(Q),typeof $<"u"){if(this.renderWidth=$,this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight)}if(this.horizontalScrolling)this.scrollableElement.setScrollDimensions({width:typeof $==="number"?$:LF(this.domNode)})}render(J,$,Q,X,Y,Z=!1){let G=this.getRenderRange($,Q),q=h5.relativeComplement(G,J),U=h5.relativeComplement(J,G),z=this.getNextToLastElement(q);if(Z){let H=h5.intersect(J,G);for(let j=H.start;j<H.end;j++)this.updateItemInDOM(this.items[j],j)}if(this.cache.transact(()=>{for(let H of U)for(let j=H.start;j<H.end;j++)this.removeItemFromDOM(j);for(let H of q)for(let j=H.start;j<H.end;j++)this.insertItemInDOM(j,z)}),X!==void 0)this.rowsContainer.style.left=`-${X}px`;if(this.rowsContainer.style.top=`-${$}px`,this.horizontalScrolling&&Y!==void 0)this.rowsContainer.style.width=`${Math.max(Y,this.renderWidth)}px`;this.lastRenderTop=$,this.lastRenderHeight=Q}insertItemInDOM(J,$,Q){let X=this.items[J],Y=!1;if(!X.row)if(Q)X.row=Q;else{let z=this.cache.alloc(X.templateId);X.row=z.row,Y=z.isReusingConnectedDomNode}let Z=this.accessibilityProvider.getRole(X.element)||"listitem";X.row.domNode.setAttribute("role",Z);let G=this.accessibilityProvider.isChecked(X.element);if(typeof G==="boolean")X.row.domNode.setAttribute("aria-checked",String(!!G));else if(G){let z=(H)=>X.row.domNode.setAttribute("aria-checked",String(!!H));z(G.value),X.checkedDisposable=G.onDidChange(z)}if(Y||!X.row.domNode.parentElement)if($)this.rowsContainer.insertBefore(X.row.domNode,$);else this.rowsContainer.appendChild(X.row.domNode);this.updateItemInDOM(X,J);let q=this.renderers.get(X.templateId);if(!q)throw Error(`No renderer found for template id ${X.templateId}`);q===null||q===void 0||q.renderElement(X.element,J,X.row.templateData,X.size);let U=this.dnd.getDragURI(X.element);if(X.dragStartDisposable.dispose(),X.row.domNode.draggable=!!U,U)X.dragStartDisposable=t(X.row.domNode,"dragstart",(z)=>this.onDragStart(X.element,U,z));if(this.horizontalScrolling)this.measureItemWidth(X),this.eventuallyUpdateScrollWidth()}measureItemWidth(J){if(!J.row||!J.row.domNode)return;J.row.domNode.style.width="fit-content",J.width=LF(J.row.domNode);let $=L0(J.row.domNode).getComputedStyle(J.row.domNode);if($.paddingLeft)J.width+=parseFloat($.paddingLeft);if($.paddingRight)J.width+=parseFloat($.paddingRight);J.row.domNode.style.width=""}updateItemInDOM(J,$){if(J.row.domNode.style.top=`${this.elementTop($)}px`,this.setRowHeight)J.row.domNode.style.height=`${J.size}px`;if(this.setRowLineHeight)J.row.domNode.style.lineHeight=`${J.size}px`;J.row.domNode.setAttribute("data-index",`${$}`),J.row.domNode.setAttribute("data-last-element",$===this.length-1?"true":"false"),J.row.domNode.setAttribute("data-parity",$%2===0?"even":"odd"),J.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(J.element,$,this.length))),J.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(J.element,$))),J.row.domNode.setAttribute("id",this.getElementDomId($)),J.row.domNode.classList.toggle("drop-target",J.dropTarget)}removeItemFromDOM(J){let $=this.items[J];if($.dragStartDisposable.dispose(),$.checkedDisposable.dispose(),$.row){let Q=this.renderers.get($.templateId);if(Q&&Q.disposeElement)Q.disposeElement($.element,J,$.row.templateData,$.size);this.cache.release($.row),$.row=null}if(this.horizontalScrolling)this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(J,$){if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});this.scrollableElement.setScrollPosition({scrollTop:J,reuseAnimation:$})}get scrollTop(){return this.getScrollTop()}set scrollTop(J){this.setScrollTop(J)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return V0.map(this.disposables.add(new W1(this.domNode,"click")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseDblClick(){return V0.map(this.disposables.add(new W1(this.domNode,"dblclick")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseMiddleClick(){return V0.filter(V0.map(this.disposables.add(new W1(this.domNode,"auxclick")).event,(J)=>this.toMouseEvent(J),this.disposables),(J)=>J.browserEvent.button===1,this.disposables)}get onMouseDown(){return V0.map(this.disposables.add(new W1(this.domNode,"mousedown")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOver(){return V0.map(this.disposables.add(new W1(this.domNode,"mouseover")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOut(){return V0.map(this.disposables.add(new W1(this.domNode,"mouseout")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onContextMenu(){return V0.any(V0.map(this.disposables.add(new W1(this.domNode,"contextmenu")).event,(J)=>this.toMouseEvent(J),this.disposables),V0.map(this.disposables.add(new W1(this.domNode,f1.Contextmenu)).event,(J)=>this.toGestureEvent(J),this.disposables))}get onTouchStart(){return V0.map(this.disposables.add(new W1(this.domNode,"touchstart")).event,(J)=>this.toTouchEvent(J),this.disposables)}get onTap(){return V0.map(this.disposables.add(new W1(this.rowsContainer,f1.Tap)).event,(J)=>this.toGestureEvent(J),this.disposables)}toMouseEvent(J){let $=this.getItemIndexFromEventTarget(J.target||null),Q=typeof $>"u"?void 0:this.items[$],X=Q&&Q.element;return{browserEvent:J,index:$,element:X}}toTouchEvent(J){let $=this.getItemIndexFromEventTarget(J.target||null),Q=typeof $>"u"?void 0:this.items[$],X=Q&&Q.element;return{browserEvent:J,index:$,element:X}}toGestureEvent(J){let $=this.getItemIndexFromEventTarget(J.initialTarget||null),Q=typeof $>"u"?void 0:this.items[$],X=Q&&Q.element;return{browserEvent:J,index:$,element:X}}toDragEvent(J){let $=this.getItemIndexFromEventTarget(J.target||null),Q=typeof $>"u"?void 0:this.items[$],X=Q&&Q.element,Y=this.getTargetSector(J,$);return{browserEvent:J,index:$,element:X,sector:Y}}onScroll(J){try{let $=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);if(this.render($,J.scrollTop,J.height,J.scrollLeft,J.scrollWidth),this.supportDynamicHeights)this._rerender(J.scrollTop,J.height,J.inSmoothScrolling)}catch($){throw console.error("Got bad scroll event:",J),$}}onTouchChange(J){J.preventDefault(),J.stopPropagation(),this.scrollTop-=J.translationY}onDragStart(J,$,Q){var X,Y;if(!Q.dataTransfer)return;let Z=this.dnd.getDragElements(J);if(Q.dataTransfer.effectAllowed="copyMove",Q.dataTransfer.setData(IP.TEXT,$),Q.dataTransfer.setDragImage){let G;if(this.dnd.getDragLabel)G=this.dnd.getDragLabel(Z,Q);if(typeof G>"u")G=String(Z.length);let q=M0(".monaco-drag-image");q.textContent=G;let z=((H)=>{while(H&&!H.classList.contains("monaco-workbench"))H=H.parentElement;return H||this.domNode.ownerDocument})(this.domNode);z.appendChild(q),Q.dataTransfer.setDragImage(q,-10,-10),setTimeout(()=>z.removeChild(q),0)}this.domNode.classList.add("dragging"),this.currentDragData=new rY(Z),YG.CurrentDragAndDropData=new ns(Z),(Y=(X=this.dnd).onDragStart)===null||Y===void 0||Y.call(X,this.currentDragData,Q)}onDragOver(J){var $,Q;if(J.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),YG.CurrentDragAndDropData&&YG.CurrentDragAndDropData.getData()==="vscode-ui")return!1;if(this.setupDragAndDropScrollTopAnimation(J.browserEvent),!J.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(YG.CurrentDragAndDropData)this.currentDragData=YG.CurrentDragAndDropData;else{if(!J.browserEvent.dataTransfer.types)return!1;this.currentDragData=new os}let X=this.dnd.onDragOver(this.currentDragData,J.element,J.index,J.sector,J.browserEvent);if(this.canDrop=typeof X==="boolean"?X:X.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;J.browserEvent.dataTransfer.dropEffect=typeof X!=="boolean"&&(($=X.effect)===null||$===void 0?void 0:$.type)===0?"copy":"move";let Y;if(typeof X!=="boolean"&&X.feedback)Y=X.feedback;else if(typeof J.index>"u")Y=[-1];else Y=[J.index];Y=V4(Y).filter((G)=>G>=-1&&G<this.length).sort((G,q)=>G-q),Y=Y[0]===-1?[-1]:Y;let Z=typeof X!=="boolean"&&X.effect&&X.effect.position?X.effect.position:"drop-target";if(jJ0(this.currentDragFeedback,Y)&&this.currentDragFeedbackPosition===Z)return!0;if(this.currentDragFeedback=Y,this.currentDragFeedbackPosition=Z,this.currentDragFeedbackDisposable.dispose(),Y[0]===-1)this.domNode.classList.add(Z),this.rowsContainer.classList.add(Z),this.currentDragFeedbackDisposable=y0(()=>{this.domNode.classList.remove(Z),this.rowsContainer.classList.remove(Z)});else{if(Y.length>1&&Z!=="drop-target")throw Error("Can't use multiple feedbacks with position different than 'over'");if(Z==="drop-target-after"){if(Y[0]<this.length-1)Y[0]+=1,Z="drop-target-before"}for(let G of Y){let q=this.items[G];q.dropTarget=!0,(Q=q.row)===null||Q===void 0||Q.domNode.classList.add(Z)}this.currentDragFeedbackDisposable=y0(()=>{var G;for(let q of Y){let U=this.items[q];U.dropTarget=!1,(G=U.row)===null||G===void 0||G.domNode.classList.remove(Z)}})}return!0}onDragLeave(J){var $,Q;if(this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=$Y(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData)(Q=($=this.dnd).onDragLeave)===null||Q===void 0||Q.call($,this.currentDragData,J.element,J.index,J.browserEvent)}onDrop(J){if(!this.canDrop)return;let $=this.currentDragData;if(this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,YG.CurrentDragAndDropData=void 0,!$||!J.browserEvent.dataTransfer)return;J.browserEvent.preventDefault(),$.update(J.browserEvent.dataTransfer),this.dnd.drop($,J.element,J.index,J.sector,J.browserEvent)}onDragEnd(J){var $,Q;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,YG.CurrentDragAndDropData=void 0,(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=r.None}setupDragAndDropScrollTopAnimation(J){if(!this.dragOverAnimationDisposable){let $=EC(this.domNode).top;this.dragOverAnimationDisposable=pC(L0(this.domNode),this.animateDragAndDropScrollTop.bind(this,$))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=$Y(()=>{if(this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0},1000,this.disposables),this.dragOverMouseY=J.pageY}animateDragAndDropScrollTop(J){if(this.dragOverMouseY===void 0)return;let $=this.dragOverMouseY-J,Q=this.renderHeight-35;if($<35)this.scrollTop+=Math.max(-14,Math.floor(0.3*($-35)));else if($>Q)this.scrollTop+=Math.min(14,Math.floor(0.3*($-Q)))}teardownDragAndDropScrollTopAnimation(){if(this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0}getTargetSector(J,$){if($===void 0)return;let Q=J.offsetY/this.items[$].size;return Math.floor(Q/0.25)}getItemIndexFromEventTarget(J){let $=this.scrollableElement.getDomNode(),Q=J;while(Q instanceof HTMLElement&&Q!==this.rowsContainer&&$.contains(Q)){let X=Q.getAttribute("data-index");if(X){let Y=Number(X);if(!isNaN(Y))return Y}Q=Q.parentElement}return}getRenderRange(J,$){return{start:this.rangeMap.indexAt(J),end:this.rangeMap.indexAfter(J+$-1)}}_rerender(J,$,Q){let X=this.getRenderRange(J,$),Y,Z;if(J===this.elementTop(X.start))Y=X.start,Z=0;else if(X.end-X.start>1)Y=X.start+1,Z=this.elementTop(Y)-J;let G=0;while(!0){let q=this.getRenderRange(J,$),U=!1;for(let z=q.start;z<q.end;z++){let H=this.probeDynamicHeight(z);if(H!==0)this.rangeMap.splice(z,1,[this.items[z]]);G+=H,U=U||H!==0}if(!U){if(G!==0)this.eventuallyUpdateScrollDimensions();let z=h5.relativeComplement(X,q);for(let j of z)for(let B=j.start;B<j.end;B++)if(this.items[B].row)this.removeItemFromDOM(B);let H=h5.relativeComplement(q,X);for(let j of H)for(let B=j.start;B<j.end;B++){let V=B+1,W=V<this.items.length?this.items[V].row:null,K=W?W.domNode:null;this.insertItemInDOM(B,K)}for(let j=q.start;j<q.end;j++)if(this.items[j].row)this.updateItemInDOM(this.items[j],j);if(typeof Y==="number"){let j=this.scrollable.getFutureScrollPosition().scrollTop-J,B=this.elementTop(Y)-Z+j;this.setScrollTop(B,Q)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(J){var $,Q,X;let Y=this.items[J];if(this.virtualDelegate.getDynamicHeight){let U=this.virtualDelegate.getDynamicHeight(Y.element);if(U!==null){let z=Y.size;return Y.size=U,Y.lastDynamicHeightWidth=this.renderWidth,U-z}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth)return 0;if(!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;let Z=Y.size;if(Y.row)return Y.row.domNode.style.height="",Y.size=Y.row.domNode.offsetHeight,Y.lastDynamicHeightWidth=this.renderWidth,Y.size-Z;let{row:G}=this.cache.alloc(Y.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);let q=this.renderers.get(Y.templateId);if(!q)throw new l1("Missing renderer for templateId: "+Y.templateId);return q.renderElement(Y.element,J,G.templateData,void 0),Y.size=G.domNode.offsetHeight,($=q.disposeElement)===null||$===void 0||$.call(q,Y.element,J,G.templateData,void 0),(X=(Q=this.virtualDelegate).setDynamicHeight)===null||X===void 0||X.call(Q,Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Y.size-Z}getNextToLastElement(J){let $=J[J.length-1];if(!$)return null;let Q=this.items[$.end];if(!Q)return null;if(!Q.row)return null;return Q.row.domNode}getElementDomId(J){return`${this.domId}_${J}`}dispose(){var J,$;for(let Q of this.items)if(Q.dragStartDisposable.dispose(),Q.checkedDisposable.dispose(),Q.row){let X=this.renderers.get(Q.row.templateId);if(X)(J=X.disposeElement)===null||J===void 0||J.call(X,Q.element,-1,Q.row.templateData,void 0),X.disposeTemplate(Q.row.templateData)}if(this.items=[],this.domNode&&this.domNode.parentNode)this.domNode.parentNode.removeChild(this.domNode);($=this.dragOverAnimationDisposable)===null||$===void 0||$.dispose(),this.disposables.dispose()}}var LX=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},YG,e$;var SP=E(()=>{lk();x0();IJ();J4();EJ();B1();J6();E0();B0();fj();e3();rs();is();T1();YG={CurrentDragAndDropData:void 0},e$={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(J){return[J]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};N9.InstanceCount=0;LX([F6],N9.prototype,"onMouseClick",null);LX([F6],N9.prototype,"onMouseDblClick",null);LX([F6],N9.prototype,"onMouseMiddleClick",null);LX([F6],N9.prototype,"onMouseDown",null);LX([F6],N9.prototype,"onMouseOver",null);LX([F6],N9.prototype,"onMouseOut",null);LX([F6],N9.prototype,"onContextMenu",null);LX([F6],N9.prototype,"onTouchStart",null);LX([F6],N9.prototype,"onTap",null)});class $a{constructor(J){this.trait=J,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(J){return J}renderElement(J,$,Q){let X=this.renderedElements.findIndex((Y)=>Y.templateData===Q);if(X>=0){let Y=this.renderedElements[X];this.trait.unrender(Q),Y.index=$}else{let Y={index:$,templateData:Q};this.renderedElements.push(Y)}this.trait.renderIndex($,Q)}splice(J,$,Q){let X=[];for(let Y of this.renderedElements)if(Y.index<J)X.push(Y);else if(Y.index>=J+$)X.push({index:Y.index+Q-$,templateData:Y.templateData});this.renderedElements=X}renderIndexes(J){for(let{index:$,templateData:Q}of this.renderedElements)if(J.indexOf($)>-1)this.trait.renderIndex($,Q)}disposeTemplate(J){let $=this.renderedElements.findIndex((Q)=>Q.templateData===J);if($<0)return;this.renderedElements.splice($,1)}}class pj{get name(){return this._trait}get renderer(){return new $a(this)}constructor(J){this._trait=J,this.indexes=[],this.sortedIndexes=[],this._onChange=new p,this.onChange=this._onChange.event}splice(J,$,Q){let X=Q.length-$,Y=J+$,Z=[],G=0;while(G<this.sortedIndexes.length&&this.sortedIndexes[G]<J)Z.push(this.sortedIndexes[G++]);for(let q=0;q<Q.length;q++)if(Q[q])Z.push(q+J);while(G<this.sortedIndexes.length&&this.sortedIndexes[G]>=Y)Z.push(this.sortedIndexes[G++]+X);this.renderer.splice(J,$,Q.length),this._set(Z,Z)}renderIndex(J,$){$.classList.toggle(this._trait,this.contains(J))}unrender(J){J.classList.remove(this._trait)}set(J,$){return this._set(J,[...J].sort(Ja),$)}_set(J,$,Q){let X=this.indexes,Y=this.sortedIndexes;this.indexes=J,this.sortedIndexes=$;let Z=ik(Y,J);return this.renderer.renderIndexes(Z),this._onChange.fire({indexes:J,browserEvent:Q}),X}get(){return this.indexes}contains(J){return _W(this.sortedIndexes,J,Ja)>=0}dispose(){h1(this._onChange)}}class CP{constructor(J,$,Q){this.trait=J,this.view=$,this.identityProvider=Q}splice(J,$,Q){if(!this.identityProvider)return this.trait.splice(J,$,Array(Q.length).fill(!1));let X=this.trait.get().map((G)=>this.identityProvider.getId(this.view.element(G)).toString());if(X.length===0)return this.trait.splice(J,$,Array(Q.length).fill(!1));let Y=new Set(X),Z=Q.map((G)=>Y.has(this.identityProvider.getId(G).toString()));this.trait.splice(J,$,Z)}}function kX(J){return J.tagName==="INPUT"||J.tagName==="TEXTAREA"}function mj(J,$){if(J.classList.contains($))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return mj(J.parentElement,$)}function lq(J){return mj(J,"monaco-editor")}function Xa(J){return mj(J,"monaco-custom-toggle")}function Ya(J){return mj(J,"action-item")}function sq(J){return mj(J,"monaco-tree-sticky-row")}function uj(J){return J.classList.contains("monaco-tree-sticky-container")}function nk(J){if(J.tagName==="A"&&J.classList.contains("monaco-button")||J.tagName==="DIV"&&J.classList.contains("monaco-button-dropdown"))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return nk(J.parentElement)}class ok{get onKeyDown(){return V0.chain(this.disposables.add(new W1(this.view.domNode,"keydown")).event,(J)=>J.filter(($)=>!kX($.target)).map(($)=>new _1($)))}constructor(J,$,Q){this.list=J,this.view=$,this.disposables=new q0,this.multipleSelectionDisposables=new q0,this.multipleSelectionSupport=Q.multipleSelectionSupport,this.disposables.add(this.onKeyDown((X)=>{switch(X.keyCode){case 3:return this.onEnter(X);case 16:return this.onUpArrow(X);case 18:return this.onDownArrow(X);case 11:return this.onPageUpArrow(X);case 12:return this.onPageDownArrow(X);case 9:return this.onEscape(X);case 31:if(this.multipleSelectionSupport&&($1?X.metaKey:X.ctrlKey))this.onCtrlA(X)}}))}updateOptions(J){if(J.multipleSelectionSupport!==void 0)this.multipleSelectionSupport=J.multipleSelectionSupport}onEnter(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(this.list.getFocus(),J.browserEvent)}onUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPrevious(1,!1,J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNext(1,!1,J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPreviousPage(J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNextPage(J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onCtrlA(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(g5(this.list.length),J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(J){if(this.list.getSelection().length)J.preventDefault(),J.stopPropagation(),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}class Za{constructor(J,$,Q,X,Y){this.list=J,this.view=$,this.keyboardNavigationLabelProvider=Q,this.keyboardNavigationEventFilter=X,this.delegate=Y,this.enabled=!1,this.state=dq.Idle,this.mode=hJ.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new q0,this.disposables=new q0,this.updateOptions(J.options)}updateOptions(J){var $,Q;if(($=J.typeNavigationEnabled)!==null&&$!==void 0?$:!0)this.enable();else this.disable();this.mode=(Q=J.typeNavigationMode)!==null&&Q!==void 0?Q:hJ.Automatic}enable(){if(this.enabled)return;let J=!1,$=V0.chain(this.enabledDisposables.add(new W1(this.view.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!kX(Z.target)).filter(()=>this.mode===hJ.Automatic||this.triggered).map((Z)=>new _1(Z)).filter((Z)=>J||this.keyboardNavigationEventFilter(Z)).filter((Z)=>this.delegate.mightProducePrintableCharacter(Z)).forEach((Z)=>o0.stop(Z,!0)).map((Z)=>Z.browserEvent.key)),Q=V0.debounce($,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);V0.reduce(V0.any($,Q),(Y,Z)=>Z===null?null:(Y||"")+Z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Q(this.onClear,this,this.enabledDisposables),$(()=>J=!0,void 0,this.enabledDisposables),Q(()=>J=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){if(!this.enabled)return;this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1}onClear(){var J;let $=this.list.getFocus();if($.length>0&&$[0]===this.previouslyFocused){let Q=(J=this.list.options.accessibilityProvider)===null||J===void 0?void 0:J.getAriaLabel(this.list.element($[0]));if(Q)x3(Q)}this.previouslyFocused=-1}onInput(J){if(!J){this.state=dq.Idle,this.triggered=!1;return}let $=this.list.getFocus(),Q=$.length>0?$[0]:0,X=this.state===dq.Idle?1:0;this.state=dq.Typing;for(let Y=0;Y<this.list.length;Y++){let Z=(Q+Y+X)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Z)),q=G&&G.toString();if(this.list.options.typeNavigationEnabled){if(typeof q<"u"){if(Nj(J,q)){this.previouslyFocused=Q,this.list.setFocus([Z]),this.list.reveal(Z);return}let U=Sd(J,q);if(U){if(U[0].end-U[0].start>1&&U.length===1){this.previouslyFocused=Q,this.list.setFocus([Z]),this.list.reveal(Z);return}}}}else if(typeof q>"u"||Nj(J,q)){this.previouslyFocused=Q,this.list.setFocus([Z]),this.list.reveal(Z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Ga{constructor(J,$){this.list=J,this.view=$,this.disposables=new q0;let Q=V0.chain(this.disposables.add(new W1($.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!kX(Z.target)).map((Z)=>new _1(Z)));V0.chain(Q,(Y)=>Y.filter((Z)=>Z.keyCode===2&&!Z.ctrlKey&&!Z.metaKey&&!Z.shiftKey&&!Z.altKey))(this.onTab,this,this.disposables)}onTab(J){if(J.target!==this.view.domNode)return;let $=this.list.getFocus();if($.length===0)return;let Q=this.view.domElement($[0]);if(!Q)return;let X=Q.querySelector("[tabIndex]");if(!X||!(X instanceof HTMLElement)||X.tabIndex===-1)return;let Y=L0(X).getComputedStyle(X);if(Y.visibility==="hidden"||Y.display==="none")return;J.preventDefault(),J.stopPropagation(),X.focus()}dispose(){this.disposables.dispose()}}function tk(J){return $1?J.browserEvent.metaKey:J.browserEvent.ctrlKey}function ek(J){return J.browserEvent.shiftKey}function WJ0(J){return V3(J)&&J.button===2}class vP{constructor(J){if(this.list=J,this.disposables=new q0,this._onPointer=new p,this.onPointer=this._onPointer.event,J.options.multipleSelectionSupport!==!1)this.multipleSelectionController=this.list.options.multipleSelectionController||es;if(this.mouseSupport=typeof J.options.mouseSupport>"u"||!!J.options.mouseSupport,this.mouseSupport)J.onMouseDown(this.onMouseDown,this,this.disposables),J.onContextMenu(this.onContextMenu,this,this.disposables),J.onMouseDblClick(this.onDoubleClick,this,this.disposables),J.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(b1.addTarget(J.getHTMLElement()));V0.any(J.onMouseClick,J.onMouseMiddleClick,J.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(J){if(J.multipleSelectionSupport!==void 0){if(this.multipleSelectionController=void 0,J.multipleSelectionSupport)this.multipleSelectionController=this.list.options.multipleSelectionController||es}}isSelectionSingleChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionSingleChangeEvent(J)}isSelectionRangeChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionRangeChangeEvent(J)}isSelectionChangeEvent(J){return this.isSelectionSingleChangeEvent(J)||this.isSelectionRangeChangeEvent(J)}onMouseDown(J){if(lq(J.browserEvent.target))return;if(B5()!==J.browserEvent.target)this.list.domFocus()}onContextMenu(J){if(kX(J.browserEvent.target)||lq(J.browserEvent.target))return;let $=typeof J.index>"u"?[]:[J.index];this.list.setFocus($,J.browserEvent)}onViewPointer(J){if(!this.mouseSupport)return;if(kX(J.browserEvent.target)||lq(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;let $=J.index;if(typeof $>"u"){this.list.setFocus([],J.browserEvent),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(J))return this.changeSelection(J);if(this.list.setFocus([$],J.browserEvent),this.list.setAnchor($),!WJ0(J.browserEvent))this.list.setSelection([$],J.browserEvent);this._onPointer.fire(J)}onDoubleClick(J){if(kX(J.browserEvent.target)||lq(J.browserEvent.target))return;if(this.isSelectionChangeEvent(J))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;let $=this.list.getFocus();this.list.setSelection($,J.browserEvent)}changeSelection(J){let $=J.index,Q=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(J)){if(typeof Q>"u"){let z=this.list.getFocus()[0];Q=z!==null&&z!==void 0?z:$,this.list.setAnchor(Q)}let X=Math.min(Q,$),Y=Math.max(Q,$),Z=g5(X,Y+1),G=this.list.getSelection(),q=FJ0(ik(G,[Q]),Q);if(q.length===0)return;let U=ik(Z,KJ0(G,q));this.list.setSelection(U,J.browserEvent),this.list.setFocus([$],J.browserEvent)}else if(this.isSelectionSingleChangeEvent(J)){let X=this.list.getSelection(),Y=X.filter((Z)=>Z!==$);if(this.list.setFocus([$]),this.list.setAnchor($),X.length===Y.length)this.list.setSelection([...Y,$],J.browserEvent);else this.list.setSelection(Y,J.browserEvent)}}dispose(){this.disposables.dispose()}}class hP{constructor(J,$){this.styleElement=J,this.selectorSuffix=$}style(J){var $,Q;let X=this.selectorSuffix&&`.${this.selectorSuffix}`,Y=[];if(J.listBackground)Y.push(`.monaco-list${X} .monaco-list-rows { background: ${J.listBackground}; }`);if(J.listFocusBackground)Y.push(`.monaco-list${X}:focus .monaco-list-row.focused { background-color: ${J.listFocusBackground}; }`),Y.push(`.monaco-list${X}:focus .monaco-list-row.focused:hover { background-color: ${J.listFocusBackground}; }`);if(J.listFocusForeground)Y.push(`.monaco-list${X}:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`);if(J.listActiveSelectionBackground)Y.push(`.monaco-list${X}:focus .monaco-list-row.selected { background-color: ${J.listActiveSelectionBackground}; }`),Y.push(`.monaco-list${X}:focus .monaco-list-row.selected:hover { background-color: ${J.listActiveSelectionBackground}; }`);if(J.listActiveSelectionForeground)Y.push(`.monaco-list${X}:focus .monaco-list-row.selected { color: ${J.listActiveSelectionForeground}; }`);if(J.listActiveSelectionIconForeground)Y.push(`.monaco-list${X}:focus .monaco-list-row.selected .codicon { color: ${J.listActiveSelectionIconForeground}; }`);if(J.listFocusAndSelectionBackground)Y.push(`
				.monaco-drag-image,
				.monaco-list${X}:focus .monaco-list-row.selected.focused { background-color: ${J.listFocusAndSelectionBackground}; }
			`);if(J.listFocusAndSelectionForeground)Y.push(`
				.monaco-drag-image,
				.monaco-list${X}:focus .monaco-list-row.selected.focused { color: ${J.listFocusAndSelectionForeground}; }
			`);if(J.listInactiveFocusForeground)Y.push(`.monaco-list${X} .monaco-list-row.focused { color:  ${J.listInactiveFocusForeground}; }`),Y.push(`.monaco-list${X} .monaco-list-row.focused:hover { color:  ${J.listInactiveFocusForeground}; }`);if(J.listInactiveSelectionIconForeground)Y.push(`.monaco-list${X} .monaco-list-row.focused .codicon { color:  ${J.listInactiveSelectionIconForeground}; }`);if(J.listInactiveFocusBackground)Y.push(`.monaco-list${X} .monaco-list-row.focused { background-color:  ${J.listInactiveFocusBackground}; }`),Y.push(`.monaco-list${X} .monaco-list-row.focused:hover { background-color:  ${J.listInactiveFocusBackground}; }`);if(J.listInactiveSelectionBackground)Y.push(`.monaco-list${X} .monaco-list-row.selected { background-color:  ${J.listInactiveSelectionBackground}; }`),Y.push(`.monaco-list${X} .monaco-list-row.selected:hover { background-color:  ${J.listInactiveSelectionBackground}; }`);if(J.listInactiveSelectionForeground)Y.push(`.monaco-list${X} .monaco-list-row.selected { color: ${J.listInactiveSelectionForeground}; }`);if(J.listHoverBackground)Y.push(`.monaco-list${X}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${J.listHoverBackground}; }`);if(J.listHoverForeground)Y.push(`.monaco-list${X}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${J.listHoverForeground}; }`);let Z=g9(J.listFocusAndSelectionOutline,g9(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Z)Y.push(`.monaco-list${X}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Z}; outline-offset: -1px;}`);if(J.listFocusOutline)Y.push(`
				.monaco-drag-image,
				.monaco-list${X}:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${X}.last-focused .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
			`);let G=g9(J.listSelectionOutline,(Q=J.listInactiveFocusOutline)!==null&&Q!==void 0?Q:"");if(G)Y.push(`.monaco-list${X} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`);if(J.listSelectionOutline)Y.push(`.monaco-list${X} .monaco-list-row.selected { outline: 1px dotted ${J.listSelectionOutline}; outline-offset: -1px; }`);if(J.listInactiveFocusOutline)Y.push(`.monaco-list${X} .monaco-list-row.focused { outline: 1px dotted ${J.listInactiveFocusOutline}; outline-offset: -1px; }`);if(J.listHoverOutline)Y.push(`.monaco-list${X} .monaco-list-row:hover { outline: 1px dashed ${J.listHoverOutline}; outline-offset: -1px; }`);if(J.listDropOverBackground)Y.push(`
				.monaco-list${X}.drop-target,
				.monaco-list${X} .monaco-list-rows.drop-target,
				.monaco-list${X} .monaco-list-row.drop-target { background-color: ${J.listDropOverBackground} !important; color: inherit !important; }
			`);if(J.listDropBetweenBackground)Y.push(`
			.monaco-list${X} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${X} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${J.listDropBetweenBackground};
			}`),Y.push(`
			.monaco-list${X} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${X} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${J.listDropBetweenBackground};
			}`);if(J.tableColumnsBorder)Y.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${J.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`);if(J.tableOddRowsBackgroundColor)Y.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${J.tableOddRowsBackgroundColor};
				}
			`);this.styleElement.textContent=Y.join(`
`)}}function FJ0(J,$){let Q=J.indexOf($);if(Q===-1)return[];let X=[],Y=Q-1;while(Y>=0&&J[Y]===$-(Q-Y))X.push(J[Y--]);X.reverse(),Y=Q;while(Y<J.length&&J[Y]===$+(Y-Q))X.push(J[Y++]);return X}function ik(J,$){let Q=[],X=0,Y=0;while(X<J.length||Y<$.length)if(X>=J.length)Q.push($[Y++]);else if(Y>=$.length)Q.push(J[X++]);else if(J[X]===$[Y]){Q.push(J[X]),X++,Y++;continue}else if(J[X]<$[Y])Q.push(J[X++]);else Q.push($[Y++]);return Q}function KJ0(J,$){let Q=[],X=0,Y=0;while(X<J.length||Y<$.length)if(X>=J.length)Q.push($[Y++]);else if(Y>=$.length)Q.push(J[X++]);else if(J[X]===$[Y]){X++,Y++;continue}else if(J[X]<$[Y])Q.push(J[X++]);else Y++;return Q}class Ua{constructor(J,$){this._templateId=J,this.renderers=$}get templateId(){return this._templateId}renderTemplate(J){return this.renderers.map(($)=>$.renderTemplate(J))}renderElement(J,$,Q,X){let Y=0;for(let Z of this.renderers)Z.renderElement(J,$,Q[Y++],X)}disposeElement(J,$,Q,X){var Y;let Z=0;for(let G of this.renderers)(Y=G.disposeElement)===null||Y===void 0||Y.call(G,J,$,Q[Z],X),Z+=1}disposeTemplate(J){let $=0;for(let Q of this.renderers)Q.disposeTemplate(J[$++])}}class za{constructor(J){this.accessibilityProvider=J,this.templateId="a18n"}renderTemplate(J){return J}renderElement(J,$,Q){let X=this.accessibilityProvider.getAriaLabel(J);if(X)Q.setAttribute("aria-label",X);else Q.removeAttribute("aria-label");let Y=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(J);if(typeof Y==="number")Q.setAttribute("aria-level",`${Y}`);else Q.removeAttribute("aria-level")}disposeTemplate(J){}}class Ha{constructor(J,$){this.list=J,this.dnd=$}getDragElements(J){let $=this.list.getSelectedElements();return $.indexOf(J)>-1?$:[J]}getDragURI(J){return this.dnd.getDragURI(J)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J,$);return}onDragStart(J,$){var Q,X;(X=(Q=this.dnd).onDragStart)===null||X===void 0||X.call(Q,J,$)}onDragOver(J,$,Q,X,Y){return this.dnd.onDragOver(J,$,Q,X,Y)}onDragLeave(J,$,Q,X){var Y,Z;(Z=(Y=this.dnd).onDragLeave)===null||Z===void 0||Z.call(Y,J,$,Q,X)}onDragEnd(J){var $,Q;(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}drop(J,$,Q,X,Y){this.dnd.drop(J,$,Q,X,Y)}dispose(){this.dnd.dispose()}}class o8{get onDidChangeFocus(){return V0.map(this.eventBufferer.wrapEvent(this.focus.onChange),(J)=>this.toListEvent(J),this.disposables)}get onDidChangeSelection(){return V0.map(this.eventBufferer.wrapEvent(this.selection.onChange),(J)=>this.toListEvent(J),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let J=!1,$=V0.chain(this.disposables.add(new W1(this.view.domNode,"keydown")).event,(Y)=>Y.map((Z)=>new _1(Z)).filter((Z)=>J=Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>o0.stop(Z,!0)).filter(()=>!1)),Q=V0.chain(this.disposables.add(new W1(this.view.domNode,"keyup")).event,(Y)=>Y.forEach(()=>J=!1).map((Z)=>new _1(Z)).filter((Z)=>Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>o0.stop(Z,!0)).map(({browserEvent:Z})=>{let G=this.getFocus(),q=G.length?G[0]:void 0,U=typeof q<"u"?this.view.element(q):void 0,z=typeof q<"u"?this.view.domElement(q):this.view.domNode;return{index:q,element:U,anchor:z,browserEvent:Z}})),X=V0.chain(this.view.onContextMenu,(Y)=>Y.filter((Z)=>!J).map(({element:Z,index:G,browserEvent:q})=>({element:Z,index:G,anchor:new j8(L0(this.view.domNode),q),browserEvent:q})));return V0.any($,Q,X)}get onKeyDown(){return this.disposables.add(new W1(this.view.domNode,"keydown")).event}get onDidFocus(){return V0.signal(this.disposables.add(new W1(this.view.domNode,"focus",!0)).event)}constructor(J,$,Q,X,Y=BJ0){var Z,G,q,U;this.user=J,this._options=Y,this.focus=new pj("focused"),this.anchor=new pj("anchor"),this.eventBufferer=new vZ,this._ariaLabel="",this.disposables=new q0,this._onDidDispose=new p,this.onDidDispose=this._onDidDispose.event;let z=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Z=this._options.accessibilityProvider)===null||Z===void 0?void 0:Z.getWidgetRole():"list";this.selection=new Qa(z!=="listbox");let H=[this.focus.renderer,this.selection.renderer];if(this.accessibilityProvider=Y.accessibilityProvider,this.accessibilityProvider)H.push(new za(this.accessibilityProvider)),(q=(G=this.accessibilityProvider).onDidChangeActiveDescendant)===null||q===void 0||q.call(G,this.onDidChangeActiveDescendant,this,this.disposables);X=X.map((B)=>new Ua(B.templateId,[...H,B]));let j={...Y,dnd:Y.dnd&&new Ha(this,Y.dnd)};if(this.view=this.createListView($,Q,X,j),this.view.domNode.setAttribute("role",z),Y.styleController)this.styleController=Y.styleController(this.view.domId);else{let B=b5(this.view.domNode);this.styleController=new hP(B,this.view.domId)}if(this.spliceable=new sk([new CP(this.focus,this.view,Y.identityProvider),new CP(this.selection,this.view,Y.identityProvider),new CP(this.anchor,this.view,Y.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Ga(this,this.view)),typeof Y.keyboardSupport!=="boolean"||Y.keyboardSupport)this.keyboardController=new ok(this,this.view,Y),this.disposables.add(this.keyboardController);if(Y.keyboardNavigationLabelProvider){let B=Y.keyboardNavigationDelegate||VJ0;this.typeNavigationController=new Za(this,this.view,Y.keyboardNavigationLabelProvider,(U=Y.keyboardNavigationEventFilter)!==null&&U!==void 0?U:()=>!0,B),this.disposables.add(this.typeNavigationController)}if(this.mouseController=this.createMouseController(Y),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider)this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel();if(this._options.multipleSelectionSupport!==!1)this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(J,$,Q,X){return new N9(J,$,Q,X)}createMouseController(J){return new vP(this)}updateOptions(J={}){var $,Q;if(this._options={...this._options,...J},($=this.typeNavigationController)===null||$===void 0||$.updateOptions(this._options),this._options.multipleSelectionController!==void 0)if(this._options.multipleSelectionSupport)this.view.domNode.setAttribute("aria-multiselectable","true");else this.view.domNode.removeAttribute("aria-multiselectable");this.mouseController.updateOptions(J),(Q=this.keyboardController)===null||Q===void 0||Q.updateOptions(J),this.view.updateOptions(J)}get options(){return this._options}splice(J,$,Q=[]){if(J<0||J>this.view.length)throw new wX(this.user,`Invalid start index: ${J}`);if($<0)throw new wX(this.user,`Invalid delete count: ${$}`);if($===0&&Q.length===0)return;this.eventBufferer.bufferEvents(()=>this.spliceable.splice(J,$,Q))}rerender(){this.view.rerender()}element(J){return this.view.element(J)}indexOf(J){return this.view.indexOf(J)}indexAt(J){return this.view.indexAt(J)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(J){this.view.setScrollTop(J)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(J){this._ariaLabel=J,this.view.domNode.setAttribute("aria-label",J)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(J,$){this.view.layout(J,$)}setSelection(J,$){for(let Q of J)if(Q<0||Q>=this.length)throw new wX(this.user,`Invalid index ${Q}`);this.selection.set(J,$)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((J)=>this.view.element(J))}setAnchor(J){if(typeof J>"u"){this.anchor.set([]);return}if(J<0||J>=this.length)throw new wX(this.user,`Invalid index ${J}`);this.anchor.set([J])}getAnchor(){return hG(this.anchor.get(),void 0)}getAnchorElement(){let J=this.getAnchor();return typeof J>"u"?void 0:this.element(J)}setFocus(J,$){for(let Q of J)if(Q<0||Q>=this.length)throw new wX(this.user,`Invalid index ${Q}`);this.focus.set(J,$)}focusNext(J=1,$=!1,Q,X){if(this.length===0)return;let Y=this.focus.get(),Z=this.findNextIndex(Y.length>0?Y[0]+J:0,$,X);if(Z>-1)this.setFocus([Z],Q)}focusPrevious(J=1,$=!1,Q,X){if(this.length===0)return;let Y=this.focus.get(),Z=this.findPreviousIndex(Y.length>0?Y[0]-J:0,$,X);if(Z>-1)this.setFocus([Z],Q)}async focusNextPage(J,$){let Q=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Q=Q===0?0:Q-1;let X=this.getFocus()[0];if(X!==Q&&(X===void 0||Q>X)){let Y=this.findPreviousIndex(Q,!1,$);if(Y>-1&&X!==Y)this.setFocus([Y],J);else this.setFocus([Q],J)}else{let Y=this.view.getScrollTop(),Z=Y+this.view.renderHeight;if(Q>X)Z-=this.view.elementHeight(Q);if(this.view.setScrollTop(Z),this.view.getScrollTop()!==Y)this.setFocus([]),await bQ(0),await this.focusNextPage(J,$)}}async focusPreviousPage(J,$,Q=()=>0){let X,Y=Q(),Z=this.view.getScrollTop()+Y;if(Z===0)X=this.view.indexAt(Z);else X=this.view.indexAfter(Z-1);let G=this.getFocus()[0];if(G!==X&&(G===void 0||G>=X)){let q=this.findNextIndex(X,!1,$);if(q>-1&&G!==q)this.setFocus([q],J);else this.setFocus([X],J)}else{let q=Z;if(this.view.setScrollTop(Z-this.view.renderHeight-Y),this.view.getScrollTop()+Q()!==q)this.setFocus([]),await bQ(0),await this.focusPreviousPage(J,$,Q)}}focusLast(J,$){if(this.length===0)return;let Q=this.findPreviousIndex(this.length-1,!1,$);if(Q>-1)this.setFocus([Q],J)}focusFirst(J,$){this.focusNth(0,J,$)}focusNth(J,$,Q){if(this.length===0)return;let X=this.findNextIndex(J,!1,Q);if(X>-1)this.setFocus([X],$)}findNextIndex(J,$=!1,Q){for(let X=0;X<this.length;X++){if(J>=this.length&&!$)return-1;if(J=J%this.length,!Q||Q(this.element(J)))return J;J++}return-1}findPreviousIndex(J,$=!1,Q){for(let X=0;X<this.length;X++){if(J<0&&!$)return-1;if(J=(this.length+J%this.length)%this.length,!Q||Q(this.element(J)))return J;J--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((J)=>this.view.element(J))}reveal(J,$,Q=0){if(J<0||J>=this.length)throw new wX(this.user,`Invalid index ${J}`);let X=this.view.getScrollTop(),Y=this.view.elementTop(J),Z=this.view.elementHeight(J);if(q9($)){let G=Z-this.view.renderHeight+Q;this.view.setScrollTop(G*Y8($,0,1)+Y-Q)}else{let G=Y+Z,q=X+this.view.renderHeight;if(Y<X+Q&&G>=q);else if(Y<X+Q||G>=q&&Z>=this.view.renderHeight)this.view.setScrollTop(Y-Q);else if(G>=q)this.view.setScrollTop(G-this.view.renderHeight)}}getRelativeTop(J,$=0){if(J<0||J>=this.length)throw new wX(this.user,`Invalid index ${J}`);let Q=this.view.getScrollTop(),X=this.view.elementTop(J),Y=this.view.elementHeight(J);if(X<Q+$||X+Y>Q+this.view.renderHeight)return null;let Z=Y-this.view.renderHeight+$;return Math.abs((Q+$-X)/Z)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(J){return this.view.getElementDomId(J)}getElementTop(J){return this.view.elementTop(J)}style(J){this.styleController.style(J)}toListEvent({indexes:J,browserEvent:$}){return{indexes:J,elements:J.map((Q)=>this.view.element(Q)),browserEvent:$}}_onFocusChange(){let J=this.focus.get();this.view.domNode.classList.toggle("element-focused",J.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var J;let $=this.focus.get();if($.length>0){let Q;if((J=this.accessibilityProvider)===null||J===void 0?void 0:J.getActiveDescendantId)Q=this.accessibilityProvider.getActiveDescendantId(this.view.element($[0]));this.view.domNode.setAttribute("aria-activedescendant",Q||this.view.getElementDomId($[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let J=this.selection.get();this.view.domNode.classList.toggle("selection-none",J.length===0),this.view.domNode.classList.toggle("selection-single",J.length===1),this.view.domNode.classList.toggle("selection-multiple",J.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}var ZG=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Qa,hJ,dq,VJ0,es,qa,BJ0,Ja=(J,$)=>J-$;var GG=E(()=>{x0();IJ();k8();J4();KY();B1();J6();a7();E0();lY();B0();E1();ak();ss();SP();h9();ZG([F6],pj.prototype,"renderer",null);Qa=class Qa extends pj{constructor(J){super("selected");this.setAriaSelected=J}renderIndex(J,$){if(super.renderIndex(J,$),this.setAriaSelected)if(this.contains(J))$.setAttribute("aria-selected","true");else $.setAttribute("aria-selected","false")}};ZG([F6],ok.prototype,"onKeyDown",null);(function(J){J[J.Automatic=0]="Automatic",J[J.Trigger=1]="Trigger"})(hJ||(hJ={}));(function(J){J[J.Idle=0]="Idle",J[J.Typing=1]="Typing"})(dq||(dq={}));VJ0=new class{mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey||J.altKey)return!1;return J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30||J.keyCode>=98&&J.keyCode<=107||J.keyCode>=85&&J.keyCode<=95}};es={isSelectionSingleChangeEvent:tk,isSelectionRangeChangeEvent:ek};qa={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:X0.fromHex("#a9a9a9").transparent(0.4).toString(),tableColumnsBorder:X0.fromHex("#cccccc").transparent(0.2).toString(),tableOddRowsBackgroundColor:X0.fromHex("#cccccc").transparent(0.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},BJ0={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};ZG([F6],o8.prototype,"onDidChangeFocus",null);ZG([F6],o8.prototype,"onDidChangeSelection",null);ZG([F6],o8.prototype,"onContextMenu",null);ZG([F6],o8.prototype,"onKeyDown",null);ZG([F6],o8.prototype,"onDidFocus",null)});var ja=E(()=>{_0(".monaco-select-box-dropdown-padding{--dropdown-padding-top:1px;--dropdown-padding-bottom:1px}.hc-black .monaco-select-box-dropdown-padding,.hc-light .monaco-select-box-dropdown-padding{--dropdown-padding-top:3px;--dropdown-padding-bottom:4px}.monaco-select-box-dropdown-container{box-sizing:border-box;display:none}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown *{margin:0}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown code{line-height:15px;font-family:var(--monaco-monospace-font)}.monaco-select-box-dropdown-container.visible{text-align:left;border-bottom-right-radius:3px;border-bottom-left-radius:3px;flex-direction:column;width:1px;display:flex;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom);box-sizing:border-box;flex:none;align-self:flex-start;width:100%;padding-left:1px;padding-right:1px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-details-pane{padding:5px}.hc-black .monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom)}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row{cursor:pointer}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-text{text-overflow:ellipsis;white-space:nowrap;float:left;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-detail{text-overflow:ellipsis;white-space:nowrap;float:left;opacity:.7;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-decorator-right{text-overflow:ellipsis;white-space:nowrap;float:right;padding-right:10px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.visually-hidden{width:1px;height:1px;position:absolute;top:auto;left:-10000px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control{opacity:0;flex:auto;align-self:flex-start}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div{max-height:0;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div>.option-text-width-control{white-space:nowrap;padding-left:4px;padding-right:8px}")});class Wa{get templateId(){return Va}renderTemplate(J){let $=Object.create(null);return $.root=J,$.text=P0(J,qG(".option-text")),$.detail=P0(J,qG(".option-detail")),$.decoratorRight=P0(J,qG(".option-decorator-right")),$}renderElement(J,$,Q){let X=Q,Y=J.text,Z=J.detail,G=J.decoratorRight,q=J.isDisabled;if(X.text.textContent=Y,X.detail.textContent=Z?Z:"",X.decoratorRight.innerText=G?G:"",q)X.root.classList.add("option-disabled");else X.root.classList.remove("option-disabled")}disposeTemplate(J){}}var qG,Va="selectOption.entry.template",fJ;var Ba=E(()=>{x0();IJ();k8();KP();GG();B1();E0();hZ();B0();E1();ja();a0();qG=M0;fJ=class fJ extends r{constructor(J,$,Q,X,Y){super();if(this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=X,this.selectBoxOptions=Y||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!=="number")this.selectBoxOptions.minBottomMargin=fJ.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;else if(this.selectBoxOptions.minBottomMargin<0)this.selectBoxOptions.minBottomMargin=0;if(this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);if(this._onDidSelect=new p,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(Q),this.selected=$||0,J)this.setOptions(J,$);this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return Va}constructSelectDropDown(J){this.contextViewProvider=J,this.selectDropDownContainer=M0(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=P0(this.selectDropDownContainer,qG(".select-box-details-pane"));let $=P0(this.selectDropDownContainer,qG(".select-box-dropdown-container-width-control")),Q=P0($,qG(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",P0(Q,this.widthControlElement),this._dropDownPosition=0,this.styleElement=b5(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(t(this.selectDropDownContainer,W0.DRAG_START,(X)=>{o0.stop(X,!0)}))}registerListeners(){this._register(q6(this.selectElement,"change",($)=>{if(this.selected=$.target.selectedIndex,this._onDidSelect.fire({index:$.target.selectedIndex,selected:$.target.value}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text})),this._register(t(this.selectElement,W0.CLICK,($)=>{if(o0.stop($),this._isVisible)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(t(this.selectElement,W0.MOUSE_DOWN,($)=>{o0.stop($)}));let J;this._register(t(this.selectElement,"touchstart",($)=>{J=this._isVisible})),this._register(t(this.selectElement,"touchend",($)=>{if(o0.stop($),J)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(t(this.selectElement,W0.KEY_DOWN,($)=>{let Q=new _1($),X=!1;if($1){if(Q.keyCode===18||Q.keyCode===16||Q.keyCode===10||Q.keyCode===3)X=!0}else if(Q.keyCode===18&&Q.altKey||Q.keyCode===16&&Q.altKey||Q.keyCode===10||Q.keyCode===3)X=!0;if(X)this.showSelectDropDown(),o0.stop($,!0)}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!B6(this.options,J))this.options=J,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((Q,X)=>{if(this.selectElement.add(this.createOption(Q.text,X,Q.isDisabled)),typeof Q.description==="string")this._hasDetails=!0});if($!==void 0)this.select($),this._currentSelection=this.selected}setOptionsList(){var J;(J=this.selectList)===null||J===void 0||J.splice(0,this.selectList.length,this.options)}select(J){if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){this.container=J,J.classList.add("select-container"),J.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){let J=[];if(this.styles.listFocusBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`);if(this.styles.listFocusForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`);if(this.styles.decoratorRightForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`);if(this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground)J.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `);else if(this.styles.selectListBorder)J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `);if(this.styles.listHoverForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`);if(this.styles.listHoverBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`);if(this.styles.listFocusOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`);if(this.styles.listHoverOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`);J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=J.join(`
`)}styleSelectElement(){var J,$,Q;let X=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",Y=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",Z=(Q=this.styles.selectBorder)!==null&&Q!==void 0?Q:"";this.selectElement.style.backgroundColor=X,this.selectElement.style.color=Y,this.selectElement.style.borderColor=Z}styleList(){var J,$;let Q=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",X=g9(this.styles.selectListBackground,Q);this.selectDropDownListContainer.style.backgroundColor=X,this.selectionDetailsPane.style.backgroundColor=X;let Y=($=this.styles.focusBorder)!==null&&$!==void 0?$:"";this.selectDropDownContainer.style.outlineColor=Y,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(J,$,Q){let X=document.createElement("option");return X.value=J,X.text=J,X.disabled=!!Q,X}showSelectDropDown(){if(this.selectionDetailsPane.innerText="",!this.contextViewProvider||this._isVisible)return;this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true")}hideSelectDropDown(J){if(!this.contextViewProvider||!this._isVisible)return;if(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),J)this.selectElement.focus();this.contextViewProvider.hideContextView()}renderSelectDropDown(J,$){return J.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown($),{dispose:()=>{try{J.removeChild(this.selectDropDownContainer)}catch(Q){}}}}measureMaxDetailsHeight(){let J=0;return this.options.forEach(($,Q)=>{if(this.updateDetail(Q),this.selectionDetailsPane.offsetHeight>J)J=this.selectionDetailsPane.offsetHeight}),J}layoutSelectDropDown(J){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");let $=L0(this.selectElement),Q=x5(this.selectElement),X=L0(this.selectElement).getComputedStyle(this.selectElement),Y=parseFloat(X.getPropertyValue("--dropdown-padding-top"))+parseFloat(X.getPropertyValue("--dropdown-padding-bottom")),Z=$.innerHeight-Q.top-Q.height-(this.selectBoxOptions.minBottomMargin||0),G=Q.top-fJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,q=this.selectElement.offsetWidth,U=this.setWidthControlElement(this.widthControlElement),z=Math.max(U,Math.round(q)).toString()+"px";this.selectDropDownContainer.style.width=z,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let H=this.selectList.contentHeight;if(this._hasDetails&&this._cachedMaxDetailsHeight===void 0)this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight();let j=this._hasDetails?this._cachedMaxDetailsHeight:0,B=H+Y+j,V=Math.floor((Z-Y-j)/this.getHeight()),W=Math.floor((G-Y-j)/this.getHeight());if(J){if(Q.top+Q.height>$.innerHeight-22||Q.top<fJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||V<1&&W<1)return!1;if(V<fJ.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&W>V&&this.options.length>V)this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom");else this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top");return!0}if(Q.top+Q.height>$.innerHeight-22||Q.top<fJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&V<1||this._dropDownPosition===1&&W<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&V+W<1)return this.hideSelectDropDown(!0),!1;if(B>Z)H=V*this.getHeight()}else if(B>G)H=W*this.getHeight();if(this.selectList.layout(H),this.selectList.domFocus(),this.selectList.length>0)this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0);if(this._hasDetails)this.selectList.getHTMLElement().style.height=H+Y+"px",this.selectDropDownContainer.style.height="";else this.selectDropDownContainer.style.height=H+Y+"px";return this.updateDetail(this.selected),this.selectDropDownContainer.style.width=z,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(J){let $=0;if(J){let Q=0,X=0;this.options.forEach((Y,Z)=>{let G=Y.detail?Y.detail.length:0,q=Y.decoratorRight?Y.decoratorRight.length:0,U=Y.text.length+G+q;if(U>X)Q=Z,X=U}),J.textContent=this.options[Q].text+(this.options[Q].decoratorRight?this.options[Q].decoratorRight+" ":""),$=j3(J)}return $}createSelectList(J){if(this.selectList)return;if(this.selectDropDownListContainer=P0(J,qG(".select-box-dropdown-list-container")),this.listRenderer=new Wa,this.selectList=new o8("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:(X)=>{let Y=X.text;if(X.detail)Y+=`. ${X.detail}`;if(X.decoratorRight)Y+=`. ${X.decoratorRight}`;if(X.description)Y+=`. ${X.description}`;return Y},getWidgetAriaLabel:()=>M({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>$1?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel)this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel;let $=this._register(new W1(this.selectDropDownListContainer,"keydown")),Q=V0.chain($.event,(X)=>X.filter(()=>this.selectList.length>0).map((Y)=>new _1(Y)));this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===3))(this.onEnter,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===2))(this.onEnter,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===9))(this.onEscape,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===16))(this.onUpArrow,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===18))(this.onDownArrow,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===12))(this.onPageDown,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===11))(this.onPageUp,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===14))(this.onHome,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===13))(this.onEnd,this)),this._register(V0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode>=21&&Y.keyCode<=56||Y.keyCode>=85&&Y.keyCode<=113))(this.onCharacter,this)),this._register(t(this.selectList.getHTMLElement(),W0.POINTER_UP,(X)=>this.onPointerUp(X))),this._register(this.selectList.onMouseOver((X)=>typeof X.index<"u"&&this.selectList.setFocus([X.index]))),this._register(this.selectList.onDidChangeFocus((X)=>this.onListFocus(X))),this._register(t(this.selectDropDownContainer,W0.FOCUS_OUT,(X)=>{if(!this._isVisible||J5(X.relatedTarget,this.selectDropDownContainer))return;this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(J){if(!this.selectList.length)return;o0.stop(J);let $=J.target;if(!$)return;if($.classList.contains("slider"))return;let Q=$.closest(".monaco-list-row");if(!Q)return;let X=Number(Q.getAttribute("data-index")),Y=Q.classList.contains("option-disabled");if(X>=0&&X<this.options.length&&!Y){if(this.selected=X,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}}onListBlur(){if(this._sticky)return;if(this.selected!==this._currentSelection)this.select(this._currentSelection);this.hideSelectDropDown(!1)}renderDescriptionMarkdown(J,$){let Q=(Y)=>{for(let Z=0;Z<Y.childNodes.length;Z++){let G=Y.childNodes.item(Z);if((G.tagName&&G.tagName.toLowerCase())==="img")Y.removeChild(G);else Q(G)}},X=Sq({value:J,supportThemeIcons:!0},{actionHandler:$});return X.element.classList.add("select-box-description-markdown"),Q(X.element),X.element}onListFocus(J){if(!this._isVisible||!this._hasDetails)return;this.updateDetail(J.indexes[0])}updateDetail(J){var $,Q;this.selectionDetailsPane.innerText="";let X=this.options[J],Y=($=X===null||X===void 0?void 0:X.description)!==null&&$!==void 0?$:"",Z=(Q=X===null||X===void 0?void 0:X.descriptionIsMarkdown)!==null&&Q!==void 0?Q:!1;if(Y){if(Z){let G=X.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Y,G))}else this.selectionDetailsPane.innerText=Y;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(J){o0.stop(J),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(J){if(o0.stop(J),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}onDownArrow(J){if(this.selected<this.options.length-1){o0.stop(J,!0);let $=this.options[this.selected+1].isDisabled;if($&&this.options.length>this.selected+2)this.selected+=2;else if($)return;else this.selected++;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(J){if(this.selected>0){if(o0.stop(J,!0),this.options[this.selected-1].isDisabled&&this.selected>1)this.selected-=2;else this.selected--;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(J){o0.stop(J),this.selectList.focusPreviousPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1)this.selected++,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(J){o0.stop(J),this.selectList.focusNextPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0)this.selected--,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(J){if(o0.stop(J),this.options.length<2)return;if(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1)this.selected++;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onEnd(J){if(o0.stop(J),this.options.length<2)return;if(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1)this.selected--;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onCharacter(J){let $=K4.toString(J.keyCode),Q=-1;for(let X=0;X<this.options.length-1;X++)if(Q=(X+this.selected+1)%this.options.length,this.options[Q].text.charAt(0).toUpperCase()===$&&!this.options[Q].isDisabled){this.select(Q),this.selectList.setFocus([Q]),this.selectList.reveal(this.selectList.getFocus()[0]),o0.stop(J);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}};fJ.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;fJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;fJ.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3});var JE;var Fa=E(()=>{x0();J4();B1();E0();B0();E1();JE=class JE extends r{constructor(J,$,Q,X){super();if(this.selected=0,this.selectBoxOptions=X||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);this._onDidSelect=this._register(new p),this.styles=Q,this.registerListeners(),this.setOptions(J,$)}registerListeners(){this._register(b1.addTarget(this.selectElement)),[f1.Tap].forEach((J)=>{this._register(t(this.selectElement,J,($)=>{this.selectElement.focus()}))}),this._register(q6(this.selectElement,"click",(J)=>{o0.stop(J,!0)})),this._register(q6(this.selectElement,"change",(J)=>{this.selectElement.title=J.target.value,this._onDidSelect.fire({index:J.target.selectedIndex,selected:J.target.value})})),this._register(q6(this.selectElement,"keydown",(J)=>{let $=!1;if($1){if(J.keyCode===18||J.keyCode===16||J.keyCode===10)$=!0}else if(J.keyCode===18&&J.altKey||J.keyCode===10||J.keyCode===3)$=!0;if($)J.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!this.options||!B6(this.options,J))this.options=J,this.selectElement.options.length=0,this.options.forEach((Q,X)=>{this.selectElement.add(this.createOption(Q.text,X,Q.isDisabled))});if($!==void 0)this.select($)}select(J){if(this.options.length===0)this.selected=0;else if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text==="string")this.selectElement.title=this.options[this.selected].text;else this.selectElement.title=""}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){J.classList.add("select-container"),J.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var J,$,Q;if(this.selectElement)this.selectElement.style.backgroundColor=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",this.selectElement.style.color=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",this.selectElement.style.borderColor=(Q=this.styles.selectBorder)!==null&&Q!==void 0?Q:""}createOption(J,$,Q){let X=document.createElement("option");return X.value=J,X.text=J,X.disabled=!!Q,X}}});var Ka=E(()=>{_0(".monaco-select-box{cursor:pointer;border-radius:2px;width:100%}.monaco-select-box-dropdown-container{text-transform:none;font-size:13px;font-weight:400}.monaco-action-bar .action-item.select-container{cursor:default}.monaco-action-bar .action-item .monaco-select-box{cursor:pointer;min-width:100px;min-height:18px;padding:2px 23px 2px 8px}.mac .monaco-action-bar .action-item .monaco-select-box{border-radius:5px;font-size:11px}")});var $E;var Aa=E(()=>{Ba();Fa();b$();E1();Ka();$E=class $E extends F8{constructor(J,$,Q,X,Y){super();if($1&&!(Y===null||Y===void 0?void 0:Y.useCustomDrawn))this.selectBoxDelegate=new JE(J,$,X,Y);else this.selectBoxDelegate=new fJ(J,$,Q,X,Y);this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(J,$){this.selectBoxDelegate.setOptions(J,$)}select(J){this.selectBoxDelegate.select(J)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(J){this.selectBoxDelegate.setFocusable(J)}render(J){this.selectBoxDelegate.render(J)}}});var QE=E(()=>{_0(".monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{align-items:center;width:100%;height:100%;margin:0 auto;padding:0;display:flex}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{cursor:pointer;justify-content:center;align-items:center;display:block;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .icon,.monaco-action-bar .action-item .codicon{display:block}.monaco-action-bar .action-item .codicon{align-items:center;width:16px;height:16px;display:flex}.monaco-action-bar .action-label{border-radius:5px;padding:3px;font-size:11px;display:flex}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.6}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{border-bottom:1px solid #bbb;margin-left:.8em;margin-right:.8em;padding-top:1px;display:block}.monaco-action-bar .action-item .action-label.separator{cursor:default;background-color:#bbb;width:1px;min-width:1px;height:16px;padding:0;margin:5px 4px!important}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{flex:1;justify-content:center;align-items:center;min-width:60px;max-width:170px;margin-right:10px;display:flex;overflow:hidden}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator{cursor:default;align-items:center;display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator>div{width:1px}")});var L7,UG,XE;var cj=E(()=>{M7();lk();x0();J4();dk();Aa();Z7();B0();E1();QE();a0();L7=class L7 extends r{get action(){return this._action}constructor(J,$,Q={}){super();if(this.options=Q,this._context=J||this,this._action=$,$ instanceof O7)this._register($.onDidChange((X)=>{if(!this.element)return;this.handleActionChangeEvent(X)}))}handleActionChangeEvent(J){if(J.enabled!==void 0)this.updateEnabled();if(J.checked!==void 0)this.updateChecked();if(J.class!==void 0)this.updateClass();if(J.label!==void 0)this.updateLabel(),this.updateTooltip();if(J.tooltip!==void 0)this.updateTooltip()}get actionRunner(){if(!this._actionRunner)this._actionRunner=this._register(new W9);return this._actionRunner}set actionRunner(J){this._actionRunner=J}isEnabled(){return this._action.enabled}setActionContext(J){this._context=J}render(J){let $=this.element=J;this._register(b1.addTarget(J));let Q=this.options&&this.options.draggable;if(Q){if(J.draggable=!0,i5)this._register(t(J,W0.DRAG_START,(X)=>{var Y;return(Y=X.dataTransfer)===null||Y===void 0?void 0:Y.setData(IP.TEXT,this._action.label)}))}if(this._register(t($,f1.Tap,(X)=>this.onClick(X,!0))),this._register(t($,W0.MOUSE_DOWN,(X)=>{if(!Q)o0.stop(X,!0);if(this._action.enabled&&X.button===0)$.classList.add("active")})),$1)this._register(t($,W0.CONTEXT_MENU,(X)=>{if(X.button===0&&X.ctrlKey===!0)this.onClick(X)}));this._register(t($,W0.CLICK,(X)=>{if(o0.stop(X,!0),!(this.options&&this.options.isMenu))this.onClick(X)})),this._register(t($,W0.DBLCLICK,(X)=>{o0.stop(X,!0)})),[W0.MOUSE_UP,W0.MOUSE_OUT].forEach((X)=>{this._register(t($,X,(Y)=>{o0.stop(Y),$.classList.remove("active")}))})}onClick(J,$=!1){var Q;o0.stop(J,!0);let X=N8(this._context)?((Q=this.options)===null||Q===void 0?void 0:Q.useEventAsContext)?J:{preserveFocus:$}:this._context;this.actionRunner.run(this._action,X)}focus(){if(this.element)this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused")}blur(){if(this.element)this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused")}setFocusable(J){if(this.element)this.element.tabIndex=J?0:-1}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var J;if(!this.element)return;let $=(J=this.getTooltip())!==null&&J!==void 0?J:"";if(this.updateAriaLabel(),!this.options.hoverDelegate)this.element.title=$;else if(this.element.title="",!this.customHover)this.customHover=yP(this.options.hoverDelegate,this.element,$),this._store.add(this.customHover);else this.customHover.update($)}updateAriaLabel(){var J;if(this.element){let $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.element.setAttribute("aria-label",$)}}updateClass(){}updateChecked(){}dispose(){if(this.element)this.element.remove(),this.element=void 0;this._context=void 0,super.dispose()}};UG=class UG extends L7{constructor(J,$,Q){super(J,$,Q);this.options=Q,this.options.icon=Q.icon!==void 0?Q.icon:!1,this.options.label=Q.label!==void 0?Q.label:!0,this.cssClass=""}render(J){super.render(J),D5(this.element);let $=document.createElement("a");if($.classList.add("action-label"),$.setAttribute("role",this.getDefaultAriaRole()),this.label=$,this.element.appendChild($),this.options.label&&this.options.keybinding){let Q=document.createElement("span");Q.classList.add("keybinding"),Q.textContent=this.options.keybinding,this.element.appendChild(Q)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){if(this._action.id===Y5.ID)return"presentation";else if(this.options.isMenu)return"menuitem";else return"button"}focus(){if(this.label)this.label.tabIndex=0,this.label.focus()}blur(){if(this.label)this.label.tabIndex=-1}setFocusable(J){if(this.label)this.label.tabIndex=J?0:-1}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this.action.label}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(!this.options.label&&this.action.label&&this.options.icon){if(J=this.action.label,this.options.keybinding)J=M({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",J,this.options.keybinding)}return J!==null&&J!==void 0?J:void 0}updateClass(){var J;if(this.cssClass&&this.label)this.label.classList.remove(...this.cssClass.split(" "));if(this.options.icon){if(this.cssClass=this.getClass(),this.label){if(this.label.classList.add("codicon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "))}this.updateEnabled()}else(J=this.label)===null||J===void 0||J.classList.remove("codicon")}updateEnabled(){var J,$;if(this.action.enabled){if(this.label)this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled");(J=this.element)===null||J===void 0||J.classList.remove("disabled")}else{if(this.label)this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled");($=this.element)===null||$===void 0||$.classList.add("disabled")}}updateAriaLabel(){var J;if(this.label){let $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.label.setAttribute("aria-label",$)}}updateChecked(){if(this.label)if(this.action.checked!==void 0)this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox");else this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())}};XE=class XE extends L7{constructor(J,$,Q,X,Y,Z,G){super(J,$);this.selectBox=new $E(Q,X,Y,Z,G),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(J){this.selectBox.select(J)}registerListeners(){this._register(this.selectBox.onDidSelect((J)=>this.runAction(J.selected,J.index)))}runAction(J,$){this.actionRunner.run(this._action,this.getActionContext(J,$))}getActionContext(J,$){return J}setFocusable(J){this.selectBox.setFocusable(J)}focus(){var J;(J=this.selectBox)===null||J===void 0||J.focus()}blur(){var J;(J=this.selectBox)===null||J===void 0||J.blur()}render(J){this.selectBox.render(J)}}});var YE=E(()=>{_0(".monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;justify-content:center;align-items:center;height:100%;display:flex}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});var Pa,ZE;var Da=E(()=>{x0();k8();J4();Z7();E0();YE();Pa=class Pa extends W9{constructor(J,$){super();this._onDidChangeVisibility=this._register(new p),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=P0(J,M0(".monaco-dropdown")),this._label=P0(this._element,M0(".dropdown-label"));let Q=$.labelRenderer;if(!Q)Q=(Y)=>{return Y.textContent=$.label||"",null};for(let Y of[W0.CLICK,W0.MOUSE_DOWN,f1.Tap])this._register(t(this.element,Y,(Z)=>o0.stop(Z,!0)));for(let Y of[W0.MOUSE_DOWN,f1.Tap])this._register(t(this._label,Y,(Z)=>{if(V3(Z)&&(Z.detail>1||Z.button!==0))return;if(this.visible)this.hide();else this.show()}));this._register(t(this._label,W0.KEY_UP,(Y)=>{let Z=new _1(Y);if(Z.equals(3)||Z.equals(10))if(o0.stop(Y,!0),this.visible)this.hide();else this.show()}));let X=Q(this._label);if(X)this._register(X);this._register(b1.addTarget(this._label))}get element(){return this._element}show(){if(!this.visible)this.visible=!0,this._onDidChangeVisibility.fire(!0)}hide(){if(this.visible)this.visible=!1,this._onDidChangeVisibility.fire(!1)}dispose(){if(super.dispose(),this.hide(),this.boxContainer)this.boxContainer.remove(),this.boxContainer=void 0;if(this.contents)this.contents.remove(),this.contents=void 0;if(this._label)this._label.remove(),this._label=void 0}};ZE=class ZE extends Pa{constructor(J,$){super(J,$);this._options=$,this._actions=[],this.actions=$.actions||[]}set menuOptions(J){this._menuOptions=J}get menuOptions(){return this._menuOptions}get actions(){if(this._options.actionProvider)return this._options.actionProvider.getActions();return this._actions}set actions(J){this._actions=J}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(J,$)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(J,$):void 0,getKeyBinding:(J)=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(J):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}});var zG;var GE=E(()=>{x0();cj();Da();E0();YE();zG=class zG extends L7{constructor(J,$,Q,X=Object.create(null)){super(null,J,X);if(this.actionItem=null,this._onDidChangeVisibility=this._register(new p),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=$,this.contextMenuProvider=Q,this.options=X,this.options.actionRunner)this.actionRunner=this.options.actionRunner}render(J){this.actionItem=J;let $=(Y)=>{this.element=P0(Y,M0("a.action-label"));let Z=[];if(typeof this.options.classNames==="string")Z=this.options.classNames.split(/\s+/g).filter((G)=>!!G);else if(this.options.classNames)Z=this.options.classNames;if(!Z.find((G)=>G==="icon"))Z.push("codicon");return this.element.classList.add(...Z),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},Q=Array.isArray(this.menuActionsOrProvider),X={contextMenuProvider:this.contextMenuProvider,labelRenderer:$,menuAsChild:this.options.menuAsChild,actions:Q?this.menuActionsOrProvider:void 0,actionProvider:Q?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new ZE(J,X)),this._register(this.dropdownMenu.onDidChangeVisibility((Y)=>{var Z;(Z=this.element)===null||Z===void 0||Z.setAttribute("aria-expanded",`${Y}`),this._onDidChangeVisibility.fire(Y)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let Y=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return Y.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(this.action.label)J=this.action.label;return J!==null&&J!==void 0?J:void 0}setActionContext(J){if(super.setActionContext(J),this.dropdownMenu)if(this.dropdownMenu.menuOptions)this.dropdownMenu.menuOptions.context=J;else this.dropdownMenu.menuOptions={context:J}}show(){var J;(J=this.dropdownMenu)===null||J===void 0||J.show()}updateEnabled(){var J,$;let Q=!this.action.enabled;(J=this.actionItem)===null||J===void 0||J.classList.toggle("disabled",Q),($=this.element)===null||$===void 0||$.classList.toggle("disabled",Q)}}});var Ra=E(()=>{_0(".monaco-action-bar .action-item.menu-entry .action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default:hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});function Ma(J){return J?J.condition!==void 0:!1}class lj{constructor(){this.onDidChangeItemsExternal=V0.None,this.items=new Map}async updateItems(J){var $,Q;($=J.insert)===null||$===void 0||$.forEach((X,Y)=>this.items.set(Y,X)),(Q=J.delete)===null||Q===void 0||Q.forEach((X)=>this.items.delete(X))}}var HG,aq,jG;var Oa=E(()=>{J6();E0();B0();FP();(function(J){J[J.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",J[J.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(HG||(HG={}));(function(J){J[J.None=0]="None",J[J.Initialized=1]="Initialized",J[J.Closed=2]="Closed"})(aq||(aq={}));jG=class jG extends r{constructor(J,$=Object.create(null)){super();this.database=J,this.options=$,this._onDidChangeStorage=this._register(new F4),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=aq.None,this.cache=new Map,this.flushDelayer=this._register(new Mz(jG.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((J)=>this.onDidChangeItemsExternal(J)))}onDidChangeItemsExternal(J){var $,Q;this._onDidChangeStorage.pause();try{($=J.changed)===null||$===void 0||$.forEach((X,Y)=>this.acceptExternal(Y,X)),(Q=J.deleted)===null||Q===void 0||Q.forEach((X)=>this.acceptExternal(X,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(J,$){if(this.state===aq.Closed)return;let Q=!1;if(N8($))Q=this.cache.delete(J);else if(this.cache.get(J)!==$)this.cache.set(J,$),Q=!0;if(Q)this._onDidChangeStorage.fire({key:J,external:!0})}get(J,$){let Q=this.cache.get(J);if(N8(Q))return $;return Q}getBoolean(J,$){let Q=this.get(J);if(N8(Q))return $;return Q==="true"}getNumber(J,$){let Q=this.get(J);if(N8(Q))return $;return parseInt(Q,10)}async set(J,$,Q=!1){if(this.state===aq.Closed)return;if(N8($))return this.delete(J,Q);let X=z5($)||Array.isArray($)?dd($):String($);if(this.cache.get(J)===X)return;return this.cache.set(J,X),this.pendingInserts.set(J,X),this.pendingDeletes.delete(J),this._onDidChangeStorage.fire({key:J,external:Q}),this.doFlush()}async delete(J,$=!1){if(this.state===aq.Closed)return;if(!this.cache.delete(J))return;if(!this.pendingDeletes.has(J))this.pendingDeletes.add(J);return this.pendingInserts.delete(J),this._onDidChangeStorage.fire({key:J,external:$}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;let J={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(J).finally(()=>{var $;if(!this.hasPending)while(this.whenFlushedCallbacks.length)($=this.whenFlushedCallbacks.pop())===null||$===void 0||$()})}async doFlush(J){if(this.options.hint===HG.STORAGE_IN_MEMORY)return this.flushPending();return this.flushDelayer.trigger(()=>this.flushPending(),J)}};jG.DEFAULT_FLUSH_DELAY=100});function AJ0(J){let $=J.get(fP);if($)try{return JSON.parse($)}catch(Q){}return Object.create(null)}var fP="__$__targetStorageMarker",gJ,gP,pP,qE;var rq=E(()=>{E0();B0();Oa();n0();gJ=b0("storageService");(function(J){J[J.NONE=0]="NONE",J[J.SHUTDOWN=1]="SHUTDOWN"})(gP||(gP={}));pP=class pP extends r{constructor(J={flushInterval:pP.DEFAULT_FLUSH_INTERVAL}){super();this.options=J,this._onDidChangeValue=this._register(new F4),this._onDidChangeTarget=this._register(new F4),this._onWillSaveState=this._register(new p),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(J,$,Q){return V0.filter(this._onDidChangeValue.event,(X)=>X.scope===J&&($===void 0||X.key===$),Q)}emitDidChangeValue(J,$){let{key:Q,external:X}=$;if(Q===fP){switch(J){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:J})}else this._onDidChangeValue.fire({scope:J,key:Q,target:this.getKeyTargets(J)[Q],external:X})}get(J,$,Q){var X;return(X=this.getStorage($))===null||X===void 0?void 0:X.get(J,Q)}getBoolean(J,$,Q){var X;return(X=this.getStorage($))===null||X===void 0?void 0:X.getBoolean(J,Q)}getNumber(J,$,Q){var X;return(X=this.getStorage($))===null||X===void 0?void 0:X.getNumber(J,Q)}store(J,$,Q,X,Y=!1){if(N8($)){this.remove(J,Q,Y);return}this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(J,Q,X),(Z=this.getStorage(Q))===null||Z===void 0||Z.set(J,$,Y)})}remove(J,$,Q=!1){this.withPausedEmitters(()=>{var X;this.updateKeyTarget(J,$,void 0),(X=this.getStorage($))===null||X===void 0||X.delete(J,Q)})}withPausedEmitters(J){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{J()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(J,$,Q,X=!1){var Y,Z;let G=this.getKeyTargets($);if(typeof Q==="number"){if(G[J]!==Q)G[J]=Q,(Y=this.getStorage($))===null||Y===void 0||Y.set(fP,JSON.stringify(G),X)}else if(typeof G[J]==="number")delete G[J],(Z=this.getStorage($))===null||Z===void 0||Z.set(fP,JSON.stringify(G),X)}get workspaceKeyTargets(){if(!this._workspaceKeyTargets)this._workspaceKeyTargets=this.loadKeyTargets(1);return this._workspaceKeyTargets}get profileKeyTargets(){if(!this._profileKeyTargets)this._profileKeyTargets=this.loadKeyTargets(0);return this._profileKeyTargets}get applicationKeyTargets(){if(!this._applicationKeyTargets)this._applicationKeyTargets=this.loadKeyTargets(-1);return this._applicationKeyTargets}getKeyTargets(J){switch(J){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(J){let $=this.getStorage(J);return $?AJ0($):Object.create(null)}};pP.DEFAULT_FLUSH_INTERVAL=60000;qE=class qE extends pP{constructor(){super();this.applicationStorage=this._register(new jG(new lj,{hint:HG.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new jG(new lj,{hint:HG.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new jG(new lj,{hint:HG.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(1,J))),this._register(this.profileStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(0,J))),this._register(this.applicationStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(-1,J)))}getStorage(J){switch(J){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}});function PJ0(J,$){let Q={...$};for(let X in J){let Y=J[X];Q[X]=Y!==void 0?w0(Y):void 0}return Q}function EX(J){return PJ0(J,VG)}var _a,Na,Ta,UE,Lg0,kg0,zE,wa,La,Eg0,VG,ka,Ea;var iq=E(()=>{x8();a7();_a={keybindingLabelBackground:w0(sf),keybindingLabelForeground:w0(af),keybindingLabelBorder:w0(rf),keybindingLabelBottomBorder:w0(nf),keybindingLabelShadow:w0(N$)},Na={buttonForeground:w0(S3),buttonSeparator:w0(Cf),buttonBackground:w0(C3),buttonHoverBackground:w0(vf),buttonSecondaryForeground:w0(ff),buttonSecondaryBackground:w0(DK),buttonSecondaryHoverBackground:w0(gf),buttonBorder:w0(hf)},Ta={progressBarBackground:w0(mf)},UE={inputActiveOptionBorder:w0(Of),inputActiveOptionForeground:w0(Nf),inputActiveOptionBackground:w0(_f)},Lg0={checkboxBackground:w0(Mg),checkboxBorder:w0(_g),checkboxForeground:w0(Og)},kg0={dialogBackground:w0(a6),dialogForeground:w0(L$),dialogShadow:w0(N$),dialogBorder:w0(y1),errorIconForeground:w0(pg),warningIconForeground:w0(mg),infoIconForeground:w0(ug),textLinkForeground:w0(Af)},zE={inputBackground:w0(Df),inputForeground:w0(Rf),inputBorder:w0(Mf),inputValidationInfoBorder:w0(Lf),inputValidationInfoBackground:w0(Tf),inputValidationInfoForeground:w0(wf),inputValidationWarningBorder:w0(If),inputValidationWarningBackground:w0(kf),inputValidationWarningForeground:w0(Ef),inputValidationErrorBorder:w0(bf),inputValidationErrorBackground:w0(yf),inputValidationErrorForeground:w0(xf)},wa={listFilterWidgetBackground:w0(Bg),listFilterWidgetOutline:w0(Fg),listFilterWidgetNoMatchesOutline:w0(Kg),listFilterWidgetShadow:w0(Ag),inputBoxStyles:zE,toggleStyles:UE},La={badgeBackground:w0(AH),badgeForeground:w0(pf),badgeBorder:w0(y1)},Eg0={breadcrumbsBackground:w0(xg),breadcrumbsForeground:w0(yg),breadcrumbsHoverForeground:w0(YN),breadcrumbsFocusForeground:w0(YN),breadcrumbsFocusAndSelectionForeground:w0(bg)},VG={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:w0(Xg),listFocusForeground:w0(Yg),listFocusOutline:w0(Zg),listActiveSelectionBackground:w0(k$),listActiveSelectionForeground:w0(TJ),listActiveSelectionIconForeground:w0(m3),listFocusAndSelectionOutline:w0(Gg),listFocusAndSelectionBackground:w0(k$),listFocusAndSelectionForeground:w0(TJ),listInactiveSelectionBackground:w0(qg),listInactiveSelectionIconForeground:w0(zg),listInactiveSelectionForeground:w0(Ug),listInactiveFocusBackground:w0(Hg),listInactiveFocusOutline:w0(jg),listHoverBackground:w0(QN),listHoverForeground:w0(XN),listDropOverBackground:w0(Vg),listDropBetweenBackground:w0(Wg),listSelectionOutline:w0(_6),listHoverOutline:w0(_6),treeIndentGuidesStroke:w0(u3),treeInactiveIndentGuidesStroke:w0(Pg),tableColumnsBorder:w0(Dg),tableOddRowsBackgroundColor:w0(Rg)};ka={selectBackground:w0(_J),selectListBackground:w0(Sf),selectForeground:w0(T$),decoratorRightForeground:w0(NK),selectBorder:w0(DY),focusBorder:w0(R9),listFocusBackground:w0(y$),listInactiveSelectionIconForeground:w0(tQ),listFocusForeground:w0(I$),listFocusOutline:Ff(_6,X0.transparent.toString()),listHoverBackground:w0(QN),listHoverForeground:w0(XN),listHoverOutline:w0(_6),selectListBorder:w0(NJ),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},Ea={shadowColor:w0(N$),borderColor:w0(Ng),foregroundColor:w0(Tg),backgroundColor:w0(wg),selectionForegroundColor:w0(Lg),selectionBackgroundColor:w0(kg),selectionBorderColor:w0(Eg),separatorColor:w0(Ig),scrollbarShadow:w0(v3),scrollbarSliderBackground:w0(h3),scrollbarSliderHoverBackground:w0(f3),scrollbarSliderActiveBackground:w0(g3)}});function ba(J,$,Q,X){let Y=J.getActions($),Z=F$.getInstance(),G=Z.keyStatus.altKey||(c6||w6)&&Z.keyStatus.shiftKey;Ca(Y,Q,G,X?(q)=>q===X:(q)=>q==="navigation")}function Sa(J,$,Q,X,Y,Z){let G=J.getActions($);Ca(G,Q,!1,typeof X==="string"?(U)=>U===X:X,Y,Z)}function Ca(J,$,Q,X=(G)=>G==="navigation",Y=()=>!1,Z=!1){let G,q;if(Array.isArray($))G=$,q=$;else G=$.primary,q=$.secondary;let U=new Set;for(let[z,H]of J){let j;if(X(z)){if(j=G,j.length>0&&Z)j.push(new Y5)}else if(j=q,j.length>0)j.push(new Y5);for(let B of H){if(Q)B=B instanceof M4&&B.alt?B.alt:B;let V=j.push(B);if(B instanceof IQ)U.add({group:z,action:B,index:V-1})}}for(let{group:z,action:H,index:j}of U){let B=X(z)?G:q,V=H.actions;if(Y(H,z,B.length))B.splice(j,1,...V)}}var mP=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},k7=function(J,$){return function(Q,X){$(Q,X,J)}},nq,Ia,ya,xa;var uP=E(()=>{x0();k8();cj();GE();Z7();OP();B0();E1();Ra();a0();_4();e1();OX();n0();h4();PX();rq();G5();N5();eQ();x8();iq();RJ();nq=class extends UG{constructor($,Q,X,Y,Z,G,q,U){super(void 0,$,{icon:!!($.class||$.item.icon),label:!$.class&&!$.item.icon,draggable:Q===null||Q===void 0?void 0:Q.draggable,keybinding:Q===null||Q===void 0?void 0:Q.keybinding,hoverDelegate:Q===null||Q===void 0?void 0:Q.hoverDelegate});this._keybindingService=X,this._notificationService=Y,this._contextKeyService=Z,this._themeService=G,this._contextMenuService=q,this._accessibilityService=U,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new r5),this._altKey=F$.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick($){$.preventDefault(),$.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(Q){this._notificationService.error(Q)}}render($){if(super.render($),$.classList.add("menu-entry"),this.options.icon)this._updateItemClass(this._menuItemAction.item);if(this._menuItemAction.alt){let Q=!1,X=()=>{var Y;let Z=!!((Y=this._menuItemAction.alt)===null||Y===void 0?void 0:Y.enabled)&&(!this._accessibilityService.isMotionReduced()||Q)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&Q);if(Z!==this._wantsAltCommand)this._wantsAltCommand=Z,this.updateLabel(),this.updateTooltip(),this.updateClass()};this._register(this._altKey.event(X)),this._register(t($,"mouseleave",(Y)=>{Q=!1,X()})),this._register(t($,"mouseenter",(Y)=>{Q=!0,X()})),X()}}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this._commandAction.label}getTooltip(){var $;let Q=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),X=Q&&Q.getLabel(),Y=this._commandAction.tooltip||this._commandAction.label,Z=X?M("titleAndKb","{0} ({1})",Y,X):Y;if(!this._wantsAltCommand&&(($=this._menuItemAction.alt)===null||$===void 0?void 0:$.enabled)){let G=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,q=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),U=q&&q.getLabel(),z=U?M("titleAndKb","{0} ({1})",G,U):G;Z=M("titleAndKbAndAlt",`{0}
[{1}] {2}`,Z,fq.modifierLabels[f8].altKey,z)}return Z}updateClass(){if(this.options.icon)if(this._commandAction!==this._menuItemAction){if(this._menuItemAction.alt)this._updateItemClass(this._menuItemAction.alt.item)}else this._updateItemClass(this._menuItemAction.item)}_updateItemClass($){this._itemClassDispose.value=void 0;let{element:Q,label:X}=this;if(!Q||!X)return;let Y=this._commandAction.checked&&Ma($.toggled)&&$.toggled.icon?$.toggled.icon:$.icon;if(!Y)return;if(c0.isThemeIcon(Y)){let Z=c0.asClassNameArray(Y);X.classList.add(...Z),this._itemClassDispose.value=y0(()=>{X.classList.remove(...Z)})}else X.style.backgroundImage=E2(this._themeService.getColorTheme().type)?L4(Y.dark):L4(Y.light),X.classList.add("icon"),this._itemClassDispose.value=p8(y0(()=>{X.style.backgroundImage="",X.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};nq=mP([k7(2,Q5),k7(3,X8),k7(4,s0),k7(5,Z5),k7(6,Q9),k7(7,I8)],nq);Ia=class extends zG{constructor($,Q,X,Y,Z){var G,q,U;let z={...Q,menuAsChild:(G=Q===null||Q===void 0?void 0:Q.menuAsChild)!==null&&G!==void 0?G:!1,classNames:(q=Q===null||Q===void 0?void 0:Q.classNames)!==null&&q!==void 0?q:c0.isThemeIcon($.item.icon)?c0.asClassName($.item.icon):void 0,keybindingProvider:(U=Q===null||Q===void 0?void 0:Q.keybindingProvider)!==null&&U!==void 0?U:(H)=>X.lookupKeybinding(H.id)};super($,{getActions:()=>$.actions},Y,z);this._keybindingService=X,this._contextMenuService=Y,this._themeService=Z}render($){super.render($),D5(this.element),$.classList.add("menu-entry");let Q=this._action,{icon:X}=Q.item;if(X&&!c0.isThemeIcon(X)){this.element.classList.add("icon");let Y=()=>{if(this.element)this.element.style.backgroundImage=E2(this._themeService.getColorTheme().type)?L4(X.dark):L4(X.light)};Y(),this._register(this._themeService.onDidColorThemeChange(()=>{Y()}))}}};Ia=mP([k7(2,Q5),k7(3,Q9),k7(4,Z5)],Ia);ya=class extends L7{constructor($,Q,X,Y,Z,G,q,U){var z,H,j;super(null,$);this._keybindingService=X,this._notificationService=Y,this._contextMenuService=Z,this._menuService=G,this._instaService=q,this._storageService=U,this._container=null,this._options=Q,this._storageKey=`${$.item.submenu.id}_lastActionId`;let B,V=(Q===null||Q===void 0?void 0:Q.persistLastActionId)?U.get(this._storageKey,1):void 0;if(V)B=$.actions.find((K)=>V===K.id);if(!B)B=$.actions[0];this._defaultAction=this._instaService.createInstance(nq,B,{keybinding:this._getDefaultActionKeybindingLabel(B)});let W={keybindingProvider:(K)=>this._keybindingService.lookupKeybinding(K.id),...Q,menuAsChild:(z=Q===null||Q===void 0?void 0:Q.menuAsChild)!==null&&z!==void 0?z:!0,classNames:(H=Q===null||Q===void 0?void 0:Q.classNames)!==null&&H!==void 0?H:["codicon","codicon-chevron-down"],actionRunner:(j=Q===null||Q===void 0?void 0:Q.actionRunner)!==null&&j!==void 0?j:new W9};this._dropdown=new zG($,$.actions,this._contextMenuService,W),this._register(this._dropdown.actionRunner.onDidRun((K)=>{if(K.action instanceof M4)this.update(K.action)}))}update($){var Q;if((Q=this._options)===null||Q===void 0?void 0:Q.persistLastActionId)this._storageService.store(this._storageKey,$.id,1,1);if(this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(nq,$,{keybinding:this._getDefaultActionKeybindingLabel($)}),this._defaultAction.actionRunner=new class extends W9{async runAction(X,Y){await X.run(void 0)}},this._container)this._defaultAction.render(B3(this._container,M0(".action-container")))}_getDefaultActionKeybindingLabel($){var Q;let X;if((Q=this._options)===null||Q===void 0?void 0:Q.renderKeybindingWithDefaultActionLabel){let Y=this._keybindingService.lookupKeybinding($.id);if(Y)X=`(${Y.getLabel()})`}return X}setActionContext($){super.setActionContext($),this._defaultAction.setActionContext($),this._dropdown.setActionContext($)}render($){this._container=$,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");let Q=M0(".action-container");this._defaultAction.render(P0(this._container,Q)),this._register(t(Q,W0.KEY_DOWN,(Y)=>{let Z=new _1(Y);if(Z.equals(17))this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Z.stopPropagation()}));let X=M0(".dropdown-action-container");this._dropdown.render(P0(this._container,X)),this._register(t(X,W0.KEY_DOWN,(Y)=>{var Z;let G=new _1(Y);if(G.equals(15))this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(Z=this._defaultAction.element)===null||Z===void 0||Z.focus(),G.stopPropagation()}))}focus($){if($)this._dropdown.focus();else this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus()}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable($){if($)this._defaultAction.element.tabIndex=0;else this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1)}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};ya=mP([k7(2,Q5),k7(3,X8),k7(4,Q9),k7(5,O4),k7(6,r0),k7(7,gJ)],ya);xa=class extends XE{constructor($,Q){super(null,$,$.actions.map((X)=>({text:X.id===Y5.ID?"─────────":X.label,isDisabled:!X.enabled})),0,Q,ka,{ariaLabel:$.tooltip,optionsAsChildren:!0});this.select(Math.max(0,$.actions.findIndex((X)=>X.checked)))}render($){super.render($),$.style.borderColor=w0(DY)}runAction($,Q){let X=this.action.actions[Q];if(X)this.actionRunner.run(X)}};xa=mP([k7(1,vJ)],xa)});var R8;var JQ=E(()=>{x0();k8();cj();Z7();E0();B0();QE();R8=class R8 extends r{constructor(J,$={}){var Q,X,Y,Z,G,q;super();if(this._actionRunnerDisposables=this._register(new q0),this.viewItemDisposables=this._register(new CZ),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p),this.onWillRun=this._onWillRun.event,this.options=$,this._context=(Q=$.context)!==null&&Q!==void 0?Q:null,this._orientation=(X=this.options.orientation)!==null&&X!==void 0?X:0,this._triggerKeys={keyDown:(Z=(Y=this.options.triggerKeys)===null||Y===void 0?void 0:Y.keyDown)!==null&&Z!==void 0?Z:!1,keys:(q=(G=this.options.triggerKeys)===null||G===void 0?void 0:G.keys)!==null&&q!==void 0?q:[3,10]},this.options.actionRunner)this._actionRunner=this.options.actionRunner;else this._actionRunner=new W9,this._actionRunnerDisposables.add(this._actionRunner);if(this._actionRunnerDisposables.add(this._actionRunner.onDidRun((H)=>this._onDidRun.fire(H))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((H)=>this._onWillRun.fire(H))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",$.animated!==!1)this.domNode.classList.add("animated");let U,z;switch(this._orientation){case 0:U=[15],z=[17];break;case 1:U=[16],z=[18],this.domNode.className+=" vertical";break}if(this._register(t(this.domNode,W0.KEY_DOWN,(H)=>{let j=new _1(H),B=!0,V=typeof this.focusedItem==="number"?this.viewItems[this.focusedItem]:void 0;if(U&&(j.equals(U[0])||j.equals(U[1])))B=this.focusPrevious();else if(z&&(j.equals(z[0])||j.equals(z[1])))B=this.focusNext();else if(j.equals(9)&&this.cancelHasListener)this._onDidCancel.fire();else if(j.equals(14))B=this.focusFirst();else if(j.equals(13))B=this.focusLast();else if(j.equals(2)&&V instanceof L7&&V.trapsArrowNavigation)B=this.focusNext();else if(this.isTriggerKeyEvent(j))if(this._triggerKeys.keyDown)this.doTrigger(j);else this.triggerKeyDown=!0;else B=!1;if(B)j.preventDefault(),j.stopPropagation()})),this._register(t(this.domNode,W0.KEY_UP,(H)=>{let j=new _1(H);if(this.isTriggerKeyEvent(j)){if(!this._triggerKeys.keyDown&&this.triggerKeyDown)this.triggerKeyDown=!1,this.doTrigger(j);j.preventDefault(),j.stopPropagation()}else if(j.equals(2)||j.equals(1026)||j.equals(16)||j.equals(18)||j.equals(15)||j.equals(17))this.updateFocusedItem()})),this.focusTracker=this._register(vQ(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{if(B5()===this.domNode||!J5(B5(),this.domNode))this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems)this.actionsList.classList.add("highlight-toggled");if(this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel)this.actionsList.setAttribute("aria-label",this.options.ariaLabel);this.domNode.appendChild(this.actionsList),J.appendChild(this.domNode)}refreshRole(){if(this.length()>=1)this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar");else this.actionsList.setAttribute("role","presentation")}setFocusable(J){if(this.focusable=J,this.focusable){let $=this.viewItems.find((Q)=>Q instanceof L7&&Q.isEnabled());if($ instanceof L7)$.setFocusable(!0)}else this.viewItems.forEach(($)=>{if($ instanceof L7)$.setFocusable(!1)})}isTriggerKeyEvent(J){let $=!1;return this._triggerKeys.keys.forEach((Q)=>{$=$||J.equals(Q)}),$}updateFocusedItem(){var J,$;for(let Q=0;Q<this.actionsList.children.length;Q++){let X=this.actionsList.children[Q];if(J5(B5(),X)){this.focusedItem=Q,($=(J=this.viewItems[this.focusedItem])===null||J===void 0?void 0:J.showHover)===null||$===void 0||$.call(J);break}}}get context(){return this._context}set context(J){this._context=J,this.viewItems.forEach(($)=>$.setActionContext(J))}get actionRunner(){return this._actionRunner}set actionRunner(J){this._actionRunner=J,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(($)=>this._onDidRun.fire($))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(($)=>this._onWillRun.fire($))),this.viewItems.forEach(($)=>$.actionRunner=J)}getContainer(){return this.domNode}getAction(J){var $;if(typeof J==="number")return($=this.viewItems[J])===null||$===void 0?void 0:$.action;if(J instanceof HTMLElement){while(J.parentElement!==this.actionsList){if(!J.parentElement)return;J=J.parentElement}for(let Q=0;Q<this.actionsList.childNodes.length;Q++)if(this.actionsList.childNodes[Q]===J)return this.viewItems[Q].action}return}push(J,$={}){let Q=Array.isArray(J)?J:[J],X=q9($.index)?$.index:null;if(Q.forEach((Y)=>{let Z=document.createElement("li");Z.className="action-item",Z.setAttribute("role","presentation");let G,q={hoverDelegate:this.options.hoverDelegate,...$};if(this.options.actionViewItemProvider)G=this.options.actionViewItemProvider(Y,q);if(!G)G=new UG(this.context,Y,q);if(!this.options.allowContextMenu)this.viewItemDisposables.set(G,t(Z,W0.CONTEXT_MENU,(U)=>{o0.stop(U,!0)}));if(G.actionRunner=this._actionRunner,G.setActionContext(this.context),G.render(Z),this.focusable&&G instanceof L7&&this.viewItems.length===0)G.setFocusable(!0);if(X===null||X<0||X>=this.actionsList.children.length)this.actionsList.appendChild(Z),this.viewItems.push(G);else this.actionsList.insertBefore(Z,this.actionsList.children[X]),this.viewItems.splice(X,0,G),X++}),typeof this.focusedItem==="number")this.focus(this.focusedItem);this.refreshRole()}clear(){if(this.isEmpty())return;this.viewItems=h1(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),c5(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(J){let $=!1,Q=void 0;if(J===void 0)$=!0;else if(typeof J==="number")Q=J;else if(typeof J==="boolean")$=J;if($&&typeof this.focusedItem>"u"){let X=this.viewItems.findIndex((Y)=>Y.isEnabled());this.focusedItem=X===-1?void 0:X,this.updateFocus(void 0,void 0,!0)}else{if(Q!==void 0)this.focusedItem=Q;this.updateFocus(void 0,void 0,!0)}}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(J){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let $=this.focusedItem,Q;do{if(!J&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=$,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,Q=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!Q.isEnabled()||Q.action.id===Y5.ID));return this.updateFocus(),!0}focusPrevious(J){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let $=this.focusedItem,Q;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!J&&this.options.preventLoopNavigation)return this.focusedItem=$,!1;this.focusedItem=this.viewItems.length-1}Q=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!Q.isEnabled()||Q.action.id===Y5.ID));return this.updateFocus(!0),!0}updateFocus(J,$,Q=!1){var X,Y;if(typeof this.focusedItem>"u")this.actionsList.focus({preventScroll:$});if(this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem)(X=this.viewItems[this.previouslyFocusedItem])===null||X===void 0||X.blur();let Z=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(Z){let G=!0;if(!fG(Z.focus))G=!1;if(this.options.focusOnlyEnabledItems&&fG(Z.isEnabled)&&!Z.isEnabled())G=!1;if(Z.action.id===Y5.ID)G=!1;if(!G)this.actionsList.focus({preventScroll:$}),this.previouslyFocusedItem=void 0;else if(Q||this.previouslyFocusedItem!==this.focusedItem)Z.focus(J),this.previouslyFocusedItem=this.focusedItem;if(G)(Y=Z.showHover)===null||Y===void 0||Y.call(Z)}}doTrigger(J){if(typeof this.focusedItem>"u")return;let $=this.viewItems[this.focusedItem];if($ instanceof L7){let Q=$._context===null||$._context===void 0?J:$._context;this.run($._action,Q)}}async run(J,$){await this._actionRunner.run(J,$)}dispose(){this._context=void 0,this.viewItems=h1(this.viewItems),this.getContainer().remove(),super.dispose()}}});function DJ0(J){let $=jE,Q=$.exec(J);if(!Q)return J;let X=!Q[1];return J.replace($,X?"$2$3":"").trim()}function va(J){let $=aW()[J.id];return`.codicon-${J.id}:before { content: '\\${$.toString(16)}'; }`}function RJ0(J,$){let Q=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${va(O0.menuSelection)}
${va(O0.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if($){Q+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;let X=J.scrollbarShadow;if(X)Q+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${X} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${X} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${X} 6px 6px 6px -6px inset;
				}
			`;let Y=J.scrollbarSliderBackground;if(Y)Q+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${Y};
				}
			`;let Z=J.scrollbarSliderHoverBackground;if(Z)Q+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${Z};
				}
			`;let G=J.scrollbarSliderActiveBackground;if(G)Q+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${G};
				}
			`}return Q}var jE,HE,cP,WG,BE,VE,WE;var ha=E(()=>{M7();J4();x0();k8();h9();JQ();cj();mk();EJ();Z7();J6();O5();N5();xq();B0();E1();G1();jE=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,HE=/(&amp;)?(&amp;)([^\s&])/g;(function(J){J[J.Right=0]="Right",J[J.Left=1]="Left"})(cP||(cP={}));WG=class WG extends R8{constructor(J,$,Q,X){J.classList.add("monaco-menu-container"),J.setAttribute("role","presentation");let Y=document.createElement("div");Y.classList.add("monaco-menu"),Y.setAttribute("role","presentation");super(Y,{orientation:1,actionViewItemProvider:(U)=>this.doGetActionViewItem(U,Q,Z),context:Q.context,actionRunner:Q.actionRunner,ariaLabel:Q.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...$1||w6?[10]:[]],keyDown:!0}});if(this.menuStyles=X,this.menuElement=Y,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(J,X),this._register(b1.addTarget(Y)),this._register(t(Y,W0.KEY_DOWN,(U)=>{if(new _1(U).equals(2))U.preventDefault()})),Q.enableMnemonics)this._register(t(Y,W0.KEY_DOWN,(U)=>{let z=U.key.toLocaleLowerCase();if(this.mnemonics.has(z)){o0.stop(U,!0);let H=this.mnemonics.get(z);if(H.length===1){if(H[0]instanceof VE&&H[0].container)this.focusItemByElement(H[0].container);H[0].onClick(U)}if(H.length>1){let j=H.shift();if(j&&j.container)this.focusItemByElement(j.container),H.push(j);this.mnemonics.set(z,H)}}}));if(w6)this._register(t(Y,W0.KEY_DOWN,(U)=>{let z=new _1(U);if(z.equals(14)||z.equals(11))this.focusedItem=this.viewItems.length-1,this.focusNext(),o0.stop(U,!0);else if(z.equals(13)||z.equals(12))this.focusedItem=0,this.focusPrevious(),o0.stop(U,!0)}));this._register(t(this.domNode,W0.MOUSE_OUT,(U)=>{let z=U.relatedTarget;if(!J5(z,this.domNode))this.focusedItem=void 0,this.updateFocus(),U.stopPropagation()})),this._register(t(this.actionsList,W0.MOUSE_OVER,(U)=>{let z=U.target;if(!z||!J5(z,this.actionsList)||z===this.actionsList)return;while(z.parentElement!==this.actionsList&&z.parentElement!==null)z=z.parentElement;if(z.classList.contains("action-item")){let H=this.focusedItem;if(this.setFocusedItem(z),H!==this.focusedItem)this.updateFocus()}})),this._register(b1.addTarget(this.actionsList)),this._register(t(this.actionsList,f1.Tap,(U)=>{let z=U.initialTarget;if(!z||!J5(z,this.actionsList)||z===this.actionsList)return;while(z.parentElement!==this.actionsList&&z.parentElement!==null)z=z.parentElement;if(z.classList.contains("action-item")){let H=this.focusedItem;if(this.setFocusedItem(z),H!==this.focusedItem)this.updateFocus()}}));let Z={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new XX(Y,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));let G=this.scrollableElement.getDomNode();G.style.position="",this.styleScrollElement(G,X),this._register(t(Y,f1.Change,(U)=>{o0.stop(U,!0);let z=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:z-U.translationY})})),this._register(t(G,W0.MOUSE_UP,(U)=>{U.preventDefault()}));let q=L0(J);Y.style.maxHeight=`${Math.max(10,q.innerHeight-J.getBoundingClientRect().top-35)}px`,$=$.filter((U,z)=>{var H;if((H=Q.submenuIds)===null||H===void 0?void 0:H.has(U.id))return console.warn(`Found submenu cycle: ${U.id}`),!1;if(U instanceof Y5){if(z===$.length-1||z===0)return!1;if($[z-1]instanceof Y5)return!1}return!0}),this.push($,{icon:!0,label:!0,isMenu:!0}),J.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((U)=>!(U instanceof WE)).forEach((U,z,H)=>{U.updatePositionInSet(z+1,H.length)})}initializeOrUpdateStyleSheet(J,$){if(!this.styleSheet)if(Q2(J))this.styleSheet=b5(J);else{if(!WG.globalStyleSheet)WG.globalStyleSheet=b5();this.styleSheet=WG.globalStyleSheet}this.styleSheet.textContent=RJ0($,Q2(J))}styleScrollElement(J,$){var Q,X;let Y=(Q=$.foregroundColor)!==null&&Q!==void 0?Q:"",Z=(X=$.backgroundColor)!==null&&X!==void 0?X:"",G=$.borderColor?`1px solid ${$.borderColor}`:"",q="5px",U=$.shadowColor?`0 2px 8px ${$.shadowColor}`:"";J.style.outline=G,J.style.borderRadius="5px",J.style.color=Y,J.style.backgroundColor=Z,J.style.boxShadow=U}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(J){let $=this.focusedItem;if(this.setFocusedItem(J),$!==this.focusedItem)this.updateFocus()}setFocusedItem(J){for(let $=0;$<this.actionsList.children.length;$++){let Q=this.actionsList.children[$];if(J===Q){this.focusedItem=$;break}}}updateFocus(J){if(super.updateFocus(J,!0,!0),typeof this.focusedItem<"u")this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(J,$,Q){if(J instanceof Y5)return new WE($.context,J,{icon:!0},this.menuStyles);else if(J instanceof IQ){let X=new VE(J,J.actions,Q,{...$,submenuIds:new Set([...$.submenuIds||[],J.id])},this.menuStyles);if($.enableMnemonics){let Y=X.getMnemonic();if(Y&&X.isEnabled()){let Z=[];if(this.mnemonics.has(Y))Z=this.mnemonics.get(Y);Z.push(X),this.mnemonics.set(Y,Z)}}return X}else{let X={enableMnemonics:$.enableMnemonics,useEventAsContext:$.useEventAsContext};if($.getKeyBinding){let Z=$.getKeyBinding(J);if(Z){let G=Z.getLabel();if(G)X.keybinding=G}}let Y=new BE($.context,J,X,this.menuStyles);if($.enableMnemonics){let Z=Y.getMnemonic();if(Z&&Y.isEnabled()){let G=[];if(this.mnemonics.has(Z))G=this.mnemonics.get(Z);G.push(Y),this.mnemonics.set(Z,G)}}return Y}}};BE=class BE extends L7{constructor(J,$,Q,X){Q.isMenu=!0;super($,$,Q);if(this.menuStyle=X,this.options=Q,this.options.icon=Q.icon!==void 0?Q.icon:!1,this.options.label=Q.label!==void 0?Q.label:!0,this.cssClass="",this.options.label&&Q.enableMnemonics){let Y=this.action.label;if(Y){let Z=jE.exec(Y);if(Z)this.mnemonic=(Z[1]?Z[1]:Z[3]).toLocaleLowerCase()}}this.runOnceToEnableMouseUp=new z6(()=>{if(!this.element)return;this._register(t(this.element,W0.MOUSE_UP,(Y)=>{if(o0.stop(Y,!0),i5){if(new j8(L0(this.element),Y).rightButton)return;this.onClick(Y)}else setTimeout(()=>{this.onClick(Y)},0)})),this._register(t(this.element,W0.CONTEXT_MENU,(Y)=>{o0.stop(Y,!0)}))},100),this._register(this.runOnceToEnableMouseUp)}render(J){if(super.render(J),!this.element)return;if(this.container=J,this.item=P0(this.element,M0("a.action-menu-item")),this._action.id===Y5.ID)this.item.setAttribute("role","presentation");else if(this.item.setAttribute("role","menuitem"),this.mnemonic)this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`);if(this.check=P0(this.item,M0("span.menu-item-check"+c0.asCSSSelector(O0.menuSelection))),this.check.setAttribute("role","none"),this.label=P0(this.item,M0("span.action-label")),this.options.label&&this.options.keybinding)P0(this.item,M0("span.keybinding")).textContent=this.options.keybinding;this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle()}blur(){super.blur(),this.applyStyle()}focus(){var J;super.focus(),(J=this.item)===null||J===void 0||J.focus(),this.applyStyle()}updatePositionInSet(J,$){if(this.item)this.item.setAttribute("aria-posinset",`${J}`),this.item.setAttribute("aria-setsize",`${$}`)}updateLabel(){var J;if(!this.label)return;if(this.options.label){c5(this.label);let $=jP(this.action.label);if($){let Q=DJ0($);if(!this.options.enableMnemonics)$=Q;this.label.setAttribute("aria-label",Q.replace(/&&/g,"&"));let X=jE.exec($);if(X){$=uZ($),HE.lastIndex=0;let Y=HE.exec($);while(Y&&Y[1])Y=HE.exec($);let Z=(G)=>G.replace(/&amp;&amp;/g,"&amp;");if(Y)this.label.append(eX(Z($.substr(0,Y.index))," "),M0("u",{"aria-hidden":"true"},Y[3]),SS(Z($.substr(Y.index+Y[0].length))," "));else this.label.innerText=Z($).trim();(J=this.item)===null||J===void 0||J.setAttribute("aria-keyshortcuts",(X[1]?X[1]:X[3]).toLocaleLowerCase())}else this.label.innerText=$.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){if(this.cssClass&&this.item)this.item.classList.remove(...this.cssClass.split(" "));if(this.options.icon&&this.label){if(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "));this.updateEnabled()}else if(this.label)this.label.classList.remove("icon")}updateEnabled(){if(this.action.enabled){if(this.element)this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled");if(this.item)this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0}else{if(this.element)this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true");if(this.item)this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")}}updateChecked(){if(!this.item)return;let J=this.action.checked;if(this.item.classList.toggle("checked",!!J),J!==void 0)this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",J?"true":"false");else this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","")}getMnemonic(){return this.mnemonic}applyStyle(){let J=this.element&&this.element.classList.contains("focused"),$=J&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,Q=J&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,X=J&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Y=J&&this.menuStyle.selectionBorderColor?"-1px":"";if(this.item)this.item.style.color=$!==null&&$!==void 0?$:"",this.item.style.backgroundColor=Q!==null&&Q!==void 0?Q:"",this.item.style.outline=X,this.item.style.outlineOffset=Y;if(this.check)this.check.style.color=$!==null&&$!==void 0?$:""}};VE=class VE extends BE{constructor(J,$,Q,X,Y){super(J,J,X,Y);this.submenuActions=$,this.parentData=Q,this.submenuOptions=X,this.mysubmenu=null,this.submenuDisposables=this._register(new q0),this.mouseOver=!1,this.expandDirection=X&&X.expandDirection!==void 0?X.expandDirection:cP.Right,this.showScheduler=new z6(()=>{if(this.mouseOver)this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},250),this.hideScheduler=new z6(()=>{if(this.element&&(!J5(B5(),this.element)&&this.parentData.submenu===this.mysubmenu))this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)},750)}render(J){if(super.render(J),!this.element)return;if(this.item)this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=P0(this.item,M0("span.submenu-indicator"+c0.asCSSSelector(O0.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true");this._register(t(this.element,W0.KEY_UP,($)=>{let Q=new _1($);if(Q.equals(17)||Q.equals(3))o0.stop($,!0),this.createSubmenu(!0)})),this._register(t(this.element,W0.KEY_DOWN,($)=>{let Q=new _1($);if(B5()===this.item){if(Q.equals(17)||Q.equals(3))o0.stop($,!0)}})),this._register(t(this.element,W0.MOUSE_OVER,($)=>{if(!this.mouseOver)this.mouseOver=!0,this.showScheduler.schedule()})),this._register(t(this.element,W0.MOUSE_LEAVE,($)=>{this.mouseOver=!1})),this._register(t(this.element,W0.FOCUS_OUT,($)=>{if(this.element&&!J5(B5(),this.element))this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{if(this.parentData.submenu===this.mysubmenu)this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)}))}updateEnabled(){}onClick(J){o0.stop(J,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(J){if(this.parentData.submenu&&(J||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch($){}if(this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer)this.submenuDisposables.clear(),this.submenuContainer=void 0}}calculateSubmenuMenuLayout(J,$,Q,X){let Y={top:0,left:0};if(Y.left=QG(J.width,$.width,{position:X===cP.Right?0:1,offset:Q.left,size:Q.width}),Y.left>=Q.left&&Y.left<Q.left+Q.width){if(Q.left+10+$.width<=J.width)Y.left=Q.left+10;Q.top+=10,Q.height=0}if(Y.top=QG(J.height,$.height,{position:0,offset:Q.top,size:0}),Y.top+$.height===Q.top&&Y.top+Q.height+$.height<=J.height)Y.top+=Q.height;return Y}createSubmenu(J=!0){if(!this.element)return;if(!this.parentData.submenu){this.updateAriaExpanded("true"),this.submenuContainer=P0(this.element,M0("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");let $=L0(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),Q=parseFloat($.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new WG(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Kz],this.submenuOptions,this.menuStyle);let X=this.element.getBoundingClientRect(),Y={top:X.top-Q,left:X.left,height:X.height+2*Q,width:X.width},Z=this.submenuContainer.getBoundingClientRect(),G=L0(this.element),{top:q,left:U}=this.calculateSubmenuMenuLayout(new Y6(G.innerWidth,G.innerHeight),Y6.lift(Z),Y,this.expandDirection);this.submenuContainer.style.left=`${U-Z.left}px`,this.submenuContainer.style.top=`${q-Z.top}px`,this.submenuDisposables.add(t(this.submenuContainer,W0.KEY_UP,(z)=>{if(new _1(z).equals(15))o0.stop(z,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.submenuDisposables.add(t(this.submenuContainer,W0.KEY_DOWN,(z)=>{if(new _1(z).equals(15))o0.stop(z,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(J),this.mysubmenu=this.parentData.submenu}else this.parentData.submenu.focus(!1)}updateAriaExpanded(J){var $;if(this.item)($=this.item)===null||$===void 0||$.setAttribute("aria-expanded",J)}applyStyle(){super.applyStyle();let $=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;if(this.submenuIndicator)this.submenuIndicator.style.color=$!==null&&$!==void 0?$:""}dispose(){if(super.dispose(),this.hideScheduler.dispose(),this.mysubmenu)this.mysubmenu.dispose(),this.mysubmenu=null;if(this.submenuContainer)this.submenuContainer=void 0}};WE=class WE extends UG{constructor(J,$,Q,X){super(J,$,Q);this.menuStyles=X}render(J){if(super.render(J),this.label)this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:""}}});class FE{constructor(J,$,Q,X){this.contextViewService=J,this.telemetryService=$,this.notificationService=Q,this.keybindingService=X,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(J){this.options=J}showContextMenu(J){let $=J.getActions();if(!$.length)return;this.focusToReturn=B5();let Q,X=J.domForShadowRoot instanceof HTMLElement?J.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>J.getAnchor(),canRelayout:!1,anchorAlignment:J.anchorAlignment,anchorAxisAlignment:J.anchorAxisAlignment,render:(Y)=>{var Z;this.lastContainer=Y;let G=J.getMenuClassName?J.getMenuClassName():"";if(G)Y.className+=" "+G;if(this.options.blockMouse)this.block=Y.appendChild(M0(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(Z=this.blockDisposable)===null||Z===void 0||Z.dispose(),this.blockDisposable=t(this.block,W0.MOUSE_DOWN,(H)=>H.stopPropagation());let q=new q0,U=J.actionRunner||new W9;U.onWillRun((H)=>this.onActionRun(H,!J.skipTelemetry),this,q),U.onDidRun(this.onDidActionRun,this,q),Q=new WG(Y,$,{actionViewItemProvider:J.getActionViewItem,context:J.getActionsContext?J.getActionsContext():null,actionRunner:U,getKeyBinding:J.getKeyBinding?J.getKeyBinding:(H)=>this.keybindingService.lookupKeybinding(H.id)},Ea),Q.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,q),Q.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,q);let z=L0(Y);return q.add(t(z,W0.BLUR,()=>this.contextViewService.hideContextView(!0))),q.add(t(z,W0.MOUSE_DOWN,(H)=>{if(H.defaultPrevented)return;let j=new j8(z,H),B=j.target;if(j.rightButton)return;while(B){if(B===Y)return;B=B.parentElement}this.contextViewService.hideContextView(!0)})),p8(q,Q)},focus:()=>{Q===null||Q===void 0||Q.focus(!!J.autoSelectFirstItem)},onHide:(Y)=>{var Z,G,q;if((Z=J.onHide)===null||Z===void 0||Z.call(J,!!Y),this.block)this.block.remove(),this.block=null;if((G=this.blockDisposable)===null||G===void 0||G.dispose(),this.blockDisposable=null,!!this.lastContainer&&(B5()===this.lastContainer||J5(B5(),this.lastContainer)))(q=this.focusToReturn)===null||q===void 0||q.focus();this.lastContainer=null}},X,!!X)}onActionRun(J,$){if($)this.telemetryService.publicLog2("workbenchActionExecuted",{id:J.action.id,from:"contextMenu"});this.contextViewService.hideContextView(!1)}onDidActionRun(J){if(J.error&&!Z$(J.error))this.notificationService.error(J.error)}}var fa=E(()=>{x0();h9();ha();Z7();T1();B0();iq()});var MJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},oq=function(J,$){return function(Q,X){$(Q,X,J)}},lP,KE;var ga=E(()=>{x0();Z7();E0();B0();uP();_4();e1();h4();PX();JY();fa();OX();lP=class extends r{get contextMenuHandler(){if(!this._contextMenuHandler)this._contextMenuHandler=new FE(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService);return this._contextMenuHandler}constructor($,Q,X,Y,Z,G){super();this.telemetryService=$,this.notificationService=Q,this.contextViewService=X,this.keybindingService=Y,this.menuService=Z,this.contextKeyService=G,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new p),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new p)}configure($){this.contextMenuHandler.configure($)}showContextMenu($){$=KE.transform($,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...$,onHide:(Q)=>{var X;(X=$.onHide)===null||X===void 0||X.call($,Q),this._onDidHideContextMenu.fire()}}),F$.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};lP=MJ0([oq(0,z7),oq(1,X8),oq(2,vJ),oq(3,Q5),oq(4,O4),oq(5,s0)],lP);(function(J){function $(X){return X&&X.menuId instanceof g}function Q(X,Y,Z){if(!$(X))return X;let{menuId:G,menuActionOptions:q,contextKeyService:U}=X;return{...X,getActions:()=>{let z=[];if(G){let H=Y.createMenu(G,U!==null&&U!==void 0?U:Z);ba(H,q,z),H.dispose()}if(!X.getActions)return z;else return Y5.join(X.getActions(),z)}}}J.transform=Q})(KE||(KE={}))});var dj;var pa=E(()=>{(function(J){J[J.API=0]="API",J[J.USER=1]="USER"})(dj||(dj={}))});var DE=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},dP=function(J,$){return function(Q,X){$(Q,X,J)}},AE=class{constructor($){this._commandService=$}async open($,Q){if(!Lz($,H1.command))return!1;if(!(Q===null||Q===void 0?void 0:Q.allowCommands))return!0;if(typeof $==="string")$=m0.parse($);if(Array.isArray(Q.allowCommands)){if(!Q.allowCommands.includes($.path))return!0}let X=[];try{X=wj(decodeURIComponent($.query))}catch(Y){try{X=wj($.query)}catch(Z){}}if(!Array.isArray(X))X=[X];return await this._commandService.executeCommand($.path,...X),!0}},PE=class{constructor($){this._editorService=$}async open($,Q){if(typeof $==="string")$=m0.parse($);let{selection:X,uri:Y}=Rd($);if($=Y,$.scheme===H1.file)$=Yc($);return await this._editorService.openCodeEditor({resource:$,options:{selection:X,source:(Q===null||Q===void 0?void 0:Q.fromUserGesture)?dj.USER:dj.API,...Q===null||Q===void 0?void 0:Q.editorOptions}},this._editorService.getFocusedCodeEditor(),Q===null||Q===void 0?void 0:Q.openToSide),!0}},sP=class{constructor($,Q){this._openers=new l6,this._validators=new l6,this._resolvers=new l6,this._resolvedUriTargets=new l5((X)=>X.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new l6,this._defaultExternalOpener={openExternal:async(X)=>{if(BO(X,H1.http,H1.https))xF(X);else F1.location.href=X;return!0}},this._openers.push({open:async(X,Y)=>{if((Y===null||Y===void 0?void 0:Y.openExternal)||BO(X,H1.mailto,H1.http,H1.https,H1.vsls))return await this._doOpenExternal(X,Y),!0;return!1}}),this._openers.push(new AE(Q)),this._openers.push(new PE($))}registerOpener($){return{dispose:this._openers.unshift($)}}async open($,Q){var X;let Y=typeof $==="string"?m0.parse($):$,Z=(X=this._resolvedUriTargets.get(Y))!==null&&X!==void 0?X:$;for(let G of this._validators)if(!await G.shouldOpen(Z,Q))return!1;for(let G of this._openers)if(await G.open($,Q))return!0;return!1}async resolveExternalUri($,Q){for(let X of this._resolvers)try{let Y=await X.resolveExternalUri($,Q);if(Y){if(!this._resolvedUriTargets.has(Y.resolved))this._resolvedUriTargets.set(Y.resolved,$);return Y}}catch(Y){}throw Error("Could not resolve external URI: "+$.toString())}async _doOpenExternal($,Q){let X=typeof $==="string"?m0.parse($):$,Y;try{Y=(await this.resolveExternalUri(X,Q)).resolved}catch(G){Y=X}let Z;if(typeof $==="string"&&X.toString()===Y.toString())Z=$;else Z=encodeURI(Y.toString(!0));if(Q===null||Q===void 0?void 0:Q.allowContributedOpeners){let G=typeof(Q===null||Q===void 0?void 0:Q.allowContributedOpeners)==="string"?Q===null||Q===void 0?void 0:Q.allowContributedOpeners:void 0;for(let q of this._externalOpeners)if(await q.openExternal(Z,{sourceUri:X,preferredOpenerId:G},j5.None))return!0}return this._defaultExternalOpener.openExternal(Z,{sourceUri:X},j5.None)}dispose(){this._validators.clear()}};var ma=E(()=>{x0();H8();z8();S9();AJ();FP();K9();u$();V5();V9();G7();pa();n2();AE=DE([dP(0,T5)],AE);PE=DE([dP(0,X6)],PE);sP=DE([dP(0,X6),dP(1,T5)],sP)});var T9;var tq=E(()=>{n0();T9=b0("editorWorkerService")});var X9,ua,pJ;var eq=E(()=>{fY();a0();n0();(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(X9||(X9={}));(function(J){function $(G,q){return q-G}J.compare=$;let Q=Object.create(null);Q[J.Error]=M("sev.error","Error"),Q[J.Warning]=M("sev.warning","Warning"),Q[J.Info]=M("sev.info","Info");function X(G){return Q[G]||""}J.toString=X;function Y(G){switch(G){case y6.Error:return J.Error;case y6.Warning:return J.Warning;case y6.Info:return J.Info;case y6.Ignore:return J.Hint}}J.fromSeverity=Y;function Z(G){switch(G){case J.Error:return y6.Error;case J.Warning:return y6.Warning;case J.Info:return y6.Info;case J.Hint:return y6.Ignore}}J.toSeverity=Z})(X9||(X9={}));(function(J){function Q(Y){return X(Y,!0)}J.makeKey=Q;function X(Y,Z){let G=[""];if(Y.source)G.push(Y.source.replace("¦","\\¦"));else G.push("");if(Y.code)if(typeof Y.code==="string")G.push(Y.code.replace("¦","\\¦"));else G.push(Y.code.value.replace("¦","\\¦"));else G.push("");if(Y.severity!==void 0&&Y.severity!==null)G.push(X9.toString(Y.severity));else G.push("");if(Y.message&&Z)G.push(Y.message.replace("¦","\\¦"));else G.push("");if(Y.startLineNumber!==void 0&&Y.startLineNumber!==null)G.push(Y.startLineNumber.toString());else G.push("");if(Y.startColumn!==void 0&&Y.startColumn!==null)G.push(Y.startColumn.toString());else G.push("");if(Y.endLineNumber!==void 0&&Y.endLineNumber!==null)G.push(Y.endLineNumber.toString());else G.push("");if(Y.endColumn!==void 0&&Y.endColumn!==null)G.push(Y.endColumn.toString());else G.push("");return G.push(""),G.join("¦")}J.makeKeyOptionalMessage=X})(ua||(ua={}));pJ=b0("markerService")});function ca(J,$){let Q=[],X=[];for(let Y of J)if(!$.has(Y))Q.push(Y);for(let Y of $)if(!J.has(Y))X.push(Y);return{removed:Q,added:X}}function la(J,$){let Q=new Set;for(let X of $)if(J.has(X))Q.add(X);return Q}var OJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},da=function(J,$){return function(Q,X){$(Q,X,J)}},aP,sa;var aa=E(()=>{eq();B0();l7();G5();yJ();kQ();e0();K9();E0();x8();AJ();aP=class extends r{constructor($,Q){super();this._markerService=Q,this._onDidChangeMarker=this._register(new p),this._markerDecorations=new l5,$.getModels().forEach((X)=>this._onModelAdded(X)),this._register($.onModelAdded(this._onModelAdded,this)),this._register($.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(($)=>$.dispose()),this._markerDecorations.clear()}getMarker($,Q){let X=this._markerDecorations.get($);return X?X.getMarker(Q)||null:null}_handleMarkerChange($){$.forEach((Q)=>{let X=this._markerDecorations.get(Q);if(X)this._updateDecorations(X)})}_onModelAdded($){let Q=new sa($);this._markerDecorations.set($.uri,Q),this._updateDecorations(Q)}_onModelRemoved($){var Q;let X=this._markerDecorations.get($.uri);if(X)X.dispose(),this._markerDecorations.delete($.uri);if($.uri.scheme===H1.inMemory||$.uri.scheme===H1.internal||$.uri.scheme===H1.vscode)(Q=this._markerService)===null||Q===void 0||Q.read({resource:$.uri}).map((Y)=>Y.owner).forEach((Y)=>this._markerService.remove(Y,[$.uri]))}_updateDecorations($){let Q=this._markerService.read({resource:$.model.uri,take:500});if($.update(Q))this._onDidChangeMarker.fire($.model)}};aP=OJ0([da(0,_5),da(1,pJ)],aP);sa=class sa extends r{constructor(J){super();this.model=J,this._map=new w_,this._register(y0(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(J){let{added:$,removed:Q}=ca(new Set(this._map.keys()),new Set(J));if($.length===0&&Q.length===0)return!1;let X=Q.map((G)=>this._map.get(G)),Y=$.map((G)=>{return{range:this._createDecorationRange(this.model,G),options:this._createDecorationOption(G)}}),Z=this.model.deltaDecorations(X,Y);for(let G of Q)this._map.delete(G);for(let G=0;G<Z.length;G++)this._map.set($[G],Z[G]);return!0}getMarker(J){return this._map.getKey(J.id)}_createDecorationRange(J,$){let Q=v.lift($);if($.severity===X9.Hint&&!this._hasMarkerTag($,1)&&!this._hasMarkerTag($,2))Q=Q.setEndPosition(Q.startLineNumber,Q.startColumn+2);if(Q=J.validateRange(Q),Q.isEmpty()){let X=J.getLineLastNonWhitespaceColumn(Q.startLineNumber)||J.getLineMaxColumn(Q.startLineNumber);if(X===1||Q.endColumn>=X)return Q;let Y=J.getWordAtPosition(Q.getStartPosition());if(Y)Q=new v(Q.startLineNumber,Y.startColumn,Q.endLineNumber,Y.endColumn)}else if($.endColumn===Number.MAX_VALUE&&$.startColumn===1&&Q.startLineNumber===Q.endLineNumber){let X=J.getLineFirstNonWhitespaceColumn($.startLineNumber);if(X<Q.endColumn)Q=new v(Q.startLineNumber,X,Q.endLineNumber,Q.endColumn),$.startColumn=X}return Q}_createDecorationOption(J){let $,Q=void 0,X,Y=void 0,Z;switch(J.severity){case X9.Hint:if(this._hasMarkerTag(J,2))$=void 0;else if(this._hasMarkerTag(J,1))$="squiggly-unnecessary";else $="squiggly-hint";X=0;break;case X9.Info:$="squiggly-info",Q=YX(mp),X=10,Z={color:YX(Cg),position:y4.Inline};break;case X9.Warning:$="squiggly-warning",Q=YX(pp),X=20,Z={color:YX(vg),position:y4.Inline};break;case X9.Error:default:$="squiggly-error",Q=YX(gp),X=30,Z={color:YX(hg),position:y4.Inline};break}if(J.tags){if(J.tags.indexOf(1)!==-1)Y="squiggly-inline-unnecessary";if(J.tags.indexOf(2)!==-1)Y="squiggly-inline-deprecated"}return{description:"marker-decoration",stickiness:1,className:$,showIfCollapsed:!0,overviewRuler:{color:Q,position:P3.Right},minimap:Z,zIndex:X,inlineClassName:Y}}_hasMarkerTag(J,$){if(J.tags)return J.tags.indexOf($)>=0;return!1}}});function BG(J){return J.toString()}class ra{constructor(J,$,Q){this.model=J,this._modelEventListeners=new q0,this.model=J,this._modelEventListeners.add(J.onWillDispose(()=>$(J))),this._modelEventListeners.add(J.onDidChangeLanguage((X)=>Q(J,X)))}dispose(){this._modelEventListeners.dispose()}}class ia{constructor(J,$,Q,X,Y,Z,G,q){this.uri=J,this.initialUndoRedoSnapshot=$,this.time=Q,this.sharesUndoRedoStack=X,this.heapSize=Y,this.sha1=Z,this.versionId=G,this.alternativeVersionId=q}}class rP{canComputeSHA1(J){return J.getValueLength()<=rP.MAX_MODEL_SIZE}computeSHA1(J){let $=new Iz,Q=J.createSnapshot(),X;while(X=Q.read())$.update(X);return $.digest()}}var _J0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},sj=function(J,$){return function(Q,X){$(Q,X,J)}},JU,NJ0,aj;var na=E(()=>{E0();B0();E1();hY();iU();I4();d9();$K();l8();yA();XY();Ow();K9();P7();d8();NJ0=w6||$1?1:2;aj=JU=class extends r{constructor($,Q,X,Y,Z){super();this._configurationService=$,this._resourcePropertiesService=Q,this._undoRedoService=X,this._languageService=Y,this._languageConfigurationService=Z,this._onModelAdded=this._register(new p),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new p),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new p),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((G)=>this._updateModelOptions(G))),this._updateModelOptions(void 0)}static _readModelOptions($,Q){var X;let Y=E5.tabSize;if($.editor&&typeof $.editor.tabSize<"u"){let V=parseInt($.editor.tabSize,10);if(!isNaN(V))Y=V;if(Y<1)Y=1}let Z="tabSize";if($.editor&&typeof $.editor.indentSize<"u"&&$.editor.indentSize!=="tabSize"){let V=parseInt($.editor.indentSize,10);if(!isNaN(V))Z=Math.max(V,1)}let G=E5.insertSpaces;if($.editor&&typeof $.editor.insertSpaces<"u")G=$.editor.insertSpaces==="false"?!1:Boolean($.editor.insertSpaces);let q=NJ0,U=$.eol;if(U===`\r
`)q=2;else if(U===`
`)q=1;let z=E5.trimAutoWhitespace;if($.editor&&typeof $.editor.trimAutoWhitespace<"u")z=$.editor.trimAutoWhitespace==="false"?!1:Boolean($.editor.trimAutoWhitespace);let H=E5.detectIndentation;if($.editor&&typeof $.editor.detectIndentation<"u")H=$.editor.detectIndentation==="false"?!1:Boolean($.editor.detectIndentation);let j=E5.largeFileOptimizations;if($.editor&&typeof $.editor.largeFileOptimizations<"u")j=$.editor.largeFileOptimizations==="false"?!1:Boolean($.editor.largeFileOptimizations);let B=E5.bracketPairColorizationOptions;if(((X=$.editor)===null||X===void 0?void 0:X.bracketPairColorization)&&typeof $.editor.bracketPairColorization==="object")B={enabled:!!$.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!$.editor.bracketPairColorization.independentColorPoolPerBracketType};return{isForSimpleWidget:Q,tabSize:Y,indentSize:Z,insertSpaces:G,detectIndentation:H,defaultEOL:q,trimAutoWhitespace:z,largeFileOptimizations:j,bracketPairColorizationOptions:B}}_getEOL($,Q){if($)return this._resourcePropertiesService.getEOL($,Q);let X=this._configurationService.getValue("files.eol",{overrideIdentifier:Q});if(X&&typeof X==="string"&&X!=="auto")return X;return f8===3||f8===2?`
`:`\r
`}_shouldRestoreUndoStack(){let $=this._configurationService.getValue("files.restoreUndoStack");if(typeof $==="boolean")return $;return!0}getCreationOptions($,Q,X){let Y=typeof $==="string"?$:$.languageId,Z=this._modelCreationOptionsByLanguageAndResource[Y+Q];if(!Z){let G=this._configurationService.getValue("editor",{overrideIdentifier:Y,resource:Q}),q=this._getEOL(Q,Y);Z=JU._readModelOptions({editor:G,eol:q},X),this._modelCreationOptionsByLanguageAndResource[Y+Q]=Z}return Z}_updateModelOptions($){let Q=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);let X=Object.keys(this._models);for(let Y=0,Z=X.length;Y<Z;Y++){let G=X[Y],q=this._models[G],U=q.model.getLanguageId(),z=q.model.uri;if($&&!$.affectsConfiguration("editor",{overrideIdentifier:U,resource:z})&&!$.affectsConfiguration("files.eol",{overrideIdentifier:U,resource:z}))continue;let H=Q[U+z],j=this.getCreationOptions(U,z,q.model.isForSimpleWidget);JU._setModelOptionsForModel(q.model,j,H)}}static _setModelOptionsForModel($,Q,X){if(X&&X.defaultEOL!==Q.defaultEOL&&$.getLineCount()===1)$.setEOL(Q.defaultEOL===1?0:1);if(X&&X.detectIndentation===Q.detectIndentation&&X.insertSpaces===Q.insertSpaces&&X.tabSize===Q.tabSize&&X.indentSize===Q.indentSize&&X.trimAutoWhitespace===Q.trimAutoWhitespace&&p5(X.bracketPairColorizationOptions,Q.bracketPairColorizationOptions))return;if(Q.detectIndentation)$.detectIndentation(Q.insertSpaces,Q.tabSize),$.updateOptions({trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions});else $.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.indentSize,trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions})}_insertDisposedModel($){this._disposedModels.set(BG($.uri),$),this._disposedModelsHeapSize+=$.heapSize}_removeDisposedModel($){let Q=this._disposedModels.get(BG($));if(Q)this._disposedModelsHeapSize-=Q.heapSize;return this._disposedModels.delete(BG($)),Q}_ensureDisposedModelsHeapSize($){if(this._disposedModelsHeapSize>$){let Q=[];this._disposedModels.forEach((X)=>{if(!X.sharesUndoRedoStack)Q.push(X)}),Q.sort((X,Y)=>X.time-Y.time);while(Q.length>0&&this._disposedModelsHeapSize>$){let X=Q.shift();if(this._removeDisposedModel(X.uri),X.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(X.initialUndoRedoSnapshot)}}}_createModelData($,Q,X,Y){let Z=this.getCreationOptions(Q,X,Y),G=new KX($,Q,Z,X,this._undoRedoService,this._languageService,this._languageConfigurationService);if(X&&this._disposedModels.has(BG(X))){let z=this._removeDisposedModel(X),H=this._undoRedoService.getElements(X),j=this._getSHA1Computer(),B=j.canComputeSHA1(G)?j.computeSHA1(G)===z.sha1:!1;if(B||z.sharesUndoRedoStack){for(let V of H.past)if(c$(V)&&V.matchesResource(X))V.setModel(G);for(let V of H.future)if(c$(V)&&V.matchesResource(X))V.setModel(G);if(this._undoRedoService.setElementsValidFlag(X,!0,(V)=>c$(V)&&V.matchesResource(X)),B)G._overwriteVersionId(z.versionId),G._overwriteAlternativeVersionId(z.alternativeVersionId),G._overwriteInitialUndoRedoSnapshot(z.initialUndoRedoSnapshot)}else if(z.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(z.initialUndoRedoSnapshot)}let q=BG(G.uri);if(this._models[q])throw Error("ModelService: Cannot add model because it already exists!");let U=new ra(G,(z)=>this._onWillDispose(z),(z,H)=>this._onDidChangeLanguage(z,H));return this._models[q]=U,U}createModel($,Q,X,Y=!1){let Z;if(Q)Z=this._createModelData($,Q,X,Y);else Z=this._createModelData($,S5,X,Y);return this._onModelAdded.fire(Z.model),Z.model}getModels(){let $=[],Q=Object.keys(this._models);for(let X=0,Y=Q.length;X<Y;X++){let Z=Q[X];$.push(this._models[Z].model)}return $}getModel($){let Q=BG($),X=this._models[Q];if(!X)return null;return X.model}_schemaShouldMaintainUndoRedoElements($){return $.scheme===H1.file||$.scheme===H1.vscodeRemote||$.scheme===H1.vscodeUserData||$.scheme===H1.vscodeNotebookCell||$.scheme==="fake-fs"}_onWillDispose($){let Q=BG($.uri),X=this._models[Q],Y=this._undoRedoService.getUriComparisonKey($.uri)!==$.uri.toString(),Z=!1,G=0;if(Y||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements($.uri)){let z=this._undoRedoService.getElements($.uri);if(z.past.length>0||z.future.length>0){for(let H of z.past)if(c$(H)&&H.matchesResource($.uri))Z=!0,G+=H.heapSize($.uri),H.setModel($.uri);for(let H of z.future)if(c$(H)&&H.matchesResource($.uri))Z=!0,G+=H.heapSize($.uri),H.setModel($.uri)}}let q=JU.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,U=this._getSHA1Computer();if(!Z){if(!Y){let z=X.model.getInitialUndoRedoSnapshot();if(z!==null)this._undoRedoService.restoreSnapshot(z)}}else if(!Y&&(G>q||!U.canComputeSHA1($))){let z=X.model.getInitialUndoRedoSnapshot();if(z!==null)this._undoRedoService.restoreSnapshot(z)}else this._ensureDisposedModelsHeapSize(q-G),this._undoRedoService.setElementsValidFlag($.uri,!1,(z)=>c$(z)&&z.matchesResource($.uri)),this._insertDisposedModel(new ia($.uri,X.model.getInitialUndoRedoSnapshot(),Date.now(),Y,G,U.computeSHA1($),$.getVersionId(),$.getAlternativeVersionId()));delete this._models[Q],X.dispose(),delete this._modelCreationOptionsByLanguageAndResource[$.getLanguageId()+$.uri],this._onModelRemoved.fire($)}_onDidChangeLanguage($,Q){let X=Q.oldLanguage,Y=$.getLanguageId(),Z=this.getCreationOptions(X,$.uri,$.isForSimpleWidget),G=this.getCreationOptions(Y,$.uri,$.isForSimpleWidget);JU._setModelOptionsForModel($,G,Z),this._onModelModeChanged.fire({model:$,oldLanguageId:X})}_getSHA1Computer(){return new rP}};aj.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520;aj=JU=_J0([sj(0,p1),sj(1,JK),sj(2,Oq),sj(3,H6),sj(4,f6)],aj);rP.MAX_MODEL_SIZE=10485760});var oa=E(()=>{_0(".quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight,.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight,.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.hc-light .quick-input-widget .monaco-highlighted-label .highlight,.hc-light .quick-input-widget .monaco-highlighted-label .highlight{color:#0f4a85}.monaco-keybinding>.monaco-keybinding-key{color:#555;background-color:#ddd6;border:1px solid #ccc6;border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6}.hc-black .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#fff;background-color:#0000;border:1px solid #6fc3df}.hc-light .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#292929;background-color:#0000;border:1px solid #0f4a85}.vs-dark .monaco-keybinding>.monaco-keybinding-key{color:#ccc;background-color:#8080802b;border:1px solid #3339;border-bottom-color:#4449;box-shadow:inset 0 -1px #4449}")});class ta{get templateId(){return this.renderer.templateId}constructor(J,$){this.renderer=J,this.modelProvider=$}renderTemplate(J){return{data:this.renderer.renderTemplate(J),disposable:r.None}}renderElement(J,$,Q,X){var Y;if((Y=Q.disposable)===null||Y===void 0||Y.dispose(),!Q.data)return;let Z=this.modelProvider();if(Z.isResolved(J))return this.renderer.renderElement(Z.get(J),J,Q.data,X);let G=new M5,q=Z.resolve(J,G.token);Q.disposable={dispose:()=>G.cancel()},this.renderer.renderPlaceholder(J,Q.data),q.then((U)=>this.renderer.renderElement(U,J,Q.data,X))}disposeTemplate(J){if(J.disposable)J.disposable.dispose(),J.disposable=void 0;if(J.data)this.renderer.disposeTemplate(J.data),J.data=void 0}}class ea{constructor(J,$){this.modelProvider=J,this.accessibilityProvider=$}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(J){let $=this.modelProvider();if(!$.isResolved(J))return null;return this.accessibilityProvider.getAriaLabel($.get(J))}}function TJ0(J,$){return{...$,accessibilityProvider:$.accessibilityProvider&&new ea(J,$.accessibilityProvider)}}class RE{constructor(J,$,Q,X,Y={}){let Z=()=>this.model,G=X.map((q)=>new ta(q,Z));this.list=new o8(J,$,Q,G,TJ0(Z,Y))}updateOptions(J){this.list.updateOptions(J)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return V0.map(this.list.onMouseDblClick,({element:J,index:$,browserEvent:Q})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:Q}))}get onPointer(){return V0.map(this.list.onPointer,({element:J,index:$,browserEvent:Q})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:Q}))}get onDidChangeSelection(){return V0.map(this.list.onDidChangeSelection,({elements:J,indexes:$,browserEvent:Q})=>({elements:J.map((X)=>this._model.get(X)),indexes:$,browserEvent:Q}))}get model(){return this._model}set model(J){this._model=J,this.list.splice(0,this.list.length,g5(J.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((J)=>this.model.get(J))}style(J){this.list.style(J)}dispose(){this.list.dispose()}}var Jr=E(()=>{B1();z8();E0();B0();ak();GG()});var $r=E(()=>{_0(':root{--vscode-sash-size:4px;--vscode-sash-hover-size:4px}.monaco-sash{z-index:35;touch-action:none;position:absolute}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;width:var(--vscode-sash-size);height:100%;top:0}.monaco-sash.horizontal{cursor:ns-resize;width:100%;height:var(--vscode-sash-size);left:0}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--vscode-sash-size)*2);width:calc(var(--vscode-sash-size)*2);z-index:100;cursor:all-scroll;display:block;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--vscode-sash-size)*-.5);top:calc(var(--vscode-sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--vscode-sash-size)*-.5);bottom:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--vscode-sash-size)*-.5);left:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--vscode-sash-size)*-.5);right:calc(var(--vscode-sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;background:0 0;width:100%;height:100%;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-sash:before{transition:background-color .1s ease-out}.monaco-sash.hover:before,.monaco-sash.active:before{background:var(--vscode-sash-hoverBorder)}.monaco-sash.vertical:before{width:var(--vscode-sash-hover-size);left:calc(50% - (var(--vscode-sash-hover-size)/2))}.monaco-sash.horizontal:before{height:var(--vscode-sash-hover-size);top:calc(50% - (var(--vscode-sash-hover-size)/2))}.pointer-events-disabled{pointer-events:none!important}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:#0ff3}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}')});class iP{constructor(J){this.el=J,this.disposables=new q0}get onPointerMove(){return this.disposables.add(new W1(L0(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new W1(L0(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}class nP{get onPointerMove(){return this.disposables.add(new W1(this.el,f1.Change)).event}get onPointerUp(){return this.disposables.add(new W1(this.el,f1.End)).event}constructor(J){this.el=J,this.disposables=new q0}dispose(){this.disposables.dispose()}}class ij{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(J){this.factory=J}dispose(){}}var $U=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},wJ0=!1,rj,LJ0=4,kJ0,EJ0=300,IJ0,Qr="pointer-events-disabled",M8;var oP=E(()=>{x0();IJ();J4();J6();E0();B0();E1();$r();(function(J){J.North="north",J.South="south",J.East="east",J.West="west"})(rj||(rj={}));kJ0=new p,IJ0=new p;$U([F6],iP.prototype,"onPointerMove",null);$U([F6],iP.prototype,"onPointerUp",null);$U([F6],nP.prototype,"onPointerMove",null);$U([F6],nP.prototype,"onPointerUp",null);$U([F6],ij.prototype,"onPointerMove",null);$U([F6],ij.prototype,"onPointerUp",null);M8=class M8 extends r{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(J){if(this._state===J)return;this.el.classList.toggle("disabled",J===0),this.el.classList.toggle("minimum",J===1),this.el.classList.toggle("maximum",J===2),this._state=J,this.onDidEnablementChange.fire(J)}set orthogonalStartSash(J){if(this._orthogonalStartSash===J)return;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),J){let $=(Q)=>{if(this.orthogonalStartDragHandleDisposables.clear(),Q!==0)this._orthogonalStartDragHandle=P0(this.el,M0(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(y0(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new W1(this._orthogonalStartDragHandle,"mouseenter")).event(()=>M8.onMouseEnter(J),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new W1(this._orthogonalStartDragHandle,"mouseleave")).event(()=>M8.onMouseLeave(J),void 0,this.orthogonalStartDragHandleDisposables)};this.orthogonalStartSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalStartSash=J}set orthogonalEndSash(J){if(this._orthogonalEndSash===J)return;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),J){let $=(Q)=>{if(this.orthogonalEndDragHandleDisposables.clear(),Q!==0)this._orthogonalEndDragHandle=P0(this.el,M0(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(y0(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new W1(this._orthogonalEndDragHandle,"mouseenter")).event(()=>M8.onMouseEnter(J),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new W1(this._orthogonalEndDragHandle,"mouseleave")).event(()=>M8.onMouseLeave(J),void 0,this.orthogonalEndDragHandleDisposables)};this.orthogonalEndSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalEndSash=J}constructor(J,$,Q){super();if(this.hoverDelay=EJ0,this.hoverDelayer=this._register(new T4(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new p),this._onDidStart=this._register(new p),this._onDidChange=this._register(new p),this._onDidReset=this._register(new p),this._onDidEnd=this._register(new p),this.orthogonalStartSashDisposables=this._register(new q0),this.orthogonalStartDragHandleDisposables=this._register(new q0),this.orthogonalEndSashDisposables=this._register(new q0),this.orthogonalEndDragHandleDisposables=this._register(new q0),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=P0(J,M0(".monaco-sash")),Q.orthogonalEdge)this.el.classList.add(`orthogonal-edge-${Q.orthogonalEdge}`);if($1)this.el.classList.add("mac");let X=this._register(new W1(this.el,"mousedown")).event;this._register(X((H)=>this.onPointerStart(H,new iP(J)),this));let Y=this._register(new W1(this.el,"dblclick")).event;this._register(Y(this.onPointerDoublePress,this));let Z=this._register(new W1(this.el,"mouseenter")).event;this._register(Z(()=>M8.onMouseEnter(this)));let G=this._register(new W1(this.el,"mouseleave")).event;this._register(G(()=>M8.onMouseLeave(this))),this._register(b1.addTarget(this.el));let q=this._register(new W1(this.el,f1.Start)).event;this._register(q((H)=>this.onPointerStart(H,new nP(this.el)),this));let U=this._register(new W1(this.el,f1.Tap)).event,z=void 0;if(this._register(U((H)=>{if(z){clearTimeout(z),z=void 0,this.onPointerDoublePress(H);return}clearTimeout(z),z=setTimeout(()=>z=void 0,250)},this)),typeof Q.size==="number")if(this.size=Q.size,Q.orientation===0)this.el.style.width=`${this.size}px`;else this.el.style.height=`${this.size}px`;else this.size=LJ0,this._register(kJ0.event((H)=>{this.size=H,this.layout()}));if(this._register(IJ0.event((H)=>this.hoverDelay=H)),this.layoutProvider=$,this.orthogonalStartSash=Q.orthogonalStartSash,this.orthogonalEndSash=Q.orthogonalEndSash,this.orientation=Q.orientation||0,this.orientation===1)this.el.classList.add("horizontal"),this.el.classList.remove("vertical");else this.el.classList.remove("horizontal"),this.el.classList.add("vertical");this.el.classList.toggle("debug",wJ0),this.layout()}onPointerStart(J,$){o0.stop(J);let Q=!1;if(!J.__orthogonalSashEvent){let V=this.getOrthogonalSash(J);if(V)Q=!0,J.__orthogonalSashEvent=!0,V.onPointerStart(J,new ij($))}if(this.linkedSash&&!J.__linkedSashEvent)J.__linkedSashEvent=!0,this.linkedSash.onPointerStart(J,new ij($));if(!this.state)return;let X=this.el.ownerDocument.getElementsByTagName("iframe");for(let V of X)V.classList.add(Qr);let{pageX:Y,pageY:Z,altKey:G}=J,q={startX:Y,currentX:Y,startY:Z,currentY:Z,altKey:G};this.el.classList.add("active"),this._onDidStart.fire(q);let U=b5(this.el),z=()=>{let V="";if(Q)V="all-scroll";else if(this.orientation===1)if(this.state===1)V="s-resize";else if(this.state===2)V="n-resize";else V=$1?"row-resize":"ns-resize";else if(this.state===1)V="e-resize";else if(this.state===2)V="w-resize";else V=$1?"col-resize":"ew-resize";U.textContent=`* { cursor: ${V} !important; }`},H=new q0;if(z(),!Q)this.onDidEnablementChange.event(z,null,H);let j=(V)=>{o0.stop(V,!1);let W={startX:Y,currentX:V.pageX,startY:Z,currentY:V.pageY,altKey:G};this._onDidChange.fire(W)},B=(V)=>{o0.stop(V,!1),this.el.removeChild(U),this.el.classList.remove("active"),this._onDidEnd.fire(),H.dispose();for(let W of X)W.classList.remove(Qr)};$.onPointerMove(j,null,H),$.onPointerUp(B,null,H),H.add($)}onPointerDoublePress(J){let $=this.getOrthogonalSash(J);if($)$._onDidReset.fire();if(this.linkedSash)this.linkedSash._onDidReset.fire();this._onDidReset.fire()}static onMouseEnter(J,$=!1){if(J.el.classList.contains("active"))J.hoverDelayer.cancel(),J.el.classList.add("hover");else J.hoverDelayer.trigger(()=>J.el.classList.add("hover"),J.hoverDelay).then(void 0,()=>{});if(!$&&J.linkedSash)M8.onMouseEnter(J.linkedSash,!0)}static onMouseLeave(J,$=!1){if(J.hoverDelayer.cancel(),J.el.classList.remove("hover"),!$&&J.linkedSash)M8.onMouseLeave(J.linkedSash,!0)}clearSashHoverState(){M8.onMouseLeave(this)}layout(){if(this.orientation===0){let J=this.layoutProvider;if(this.el.style.left=J.getVerticalSashLeft(this)-this.size/2+"px",J.getVerticalSashTop)this.el.style.top=J.getVerticalSashTop(this)+"px";if(J.getVerticalSashHeight)this.el.style.height=J.getVerticalSashHeight(this)+"px"}else{let J=this.layoutProvider;if(this.el.style.top=J.getHorizontalSashTop(this)-this.size/2+"px",J.getHorizontalSashLeft)this.el.style.left=J.getHorizontalSashLeft(this)+"px";if(J.getHorizontalSashWidth)this.el.style.width=J.getHorizontalSashWidth(this)+"px"}}getOrthogonalSash(J){var $;let Q=($=J.initialTarget)!==null&&$!==void 0?$:J.target;if(!Q||!(Q instanceof HTMLElement))return;if(Q.classList.contains("orthogonal-drag-handle"))return Q.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash;return}dispose(){super.dispose(),this.el.remove()}}});var Xr=E(()=>{_0('.monaco-split-view2{width:100%;height:100%;position:relative}.monaco-split-view2>.sash-container{pointer-events:none;width:100%;height:100%;position:absolute}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:initial}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:initial;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";z-index:5;pointer-events:none;background-color:var(--separator-border);position:absolute;top:0;left:0}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:1px;height:100%}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:100%;height:1px}')});class ME{set size(J){this._size=J}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(J,$){var Q,X;if(J===this.visible)return;if(J)this.size=Y8(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0;else this._cachedVisibleSize=typeof $==="number"?$:this.size,this.size=0;this.container.classList.toggle("visible",J);try{(X=(Q=this.view).setVisible)===null||X===void 0||X.call(Q,J)}catch(Y){console.error("Splitview: Failed to set visible view"),console.error(Y)}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var J;return(J=this.view.proportionalLayout)!==null&&J!==void 0?J:!0}get snap(){return!!this.view.snap}set enabled(J){this.container.style.pointerEvents=J?"":"none"}constructor(J,$,Q,X){if(this.container=J,this.view=$,this.disposable=X,this._cachedVisibleSize=void 0,typeof Q==="number")this._size=Q,this._cachedVisibleSize=void 0,J.classList.add("visible");else this._size=0,this._cachedVisibleSize=Q.cachedVisibleSize}layout(J,$){this.layoutContainer(J);try{this.view.layout(this.size,J,$)}catch(Q){console.error("Splitview: Failed to layout view"),console.error(Q)}}dispose(){this.disposable.dispose()}}var yJ0,Zr,Gr,IX,Yr,OE;var qr=E(()=>{x0();IJ();oP();EJ();B1();a7();E0();B0();e3();Xr();yJ0={separatorBorder:X0.transparent};Zr=class Zr extends ME{layoutContainer(J){this.container.style.top=`${J}px`,this.container.style.height=`${this.size}px`}};Gr=class Gr extends ME{layoutContainer(J){this.container.style.left=`${J}px`,this.container.style.width=`${this.size}px`}};(function(J){J[J.Idle=0]="Idle",J[J.Busy=1]="Busy"})(IX||(IX={}));(function(J){J.Distribute={type:"distribute"};function $(Y){return{type:"split",index:Y}}J.Split=$;function Q(Y){return{type:"auto",index:Y}}J.Auto=Q;function X(Y){return{type:"invisible",cachedVisibleSize:Y}}J.Invisible=X})(Yr||(Yr={}));OE=class OE extends r{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(J){for(let $ of this.sashItems)$.sash.orthogonalStartSash=J;this._orthogonalStartSash=J}set orthogonalEndSash(J){for(let $ of this.sashItems)$.sash.orthogonalEndSash=J;this._orthogonalEndSash=J}set startSnappingEnabled(J){if(this._startSnappingEnabled===J)return;this._startSnappingEnabled=J,this.updateSashEnablement()}set endSnappingEnabled(J){if(this._endSnappingEnabled===J)return;this._endSnappingEnabled=J,this.updateSashEnablement()}constructor(J,$={}){var Q,X,Y,Z,G;super();this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=IX.Idle,this._onDidSashChange=this._register(new p),this._onDidSashReset=this._register(new p),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(Q=$.orientation)!==null&&Q!==void 0?Q:0,this.inverseAltBehavior=(X=$.inverseAltBehavior)!==null&&X!==void 0?X:!1,this.proportionalLayout=(Y=$.proportionalLayout)!==null&&Y!==void 0?Y:!0,this.getSashOrthogonalSize=$.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),J.appendChild(this.el),this.sashContainer=P0(this.el,M0(".sash-container")),this.viewContainer=M0(".split-view-container"),this.scrollable=this._register(new v4({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:(U)=>y5(L0(this.el),U)})),this.scrollableElement=this._register(new QX(this.viewContainer,{vertical:this.orientation===0?(Z=$.scrollbarVisibility)!==null&&Z!==void 0?Z:1:2,horizontal:this.orientation===1?(G=$.scrollbarVisibility)!==null&&G!==void 0?G:1:2},this.scrollable));let q=this._register(new W1(this.viewContainer,"scroll")).event;if(this._register(q((U)=>{let z=this.scrollableElement.getScrollPosition(),H=Math.abs(this.viewContainer.scrollLeft-z.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,j=Math.abs(this.viewContainer.scrollTop-z.scrollTop)<=1?void 0:this.viewContainer.scrollTop;if(H!==void 0||j!==void 0)this.scrollableElement.setScrollPosition({scrollLeft:H,scrollTop:j})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((U)=>{if(U.scrollTopChanged)this.viewContainer.scrollTop=U.scrollTop;if(U.scrollLeftChanged)this.viewContainer.scrollLeft=U.scrollLeft})),P0(this.el,this.scrollableElement.getDomNode()),this.style($.styles||yJ0),$.descriptor)this.size=$.descriptor.size,$.descriptor.views.forEach((U,z)=>{let H=q8(U.visible)||U.visible?U.size:{type:"invisible",cachedVisibleSize:U.size},j=U.view;this.doAddView(j,H,z,!0)}),this._contentSize=this.viewItems.reduce((U,z)=>U+z.size,0),this.saveProportions()}style(J){if(J.separatorBorder.isTransparent())this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border");else this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",J.separatorBorder.toString())}addView(J,$,Q=this.viewItems.length,X){this.doAddView(J,$,Q,X)}layout(J,$){let Q=Math.max(this.size,this._contentSize);if(this.size=J,this.layoutContext=$,!this.proportions){let X=g5(this.viewItems.length),Y=X.filter((G)=>this.viewItems[G].priority===1),Z=X.filter((G)=>this.viewItems[G].priority===2);this.resize(this.viewItems.length-1,J-Q,void 0,Y,Z)}else{let X=0;for(let Y=0;Y<this.viewItems.length;Y++){let Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number")X+=G;else J-=Z.size}for(let Y=0;Y<this.viewItems.length;Y++){let Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number"&&X>0)Z.size=Y8(Math.round(G*J/X),Z.minimumSize,Z.maximumSize)}}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){if(this.proportionalLayout&&this._contentSize>0)this.proportions=this.viewItems.map((J)=>J.proportionalLayout&&J.visible?J.size/this._contentSize:void 0)}onSashStart({sash:J,start:$,alt:Q}){for(let G of this.viewItems)G.enabled=!1;let X=this.sashItems.findIndex((G)=>G.sash===J),Y=p8(t(this.el.ownerDocument.body,"keydown",(G)=>Z(this.sashDragState.current,G.altKey)),t(this.el.ownerDocument.body,"keyup",()=>Z(this.sashDragState.current,!1))),Z=(G,q)=>{let U=this.viewItems.map((V)=>V.size),z=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior)q=!q;if(q)if(X===this.sashItems.length-1){let W=this.viewItems[X];z=(W.minimumSize-W.size)/2,H=(W.maximumSize-W.size)/2}else{let W=this.viewItems[X+1];z=(W.size-W.maximumSize)/2,H=(W.size-W.minimumSize)/2}let j,B;if(!q){let V=g5(X,-1),W=g5(X+1,this.viewItems.length),K=V.reduce((N,w)=>N+(this.viewItems[w].minimumSize-U[w]),0),A=V.reduce((N,w)=>N+(this.viewItems[w].viewMaximumSize-U[w]),0),F=W.length===0?Number.POSITIVE_INFINITY:W.reduce((N,w)=>N+(U[w]-this.viewItems[w].minimumSize),0),P=W.length===0?Number.NEGATIVE_INFINITY:W.reduce((N,w)=>N+(U[w]-this.viewItems[w].viewMaximumSize),0),R=Math.max(K,P),D=Math.min(F,A),_=this.findFirstSnapIndex(V),O=this.findFirstSnapIndex(W);if(typeof _==="number"){let N=this.viewItems[_],w=Math.floor(N.viewMinimumSize/2);j={index:_,limitDelta:N.visible?R-w:R+w,size:N.size}}if(typeof O==="number"){let N=this.viewItems[O],w=Math.floor(N.viewMinimumSize/2);B={index:O,limitDelta:N.visible?D+w:D-w,size:N.size}}}this.sashDragState={start:G,current:G,index:X,sizes:U,minDelta:z,maxDelta:H,alt:q,snapBefore:j,snapAfter:B,disposable:Y}};Z($,Q)}onSashChange({current:J}){let{index:$,start:Q,sizes:X,alt:Y,minDelta:Z,maxDelta:G,snapBefore:q,snapAfter:U}=this.sashDragState;this.sashDragState.current=J;let z=J-Q,H=this.resize($,z,X,void 0,void 0,Z,G,q,U);if(Y){let j=$===this.sashItems.length-1,B=this.viewItems.map((P)=>P.size),V=j?$:$+1,W=this.viewItems[V],K=W.size-W.maximumSize,A=W.size-W.minimumSize,F=j?$-1:$+1;this.resize(F,-H,B,void 0,void 0,K,A)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(J){this._onDidSashChange.fire(J),this.sashDragState.disposable.dispose(),this.saveProportions();for(let $ of this.viewItems)$.enabled=!0}onViewChange(J,$){let Q=this.viewItems.indexOf(J);if(Q<0||Q>=this.viewItems.length)return;if($=typeof $==="number"?$:J.size,$=Y8($,J.minimumSize,J.maximumSize),this.inverseAltBehavior&&Q>0)this.resize(Q-1,Math.floor((J.size-$)/2)),this.distributeEmptySpace(),this.layoutViews();else J.size=$,this.relayout([Q],void 0)}resizeView(J,$){if(J<0||J>=this.viewItems.length)return;if(this.state!==IX.Idle)throw Error("Cant modify splitview");this.state=IX.Busy;try{let Q=g5(this.viewItems.length).filter((G)=>G!==J),X=[...Q.filter((G)=>this.viewItems[G].priority===1),J],Y=Q.filter((G)=>this.viewItems[G].priority===2),Z=this.viewItems[J];$=Math.round($),$=Y8($,Z.minimumSize,Math.min(Z.maximumSize,this.size)),Z.size=$,this.relayout(X,Y)}finally{this.state=IX.Idle}}distributeViewSizes(){let J=[],$=0;for(let G of this.viewItems)if(G.maximumSize-G.minimumSize>0)J.push(G),$+=G.size;let Q=Math.floor($/J.length);for(let G of J)G.size=Y8(Q,G.minimumSize,G.maximumSize);let X=g5(this.viewItems.length),Y=X.filter((G)=>this.viewItems[G].priority===1),Z=X.filter((G)=>this.viewItems[G].priority===2);this.relayout(Y,Z)}getViewSize(J){if(J<0||J>=this.viewItems.length)return-1;return this.viewItems[J].size}doAddView(J,$,Q=this.viewItems.length,X){if(this.state!==IX.Idle)throw Error("Cant modify splitview");this.state=IX.Busy;try{let Y=M0(".split-view-view");if(Q===this.viewItems.length)this.viewContainer.appendChild(Y);else this.viewContainer.insertBefore(Y,this.viewContainer.children.item(Q));let Z=J.onDidChange((j)=>this.onViewChange(z,j)),G=y0(()=>this.viewContainer.removeChild(Y)),q=p8(Z,G),U;if(typeof $==="number")U=$;else{if($.type==="auto")if(this.areViewsDistributed())$={type:"distribute"};else $={type:"split",index:$.index};if($.type==="split")U=this.getViewSize($.index)/2;else if($.type==="invisible")U={cachedVisibleSize:$.cachedVisibleSize};else U=J.minimumSize}let z=this.orientation===0?new Zr(Y,J,U,q):new Gr(Y,J,U,q);if(this.viewItems.splice(Q,0,z),this.viewItems.length>1){let j={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},B=this.orientation===0?new M8(this.sashContainer,{getHorizontalSashTop:(N)=>this.getSashPosition(N),getHorizontalSashWidth:this.getSashOrthogonalSize},{...j,orientation:1}):new M8(this.sashContainer,{getVerticalSashLeft:(N)=>this.getSashPosition(N),getVerticalSashHeight:this.getSashOrthogonalSize},{...j,orientation:0}),V=this.orientation===0?(N)=>({sash:B,start:N.startY,current:N.currentY,alt:N.altKey}):(N)=>({sash:B,start:N.startX,current:N.currentX,alt:N.altKey}),K=V0.map(B.onDidStart,V)(this.onSashStart,this),F=V0.map(B.onDidChange,V)(this.onSashChange,this),R=V0.map(B.onDidEnd,()=>this.sashItems.findIndex((N)=>N.sash===B))(this.onSashEnd,this),D=B.onDidReset(()=>{let N=this.sashItems.findIndex((x)=>x.sash===B),w=g5(N,-1),T=g5(N+1,this.viewItems.length),I=this.findFirstSnapIndex(w),k=this.findFirstSnapIndex(T);if(typeof I==="number"&&!this.viewItems[I].visible)return;if(typeof k==="number"&&!this.viewItems[k].visible)return;this._onDidSashReset.fire(N)}),_=p8(K,F,R,D,B),O={sash:B,disposable:_};this.sashItems.splice(Q-1,0,O)}Y.appendChild(J.element);let H;if(typeof $!=="number"&&$.type==="split")H=[$.index];if(!X)this.relayout([Q],H);if(!X&&typeof $!=="number"&&$.type==="distribute")this.distributeViewSizes()}finally{this.state=IX.Idle}}relayout(J,$){let Q=this.viewItems.reduce((X,Y)=>X+Y.size,0);this.resize(this.viewItems.length-1,this.size-Q,void 0,J,$),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(J,$,Q=this.viewItems.map((z)=>z.size),X,Y,Z=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY,q,U){if(J<0||J>=this.viewItems.length)return 0;let z=g5(J,-1),H=g5(J+1,this.viewItems.length);if(Y)for(let O of Y)LW(z,O),LW(H,O);if(X)for(let O of X)cU(z,O),cU(H,O);let j=z.map((O)=>this.viewItems[O]),B=z.map((O)=>Q[O]),V=H.map((O)=>this.viewItems[O]),W=H.map((O)=>Q[O]),K=z.reduce((O,N)=>O+(this.viewItems[N].minimumSize-Q[N]),0),A=z.reduce((O,N)=>O+(this.viewItems[N].maximumSize-Q[N]),0),F=H.length===0?Number.POSITIVE_INFINITY:H.reduce((O,N)=>O+(Q[N]-this.viewItems[N].minimumSize),0),P=H.length===0?Number.NEGATIVE_INFINITY:H.reduce((O,N)=>O+(Q[N]-this.viewItems[N].maximumSize),0),R=Math.max(K,P,Z),D=Math.min(F,A,G),_=!1;if(q){let O=this.viewItems[q.index],N=$>=q.limitDelta;_=N!==O.visible,O.setVisible(N,q.size)}if(!_&&U){let O=this.viewItems[U.index],N=$<U.limitDelta;_=N!==O.visible,O.setVisible(N,U.size)}if(_)return this.resize(J,$,Q,X,Y,Z,G);$=Y8($,R,D);for(let O=0,N=$;O<j.length;O++){let w=j[O],T=Y8(B[O]+N,w.minimumSize,w.maximumSize),I=T-B[O];N-=I,w.size=T}for(let O=0,N=$;O<V.length;O++){let w=V[O],T=Y8(W[O]-N,w.minimumSize,w.maximumSize),I=T-W[O];N+=I,w.size=T}return $}distributeEmptySpace(J){let $=this.viewItems.reduce((G,q)=>G+q.size,0),Q=this.size-$,X=g5(this.viewItems.length-1,-1),Y=X.filter((G)=>this.viewItems[G].priority===1),Z=X.filter((G)=>this.viewItems[G].priority===2);for(let G of Z)LW(X,G);for(let G of Y)cU(X,G);if(typeof J==="number")cU(X,J);for(let G=0;Q!==0&&G<X.length;G++){let q=this.viewItems[X[G]],U=Y8(q.size+Q,q.minimumSize,q.maximumSize),z=U-q.size;Q-=z,q.size=U}}layoutViews(){this._contentSize=this.viewItems.reduce(($,Q)=>$+Q.size,0);let J=0;for(let $ of this.viewItems)$.layout(J,this.layoutContext),J+=$.size;this.sashItems.forEach(($)=>$.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){if(this.orientation===0)this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize});else this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let J=!1,$=this.viewItems.map((q)=>J=q.size-q.minimumSize>0||J);J=!1;let Q=this.viewItems.map((q)=>J=q.maximumSize-q.size>0||J),X=[...this.viewItems].reverse();J=!1;let Y=X.map((q)=>J=q.size-q.minimumSize>0||J).reverse();J=!1;let Z=X.map((q)=>J=q.maximumSize-q.size>0||J).reverse(),G=0;for(let q=0;q<this.sashItems.length;q++){let{sash:U}=this.sashItems[q],z=this.viewItems[q];G+=z.size;let H=!($[q]&&Z[q+1]),j=!(Q[q]&&Y[q+1]);if(H&&j){let B=g5(q,-1),V=g5(q+1,this.viewItems.length),W=this.findFirstSnapIndex(B),K=this.findFirstSnapIndex(V),A=typeof W==="number"&&!this.viewItems[W].visible,F=typeof K==="number"&&!this.viewItems[K].visible;if(A&&Y[q]&&(G>0||this.startSnappingEnabled))U.state=1;else if(F&&$[q]&&(G<this._contentSize||this.endSnappingEnabled))U.state=2;else U.state=0}else if(H&&!j)U.state=1;else if(!H&&j)U.state=2;else U.state=3}}getSashPosition(J){let $=0;for(let Q=0;Q<this.sashItems.length;Q++)if($+=this.viewItems[Q].size,this.sashItems[Q].sash===J)return $;return 0}findFirstSnapIndex(J){for(let $ of J){let Q=this.viewItems[$];if(!Q.visible)continue;if(Q.snap)return $}for(let $ of J){let Q=this.viewItems[$];if(Q.visible&&Q.maximumSize-Q.minimumSize>0)return;if(!Q.visible&&Q.snap)return $}return}areViewsDistributed(){let J=void 0,$=void 0;for(let Q of this.viewItems)if(J=J===void 0?Q.size:Math.min(J,Q.size),$=$===void 0?Q.size:Math.max($,Q.size),$-J>2)return!1;return!0}dispose(){var J;(J=this.sashDragState)===null||J===void 0||J.disposable.dispose(),h1(this.viewItems),this.viewItems=[],this.sashItems.forEach(($)=>$.disposable.dispose()),this.sashItems=[],super.dispose()}}});var Ur=E(()=>{_0('.monaco-table{white-space:nowrap;flex-direction:column;width:100%;height:100%;display:flex;position:relative;overflow:hidden}.monaco-table>.monaco-split-view2{border-bottom:1px solid #0000}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{height:100%;display:flex}.monaco-table-th{text-overflow:ellipsis;width:100%;height:100%;font-weight:700;overflow:hidden}.monaco-table-th,.monaco-table-td{box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;flex-shrink:0;overflow:hidden}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";left:calc(var(--vscode-sash-size)/2);border-left:1px solid #0000;width:0;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2,.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}')});class nj{constructor(J,$,Q){this.columns=J,this.getColumnSize=Q,this.templateId=nj.TemplateId,this.renderedTemplates=new Set;let X=new Map($.map((Y)=>[Y.templateId,Y]));this.renderers=[];for(let Y of J){let Z=X.get(Y.templateId);if(!Z)throw Error(`Table cell renderer for template id ${Y.templateId} not found.`);this.renderers.push(Z)}}renderTemplate(J){let $=P0(J,M0(".monaco-table-tr")),Q=[],X=[];for(let Z=0;Z<this.columns.length;Z++){let G=this.renderers[Z],q=P0($,M0(".monaco-table-td",{"data-col-index":Z}));q.style.width=`${this.getColumnSize(Z)}px`,Q.push(q),X.push(G.renderTemplate(q))}let Y={container:J,cellContainers:Q,cellTemplateData:X};return this.renderedTemplates.add(Y),Y}renderElement(J,$,Q,X){for(let Y=0;Y<this.columns.length;Y++){let G=this.columns[Y].project(J);this.renderers[Y].renderElement(G,$,Q.cellTemplateData[Y],X)}}disposeElement(J,$,Q,X){for(let Y=0;Y<this.columns.length;Y++){let Z=this.renderers[Y];if(Z.disposeElement){let q=this.columns[Y].project(J);Z.disposeElement(q,$,Q.cellTemplateData[Y],X)}}}disposeTemplate(J){for(let $=0;$<this.columns.length;$++)this.renderers[$].disposeTemplate(J.cellTemplateData[$]);c5(J.container),this.renderedTemplates.delete(J)}layoutColumn(J,$){for(let{cellContainers:Q}of this.renderedTemplates)Q[J].style.width=`${$}px`}}function xJ0(J){return{getHeight($){return J.getHeight($)},getTemplateId(){return nj.TemplateId}}}class zr{get minimumSize(){var J;return(J=this.column.minimumWidth)!==null&&J!==void 0?J:120}get maximumSize(){var J;return(J=this.column.maximumWidth)!==null&&J!==void 0?J:Number.POSITIVE_INFINITY}get onDidChange(){var J;return(J=this.column.onDidChangeWidthConstraints)!==null&&J!==void 0?J:V0.None}constructor(J,$){this.column=J,this.index=$,this._onDidLayout=new p,this.onDidLayout=this._onDidLayout.event,this.element=M0(".monaco-table-th",{"data-col-index":$,title:J.tooltip},J.label)}layout(J){this._onDidLayout.fire([this.index,J])}}class oj{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(J,$,Q,X,Y,Z){this.virtualDelegate=Q,this.domId=`table_id_${++oj.InstanceCount}`,this.disposables=new q0,this.cachedWidth=0,this.cachedHeight=0,this.domNode=P0($,M0(`.monaco-table.${this.domId}`));let G=X.map((z,H)=>new zr(z,H)),q={size:G.reduce((z,H)=>z+H.column.weight,0),views:G.map((z)=>({size:z.column.weight,view:z}))};this.splitview=this.disposables.add(new OE(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:q})),this.splitview.el.style.height=`${Q.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Q.headerRowHeight}px`;let U=new nj(X,Y,(z)=>this.splitview.getViewSize(z));this.list=this.disposables.add(new o8(J,this.domNode,xJ0(Q),[U],Z)),V0.any(...G.map((z)=>z.onDidLayout))(([z,H])=>U.layoutColumn(z,H),null,this.disposables),this.splitview.onDidSashReset((z)=>{let H=X.reduce((B,V)=>B+V.weight,0),j=X[z].weight/H*this.cachedWidth;this.splitview.resizeView(z,j)},null,this.disposables),this.styleElement=b5(this.domNode),this.style(qa)}updateOptions(J){this.list.updateOptions(J)}splice(J,$,Q=[]){this.list.splice(J,$,Q)}getHTMLElement(){return this.domNode}style(J){let $=[];$.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=$.join(`
`),this.list.style(J)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}var Hr=E(()=>{x0();GG();qr();E0();B0();Ur();nj.TemplateId="row";oj.InstanceCount=0});var jr=E(()=>{_0(".monaco-custom-toggle{float:left;cursor:pointer;box-sizing:border-box;-webkit-user-select:none;user-select:none;border:1px solid #0000;border-radius:3px;width:20px;height:20px;margin-left:2px;padding:1px;overflow:hidden}.monaco-custom-toggle:hover{background-color:var(--vscode-inputOption-hoverBackground)}.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{border:1px dashed var(--vscode-focusBorder)}.hc-black .monaco-custom-toggle,.hc-light .monaco-custom-toggle,.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{background:0 0}.monaco-custom-toggle.monaco-checkbox{opacity:1;border:1px solid #0000;border-radius:3px;width:18px;height:18px;margin-left:0;margin-right:9px;padding:0;background-size:16px!important}.monaco-action-bar .checkbox-action-item{align-items:center;display:flex}.monaco-action-bar .checkbox-action-item>.monaco-custom-toggle.monaco-checkbox{margin-right:4px}.monaco-action-bar .checkbox-action-item>.checkbox-label{font-size:12px}.monaco-custom-toggle.monaco-checkbox:not(.checked):before{visibility:hidden}")});var $Q;var tj=E(()=>{b$();N5();E0();jr();$Q=class $Q extends F8{constructor(J){super();this._onChange=this._register(new p),this.onChange=this._onChange.event,this._onKeyDown=this._register(new p),this.onKeyDown=this._onKeyDown.event,this._opts=J,this._checked=this._opts.isChecked;let $=["monaco-custom-toggle"];if(this._opts.icon)this._icon=this._opts.icon,$.push(...c0.asClassNameArray(this._icon));if(this._opts.actionClassName)$.push(...this._opts.actionClassName.split(" "));if(this._checked)$.push("checked");if(this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...$),!this._opts.notFocusable)this.domNode.tabIndex=0;this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(Q)=>{if(this.enabled)this.checked=!this._checked,this._onChange.fire(!1),Q.preventDefault()}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(Q)=>{if(Q.keyCode===10||Q.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),Q.preventDefault(),Q.stopPropagation();return}this._onKeyDown.fire(Q)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(J){this._checked=J,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){if(this.domNode)this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||""}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}});var bJ0,SJ0,CJ0,_E,NE,TE;var Vr=E(()=>{tj();O5();a0();bJ0=M("caseDescription","Match Case"),SJ0=M("wordsDescription","Match Whole Word"),CJ0=M("regexDescription","Use Regular Expression");_E=class _E extends $Q{constructor(J){super({icon:O0.caseSensitive,title:bJ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}};NE=class NE extends $Q{constructor(J){super({icon:O0.wholeWord,title:SJ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}};TE=class TE extends $Q{constructor(J){super({icon:O0.regex,title:CJ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}});class wE{constructor(J,$=0,Q=J.length,X=$-1){this.items=J,this.start=$,this.end=Q,this.index=X}current(){if(this.index===this.start-1||this.index===this.end)return null;return this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class LE{constructor(J=[],$=10){this._initialize(J),this._limit=$,this._onChange()}getHistory(){return this._elements}add(J){this._history.delete(J),this._history.add(J),this._onChange()}next(){return this._navigator.next()}previous(){if(this._currentPosition()!==0)return this._navigator.previous();return null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(J){return this._history.has(J)}_onChange(){this._reduceToLimit();let J=this._elements;this._navigator=new wE(J,0,J.length,J.length)}_reduceToLimit(){let J=this._elements;if(J.length>this._limit)this._initialize(J.slice(J.length-this._limit))}_currentPosition(){let J=this._navigator.current();if(!J)return-1;return this._elements.indexOf(J)}_initialize(J){this._history=new Set;for(let $ of J)this._history.add($)}get _elements(){let J=[];return this._history.forEach(($)=>J.push($)),J}}var Wr=()=>{};var Br=E(()=>{_0(".monaco-inputbox{box-sizing:border-box;font-size:inherit;border-radius:2px;padding:0;display:block;position:relative}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px 6px}.monaco-inputbox>.ibwrapper{width:100%;height:100%;position:relative}.monaco-inputbox>.ibwrapper>.input{box-sizing:border-box;width:100%;height:100%;line-height:inherit;font-family:inherit;font-size:inherit;resize:none;color:inherit;border:none;display:inline-block}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{scrollbar-width:none;outline:none;display:block}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word;width:100%;display:inline-block;position:absolute;top:0;left:0}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{text-align:left;box-sizing:border-box;word-wrap:break-word;width:100%;margin-top:-1px;padding:.4em;font-size:12px;line-height:17px;display:inline-block;overflow:hidden}.monaco-inputbox .monaco-action-bar{position:absolute;top:4px;right:2px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}")});var ej,Fr,JV;var tP=E(()=>{x0();IJ();Gk();JQ();KY();EJ();b$();E0();Wr();P7();Br();a0();ej=M0;Fr=class Fr extends F8{constructor(J,$,Q){var X;super();if(this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new p),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new p),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=$,this.options=Q,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(X=this.options.tooltip)!==null&&X!==void 0?X:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions)this.validation=this.options.validationOptions.validation;this.element=P0(J,ej(".monaco-inputbox.idle"));let Y=this.options.flexibleHeight?"textarea":"input",Z=P0(this.element,ej(".ibwrapper"));if(this.input=P0(Z,ej(Y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){if(this.maxHeight=typeof this.options.flexibleMaxHeight==="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=P0(Z,ej("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new kN(this.element,{vertical:1}),this.options.flexibleWidth)this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial";P0(J,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((U)=>this.input.scrollTop=U.scrollTop));let G=this._register(new W1(J.ownerDocument,"selectionchange")),q=V0.filter(G.event,()=>{let U=J.ownerDocument.getSelection();return(U===null||U===void 0?void 0:U.anchorNode)===Z});this._register(q(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");if(this.ariaLabel)this.input.setAttribute("aria-label",this.ariaLabel);if(this.placeholder&&!this.options.showPlaceholderOnFocus)this.setPlaceHolder(this.placeholder);if(this.tooltip)this.setTooltip(this.tooltip);if(this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions)this.actionbar=this._register(new R8(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1});this.applyStyles()}onBlur(){if(this._hideMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder","")}onFocus(){if(this._showMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(J){this.placeholder=J,this.input.setAttribute("placeholder",J)}setTooltip(J){this.tooltip=J,this.input.title=J}get inputElement(){return this.input}get value(){return this.input.value}set value(J){if(this.input.value!==J)this.input.value=J,this.onValueChange()}get height(){return typeof this.cachedHeight==="number"?this.cachedHeight:Sz(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return X2(this.input)}select(J=null){if(this.input.select(),J){if(this.input.setSelectionRange(J.start,J.end),J.end===this.input.value.length)this.input.scrollLeft=this.input.scrollWidth}}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(J){if(this.input.style.width=`calc(100% - ${J}px)`,this.mirror)this.mirror.style.paddingRight=J+"px"}updateScrollDimensions(){if(typeof this.cachedContentHeight!=="number"||typeof this.cachedHeight!=="number"||!this.scrollableElement)return;let J=this.cachedContentHeight,$=this.cachedHeight,Q=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:J,height:$}),this.scrollableElement.setScrollPosition({scrollTop:Q})}showMessage(J,$){if(this.state==="open"&&p5(this.message,J))return;this.message=J,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(J.type));let Q=this.stylesForType(this.message.type);if(this.element.style.border=`1px solid ${g9(Q.border,"transparent")}`,this.message.content&&(this.hasFocus()||$))this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let J=null;if(this.validation){if(J=this.validation(this.value),J)this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(J);else if(this.inputElement.hasAttribute("aria-invalid"))this.inputElement.removeAttribute("aria-invalid"),this.hideMessage()}return J===null||J===void 0?void 0:J.type}stylesForType(J){let $=this.options.inputBoxStyles;switch(J){case 1:return{border:$.inputValidationInfoBorder,background:$.inputValidationInfoBackground,foreground:$.inputValidationInfoForeground};case 2:return{border:$.inputValidationWarningBorder,background:$.inputValidationWarningBackground,foreground:$.inputValidationWarningForeground};default:return{border:$.inputValidationErrorBorder,background:$.inputValidationErrorBackground,foreground:$.inputValidationErrorForeground}}}classForType(J){switch(J){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let J,$=()=>J.style.width=j3(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:(X)=>{var Y,Z;if(!this.message)return null;J=P0(X,ej(".monaco-inputbox-container")),$();let G={inline:!0,className:"monaco-inputbox-message"},q=this.message.formatContent?Od(this.message.content,G):Md(this.message.content,G);q.classList.add(this.classForType(this.message.type));let U=this.stylesForType(this.message.type);return q.style.backgroundColor=(Y=U.background)!==null&&Y!==void 0?Y:"",q.style.color=(Z=U.foreground)!==null&&Z!==void 0?Z:"",q.style.border=U.border?`1px solid ${U.border}`:"",P0(J,q),null},onHide:()=>{this.state="closed"},layout:$});let Q;if(this.message.type===3)Q=M("alertErrorMessage","Error: {0}",this.message.content);else if(this.message.type===2)Q=M("alertWarningMessage","Warning: {0}",this.message.content);else Q=M("alertInfoMessage","Info: {0}",this.message.content);x3(Q),this.state="open"}_hideMessage(){if(!this.contextViewProvider)return;if(this.state==="open")this.contextViewProvider.hideContextView();this.state="idle"}onValueChange(){if(this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider)this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let J=this.value,Q=J.charCodeAt(J.length-1)===10?" ":"";if((J+Q).replace(/\u000c/g,""))this.mirror.textContent=J+Q;else this.mirror.innerText=" ";this.layout()}applyStyles(){var J,$,Q;let X=this.options.inputBoxStyles,Y=(J=X.inputBackground)!==null&&J!==void 0?J:"",Z=($=X.inputForeground)!==null&&$!==void 0?$:"",G=(Q=X.inputBorder)!==null&&Q!==void 0?Q:"";this.element.style.backgroundColor=Y,this.element.style.color=Z,this.input.style.backgroundColor="inherit",this.input.style.color=Z,this.element.style.border=`1px solid ${g9(G,"transparent")}`}layout(){if(!this.mirror)return;let J=this.cachedContentHeight;if(this.cachedContentHeight=Sz(this.mirror),J!==this.cachedContentHeight)this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight)}insertAtCursor(J){let $=this.inputElement,Q=$.selectionStart,X=$.selectionEnd,Y=$.value;if(Q!==null&&X!==null)this.value=Y.substr(0,Q)+J+Y.substr(X),$.setSelectionRange(Q+1,Q+1),this.layout()}dispose(){var J;this._hideMessage(),this.message=null,(J=this.actionbar)===null||J===void 0||J.dispose(),super.dispose()}};JV=class JV extends Fr{constructor(J,$,Q){let X=M({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," or {0} for history","⇅"),Y=M({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," ({0} for history)","⇅");super(J,$,Q);this._onDidFocus=this._register(new p),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new p),this.onDidBlur=this._onDidBlur.event,this.history=new LE(Q.history,100);let Z=()=>{if(Q.showHistoryHint&&Q.showHistoryHint()&&!this.placeholder.endsWith(X)&&!this.placeholder.endsWith(Y)&&this.history.getHistory().length){let G=this.placeholder.endsWith(")")?X:Y,q=this.placeholder+G;if(Q.showPlaceholderOnFocus&&!X2(this.input))this.placeholder=q;else this.setPlaceHolder(q)}};this.observer=new MutationObserver((G,q)=>{G.forEach((U)=>{if(!U.target.textContent)Z()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>Z()),this.onblur(this.input,()=>{let G=(q)=>{if(!this.placeholder.endsWith(q))return!1;else{let U=this.placeholder.slice(0,this.placeholder.length-q.length);if(Q.showPlaceholderOnFocus)this.placeholder=U;else this.setPlaceHolder(U);return!0}};if(!G(Y))G(X)})}dispose(){if(super.dispose(),this.observer)this.observer.disconnect(),this.observer=void 0}addToHistory(J){if(this.value&&(J||this.value!==this.getCurrentValue()))this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getNextValue();if(J)J=J===this.value?this.getNextValue():J;this.value=J!==null&&J!==void 0?J:"",O$(this.value?this.value:M("clearedInput","Cleared Input"))}showPreviousValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getPreviousValue();if(J)J=J===this.value?this.getPreviousValue():J;if(J)this.value=J,O$(this.value)}setPlaceHolder(J){super.setPlaceHolder(J),this.setTooltip(J)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let J=this.history.current();if(!J)J=this.history.last(),this.history.next();return J}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}});var kE=E(()=>{_0(".monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{width:100%;font-size:13px}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls,.hc-light .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-0}.monaco-findInput.highlight-1 .controls,.hc-light .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-1}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-dark-0}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-dark-1}@keyframes monaco-findInput-highlight-0{0%{background:#fdff00cc}to{background:0 0}}@keyframes monaco-findInput-highlight-1{0%{background:#fdff00cc}99%{background:0 0}}@keyframes monaco-findInput-highlight-dark-0{0%{background:#ffffff70}to{background:0 0}}@keyframes monaco-findInput-highlight-dark-1{0%{background:#ffffff70}99%{background:0 0}}")});var vJ0,QU;var eP=E(()=>{x0();Vr();tP();b$();E0();kE();a0();B0();vJ0=M("defaultLabel","input");QU=class QU extends F8{constructor(J,$,Q){super();this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new r5),this.additionalToggles=[],this._onDidOptionChange=this._register(new p),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new p),this._onKeyUp=this._register(new p),this._onCaseSensitiveKeyDown=this._register(new p),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new p),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=Q.placeholder||"",this.validation=Q.validation,this.label=Q.label||vJ0,this.showCommonFindToggles=!!Q.showCommonFindToggles;let X=Q.appendCaseSensitiveLabel||"",Y=Q.appendWholeWordsLabel||"",Z=Q.appendRegexLabel||"",G=Q.history||[],q=!!Q.flexibleHeight,U=!!Q.flexibleWidth,z=Q.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new JV(this.domNode,$,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:G,showHistoryHint:Q.showHistoryHint,flexibleHeight:q,flexibleWidth:U,flexibleMaxHeight:z,inputBoxStyles:Q.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new TE({appendTitle:Z,isChecked:!1,...Q.toggleStyles})),this._register(this.regex.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.regex.onKeyDown((j)=>{this._onRegexKeyDown.fire(j)})),this.wholeWords=this._register(new NE({appendTitle:Y,isChecked:!1,...Q.toggleStyles})),this._register(this.wholeWords.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this.caseSensitive=this._register(new _E({appendTitle:X,isChecked:!1,...Q.toggleStyles})),this._register(this.caseSensitive.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.caseSensitive.onKeyDown((j)=>{this._onCaseSensitiveKeyDown.fire(j)}));let H=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(j)=>{if(j.equals(15)||j.equals(17)||j.equals(9)){let B=H.indexOf(this.domNode.ownerDocument.activeElement);if(B>=0){let V=-1;if(j.equals(17))V=(B+1)%H.length;else if(j.equals(15))if(B===0)V=H.length-1;else V=B-1;if(j.equals(9))H[B].blur(),this.inputBox.focus();else if(V>=0)H[V].focus();o0.stop(j,!0)}}})}if(this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive)this.controls.append(this.caseSensitive.domNode);if(this.wholeWords)this.controls.appendChild(this.wholeWords.domNode);if(this.regex)this.controls.appendChild(this.regex.domNode);if(this.setAdditionalToggles(Q===null||Q===void 0?void 0:Q.additionalToggles),this.controls)this.domNode.appendChild(this.controls);J===null||J===void 0||J.appendChild(this.domNode),this._register(t(this.inputBox.inputElement,"compositionstart",(H)=>{this.imeSessionInProgress=!0})),this._register(t(this.inputBox.inputElement,"compositionend",(H)=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,(H)=>this._onKeyDown.fire(H)),this.onkeyup(this.inputBox.inputElement,(H)=>this._onKeyUp.fire(H)),this.oninput(this.inputBox.inputElement,(H)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(H)=>this._onMouseDown.fire(H))}get onDidChange(){return this.inputBox.onDidChange}layout(J){this.inputBox.layout(),this.updateInputBoxPadding(J.collapsedFindWidget)}enable(){var J,$,Q;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(J=this.regex)===null||J===void 0||J.enable(),($=this.wholeWords)===null||$===void 0||$.enable(),(Q=this.caseSensitive)===null||Q===void 0||Q.enable();for(let X of this.additionalToggles)X.enable()}disable(){var J,$,Q;this.domNode.classList.add("disabled"),this.inputBox.disable(),(J=this.regex)===null||J===void 0||J.disable(),($=this.wholeWords)===null||$===void 0||$.disable(),(Q=this.caseSensitive)===null||Q===void 0||Q.disable();for(let X of this.additionalToggles)X.disable()}setFocusInputOnOptionClick(J){this.fixFocusOnOptionClickEnabled=J}setEnabled(J){if(J)this.enable();else this.disable()}setAdditionalToggles(J){for(let $ of this.additionalToggles)$.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new q0;for(let $ of J!==null&&J!==void 0?J:[])this.additionalTogglesDisposables.value.add($),this.controls.appendChild($.domNode),this.additionalTogglesDisposables.value.add($.onChange((Q)=>{if(this._onDidOptionChange.fire(Q),!Q&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus()})),this.additionalToggles.push($);if(this.additionalToggles.length>0)this.controls.style.display="";this.updateInputBoxPadding()}updateInputBoxPadding(J=!1){var $,Q,X,Y,Z,G;if(J)this.inputBox.paddingRight=0;else this.inputBox.paddingRight=((Q=($=this.caseSensitive)===null||$===void 0?void 0:$.width())!==null&&Q!==void 0?Q:0)+((Y=(X=this.wholeWords)===null||X===void 0?void 0:X.width())!==null&&Y!==void 0?Y:0)+((G=(Z=this.regex)===null||Z===void 0?void 0:Z.width())!==null&&G!==void 0?G:0)+this.additionalToggles.reduce((q,U)=>q+U.width(),0)}getValue(){return this.inputBox.value}setValue(J){if(this.inputBox.value!==J)this.inputBox.value=J}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var J,$;return($=(J=this.caseSensitive)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setCaseSensitive(J){if(this.caseSensitive)this.caseSensitive.checked=J}getWholeWords(){var J,$;return($=(J=this.wholeWords)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setWholeWords(J){if(this.wholeWords)this.wholeWords.checked=J}getRegex(){var J,$;return($=(J=this.regex)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setRegex(J){if(this.regex)this.regex.checked=J,this.validate()}focusOnCaseSensitive(){var J;(J=this.caseSensitive)===null||J===void 0||J.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(J){this.inputBox.showMessage(J)}clearMessage(){this.inputBox.hideMessage()}}});class XU{constructor(J){this.fn=J,this._map=new WeakMap}map(J){let $=this._map.get(J);if(!$)$=this.fn(J),this._map.set(J,$);return $}}var E7,iY,S8;var YU=E(()=>{(function(J){J[J.Expanded=0]="Expanded",J[J.Collapsed=1]="Collapsed",J[J.PreserveOrExpanded=2]="PreserveOrExpanded",J[J.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(E7||(E7={}));(function(J){J[J.Unknown=0]="Unknown",J[J.Twistie=1]="Twistie",J[J.Element=2]="Element",J[J.Filter=3]="Filter"})(iY||(iY={}));S8=class S8 extends Error{constructor(J,$){super(`TreeError [${J}] ${$}`)}}});function $V(J){return typeof J==="object"&&"visibility"in J&&"data"in J}function FG(J){switch(J){case!0:return 1;case!1:return 0;default:return J}}function EE(J){return typeof J.collapsible==="boolean"}class IE{constructor(J,$,Q,X={}){this.user=J,this.list=$,this.rootRef=[],this.eventBufferer=new vZ,this._onDidChangeCollapseState=new p,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new p,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new p,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new T4(VF),this.collapseByDefault=typeof X.collapseByDefault>"u"?!1:X.collapseByDefault,this.filter=X.filter,this.autoExpandSingleChildren=typeof X.autoExpandSingleChildren>"u"?!1:X.autoExpandSingleChildren,this.root={parent:void 0,element:Q,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(J,$,Q=D1.empty(),X={}){if(J.length===0)throw new S8(this.user,"Invalid tree location");if(X.diffIdentityProvider)this.spliceSmart(X.diffIdentityProvider,J,$,Q,X);else this.spliceSimple(J,$,Q,X)}spliceSmart(J,$,Q,X,Y,Z){var G;if(X===void 0)X=D1.empty();if(Z===void 0)Z=(G=Y.diffDepth)!==null&&G!==void 0?G:0;let{parentNode:q}=this.getParentNodeWithListIndex($);if(!q.lastDiffIds)return this.spliceSimple($,Q,X,Y);let U=[...X],z=$[$.length-1],H=new BJ({getElements:()=>q.lastDiffIds},{getElements:()=>[...q.children.slice(0,z),...U,...q.children.slice(z+Q)].map((K)=>J.getId(K.element).toString())}).ComputeDiff(!1);if(H.quitEarly)return q.lastDiffIds=void 0,this.spliceSimple($,Q,U,Y);let j=$.slice(0,-1),B=(K,A,F)=>{if(Z>0)for(let P=0;P<F;P++)K--,A--,this.spliceSmart(J,[...j,K,0],Number.MAX_SAFE_INTEGER,U[A].children,Y,Z-1)},V=Math.min(q.children.length,z+Q),W=U.length;for(let K of H.changes.sort((A,F)=>F.originalStart-A.originalStart))B(V,W,V-(K.originalStart+K.originalLength)),V=K.originalStart,W=K.modifiedStart-z,this.spliceSimple([...j,V],K.originalLength,D1.slice(U,W,W+K.modifiedLength),Y);B(V,W,V)}spliceSimple(J,$,Q=D1.empty(),{onDidCreateNode:X,onDidDeleteNode:Y,diffIdentityProvider:Z}){let{parentNode:G,listIndex:q,revealed:U,visible:z}=this.getParentNodeWithListIndex(J),H=[],j=D1.map(Q,(D)=>this.createTreeNode(D,G,G.visible?1:0,U,H,X)),B=J[J.length-1],V=0;for(let D=B;D>=0&&D<G.children.length;D--){let _=G.children[D];if(_.visible){V=_.visibleChildIndex;break}}let W=[],K=0,A=0;for(let D of j)if(W.push(D),A+=D.renderNodeCount,D.visible)D.visibleChildIndex=V+K++;let F=QM(G.children,B,$,W);if(!Z)G.lastDiffIds=void 0;else if(G.lastDiffIds)QM(G.lastDiffIds,B,$,W.map((D)=>Z.getId(D.element).toString()));else G.lastDiffIds=G.children.map((D)=>Z.getId(D.element).toString());let P=0;for(let D of F)if(D.visible)P++;if(P!==0)for(let D=B+W.length;D<G.children.length;D++){let _=G.children[D];if(_.visible)_.visibleChildIndex-=P}if(G.visibleChildrenCount+=K-P,U&&z){let D=F.reduce((_,O)=>_+(O.visible?O.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(G,A-D),this.list.splice(q,D,H)}if(F.length>0&&Y){let D=(_)=>{Y(_),_.children.forEach(D)};F.forEach(D)}this._onDidSplice.fire({insertedNodes:W,deletedNodes:F});let R=G;while(R){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(J){if(J.length===0)throw new S8(this.user,"Invalid tree location");let{node:$,listIndex:Q,revealed:X}=this.getTreeNodeWithListIndex(J);if($.visible&&X)this.list.splice(Q,1,[$])}has(J){return this.hasTreeNode(J)}getListIndex(J){let{listIndex:$,visible:Q,revealed:X}=this.getTreeNodeWithListIndex(J);return Q&&X?$:-1}getListRenderCount(J){return this.getTreeNode(J).renderNodeCount}isCollapsible(J){return this.getTreeNode(J).collapsible}setCollapsible(J,$){let Q=this.getTreeNode(J);if(typeof $>"u")$=!Q.collapsible;let X={collapsible:$};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,X))}isCollapsed(J){return this.getTreeNode(J).collapsed}setCollapsed(J,$,Q){let X=this.getTreeNode(J);if(typeof $>"u")$=!X.collapsed;let Y={collapsed:$,recursive:Q||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,Y))}_setCollapseState(J,$){let{node:Q,listIndex:X,revealed:Y}=this.getTreeNodeWithListIndex(J),Z=this._setListNodeCollapseState(Q,X,Y,$);if(Q!==this.root&&this.autoExpandSingleChildren&&Z&&!EE($)&&Q.collapsible&&!Q.collapsed&&!$.recursive){let G=-1;for(let q=0;q<Q.children.length;q++)if(Q.children[q].visible)if(G>-1){G=-1;break}else G=q;if(G>-1)this._setCollapseState([...J,G],$)}return Z}_setListNodeCollapseState(J,$,Q,X){let Y=this._setNodeCollapseState(J,X,!1);if(!Q||!J.visible||!Y)return Y;let Z=J.renderNodeCount,G=this.updateNodeAfterCollapseChange(J),q=Z-($===-1?0:1);return this.list.splice($+1,q,G.slice(1)),Y}_setNodeCollapseState(J,$,Q){let X;if(J===this.root)X=!1;else{if(EE($))X=J.collapsible!==$.collapsible,J.collapsible=$.collapsible;else if(!J.collapsible)X=!1;else X=J.collapsed!==$.collapsed,J.collapsed=$.collapsed;if(X)this._onDidChangeCollapseState.fire({node:J,deep:Q})}if(!EE($)&&$.recursive)for(let Y of J.children)X=this._setNodeCollapseState(Y,$,!0)||X;return X}expandTo(J){this.eventBufferer.bufferEvents(()=>{let $=this.getTreeNode(J);while($.parent)if($=$.parent,J=J.slice(0,J.length-1),$.collapsed)this._setCollapseState(J,{collapsed:!1,recursive:!1})})}refilter(){let J=this.root.renderNodeCount,$=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,J,$),this.refilterDelayer.cancel()}createTreeNode(J,$,Q,X,Y,Z){let G={parent:$,element:J.element,children:[],depth:$.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof J.collapsible==="boolean"?J.collapsible:typeof J.collapsed<"u",collapsed:typeof J.collapsed>"u"?this.collapseByDefault:J.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},q=this._filterNode(G,Q);if(G.visibility=q,X)Y.push(G);let U=J.children||D1.empty(),z=X&&q!==0&&!G.collapsed,H=0,j=1;for(let B of U){let V=this.createTreeNode(B,G,q,z,Y,Z);if(G.children.push(V),j+=V.renderNodeCount,V.visible)V.visibleChildIndex=H++}if(G.collapsible=G.collapsible||G.children.length>0,G.visibleChildrenCount=H,G.visible=q===2?H>0:q===1,!G.visible){if(G.renderNodeCount=0,X)Y.pop()}else if(!G.collapsed)G.renderNodeCount=j;return Z===null||Z===void 0||Z(G),G}updateNodeAfterCollapseChange(J){let $=J.renderNodeCount,Q=[];return this._updateNodeAfterCollapseChange(J,Q),this._updateAncestorsRenderNodeCount(J.parent,Q.length-$),Q}_updateNodeAfterCollapseChange(J,$){if(J.visible===!1)return 0;if($.push(J),J.renderNodeCount=1,!J.collapsed)for(let Q of J.children)J.renderNodeCount+=this._updateNodeAfterCollapseChange(Q,$);return this._onDidChangeRenderNodeCount.fire(J),J.renderNodeCount}updateNodeAfterFilterChange(J){let $=J.renderNodeCount,Q=[];return this._updateNodeAfterFilterChange(J,J.visible?1:0,Q),this._updateAncestorsRenderNodeCount(J.parent,Q.length-$),Q}_updateNodeAfterFilterChange(J,$,Q,X=!0){let Y;if(J!==this.root){if(Y=this._filterNode(J,$),Y===0)return J.visible=!1,J.renderNodeCount=0,!1;if(X)Q.push(J)}let Z=Q.length;J.renderNodeCount=J===this.root?0:1;let G=!1;if(!J.collapsed||Y!==0){let q=0;for(let U of J.children)if(G=this._updateNodeAfterFilterChange(U,Y,Q,X&&!J.collapsed)||G,U.visible)U.visibleChildIndex=q++;J.visibleChildrenCount=q}else J.visibleChildrenCount=0;if(J!==this.root)J.visible=Y===2?G:Y===1,J.visibility=Y;if(!J.visible){if(J.renderNodeCount=0,X)Q.pop()}else if(!J.collapsed)J.renderNodeCount+=Q.length-Z;return this._onDidChangeRenderNodeCount.fire(J),J.visible}_updateAncestorsRenderNodeCount(J,$){if($===0)return;while(J)J.renderNodeCount+=$,this._onDidChangeRenderNodeCount.fire(J),J=J.parent}_filterNode(J,$){let Q=this.filter?this.filter.filter(J.element,$):1;if(typeof Q==="boolean")return J.filterData=void 0,Q?1:0;else if($V(Q))return J.filterData=Q.data,FG(Q.visibility);else return J.filterData=void 0,FG(Q)}hasTreeNode(J,$=this.root){if(!J||J.length===0)return!0;let[Q,...X]=J;if(Q<0||Q>$.children.length)return!1;return this.hasTreeNode(X,$.children[Q])}getTreeNode(J,$=this.root){if(!J||J.length===0)return $;let[Q,...X]=J;if(Q<0||Q>$.children.length)throw new S8(this.user,"Invalid tree location");return this.getTreeNode(X,$.children[Q])}getTreeNodeWithListIndex(J){if(J.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:$,listIndex:Q,revealed:X,visible:Y}=this.getParentNodeWithListIndex(J),Z=J[J.length-1];if(Z<0||Z>$.children.length)throw new S8(this.user,"Invalid tree location");let G=$.children[Z];return{node:G,listIndex:Q,revealed:X,visible:Y&&G.visible}}getParentNodeWithListIndex(J,$=this.root,Q=0,X=!0,Y=!0){let[Z,...G]=J;if(Z<0||Z>$.children.length)throw new S8(this.user,"Invalid tree location");for(let q=0;q<Z;q++)Q+=$.children[q].renderNodeCount;if(X=X&&!$.collapsed,Y=Y&&$.visible,G.length===0)return{parentNode:$,listIndex:Q,revealed:X,visible:Y};return this.getParentNodeWithListIndex(G,$.children[Z],Q+1,X,Y)}getNode(J=[]){return this.getTreeNode(J)}getNodeLocation(J){let $=[],Q=J;while(Q.parent)$.push(Q.parent.children.indexOf(Q)),Q=Q.parent;return $.reverse()}getParentNodeLocation(J){if(J.length===0)return;else if(J.length===1)return[];else return ox(J)[0]}getFirstElementChild(J){let $=this.getTreeNode(J);if($.children.length===0)return;return $.children[0].element}}var JD=E(()=>{YU();B1();J6();YO();sF();E0();b9()});var Kr=E(()=>{_0(".monaco-tl-row{align-items:center;height:100%;display:flex;position:relative}.monaco-tl-row.disabled{cursor:default}.monaco-tl-indent{pointer-events:none;height:100%;position:absolute;top:0;left:16px}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{box-sizing:border-box;border-left:1px solid #0000;height:100%;display:inline-block}.monaco-workbench:not(.reduce-motion) .monaco-tl-indent>.indent-guide{transition:border-color .1s linear}.monaco-tl-twistie,.monaco-tl-contents{height:100%}.monaco-tl-twistie{text-align:right;flex-shrink:0;justify-content:center;align-items:center;width:16px;padding-right:6px;font-size:10px;transform:translate(3px);display:flex!important}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:1.25s steps(30,end) infinite codicon-spin}.monaco-tree-type-filter{z-index:100;border:1px solid var(--vscode-widget-border);border-bottom-right-radius:4px;border-bottom-left-radius:4px;max-width:200px;margin:0 6px;padding:3px;display:flex;position:absolute;top:0}.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter{transition:top .3s}.monaco-tree-type-filter.disabled{top:-40px!important}.monaco-tree-type-filter-grab{cursor:grab;justify-content:center;align-items:center;margin-right:2px;display:flex!important}.monaco-tree-type-filter-grab.grabbing{cursor:grabbing}.monaco-tree-type-filter-input{flex:1}.monaco-tree-type-filter-input .monaco-inputbox{height:23px}.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.input,.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.mirror{padding:2px 4px}.monaco-tree-type-filter-input .monaco-findInput>.controls{top:2px}.monaco-tree-type-filter-actionbar{margin-left:4px}.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label{padding:2px}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container{z-index:13;background-color:var(--vscode-sideBar-background);width:100%;height:0;position:absolute;top:0;left:0}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row.monaco-list-row{background-color:var(--vscode-sideBar-background);width:100%;position:absolute;overflow:hidden;opacity:1!important}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row:hover{cursor:pointer;background-color:var(--vscode-list-hoverBackground)!important}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty,.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty .monaco-tree-sticky-container-shadow{display:none}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow{width:100%;height:3px;box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;position:absolute;bottom:-3px;left:0}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container[tabindex=\"0\"]:focus{outline:none}")});function yE(J){if(J instanceof rY)return new Pr(J);return J}class Dr{constructor(J,$){this.modelProvider=J,this.dnd=$,this.autoExpandDisposable=r.None,this.disposables=new q0}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((Q)=>Q.element),$);return}onDragStart(J,$){var Q,X;(X=(Q=this.dnd).onDragStart)===null||X===void 0||X.call(Q,yE(J),$)}onDragOver(J,$,Q,X,Y,Z=!0){let G=this.dnd.onDragOver(yE(J),$&&$.element,Q,X,Y),q=this.autoExpandNode!==$;if(q)this.autoExpandDisposable.dispose(),this.autoExpandNode=$;if(typeof $>"u")return G;if(q&&typeof G!=="boolean"&&G.autoExpand)this.autoExpandDisposable=$Y(()=>{let B=this.modelProvider(),V=B.getNodeLocation($);if(B.isCollapsed(V))B.setCollapsed(V,!1);this.autoExpandNode=void 0},500,this.disposables);if(typeof G==="boolean"||!G.accept||typeof G.bubble>"u"||G.feedback){if(!Z){let B=typeof G==="boolean"?G:G.accept,V=typeof G==="boolean"?void 0:G.effect;return{accept:B,effect:V,feedback:[Q]}}return G}if(G.bubble===1){let B=this.modelProvider(),V=B.getNodeLocation($),W=B.getParentNodeLocation(V),K=B.getNode(W),A=W&&B.getListIndex(W);return this.onDragOver(J,K,A,X,Y,!1)}let U=this.modelProvider(),z=U.getNodeLocation($),H=U.getListIndex(z),j=U.getListRenderCount(z);return{...G,feedback:g5(H,H+j)}}drop(J,$,Q,X,Y){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(yE(J),$&&$.element,Q,X,Y)}onDragEnd(J){var $,Q;(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function hJ0(J,$){return $&&{...$,identityProvider:$.identityProvider&&{getId(Q){return $.identityProvider.getId(Q.element)}},dnd:$.dnd&&new Dr(J,$.dnd),multipleSelectionController:$.multipleSelectionController&&{isSelectionSingleChangeEvent(Q){return $.multipleSelectionController.isSelectionSingleChangeEvent({...Q,element:Q.element})},isSelectionRangeChangeEvent(Q){return $.multipleSelectionController.isSelectionRangeChangeEvent({...Q,element:Q.element})}},accessibilityProvider:$.accessibilityProvider&&{...$.accessibilityProvider,getSetSize(Q){let X=J(),Y=X.getNodeLocation(Q),Z=X.getParentNodeLocation(Y);return X.getNode(Z).visibleChildrenCount},getPosInSet(Q){return Q.visibleChildIndex+1},isChecked:$.accessibilityProvider&&$.accessibilityProvider.isChecked?(Q)=>{return $.accessibilityProvider.isChecked(Q.element)}:void 0,getRole:$.accessibilityProvider&&$.accessibilityProvider.getRole?(Q)=>{return $.accessibilityProvider.getRole(Q.element)}:()=>"treeitem",getAriaLabel(Q){return $.accessibilityProvider.getAriaLabel(Q.element)},getWidgetAriaLabel(){return $.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:$.accessibilityProvider&&$.accessibilityProvider.getWidgetRole?()=>$.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:$.accessibilityProvider&&$.accessibilityProvider.getAriaLevel?(Q)=>$.accessibilityProvider.getAriaLevel(Q.element):(Q)=>{return Q.depth},getActiveDescendantId:$.accessibilityProvider.getActiveDescendantId&&((Q)=>{return $.accessibilityProvider.getActiveDescendantId(Q.element)})},keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{...$.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(Q){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q.element)}}}}class YV{constructor(J){this.delegate=J}getHeight(J){return this.delegate.getHeight(J.element)}getTemplateId(J){return this.delegate.getTemplateId(J.element)}hasDynamicHeight(J){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(J.element)}setDynamicHeight(J,$){var Q,X;(X=(Q=this.delegate).setDynamicHeight)===null||X===void 0||X.call(Q,J.element,$)}}class Rr{get elements(){return this._elements}constructor(J,$=[]){this._elements=$,this.disposables=new q0,this.onDidChange=V0.forEach(J,(Q)=>this._elements=Q,this.disposables)}dispose(){this.disposables.dispose()}}class XV{constructor(J,$,Q,X,Y,Z={}){var G;this.renderer=J,this.modelProvider=$,this.activeNodes=X,this.renderedIndentGuides=Y,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=XV.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=r.None,this.disposables=new q0,this.templateId=J.templateId,this.updateOptions(Z),V0.map(Q,(q)=>q.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(G=J.onDidChangeTwistieState)===null||G===void 0||G.call(J,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(J={}){if(typeof J.indent<"u"){let $=Y8(J.indent,0,40);if($!==this.indent){this.indent=$;for(let[Q,X]of this.renderedNodes)this.renderTreeElement(Q,X)}}if(typeof J.renderIndentGuides<"u"){let $=J.renderIndentGuides!==QV.None;if($!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=$;for(let[Q,X]of this.renderedNodes)this._renderIndentGuides(Q,X);if(this.indentGuidesDisposable.dispose(),$){let Q=new q0;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Q),this.indentGuidesDisposable=Q,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}if(typeof J.hideTwistiesOfChildlessElements<"u")this.hideTwistiesOfChildlessElements=J.hideTwistiesOfChildlessElements}renderTemplate(J){let $=P0(J,M0(".monaco-tl-row")),Q=P0($,M0(".monaco-tl-indent")),X=P0($,M0(".monaco-tl-twistie")),Y=P0($,M0(".monaco-tl-contents")),Z=this.renderer.renderTemplate(Y);return{container:J,indent:Q,twistie:X,indentGuidesDisposable:r.None,templateData:Z}}renderElement(J,$,Q,X){this.renderedNodes.set(J,Q),this.renderedElements.set(J.element,J),this.renderTreeElement(J,Q),this.renderer.renderElement(J,$,Q.templateData,X)}disposeElement(J,$,Q,X){var Y,Z;if(Q.indentGuidesDisposable.dispose(),(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,J,$,Q.templateData,X),typeof X==="number")this.renderedNodes.delete(J),this.renderedElements.delete(J.element)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}onDidChangeTwistieState(J){let $=this.renderedElements.get(J);if(!$)return;this.onDidChangeNodeTwistieState($)}onDidChangeNodeTwistieState(J){let $=this.renderedNodes.get(J);if(!$)return;this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(J,$)}renderTreeElement(J,$){let Q=XV.DefaultIndent+(J.depth-1)*this.indent;if($.twistie.style.paddingLeft=`${Q}px`,$.indent.style.width=`${Q+this.indent-16}px`,J.collapsible)$.container.setAttribute("aria-expanded",String(!J.collapsed));else $.container.removeAttribute("aria-expanded");$.twistie.classList.remove(...c0.asClassNameArray(O0.treeItemExpanded));let X=!1;if(this.renderer.renderTwistie)X=this.renderer.renderTwistie(J.element,$.twistie);if(J.collapsible&&(!this.hideTwistiesOfChildlessElements||J.visibleChildrenCount>0)){if(!X)$.twistie.classList.add(...c0.asClassNameArray(O0.treeItemExpanded));$.twistie.classList.add("collapsible"),$.twistie.classList.toggle("collapsed",J.collapsed)}else $.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(J,$)}_renderIndentGuides(J,$){if(c5($.indent),$.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let Q=new q0,X=this.modelProvider();while(!0){let Y=X.getNodeLocation(J),Z=X.getParentNodeLocation(Y);if(!Z)break;let G=X.getNode(Z),q=M0(".indent-guide",{style:`width: ${this.indent}px`});if(this.activeIndentNodes.has(G))q.classList.add("active");if($.indent.childElementCount===0)$.indent.appendChild(q);else $.indent.insertBefore(q,$.indent.firstElementChild);this.renderedIndentGuides.add(G,q),Q.add(y0(()=>this.renderedIndentGuides.delete(G,q))),J=G}$.indentGuidesDisposable=Q}_onDidChangeActiveNodes(J){if(!this.shouldRenderIndentGuides)return;let $=new Set,Q=this.modelProvider();J.forEach((X)=>{let Y=Q.getNodeLocation(X);try{let Z=Q.getParentNodeLocation(Y);if(X.collapsible&&X.children.length>0&&!X.collapsed)$.add(X);else if(Z)$.add(Q.getNode(Z))}catch(Z){}}),this.activeIndentNodes.forEach((X)=>{if(!$.has(X))this.renderedIndentGuides.forEach(X,(Y)=>Y.classList.remove("active"))}),$.forEach((X)=>{if(!this.activeIndentNodes.has(X))this.renderedIndentGuides.forEach(X,(Y)=>Y.classList.add("active"))}),this.activeIndentNodes=$}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),h1(this.disposables)}}class Mr{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(J,$,Q){this.tree=J,this.keyboardNavigationLabelProvider=$,this._filter=Q,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new q0,J.onWillRefilter(this.reset,this,this.disposables)}filter(J,$){let Q=1;if(this._filter){let Z=this._filter.filter(J,$);if(typeof Z==="boolean")Q=Z?1:0;else if($V(Z))Q=FG(Z.visibility);else Q=Z;if(Q===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:m4.Default,visibility:Q};let X=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(J),Y=Array.isArray(X)?X:[X];for(let Z of Y){let G=Z&&Z.toString();if(typeof G>"u")return{data:m4.Default,visibility:Q};let q;if(this.tree.findMatchType===nY.Contiguous){let U=G.toLowerCase().indexOf(this._lowercasePattern);if(U>-1){q=[Number.MAX_SAFE_INTEGER,0];for(let z=this._lowercasePattern.length;z>0;z--)q.push(U+z-1)}}else q=cY(this._pattern,this._lowercasePattern,0,G,G.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return this._matchCount++,Y.length===1?{data:q,visibility:Q}:{data:{label:G,score:q},visibility:Q}}if(this.tree.findMode===QQ.Filter)if(typeof this.tree.options.defaultFindVisibility==="number")return this.tree.options.defaultFindVisibility;else if(this.tree.options.defaultFindVisibility)return this.tree.options.defaultFindVisibility(J);else return 2;else return{data:m4.Default,visibility:Q}}reset(){this._totalCount=0,this._matchCount=0}dispose(){h1(this.disposables)}}class Or{get pattern(){return this._pattern}get mode(){return this._mode}set mode(J){if(J===this._mode)return;if(this._mode=J,this.widget)this.widget.mode=this._mode;this.tree.refilter(),this.render(),this._onDidChangeMode.fire(J)}get matchType(){return this._matchType}set matchType(J){if(J===this._matchType)return;if(this._matchType=J,this.widget)this.widget.matchType=this._matchType;this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(J)}constructor(J,$,Q,X,Y,Z={}){var G,q;this.tree=J,this.view=Q,this.filter=X,this.contextViewProvider=Y,this.options=Z,this._pattern="",this.width=0,this._onDidChangeMode=new p,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new p,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new p,this._onDidChangeOpenState=new p,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new q0,this.disposables=new q0,this._mode=(G=J.options.defaultFindMode)!==null&&G!==void 0?G:QQ.Highlight,this._matchType=(q=J.options.defaultFindMatchType)!==null&&q!==void 0?q:nY.Fuzzy,$.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(J={}){if(J.defaultFindMode!==void 0)this.mode=J.defaultFindMode;if(J.defaultFindMatchType!==void 0)this.matchType=J.defaultFindMatchType}onDidSpliceModel(){if(!this.widget||this.pattern.length===0)return;this.tree.refilter(),this.render()}render(){var J,$,Q,X;let Y=this.filter.totalCount>0&&this.filter.matchCount===0;if(this.pattern&&Y)if((J=this.tree.options.showNotFoundMessage)!==null&&J!==void 0?J:!0)($=this.widget)===null||$===void 0||$.showMessage({type:2,content:M("not found","No elements found.")});else(Q=this.widget)===null||Q===void 0||Q.showMessage({type:2});else(X=this.widget)===null||X===void 0||X.clearMessage()}shouldAllowFocus(J){if(!this.widget||!this.pattern)return!0;if(this.filter.totalCount>0&&this.filter.matchCount<=1)return!0;return!m4.isDefault(J.filterData)}layout(J){var $;this.width=J,($=this.widget)===null||$===void 0||$.layout(J)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function fJ0(J,$){return J.position===$.position&&_r(J,$)}function _r(J,$){return J.node.element===$.node.element&&J.startIndex===$.startIndex&&J.height===$.height&&J.endIndex===$.endIndex}class Nr{constructor(J=[]){this.stickyNodes=J}get count(){return this.stickyNodes.length}equal(J){return B6(this.stickyNodes,J.stickyNodes,fJ0)}lastNodePartiallyVisible(){if(this.count===0)return!1;let J=this.stickyNodes[this.count-1];if(this.count===1)return J.position!==0;let $=this.stickyNodes[this.count-2];return $.position+$.height!==J.position}animationStateChanged(J){if(!B6(this.stickyNodes,J.stickyNodes,_r))return!1;if(this.count===0)return!1;let $=this.stickyNodes[this.count-1],Q=J.stickyNodes[J.count-1];return $.position!==Q.position}}class Tr{constrainStickyScrollNodes(J,$,Q){for(let X=0;X<J.length;X++){let Y=J[X];if(Y.position+Y.height>Q||X>=$)return J.slice(0,X)}return J}}class wr{constructor(J,$,Q,X,Y,Z){this.view=$,this.tree=Q,this.treeRenderers=X,this.treeDelegate=Y,this.accessibilityProvider=Z,this._previousElements=[],this._previousStateDisposables=new q0,this._rootDomNode=M0(".monaco-tree-sticky-container.empty"),J.appendChild(this._rootDomNode);let G=M0(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(G),this.stickyScrollFocus=new Lr(this._rootDomNode,$),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}setState(J){let $=!!this._previousState&&this._previousState.count>0,Q=!!J&&J.count>0;if(!$&&!Q||$&&Q&&this._previousState.equal(J))return;if($!==Q)this.setVisible(Q);if(!Q){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}let X=J.stickyNodes[J.count-1];if(this._previousState&&J.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${X.position}px`;else{this._previousStateDisposables.clear();let Y=Array(J.count);for(let Z=J.count-1;Z>=0;Z--){let G=J.stickyNodes[Z],{element:q,disposable:U}=this.createElement(G,Z,J.count);Y[Z]=q,this._rootDomNode.appendChild(q),this._previousStateDisposables.add(U)}this.stickyScrollFocus.updateElements(Y,J),this._previousElements=Y}this._previousState=J,this._rootDomNode.style.height=`${X.position+X.height}px`}createElement(J,$,Q){let X=J.startIndex,Y=document.createElement("div");Y.style.top=`${J.position}px`,Y.style.height=`${J.height}px`,Y.style.lineHeight=`${J.height}px`,Y.classList.add("monaco-tree-sticky-row"),Y.classList.add("monaco-list-row"),Y.setAttribute("data-index",`${X}`),Y.setAttribute("data-parity",X%2===0?"even":"odd"),Y.setAttribute("id",this.view.getElementID(X)),this.setAccessibilityAttributes(Y,J.node.element,$,Q);let Z=this.treeDelegate.getTemplateId(J.node),G=this.treeRenderers.find((H)=>H.templateId===Z);if(!G)throw Error(`No renderer found for template id ${Z}`);let q=J.node;if(q===this.tree.getNode(this.tree.getNodeLocation(J.node)))q=new Proxy(J.node,{});let U=G.renderTemplate(Y);G.renderElement(q,J.startIndex,U,J.height);let z=y0(()=>{G.disposeElement(q,J.startIndex,U,J.height),G.disposeTemplate(U),Y.remove()});return{element:Y,disposable:z}}setAccessibilityAttributes(J,$,Q,X){var Y;if(!this.accessibilityProvider)return;if(this.accessibilityProvider.getSetSize)J.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize($,Q,X)));if(this.accessibilityProvider.getPosInSet)J.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet($,Q)));if(this.accessibilityProvider.getRole)J.setAttribute("role",(Y=this.accessibilityProvider.getRole($))!==null&&Y!==void 0?Y:"treeitem");let Z=this.accessibilityProvider.getAriaLabel($);if(Z)J.setAttribute("aria-label",Z);let G=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel($);if(typeof G==="number")J.setAttribute("aria-level",`${G}`);J.setAttribute("aria-selected",String(!1))}setVisible(J){if(this._rootDomNode.classList.toggle("empty",!J),!J)this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}function Ar(J){let $=iY.Unknown;if(kF(J.browserEvent.target,"monaco-tl-twistie","monaco-tl-row"))$=iY.Twistie;else if(kF(J.browserEvent.target,"monaco-tl-contents","monaco-tl-row"))$=iY.Element;else if(kF(J.browserEvent.target,"monaco-tree-type-filter","monaco-list"))$=iY.Filter;return{browserEvent:J.browserEvent,element:J.element?J.element.element:null,target:$}}function $D(J,$){$(J),J.children.forEach((Q)=>$D(Q,$))}class QD{get nodeSet(){if(!this._nodeSet)this._nodeSet=this.createNodeSet();return this._nodeSet}constructor(J,$){this.getFirstViewElementWithTrait=J,this.identityProvider=$,this.nodes=[],this._onDidChange=new p,this.onDidChange=this._onDidChange.event}set(J,$){if(!($===null||$===void 0?void 0:$.__forceEvent)&&B6(this.nodes,J))return;this._set(J,!1,$)}_set(J,$,Q){if(this.nodes=[...J],this.elements=void 0,this._nodeSet=void 0,!$){let X=this;this._onDidChange.fire({get elements(){return X.get()},browserEvent:Q})}}get(){if(!this.elements)this.elements=this.nodes.map((J)=>J.element);return[...this.elements]}getNodes(){return this.nodes}has(J){return this.nodeSet.has(J)}onDidModelSplice({insertedNodes:J,deletedNodes:$}){if(!this.identityProvider){let q=this.createNodeSet(),U=(z)=>q.delete(z);$.forEach((z)=>$D(z,U)),this.set([...q.values()]);return}let Q=new Set,X=(q)=>Q.add(this.identityProvider.getId(q.element).toString());$.forEach((q)=>$D(q,X));let Y=new Map,Z=(q)=>Y.set(this.identityProvider.getId(q.element).toString(),q);J.forEach((q)=>$D(q,Z));let G=[];for(let q of this.nodes){let U=this.identityProvider.getId(q.element).toString();if(!Q.has(U))G.push(q);else{let H=Y.get(U);if(H&&H.visible)G.push(H)}}if(this.nodes.length>0&&G.length===0){let q=this.getFirstViewElementWithTrait();if(q)G.push(q)}this._set(G,!0)}createNodeSet(){let J=new Set;for(let $ of this.nodes)J.add($);return J}}class ZV{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return V0.filter(V0.map(this.view.onMouseDblClick,Ar),(J)=>J.target!==iY.Filter)}get onPointer(){return V0.map(this.view.onPointer,Ar)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return V0.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.mode)!==null&&$!==void 0?$:QQ.Highlight}set findMode(J){if(this.findController)this.findController.mode=J}get findMatchType(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.matchType)!==null&&$!==void 0?$:nY.Fuzzy}set findMatchType(J){if(this.findController)this.findController.matchType=J}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(J,$,Q,X,Y={}){var Z;this._user=J,this._options=Y,this.eventBufferer=new vZ,this.onDidChangeFindOpenState=V0.None,this.onDidChangeStickyScrollFocused=V0.None,this.disposables=new q0,this._onWillRefilter=new p,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new p,this.treeDelegate=new YV(Q);let G=new gW,q=new gW,U=this.disposables.add(new Rr(q.event)),z=new JH;this.renderers=X.map((W)=>new XV(W,()=>this.model,G.event,U,z,Y));for(let W of this.renderers)this.disposables.add(W);let H;if(Y.keyboardNavigationLabelProvider)H=new Mr(this,Y.keyboardNavigationLabelProvider,Y.filter),Y={...Y,filter:H},this.disposables.add(H);this.focus=new QD(()=>this.view.getFocusedElements()[0],Y.identityProvider),this.selection=new QD(()=>this.view.getSelectedElements()[0],Y.identityProvider),this.anchor=new QD(()=>this.view.getAnchorElement(),Y.identityProvider),this.view=new Er(J,$,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...hJ0(()=>this.model,Y),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(J,this.view,Y),G.input=this.model.onDidChangeCollapseState;let j=V0.forEach(this.model.onDidSplice,(W)=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(W),this.selection.onDidModelSplice(W)})},this.disposables);j(()=>null,null,this.disposables);let B=this.disposables.add(new p),V=this.disposables.add(new T4(0));if(this.disposables.add(V0.any(j,this.focus.onDidChange,this.selection.onDidChange)(()=>{V.trigger(()=>{let W=new Set;for(let K of this.focus.getNodes())W.add(K);for(let K of this.selection.getNodes())W.add(K);B.fire([...W.values()])})})),q.input=B.event,Y.keyboardSupport!==!1){let W=V0.chain(this.view.onKeyDown,(K)=>K.filter((A)=>!kX(A.target)).map((A)=>new _1(A)));V0.chain(W,(K)=>K.filter((A)=>A.keyCode===15))(this.onLeftArrow,this,this.disposables),V0.chain(W,(K)=>K.filter((A)=>A.keyCode===17))(this.onRightArrow,this,this.disposables),V0.chain(W,(K)=>K.filter((A)=>A.keyCode===10))(this.onSpace,this,this.disposables)}if(((Z=Y.findWidgetEnabled)!==null&&Z!==void 0?Z:!0)&&Y.keyboardNavigationLabelProvider&&Y.contextViewProvider){let W=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Or(this,this.model,this.view,H,Y.contextViewProvider,W),this.focusNavigationFilter=(K)=>this.findController.shouldAllowFocus(K),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=V0.None,this.onDidChangeFindMatchType=V0.None;if(Y.enableStickyScroll)this.stickyScrollController=new xE(this,this.model,this.view,this.renderers,this.treeDelegate,Y),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus;this.styleElement=b5(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===QV.Always)}updateOptions(J={}){var $;this._options={...this._options,...J};for(let Q of this.renderers)Q.updateOptions(J);this.view.updateOptions(this._options),($=this.findController)===null||$===void 0||$.updateOptions(J),this.updateStickyScroll(J),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===QV.Always)}get options(){return this._options}updateStickyScroll(J){var $;if(!this.stickyScrollController&&this._options.enableStickyScroll)this.stickyScrollController=new xE(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus;else if(this.stickyScrollController&&!this._options.enableStickyScroll)this.onDidChangeStickyScrollFocused=V0.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0;($=this.stickyScrollController)===null||$===void 0||$.updateOptions(J)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(J){this.view.scrollTop=J}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){var J;if((J=this.stickyScrollController)===null||J===void 0?void 0:J.focusedLast())this.stickyScrollController.domFocus();else this.view.domFocus()}layout(J,$){var Q;if(this.view.layout(J,$),q9($))(Q=this.findController)===null||Q===void 0||Q.layout($)}style(J){var $;let Q=`.${this.view.domId}`,X=[];if(J.treeIndentGuidesStroke)X.push(`.monaco-list${Q}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Q}.always .monaco-tl-indent > .indent-guide  { border-color: ${J.treeInactiveIndentGuidesStroke}; }`),X.push(`.monaco-list${Q} .monaco-tl-indent > .indent-guide.active { border-color: ${J.treeIndentGuidesStroke}; }`);if(J.listBackground)X.push(`.monaco-list${Q} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${J.listBackground}; }`),X.push(`.monaco-list${Q} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${J.listBackground}; }`);if(J.listFocusForeground)X.push(`.monaco-list${Q}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`),X.push(`.monaco-list${Q}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`);let Y=g9(J.listFocusAndSelectionOutline,g9(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Y)X.push(`.monaco-list${Q}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${Y}; outline-offset: -1px;}`),X.push(`.monaco-list${Q}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`);if(J.listFocusOutline)X.push(`.monaco-list${Q}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }`),X.push(`.monaco-list${Q}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`);this.styleElement.textContent=X.join(`
`),this.view.style(J)}getParentElement(J){let $=this.model.getParentNodeLocation(J);return this.model.getNode($).element}getFirstElementChild(J){return this.model.getFirstElementChild(J)}getNode(J){return this.model.getNode(J)}getNodeLocation(J){return this.model.getNodeLocation(J)}collapse(J,$=!1){return this.model.setCollapsed(J,!0,$)}expand(J,$=!1){return this.model.setCollapsed(J,!1,$)}toggleCollapsed(J,$=!1){return this.model.setCollapsed(J,void 0,$)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(J,$){this.eventBufferer.bufferEvents(()=>{let Q=J.map((Y)=>this.model.getNode(Y));this.selection.set(Q,$);let X=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setSelection(X,$,!0)})}getSelection(){return this.selection.get()}setFocus(J,$){this.eventBufferer.bufferEvents(()=>{let Q=J.map((Y)=>this.model.getNode(Y));this.focus.set(Q,$);let X=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setFocus(X,$,!0)})}getFocus(){return this.focus.get()}reveal(J,$){this.model.expandTo(J);let Q=this.model.getListIndex(J);if(Q===-1)return;if(!this.stickyScrollController)this.view.reveal(Q,$);else{let X=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(J));this.view.reveal(Q,$,X)}}onLeftArrow(J){J.preventDefault(),J.stopPropagation();let $=this.view.getFocusedElements();if($.length===0)return;let Q=$[0],X=this.model.getNodeLocation(Q);if(!this.model.setCollapsed(X,!0)){let Z=this.model.getParentNodeLocation(X);if(!Z)return;let G=this.model.getListIndex(Z);this.view.reveal(G),this.view.setFocus([G])}}onRightArrow(J){J.preventDefault(),J.stopPropagation();let $=this.view.getFocusedElements();if($.length===0)return;let Q=$[0],X=this.model.getNodeLocation(Q);if(!this.model.setCollapsed(X,!1)){if(!Q.children.some((q)=>q.visible))return;let[Z]=this.view.getFocus(),G=Z+1;this.view.reveal(G),this.view.setFocus([G])}}onSpace(J){J.preventDefault(),J.stopPropagation();let $=this.view.getFocusedElements();if($.length===0)return;let Q=$[0],X=this.model.getNodeLocation(Q),Y=J.browserEvent.altKey;this.model.setCollapsed(X,void 0,Y)}dispose(){var J;h1(this.disposables),(J=this.stickyScrollController)===null||J===void 0||J.dispose(),this.view.dispose()}}var Pr,QV,QQ,nY,xE,Lr,kr,Er;var GV=E(()=>{x0();IJ();k8();JQ();eP();tP();SP();GG();tj();JD();YU();Z7();B1();J6();O5();N5();AJ();E0();lY();B0();Kr();a0();Pr=class Pr extends rY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}};(function(J){J.None="none",J.OnHover="onHover",J.Always="always"})(QV||(QV={}));XV.DefaultIndent=8;(function(J){J[J.Highlight=0]="Highlight",J[J.Filter=1]="Filter"})(QQ||(QQ={}));(function(J){J[J.Fuzzy=0]="Fuzzy",J[J.Contiguous=1]="Contiguous"})(nY||(nY={}));xE=class xE extends r{constructor(J,$,Q,X,Y,Z={}){var G;super();this.tree=J,this.model=$,this.view=Q,this.treeDelegate=Y,this.maxWidgetViewRatio=0.4;let q=this.validateStickySettings(Z);this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.stickyScrollDelegate=(G=Z.stickyScrollDelegate)!==null&&G!==void 0?G:new Tr,this._widget=this._register(new wr(Q.getScrollableElement(),Q,J,X,Y,Z.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(Q.onDidScroll(()=>this.update())),this._register(Q.onDidChangeContentHeight(()=>this.update())),this._register(J.onDidChangeCollapseState(()=>this.update())),this.update()}getNodeAtHeight(J){let $;if(J===0)$=this.view.firstVisibleIndex;else $=this.view.indexAt(J+this.view.scrollTop);if($<0||$>=this.view.length)return;return this.view.element($)}update(){let J=this.getNodeAtHeight(0);if(!J||this.tree.scrollTop===0){this._widget.setState(void 0);return}let $=this.findStickyState(J);this._widget.setState($)}findStickyState(J){let $=[],Q=J,X=0,Y=this.getNextStickyNode(Q,void 0,X);while(Y){if($.push(Y),X+=Y.height,$.length<=this.stickyScrollMaxItemCount){if(Q=this.getNextVisibleNode(Y),!Q)break}Y=this.getNextStickyNode(Q,Y.node,X)}let Z=this.constrainStickyNodes($);return Z.length?new Nr(Z):void 0}getNextVisibleNode(J){return this.getNodeAtHeight(J.position+J.height)}getNextStickyNode(J,$,Q){let X=this.getAncestorUnderPrevious(J,$);if(!X)return;if(X===J){if(!this.nodeIsUncollapsedParent(J))return;if(this.nodeTopAlignsWithStickyNodesBottom(J,Q))return}return this.createStickyScrollNode(X,Q)}nodeTopAlignsWithStickyNodesBottom(J,$){let Q=this.getNodeIndex(J),X=this.view.getElementTop(Q),Y=$;return this.view.scrollTop===X-Y}createStickyScrollNode(J,$){let Q=this.treeDelegate.getHeight(J),{startIndex:X,endIndex:Y}=this.getNodeRange(J),Z=this.calculateStickyNodePosition(Y,$,Q);return{node:J,position:Z,height:Q,startIndex:X,endIndex:Y}}getAncestorUnderPrevious(J,$=void 0){let Q=J,X=this.getParentNode(Q);while(X){if(X===$)return Q;Q=X,X=this.getParentNode(Q)}if($===void 0)return Q;return}calculateStickyNodePosition(J,$,Q){let X=this.view.getRelativeTop(J);if(X===null&&this.view.firstVisibleIndex===J&&J+1<this.view.length){let U=this.treeDelegate.getHeight(this.view.element(J)),z=this.view.getRelativeTop(J+1);X=z?z-U/this.view.renderHeight:null}if(X===null)return $;let Y=this.view.element(J),Z=this.treeDelegate.getHeight(Y),q=X*this.view.renderHeight+Z;if($+Q>q&&$<=q)return q-Q;return $}constrainStickyNodes(J){if(J.length===0)return[];let $=this.view.renderHeight*this.maxWidgetViewRatio,Q=J[J.length-1];if(J.length<=this.stickyScrollMaxItemCount&&Q.position+Q.height<=$)return J;let X=this.stickyScrollDelegate.constrainStickyScrollNodes(J,this.stickyScrollMaxItemCount,$);if(!X.length)return[];let Y=X[X.length-1];if(X.length>this.stickyScrollMaxItemCount||Y.position+Y.height>$)throw Error("stickyScrollDelegate violates constraints");return X}getParentNode(J){let $=this.model.getNodeLocation(J),Q=this.model.getParentNodeLocation($);return Q?this.model.getNode(Q):void 0}nodeIsUncollapsedParent(J){let $=this.model.getNodeLocation(J);return this.model.getListRenderCount($)>1}getNodeIndex(J){let $=this.model.getNodeLocation(J);return this.model.getListIndex($)}getNodeRange(J){let $=this.model.getNodeLocation(J),Q=this.model.getListIndex($);if(Q<0)throw Error("Node not found in tree");let X=this.model.getListRenderCount($),Y=Q+X-1;return{startIndex:Q,endIndex:Y}}nodePositionTopBelowWidget(J){let $=[],Q=this.getParentNode(J);while(Q)$.push(Q),Q=this.getParentNode(Q);let X=0;for(let Y=0;Y<$.length&&Y<this.stickyScrollMaxItemCount;Y++)X+=this.treeDelegate.getHeight($[Y]);return X}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(J={}){if(!J.stickyScrollMaxItemCount)return;let $=this.validateStickySettings(J);if(this.stickyScrollMaxItemCount!==$.stickyScrollMaxItemCount)this.stickyScrollMaxItemCount=$.stickyScrollMaxItemCount,this.update()}validateStickySettings(J){let $=7;if(typeof J.stickyScrollMaxItemCount==="number")$=Math.max(J.stickyScrollMaxItemCount,1);return{stickyScrollMaxItemCount:$}}};Lr=class Lr extends r{get domHasFocus(){return this._domHasFocus}set domHasFocus(J){if(J!==this._domHasFocus)this._onDidChangeHasFocus.fire(J),this._domHasFocus=J}constructor(J,$){super();this.container=J,this.view=$,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new p,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new p,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown((Q)=>this.onKeyDown(Q))),this._register(this.view.onMouseDown((Q)=>this.onMouseDown(Q))),this._register(this.view.onContextMenu((Q)=>this.handleContextMenu(Q)))}handleContextMenu(J){let $=J.browserEvent.target;if(!uj($)&&!sq($)){if(this.focusedLast())this.view.domFocus();return}if(!W3(J.browserEvent)){if(!this.state)throw Error("Context menu should not be triggered when state is undefined");let Z=this.state.stickyNodes.findIndex((G)=>{var q;return G.node.element===((q=J.element)===null||q===void 0?void 0:q.element)});if(Z===-1)throw Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(Z);return}if(!this.state||this.focusedIndex<0)throw Error("Context menu key should not be triggered when focus is not in sticky scroll widget");let X=this.state.stickyNodes[this.focusedIndex].node.element,Y=this.elements[this.focusedIndex];this._onContextMenu.fire({element:X,anchor:Y,browserEvent:J.browserEvent,isStickyScroll:!0})}onKeyDown(J){if(this.domHasFocus&&this.state){if(J.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),J.preventDefault(),J.stopPropagation();else if(J.key==="ArrowDown"||J.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){let $=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([$]),this.scrollNodeUnderWidget($,this.state)}else this.setFocusedElement(this.focusedIndex+1);J.preventDefault(),J.stopPropagation()}}}onMouseDown(J){let $=J.browserEvent.target;if(!uj($)&&!sq($))return;J.browserEvent.preventDefault(),J.browserEvent.stopPropagation()}updateElements(J,$){if($&&$.count===0)throw Error("Sticky scroll state must be undefined when there are no sticky nodes");if($&&$.count!==J.length)throw Error("Sticky scroll focus received illigel state");let Q=this.focusedIndex;if(this.removeFocus(),this.elements=J,this.state=$,$){let X=Y8(Q,0,$.count-1);this.setFocus(X)}else if(this.domHasFocus)this.view.domFocus();this.container.tabIndex=$?0:-1}setFocusedElement(J){let $=this.state;if(!$)throw Error("Cannot set focus when state is undefined");if(this.setFocus(J),J<$.count-1)return;if($.lastNodePartiallyVisible()){let Q=$.stickyNodes[J];this.scrollNodeUnderWidget(Q.endIndex+1,$)}}scrollNodeUnderWidget(J,$){let Q=$.stickyNodes[$.count-1],X=$.count>1?$.stickyNodes[$.count-2]:void 0,Y=this.view.getElementTop(J),Z=X?X.position+X.height+Q.height:Q.height;this.view.scrollTop=Y-Z}domFocus(){if(!this.state)throw Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){if(!this.state)return!1;return this.view.getHTMLElement().classList.contains("sticky-scroll-focused")}removeFocus(){if(this.focusedIndex===-1)return;this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1}setFocus(J){if(0>J)throw Error("addFocus() can not remove focus");if(!this.state&&J>=0)throw Error("Cannot set focus index when state is undefined");if(this.state&&J>=this.state.count)throw Error("Cannot set focus index to an index that does not exist");let $=this.focusedIndex;if($>=0)this.toggleElementFocus(this.elements[$],!1);if(J>=0)this.toggleElementFocus(this.elements[J],!0);this.focusedIndex=J}toggleElementFocus(J,$){J.classList.toggle("focused",$)}toggleStickyScrollFocused(J){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",J)}onFocus(){if(!this.state||this.elements.length===0)throw Error("Cannot focus when state is undefined or elements are empty");if(this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.focusedIndex===-1)this.setFocus(0)}onBlur(){this.domHasFocus=!1}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}};kr=class kr extends vP{constructor(J,$,Q){super(J);this.tree=$,this.stickyScrollProvider=Q}onViewPointer(J){if(nk(J.browserEvent.target)||kX(J.browserEvent.target)||lq(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;let $=J.element;if(!$)return super.onViewPointer(J);if(this.isSelectionRangeChangeEvent(J)||this.isSelectionSingleChangeEvent(J))return super.onViewPointer(J);let Q=J.browserEvent.target,X=Q.classList.contains("monaco-tl-twistie")||Q.classList.contains("monaco-icon-label")&&Q.classList.contains("folder-icon")&&J.browserEvent.offsetX<16,Y=sq(J.browserEvent.target),Z=!1;if(Y)Z=!0;else if(typeof this.tree.expandOnlyOnTwistieClick==="function")Z=this.tree.expandOnlyOnTwistieClick($.element);else Z=!!this.tree.expandOnlyOnTwistieClick;if(!Y){if(Z&&!X&&J.browserEvent.detail!==2)return super.onViewPointer(J);if(!this.tree.expandOnDoubleClick&&J.browserEvent.detail===2)return super.onViewPointer(J)}else this.handleStickyScrollMouseEvent(J,$);if($.collapsible&&(!Y||X)){let G=this.tree.getNodeLocation($),q=J.browserEvent.altKey;if(this.tree.setFocus([G]),this.tree.toggleCollapsed(G,q),Z&&X){J.browserEvent.isHandledByList=!0;return}}if(!Y)super.onViewPointer(J)}handleStickyScrollMouseEvent(J,$){if(Xa(J.browserEvent.target)||Ya(J.browserEvent.target))return;let Q=this.stickyScrollProvider();if(!Q)throw Error("Sticky scroll controller not found");let X=this.list.indexOf($),Y=this.list.getElementTop(X),Z=Q.nodePositionTopBelowWidget($);this.tree.scrollTop=Y-Z,this.list.domFocus(),this.list.setFocus([X]),this.list.setSelection([X])}onDoubleClick(J){if(J.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick)return;if(J.browserEvent.isHandledByList)return;super.onDoubleClick(J)}onMouseDown(J){let $=J.browserEvent.target;if(!uj($)&&!sq($)){super.onMouseDown(J);return}}onContextMenu(J){let $=J.browserEvent.target;if(!uj($)&&!sq($)){super.onContextMenu(J);return}}};Er=class Er extends o8{constructor(J,$,Q,X,Y,Z,G,q){super(J,$,Q,X,q);this.focusTrait=Y,this.selectionTrait=Z,this.anchorTrait=G}createMouseController(J){return new kr(this,J.tree,J.stickyScrollProvider)}splice(J,$,Q=[]){if(super.splice(J,$,Q),Q.length===0)return;let X=[],Y=[],Z;if(Q.forEach((G,q)=>{if(this.focusTrait.has(G))X.push(J+q);if(this.selectionTrait.has(G))Y.push(J+q);if(this.anchorTrait.has(G))Z=J+q}),X.length>0)super.setFocus(V4([...super.getFocus(),...X]));if(Y.length>0)super.setSelection(V4([...super.getSelection(),...Y]));if(typeof Z==="number")super.setAnchor(Z)}setFocus(J,$,Q=!1){if(super.setFocus(J,$),!Q)this.focusTrait.set(J.map((X)=>this.element(X)),$)}setSelection(J,$,Q=!1){if(super.setSelection(J,$),!Q)this.selectionTrait.set(J.map((X)=>this.element(X)),$)}setAnchor(J,$=!1){if(super.setAnchor(J),!$)if(typeof J>"u")this.anchorTrait.set([]);else this.anchorTrait.set([this.element(J)])}}});class KG{constructor(J,$,Q={}){if(this.user=J,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new IE(J,$,null,Q),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Q.sorter)this.sorter={compare(X,Y){return Q.sorter.compare(X.element,Y.element)}};this.identityProvider=Q.identityProvider}setChildren(J,$=D1.empty(),Q={}){let X=this.getElementLocation(J);this._setChildren(X,this.preserveCollapseState($),Q)}_setChildren(J,$=D1.empty(),Q){let X=new Set,Y=new Set,Z=(q)=>{var U;if(q.element===null)return;let z=q;if(X.add(z.element),this.nodes.set(z.element,z),this.identityProvider){let H=this.identityProvider.getId(z.element).toString();Y.add(H),this.nodesByIdentity.set(H,z)}(U=Q.onDidCreateNode)===null||U===void 0||U.call(Q,z)},G=(q)=>{var U;if(q.element===null)return;let z=q;if(!X.has(z.element))this.nodes.delete(z.element);if(this.identityProvider){let H=this.identityProvider.getId(z.element).toString();if(!Y.has(H))this.nodesByIdentity.delete(H)}(U=Q.onDidDeleteNode)===null||U===void 0||U.call(Q,z)};this.model.splice([...J,0],Number.MAX_VALUE,$,{...Q,onDidCreateNode:Z,onDidDeleteNode:G})}preserveCollapseState(J=D1.empty()){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return D1.map(J,($)=>{let Q=this.nodes.get($.element);if(!Q&&this.identityProvider){let Z=this.identityProvider.getId($.element).toString();Q=this.nodesByIdentity.get(Z)}if(!Q){let Z;if(typeof $.collapsed>"u")Z=void 0;else if($.collapsed===E7.Collapsed||$.collapsed===E7.PreserveOrCollapsed)Z=!0;else if($.collapsed===E7.Expanded||$.collapsed===E7.PreserveOrExpanded)Z=!1;else Z=Boolean($.collapsed);return{...$,children:this.preserveCollapseState($.children),collapsed:Z}}let X=typeof $.collapsible==="boolean"?$.collapsible:Q.collapsible,Y;if(typeof $.collapsed>"u"||$.collapsed===E7.PreserveOrCollapsed||$.collapsed===E7.PreserveOrExpanded)Y=Q.collapsed;else if($.collapsed===E7.Collapsed)Y=!0;else if($.collapsed===E7.Expanded)Y=!1;else Y=Boolean($.collapsed);return{...$,collapsible:X,collapsed:Y,children:this.preserveCollapseState($.children)}})}rerender(J){let $=this.getElementLocation(J);this.model.rerender($)}getFirstElementChild(J=null){let $=this.getElementLocation(J);return this.model.getFirstElementChild($)}has(J){return this.nodes.has(J)}getListIndex(J){let $=this.getElementLocation(J);return this.model.getListIndex($)}getListRenderCount(J){let $=this.getElementLocation(J);return this.model.getListRenderCount($)}isCollapsible(J){let $=this.getElementLocation(J);return this.model.isCollapsible($)}setCollapsible(J,$){let Q=this.getElementLocation(J);return this.model.setCollapsible(Q,$)}isCollapsed(J){let $=this.getElementLocation(J);return this.model.isCollapsed($)}setCollapsed(J,$,Q){let X=this.getElementLocation(J);return this.model.setCollapsed(X,$,Q)}expandTo(J){let $=this.getElementLocation(J);this.model.expandTo($)}refilter(){this.model.refilter()}getNode(J=null){if(J===null)return this.model.getNode(this.model.rootRef);let $=this.nodes.get(J);if(!$)throw new S8(this.user,`Tree element not found: ${J}`);return $}getNodeLocation(J){return J.element}getParentNodeLocation(J){if(J===null)throw new S8(this.user,"Invalid getParentNodeLocation call");let $=this.nodes.get(J);if(!$)throw new S8(this.user,`Tree element not found: ${J}`);let Q=this.model.getNodeLocation($),X=this.model.getParentNodeLocation(Q);return this.model.getNode(X).element}getElementLocation(J){if(J===null)return[];let $=this.nodes.get(J);if(!$)throw new S8(this.user,`Tree element not found: ${J}`);return this.model.getNodeLocation($)}}var XD=E(()=>{JD();YU();b9()});function YD(J){let $=[J.element],Q=J.incompressible||!1;return{element:{elements:$,incompressible:Q},children:D1.map(D1.from(J.children),YD),collapsible:J.collapsible,collapsed:J.collapsed}}function ZD(J){let $=[J.element],Q=J.incompressible||!1,X,Y;while(!0){if([Y,X]=D1.consume(D1.from(J.children),2),Y.length!==1)break;if(Y[0].incompressible)break;J=Y[0],$.push(J.element)}return{element:{elements:$,incompressible:Q},children:D1.map(D1.concat(Y,X),ZD),collapsible:J.collapsible,collapsed:J.collapsed}}function bE(J,$=0){let Q;if($<J.element.elements.length-1)Q=[bE(J,$+1)];else Q=D1.map(D1.from(J.children),(X)=>bE(X,0));if($===0&&J.element.incompressible)return{element:J.element.elements[$],children:Q,incompressible:!0,collapsible:J.collapsible,collapsed:J.collapsed};return{element:J.element.elements[$],children:Q,collapsible:J.collapsible,collapsed:J.collapsed}}function Ir(J){return bE(J,0)}function yr(J,$,Q){if(J.element===$)return{...J,children:Q};return{...J,children:D1.map(D1.from(J.children),(X)=>yr(X,$,Q))}}class xr{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(J,$,Q={}){this.user=J,this.rootRef=null,this.nodes=new Map,this.model=new KG(J,$,Q),this.enabled=typeof Q.compressionEnabled>"u"?!0:Q.compressionEnabled,this.identityProvider=Q.identityProvider}setChildren(J,$=D1.empty(),Q){let X=Q.diffIdentityProvider&&gJ0(Q.diffIdentityProvider);if(J===null){let V=D1.map($,this.enabled?ZD:YD);this._setChildren(null,V,{diffIdentityProvider:X,diffDepth:1/0});return}let Y=this.nodes.get(J);if(!Y)throw new S8(this.user,"Unknown compressed tree node");let Z=this.model.getNode(Y),G=this.model.getParentNodeLocation(Y),q=this.model.getNode(G),U=Ir(Z),z=yr(U,J,$),H=(this.enabled?ZD:YD)(z),j=Q.diffIdentityProvider?(V,W)=>Q.diffIdentityProvider.getId(V)===Q.diffIdentityProvider.getId(W):void 0;if(B6(H.element.elements,Z.element.elements,j)){this._setChildren(Y,H.children||D1.empty(),{diffIdentityProvider:X,diffDepth:1});return}let B=q.children.map((V)=>V===Z?H:V);this._setChildren(q.element,B,{diffIdentityProvider:X,diffDepth:Z.depth-q.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(J){if(J===this.enabled)return;this.enabled=J;let Q=this.model.getNode().children,X=D1.map(Q,Ir),Y=D1.map(X,J?ZD:YD);this._setChildren(null,Y,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(J,$,Q){let X=new Set,Y=(G)=>{for(let q of G.element.elements)X.add(q),this.nodes.set(q,G.element)},Z=(G)=>{for(let q of G.element.elements)if(!X.has(q))this.nodes.delete(q)};this.model.setChildren(J,$,{...Q,onDidCreateNode:Y,onDidDeleteNode:Z})}has(J){return this.nodes.has(J)}getListIndex(J){let $=this.getCompressedNode(J);return this.model.getListIndex($)}getListRenderCount(J){let $=this.getCompressedNode(J);return this.model.getListRenderCount($)}getNode(J){if(typeof J>"u")return this.model.getNode();let $=this.getCompressedNode(J);return this.model.getNode($)}getNodeLocation(J){let $=this.model.getNodeLocation(J);if($===null)return null;return $.elements[$.elements.length-1]}getParentNodeLocation(J){let $=this.getCompressedNode(J),Q=this.model.getParentNodeLocation($);if(Q===null)return null;return Q.elements[Q.elements.length-1]}getFirstElementChild(J){let $=this.getCompressedNode(J);return this.model.getFirstElementChild($)}isCollapsible(J){let $=this.getCompressedNode(J);return this.model.isCollapsible($)}setCollapsible(J,$){let Q=this.getCompressedNode(J);return this.model.setCollapsible(Q,$)}isCollapsed(J){let $=this.getCompressedNode(J);return this.model.isCollapsed($)}setCollapsed(J,$,Q){let X=this.getCompressedNode(J);return this.model.setCollapsed(X,$,Q)}expandTo(J){let $=this.getCompressedNode(J);this.model.expandTo($)}rerender(J){let $=this.getCompressedNode(J);this.model.rerender($)}refilter(){this.model.refilter()}getCompressedNode(J){if(J===null)return null;let $=this.nodes.get(J);if(!$)throw new S8(this.user,`Tree element not found: ${J}`);return $}}class SE{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((J)=>new SE(this.unwrapper,J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J,$){this.unwrapper=J,this.node=$}}function mJ0(J,$){return{splice(Q,X,Y){$.splice(Q,X,Y.map((Z)=>J.map(Z)))},updateElementHeight(Q,X){$.updateElementHeight(Q,X)}}}function uJ0(J,$){return{...$,identityProvider:$.identityProvider&&{getId(Q){return $.identityProvider.getId(J(Q))}},sorter:$.sorter&&{compare(Q,X){return $.sorter.compare(Q.elements[0],X.elements[0])}},filter:$.filter&&{filter(Q,X){return $.filter.filter(J(Q),X)}}}}class CE{get onDidSplice(){return V0.map(this.model.onDidSplice,({insertedNodes:J,deletedNodes:$})=>({insertedNodes:J.map((Q)=>this.nodeMapper.map(Q)),deletedNodes:$.map((Q)=>this.nodeMapper.map(Q))}))}get onDidChangeCollapseState(){return V0.map(this.model.onDidChangeCollapseState,({node:J,deep:$})=>({node:this.nodeMapper.map(J),deep:$}))}get onDidChangeRenderNodeCount(){return V0.map(this.model.onDidChangeRenderNodeCount,(J)=>this.nodeMapper.map(J))}constructor(J,$,Q={}){this.rootRef=null,this.elementMapper=Q.elementMapper||pJ0;let X=(Y)=>this.elementMapper(Y.elements);this.nodeMapper=new XU((Y)=>new SE(X,Y)),this.model=new xr(J,mJ0(this.nodeMapper,$),uJ0(X,Q))}setChildren(J,$=D1.empty(),Q={}){this.model.setChildren(J,$,Q)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(J){this.model.setCompressionEnabled(J)}has(J){return this.model.has(J)}getListIndex(J){return this.model.getListIndex(J)}getListRenderCount(J){return this.model.getListRenderCount(J)}getNode(J){return this.nodeMapper.map(this.model.getNode(J))}getNodeLocation(J){return J.element}getParentNodeLocation(J){return this.model.getParentNodeLocation(J)}getFirstElementChild(J){let $=this.model.getFirstElementChild(J);if($===null||typeof $>"u")return $;return this.elementMapper($.elements)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}setCollapsed(J,$,Q){return this.model.setCollapsed(J,$,Q)}expandTo(J){return this.model.expandTo(J)}rerender(J){return this.model.rerender(J)}refilter(){return this.model.refilter()}getCompressedTreeNode(J=null){return this.model.getNode(J)}}var gJ0=(J)=>({getId($){return $.elements.map((Q)=>J.getId(Q).toString()).join("\x00")}}),pJ0=(J)=>J[J.length-1];var br=E(()=>{XD();YU();B1();E0();b9()});class vE{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(J,$,Q){if(this._compressedTreeNodeProvider=J,this.stickyScrollDelegate=$,this.renderer=Q,this.templateId=Q.templateId,Q.onDidChangeTwistieState)this.onDidChangeTwistieState=Q.onDidChangeTwistieState}renderTemplate(J){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(J)}}renderElement(J,$,Q,X){let Y=this.stickyScrollDelegate.getCompressedNode(J);if(!Y)Y=this.compressedTreeNodeProvider.getCompressedTreeNode(J.element);if(Y.element.elements.length===1)Q.compressedTreeNode=void 0,this.renderer.renderElement(J,$,Q.data,X);else Q.compressedTreeNode=Y,this.renderer.renderCompressedElements(Y,$,Q.data,X)}disposeElement(J,$,Q,X){var Y,Z,G,q;if(Q.compressedTreeNode)(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,Q.compressedTreeNode,$,Q.data,X);else(q=(G=this.renderer).disposeElement)===null||q===void 0||q.call(G,J,$,Q.data,X)}disposeTemplate(J){this.renderer.disposeTemplate(J.data)}renderTwistie(J,$){if(this.renderer.renderTwistie)return this.renderer.renderTwistie(J,$);return!1}}class Sr{constructor(J){this.modelProvider=J,this.compressedStickyNodes=new Map}getCompressedNode(J){return this.compressedStickyNodes.get(J)}constrainStickyScrollNodes(J,$,Q){if(this.compressedStickyNodes.clear(),J.length===0)return[];for(let X=0;X<J.length;X++){let Y=J[X],Z=Y.position+Y.height;if(X+1<J.length&&Z+J[X+1].height>Q||X>=$-1&&$<J.length){let q=J.slice(0,X),U=J.slice(X),z=this.compressStickyNodes(U);return[...q,z]}}return J}compressStickyNodes(J){if(J.length===0)throw Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return J[0];let $=[];for(let q of J){let U=this.modelProvider().getCompressedTreeNode(q.node.element);if(U.element){if(U.element.incompressible)break;$.push(...U.element.elements)}}if($.length<2)return J[0];let Q=J[J.length-1],X={elements:$,incompressible:!1},Y={...Q.node,children:[],element:X},Z=new Proxy(J[0].node,{}),G={node:Z,startIndex:J[0].startIndex,endIndex:Q.endIndex,position:J[0].position,height:J[0].height};return this.compressedStickyNodes.set(Z,Y),G}}function lJ0(J,$){return $&&{...$,keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Q){let X;try{X=J().getCompressedTreeNode(Q)}catch(Y){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q)}if(X.element.elements.length===1)return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q);else return $.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(X.element.elements)}}}}var cJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ZU,qV;var hE=E(()=>{GV();br();XD();b9();ZU=class ZU extends ZV{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(J,$,Q,X,Y={}){super(J,$,Q,X,Y);this.user=J}setChildren(J,$=D1.empty(),Q){this.model.setChildren(J,$,Q)}rerender(J){if(J===void 0){this.view.rerender();return}this.model.rerender(J)}hasElement(J){return this.model.has(J)}createModel(J,$,Q){return new KG(J,$,Q)}};cJ0([F6],vE.prototype,"compressedTreeNodeProvider",null);qV=class qV extends ZU{constructor(J,$,Q,X,Y={}){let Z=()=>this,G=new Sr(()=>this.model),q=X.map((U)=>new vE(Z,G,U));super(J,$,Q,q,{...lJ0(Z,Y),stickyScrollDelegate:G})}setChildren(J,$=D1.empty(),Q){this.model.setChildren(J,$,Q)}createModel(J,$,Q){return new CE(J,$,Q)}updateOptions(J={}){if(super.updateOptions(J),typeof J.compressionEnabled<"u")this.model.setCompressionEnabled(J.compressionEnabled)}getCompressedTreeNode(J=null){return this.model.getCompressedTreeNode(J)}}});function fE(J){return{...J,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function pE(J,$){if(!$.parent)return!1;else if($.parent===J)return!0;else return pE(J,$.parent)}function dJ0(J,$){return J===$||pE(J,$)||pE($,J)}class uE{get element(){return this.node.element.element}get children(){return this.node.children.map((J)=>new uE(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class hr{constructor(J,$,Q){this.renderer=J,this.nodeMapper=$,this.onDidChangeTwistieState=Q,this.renderedNodes=new Map,this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,Q,X){this.renderer.renderElement(this.nodeMapper.map(J),$,Q.templateData,X)}renderTwistie(J,$){if(J.slow)return $.classList.add(...c0.asClassNameArray(O0.treeItemLoading)),!0;else return $.classList.remove(...c0.asClassNameArray(O0.treeItemLoading)),!1}disposeElement(J,$,Q,X){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,Q.templateData,X)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear()}}function Cr(J){return{browserEvent:J.browserEvent,elements:J.elements.map(($)=>$.element)}}function vr(J){return{browserEvent:J.browserEvent,element:J.element&&J.element.element,target:J.target}}function gE(J){if(J instanceof rY)return new fr(J);return J}class gr{constructor(J){this.dnd=J}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((Q)=>Q.element),$);return}onDragStart(J,$){var Q,X;(X=(Q=this.dnd).onDragStart)===null||X===void 0||X.call(Q,gE(J),$)}onDragOver(J,$,Q,X,Y,Z=!0){return this.dnd.onDragOver(gE(J),$&&$.element,Q,X,Y)}drop(J,$,Q,X,Y){this.dnd.drop(gE(J),$&&$.element,Q,X,Y)}onDragEnd(J){var $,Q;(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}dispose(){this.dnd.dispose()}}function pr(J){return J&&{...J,collapseByDefault:!0,identityProvider:J.identityProvider&&{getId($){return J.identityProvider.getId($.element)}},dnd:J.dnd&&new gr(J.dnd),multipleSelectionController:J.multipleSelectionController&&{isSelectionSingleChangeEvent($){return J.multipleSelectionController.isSelectionSingleChangeEvent({...$,element:$.element})},isSelectionRangeChangeEvent($){return J.multipleSelectionController.isSelectionRangeChangeEvent({...$,element:$.element})}},accessibilityProvider:J.accessibilityProvider&&{...J.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:J.accessibilityProvider.getRole?($)=>{return J.accessibilityProvider.getRole($.element)}:()=>"treeitem",isChecked:J.accessibilityProvider.isChecked?($)=>{var Q;return!!((Q=J.accessibilityProvider)===null||Q===void 0?void 0:Q.isChecked($.element))}:void 0,getAriaLabel($){return J.accessibilityProvider.getAriaLabel($.element)},getWidgetAriaLabel(){return J.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:J.accessibilityProvider.getWidgetRole?()=>J.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:J.accessibilityProvider.getAriaLevel&&(($)=>{return J.accessibilityProvider.getAriaLevel($.element)}),getActiveDescendantId:J.accessibilityProvider.getActiveDescendantId&&(($)=>{return J.accessibilityProvider.getActiveDescendantId($.element)})},filter:J.filter&&{filter($,Q){return J.filter.filter($.element,Q)}},keyboardNavigationLabelProvider:J.keyboardNavigationLabelProvider&&{...J.keyboardNavigationLabelProvider,getKeyboardNavigationLabel($){return J.keyboardNavigationLabelProvider.getKeyboardNavigationLabel($.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof J.expandOnlyOnTwistieClick>"u"?void 0:typeof J.expandOnlyOnTwistieClick!=="function"?J.expandOnlyOnTwistieClick:($)=>J.expandOnlyOnTwistieClick($.element),defaultFindVisibility:($)=>{if($.hasChildren&&$.stale)return 1;else if(typeof J.defaultFindVisibility==="number")return J.defaultFindVisibility;else if(typeof J.defaultFindVisibility>"u")return 2;else return J.defaultFindVisibility($.element)}}}function mE(J,$){$(J),J.children.forEach((Q)=>mE(Q,$))}class GD{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return V0.map(this.tree.onDidChangeFocus,Cr)}get onDidChangeSelection(){return V0.map(this.tree.onDidChangeSelection,Cr)}get onMouseDblClick(){return V0.map(this.tree.onMouseDblClick,vr)}get onPointer(){return V0.map(this.tree.onPointer,vr)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(J,$,Q,X,Y,Z={}){if(this.user=J,this.dataSource=Y,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new p,this._onDidChangeNodeSlowState=new p,this.nodeMapper=new XU((G)=>new uE(G)),this.disposables=new q0,this.identityProvider=Z.identityProvider,this.autoExpandSingleChildren=typeof Z.autoExpandSingleChildren>"u"?!1:Z.autoExpandSingleChildren,this.sorter=Z.sorter,this.getDefaultCollapseState=(G)=>Z.collapseByDefault?Z.collapseByDefault(G)?E7.PreserveOrCollapsed:E7.PreserveOrExpanded:void 0,this.tree=this.createTree(J,$,Q,X,Z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=fE({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider)this.root={...this.root,id:null};this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(J,$,Q,X,Y){let Z=new YV(Q),G=X.map((U)=>new hr(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),q=pr(Y)||{};return new ZU(J,$,Z,G,q)}updateOptions(J={}){this.tree.updateOptions(J)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(J){this.tree.scrollTop=J}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(J,$){this.tree.layout(J,$)}style(J){this.tree.style(J)}getInput(){return this.root.element}async setInput(J,$){this.refreshPromises.forEach((X)=>X.cancel()),this.refreshPromises.clear(),this.root.element=J;let Q=$&&{viewState:$,focus:[],selection:[]};if(await this._updateChildren(J,!0,!1,Q),Q)this.tree.setFocus(Q.focus),this.tree.setSelection(Q.selection);if($&&typeof $.scrollTop==="number")this.scrollTop=$.scrollTop}async _updateChildren(J=this.root.element,$=!0,Q=!1,X,Y){if(typeof this.root.element>"u")throw new S8(this.user,"Tree input not set");if(this.root.refreshPromise)await this.root.refreshPromise,await V0.toPromise(this._onDidRender.event);let Z=this.getDataNode(J);if(await this.refreshAndRenderNode(Z,$,X,Y),Q)try{this.tree.rerender(Z)}catch(G){}}rerender(J){if(J===void 0||J===this.root.element){this.tree.rerender();return}let $=this.getDataNode(J);this.tree.rerender($)}getNode(J=this.root.element){let $=this.getDataNode(J),Q=this.tree.getNode($===this.root?null:$);return this.nodeMapper.map(Q)}collapse(J,$=!1){let Q=this.getDataNode(J);return this.tree.collapse(Q===this.root?null:Q,$)}async expand(J,$=!1){if(typeof this.root.element>"u")throw new S8(this.user,"Tree input not set");if(this.root.refreshPromise)await this.root.refreshPromise,await V0.toPromise(this._onDidRender.event);let Q=this.getDataNode(J);if(this.tree.hasElement(Q)&&!this.tree.isCollapsible(Q))return!1;if(Q.refreshPromise)await this.root.refreshPromise,await V0.toPromise(this._onDidRender.event);if(Q!==this.root&&!Q.refreshPromise&&!this.tree.isCollapsed(Q))return!1;let X=this.tree.expand(Q===this.root?null:Q,$);if(Q.refreshPromise)await this.root.refreshPromise,await V0.toPromise(this._onDidRender.event);return X}setSelection(J,$){let Q=J.map((X)=>this.getDataNode(X));this.tree.setSelection(Q,$)}getSelection(){return this.tree.getSelection().map(($)=>$.element)}setFocus(J,$){let Q=J.map((X)=>this.getDataNode(X));this.tree.setFocus(Q,$)}getFocus(){return this.tree.getFocus().map(($)=>$.element)}reveal(J,$){this.tree.reveal(this.getDataNode(J),$)}getParentElement(J){let $=this.tree.getParentElement(this.getDataNode(J));return $&&$.element}getFirstElementChild(J=this.root.element){let $=this.getDataNode(J),Q=this.tree.getFirstElementChild($===this.root?null:$);return Q&&Q.element}getDataNode(J){let $=this.nodes.get(J===this.root.element?null:J);if(!$)throw new S8(this.user,`Data tree node not found: ${J}`);return $}async refreshAndRenderNode(J,$,Q,X){if(await this.refreshNode(J,$,Q),this.disposables.isDisposed)return;this.render(J,Q,X)}async refreshNode(J,$,Q){let X;if(this.subTreeRefreshPromises.forEach((Y,Z)=>{if(!X&&dJ0(Z,J))X=Y.then(()=>this.refreshNode(J,$,Q))}),X)return X;if(J!==this.root){if(this.tree.getNode(J).collapsed){J.hasChildren=!!this.dataSource.hasChildren(J.element),J.stale=!0;return}}return this.doRefreshSubTree(J,$,Q)}async doRefreshSubTree(J,$,Q){let X;J.refreshPromise=new Promise((Y)=>X=Y),this.subTreeRefreshPromises.set(J,J.refreshPromise),J.refreshPromise.finally(()=>{J.refreshPromise=void 0,this.subTreeRefreshPromises.delete(J)});try{let Y=await this.doRefreshNode(J,$,Q);J.stale=!1,await WF.settled(Y.map((Z)=>this.doRefreshSubTree(Z,$,Q)))}finally{X()}}async doRefreshNode(J,$,Q){J.hasChildren=!!this.dataSource.hasChildren(J.element);let X;if(!J.hasChildren)X=Promise.resolve(D1.empty());else{let Y=this.doGetChildren(J);if(XM(Y))X=Promise.resolve(Y);else{let Z=bQ(800);Z.then(()=>{J.slow=!0,this._onDidChangeNodeSlowState.fire(J)},(G)=>null),X=Y.finally(()=>Z.cancel())}}try{let Y=await X;return this.setChildren(J,Y,$,Q)}catch(Y){if(J!==this.root&&this.tree.hasElement(J))this.tree.collapse(J);if(Z$(Y))return[];throw Y}finally{if(J.slow)J.slow=!1,this._onDidChangeNodeSlowState.fire(J)}}doGetChildren(J){let $=this.refreshPromises.get(J);if($)return $;let Q=this.dataSource.getChildren(J.element);if(XM(Q))return this.processChildren(Q);else return $=tZ(async()=>this.processChildren(await Q)),this.refreshPromises.set(J,$),$.finally(()=>{this.refreshPromises.delete(J)})}_onDidChangeCollapseState({node:J,deep:$}){if(J.element===null)return;if(!J.collapsed&&J.element.stale)if($)this.collapse(J.element.element);else this.refreshAndRenderNode(J.element,!1).catch(Z1)}setChildren(J,$,Q,X){let Y=[...$];if(J.children.length===0&&Y.length===0)return[];let Z=new Map,G=new Map;for(let z of J.children)if(Z.set(z.element,z),this.identityProvider)G.set(z.id,{node:z,collapsed:this.tree.hasElement(z)&&this.tree.isCollapsed(z)});let q=[],U=Y.map((z)=>{let H=!!this.dataSource.hasChildren(z);if(!this.identityProvider){let W=fE({element:z,parent:J,hasChildren:H,defaultCollapseState:this.getDefaultCollapseState(z)});if(H&&W.defaultCollapseState===E7.PreserveOrExpanded)q.push(W);return W}let j=this.identityProvider.getId(z).toString(),B=G.get(j);if(B){let W=B.node;if(Z.delete(W.element),this.nodes.delete(W.element),this.nodes.set(z,W),W.element=z,W.hasChildren=H,Q)if(B.collapsed)W.children.forEach((K)=>mE(K,(A)=>this.nodes.delete(A.element))),W.children.splice(0,W.children.length),W.stale=!0;else q.push(W);else if(H&&!B.collapsed)q.push(W);return W}let V=fE({element:z,parent:J,id:j,hasChildren:H,defaultCollapseState:this.getDefaultCollapseState(z)});if(X&&X.viewState.focus&&X.viewState.focus.indexOf(j)>-1)X.focus.push(V);if(X&&X.viewState.selection&&X.viewState.selection.indexOf(j)>-1)X.selection.push(V);if(X&&X.viewState.expanded&&X.viewState.expanded.indexOf(j)>-1)q.push(V);else if(H&&V.defaultCollapseState===E7.PreserveOrExpanded)q.push(V);return V});for(let z of Z.values())mE(z,(H)=>this.nodes.delete(H.element));for(let z of U)this.nodes.set(z.element,z);if(J.children.splice(0,J.children.length,...U),J!==this.root&&this.autoExpandSingleChildren&&U.length===1&&q.length===0)U[0].forceExpanded=!0,q.push(U[0]);return q}render(J,$,Q){let X=J.children.map((Z)=>this.asTreeElement(Z,$)),Y=Q&&{...Q,diffIdentityProvider:Q.diffIdentityProvider&&{getId(Z){return Q.diffIdentityProvider.getId(Z.element)}}};if(this.tree.setChildren(J===this.root?null:J,X,Y),J!==this.root)this.tree.setCollapsible(J,J.hasChildren);this._onDidRender.fire()}asTreeElement(J,$){if(J.stale)return{element:J,collapsible:J.hasChildren,collapsed:!0};let Q;if($&&$.viewState.expanded&&J.id&&$.viewState.expanded.indexOf(J.id)>-1)Q=!1;else if(J.forceExpanded)Q=!1,J.forceExpanded=!1;else Q=J.defaultCollapseState;return{element:J,children:J.hasChildren?D1.map(J.children,(X)=>this.asTreeElement(X,$)):[],collapsible:J.hasChildren,collapsed:Q}}processChildren(J){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return J}dispose(){this.disposables.dispose(),this.tree.dispose()}}class cE{get element(){return{elements:this.node.element.elements.map((J)=>J.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((J)=>new cE(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class mr{constructor(J,$,Q,X){this.renderer=J,this.nodeMapper=$,this.compressibleNodeMapperProvider=Q,this.onDidChangeTwistieState=X,this.renderedNodes=new Map,this.disposables=[],this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,Q,X){this.renderer.renderElement(this.nodeMapper.map(J),$,Q.templateData,X)}renderCompressedElements(J,$,Q,X){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(J),$,Q.templateData,X)}renderTwistie(J,$){if(J.slow)return $.classList.add(...c0.asClassNameArray(O0.treeItemLoading)),!0;else return $.classList.remove(...c0.asClassNameArray(O0.treeItemLoading)),!1}disposeElement(J,$,Q,X){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,Q.templateData,X)}disposeCompressedElements(J,$,Q,X){var Y,Z;(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,this.compressibleNodeMapperProvider().map(J),$,Q.templateData,X)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=h1(this.disposables)}}function sJ0(J){let $=J&&pr(J);return $&&{...$,keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{...$.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(Q){return J.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Q.map((X)=>X.element))}}}}function aJ0(J){if(typeof J==="boolean")return J?1:0;else if($V(J))return FG(J.visibility);else return FG(J)}var fr,lE;var ur=E(()=>{SP();GV();JD();hE();YU();J6();O5();N5();T1();E0();b9();B0();fr=class fr extends rY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}};lE=class lE extends GD{constructor(J,$,Q,X,Y,Z,G={}){super(J,$,Q,Y,Z,G);this.compressionDelegate=X,this.compressibleNodeMapper=new XU((q)=>new cE(q)),this.filter=G.filter}createTree(J,$,Q,X,Y){let Z=new YV(Q),G=X.map((U)=>new mr(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),q=sJ0(Y)||{};return new qV(J,$,Z,G,q)}asTreeElement(J,$){return{incompressible:this.compressionDelegate.isIncompressible(J.element),...super.asTreeElement(J,$)}}updateOptions(J={}){this.tree.updateOptions(J)}render(J,$,Q){if(!this.identityProvider)return super.render(J,$);let X=(B)=>this.identityProvider.getId(B).toString(),Y=(B)=>{let V=new Set;for(let W of B){let K=this.tree.getCompressedTreeNode(W===this.root?null:W);if(!K.element)continue;for(let A of K.element.elements)V.add(X(A.element))}return V},Z=Y(this.tree.getSelection()),G=Y(this.tree.getFocus());super.render(J,$,Q);let q=this.getSelection(),U=!1,z=this.getFocus(),H=!1,j=(B)=>{let V=B.element;if(V)for(let W=0;W<V.elements.length;W++){let K=X(V.elements[W].element),A=V.elements[V.elements.length-1].element;if(Z.has(K)&&q.indexOf(A)===-1)q.push(A),U=!0;if(G.has(K)&&z.indexOf(A)===-1)z.push(A),H=!0}B.children.forEach(j)};if(j(this.tree.getCompressedTreeNode(J===this.root?null:J)),U)this.setSelection(q);if(H)this.setFocus(z)}processChildren(J){if(this.filter)J=D1.filter(J,($)=>{let Q=this.filter.filter($,1),X=aJ0(Q);if(X===2)throw Error("Recursive tree visibility not supported in async data compressed trees");return X===1});return super.processChildren(J)}}});var dE;var cr=E(()=>{GV();XD();dE=class dE extends ZV{constructor(J,$,Q,X,Y,Z={}){super(J,$,Q,X,Z);this.user=J,this.dataSource=Y,this.identityProvider=Z.identityProvider}createModel(J,$,Q){return new KG(J,$,Q)}}});var wl0,Ll0,kl0,El0,Il0,yl0,xl0,bl0,Sl0,sE="inputFocus",Cl0;var lr=E(()=>{E1();a0();e1();wl0=new T0("isMac",$1,M("isMac","Whether the operating system is macOS")),Ll0=new T0("isLinux",w6,M("isLinux","Whether the operating system is Linux")),kl0=new T0("isWindows",c6,M("isWindows","Whether the operating system is Windows")),El0=new T0("isWeb",Q$,M("isWeb","Whether the platform is a web browser")),Il0=new T0("isMacNative",$1&&!Q$,M("isMacNative","Whether the operating system is macOS on a non-browser platform")),yl0=new T0("isIOS",x9,M("isIOS","Whether the operating system is iOS")),xl0=new T0("isMobile",xW,M("isMobile","Whether the platform is a mobile web browser")),bl0=new T0("isDevelopment",!1,!0),Sl0=new T0("productQualityType","",M("productQualityType","Quality type of VS Code")),Cl0=new T0(sE,!1,M("inputFocus","Whether keyboard focus is inside an input box"))});class aE{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new q0,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(J){var $,Q;if(J===this._lastFocusedWidget)return;($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=J,(Q=this._lastFocusedWidget)===null||Q===void 0||Q.getHTMLElement().classList.add("last-focused")}register(J,$){if(!this._hasCreatedStyleController)this._hasCreatedStyleController=!0,new hP(b5(),"").style(VG);if(this.lists.some((X)=>X.widget===J))throw Error("Cannot register the same widget multiple times");let Q={widget:J,extraContextKeys:$};if(this.lists.push(Q),X2(J.getHTMLElement()))this.setLastFocusedList(J);return p8(J.onDidFocus(()=>this.setLastFocusedList(J)),y0(()=>this.lists.splice(this.lists.indexOf(Q),1)),J.onDidDispose(()=>{if(this.lists=this.lists.filter((X)=>X!==Q),this._lastFocusedWidget===J)this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}function KD(J,$){let Q=J.createScoped($.getHTMLElement());return tr.bindTo(Q),Q}function AD(J,$){let Q=UV.bindTo(J),X=()=>{let Y=$.scrollTop===0,Z=$.scrollHeight-$.renderHeight-$.scrollTop<1;if(Y&&Z)Q.set("both");else if(Y)Q.set("top");else if(Z)Q.set("bottom");else Q.set("none")};return X(),$.onDidScroll(X)}function ZQ(J){return J.getValue(PG)==="alt"}function PD(J,$){var Q;let X=J.get(p1),Y=J.get(Q5),Z=new q0;return[{...$,keyboardNavigationDelegate:{mightProducePrintableCharacter(q){return Y.mightProducePrintableCharacter(q)}},smoothScrolling:Boolean(X.getValue(uJ)),mouseWheelScrollSensitivity:X.getValue(XQ),fastScrollSensitivity:X.getValue(YQ),multipleSelectionController:(Q=$.multipleSelectionController)!==null&&Q!==void 0?Q:Z.add(new Qi(X)),keyboardNavigationEventFilter:J$0(Y),scrollByPage:Boolean(X.getValue(mJ))},Z]}function J$0(J){let $=!1;return(Q)=>{if(Q.toKeyCodeChord().isModifierKey())return!1;if($)return $=!1,!1;let X=J.softDispatch(Q,Q.target);if(X.kind===1)return $=!0,!1;return $=!1,X.kind===0}}function Zi(J){let $=J.getValue(oE);if($==="highlight")return QQ.Highlight;else if($==="filter")return QQ.Filter;let Q=J.getValue(UD);if(Q==="simple"||Q==="highlight")return QQ.Highlight;else if(Q==="filter")return QQ.Filter;return}function Gi(J){let $=J.getValue(eE);if($==="fuzzy")return nY.Fuzzy;else if($==="contiguous")return nY.Contiguous;return}function HV(J,$){var Q;let X=J.get(p1),Y=J.get(vJ),Z=J.get(s0),G=J.get(r0),q=()=>{let V=Z.getContextKeyValue(Ji);if(V==="automatic")return hJ.Automatic;else if(V==="trigger")return hJ.Trigger;if(Z.getContextKeyValue($i)===!1)return hJ.Trigger;let K=X.getValue(tE);if(K==="automatic")return hJ.Automatic;else if(K==="trigger")return hJ.Trigger;return},U=$.horizontalScrolling!==void 0?$.horizontalScrolling:Boolean(X.getValue(Y4)),[z,H]=G.invokeFunction(PD,$),j=$.paddingBottom,B=$.renderIndentGuides!==void 0?$.renderIndentGuides:X.getValue(zD);return{getTypeNavigationMode:q,disposable:H,options:{keyboardSupport:!1,...z,indent:typeof X.getValue(zV)==="number"?X.getValue(zV):void 0,renderIndentGuides:B,smoothScrolling:Boolean(X.getValue(uJ)),defaultFindMode:Zi(X),defaultFindMatchType:Gi(X),horizontalScrolling:U,scrollByPage:Boolean(X.getValue(mJ)),paddingBottom:j,hideTwistiesOfChildlessElements:$.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(Q=$.expandOnlyOnTwistieClick)!==null&&Q!==void 0?Q:X.getValue(HD)==="doubleClick",contextViewProvider:Y,findWidgetStyles:wa,enableStickyScroll:Boolean(X.getValue(jD)),stickyScrollMaxItemCount:Number(X.getValue(VD))}}}var yX=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},V6=function(J,$){return function(Q,X){$(Q,X,J)}},cJ,UV,Xd0,Yd0,tr,er,BD,Zd0,rE,iE,nE,FD,rJ0,iJ0,nJ0,oJ0,tJ0,eJ0,Ji="listTypeNavigationMode",$i="listAutomaticKeyboardNavigation",PG="workbench.list.multiSelectModifier",qD="workbench.list.openMode",Y4="workbench.list.horizontalScrolling",oE="workbench.list.defaultFindMode",tE="workbench.list.typeNavigationMode",UD="workbench.list.keyboardNavigation",mJ="workbench.list.scrollByPage",eE="workbench.list.defaultFindMatchType",zV="workbench.tree.indent",zD="workbench.tree.renderIndentGuides",uJ="workbench.list.smoothScrolling",XQ="workbench.list.mouseWheelScrollSensitivity",YQ="workbench.list.fastScrollSensitivity",HD="workbench.tree.expandMode",jD="workbench.tree.enableStickyScroll",VD="workbench.tree.stickyScrollMaxItemCount",Qi,WD,dr,sr,DD,JI,Xi,Yi,ar,rr,ir,nr,or,AG=class{get onDidOpen(){return this.navigator.onDidOpen}constructor($,Q,X,Y,Z,G,q){var U;this.tree=$,this.disposables=[],this.contextKeyService=KD(Z,$),this.disposables.push(AD(this.contextKeyService,$)),this.listSupportsMultiSelect=BD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Q.multipleSelectionSupport!==!1),FD.bindTo(this.contextKeyService).set(Boolean(Q.selectionNavigation)),this.listSupportFindWidget=rJ0.bindTo(this.contextKeyService),this.listSupportFindWidget.set((U=Q.findWidgetEnabled)!==null&&U!==void 0?U:!0),this.hasSelectionOrFocus=rE.bindTo(this.contextKeyService),this.hasDoubleSelection=iE.bindTo(this.contextKeyService),this.hasMultiSelection=nE.bindTo(this.contextKeyService),this.treeElementCanCollapse=iJ0.bindTo(this.contextKeyService),this.treeElementHasParent=nJ0.bindTo(this.contextKeyService),this.treeElementCanExpand=oJ0.bindTo(this.contextKeyService),this.treeElementHasChild=tJ0.bindTo(this.contextKeyService),this.treeFindOpen=eJ0.bindTo(this.contextKeyService),this.treeStickyScrollFocused=er.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ZQ(q),this.updateStyleOverrides(Y);let H=()=>{let B=$.getFocus()[0];if(!B)return;let V=$.getNode(B);this.treeElementCanCollapse.set(V.collapsible&&!V.collapsed),this.treeElementHasParent.set(!!$.getParentElement(B)),this.treeElementCanExpand.set(V.collapsible&&V.collapsed),this.treeElementHasChild.set(!!$.getFirstElementChild(B))},j=new Set;j.add(Ji),j.add($i),this.disposables.push(this.contextKeyService,G.register($),$.onDidChangeSelection(()=>{let B=$.getSelection(),V=$.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(B.length>0||V.length>0),this.hasMultiSelection.set(B.length>1),this.hasDoubleSelection.set(B.length===2)})}),$.onDidChangeFocus(()=>{let B=$.getSelection(),V=$.getFocus();this.hasSelectionOrFocus.set(B.length>0||V.length>0),H()}),$.onDidChangeCollapseState(H),$.onDidChangeModel(H),$.onDidChangeFindOpenState((B)=>this.treeFindOpen.set(B)),$.onDidChangeStickyScrollFocused((B)=>this.treeStickyScrollFocused.set(B)),q.onDidChangeConfiguration((B)=>{let V={};if(B.affectsConfiguration(PG))this._useAltAsMultipleSelectionModifier=ZQ(q);if(B.affectsConfiguration(zV)){let W=q.getValue(zV);V={...V,indent:W}}if(B.affectsConfiguration(zD)&&Q.renderIndentGuides===void 0){let W=q.getValue(zD);V={...V,renderIndentGuides:W}}if(B.affectsConfiguration(uJ)){let W=Boolean(q.getValue(uJ));V={...V,smoothScrolling:W}}if(B.affectsConfiguration(oE)||B.affectsConfiguration(UD)){let W=Zi(q);V={...V,defaultFindMode:W}}if(B.affectsConfiguration(tE)||B.affectsConfiguration(UD)){let W=X();V={...V,typeNavigationMode:W}}if(B.affectsConfiguration(eE)){let W=Gi(q);V={...V,defaultFindMatchType:W}}if(B.affectsConfiguration(Y4)&&Q.horizontalScrolling===void 0){let W=Boolean(q.getValue(Y4));V={...V,horizontalScrolling:W}}if(B.affectsConfiguration(mJ)){let W=Boolean(q.getValue(mJ));V={...V,scrollByPage:W}}if(B.affectsConfiguration(HD)&&Q.expandOnlyOnTwistieClick===void 0)V={...V,expandOnlyOnTwistieClick:q.getValue(HD)==="doubleClick"};if(B.affectsConfiguration(jD)){let W=q.getValue(jD);V={...V,enableStickyScroll:W}}if(B.affectsConfiguration(VD)){let W=Math.max(1,q.getValue(VD));V={...V,stickyScrollMaxItemCount:W}}if(B.affectsConfiguration(XQ)){let W=q.getValue(XQ);V={...V,mouseWheelScrollSensitivity:W}}if(B.affectsConfiguration(YQ)){let W=q.getValue(YQ);V={...V,fastScrollSensitivity:W}}if(Object.keys(V).length>0)$.updateOptions(V)}),this.contextKeyService.onDidChangeContext((B)=>{if(B.affectsSome(j))$.updateOptions({typeNavigationMode:X()})})),this.navigator=new Yi($,{configurationService:q,...Q}),this.disposables.push(this.navigator)}updateOptions($){if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyleOverrides($){this.tree.style($?EX($):VG)}dispose(){this.disposables=h1(this.disposables)}},$$0;var $I=E(()=>{x0();Jr();GG();Hr();GV();ur();cr();hE();E0();B0();a0();l8();H2();e1();lr();OX();n0();h4();U7();iq();cJ=b0("listService");UV=new T0("listScrollAtBoundary","none"),Xd0=v0.or(UV.isEqualTo("top"),UV.isEqualTo("both")),Yd0=v0.or(UV.isEqualTo("bottom"),UV.isEqualTo("both")),tr=new T0("listFocus",!0),er=new T0("treestickyScrollFocused",!1),BD=new T0("listSupportsMultiselect",!0),Zd0=v0.and(tr,v0.not(sE),er.negate()),rE=new T0("listHasSelectionOrFocus",!1),iE=new T0("listDoubleSelection",!1),nE=new T0("listMultiSelection",!1),FD=new T0("listSelectionNavigation",!1),rJ0=new T0("listSupportsFind",!0),iJ0=new T0("treeElementCanCollapse",!1),nJ0=new T0("treeElementHasParent",!1),oJ0=new T0("treeElementCanExpand",!1),tJ0=new T0("treeElementHasChild",!1),eJ0=new T0("treeFindOpen",!1);Qi=class Qi extends r{constructor(J){super();this.configurationService=J,this.useAltAsMultipleSelectionModifier=ZQ(J),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((J)=>{if(J.affectsConfiguration(PG))this.useAltAsMultipleSelectionModifier=ZQ(this.configurationService)}))}isSelectionSingleChangeEvent(J){if(this.useAltAsMultipleSelectionModifier)return J.browserEvent.altKey;return tk(J)}isSelectionRangeChangeEvent(J){return ek(J)}};WD=class extends o8{constructor($,Q,X,Y,Z,G,q,U,z){let H=typeof Z.horizontalScrolling<"u"?Z.horizontalScrolling:Boolean(U.getValue(Y4)),[j,B]=z.invokeFunction(PD,Z);super($,Q,X,Y,{keyboardSupport:!1,...j,horizontalScrolling:H});this.disposables.add(B),this.contextKeyService=KD(G,this),this.disposables.add(AD(this.contextKeyService,this)),this.listSupportsMultiSelect=BD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),FD.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this.listHasSelectionOrFocus=rE.bindTo(this.contextKeyService),this.listDoubleSelection=iE.bindTo(this.contextKeyService),this.listMultiSelection=nE.bindTo(this.contextKeyService),this.horizontalScrolling=Z.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ZQ(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let W=this.getSelection(),K=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(W.length>0||K.length>0),this.listMultiSelection.set(W.length>1),this.listDoubleSelection.set(W.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let W=this.getSelection(),K=this.getFocus();this.listHasSelectionOrFocus.set(W.length>0||K.length>0)})),this.disposables.add(U.onDidChangeConfiguration((W)=>{if(W.affectsConfiguration(PG))this._useAltAsMultipleSelectionModifier=ZQ(U);let K={};if(W.affectsConfiguration(Y4)&&this.horizontalScrolling===void 0){let A=Boolean(U.getValue(Y4));K={...K,horizontalScrolling:A}}if(W.affectsConfiguration(mJ)){let A=Boolean(U.getValue(mJ));K={...K,scrollByPage:A}}if(W.affectsConfiguration(uJ)){let A=Boolean(U.getValue(uJ));K={...K,smoothScrolling:A}}if(W.affectsConfiguration(XQ)){let A=U.getValue(XQ);K={...K,mouseWheelScrollSensitivity:A}}if(W.affectsConfiguration(YQ)){let A=U.getValue(YQ);K={...K,fastScrollSensitivity:A}}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new JI(this,{configurationService:U,...Z}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?EX($):VG)}};WD=yX([V6(5,s0),V6(6,cJ),V6(7,p1),V6(8,r0)],WD);dr=class extends RE{constructor($,Q,X,Y,Z,G,q,U,z){let H=typeof Z.horizontalScrolling<"u"?Z.horizontalScrolling:Boolean(U.getValue(Y4)),[j,B]=z.invokeFunction(PD,Z);super($,Q,X,Y,{keyboardSupport:!1,...j,horizontalScrolling:H});this.disposables=new q0,this.disposables.add(B),this.contextKeyService=KD(G,this),this.disposables.add(AD(this.contextKeyService,this.widget)),this.horizontalScrolling=Z.horizontalScrolling,this.listSupportsMultiSelect=BD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),FD.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this._useAltAsMultipleSelectionModifier=ZQ(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(U.onDidChangeConfiguration((W)=>{if(W.affectsConfiguration(PG))this._useAltAsMultipleSelectionModifier=ZQ(U);let K={};if(W.affectsConfiguration(Y4)&&this.horizontalScrolling===void 0){let A=Boolean(U.getValue(Y4));K={...K,horizontalScrolling:A}}if(W.affectsConfiguration(mJ)){let A=Boolean(U.getValue(mJ));K={...K,scrollByPage:A}}if(W.affectsConfiguration(uJ)){let A=Boolean(U.getValue(uJ));K={...K,smoothScrolling:A}}if(W.affectsConfiguration(XQ)){let A=U.getValue(XQ);K={...K,mouseWheelScrollSensitivity:A}}if(W.affectsConfiguration(YQ)){let A=U.getValue(YQ);K={...K,fastScrollSensitivity:A}}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new JI(this,{configurationService:U,...Z}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?EX($):VG)}dispose(){this.disposables.dispose(),super.dispose()}};dr=yX([V6(5,s0),V6(6,cJ),V6(7,p1),V6(8,r0)],dr);sr=class extends oj{constructor($,Q,X,Y,Z,G,q,U,z,H){let j=typeof G.horizontalScrolling<"u"?G.horizontalScrolling:Boolean(z.getValue(Y4)),[B,V]=H.invokeFunction(PD,G);super($,Q,X,Y,Z,{keyboardSupport:!1,...B,horizontalScrolling:j});this.disposables.add(V),this.contextKeyService=KD(q,this),this.disposables.add(AD(this.contextKeyService,this)),this.listSupportsMultiSelect=BD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(G.multipleSelectionSupport!==!1),FD.bindTo(this.contextKeyService).set(Boolean(G.selectionNavigation)),this.listHasSelectionOrFocus=rE.bindTo(this.contextKeyService),this.listDoubleSelection=iE.bindTo(this.contextKeyService),this.listMultiSelection=nE.bindTo(this.contextKeyService),this.horizontalScrolling=G.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ZQ(z),this.disposables.add(this.contextKeyService),this.disposables.add(U.register(this)),this.updateStyles(G.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let K=this.getSelection(),A=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(K.length>0||A.length>0),this.listMultiSelection.set(K.length>1),this.listDoubleSelection.set(K.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let K=this.getSelection(),A=this.getFocus();this.listHasSelectionOrFocus.set(K.length>0||A.length>0)})),this.disposables.add(z.onDidChangeConfiguration((K)=>{if(K.affectsConfiguration(PG))this._useAltAsMultipleSelectionModifier=ZQ(z);let A={};if(K.affectsConfiguration(Y4)&&this.horizontalScrolling===void 0){let F=Boolean(z.getValue(Y4));A={...A,horizontalScrolling:F}}if(K.affectsConfiguration(mJ)){let F=Boolean(z.getValue(mJ));A={...A,scrollByPage:F}}if(K.affectsConfiguration(uJ)){let F=Boolean(z.getValue(uJ));A={...A,smoothScrolling:F}}if(K.affectsConfiguration(XQ)){let F=z.getValue(XQ);A={...A,mouseWheelScrollSensitivity:F}}if(K.affectsConfiguration(YQ)){let F=z.getValue(YQ);A={...A,fastScrollSensitivity:F}}if(Object.keys(A).length>0)this.updateOptions(A)})),this.navigator=new Xi(this,{configurationService:z,...G}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?EX($):VG)}dispose(){this.disposables.dispose(),super.dispose()}};sr=yX([V6(6,s0),V6(7,cJ),V6(8,p1),V6(9,r0)],sr);DD=class DD extends r{constructor(J,$){var Q;super();if(this.widget=J,this._onDidOpen=this._register(new p),this.onDidOpen=this._onDidOpen.event,this._register(V0.filter(this.widget.onDidChangeSelection,(X)=>W3(X.browserEvent))((X)=>this.onSelectionFromKeyboard(X))),this._register(this.widget.onPointer((X)=>this.onPointer(X.element,X.browserEvent))),this._register(this.widget.onMouseDblClick((X)=>this.onMouseDblClick(X.element,X.browserEvent))),typeof($===null||$===void 0?void 0:$.openOnSingleClick)!=="boolean"&&($===null||$===void 0?void 0:$.configurationService))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(qD))!=="doubleClick",this._register($===null||$===void 0?void 0:$.configurationService.onDidChangeConfiguration((X)=>{if(X.affectsConfiguration(qD))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(qD))!=="doubleClick"}));else this.openOnSingleClick=(Q=$===null||$===void 0?void 0:$.openOnSingleClick)!==null&&Q!==void 0?Q:!0}onSelectionFromKeyboard(J){if(J.elements.length!==1)return;let $=J.browserEvent,Q=typeof $.preserveFocus==="boolean"?$.preserveFocus:!0,X=typeof $.pinned==="boolean"?$.pinned:!Q,Y=!1;this._open(this.getSelectedElement(),Q,X,Y,J.browserEvent)}onPointer(J,$){if(!this.openOnSingleClick)return;if($.detail===2)return;let X=$.button===1,Y=!0,Z=X,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}onMouseDblClick(J,$){if(!$)return;let Q=$.target;if(Q.classList.contains("monaco-tl-twistie")||Q.classList.contains("monaco-icon-label")&&Q.classList.contains("folder-icon")&&$.offsetX<16)return;let Y=!1,Z=!0,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}_open(J,$,Q,X,Y){if(!J)return;this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:Q,revealIfVisible:!0},sideBySide:X,element:J,browserEvent:Y})}};JI=class JI extends DD{constructor(J,$){super(J,$);this.widget=J}getSelectedElement(){return this.widget.getSelectedElements()[0]}};Xi=class Xi extends DD{constructor(J,$){super(J,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}};Yi=class Yi extends DD{constructor(J,$){super(J,$)}getSelectedElement(){var J;return(J=this.widget.getSelection()[0])!==null&&J!==void 0?J:void 0}};ar=class extends ZU{constructor($,Q,X,Y,Z,G,q,U,z){let{options:H,getTypeNavigationMode:j,disposable:B}=G.invokeFunction(HV,Z);super($,Q,X,Y,H);this.disposables.add(B),this.internals=new AG(this,Z,j,Z.overrideStyles,q,U,z),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};ar=yX([V6(5,r0),V6(6,s0),V6(7,cJ),V6(8,p1)],ar);rr=class extends qV{constructor($,Q,X,Y,Z,G,q,U,z){let{options:H,getTypeNavigationMode:j,disposable:B}=G.invokeFunction(HV,Z);super($,Q,X,Y,H);this.disposables.add(B),this.internals=new AG(this,Z,j,Z.overrideStyles,q,U,z),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};rr=yX([V6(5,r0),V6(6,s0),V6(7,cJ),V6(8,p1)],rr);ir=class extends dE{constructor($,Q,X,Y,Z,G,q,U,z,H){let{options:j,getTypeNavigationMode:B,disposable:V}=q.invokeFunction(HV,G);super($,Q,X,Y,Z,j);this.disposables.add(V),this.internals=new AG(this,G,B,G.overrideStyles,U,z,H),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles!==void 0)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};ir=yX([V6(6,r0),V6(7,s0),V6(8,cJ),V6(9,p1)],ir);nr=class extends GD{get onDidOpen(){return this.internals.onDidOpen}constructor($,Q,X,Y,Z,G,q,U,z,H){let{options:j,getTypeNavigationMode:B,disposable:V}=q.invokeFunction(HV,G);super($,Q,X,Y,Z,j);this.disposables.add(V),this.internals=new AG(this,G,B,G.overrideStyles,U,z,H),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};nr=yX([V6(6,r0),V6(7,s0),V6(8,cJ),V6(9,p1)],nr);or=class extends lE{constructor($,Q,X,Y,Z,G,q,U,z,H,j){let{options:B,getTypeNavigationMode:V,disposable:W}=U.invokeFunction(HV,q);super($,Q,X,Y,Z,G,B);this.disposables.add(W),this.internals=new AG(this,q,V,q.overrideStyles,z,H,j),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};or=yX([V6(7,r0),V6(8,s0),V6(9,cJ),V6(10,p1)],or);AG=yX([V6(4,s0),V6(5,cJ),V6(6,p1)],AG);$$0=G6.as(r9.Configuration);$$0.registerConfiguration({id:"workbench",order:7,title:M("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[PG]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[M("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),M("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:M({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[qD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:M({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Y4]:{type:"boolean",default:!1,description:M("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[mJ]:{type:"boolean",default:!1,description:M("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[zV]:{type:"number",default:8,minimum:4,maximum:40,description:M("tree indent setting","Controls tree indentation in pixels.")},[zD]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:M("render tree indent guides","Controls whether the tree should render indent guides.")},[uJ]:{type:"boolean",default:!1,description:M("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[XQ]:{type:"number",default:1,markdownDescription:M("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[YQ]:{type:"number",default:5,markdownDescription:M("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[oE]:{type:"string",enum:["highlight","filter"],enumDescriptions:[M("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),M("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:M("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[UD]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[M("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),M("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),M("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:M("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:M("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[eE]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[M("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),M("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:M("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[HD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:M("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[jD]:{type:"boolean",default:!0,description:M("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[VD]:{type:"number",minimum:1,default:7,markdownDescription:M("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[tE]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:M("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})});class qi{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(J){if(J.prefix.length===0)this.defaultProvider=J;else this.providers.push(J);return this.providers.sort(($,Q)=>Q.prefix.length-$.prefix.length),y0(()=>{if(this.providers.splice(this.providers.indexOf(J),1),this.defaultProvider===J)this.defaultProvider=void 0})}getQuickAccessProviders(){return TW([this.defaultProvider,...this.providers])}getQuickAccessProvider(J){return(J?this.providers.find((Q)=>J.startsWith(Q.prefix))||void 0:void 0)||this.defaultProvider}}var RD,QI;var Ui=E(()=>{B1();B0();U7();(function(J){J[J.PRESERVE=0]="PRESERVE",J[J.LAST=1]="LAST"})(RD||(RD={}));QI={Quickaccess:"workbench.contributions.quickaccess"};G6.add(QI.Quickaccess,new qi)});class Hi{constructor(J){this.options=J}}var zi,DG,c4,Vd0,MD;var jV=E(()=>{n0();zi={ctrlCmd:!1,alt:!1};(function(J){J[J.Blur=1]="Blur",J[J.Gesture=2]="Gesture",J[J.Other=3]="Other"})(DG||(DG={}));(function(J){J[J.NONE=0]="NONE",J[J.FIRST=1]="FIRST",J[J.SECOND=2]="SECOND",J[J.LAST=3]="LAST"})(c4||(c4={}));Vd0=new Hi,MD=b0("quickInputService")});var Q$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ji=function(J,$){return function(Q,X){$(Q,X,J)}},OD;var Vi=E(()=>{J6();z8();E0();B0();n0();Ui();jV();U7();OD=class extends r{constructor($,Q){super();this.quickInputService=$,this.instantiationService=Q,this.registry=G6.as(QI.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show($="",Q){this.doShowOrPick($,!1,Q)}doShowOrPick($,Q,X){var Y;let[Z,G]=this.getOrInstantiateProvider($),q=this.visibleQuickAccess,U=q===null||q===void 0?void 0:q.descriptor;if(q&&G&&U===G){if($!==G.prefix&&!(X===null||X===void 0?void 0:X.preserveValue))q.picker.value=$;this.adjustValueSelection(q.picker,G,X);return}if(G&&!(X===null||X===void 0?void 0:X.preserveValue)){let V=void 0;if(q&&U&&U!==G){let W=q.value.substr(U.prefix.length);if(W)V=`${G.prefix}${W}`}if(!V){let W=Z===null||Z===void 0?void 0:Z.defaultFilterValue;if(W===RD.LAST)V=this.lastAcceptedPickerValues.get(G);else if(typeof W==="string")V=`${G.prefix}${W}`}if(typeof V==="string")$=V}let z=new q0,H=z.add(this.quickInputService.createQuickPick());if(H.value=$,this.adjustValueSelection(H,G,X),H.placeholder=G===null||G===void 0?void 0:G.placeholder,H.quickNavigate=X===null||X===void 0?void 0:X.quickNavigateConfiguration,H.hideInput=!!H.quickNavigate&&!q,typeof(X===null||X===void 0?void 0:X.itemActivation)==="number"||(X===null||X===void 0?void 0:X.quickNavigateConfiguration))H.itemActivation=(Y=X===null||X===void 0?void 0:X.itemActivation)!==null&&Y!==void 0?Y:c4.SECOND;H.contextKey=G===null||G===void 0?void 0:G.contextKey,H.filterValue=(V)=>V.substring(G?G.prefix.length:0);let j=void 0;if(Q)j=new Oz,z.add(V0.once(H.onWillAccept)((V)=>{V.veto(),H.hide()}));z.add(this.registerPickerListeners(H,Z,G,$,X===null||X===void 0?void 0:X.providerOptions));let B=z.add(new M5);if(Z)z.add(Z.provide(H,B.token,X===null||X===void 0?void 0:X.providerOptions));if(V0.once(H.onDidHide)(()=>{if(H.selectedItems.length===0)B.cancel();z.dispose(),j===null||j===void 0||j.complete(H.selectedItems.slice(0))}),H.show(),Q)return j===null||j===void 0?void 0:j.p}adjustValueSelection($,Q,X){var Y;let Z;if(X===null||X===void 0?void 0:X.preserveValue)Z=[$.value.length,$.value.length];else Z=[(Y=Q===null||Q===void 0?void 0:Q.prefix.length)!==null&&Y!==void 0?Y:0,$.value.length];$.valueSelection=Z}registerPickerListeners($,Q,X,Y,Z){let G=new q0,q=this.visibleQuickAccess={picker:$,descriptor:X,value:Y};if(G.add(y0(()=>{if(q===this.visibleQuickAccess)this.visibleQuickAccess=void 0})),G.add($.onDidChangeValue((U)=>{let[z]=this.getOrInstantiateProvider(U);if(z!==Q)this.show(U,{preserveValue:!0,providerOptions:Z});else q.value=U})),X)G.add($.onDidAccept(()=>{this.lastAcceptedPickerValues.set(X,$.value)}));return G}getOrInstantiateProvider($){let Q=this.registry.getQuickAccessProvider($);if(!Q)return[void 0,void 0];let X=this.mapProviderToDescriptor.get(Q);if(!X)X=this.instantiationService.createInstance(Q.ctor),this.mapProviderToDescriptor.set(Q,X);return[X,Q]}};OD=Q$0([ji(0,MD),ji(1,r0)],OD)});var VV=E(()=>{_0(".quick-input-widget{z-index:2550;-webkit-app-region:no-drag;border-radius:6px;width:600px;margin-left:-300px;position:absolute;left:50%}.quick-input-titlebar{border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;display:flex}.quick-input-left-action-bar{flex:1;margin-left:4px;display:flex}.quick-input-title{text-align:center;text-overflow:ellipsis;padding:3px 0;overflow:hidden}.quick-input-right-action-bar{flex:1;margin-right:4px;display:flex}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px 6px 6px 11px}.quick-input-header .quick-input-description{flex:1;margin:4px 2px}.quick-input-header{padding:8px 6px 6px;display:flex}.quick-input-widget.hidden-input .quick-input-header{margin-bottom:0;padding:0}.quick-input-and-message{flex-direction:column;flex-grow:1;min-width:0;display:flex;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;align-items:center;display:flex;position:absolute;right:4px}.quick-input-count .monaco-count-badge{vertical-align:middle;border-radius:2px;min-height:auto;padding:2px 4px;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{align-items:center;height:25px;padding:0 6px;font-size:11px;display:flex}.quick-input-message{overflow-wrap:break-word;margin-top:-1px;padding:5px}.quick-input-message>.codicon{vertical-align:text-bottom;margin:0 .2em}.quick-input-message a{color:inherit}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-list{line-height:22px}.quick-input-widget.hidden-input .quick-input-list{margin-top:4px;padding-bottom:4px}.quick-input-list .monaco-list{max-height:440px;padding-bottom:5px;overflow:hidden}.quick-input-list .monaco-scrollable-element{padding:0 5px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;height:100%;padding:0 6px;display:flex;overflow:hidden}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-style:solid;border-top-width:1px}.quick-input-list .monaco-list-row{border-radius:3px}.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{flex:1;height:100%;display:flex;overflow:hidden}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-icon{background-position:0;background-repeat:no-repeat;background-size:16px;justify-content:center;align-items:center;width:16px;height:22px;padding-right:6px;display:flex}.quick-input-list .quick-input-list-rows{text-overflow:ellipsis;flex-direction:column;flex:1;height:100%;margin-left:5px;display:flex;overflow:hidden}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{align-items:center;display:flex}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label>span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;text-overflow:ellipsis;line-height:normal;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:4px}.quick-input-list .quick-input-list-entry-action-bar{flex:0;display:flex;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:0 0}.quick-input-list .quick-input-list-separator-as-item{font-size:12px;font-weight:600}")});var Wi=E(()=>{_0(".monaco-icon-label{text-overflow:ellipsis;display:flex;overflow:hidden}.monaco-icon-label:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;background-position:0;background-repeat:no-repeat;background-size:16px;flex-shrink:0;width:16px;height:22px;padding-right:6px;display:inline-block;line-height:inherit!important}.monaco-icon-label-container.disabled{color:var(--vscode-disabledForeground)}.monaco-icon-label>.monaco-icon-label-container{text-overflow:ellipsis;flex:1;min-width:0;overflow:hidden}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{opacity:.5;margin:0 2px}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-suffix-container>.label-suffix{opacity:.7;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;white-space:pre;margin-left:.5em;font-size:.9em}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{font-style:italic}.monaco-icon-label.deprecated{opacity:.66;text-decoration:line-through}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;text-align:center;margin:auto 16px 0 5px;font-size:90%;font-weight:600}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}")});class oY{constructor(J,$){var Q;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(Q=$===null||$===void 0?void 0:$.supportIcons)!==null&&Q!==void 0?Q:!1,this.domNode=P0(J,M0("span.monaco-highlighted-label"))}get element(){return this.domNode}set(J,$=[],Q="",X){if(!J)J="";if(X)J=oY.escapeNewLines(J,$);if(this.didEverRender&&this.text===J&&this.title===Q&&p5(this.highlights,$))return;this.text=J,this.title=Q,this.highlights=$,this.render()}render(){let J=[],$=0;for(let Q of this.highlights){if(Q.end===Q.start)continue;if($<Q.start){let Z=this.text.substring($,Q.start);if(this.supportIcons)J.push(...p4(Z));else J.push(Z);$=Q.start}let X=this.text.substring($,Q.end),Y=M0("span.highlight",void 0,...this.supportIcons?p4(X):[X]);if(Q.extraClasses)Y.classList.add(...Q.extraClasses);J.push(Y),$=Q.end}if($<this.text.length){let Q=this.text.substring($);if(this.supportIcons)J.push(...p4(Q));else J.push(Q)}if(w5(this.domNode,...J),this.title)this.domNode.title=this.title;else this.domNode.removeAttribute("title");this.didEverRender=!0}static escapeNewLines(J,$){let Q=0,X=0;return J.replace(/\r\n|\r|\n/g,(Y,Z)=>{X=Y===`\r
`?-1:0,Z+=Q;for(let G of $){if(G.end<=Z)continue;if(G.start>=Z)G.start+=X;if(G.end>=Z)G.end+=X}return Q+=X,"⏎"})}}var Bi=E(()=>{x0();o2();P7()});class GU{constructor(J){this._element=J}get element(){return this._element}set textContent(J){if(this.disposed||J===this._textContent)return;this._textContent=J,this._element.textContent=J}set className(J){if(this.disposed||J===this._className)return;this._className=J,this._element.className=J}set empty(J){if(this.disposed||J===this._empty)return;this._empty=J,this._element.style.marginLeft=J?"0":""}dispose(){this.disposed=!0}}class Fi{constructor(J){this.container=J,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&p5(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=P0(this.container,M0("a.label-name",{id:$===null||$===void 0?void 0:$.domId}));this.singleLabel.textContent=J}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let Q=0;Q<J.length;Q++){let X=J[Q],Y=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${Q}`;if(P0(this.container,M0("a.label-name",{id:Y,"data-icon-label-count":J.length,"data-icon-label-index":Q,role:"treeitem"},X)),Q<J.length-1)P0(this.container,M0("span.label-separator",void 0,($===null||$===void 0?void 0:$.separator)||"/"))}}}}function X$0(J,$,Q){if(!Q)return;let X=0;return J.map((Y)=>{let Z={start:X,end:X+Y.length},G=Q.map((q)=>h5.intersect(Z,q)).filter((q)=>!h5.isEmpty(q)).map(({start:q,end:U})=>({start:q-X,end:U-X}));return X=Z.end+$.length,G})}class Ki{constructor(J,$){this.container=J,this.supportIcons=$,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&p5(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new oY(P0(this.container,M0("a.label-name",{id:$===null||$===void 0?void 0:$.domId})),{supportIcons:this.supportIcons});this.singleLabel.set(J,$===null||$===void 0?void 0:$.matches,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines)}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let Q=($===null||$===void 0?void 0:$.separator)||"/",X=X$0(J,Q,$===null||$===void 0?void 0:$.matches);for(let Y=0;Y<J.length;Y++){let Z=J[Y],G=X?X[Y]:void 0,q=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${Y}`,U=M0("a.label-name",{id:q,"data-icon-label-count":J.length,"data-icon-label-index":Y,role:"treeitem"});if(new oY(P0(this.container,U),{supportIcons:this.supportIcons}).set(Z,G,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines),Y<J.length-1)P0(U,M0("span.label-separator",void 0,Q))}}}}var qU;var XI=E(()=>{Wi();x0();Bi();dk();B0();P7();fj();qU=class qU extends r{constructor(J,$){super();if(this.customHovers=new Map,this.creationOptions=$,this.domNode=this._register(new GU(P0(J,M0(".monaco-icon-label")))),this.labelContainer=P0(this.domNode.element,M0(".monaco-icon-label-container")),this.nameContainer=P0(this.labelContainer,M0("span.monaco-icon-name-container")),($===null||$===void 0?void 0:$.supportHighlights)||($===null||$===void 0?void 0:$.supportIcons))this.nameNode=new Ki(this.nameContainer,!!$.supportIcons);else this.nameNode=new Fi(this.nameContainer);this.hoverDelegate=$===null||$===void 0?void 0:$.hoverDelegate}get element(){return this.domNode.element}setLabel(J,$,Q){var X;let Y=["monaco-icon-label"],Z=["monaco-icon-label-container"],G="";if(Q){if(Q.extraClasses)Y.push(...Q.extraClasses);if(Q.italic)Y.push("italic");if(Q.strikethrough)Y.push("strikethrough");if(Q.disabledCommand)Z.push("disabled");if(Q.title)if(typeof Q.title==="string")G+=Q.title;else G+=J}if(this.domNode.className=Y.join(" "),this.domNode.element.setAttribute("aria-label",G),this.labelContainer.className=Z.join(" "),this.setupHover((Q===null||Q===void 0?void 0:Q.descriptionTitle)?this.labelContainer:this.element,Q===null||Q===void 0?void 0:Q.title),this.nameNode.setLabel(J,Q),$||this.descriptionNode){let q=this.getOrCreateDescriptionNode();if(q instanceof oY)q.set($||"",Q?Q.descriptionMatches:void 0,void 0,Q===null||Q===void 0?void 0:Q.labelEscapeNewLines),this.setupHover(q.element,Q===null||Q===void 0?void 0:Q.descriptionTitle);else q.textContent=$&&(Q===null||Q===void 0?void 0:Q.labelEscapeNewLines)?oY.escapeNewLines($,[]):$||"",this.setupHover(q.element,(Q===null||Q===void 0?void 0:Q.descriptionTitle)||""),q.empty=!$}if((Q===null||Q===void 0?void 0:Q.suffix)||this.suffixNode){let q=this.getOrCreateSuffixNode();q.textContent=(X=Q===null||Q===void 0?void 0:Q.suffix)!==null&&X!==void 0?X:""}}setupHover(J,$){let Q=this.customHovers.get(J);if(Q)Q.dispose(),this.customHovers.delete(J);if(!$){J.removeAttribute("title");return}if(!this.hoverDelegate)ls(J,$);else{let X=yP(this.hoverDelegate,J,$);if(X)this.customHovers.set(J,X)}}dispose(){super.dispose();for(let J of this.customHovers.values())J.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){let J=this._register(new GU(fC(this.nameContainer,M0("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new GU(P0(J.element,M0("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var J;if(!this.descriptionNode){let $=this._register(new GU(P0(this.labelContainer,M0("span.monaco-icon-description-container"))));if((J=this.creationOptions)===null||J===void 0?void 0:J.supportDescriptionHighlights)this.descriptionNode=new oY(P0($.element,M0("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons});else this.descriptionNode=this._register(new GU(P0($.element,M0("span.label-description"))))}return this.descriptionNode}}});var Ai=E(()=>{_0(".monaco-keybinding{align-items:center;line-height:10px;display:flex}.monaco-keybinding>.monaco-keybinding-key{vertical-align:middle;border-style:solid;border-width:1px;border-radius:3px;margin:0 2px;padding:3px 5px;font-size:11px;display:inline-block}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}")});class ND{constructor(J,$,Q){this.os=$,this.keyElements=new Set,this.options=Q||Object.create(null);let X=this.options.keybindingLabelForeground;if(this.domNode=P0(J,_D(".monaco-keybinding")),X)this.domNode.style.color=X;this.didEverRender=!1,J.appendChild(this.domNode)}get element(){return this.domNode}set(J,$){if(this.didEverRender&&this.keybinding===J&&ND.areSame(this.matches,$))return;this.keybinding=J,this.matches=$,this.render()}render(){var J;if(this.clear(),this.keybinding){let $=this.keybinding.getChords();if($[0])this.renderChord(this.domNode,$[0],this.matches?this.matches.firstPart:null);for(let X=1;X<$.length;X++)P0(this.domNode,_D("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,$[X],this.matches?this.matches.chordPart:null);let Q=((J=this.options.disableTitle)!==null&&J!==void 0?J:!1)?void 0:this.keybinding.getAriaLabel()||void 0;if(Q!==void 0)this.domNode.title=Q;else this.domNode.removeAttribute("title")}else if(this.options&&this.options.renderUnboundKeybindings)this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){c5(this.domNode),this.keyElements.clear()}renderChord(J,$,Q){let X=fq.modifierLabels[this.os];if($.ctrlKey)this.renderKey(J,X.ctrlKey,Boolean(Q===null||Q===void 0?void 0:Q.ctrlKey),X.separator);if($.shiftKey)this.renderKey(J,X.shiftKey,Boolean(Q===null||Q===void 0?void 0:Q.shiftKey),X.separator);if($.altKey)this.renderKey(J,X.altKey,Boolean(Q===null||Q===void 0?void 0:Q.altKey),X.separator);if($.metaKey)this.renderKey(J,X.metaKey,Boolean(Q===null||Q===void 0?void 0:Q.metaKey),X.separator);let Y=$.keyLabel;if(Y)this.renderKey(J,Y,Boolean(Q===null||Q===void 0?void 0:Q.keyCode),"")}renderKey(J,$,Q,X){if(P0(J,this.createKeyElement($,Q?".highlight":"")),X)P0(J,_D("span.monaco-keybinding-key-separator",void 0,X))}renderUnbound(J){P0(J,this.createKeyElement(M("unbound","Unbound")))}createKeyElement(J,$=""){let Q=_D("span.monaco-keybinding-key"+$,void 0,J);if(this.keyElements.add(Q),this.options.keybindingLabelBackground)Q.style.backgroundColor=this.options.keybindingLabelBackground;if(this.options.keybindingLabelBorder)Q.style.borderColor=this.options.keybindingLabelBorder;if(this.options.keybindingLabelBottomBorder)Q.style.borderBottomColor=this.options.keybindingLabelBottomBorder;if(this.options.keybindingLabelShadow)Q.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;return Q}static areSame(J,$){if(J===$||!J&&!$)return!0;return!!J&&!!$&&p5(J.firstPart,$.firstPart)&&p5(J.chordPart,$.chordPart)}}var _D;var Pi=E(()=>{x0();OP();P7();Ai();a0();_D=M0});function Y$0(J,$,Q=!1){let X=J||"",Y=$||"",Z=Di.value.collator.compare(X,Y);if(Di.value.collatorIsNumeric&&Z===0&&X!==Y)return X<Y?-1:1;return Z}function Ri(J,$,Q){let X=J.toLowerCase(),Y=$.toLowerCase(),Z=Z$0(J,$,Q);if(Z)return Z;let G=X.endsWith(Q),q=Y.endsWith(Q);if(G!==q)return G?-1:1;let U=Y$0(X,Y);if(U!==0)return U;return X.localeCompare(Y)}function Z$0(J,$,Q){let X=J.toLowerCase(),Y=$.toLowerCase(),Z=X.startsWith(Q),G=Y.startsWith(Q);if(Z!==G)return Z?-1:1;else if(Z&&G){if(X.length<Y.length)return-1;if(X.length>Y.length)return 1}return 0}var Di,md0,ud0;var Mi=E(()=>{Di=new z9(()=>{let J=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:J,collatorIsNumeric:J.resolvedOptions().numeric}}),md0=new z9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0})}}),ud0=new z9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}})});class YI{constructor(J){this.nodes=J}toString(){return this.nodes.map((J)=>typeof J==="string"?J:J.label).join("")}}function Oi(J){let $=[],Q=0,X;while(X=q$0.exec(J)){if(X.index-Q>0)$.push(J.substring(Q,X.index));let[,Y,Z,,G]=X;if(G)$.push({label:Y,href:Z,title:G});else $.push({label:Y,href:Z});Q=X.index+X[0].length}if(Q<J.length)$.push(J.substring(Q));return new YI($)}var G$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},q$0;var _i=E(()=>{G$0([F6],YI.prototype,"toString",null);q$0=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi});function z$0(J){if(!J)return;let $,Q=J.dark.toString();if(ZI[Q])$=ZI[Q];else $=U$0.nextId(),yF(`.${$}, .hc-light .${$}`,`background-image: ${L4(J.light||J.dark)}`),yF(`.vs-dark .${$}, .hc-black .${$}`,`background-image: ${L4(J.dark)}`),ZI[Q]=$;return $}function WV(J,$,Q){let X=J.iconClass||z$0(J.iconPath);if(J.alwaysVisible)X=X?`${X} always-visible`:"always-visible";return{id:$,label:"",tooltip:J.tooltip||"",class:X,enabled:!0,run:Q}}function Ni(J,$,Q){w5($);let X=Oi(J),Y=0;for(let Z of X.nodes)if(typeof Z==="string")$.append(...p4(Z));else{let G=Z.title;if(!G&&Z.href.startsWith("command:"))G=M("executeCommand","Click to execute command '{0}'",Z.href.substring(8));else if(!G)G=Z.href;let q=M0("a",{href:Z.href,title:G,tabIndex:Y++},Z.label);q.style.textDecoration="underline";let U=(V)=>{if(CC(V))o0.stop(V,!0);Q.callback(Z.href)},z=Q.disposables.add(new W1(q,W0.CLICK)).event,H=Q.disposables.add(new W1(q,W0.KEY_DOWN)).event,j=V0.chain(H,(V)=>V.filter((W)=>{let K=new _1(W);return K.equals(10)||K.equals(3)}));Q.disposables.add(b1.addTarget(q));let B=Q.disposables.add(new W1(q,f1.Tap)).event;V0.any(z,B,j)(U,null,Q.disposables),$.appendChild(q)}}var ZI,U$0;var GI=E(()=>{x0();IJ();E0();k8();J4();o2();Dk();_i();VV();a0();ZI={},U$0=new BP("quick-input-button-icon-")});class Li{constructor(J,$,Q,X,Y,Z,G){var q,U,z;if(this._checked=!1,this._hidden=!1,this.hasCheckbox=X,this.index=Q,this.fireButtonTriggered=Y,this.fireSeparatorButtonTriggered=Z,this._onChecked=G,this.onChecked=X?V0.map(V0.filter(this._onChecked.event,(H)=>H.listElement===this),(H)=>H.checked):V0.None,J.type==="separator")this._separator=J;else{if(this.item=J,$&&$.type==="separator"&&!$.buttons)this._separator=$;this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(q=this.item.highlights)===null||q===void 0?void 0:q.label,this._descriptionHighlights=(U=this.item.highlights)===null||U===void 0?void 0:U.description,this._detailHighlights=(z=this.item.highlights)===null||z===void 0?void 0:z.detail,this.saneTooltip=this.item.tooltip}this._init=new z9(()=>{var H;let j=(H=J.label)!==null&&H!==void 0?H:"",B=yq(j).text.trim(),V=J.ariaLabel||[j,this.saneDescription,this.saneDetail].map((W)=>md(W)).filter((W)=>!!W).join(", ");return{saneLabel:j,saneSortLabel:B,saneAriaLabel:V}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(J){this._element=J}get hidden(){return this._hidden}set hidden(J){this._hidden=J}get checked(){return this._checked}set checked(J){if(J!==this._checked)this._checked=J,this._onChecked.fire({listElement:this,checked:J})}get separator(){return this._separator}set separator(J){this._separator=J}get labelHighlights(){return this._labelHighlights}set labelHighlights(J){this._labelHighlights=J}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(J){this._descriptionHighlights=J}get detailHighlights(){return this._detailHighlights}set detailHighlights(J){this._detailHighlights=J}}class BV{constructor(J,$){this.themeService=J,this.hoverDelegate=$}get templateId(){return BV.ID}renderTemplate(J){let $=Object.create(null);$.toDisposeElement=[],$.toDisposeTemplate=[],$.entry=P0(J,lJ(".quick-input-list-entry"));let Q=P0($.entry,lJ("label.quick-input-list-label"));$.toDisposeTemplate.push(q6(Q,W0.CLICK,(U)=>{if(!$.checkbox.offsetParent)U.preventDefault()})),$.checkbox=P0(Q,lJ("input.quick-input-list-checkbox")),$.checkbox.type="checkbox",$.toDisposeTemplate.push(q6($.checkbox,W0.CHANGE,(U)=>{$.element.checked=$.checkbox.checked}));let X=P0(Q,lJ(".quick-input-list-rows")),Y=P0(X,lJ(".quick-input-list-row")),Z=P0(X,lJ(".quick-input-list-row"));$.label=new qU(Y,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.push($.label),$.icon=B3($.label.element,lJ(".quick-input-list-icon"));let G=P0(Y,lJ(".quick-input-list-entry-keybinding"));$.keybinding=new ND(G,f8);let q=P0(Z,lJ(".quick-input-list-label-meta"));return $.detail=new qU(q,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.push($.detail),$.separator=P0($.entry,lJ(".quick-input-list-separator")),$.actionBar=new R8($.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),$.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),$.toDisposeTemplate.push($.actionBar),$}renderElement(J,$,Q){var X,Y,Z,G;Q.element=J,J.element=(X=Q.entry)!==null&&X!==void 0?X:void 0;let q=J.item?J.item:J.separator;Q.checkbox.checked=J.checked,Q.toDisposeElement.push(J.onChecked((V)=>Q.checkbox.checked=V));let{labelHighlights:U,descriptionHighlights:z,detailHighlights:H}=J;if((Y=J.item)===null||Y===void 0?void 0:Y.iconPath){let V=E2(this.themeService.getColorTheme().type)?J.item.iconPath.dark:(Z=J.item.iconPath.light)!==null&&Z!==void 0?Z:J.item.iconPath.dark,W=m0.revive(V);Q.icon.className="quick-input-list-icon",Q.icon.style.backgroundImage=L4(W)}else Q.icon.style.backgroundImage="",Q.icon.className=((G=J.item)===null||G===void 0?void 0:G.iconClass)?`quick-input-list-icon ${J.item.iconClass}`:"";let j={matches:U||[],descriptionTitle:J.saneTooltip?void 0:J.saneDescription,descriptionMatches:z||[],labelEscapeNewLines:!0};if(q.type!=="separator")j.extraClasses=q.iconClasses,j.italic=q.italic,j.strikethrough=q.strikethrough,Q.entry.classList.remove("quick-input-list-separator-as-item");else Q.entry.classList.add("quick-input-list-separator-as-item");if(Q.label.setLabel(J.saneLabel,J.saneDescription,j),Q.keybinding.set(q.type==="separator"?void 0:q.keybinding),J.saneDetail)Q.detail.element.style.display="",Q.detail.setLabel(J.saneDetail,void 0,{matches:H,title:J.saneTooltip?void 0:J.saneDetail,labelEscapeNewLines:!0});else Q.detail.element.style.display="none";if(J.item&&J.separator&&J.separator.label)Q.separator.textContent=J.separator.label,Q.separator.style.display="";else Q.separator.style.display="none";Q.entry.classList.toggle("quick-input-list-separator-border",!!J.separator);let B=q.buttons;if(B&&B.length)Q.actionBar.push(B.map((V,W)=>WV(V,`id-${W}`,()=>q.type!=="separator"?J.fireButtonTriggered({button:V,item:q}):J.fireSeparatorButtonTriggered({button:V,separator:q}))),{icon:!0,label:!1}),Q.entry.classList.add("has-actions");else Q.entry.classList.remove("has-actions")}disposeElement(J,$,Q){Q.toDisposeElement=h1(Q.toDisposeElement),Q.actionBar.clear()}disposeTemplate(J){J.toDisposeElement=h1(J.toDisposeElement),J.toDisposeTemplate=h1(J.toDisposeTemplate)}}class ki{getHeight(J){if(!J.item)return 24;return J.saneDetail?44:22}getTemplateId(J){return BV.ID}}class FV{constructor(J,$,Q,X){this.parent=J,this.options=Q,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new p,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new p,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new p,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new p,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new p,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new p,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new p,this.onKeyDown=this._onKeyDown.event,this._onLeave=new p,this.onLeave=this._onLeave.event,this._listElementChecked=new p,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=$,this.container=P0(this.parent,lJ(".quick-input-list"));let Y=new ki,Z=new Ei;this.list=Q.createList("QuickInput",this.container,Y,[new BV(X,Q.hoverDelegate)],{identityProvider:{getId:(q)=>{var U,z,H,j,B,V,W,K;return(K=(V=(j=(z=(U=q.item)===null||U===void 0?void 0:U.id)!==null&&z!==void 0?z:(H=q.item)===null||H===void 0?void 0:H.label)!==null&&j!==void 0?j:(B=q.separator)===null||B===void 0?void 0:B.id)!==null&&V!==void 0?V:(W=q.separator)===null||W===void 0?void 0:W.label)!==null&&K!==void 0?K:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Z}),this.list.getHTMLElement().id=$,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((q)=>{let U=new _1(q);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:if($1?q.metaKey:q.ctrlKey)this.list.setFocus(g5(this.list.length));break;case 16:{let z=this.list.getFocus();if(z.length===1&&z[0]===0)this._onLeave.fire();break}case 18:{let z=this.list.getFocus();if(z.length===1&&z[0]===this.list.length-1)this._onLeave.fire();break}}this._onKeyDown.fire(U)})),this.disposables.push(this.list.onMouseDown((q)=>{if(q.browserEvent.button!==2)q.browserEvent.preventDefault()})),this.disposables.push(t(this.container,W0.CLICK,(q)=>{if(q.x||q.y)this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick((q)=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu((q)=>{if(typeof q.index==="number")q.browserEvent.preventDefault(),this.list.setSelection([q.index])}));let G=new Mz(Q.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(async(q)=>{var U;if(q.browserEvent.target instanceof HTMLAnchorElement){G.cancel();return}if(!(q.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&J5(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;try{await G.trigger(async()=>{if(q.element)this.showHover(q.element)})}catch(z){if(!Z$(z))throw z}})),this.disposables.push(this.list.onMouseOut((q)=>{var U;if(J5(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;G.cancel()})),this.disposables.push(G),this.disposables.push(this._listElementChecked.event((q)=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return V0.map(this.list.onDidChangeFocus,(J)=>J.elements.map(($)=>$.item))}get onDidChangeSelection(){return V0.map(this.list.onDidChangeSelection,(J)=>({items:J.elements.map(($)=>$.item),event:J.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(J){this.list.getHTMLElement().ariaLabel=J}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(J,$=!0){for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];if(!Y.hidden)if(!Y.checked)return!1;else $=!0}return $}getCheckedCount(){let J=0,$=this.elements;for(let Q=0,X=$.length;Q<X;Q++)if($[Q].checked)J++;return J}getVisibleCount(){let J=0,$=this.elements;for(let Q=0,X=$.length;Q<X;Q++)if(!$[Q].hidden)J++;return J}setAllVisibleChecked(J){try{this._fireCheckedEvents=!1,this.elements.forEach(($)=>{if(!$.hidden)$.checked=J})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(J){this.elementDisposables=h1(this.elementDisposables);let $=(Z)=>this.fireButtonTriggered(Z),Q=(Z)=>this.fireSeparatorButtonTriggered(Z);this.inputElements=J;let X=new Map,Y=this.parent.classList.contains("show-checkboxes");this.elements=J.reduce((Z,G,q)=>{var U;let z=q>0?J[q-1]:void 0;if(G.type==="separator"){if(!G.buttons)return Z}let H=new Li(G,z,q,Y,$,Q,this._listElementChecked),j=Z.length;return Z.push(H),X.set((U=H.item)!==null&&U!==void 0?U:H.separator,j),Z},[]),this.elementsToIndexes=X,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((J)=>J.item)}setFocusedElements(J){if(this.list.setFocus(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($))),J.length>0){let $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(J){this.list.setSelection(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($)))}getCheckedElements(){return this.elements.filter((J)=>J.checked).map((J)=>J.item).filter((J)=>!!J)}setCheckedElements(J){try{this._fireCheckedEvents=!1;let $=new Set;for(let Q of J)$.add(Q);for(let Q of this.elements)Q.checked=$.has(Q.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(J){this.list.getHTMLElement().style.pointerEvents=J?"":"none"}focus(J){if(!this.list.length)return;if(J===f5.Second&&this.list.length<2)J=f5.First;switch(J){case f5.First:this.list.scrollTop=0,this.list.focusFirst(void 0,(Q)=>!!Q.item);break;case f5.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,(Q)=>!!Q.item);break;case f5.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,(Q)=>!!Q.item);break;case f5.Next:{this.list.focusNext(void 0,!0,void 0,(X)=>!!X.item);let Q=this.list.getFocus()[0];if(Q!==0&&!this.elements[Q-1].item&&this.list.firstVisibleIndex>Q-1)this.list.reveal(Q-1);break}case f5.Previous:{this.list.focusPrevious(void 0,!0,void 0,(X)=>!!X.item);let Q=this.list.getFocus()[0];if(Q!==0&&!this.elements[Q-1].item&&this.list.firstVisibleIndex>Q-1)this.list.reveal(Q-1);break}case f5.NextPage:this.list.focusNextPage(void 0,(Q)=>!!Q.item);break;case f5.PreviousPage:this.list.focusPreviousPage(void 0,(Q)=>!!Q.item);break}let $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(J){var $,Q,X;if(this._lastHover&&!this._lastHover.isDisposed)(Q=($=this.options.hoverDelegate).onDidHideHover)===null||Q===void 0||Q.call($),(X=this._lastHover)===null||X===void 0||X.dispose();if(!J.element||!J.saneTooltip)return;this._lastHover=this.options.hoverDelegate.showHover({content:J.saneTooltip,target:J.element,linkHandler:(Y)=>{this.options.linkOpenerDelegate(Y)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)}layout(J){this.list.getHTMLElement().style.maxHeight=J?`${Math.floor(J/44)*44+6}px`:"",this.list.layout()}filter(J){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;let $=J;if(J=J.trim(),!J||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach((X)=>{X.labelHighlights=void 0,X.descriptionHighlights=void 0,X.detailHighlights=void 0,X.hidden=!1;let Y=X.index&&this.inputElements[X.index-1];if(X.item)X.separator=Y&&Y.type==="separator"&&!Y.buttons?Y:void 0});else{let X;this.elements.forEach((Y)=>{var Z,G,q,U;let z;if(this.matchOnLabelMode==="fuzzy")z=this.matchOnLabel?(Z=VP(J,yq(Y.saneLabel)))!==null&&Z!==void 0?Z:void 0:void 0;else z=this.matchOnLabel?(G=H$0($,yq(Y.saneLabel)))!==null&&G!==void 0?G:void 0:void 0;let H=this.matchOnDescription?(q=VP(J,yq(Y.saneDescription||"")))!==null&&q!==void 0?q:void 0:void 0,j=this.matchOnDetail?(U=VP(J,yq(Y.saneDetail||"")))!==null&&U!==void 0?U:void 0:void 0;if(z||H||j)Y.labelHighlights=z,Y.descriptionHighlights=H,Y.detailHighlights=j,Y.hidden=!1;else Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=Y.item?!Y.item.alwaysShow:!0;if(Y.item)Y.separator=void 0;else if(Y.separator)Y.hidden=!0;if(!this.sortByLabel){let B=Y.index&&this.inputElements[Y.index-1];if(X=B&&B.type==="separator"?B:X,X&&!Y.hidden)Y.separator=X,X=void 0}})}let Q=this.elements.filter((X)=>!X.hidden);if(this.sortByLabel&&J){let X=J.toLowerCase();Q.sort((Y,Z)=>{return j$0(Y,Z,X)})}return this.elementsToIndexes=Q.reduce((X,Y,Z)=>{var G;return X.set((G=Y.item)!==null&&G!==void 0?G:Y.separator,Z),X},new Map),this.list.splice(0,this.list.length,Q),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(Q.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;let J=this.list.getFocusedElements(),$=this.allVisibleChecked(J);for(let Q of J)Q.checked=!$}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(J){this.container.style.display=J?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=h1(this.elementDisposables),this.disposables=h1(this.disposables)}fireCheckedEvents(){if(this._fireCheckedEvents)this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements())}fireButtonTriggered(J){this._onButtonTriggered.fire(J)}fireSeparatorButtonTriggered(J){this._onSeparatorButtonTriggered.fire(J)}style(J){this.list.style(J)}toggleHover(){let J=this.list.getFocusedElements()[0];if(!(J===null||J===void 0?void 0:J.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}let $=this.list.getFocusedElements()[0];if(!$)return;this.showHover($);let Q=new q0;if(Q.add(this.list.onDidChangeFocus((X)=>{if(X.indexes.length)this.showHover(X.elements[0])})),this._lastHover)Q.add(this._lastHover);this._toggleHover=Q,this.elementDisposables.push(this._toggleHover)}}function H$0(J,$){let{text:Q,iconOffsets:X}=$;if(!X||X.length===0)return Ti(J,Q);let Y=eX(Q," "),Z=Q.length-Y.length,G=Ti(J,Y);if(G)for(let q of G){let U=X[q.start+Z]+Z;q.start+=U,q.end+=U}return G}function Ti(J,$){let Q=$.toLowerCase().indexOf(J.toLowerCase());if(Q!==-1)return[{start:Q,end:Q+J.length}];return null}function j$0(J,$,Q){let X=J.labelHighlights||[],Y=$.labelHighlights||[];if(X.length&&!Y.length)return-1;if(!X.length&&Y.length)return 1;if(X.length===0&&Y.length===0)return 0;return Ri(J.saneSortLabel,$.saneSortLabel,Q)}class Ei{getWidgetAriaLabel(){return M("quickInput","Quick Input")}getAriaLabel(J){var $;return(($=J.separator)===null||$===void 0?void 0:$.label)?`${J.saneAriaLabel}, ${J.separator.label}`:J.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(J){return J.hasCheckbox?"checkbox":"option"}isChecked(J){if(!J.hasCheckbox)return;return{value:J.checked,onDidChange:J.onChecked}}}var wi=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},lJ,f5;var qI=E(()=>{x0();k8();JQ();XI();Pi();B1();J6();Mi();T1();E0();xq();B0();E1();G1();VV();a0();GI();V5();eQ();lJ=M0;BV.ID="listelement";(function(J){J[J.First=1]="First",J[J.Second=2]="Second",J[J.Last=3]="Last",J[J.Next=4]="Next",J[J.Previous=5]="Previous",J[J.NextPage=6]="NextPage",J[J.PreviousPage=7]="PreviousPage"})(f5||(f5={}));wi([F6],FV.prototype,"onDidChangeFocus",null);wi([F6],FV.prototype,"onDidChangeSelection",null)});class zI{get delay(){if(Date.now()-this.lastHoverHideTime<200)return 0;return this.configurationService.getValue("workbench.hover.delay")}constructor(J,$){this.configurationService=J,this.hoverService=$,this.lastHoverHideTime=0,this.placement="element"}showHover(J,$){var Q;let X=(J.content instanceof HTMLElement?(Q=J.content.textContent)!==null&&Q!==void 0?Q:"":typeof J.content==="string"?J.content:J.content.value).length>20;return this.hoverService.showHover({...J,persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:X,skipFadeInAnimation:!0}},$)}onDidHideHover(){this.lastHoverHideTime=Date.now()}}var TD,KV,UU,UI;var HI=E(()=>{x0();k8();tj();B1();J6();O5();E0();B0();E1();fY();N5();VV();a0();jV();qI();GI();TD={iconClass:c0.asClassName(O0.quickInputBack),tooltip:M("quickInput.back","Back"),handle:-1};KV=class KV extends r{constructor(J){super();this.ui=J,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=KV.noPromptMessage,this._severity=y6.Ignore,this.onDidTriggerButtonEmitter=this._register(new p),this.onDidHideEmitter=this._register(new p),this.onDisposeEmitter=this._register(new p),this.visibleDisposables=this._register(new q0),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(J){this._title=J,this.update()}get description(){return this._description}set description(J){this._description=J,this.update()}get step(){return this._steps}set step(J){this._steps=J,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(J){this._totalSteps=J,this.update()}get enabled(){return this._enabled}set enabled(J){this._enabled=J,this.update()}get contextKey(){return this._contextKey}set contextKey(J){this._contextKey=J,this.update()}get busy(){return this._busy}set busy(J){this._busy=J,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(J){let $=this._ignoreFocusOut!==J&&!x9;if(this._ignoreFocusOut=J&&!x9,$)this.update()}get buttons(){return this._buttons}set buttons(J){this._buttons=J,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(J){this._toggles=J!==null&&J!==void 0?J:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(J){this._validationMessage=J,this.update()}get severity(){return this._severity}set severity(J){this._severity=J,this.update()}show(){if(this.visible)return;if(this.visibleDisposables.add(this.ui.onDidTriggerButton((J)=>{if(this.buttons.indexOf(J)!==-1)this.onDidTriggerButtonEmitter.fire(J)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length)this.buttonsUpdated=!0;if(this.toggles.length)this.togglesUpdated=!0;this.update()}hide(){if(!this.visible)return;this.ui.hide()}didHide(J=DG.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:J})}update(){var J,$;if(!this.visible)return;let Q=this.getTitle();if(Q&&this.ui.title.textContent!==Q)this.ui.title.textContent=Q;else if(!Q&&this.ui.title.innerHTML!=="&nbsp;")this.ui.title.innerText=" ";let X=this.getDescription();if(this.ui.description1.textContent!==X)this.ui.description1.textContent=X;if(this.ui.description2.textContent!==X)this.ui.description2.textContent=X;if(this._widgetUpdated)if(this._widgetUpdated=!1,this._widget)w5(this.ui.widget,this._widget);else w5(this.ui.widget);if(this.busy&&!this.busyDelay)this.busyDelay=new E8,this.busyDelay.setIfNotSet(()=>{if(this.visible)this.ui.progressBar.infinite()},800);if(!this.busy&&this.busyDelay)this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0;if(this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let Z=this.buttons.filter((q)=>q===TD).map((q,U)=>WV(q,`id-${U}`,async()=>this.onDidTriggerButtonEmitter.fire(q)));this.ui.leftActionBar.push(Z,{icon:!0,label:!1}),this.ui.rightActionBar.clear();let G=this.buttons.filter((q)=>q!==TD).map((q,U)=>WV(q,`id-${U}`,async()=>this.onDidTriggerButtonEmitter.fire(q)));this.ui.rightActionBar.push(G,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;let Z=($=(J=this.toggles)===null||J===void 0?void 0:J.filter((G)=>G instanceof $Q))!==null&&$!==void 0?$:[];this.ui.inputBox.toggles=Z}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let Y=this.validationMessage||this.noValidationMessage;if(this._lastValidationMessage!==Y)this._lastValidationMessage=Y,w5(this.ui.message),Ni(Y,this.ui.message,{callback:(Z)=>{this.ui.linkOpenerDelegate(Z)},disposables:this.visibleDisposables});if(this._lastSeverity!==this.severity)this._lastSeverity=this.severity,this.showMessageDecoration(this.severity)}getTitle(){if(this.title&&this.step)return`${this.title} (${this.getSteps()})`;if(this.title)return this.title;if(this.step)return this.getSteps();return""}getDescription(){return this.description||""}getSteps(){if(this.step&&this.totalSteps)return M("quickInput.steps","{0}/{1}",this.step,this.totalSteps);if(this.step)return String(this.step);return""}showMessageDecoration(J){if(this.ui.inputBox.showDecoration(J),J!==y6.Ignore){let $=this.ui.inputBox.stylesForType(J);this.ui.message.style.color=$.foreground?`${$.foreground}`:"",this.ui.message.style.backgroundColor=$.background?`${$.background}`:"",this.ui.message.style.border=$.border?`1px solid ${$.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};KV.noPromptMessage=M("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");UU=class UU extends KV{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new p),this.onWillAcceptEmitter=this._register(new p),this.onDidAcceptEmitter=this._register(new p),this.onDidCustomEmitter=this._register(new p),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=c4.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new p),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new p),this.onDidTriggerItemButtonEmitter=this._register(new p),this.onDidTriggerSeparatorButtonEmitter=this._register(new p),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=(J)=>J,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(J){this._quickNavigate=J,this.update()}get value(){return this._value}set value(J){this.doSetValue(J)}doSetValue(J,$){if(this._value!==J){if(this._value=J,!$)this.update();if(this.visible){if(this.ui.list.filter(this.filterValue(this._value)))this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(J){this._ariaLabel=J,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(J){this.ui.list.scrollTop=J}set items(J){this._items=J,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(J){this._canSelectMany=J,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(J){this._canAcceptInBackground=J}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(J){this._matchOnDescription=J,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(J){this._matchOnDetail=J,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(J){this._matchOnLabel=J,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(J){this._matchOnLabelMode=J,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(J){this._sortByLabel=J,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(J){this._keepScrollPosition=J}get itemActivation(){return this._itemActivation}set itemActivation(J){this._itemActivation=J}get activeItems(){return this._activeItems}set activeItems(J){this._activeItems=J,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(J){this._selectedItems=J,this.selectedItemsUpdated=!0,this.update()}get keyMods(){if(this._quickNavigate)return zi;return this.ui.keyMods}set valueSelection(J){this._valueSelection=J,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(J){this._customButton=J,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(J){this._customButtonLabel=J,this.update()}get customHover(){return this._customButtonHover}set customHover(J){this._customButtonHover=J,this.update()}get ok(){return this._ok}set ok(J){this._ok=J,this.update()}get hideInput(){return!!this._hideInput}set hideInput(J){this._hideInput=J,this.update()}trySelectFirst(){if(!this.canSelectMany)this.ui.list.focus(f5.First)}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{this.doSetValue(J,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((J)=>{switch(J.keyCode){case 18:if(this.ui.list.focus(f5.Next),this.canSelectMany)this.ui.list.domFocus();o0.stop(J,!0);break;case 16:if(this.ui.list.getFocusedElements().length)this.ui.list.focus(f5.Previous);else this.ui.list.focus(f5.Last);if(this.canSelectMany)this.ui.list.domFocus();o0.stop(J,!0);break;case 12:if(this.ui.list.focus(f5.NextPage),this.canSelectMany)this.ui.list.domFocus();o0.stop(J,!0);break;case 11:if(this.ui.list.focus(f5.PreviousPage),this.canSelectMany)this.ui.list.domFocus();o0.stop(J,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0);break;case 14:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(f5.First),o0.stop(J,!0);break;case 13:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(f5.Last),o0.stop(J,!0);break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{if(this.canSelectMany){if(!this.ui.list.getCheckedElements().length)this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)}else if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems);this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((J)=>{if(this.activeItemsUpdated)return;if(this.activeItemsToConfirm!==this._activeItems&&B6(J,this._activeItems,($,Q)=>$===Q))return;this._activeItems=J,this.onDidChangeActiveEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:J,event:$})=>{if(this.canSelectMany){if(J.length)this.ui.list.setSelectedElements([]);return}if(this.selectedItemsToConfirm!==this._selectedItems&&B6(J,this._selectedItems,(Q,X)=>Q===X))return;if(this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J),J.length)this.handleAccept(V3($)&&$.button===1)})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((J)=>{if(!this.canSelectMany)return;if(this.selectedItemsToConfirm!==this._selectedItems&&B6(J,this._selectedItems,($,Q)=>$===Q))return;this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onButtonTriggered((J)=>this.onDidTriggerItemButtonEmitter.fire(J))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((J)=>this.onDidTriggerSeparatorButtonEmitter.fire(J))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0;super.show()}handleAccept(J){let $=!1;if(this.onWillAcceptEmitter.fire({veto:()=>$=!0}),!$)this.onDidAcceptEmitter.fire({inBackground:J})}registerQuickNavigation(){return t(this.ui.container,W0.KEY_UP,(J)=>{if(this.canSelectMany||!this._quickNavigate)return;let $=new _1(J),Q=$.keyCode;if(this._quickNavigate.keybindings.some((Z)=>{let G=Z.getChords();if(G.length>1)return!1;if(G[0].shiftKey&&Q===4){if($.ctrlKey||$.altKey||$.metaKey)return!1;return!0}if(G[0].altKey&&Q===6)return!0;if(G[0].ctrlKey&&Q===5)return!0;if(G[0].metaKey&&Q===57)return!0;return!1})){if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1);this._quickNavigate=void 0}})}update(){if(!this.visible)return;let J=this.keepScrollPosition?this.scrollTop:0,$=!!this.description,Q={title:!!this.title||!!this.step||!!this.buttons.length,description:$,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||$,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(Q),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";let X=this.ariaLabel;if(!X&&Q.inputBox){if(X=this.placeholder||UU.DEFAULT_ARIA_LABEL,this.title)X+=` - ${this.title}`}if(this.ui.list.ariaLabel!==X)this.ui.list.ariaLabel=X!==null&&X!==void 0?X:null;if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case c4.NONE:this._itemActivation=c4.FIRST;break;case c4.SECOND:this.ui.list.focus(f5.Second),this._itemActivation=c4.FIRST;break;case c4.LAST:this.ui.list.focus(f5.Last),this._itemActivation=c4.FIRST;break;default:this.trySelectFirst();break}if(this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany)if(this.canSelectMany)this.ui.list.clearFocus();else this.trySelectFirst();if(this.activeItemsUpdated){if(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems)this.activeItemsToConfirm=null}if(this.selectedItemsUpdated){if(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany)this.ui.list.setCheckedElements(this.selectedItems);else this.ui.list.setSelectedElements(this.selectedItems);if(this.selectedItemsToConfirm===this._selectedItems)this.selectedItemsToConfirm=null}if(this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",!Q.inputBox){if(this.ui.list.domFocus(),this.canSelectMany)this.ui.list.focus(f5.First)}if(this.keepScrollPosition)this.scrollTop=J}};UU.DEFAULT_ARIA_LABEL=M("quickInputBox.ariaLabel","Type to narrow down results.");UI=class UI extends KV{constructor(){super(...arguments);this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new p),this.onDidAcceptEmitter=this._register(new p),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(J){this._value=J||"",this.update()}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get password(){return this._password}set password(J){this._password=J,this.update()}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{if(J===this.value)return;this._value=J,this.onDidValueChangeEmitter.fire(J)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0;super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");let J={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};if(this.ui.setVisibilities(J),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";if(this.ui.inputBox.password!==this.password)this.ui.inputBox.password=this.password}}});var Ii=E(()=>{_0(".monaco-text-button{box-sizing:border-box;text-align:center;cursor:pointer;border:1px solid var(--vscode-button-border,transparent);border-radius:2px;justify-content:center;align-items:center;width:100%;padding:4px;line-height:18px;display:flex}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled:focus,.monaco-button.disabled{cursor:default;opacity:.4!important}.monaco-text-button .codicon{margin:0 .2em;color:inherit!important}.monaco-text-button.monaco-text-button-with-short-label{flex-flow:wrap;height:28px;padding:0 4px;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label{flex-basis:100%}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{flex-grow:1;width:0;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label,.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{font-weight:400;font-style:inherit;justify-content:center;align-items:center;padding:4px 0;display:flex}.monaco-button-dropdown{cursor:pointer;display:flex}.monaco-button-dropdown.disabled{cursor:default}.monaco-button-dropdown>.monaco-button:focus{outline-offset:-1px!important}.monaco-button-dropdown.disabled>.monaco-button.disabled,.monaco-button-dropdown.disabled>.monaco-button.disabled:focus,.monaco-button-dropdown.disabled>.monaco-button-dropdown-separator{opacity:.4!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-right-width:0!important}.monaco-button-dropdown .monaco-button-dropdown-separator{cursor:default;padding:4px 0}.monaco-button-dropdown .monaco-button-dropdown-separator>div{width:1px;height:100%}.monaco-button-dropdown>.monaco-button.monaco-dropdown-button{border:1px solid var(--vscode-button-border,transparent);border-radius:0 2px 2px 0;align-items:center;display:flex;border-left-width:0!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-radius:2px 0 0 2px}.monaco-description-button{flex-direction:column;align-items:center;margin:4px 5px;display:flex}.monaco-description-button .monaco-button-description{padding:4px 20px;font-size:11px;font-style:italic}.monaco-description-button .monaco-button-label,.monaco-description-button .monaco-button-description{justify-content:center;align-items:center;display:flex}.monaco-description-button .monaco-button-label>.codicon,.monaco-description-button .monaco-button-description>.codicon{margin:0 .2em;color:inherit!important}.monaco-button.default-colors,.monaco-button-dropdown.default-colors>.monaco-button{color:var(--vscode-button-foreground);background-color:var(--vscode-button-background)}.monaco-button.default-colors:hover,.monaco-button-dropdown.default-colors>.monaco-button:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-button.default-colors.secondary,.monaco-button-dropdown.default-colors>.monaco-button.secondary{color:var(--vscode-button-secondaryForeground);background-color:var(--vscode-button-secondaryBackground)}.monaco-button.default-colors.secondary:hover,.monaco-button-dropdown.default-colors>.monaco-button.secondary:hover{background-color:var(--vscode-button-secondaryHoverBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator{background-color:var(--vscode-button-background);border-top:1px solid var(--vscode-button-border);border-bottom:1px solid var(--vscode-button-border)}.monaco-button-dropdown.default-colors .monaco-button.secondary+.monaco-button-dropdown-separator{background-color:var(--vscode-button-secondaryBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator>div{background-color:var(--vscode-button-separator)}")});var os0,zU;var jI=E(()=>{x0();MF();k8();KP();J4();o2();a7();E0();e2();B0();N5();Ii();os0={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:X0.white.toString(),buttonForeground:X0.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};zU=class zU extends r{get onDidClick(){return this._onDidClick.event}constructor(J,$){super();this._label="",this._onDidClick=this._register(new p),this.options=$,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!$.secondary);let Q=$.secondary?$.buttonSecondaryBackground:$.buttonBackground,X=$.secondary?$.buttonSecondaryForeground:$.buttonForeground;if(this._element.style.color=X||"",this._element.style.backgroundColor=Q||"",$.supportShortLabel)this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label");if(typeof $.ariaLabel==="string")this._element.setAttribute("aria-label",$.ariaLabel);J.appendChild(this._element),this._register(b1.addTarget(this._element)),[W0.CLICK,f1.Tap].forEach((Y)=>{this._register(t(this._element,Y,(Z)=>{if(!this.enabled){o0.stop(Z);return}this._onDidClick.fire(Z)}))}),this._register(t(this._element,W0.KEY_DOWN,(Y)=>{let Z=new _1(Y),G=!1;if(this.enabled&&(Z.equals(3)||Z.equals(10)))this._onDidClick.fire(Y),G=!0;else if(Z.equals(9))this._element.blur(),G=!0;if(G)o0.stop(Z,!0)})),this._register(t(this._element,W0.MOUSE_OVER,(Y)=>{if(!this._element.classList.contains("disabled"))this.updateBackground(!0)})),this._register(t(this._element,W0.MOUSE_OUT,(Y)=>{this.updateBackground(!1)})),this.focusTracker=this._register(vQ(this._element)),this._register(this.focusTracker.onDidFocus(()=>{if(this.enabled)this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{if(this.enabled)this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(J){let $=[];for(let Q of p4(J))if(typeof Q==="string"){if(Q=Q.trim(),Q==="")continue;let X=document.createElement("span");X.textContent=Q,$.push(X)}else $.push(Q);return $}updateBackground(J){let $;if(this.options.secondary)$=J?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground;else $=J?this.options.buttonHoverBackground:this.options.buttonBackground;if($)this._element.style.backgroundColor=$}get element(){return this._element}set label(J){var $;if(this._label===J)return;if(_X(this._label)&&_X(J)&&ud(this._label,J))return;this._element.classList.add("monaco-text-button");let Q=this.options.supportShortLabel?this._labelElement:this._element;if(_X(J)){let X=Sq(J,{inline:!0});X.dispose();let Y=($=X.element.querySelector("p"))===null||$===void 0?void 0:$.innerHTML;if(Y){let Z=DF(Y,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});Q.innerHTML=Z}else w5(Q)}else if(this.options.supportIcons)w5(Q,...this.getContentElements(J));else Q.textContent=J;if(typeof this.options.title==="string")this._element.title=this.options.title;else if(this.options.title)this._element.title=ad(J);if(typeof this.options.ariaLabel==="string")this._element.setAttribute("aria-label",this.options.ariaLabel);else if(this.options.ariaLabel)this._element.setAttribute("aria-label",this._element.title);this._label=J}get label(){return this._label}set icon(J){this._element.classList.add(...c0.asClassNameArray(J))}set enabled(J){if(J)this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0;else this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0))}get enabled(){return!this._element.classList.contains("disabled")}}});var yi=E(()=>{_0(".monaco-count-badge{text-align:center;box-sizing:border-box;border-radius:11px;min-width:18px;min-height:18px;padding:3px 6px;font-size:11px;font-weight:400;line-height:11px;display:inline-block}.monaco-count-badge.long{border-radius:2px;min-height:auto;padding:2px 3px;line-height:normal}")});class wD{constructor(J,$,Q){this.options=$,this.styles=Q,this.count=0,this.element=P0(J,M0(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(J){this.count=J,this.render()}setTitleFormat(J){this.titleFormat=J,this.render()}render(){var J,$;if(this.element.textContent=tX(this.countFormat,this.count),this.element.title=tX(this.titleFormat,this.count),this.element.style.backgroundColor=(J=this.styles.badgeBackground)!==null&&J!==void 0?J:"",this.element.style.color=($=this.styles.badgeForeground)!==null&&$!==void 0?$:"",this.styles.badgeBorder)this.element.style.border=`1px solid ${this.styles.badgeBorder}`}}var xi=E(()=>{x0();G1();yi()});var bi=E(()=>{_0(".monaco-progress-container{width:100%;height:2px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:2px;display:none;position:absolute;left:0}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{transition:width .1s linear;left:0}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;transform:translate(0,0)}.monaco-progress-container.infinite.infinite-long-running .progress-bit{animation-timing-function:steps(100,end)}@keyframes progress{0%{transform:translate(0%)scaleX(1)}50%{transform:translate(2500%)scaleX(3)}to{transform:translate(4900%)scaleX(1)}}")});var Si="done",Ci="active",VI="infinite",WI="infinite-long-running",vi="discrete",AV;var hi=E(()=>{x0();J6();B0();bi();AV=class AV extends r{constructor(J,$){super();this.workedVal=0,this.showDelayedScheduler=this._register(new z6(()=>p7(this.element),0)),this.longRunningScheduler=this._register(new z6(()=>this.infiniteLongRunning(),AV.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(J,$)}create(J,$){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),J.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=($===null||$===void 0?void 0:$.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Ci,VI,WI,vi),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(J){if(this.element.classList.add(Si),!this.element.classList.contains(VI))if(this.bit.style.width="inherit",J)setTimeout(()=>this.off(),200);else this.off();else if(this.bit.style.opacity="0",J)setTimeout(()=>this.off(),200);else this.off();return this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(vi,Si,WI),this.element.classList.add(Ci,VI),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(WI)}getContainer(){return this.element}};AV.LONG_RUNNING_INFINITE_THRESHOLD=1e4});var V$0,BI;var fi=E(()=>{x0();eP();B0();fY();VV();V$0=M0;BI=class BI extends r{constructor(J,$,Q){super();this.parent=J,this.onKeyDown=(Y)=>{return q6(this.findInput.inputBox.inputElement,W0.KEY_DOWN,Y)},this.onDidChange=(Y)=>{return this.findInput.onDidChange(Y)},this.container=P0(this.parent,V$0(".quick-input-box")),this.findInput=this._register(new QU(this.container,void 0,{label:"",inputBoxStyles:$,toggleStyles:Q}));let X=this.findInput.inputBox.inputElement;X.role="combobox",X.ariaHasPopup="menu",X.ariaAutoComplete="list",X.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(J){this.findInput.setValue(J)}select(J=null){this.findInput.inputBox.select(J)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(J){this.findInput.inputBox.setPlaceHolder(J)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(J){this.findInput.inputBox.inputElement.type=J?"password":"text"}set enabled(J){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!J)}set toggles(J){this.findInput.setAdditionalToggles(J)}setAttribute(J,$){this.findInput.inputBox.inputElement.setAttribute(J,$)}showDecoration(J){if(J===y6.Ignore)this.findInput.clearMessage();else this.findInput.showMessage({type:J===y6.Info?1:J===y6.Warning?2:3,content:""})}stylesForType(J){return this.findInput.inputBox.stylesForType(J===y6.Info?1:J===y6.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}});var Y9,PV;var gi=E(()=>{x0();JQ();jI();xi();hi();z8();E0();B0();fY();a0();jV();fi();qI();HI();H8();Y9=M0;PV=class PV extends r{constructor(J,$,Q){super();this.options=J,this.themeService=$,this.layoutService=Q,this.enabled=!0,this.onDidAcceptEmitter=this._register(new p),this.onDidCustomEmitter=this._register(new p),this.onDidTriggerButtonEmitter=this._register(new p),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new p),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new p),this.onHide=this.onHideEmitter.event,this.idPrefix=J.idPrefix,this.parentElement=J.container,this.styles=J.styles,this._register(V0.runAndSubscribe(J2,({window:X,disposables:Y})=>this.registerKeyModsListeners(X,Y),{window:F1,disposables:this._store})),this._register(LC((X)=>{if(this.ui&&L0(this.ui.container)===X)this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(J,$){let Q=(X)=>{this.keyMods.ctrlCmd=X.ctrlKey||X.metaKey,this.keyMods.alt=X.altKey};for(let X of[W0.KEY_DOWN,W0.KEY_UP,W0.MOUSE_DOWN])$.add(t(J,X,Q,!0))}getUI(J){if(this.ui){if(J){if(this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument)this.reparentUI(this.layoutService.activeContainer)}return this.ui}let $=P0(this.parentElement,Y9(".quick-input-widget.show-file-icons"));$.tabIndex=-1,$.style.display="none";let Q=b5($),X=P0($,Y9(".quick-input-titlebar")),Y=this._register(new R8(X,{hoverDelegate:this.options.hoverDelegate}));Y.domNode.classList.add("quick-input-left-action-bar");let Z=P0(X,Y9(".quick-input-title")),G=this._register(new R8(X,{hoverDelegate:this.options.hoverDelegate}));G.domNode.classList.add("quick-input-right-action-bar");let q=P0($,Y9(".quick-input-header")),U=P0(q,Y9("input.quick-input-check-all"));U.type="checkbox",U.setAttribute("aria-label",M("quickInput.checkAll","Toggle all checkboxes")),this._register(q6(U,W0.CHANGE,(x)=>{let S=U.checked;I.setAllVisibleChecked(S)})),this._register(t(U,W0.CLICK,(x)=>{if(x.x||x.y)B.setFocus()}));let z=P0(q,Y9(".quick-input-description")),H=P0(q,Y9(".quick-input-and-message")),j=P0(H,Y9(".quick-input-filter")),B=this._register(new BI(j,this.styles.inputBox,this.styles.toggle));B.setAttribute("aria-describedby",`${this.idPrefix}message`);let V=P0(j,Y9(".quick-input-visible-count"));V.setAttribute("aria-live","polite"),V.setAttribute("aria-atomic","true");let W=new wD(V,{countFormat:M({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),K=P0(j,Y9(".quick-input-count"));K.setAttribute("aria-live","polite");let A=new wD(K,{countFormat:M({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),F=P0(q,Y9(".quick-input-action")),P=this._register(new zU(F,this.styles.button));P.label=M("ok","OK"),this._register(P.onDidClick((x)=>{this.onDidAcceptEmitter.fire()}));let R=P0(q,Y9(".quick-input-action")),D=this._register(new zU(R,{...this.styles.button,supportIcons:!0}));D.label=M("custom","Custom"),this._register(D.onDidClick((x)=>{this.onDidCustomEmitter.fire()}));let _=P0(H,Y9(`#${this.idPrefix}message.quick-input-message`)),O=this._register(new AV($,this.styles.progressBar));O.getContainer().classList.add("quick-input-progress");let N=P0($,Y9(".quick-input-html-widget"));N.tabIndex=-1;let w=P0($,Y9(".quick-input-description")),T=this.idPrefix+"list",I=this._register(new FV($,T,this.options,this.themeService));B.setAttribute("aria-controls",T),this._register(I.onDidChangeFocus(()=>{var x;B.setAttribute("aria-activedescendant",(x=I.getActiveDescendant())!==null&&x!==void 0?x:"")})),this._register(I.onChangedAllVisibleChecked((x)=>{U.checked=x})),this._register(I.onChangedVisibleCount((x)=>{W.setCount(x)})),this._register(I.onChangedCheckedCount((x)=>{A.setCount(x)})),this._register(I.onLeave(()=>{setTimeout(()=>{if(B.setFocus(),this.controller instanceof UU&&this.controller.canSelectMany)I.clearFocus()},0)}));let k=vQ($);return this._register(k),this._register(t($,W0.FOCUS,(x)=>{if(J5(x.relatedTarget,$))return;this.previousFocusElement=x.relatedTarget instanceof HTMLElement?x.relatedTarget:void 0},!0)),this._register(k.onDidBlur(()=>{if(!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut())this.hide(DG.Blur);this.previousFocusElement=void 0})),this._register(t($,W0.FOCUS,(x)=>{B.setFocus()})),this._register(q6($,W0.KEY_DOWN,(x)=>{if(J5(x.target,N))return;switch(x.keyCode){case 3:if(o0.stop(x,!0),this.enabled)this.onDidAcceptEmitter.fire();break;case 9:o0.stop(x,!0),this.hide(DG.Gesture);break;case 2:if(!x.altKey&&!x.ctrlKey&&!x.metaKey){let S=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if($.classList.contains("show-checkboxes"))S.push("input");else S.push("input[type=text]");if(this.getUI().list.isDisplayed())S.push(".monaco-list");if(this.getUI().message)S.push(".quick-input-message a");if(this.getUI().widget){if(J5(x.target,this.getUI().widget))break;S.push(".quick-input-html-widget")}let l=$.querySelectorAll(S.join(", "));if(x.shiftKey&&x.target===l[0])o0.stop(x,!0),I.clearFocus();else if(!x.shiftKey&&J5(x.target,l[l.length-1]))o0.stop(x,!0),l[0].focus()}break;case 10:if(x.ctrlKey)o0.stop(x,!0),this.getUI().list.toggleHover();break}})),this.ui={container:$,styleSheet:Q,leftActionBar:Y,titleBar:X,title:Z,description1:w,description2:z,widget:N,rightActionBar:G,checkAll:U,inputContainer:H,filterContainer:j,inputBox:B,visibleCountContainer:V,visibleCount:W,countContainer:K,count:A,okContainer:F,ok:P,message:_,customButtonContainer:R,customButton:D,list:I,progressBar:O,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:(x)=>this.show(x),hide:()=>this.hide(),setVisibilities:(x)=>this.setVisibilities(x),setEnabled:(x)=>this.setEnabled(x),setContextKey:(x)=>this.options.setContextKey(x),linkOpenerDelegate:(x)=>this.options.linkOpenerDelegate(x)},this.updateStyles(),this.ui}reparentUI(J){if(this.ui)this.parentElement=J,P0(this.parentElement,this.ui.container)}pick(J,$={},Q=j5.None){return new Promise((X,Y)=>{let Z=(z)=>{var H;Z=X,(H=$.onKeyMods)===null||H===void 0||H.call($,G.keyMods),X(z)};if(Q.isCancellationRequested){Z(void 0);return}let G=this.createQuickPick(),q,U=[G,G.onDidAccept(()=>{if(G.canSelectMany)Z(G.selectedItems.slice()),G.hide();else{let z=G.activeItems[0];if(z)Z(z),G.hide()}}),G.onDidChangeActive((z)=>{let H=z[0];if(H&&$.onDidFocus)$.onDidFocus(H)}),G.onDidChangeSelection((z)=>{if(!G.canSelectMany){let H=z[0];if(H)Z(H),G.hide()}}),G.onDidTriggerItemButton((z)=>$.onDidTriggerItemButton&&$.onDidTriggerItemButton({...z,removeItem:()=>{let H=G.items.indexOf(z.item);if(H!==-1){let j=G.items.slice(),B=j.splice(H,1),V=G.activeItems.filter((K)=>K!==B[0]),W=G.keepScrollPosition;if(G.keepScrollPosition=!0,G.items=j,V)G.activeItems=V;G.keepScrollPosition=W}}})),G.onDidTriggerSeparatorButton((z)=>{var H;return(H=$.onDidTriggerSeparatorButton)===null||H===void 0?void 0:H.call($,z)}),G.onDidChangeValue((z)=>{if(q&&!z&&(G.activeItems.length!==1||G.activeItems[0]!==q))G.activeItems=[q]}),Q.onCancellationRequested(()=>{G.hide()}),G.onDidHide(()=>{h1(U),Z(void 0)})];G.title=$.title,G.canSelectMany=!!$.canPickMany,G.placeholder=$.placeHolder,G.ignoreFocusOut=!!$.ignoreFocusLost,G.matchOnDescription=!!$.matchOnDescription,G.matchOnDetail=!!$.matchOnDetail,G.matchOnLabel=$.matchOnLabel===void 0||$.matchOnLabel,G.quickNavigate=$.quickNavigate,G.hideInput=!!$.hideInput,G.contextKey=$.contextKey,G.busy=!0,Promise.all([J,$.activeItem]).then(([z,H])=>{if(q=H,G.busy=!1,G.items=z,G.canSelectMany)G.selectedItems=z.filter((j)=>j.type!=="separator"&&j.picked);if(q)G.activeItems=[q]}),G.show(),Promise.resolve(J).then(void 0,(z)=>{Y(z),G.hide()})})}createQuickPick(){let J=this.getUI(!0);return new UU(J)}createInputBox(){let J=this.getUI(!0);return new UI(J)}show(J){let $=this.getUI(!0);this.onShowEmitter.fire();let Q=this.controller;this.controller=J,Q===null||Q===void 0||Q.didHide(),this.setEnabled(!0),$.leftActionBar.clear(),$.title.textContent="",$.description1.textContent="",$.description2.textContent="",w5($.widget),$.rightActionBar.clear(),$.checkAll.checked=!1,$.inputBox.placeholder="",$.inputBox.password=!1,$.inputBox.showDecoration(y6.Ignore),$.visibleCount.setCount(0),$.count.setCount(0),w5($.message),$.progressBar.stop(),$.list.setElements([]),$.list.matchOnDescription=!1,$.list.matchOnDetail=!1,$.list.matchOnLabel=!0,$.list.sortByLabel=!0,$.ignoreFocusOut=!1,$.inputBox.toggles=void 0;let X=this.options.backKeybindingLabel();TD.tooltip=X?M("quickInput.backWithKeybinding","Back ({0})",X):M("quickInput.back","Back"),$.container.style.display="",this.updateLayout(),$.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(J){let $=this.getUI();$.title.style.display=J.title?"":"none",$.description1.style.display=J.description&&(J.inputBox||J.checkAll)?"":"none",$.description2.style.display=J.description&&!(J.inputBox||J.checkAll)?"":"none",$.checkAll.style.display=J.checkAll?"":"none",$.inputContainer.style.display=J.inputBox?"":"none",$.filterContainer.style.display=J.inputBox?"":"none",$.visibleCountContainer.style.display=J.visibleCount?"":"none",$.countContainer.style.display=J.count?"":"none",$.okContainer.style.display=J.ok?"":"none",$.customButtonContainer.style.display=J.customButton?"":"none",$.message.style.display=J.message?"":"none",$.progressBar.getContainer().style.display=J.progressBar?"":"none",$.list.display(!!J.list),$.container.classList.toggle("show-checkboxes",!!J.checkBox),$.container.classList.toggle("hidden-input",!J.inputBox&&!J.description),this.updateLayout()}setEnabled(J){if(J!==this.enabled){this.enabled=J;for(let $ of this.getUI().leftActionBar.viewItems)$.action.enabled=J;for(let $ of this.getUI().rightActionBar.viewItems)$.action.enabled=J;this.getUI().checkAll.disabled=!J,this.getUI().inputBox.enabled=J,this.getUI().ok.enabled=J,this.getUI().list.enabled=J}}hide(J){var $,Q;let X=this.controller;if(!X)return;let Y=($=this.ui)===null||$===void 0?void 0:$.container,Z=Y&&!EF(Y);if(this.controller=null,this.onHideEmitter.fire(),Y)Y.style.display="none";if(!Z){let G=this.previousFocusElement;while(G&&!G.offsetParent)G=(Q=G.parentElement)!==null&&Q!==void 0?Q:void 0;if(G===null||G===void 0?void 0:G.offsetParent)G.focus(),this.previousFocusElement=void 0;else this.options.returnFocus()}X.didHide(J)}layout(J,$){this.dimension=J,this.titleBarOffset=$,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;let J=this.ui.container.style,$=Math.min(this.dimension.width*0.62,PV.MAX_WIDTH);J.width=$+"px",J.marginLeft="-"+$/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*0.4)}}applyStyles(J){this.styles=J,this.updateStyles()}updateStyles(){if(this.ui){let{quickInputTitleBackground:J,quickInputBackground:$,quickInputForeground:Q,widgetBorder:X,widgetShadow:Y}=this.styles.widget;this.ui.titleBar.style.backgroundColor=J!==null&&J!==void 0?J:"",this.ui.container.style.backgroundColor=$!==null&&$!==void 0?$:"",this.ui.container.style.color=Q!==null&&Q!==void 0?Q:"",this.ui.container.style.border=X?`1px solid ${X}`:"",this.ui.container.style.boxShadow=Y?`0 0 8px 2px ${Y}`:"",this.ui.list.style(this.styles.list);let Z=[];if(this.styles.pickerGroup.pickerGroupBorder)Z.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }");if(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground){if(Z.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground)Z.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);if(this.styles.keybindingLabel.keybindingLabelBorder)Z.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);if(this.styles.keybindingLabel.keybindingLabelBottomBorder)Z.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);if(this.styles.keybindingLabel.keybindingLabelShadow)Z.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);if(this.styles.keybindingLabel.keybindingLabelForeground)Z.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);Z.push("}")}let G=Z.join(`
`);if(G!==this.ui.styleSheet.textContent)this.ui.styleSheet.textContent=G}}};PV.MAX_WIDTH=600});var W$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},HU=function(J,$){return function(Q,X){$(Q,X,J)}},LD;var pi=E(()=>{z8();E0();e1();n0();pY();$I();n2();Vi();iq();x8();G5();HI();gi();l8();YP();LD=class extends SN{get controller(){if(!this._controller)this._controller=this._register(this.createController());return this._controller}get hasController(){return!!this._controller}get quickAccess(){if(!this._quickAccess)this._quickAccess=this._register(this.instantiationService.createInstance(OD));return this._quickAccess}constructor($,Q,X,Y,Z,G){super(X);this.instantiationService=$,this.contextKeyService=Q,this.layoutService=Y,this.configurationService=Z,this.hoverService=G,this._onShow=this._register(new p),this._onHide=this._register(new p),this.contexts=new Map}createController($=this.layoutService,Q){let X={idPrefix:"quickInput_",container:$.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{return},setContextKey:(Z)=>this.setContextKey(Z),linkOpenerDelegate:(Z)=>{this.instantiationService.invokeFunction((G)=>{G.get(n$).open(Z,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>$.focus(),createList:(Z,G,q,U,z)=>this.instantiationService.createInstance(WD,Z,G,q,U,z),styles:this.computeStyles(),hoverDelegate:new zI(this.configurationService,this.hoverService)},Y=this._register(new PV({...X,...Q},this.themeService,this.layoutService));return Y.layout($.activeContainerDimension,$.activeContainerOffset.quickPickTop),this._register($.onDidLayoutActiveContainer((Z)=>Y.layout(Z,$.activeContainerOffset.quickPickTop))),this._register($.onDidChangeActiveContainer(()=>{if(Y.isVisible())return;Y.layout($.activeContainerDimension,$.activeContainerOffset.quickPickTop)})),this._register(Y.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(Y.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),Y}setContextKey($){let Q;if($){if(Q=this.contexts.get($),!Q)Q=new T0($,!1).bindTo(this.contextKeyService),this.contexts.set($,Q)}if(Q&&Q.get())return;this.resetContextKeys(),Q===null||Q===void 0||Q.set(!0)}resetContextKeys(){this.contexts.forEach(($)=>{if($.get())$.reset()})}pick($,Q={},X=j5.None){return this.controller.pick($,Q,X)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){if(this.hasController)this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:w0(e_),quickInputForeground:w0(cf),quickInputTitleBackground:w0(lf),widgetBorder:w0(Pf),widgetShadow:w0(N$)},inputBox:zE,toggle:UE,countBadge:La,button:Na,progressBar:Ta,keybindingLabel:_a,list:EX({listBackground:e_,listFocusBackground:y$,listFocusForeground:I$,listInactiveFocusForeground:I$,listInactiveSelectionIconForeground:tQ,listInactiveFocusBackground:y$,listFocusOutline:_6,listInactiveFocusOutline:_6}),pickerGroup:{pickerGroupBorder:w0(df),pickerGroupForeground:w0(NK)}}}};LD=W$0([HU(0,r0),HU(1,s0),HU(2,Z5),HU(3,_9),HU(4,p1),HU(5,Eq)],LD)});class jU{static get(J){return J.getContribution(jU.ID)}constructor(J){this.editor=J,this.widget=new ED(this.editor)}dispose(){this.widget.dispose()}}class ED{constructor(J){this.codeEditor=J,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ED.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var mi=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},tY=function(J,$){return function(Q,X){$(Q,X,J)}},FI,kD=class{get activeService(){let $=this.codeEditorService.getFocusedCodeEditor();if(!$)throw Error("Quick input service needs a focused editor to work.");let Q=this.mapEditorToService.get($);if(!Q){let X=Q=this.instantiationService.createInstance(FI,$);this.mapEditorToService.set($,Q),ZJ($.onDidDispose)(()=>{X.dispose(),this.mapEditorToService.delete($)})}return Q}get quickAccess(){return this.activeService.quickAccess}constructor($,Q){this.instantiationService=$,this.codeEditorService=Q,this.mapEditorToService=new Map}pick($,Q={},X=j5.None){return this.activeService.pick($,Q,X)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};var ui=E(()=>{oa();E0();u9();G5();z8();n0();e1();gL();V9();pi();l8();YP();FI=class extends LD{constructor($,Q,X,Y,Z,G,q){super(Q,X,Y,new aA($.getContainerDomNode(),Z),G,q);this.host=void 0;let U=jU.get($);if(U){let z=U.widget;this.host={_serviceBrand:void 0,get mainContainer(){return z.getDomNode()},getContainer(){return z.getDomNode()},get containers(){return[z.getDomNode()]},get activeContainer(){return z.getDomNode()},get mainContainerDimension(){return $.getLayoutInfo()},get activeContainerDimension(){return $.getLayoutInfo()},get onDidLayoutMainContainer(){return $.onDidLayoutChange},get onDidLayoutActiveContainer(){return $.onDidLayoutChange},get onDidLayoutContainer(){return V0.map($.onDidLayoutChange,(H)=>({container:z.getDomNode(),dimension:H}))},get onDidChangeActiveContainer(){return V0.None},get onDidAddContainer(){return V0.None},get whenActiveContainerStylesLoaded(){return Promise.resolve()},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>$.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};FI=mi([tY(1,r0),tY(2,s0),tY(3,Z5),tY(4,X6),tY(5,p1),tY(6,Eq)],FI);kD=mi([tY(0,r0),tY(1,X6)],kD);jU.ID="editor.controller.quickInput";ED.ID="editor.contrib.quickInputWidget";m9(jU.ID,jU,4)});class ci{constructor(J,$,Q,X,Y){this._parsedThemeRuleBrand=void 0,this.token=J,this.index=$,this.fontStyle=Q,this.foreground=X,this.background=Y}}function B$0(J){if(!J||!Array.isArray(J))return[];let $=[],Q=0;for(let X=0,Y=J.length;X<Y;X++){let Z=J[X],G=-1;if(typeof Z.fontStyle==="string"){G=0;let z=Z.fontStyle.split(" ");for(let H=0,j=z.length;H<j;H++)switch(z[H]){case"italic":G=G|1;break;case"bold":G=G|2;break;case"underline":G=G|4;break;case"strikethrough":G=G|8;break}}let q=null;if(typeof Z.foreground==="string")q=Z.foreground;let U=null;if(typeof Z.background==="string")U=Z.background;$[Q++]=new ci(Z.token||"",X,G,q,U)}return $}function F$0(J,$){J.sort((H,j)=>{let B=D$0(H.token,j.token);if(B!==0)return B;return H.index-j.index});let Q=0,X="000000",Y="ffffff";while(J.length>=1&&J[0].token===""){let H=J.shift();if(H.fontStyle!==-1)Q=H.fontStyle;if(H.foreground!==null)X=H.foreground;if(H.background!==null)Y=H.background}let Z=new li;for(let H of $)Z.getId(H);let G=Z.getId(X),q=Z.getId(Y),U=new KI(Q,G,q),z=new AI(U);for(let H=0,j=J.length;H<j;H++){let B=J[H];z.insert(B.token,B.fontStyle,Z.getId(B.foreground),Z.getId(B.background))}return new ID(Z,z)}class li{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(J){if(J===null)return 0;let $=J.match(K$0);if(!$)throw Error("Illegal value for token color: "+J);J=$[1].toUpperCase();let Q=this._color2id.get(J);if(Q)return Q;return Q=++this._lastColorId,this._color2id.set(J,Q),this._id2color[Q]=X0.fromHex("#"+J),Q}getColorMap(){return this._id2color.slice(0)}}class ID{static createFromRawTokenTheme(J,$){return this.createFromParsedTokenTheme(B$0(J),$)}static createFromParsedTokenTheme(J,$){return F$0(J,$)}constructor(J,$){this._colorMap=J,this._root=$,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(J){return this._root.match(J)}match(J,$){let Q=this._cache.get($);if(typeof Q>"u"){let X=this._match($),Y=P$0($);Q=(X.metadata|Y<<8)>>>0,this._cache.set($,Q)}return(Q|J<<0)>>>0}}function P$0(J){let $=J.match(A$0);if(!$)return 0;switch($[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw Error("Unexpected match for standard token type!")}function D$0(J,$){if(J<$)return-1;if(J>$)return 1;return 0}class KI{constructor(J,$,Q){this._themeTrieElementRuleBrand=void 0,this._fontStyle=J,this._foreground=$,this._background=Q,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new KI(this._fontStyle,this._foreground,this._background)}acceptOverwrite(J,$,Q){if(J!==-1)this._fontStyle=J;if($!==0)this._foreground=$;if(Q!==0)this._background=Q;this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class AI{constructor(J){this._themeTrieElementBrand=void 0,this._mainRule=J,this._children=new Map}match(J){if(J==="")return this._mainRule;let $=J.indexOf("."),Q,X;if($===-1)Q=J,X="";else Q=J.substring(0,$),X=J.substring($+1);let Y=this._children.get(Q);if(typeof Y<"u")return Y.match(X);return this._mainRule}insert(J,$,Q,X){if(J===""){this._mainRule.acceptOverwrite($,Q,X);return}let Y=J.indexOf("."),Z,G;if(Y===-1)Z=J,G="";else Z=J.substring(0,Y),G=J.substring(Y+1);let q=this._children.get(Z);if(typeof q>"u")q=new AI(this._mainRule.clone()),this._children.set(Z,q);q.insert(G,$,Q,X)}}function di(J){let $=[];for(let Q=1,X=J.length;Q<X;Q++){let Y=J[Q];$[Q]=`.mtk${Q} { color: ${Y}; }`}return $.push(".mtki { font-style: italic; }"),$.push(".mtkb { font-weight: bold; }"),$.push(".mtku { text-decoration: underline; text-underline-position: under; }"),$.push(".mtks { text-decoration: line-through; }"),$.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),$.join(`
`)}var K$0,A$0;var si=E(()=>{a7();K$0=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;A$0=/\b(comment|string|regex|regexp)\b/});var ai,ri,ii,ni;var oi=E(()=>{yJ();x8();ai={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[e5]:"#FFFFFE",[E$]:"#000000",[JN]:"#E5EBF1",[C2]:"#D3D3D3",[v2]:"#939393",[$N]:"#ADD6FF4D"}},ri={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[e5]:"#1E1E1E",[E$]:"#D4D4D4",[JN]:"#3A3D41",[C2]:"#404040",[v2]:"#707070",[$N]:"#ADD6FF26"}},ii={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[e5]:"#000000",[E$]:"#FFFFFF",[C2]:"#FFFFFF",[v2]:"#FFFFFF"}},ni={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[e5]:"#FFFFFF",[E$]:"#292929",[C2]:"#292929",[v2]:"#292929"}}});class $n{constructor(){this._onDidChange=new p,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:M("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:M("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${c0.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(J,$,Q,X){let Y=this.iconsById[J];if(Y){if(Q&&!Y.description){Y.description=Q,this.iconSchema.properties[J].markdownDescription=`${Q} $(${J})`;let q=this.iconReferenceSchema.enum.indexOf(J);if(q!==-1)this.iconReferenceSchema.enumDescriptions[q]=Q;this._onDidChange.fire()}return Y}let Z={id:J,description:Q,defaults:$,deprecationMessage:X};this.iconsById[J]=Z;let G={$ref:"#/definitions/icons"};if(X)G.deprecationMessage=X;if(Q)G.markdownDescription=`${Q}: $(${J})`;return this.iconSchema.properties[J]=G,this.iconReferenceSchema.enum.push(J),this.iconReferenceSchema.enumDescriptions.push(Q||""),this._onDidChange.fire(),{id:J}}getIcons(){return Object.keys(this.iconsById).map((J)=>this.iconsById[J])}getIcon(J){return this.iconsById[J]}getIconSchema(){return this.iconSchema}toString(){let J=(Y,Z)=>{return Y.id.localeCompare(Z.id)},$=(Y)=>{while(c0.isThemeIcon(Y.defaults))Y=this.iconsById[Y.defaults.id];return`codicon codicon-${Y?Y.id:""}`},Q=[];Q.push("| preview     | identifier                        | default codicon ID                | description"),Q.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let X=Object.keys(this.iconsById).map((Y)=>this.iconsById[Y]);for(let Y of X.filter((Z)=>!!Z.description).sort(J))Q.push(`|<i class="${$(Y)}"></i>|${Y.id}|${c0.isThemeIcon(Y.defaults)?Y.defaults.id:Y.id}|${Y.description||""}|`);Q.push("| preview     | identifier                        "),Q.push("| ----------- | --------------------------------- |");for(let Y of X.filter((Z)=>!c0.isThemeIcon(Z.defaults)).sort(J))Q.push(`|<i class="${$(Y)}"></i>|${Y.id}|`);return Q.join(`
`)}}function V7(J,$,Q,X){return RG.registerIcon(J,$,Q,X)}function PI(){return RG}function M$0(){let J=aW();for(let $ in J){let Q="\\"+J[$].toString(16);RG.registerIcon($,{fontCharacter:Q})}}var R$0,ti,ei,RG,Qn="vscode://schemas/icons",Xn,Jn,Dr0,Rr0,Mr0,Or0,_r0;var VU=E(()=>{J6();O5();N5();E0();V5();a0();mF();U7();R$0={IconContribution:"base.contributions.icons"};(function(J){function $(Q,X){let Y=Q.defaults;while(c0.isThemeIcon(Y)){let Z=RG.getIcon(Y.id);if(!Z)return;Y=Z.defaults}return Y}J.getDefinition=$})(ti||(ti={}));(function(J){function $(X){return{weight:X.weight,style:X.style,src:X.src.map((Y)=>({format:Y.format,location:Y.location.toString()}))}}J.toJSONObject=$;function Q(X){let Y=(Z)=>P5(Z)?Z:void 0;if(X&&Array.isArray(X.src)&&X.src.every((Z)=>P5(Z.format)&&P5(Z.location)))return{weight:Y(X.weight),style:Y(X.style),src:X.src.map((Z)=>({format:Z.format,location:m0.parse(Z.location)}))};return}J.fromJSONObject=Q})(ei||(ei={}));RG=new $n;G6.add(R$0.IconContribution,RG);M$0();Xn=G6.as(U2.JSONContribution);Xn.registerSchema(Qn,RG.getIconSchema());Jn=new z6(()=>Xn.notifySchemaChanged(Qn),200);RG.onDidChange(()=>{if(!Jn.isScheduled())Jn.schedule()});Dr0=V7("widget-close",O0.close,M("widgetClose","Icon for the close action in widgets.")),Rr0=V7("goto-previous-location",O0.arrowUp,M("previousChangeIcon","Icon for goto previous editor location.")),Mr0=V7("goto-next-location",O0.arrowDown,M("nextChangeIcon","Icon for goto next editor location.")),Or0=c0.modify(O0.sync,"spin"),_r0=c0.modify(O0.loading,"spin")});function Yn(J){let $=new q0,Q=$.add(new p),X=PI();if($.add(X.onDidChange(()=>Q.fire())),J)$.add(J.onDidProductIconThemeChange(()=>Q.fire()));return{dispose:()=>$.dispose(),onDidChange:Q.event,getCSS(){let Y=J?J.getProductIconTheme():new yD,Z={},G=(U)=>{let z=Y.getIcon(U);if(!z)return;let H=z.font;if(H)return Z[H.id]=H.definition,`.codicon-${U.id}:before { content: '${z.fontCharacter}'; font-family: ${RO(H.id)}; }`;return`.codicon-${U.id}:before { content: '${z.fontCharacter}'; }`},q=[];for(let U of X.getIcons()){let z=G(U);if(z)q.push(z)}for(let U in Z){let z=Z[U],H=z.weight?`font-weight: ${z.weight};`:"",j=z.style?`font-style: ${z.style};`:"",B=z.src.map((V)=>`${L4(V.location)} format('${V.format}')`).join(", ");q.push(`@font-face { src: ${B}; font-family: ${RO(U)};${H}${j} font-display: block; }`)}return q.join(`
`)}}}class yD{getIcon(J){let $=PI(),Q=J.defaults;while(c0.isThemeIcon(Q)){let X=$.getIcon(Q.id);if(!X)return;Q=X.defaults}return Q}}var Zn=E(()=>{x0();E0();B0();N5();VU()});class RI{constructor(J,$){this.semanticHighlighting=!1,this.themeData=$;let Q=$.base;if(J.length>0){if(bD(J))this.id=J;else this.id=Q+" "+J;this.themeName=J}else this.id=Q,this.themeName=Q;this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){if(this.themeData.inherit)this.colors=null,this._tokenTheme=null}getColors(){if(!this.colors){let J=new Map;for(let $ in this.themeData.colors)J.set($,X0.fromHex(this.themeData.colors[$]));if(this.themeData.inherit){let $=DI(this.themeData.base);for(let Q in $.colors)if(!J.has(Q))J.set(Q,X0.fromHex($.colors[Q]))}this.colors=J}return this.colors}getColor(J,$){let Q=this.getColors().get(J);if(Q)return Q;if($!==!1)return this.getDefault(J);return}getDefault(J){let $=this.defaultColors[J];if($)return $;return $=Gn.resolveDefaultColor(J,this),this.defaultColors[J]=$,$}defines(J){return this.getColors().has(J)}get type(){switch(this.base){case eY:return o7.LIGHT;case WU:return o7.HIGH_CONTRAST_DARK;case BU:return o7.HIGH_CONTRAST_LIGHT;default:return o7.DARK}}get tokenTheme(){if(!this._tokenTheme){let J=[],$=[];if(this.themeData.inherit){let Y=DI(this.themeData.base);if(J=Y.rules,Y.encodedTokensColors)$=Y.encodedTokensColors}let Q=this.themeData.colors["editor.foreground"],X=this.themeData.colors["editor.background"];if(Q||X){let Y={token:""};if(Q)Y.foreground=Q;if(X)Y.background=X;J.push(Y)}if(J=J.concat(this.themeData.rules),this.themeData.encodedTokensColors)$=this.themeData.encodedTokensColors;this._tokenTheme=ID.createFromRawTokenTheme(J,$)}return this._tokenTheme}getTokenStyleMetadata(J,$,Q){let Y=this.tokenTheme._match([J].concat($).join(".")).metadata,Z=t5.getForeground(Y),G=t5.getFontStyle(Y);return{foreground:Z,italic:Boolean(G&1),bold:Boolean(G&2),underline:Boolean(G&4),strikethrough:Boolean(G&8)}}}function bD(J){return J===eY||J===DV||J===WU||J===BU}function DI(J){switch(J){case eY:return ai;case DV:return ri;case WU:return ii;case BU:return ni}}function xD(J){let $=DI(J);return new RI(J,$)}var eY="vs",DV="vs-dark",WU="hc-black",BU="hc-light",Gn,O$0,MI;var qn=E(()=>{x0();M7();a7();E0();w8();si();oi();U7();x8();G5();B0();eQ();Zn();H8();Gn=G6.as(t_.ColorContribution),O$0=G6.as(bN.ThemingContribution);MI=class MI extends r{constructor(){super();this._onColorThemeChange=this._register(new p),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new p),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new yD,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(eY,xD(eY)),this._knownThemes.set(DV,xD(DV)),this._knownThemes.set(WU,xD(WU)),this._knownThemes.set(BU,xD(BU));let J=this._register(Yn(this));this._codiconCSS=J.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(eY),this._onOSSchemeChanged(),this._register(J.onDidChange(()=>{this._codiconCSS=J.getCSS(),this._updateCSS()})),pM(F1,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(J){if(Q2(J))return this._registerShadowDomContainer(J);return this._registerRegularEditorContainer()}_registerRegularEditorContainer(){if(!this._globalStyleElement)this._globalStyleElement=b5(void 0,(J)=>{J.className="monaco-colors",J.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement);return r.None}_registerShadowDomContainer(J){let $=b5(J,(Q)=>{Q.className="monaco-colors",Q.textContent=this._allCSS});return this._styleElements.push($),{dispose:()=>{for(let Q=0;Q<this._styleElements.length;Q++)if(this._styleElements[Q]===$){this._styleElements.splice(Q,1);return}}}}defineTheme(J,$){if(!/^[a-z0-9\-]+$/i.test(J))throw Error("Illegal theme name!");if(!bD($.base)&&!bD(J))throw Error("Illegal theme base!");if(this._knownThemes.set(J,new RI(J,$)),bD(J))this._knownThemes.forEach((Q)=>{if(Q.base===J)Q.notifyBaseUpdated()});if(this._theme.themeName===J)this.setTheme(J)}getColorTheme(){return this._theme}setColorMapOverride(J){this._colorMapOverride=J,this._updateThemeOrColorMap()}setTheme(J){let $;if(this._knownThemes.has(J))$=this._knownThemes.get(J);else $=this._knownThemes.get(eY);this._updateActualTheme($)}_updateActualTheme(J){if(!J||this._theme===J)return;this._theme=J,this._updateThemeOrColorMap()}_onOSSchemeChanged(){if(this._autoDetectHighContrast){let J=F1.matchMedia("(forced-colors: active)").matches;if(J!==S4(this._theme.type)){let $;if(E2(this._theme.type))$=J?WU:DV;else $=J?BU:eY;this._updateActualTheme(this._knownThemes.get($))}}}setAutoDetectHighContrast(J){this._autoDetectHighContrast=J,this._onOSSchemeChanged()}_updateThemeOrColorMap(){let J=[],$={},Q={addRule:(Z)=>{if(!$[Z])J.push(Z),$[Z]=!0}};O$0.getThemingParticipants().forEach((Z)=>Z(this._theme,Q,this._environment));let X=[];for(let Z of Gn.getColors()){let G=this._theme.getColor(Z.id,!0);if(G)X.push(`${OK(Z.id)}: ${G.toString()};`)}Q.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${X.join(`
`)} }`);let Y=this._colorMapOverride||this._theme.tokenTheme.getColorMap();Q.addRule(di(Y)),this._themeCSS=J.join(`
`),this._updateCSS(),Q6.setColorMap(Y),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach((J)=>J.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}});var I7;var RV=E(()=>{n0();I7=b0("themeService")});var _$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},OI=function(J,$){return function(Q,X){$(Q,X,J)}},SD;var Un=E(()=>{x0();H8();E0();B0();RJ();l8();e1();pY();SD=class extends r{constructor($,Q,X){super();this._contextKeyService=$,this._layoutService=Q,this._configurationService=X,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new p,this._onDidChangeReducedMotion=new p,this._accessibilityModeEnabledContext=$f.bindTo(this._contextKeyService);let Y=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((G)=>{if(G.affectsConfiguration("editor.accessibilitySupport"))Y(),this._onDidChangeScreenReaderOptimized.fire();if(G.affectsConfiguration("workbench.reduceMotion"))this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire()})),Y(),this._register(this.onDidChangeScreenReaderOptimized(()=>Y()));let Z=F1.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Z.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Z)}initReducedMotionListeners($){this._register(t($,"change",()=>{if(this._systemMotionReduced=$.matches,this._configMotionReduced==="auto")this._onDidChangeReducedMotion.fire()}));let Q=()=>{let X=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",X),this._layoutService.mainContainer.classList.toggle("enable-motion",!X)};Q(),this._register(this.onDidChangeReducedMotion(()=>Q()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){let $=this._configurationService.getValue("editor.accessibilitySupport");return $==="on"||$==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){let $=this._configMotionReduced;return $==="on"||$==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};SD=_$0([OI(0,s0),OI(1,_9),OI(2,p1)],SD)});function N$0(J,$,Q){let X=YC($)?$.submenu.id:$.id,Y=typeof $.title==="string"?$.title:$.title.value,Z=lZ({id:`hide/${J.id}/${X}`,label:M("hide.label","Hide '{0}'",Y),run(){Q.updateHidden(J,X,!0)}}),G=lZ({id:`toggle/${J.id}/${X}`,label:Y,get checked(){return!Q.isHidden(J,X)},run(){Q.updateHidden(J,X,!!this.checked)}});return{hide:Z,toggle:G,get isHidden(){return!G.checked}}}var hD=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},MG=function(J,$){return function(Q,X){$(Q,X,J)}},FU,JZ,CD=class{constructor($,Q){this._commandService=$,this._hiddenStates=new vD(Q)}createMenu($,Q,X){return new NI($,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...X},this._commandService,Q)}resetHiddenStates($){this._hiddenStates.reset($)}},vD,_I,NI=class{constructor($,Q,X,Y,Z){this._disposables=new q0,this._menuInfo=new _I($,Q,X.emitEventsForSubmenuChanges,Y,Z);let G=new z6(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},X.eventDebounceDelay);this._disposables.add(G),this._disposables.add(W$.onDidChangeMenu((H)=>{if(H.has($))G.schedule()}));let q=this._disposables.add(new q0),U=(H)=>{let j=!1,B=!1,V=!1;for(let W of H)if(j=j||W.isStructuralChange,B=B||W.isEnablementChange,V=V||W.isToggleChange,j&&B&&V)break;return{menu:this,isStructuralChange:j,isEnablementChange:B,isToggleChange:V}},z=()=>{q.add(Z.onDidChangeContext((H)=>{let j=H.affectsSome(this._menuInfo.structureContextKeys),B=H.affectsSome(this._menuInfo.preconditionContextKeys),V=H.affectsSome(this._menuInfo.toggledContextKeys);if(j||B||V)this._onDidChange.fire({menu:this,isStructuralChange:j,isEnablementChange:B,isToggleChange:V})})),q.add(Q.onDidChange((H)=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new Qz({onWillAddFirstListener:z,onDidRemoveLastListener:q.clear.bind(q),delay:X.eventDebounceDelay,merge:U}),this.onDidChange=this._onDidChange.event}getActions($){return this._menuInfo.createActionGroups($)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};var zn=E(()=>{J6();E0();B0();_4();G7();e1();Z7();rq();B1();a0();CD=hD([MG(0,T5),MG(1,gJ)],CD);vD=FU=class{constructor($){this._storageService=$,this._disposables=new q0,this._onDidChange=new p,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{let Q=$.get(FU._key,0,"{}");this._data=JSON.parse(Q)}catch(Q){this._data=Object.create(null)}this._disposables.add($.onDidChangeValue(0,FU._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{let Q=$.get(FU._key,0,"{}");this._data=JSON.parse(Q)}catch(Q){console.log("FAILED to read storage after UPDATE",Q)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault($,Q){var X;return(X=this._hiddenByDefaultCache.get(`${$.id}/${Q}`))!==null&&X!==void 0?X:!1}setDefaultState($,Q,X){this._hiddenByDefaultCache.set(`${$.id}/${Q}`,X)}isHidden($,Q){var X,Y;let Z=this._isHiddenByDefault($,Q),G=(Y=(X=this._data[$.id])===null||X===void 0?void 0:X.includes(Q))!==null&&Y!==void 0?Y:!1;return Z?!G:G}updateHidden($,Q,X){if(this._isHiddenByDefault($,Q))X=!X;let Z=this._data[$.id];if(!X){if(Z){let G=Z.indexOf(Q);if(G>=0)tx(Z,G);if(Z.length===0)delete this._data[$.id]}}else if(!Z)this._data[$.id]=[Q];else if(Z.indexOf(Q)<0)Z.push(Q);this._persist()}reset($){if($===void 0)this._data=Object.create(null),this._persist();else{for(let{id:Q}of $)if(this._data[Q])delete this._data[Q];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;let $=JSON.stringify(this._data);this._storageService.store(FU._key,$,0,0)}finally{this._ignoreChangeEvent=!1}}};vD._key="menu.hiddenCommands";vD=FU=hD([MG(0,gJ)],vD);_I=JZ=class{constructor($,Q,X,Y,Z){this._id=$,this._hiddenStates=Q,this._collectContextKeysForSubmenus=X,this._commandService=Y,this._contextKeyService=Z,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();let $=W$.getMenuItems(this._id),Q;$.sort(JZ._compareMenuItems);for(let X of $){let Y=X.group||"";if(!Q||Q[0]!==Y)Q=[Y,[]],this._menuGroups.push(Q);Q[1].push(X),this._collectContextKeys(X)}}_collectContextKeys($){if(JZ._fillInKbExprKeys($.when,this._structureContextKeys),G3($)){if($.command.precondition)JZ._fillInKbExprKeys($.command.precondition,this._preconditionContextKeys);if($.command.toggled){let Q=$.command.toggled.condition||$.command.toggled;JZ._fillInKbExprKeys(Q,this._toggledContextKeys)}}else if(this._collectContextKeysForSubmenus)W$.getMenuItems($.submenu).forEach(this._collectContextKeys,this)}createActionGroups($){let Q=[];for(let X of this._menuGroups){let[Y,Z]=X,G=[];for(let q of Z)if(this._contextKeyService.contextMatchesRules(q.when)){let U=G3(q);if(U)this._hiddenStates.setDefaultState(this._id,q.command.id,!!q.isHiddenByDefault);let z=N$0(this._id,U?q.command:q,this._hiddenStates);if(U)G.push(new M4(q.command,q.alt,$,z,this._contextKeyService,this._commandService));else{let H=new JZ(q.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups($),j=Y5.join(...H.map((B)=>B[1]));if(j.length>0)G.push(new oZ(q,z,j))}}if(G.length>0)Q.push([Y,G])}return Q}static _fillInKbExprKeys($,Q){if($)for(let X of $.keys())Q.add(X)}static _compareMenuItems($,Q){let X=$.group,Y=Q.group;if(X!==Y){if(!X)return 1;else if(!Y)return-1;if(X==="navigation")return-1;else if(Y==="navigation")return 1;let q=X.localeCompare(Y);if(q!==0)return q}let Z=$.order||0,G=Q.order||0;if(Z<G)return-1;else if(Z>G)return 1;return JZ._compareTitles(G3($)?$.command.title:$.title,G3(Q)?Q.command.title:Q.title)}static _compareTitles($,Q){let X=typeof $==="string"?$:$.original,Y=typeof Q==="string"?Q:Q.original;return X.localeCompare(Y)}};_I=JZ=hD([MG(3,T5),MG(4,s0)],_I);NI=hD([MG(3,T5),MG(4,s0)],NI)});var T$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Hn=function(J,$){return function(Q,X){$(Q,X,J)}},TI,MV;var jn=E(()=>{M7();x0();H8();J6();E0();XY();B0();pY();B9();MV=TI=class extends r{constructor($,Q){super();if(this.layoutService=$,this.logService=Q,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,f7||aB)this.installWebKitWriteTextWorkaround();this._register(V0.runAndSubscribe(J2,({window:X,disposables:Y})=>{Y.add(t(X.document,"copy",()=>this.clearResources()))},{window:F1,disposables:this._store}))}installWebKitWriteTextWorkaround(){let $=()=>{let Q=new Oz;if(this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled)this.webKitPendingClipboardWritePromise.cancel();this.webKitPendingClipboardWritePromise=Q,navigator.clipboard.write([new ClipboardItem({"text/plain":Q.p})]).catch(async(X)=>{if(!(X instanceof Error)||X.name!=="NotAllowedError"||!Q.isRejected)this.logService.error(X)})};this._register(V0.runAndSubscribe(this.layoutService.onDidAddContainer,({container:Q,disposables:X})=>{X.add(t(Q,"click",$)),X.add(t(Q,"keydown",$))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText($,Q){if(this.writeResources([]),Q){this.mapTextToType.set(Q,$);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete($);try{return await navigator.clipboard.writeText($)}catch(X){console.error(X)}this.fallbackWriteText($)}fallbackWriteText($){let Q=IF(),X=Q.activeElement,Y=Q.body.appendChild(M0("textarea",{"aria-hidden":!0}));if(Y.style.height="1px",Y.style.width="1px",Y.style.position="absolute",Y.value=$,Y.focus(),Y.select(),Q.execCommand("copy"),X instanceof HTMLElement)X.focus();Q.body.removeChild(Y)}async readText($){if($)return this.mapTextToType.get($)||"";try{return await navigator.clipboard.readText()}catch(Q){console.error(Q)}return""}async readFindText(){return this.findText}async writeFindText($){this.findText=$}async writeResources($){if($.length===0)this.clearResources();else this.resources=$,this.resourcesStateHash=await this.computeResourcesStateHash()}async readResources(){let $=await this.computeResourcesStateHash();if(this.resourcesStateHash!==$)this.clearResources();return this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;let $=await this.readText();return QY($.substring(0,TI.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};MV.MAX_RESOURCE_STATE_SOURCE_LENGTH=1000;MV=TI=T$0([Hn(0,_9),Hn(1,A5)],MV)});var $Z;var OV=E(()=>{n0();$Z=b0("clipboardService")});class gD{constructor(J,$){this._id=J,this._parent=$,this._value=Object.create(null),this._value._contextId=J}get value(){return{...this._value}}setValue(J,$){if(this._value[J]!==$)return this._value[J]=$,!0;return!1}removeValue(J){if(J in this._value)return delete this._value[J],!0;return!1}getValue(J){let $=this._value[J];if(typeof $>"u"&&this._parent)return this._parent.getValue(J);return $}}class Vn{constructor(J,$,Q){this._service=J,this._key=$,this._defaultValue=Q,this.reset()}set(J){this._service.setContext(this._key,J)}reset(){if(typeof this._defaultValue>"u")this._service.removeContext(this._key);else this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class wI{constructor(J){this.key=J}affectsSome(J){return J.has(this.key)}allKeysContainedIn(J){return this.affectsSome(J)}}class LI{constructor(J){this.keys=J}affectsSome(J){for(let $ of this.keys)if(J.has($))return!0;return!1}allKeysContainedIn(J){return this.keys.every(($)=>J.has($))}}class Wn{constructor(J){this.events=J}affectsSome(J){for(let $ of this.events)if($.affectsSome(J))return!0;return!1}allKeysContainedIn(J){return this.events.every(($)=>$.allKeysContainedIn(J))}}function k$0(J,$){return J.allKeysContainedIn(new Set(Object.keys($)))}function E$0(J){while(J){if(J.hasAttribute(_V)){let $=J.getAttribute(_V);if($)return parseInt($,10);return NaN}J=J.parentElement}return 0}function I$0(J,$,Q){J.get(s0).createKey(String($),y$0(Q))}function y$0(J){return IW(J,($)=>{if(typeof $==="object"&&$.$mid===1)return m0.revive($).toString();if($ instanceof m0)return $.toString();return})}var w$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},L$0=function(J,$){return function(Q,X){$(Q,X,J)}},_V="data-keybinding-context",OG,NV,kI,fD,Bn;var Fn=E(()=>{E0();b9();B0();P7();_P();V5();a0();G7();l8();e1();OG=class OG extends gD{constructor(){super(-1,null)}setValue(J,$){return!1}removeValue(J){return!1}getValue(J){return}};OG.INSTANCE=new OG;NV=class NV extends gD{constructor(J,$,Q){super(J,null);this._configurationService=$,this._values=TX.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((X)=>{if(X.source===7){let Y=Array.from(this._values,([Z])=>Z);this._values.clear(),Q.fire(new LI(Y))}else{let Y=[];for(let Z of X.affectedKeys){let G=`config.${Z}`,q=this._values.findSuperstr(G);if(q!==void 0)Y.push(...D1.map(q,([U])=>U)),this._values.deleteSuperstr(G);if(this._values.has(G))Y.push(G),this._values.delete(G)}Q.fire(new LI(Y))}})}dispose(){this._listener.dispose()}getValue(J){if(J.indexOf(NV._keyPrefix)!==0)return super.getValue(J);if(this._values.has(J))return this._values.get(J);let $=J.substr(NV._keyPrefix.length),Q=this._configurationService.getValue($),X=void 0;switch(typeof Q){case"number":case"boolean":case"string":X=Q;break;default:if(Array.isArray(Q))X=JSON.stringify(Q);else X=Q}return this._values.set(J,X),X}setValue(J,$){return super.setValue(J,$)}removeValue(J){return super.removeValue(J)}};NV._keyPrefix="config.";kI=class kI extends r{constructor(J){super();this._onDidChangeContext=this._register(new F4({merge:($)=>new Wn($)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=J}createKey(J,$){if(this._isDisposed)throw Error("AbstractContextKeyService has been disposed");return new Vn(this,J,$)}bufferChangeEvents(J){this._onDidChangeContext.pause();try{J()}finally{this._onDidChangeContext.resume()}}createScoped(J){if(this._isDisposed)throw Error("AbstractContextKeyService has been disposed");return new Bn(this,J)}contextMatchesRules(J){if(this._isDisposed)throw Error("AbstractContextKeyService has been disposed");let $=this.getContextValuesContainer(this._myContextId);return J?J.evaluate($):!0}getContextKeyValue(J){if(this._isDisposed)return;return this.getContextValuesContainer(this._myContextId).getValue(J)}setContext(J,$){if(this._isDisposed)return;let Q=this.getContextValuesContainer(this._myContextId);if(!Q)return;if(Q.setValue(J,$))this._onDidChangeContext.fire(new wI(J))}removeContext(J){if(this._isDisposed)return;if(this.getContextValuesContainer(this._myContextId).removeValue(J))this._onDidChangeContext.fire(new wI(J))}getContext(J){if(this._isDisposed)return OG.INSTANCE;return this.getContextValuesContainer(E$0(J))}dispose(){super.dispose(),this._isDisposed=!0}};fD=class extends kI{constructor($){super(0);this._contexts=new Map,this._lastContextId=0;let Q=this._register(new NV(this._myContextId,$,this._onDidChangeContext));this._contexts.set(this._myContextId,Q)}getContextValuesContainer($){if(this._isDisposed)return OG.INSTANCE;return this._contexts.get($)||OG.INSTANCE}createChildContext($=this._myContextId){if(this._isDisposed)throw Error("ContextKeyService has been disposed");let Q=++this._lastContextId;return this._contexts.set(Q,new gD(Q,this.getContextValuesContainer($))),Q}disposeContext($){if(!this._isDisposed)this._contexts.delete($)}};fD=w$0([L$0(0,p1)],fD);Bn=class Bn extends kI{constructor(J,$){super(J.createChildContext());if(this._parentChangeListener=this._register(new r5),this._parent=J,this._updateParentChangeListener(),this._domNode=$,this._domNode.hasAttribute(_V)){let Q="";if(this._domNode.classList)Q=Array.from(this._domNode.classList.values()).join(", ");console.error(`Element already has context attribute${Q?": "+Q:""}`)}this._domNode.setAttribute(_V,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((J)=>{let Q=this._parent.getContextValuesContainer(this._myContextId).value;if(!k$0(J,Q))this._onDidChangeContext.fire(J)})}dispose(){if(this._isDisposed)return;this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(_V),super.dispose()}getContextValuesContainer(J){if(this._isDisposed)return OG.INSTANCE;return this._parent.getContextValuesContainer(J)}createChildContext(J=this._myContextId){if(this._isDisposed)throw Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(J)}disposeContext(J){if(this._isDisposed)return;this._parent.disposeContext(J)}};O6.registerCommand("_setContext",I$0);O6.registerCommand({id:"getContextKeyInfo",handler(){return[...T0.all()].sort((J,$)=>J.key.localeCompare($.key))},metadata:{description:M("getContextKeyInfo","A command that returns information about context keys"),args:[]}});O6.registerCommand("_generateContextKeyInfo",function(){let J=[],$=new Set;for(let Q of T0.all())if(!$.has(Q.key))$.add(Q.key),J.push(Q);J.sort((Q,X)=>Q.key.localeCompare(X.key)),console.log(JSON.stringify(J,void 0,2))})});class Kn{constructor(J,$){this.key=J,this.data=$,this.incoming=new Map,this.outgoing=new Map}}class pD{constructor(J){this._hashFn=J,this._nodes=new Map}roots(){let J=[];for(let $ of this._nodes.values())if($.outgoing.size===0)J.push($);return J}insertEdge(J,$){let Q=this.lookupOrInsertNode(J),X=this.lookupOrInsertNode($);Q.outgoing.set(X.key,X),X.incoming.set(Q.key,Q)}removeNode(J){let $=this._hashFn(J);this._nodes.delete($);for(let Q of this._nodes.values())Q.outgoing.delete($),Q.incoming.delete($)}lookupOrInsertNode(J){let $=this._hashFn(J),Q=this._nodes.get($);if(!Q)Q=new Kn($,J),this._nodes.set($,Q);return Q}isEmpty(){return this._nodes.size===0}toString(){let J=[];for(let[$,Q]of this._nodes)J.push(`${$}
	(-> incoming)[${[...Q.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...Q.outgoing.keys()].join(",")}]
`);return J.join(`
`)}findCycleSlow(){for(let[J,$]of this._nodes){let Q=new Set([J]),X=this._findCycle($,Q);if(X)return X}return}_findCycle(J,$){for(let[Q,X]of J.outgoing){if($.has(Q))return[...$,Q].join(" -> ");$.add(Q);let Y=this._findCycle(X,$);if(Y)return Y;$.delete(Q)}return}}class TV{constructor(J=new CJ,$=!1,Q,X=x$0){var Y;this._services=J,this._strict=$,this._parent=Q,this._enableTracing=X,this._activeInstantiations=new Set,this._services.set(r0,this),this._globalGraph=X?(Y=Q===null||Q===void 0?void 0:Q._globalGraph)!==null&&Y!==void 0?Y:new pD((Z)=>Z):void 0}createChild(J){return new TV(J,this._strict,this,this._enableTracing)}invokeFunction(J,...$){let Q=y7.traceInvocation(this._enableTracing,J),X=!1;try{return J({get:(Z)=>{if(X)throw lG("service accessor is only valid during the invocation of its target method");let G=this._getOrCreateServiceInstance(Z,Q);if(!G)throw Error(`[invokeFunction] unknown service '${Z}'`);return G}},...$)}finally{X=!0,Q.stop()}}createInstance(J,...$){let Q,X;if(J instanceof P9)Q=y7.traceCreation(this._enableTracing,J.ctor),X=this._createInstance(J.ctor,J.staticArguments.concat($),Q);else Q=y7.traceCreation(this._enableTracing,J),X=this._createInstance(J,$,Q);return Q.stop(),X}_createInstance(J,$=[],Q){let X=R4.getServiceDependencies(J).sort((G,q)=>G.index-q.index),Y=[];for(let G of X){let q=this._getOrCreateServiceInstance(G.id,Q);if(!q)this._throwIfStrict(`[createInstance] ${J.name} depends on UNKNOWN service ${G.id}.`,!1);Y.push(q)}let Z=X.length>0?X[0].index:$.length;if($.length!==Z){console.trace(`[createInstance] First service dependency of ${J.name} at position ${Z+1} conflicts with ${$.length} static arguments`);let G=Z-$.length;if(G>0)$=$.concat(Array(G));else $=$.slice(0,Z)}return Reflect.construct(J,$.concat(Y))}_setServiceInstance(J,$){if(this._services.get(J)instanceof P9)this._services.set(J,$);else if(this._parent)this._parent._setServiceInstance(J,$);else throw Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(J){let $=this._services.get(J);if(!$&&this._parent)return this._parent._getServiceInstanceOrDescriptor(J);else return $}_getOrCreateServiceInstance(J,$){if(this._globalGraph&&this._globalGraphImplicitDependency)this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(J));let Q=this._getServiceInstanceOrDescriptor(J);if(Q instanceof P9)return this._safeCreateAndCacheServiceInstance(J,Q,$.branch(J,!0));else return $.branch(J,!1),Q}_safeCreateAndCacheServiceInstance(J,$,Q){if(this._activeInstantiations.has(J))throw Error(`illegal state - RECURSIVELY instantiating service '${J}'`);this._activeInstantiations.add(J);try{return this._createAndCacheServiceInstance(J,$,Q)}finally{this._activeInstantiations.delete(J)}}_createAndCacheServiceInstance(J,$,Q){var X;let Y=new pD((q)=>q.id.toString()),Z=0,G=[{id:J,desc:$,_trace:Q}];while(G.length){let q=G.pop();if(Y.lookupOrInsertNode(q),Z++>1000)throw new EI(Y);for(let U of R4.getServiceDependencies(q.desc.ctor)){let z=this._getServiceInstanceOrDescriptor(U.id);if(!z)this._throwIfStrict(`[createInstance] ${J} depends on ${U.id} which is NOT registered.`,!0);if((X=this._globalGraph)===null||X===void 0||X.insertEdge(String(q.id),String(U.id)),z instanceof P9){let H={id:U.id,desc:z,_trace:q._trace.branch(U.id,!0)};Y.insertEdge(q,H),G.push(H)}}}while(!0){let q=Y.roots();if(q.length===0){if(!Y.isEmpty())throw new EI(Y);break}for(let{data:U}of q){if(this._getServiceInstanceOrDescriptor(U.id)instanceof P9){let H=this._createServiceInstanceWithOwner(U.id,U.desc.ctor,U.desc.staticArguments,U.desc.supportsDelayedInstantiation,U._trace);this._setServiceInstance(U.id,H)}Y.removeNode(U)}}return this._getServiceInstanceOrDescriptor(J)}_createServiceInstanceWithOwner(J,$,Q=[],X,Y){if(this._services.get(J)instanceof P9)return this._createServiceInstance(J,$,Q,X,Y);else if(this._parent)return this._parent._createServiceInstanceWithOwner(J,$,Q,X,Y);else throw Error(`illegalState - creating UNKNOWN service instance ${$.name}`)}_createServiceInstance(J,$,Q=[],X,Y){if(!X)return this._createInstance($,Q,Y);else{let Z=new TV(void 0,this._strict,this,this._enableTracing);Z._globalGraphImplicitDependency=String(J);let G=new Map,q=new GO(()=>{let U=Z._createInstance($,Q,Y);for(let[z,H]of G){let j=U[z];if(typeof j==="function")for(let B of H)B.disposable=j.apply(U,B.listener)}return G.clear(),U});return new Proxy(Object.create(null),{get(U,z){if(!q.isInitialized){if(typeof z==="string"&&(z.startsWith("onDid")||z.startsWith("onWill"))){let B=G.get(z);if(!B)B=new l6,G.set(z,B);return(W,K,A)=>{if(q.isInitialized)return q.value[z](W,K,A);else{let F={listener:[W,K,A],disposable:void 0},P=B.push(F);return y0(()=>{var D;P(),(D=F.disposable)===null||D===void 0||D.dispose()})}}}}if(z in U)return U[z];let H=q.value,j=H[z];if(typeof j!=="function")return j;return j=j.bind(H),U[z]=j,j},set(U,z,H){return q.value[z]=H,!0},getPrototypeOf(U){return $.prototype}})}}_throwIfStrict(J,$){if($)console.warn(J);if(this._strict)throw Error(J)}}class y7{static traceInvocation(J,$){return!J?y7._None:new y7(2,$.name||Error().stack.split(`
`).slice(3,4).join(`
`))}static traceCreation(J,$){return!J?y7._None:new y7(1,$.name)}constructor(J,$){this.type=J,this.name=$,this._start=Date.now(),this._dep=[]}branch(J,$){let Q=new y7(3,J.toString());return this._dep.push([J,$,Q]),Q}stop(){let J=Date.now()-this._start;y7._totals+=J;let $=!1;function Q(Y,Z){let G=[],q=Array(Y+1).join("\t");for(let[U,z,H]of Z._dep)if(z&&H){$=!0,G.push(`${q}CREATES -> ${U}`);let j=Q(Y+1,H);if(j)G.push(j)}else G.push(`${q}uses -> ${U}`);return G.join(`
`)}let X=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${Q(1,this)}`,`DONE, took ${J.toFixed(2)}ms (grand total ${y7._totals.toFixed(2)}ms)`];if(J>2||$)y7.all.add(X.join(`
`))}}var x$0=!1,EI;var An=E(()=>{J6();T1();B0();n0();S9();EI=class EI extends Error{constructor(J){var $;super("cyclic dependency between services");this.message=($=J.findCycleSlow())!==null&&$!==void 0?$:`UNABLE to detect cycle, dumping graph: 
${J.toString()}`}};y7.all=new Set;y7._None=new class extends y7{constructor(){super(0,null)}stop(){}branch(){return this}};y7._totals=0});class Pn{constructor(){this._byResource=new l5,this._byOwner=new Map}set(J,$,Q){let X=this._byResource.get(J);if(!X)X=new Map,this._byResource.set(J,X);X.set($,Q);let Y=this._byOwner.get($);if(!Y)Y=new l5,this._byOwner.set($,Y);Y.set(J,Q)}get(J,$){let Q=this._byResource.get(J);return Q===null||Q===void 0?void 0:Q.get($)}delete(J,$){let Q=!1,X=!1,Y=this._byResource.get(J);if(Y)Q=Y.delete($);let Z=this._byOwner.get($);if(Z)X=Z.delete(J);if(Q!==X)throw Error("illegal state");return Q&&X}values(J){var $,Q,X,Y;if(typeof J==="string")return(Q=($=this._byOwner.get(J))===null||$===void 0?void 0:$.values())!==null&&Q!==void 0?Q:D1.empty();if(m0.isUri(J))return(Y=(X=this._byResource.get(J))===null||X===void 0?void 0:X.values())!==null&&Y!==void 0?Y:D1.empty();return D1.map(D1.concat(...this._byOwner.values()),(Z)=>Z[1])}}class Dn{constructor(J){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new l5,this._service=J,this._subscription=J.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(J){for(let $ of J){let Q=this._data.get($);if(Q)this._substract(Q);let X=this._resourceStats($);this._add(X),this._data.set($,X)}}_resourceStats(J){let $={errors:0,warnings:0,infos:0,unknowns:0};if(b$0.has(J.scheme))return $;for(let{severity:Q}of this._service.read({resource:J}))if(Q===X9.Error)$.errors+=1;else if(Q===X9.Warning)$.warnings+=1;else if(Q===X9.Info)$.infos+=1;else $.unknowns+=1;return $}_substract(J){this.errors-=J.errors,this.warnings-=J.warnings,this.infos-=J.infos,this.unknowns-=J.unknowns}_add(J){this.errors+=J.errors,this.warnings+=J.warnings,this.infos+=J.infos,this.unknowns+=J.unknowns}}class xX{constructor(){this._onMarkerChanged=new Qz({delay:0,merge:xX._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Pn,this._stats=new Dn(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(J,$){for(let Q of $||[])this.changeOne(J,Q,[])}changeOne(J,$,Q){if(wW(Q)){if(this._data.delete($,J))this._onMarkerChanged.fire([$])}else{let X=[];for(let Y of Q){let Z=xX._toMarker(J,$,Y);if(Z)X.push(Z)}this._data.set($,J,X),this._onMarkerChanged.fire([$])}}static _toMarker(J,$,Q){let{code:X,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:z,endColumn:H,relatedInformation:j,tags:B}=Q;if(!Z)return;return q=q>0?q:1,U=U>0?U:1,z=z>=q?z:q,H=H>0?H:U,{resource:$,owner:J,code:X,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:z,endColumn:H,relatedInformation:j,tags:B}}changeAll(J,$){let Q=[],X=this._data.values(J);if(X)for(let Y of X){let Z=D1.first(Y);if(Z)Q.push(Z.resource),this._data.delete(Z.resource,J)}if(y9($)){let Y=new l5;for(let{resource:Z,marker:G}of $){let q=xX._toMarker(J,Z,G);if(!q)continue;let U=Y.get(Z);if(!U)Y.set(Z,[q]),Q.push(Z);else U.push(q)}for(let[Z,G]of Y)this._data.set(Z,J,G)}if(Q.length>0)this._onMarkerChanged.fire(Q)}read(J=Object.create(null)){let{owner:$,resource:Q,severities:X,take:Y}=J;if(!Y||Y<0)Y=-1;if($&&Q){let Z=this._data.get(Q,$);if(!Z)return[];else{let G=[];for(let q of Z)if(xX._accept(q,X)){let U=G.push(q);if(Y>0&&U===Y)break}return G}}else if(!$&&!Q){let Z=[];for(let G of this._data.values())for(let q of G)if(xX._accept(q,X)){let U=Z.push(q);if(Y>0&&U===Y)return Z}return Z}else{let Z=this._data.values(Q!==null&&Q!==void 0?Q:$),G=[];for(let q of Z)for(let U of q)if(xX._accept(U,X)){let z=G.push(U);if(Y>0&&z===Y)return G}return G}}static _accept(J,$){return $===void 0||($&J.severity)===J.severity}static _merge(J){let $=new l5;for(let Q of J)for(let X of Q)$.set(X,!0);return Array.from($.keys())}}var b$0;var Rn=E(()=>{B1();E0();b9();AJ();K9();V5();eq();b$0=new Set([H1.inMemory,H1.vscodeSourceControl,H1.walkThrough,H1.walkThroughSnippet])});var II;var Mn=E(()=>{B0();Sk();H2();U7();II=class II extends r{constructor(){super(...arguments);this._configurationModel=new Z8}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Z8;let J=G6.as(r9.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(J),J)}updateConfigurationModel(J,$){let Q=this.getConfigurationDefaultOverrides();for(let X of J){let Y=Q[X],Z=$[X];if(Y!==void 0)this._configurationModel.addValue(X,Y);else if(Z)this._configurationModel.addValue(X,Z.default);else this._configurationModel.removeValue(X)}}}});class Q1{static register(J){return new Q1(J.fileName)}constructor(J){this.fileName=J}}class On{constructor(J){this.randomOneOf=J}}class j1{static register(J){let $=new On("randomOneOf"in J.sound?J.sound.randomOneOf:[J.sound]),Q=new j1($,J.name,J.settingsKey,J.alertSettingsKey,J.alertMessage);return j1._audioCues.add(Q),Q}constructor(J,$,Q,X,Y){this.sound=J,this.name=$,this.settingsKey=Q,this.alertSettingsKey=X,this.alertMessage=Y}}var Z4;var _G=E(()=>{n0();a0();Z4=b0("audioCue");Q1.error=Q1.register({fileName:"error.mp3"});Q1.warning=Q1.register({fileName:"warning.mp3"});Q1.foldedArea=Q1.register({fileName:"foldedAreas.mp3"});Q1.break=Q1.register({fileName:"break.mp3"});Q1.quickFixes=Q1.register({fileName:"quickFixes.mp3"});Q1.taskCompleted=Q1.register({fileName:"taskCompleted.mp3"});Q1.taskFailed=Q1.register({fileName:"taskFailed.mp3"});Q1.terminalBell=Q1.register({fileName:"terminalBell.mp3"});Q1.diffLineInserted=Q1.register({fileName:"diffLineInserted.mp3"});Q1.diffLineDeleted=Q1.register({fileName:"diffLineDeleted.mp3"});Q1.diffLineModified=Q1.register({fileName:"diffLineModified.mp3"});Q1.chatRequestSent=Q1.register({fileName:"chatRequestSent.mp3"});Q1.chatResponsePending=Q1.register({fileName:"chatResponsePending.mp3"});Q1.chatResponseReceived1=Q1.register({fileName:"chatResponseReceived1.mp3"});Q1.chatResponseReceived2=Q1.register({fileName:"chatResponseReceived2.mp3"});Q1.chatResponseReceived3=Q1.register({fileName:"chatResponseReceived3.mp3"});Q1.chatResponseReceived4=Q1.register({fileName:"chatResponseReceived4.mp3"});Q1.clear=Q1.register({fileName:"clear.mp3"});Q1.save=Q1.register({fileName:"save.mp3"});Q1.format=Q1.register({fileName:"format.mp3"});j1._audioCues=new Set;j1.error=j1.register({name:M("audioCues.lineHasError.name","Error on Line"),sound:Q1.error,settingsKey:"audioCues.lineHasError",alertSettingsKey:"accessibility.alert.error",alertMessage:M("audioCues.lineHasError.alertMessage","Error")});j1.warning=j1.register({name:M("audioCues.lineHasWarning.name","Warning on Line"),sound:Q1.warning,settingsKey:"audioCues.lineHasWarning",alertSettingsKey:"accessibility.alert.warning",alertMessage:M("audioCues.lineHasWarning.alertMessage","Warning")});j1.foldedArea=j1.register({name:M("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:Q1.foldedArea,settingsKey:"audioCues.lineHasFoldedArea",alertSettingsKey:"accessibility.alert.foldedArea",alertMessage:M("audioCues.lineHasFoldedArea.alertMessage","Folded")});j1.break=j1.register({name:M("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:Q1.break,settingsKey:"audioCues.lineHasBreakpoint",alertSettingsKey:"accessibility.alert.breakpoint",alertMessage:M("audioCues.lineHasBreakpoint.alertMessage","Breakpoint")});j1.inlineSuggestion=j1.register({name:M("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:Q1.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"});j1.terminalQuickFix=j1.register({name:M("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:Q1.quickFixes,settingsKey:"audioCues.terminalQuickFix",alertSettingsKey:"accessibility.alert.terminalQuickFix",alertMessage:M("audioCues.terminalQuickFix.alertMessage","Quick Fix")});j1.onDebugBreak=j1.register({name:M("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:Q1.break,settingsKey:"audioCues.onDebugBreak",alertSettingsKey:"accessibility.alert.onDebugBreak",alertMessage:M("audioCues.onDebugBreak.alertMessage","Breakpoint")});j1.noInlayHints=j1.register({name:M("audioCues.noInlayHints","No Inlay Hints on Line"),sound:Q1.error,settingsKey:"audioCues.noInlayHints",alertSettingsKey:"accessibility.alert.noInlayHints",alertMessage:M("audioCues.noInlayHints.alertMessage","No Inlay Hints")});j1.taskCompleted=j1.register({name:M("audioCues.taskCompleted","Task Completed"),sound:Q1.taskCompleted,settingsKey:"audioCues.taskCompleted",alertSettingsKey:"accessibility.alert.taskCompleted",alertMessage:M("audioCues.taskCompleted.alertMessage","Task Completed")});j1.taskFailed=j1.register({name:M("audioCues.taskFailed","Task Failed"),sound:Q1.taskFailed,settingsKey:"audioCues.taskFailed",alertSettingsKey:"accessibility.alert.taskFailed",alertMessage:M("audioCues.taskFailed.alertMessage","Task Failed")});j1.terminalCommandFailed=j1.register({name:M("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:Q1.error,settingsKey:"audioCues.terminalCommandFailed",alertSettingsKey:"accessibility.alert.terminalCommandFailed",alertMessage:M("audioCues.terminalCommandFailed.alertMessage","Command Failed")});j1.terminalBell=j1.register({name:M("audioCues.terminalBell","Terminal Bell"),sound:Q1.terminalBell,settingsKey:"audioCues.terminalBell",alertSettingsKey:"accessibility.alert.terminalBell",alertMessage:M("audioCues.terminalBell.alertMessage","Terminal Bell")});j1.notebookCellCompleted=j1.register({name:M("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:Q1.taskCompleted,settingsKey:"audioCues.notebookCellCompleted",alertSettingsKey:"accessibility.alert.notebookCellCompleted",alertMessage:M("audioCues.notebookCellCompleted.alertMessage","Notebook Cell Completed")});j1.notebookCellFailed=j1.register({name:M("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:Q1.taskFailed,settingsKey:"audioCues.notebookCellFailed",alertSettingsKey:"accessibility.alert.notebookCellFailed",alertMessage:M("audioCues.notebookCellFailed.alertMessage","Notebook Cell Failed")});j1.diffLineInserted=j1.register({name:M("audioCues.diffLineInserted","Diff Line Inserted"),sound:Q1.diffLineInserted,settingsKey:"audioCues.diffLineInserted"});j1.diffLineDeleted=j1.register({name:M("audioCues.diffLineDeleted","Diff Line Deleted"),sound:Q1.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"});j1.diffLineModified=j1.register({name:M("audioCues.diffLineModified","Diff Line Modified"),sound:Q1.diffLineModified,settingsKey:"audioCues.diffLineModified"});j1.chatRequestSent=j1.register({name:M("audioCues.chatRequestSent","Chat Request Sent"),sound:Q1.chatRequestSent,settingsKey:"audioCues.chatRequestSent",alertSettingsKey:"accessibility.alert.chatRequestSent",alertMessage:M("audioCues.chatRequestSent.alertMessage","Chat Request Sent")});j1.chatResponseReceived=j1.register({name:M("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[Q1.chatResponseReceived1,Q1.chatResponseReceived2,Q1.chatResponseReceived3,Q1.chatResponseReceived4]}});j1.chatResponsePending=j1.register({name:M("audioCues.chatResponsePending","Chat Response Pending"),sound:Q1.chatResponsePending,settingsKey:"audioCues.chatResponsePending",alertSettingsKey:"accessibility.alert.chatResponsePending",alertMessage:M("audioCues.chatResponsePending.alertMessage","Chat Response Pending")});j1.clear=j1.register({name:M("audioCues.clear","Clear"),sound:Q1.clear,settingsKey:"audioCues.clear",alertSettingsKey:"accessibility.alert.clear",alertMessage:M("audioCues.clear.alertMessage","Clear")});j1.save=j1.register({name:M("audioCues.save","Save"),sound:Q1.save,settingsKey:"audioCues.save",alertSettingsKey:"accessibility.alert.save",alertMessage:M("audioCues.save.alertMessage","Save")});j1.format=j1.register({name:M("audioCues.format","Format"),sound:Q1.format,settingsKey:"audioCues.format",alertSettingsKey:"accessibility.alert.format",alertMessage:M("audioCues.format.alertMessage","Format")})});var yI;var _n=E(()=>{B0();B9();yI=class yI extends r{constructor(J,$=[]){super();this.logger=new QO([J,...$]),this._register(J.onDidChangeLogLevel((Q)=>this.setLevel(Q)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(J){this.logger.setLevel(J)}getLevel(){return this.logger.getLevel()}trace(J,...$){this.logger.trace(J,...$)}debug(J,...$){this.logger.debug(J,...$)}info(J,...$){this.logger.info(J,...$)}warn(J,...$){this.logger.warn(J,...$)}error(J,...$){this.logger.error(J,...$)}}});function Nn(){return S$0.slice(0)}var S$0;var Tn=E(()=>{S$0=[]});class Ln{constructor(J){this.disposed=!1,this.model=J,this._onWillDispose=new p}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}class mD{show(){return mD.NULL_PROGRESS_RUNNER}async showWhile(J,$){await J}}class kn{withProgress(J,$,Q){return $({report:()=>{}})}}class En{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class In{async confirm(J){return{confirmed:this.doConfirm(J.message,J.detail),checkboxChecked:!1}}doConfirm(J,$){let Q=J;if($)Q=Q+`

`+$;return F1.confirm(Q)}async prompt(J){var $,Q;let X=void 0;if(this.doConfirm(J.message,J.detail)){let Z=[...($=J.buttons)!==null&&$!==void 0?$:[]];if(J.cancelButton&&typeof J.cancelButton!=="string"&&typeof J.cancelButton!=="boolean")Z.push(J.cancelButton);X=await((Q=Z[0])===null||Q===void 0?void 0:Q.run({checkboxChecked:!1}))}return{result:X}}async error(J,$){await this.prompt({type:y6.Error,message:J,detail:$})}}class wV{info(J){return this.notify({severity:y6.Info,message:J})}warn(J){return this.notify({severity:y6.Warning,message:J})}error(J){return this.notify({severity:y6.Error,message:J})}notify(J){switch(J.severity){case y6.Error:console.error(J.message);break;case y6.Warning:console.warn(J.message);break;default:console.log(J.message);break}return wV.NO_OP}prompt(J,$,Q,X){return wV.NO_OP}status(J,$){return r.None}}function wn(J){return J&&typeof J==="object"&&(!J.overrideIdentifier||typeof J.overrideIdentifier==="string")&&(!J.resource||J.resource instanceof m0)}class gI{constructor(){this._onDidChangeConfiguration=new p,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;let J=new II;this._configuration=new Ij(J.reload(),new Z8,new Z8,new Z8),J.dispose()}getValue(J,$){let Q=typeof J==="string"?J:void 0,X=wn(J)?J:wn($)?$:{};return this._configuration.getValue(Q,X,void 0)}updateValues(J){let $={data:this._configuration.toData()},Q=[];for(let X of J){let[Y,Z]=X;if(this.getValue(Y)===Z)continue;this._configuration.updateValue(Y,Z),Q.push(Y)}if(Q.length>0){let X=new bk({keys:Q,overrides:[]},$,this._configuration);X.source=8,this._onDidChangeConfiguration.fire(X)}return Promise.resolve()}updateValue(J,$,Q,X){return this.updateValues([[J,$]])}inspect(J,$={}){return this._configuration.inspect(J,$,void 0)}}class xn{publicLog2(){}}class LV{constructor(){let J=m0.from({scheme:LV.SCHEME,authority:"model",path:"/"});this.workspace={id:Ns,folders:[new gk({uri:J,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(J){return J&&J.scheme===LV.SCHEME?this.workspace.folders[0]:null}}function kV(J,$,Q){if(!$)return;if(!(J instanceof gI))return;let X=[];if(Object.keys($).forEach((Y)=>{if(Ys(Y))X.push([`editor.${Y}`,$[Y]]);if(Q&&Zs(Y))X.push([`diffEditor.${Y}`,$[Y]])}),X.length>0)J.updateValues(X)}class bn{getUriLabel(J,$){if(J.scheme==="file")return J.fsPath;return J.path}getUriBasenameLabel(J){return c2(J)}}class Sn{constructor(){this._neverEmitter=new p,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class hn{async playAudioCue(J,$){}}var XZ=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},G8=function(J,$){return function(Q,X){$(Q,X,J)}},xI=class{constructor($){this.modelService=$}createModelReference($){let Q=this.modelService.getModel($);if(!Q)return Promise.reject(Error("Model not found"));return Promise.resolve(new FM(new Ln(Q)))}},bI=class{constructor($){this._onWillExecuteCommand=new p,this._onDidExecuteCommand=new p,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=$}executeCommand($,...Q){let X=O6.getCommand($);if(!X)return Promise.reject(Error(`command '${$}' not found`));try{this._onWillExecuteCommand.fire({commandId:$,args:Q});let Y=this._instantiationService.invokeFunction.apply(this._instantiationService,[X.handler,...Q]);return this._onDidExecuteCommand.fire({commandId:$,args:Q}),Promise.resolve(Y)}catch(Y){return Promise.reject(Y)}}},QZ,yn,SI=class{constructor($,Q,X){this.configurationService=$,this.modelService=Q,this.languageService=X,this._onDidChangeConfiguration=new p,this.configurationService.onDidChangeConfiguration((Y)=>{this._onDidChangeConfiguration.fire({affectedKeys:Y.affectedKeys,affectsConfiguration:(Z,G)=>Y.affectsConfiguration(G)})})}getValue($,Q,X){let Y=s.isIPosition(Q)?Q:null,Z=Y?typeof X==="string"?X:void 0:typeof Q==="string"?Q:void 0,G=$?this.getLanguage($,Y):void 0;if(typeof Z>"u")return this.configurationService.getValue({resource:$,overrideIdentifier:G});return this.configurationService.getValue(Z,{resource:$,overrideIdentifier:G})}getLanguage($,Q){let X=this.modelService.getModel($);if(X)return Q?X.getLanguageIdAtPosition(Q.lineNumber,Q.column):X.getLanguageId();return this.languageService.guessLanguageIdByFilepathOrFirstLine($)}},CI=class{constructor($){this.configurationService=$}getEOL($,Q){let X=this.configurationService.getValue("files.eol",{overrideIdentifier:Q,resource:$});if(X&&typeof X==="string"&&X!=="auto")return X;return w6||$1?`
`:`\r
`}},vI=class{constructor($){this._modelService=$}hasPreviewHandler(){return!1}async apply($,Q){let X=Array.isArray($)?$:kj.convert($),Y=new Map;for(let q of X){if(!(q instanceof sY))throw Error("bad edit - only text edits are supported");let U=this._modelService.getModel(q.resource);if(!U)throw Error("bad edit - model not found");if(typeof q.versionId==="number"&&U.getVersionId()!==q.versionId)throw Error("bad state - model changed in the meantime");let z=Y.get(U);if(!z)z=[],Y.set(U,z);z.push(X4.replaceMove(v.lift(q.textEdit.range),q.textEdit.text))}let Z=0,G=0;for(let[q,U]of Y)q.pushStackElement(),q.pushEditOperations([],U,()=>[]),q.pushStackElement(),G+=1,Z+=U.length;return{ariaSummary:tX(LP.bulkEditServiceSummary,Z,G),isApplied:Z>0}}},hI,Cn,vn,fI,u0;var uD=E(()=>{d8();fL();gL();dl();rL();Jd();Fd();Js();G1();x0();k8();E0();nZ();B0();E1();fY();V5();Qs();Gs();Ej();e0();kQ();Fz();$K();G7();l8();Sk();e1();pL();n0();js();h4();Ck();Z3();Ks();fk();PX();Sj();JY();wP();pY();pk();u$();V9();B9();xs();OX();Ss();cs();ga();s9();ma();tq();S_();d9();aa();r_();na();ui();qn();RV();Un();RJ();_4();zn();jn();OV();Fn();An();$I();eq();Rn();n2();jV();rq();Mn();_G();_n();Tn();T1();tA();H8();xI=XZ([G8(0,_5)],xI);mD.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};wV.NO_OP=new LL;bI=XZ([G8(0,r0)],bI);QZ=class extends vk{constructor($,Q,X,Y,Z,G){super($,Q,X,Y,Z);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];let q=(V)=>{let W=new q0;W.add(t(V,W0.KEY_DOWN,(K)=>{let A=new _1(K);if(this._dispatch(A,A.target))A.preventDefault(),A.stopPropagation()})),W.add(t(V,W0.KEY_UP,(K)=>{let A=new _1(K);if(this._singleModifierDispatch(A,A.target))A.preventDefault()})),this._domNodeListeners.push(new yn(V,W))},U=(V)=>{for(let W=0;W<this._domNodeListeners.length;W++){let K=this._domNodeListeners[W];if(K.domNode===V)this._domNodeListeners.splice(W,1),K.dispose()}},z=(V)=>{if(V.getOption(61))return;q(V.getContainerDomNode())},H=(V)=>{if(V.getOption(61))return;U(V.getContainerDomNode())};this._register(G.onCodeEditorAdd(z)),this._register(G.onCodeEditorRemove(H)),G.listCodeEditors().forEach(z);let j=(V)=>{q(V.getContainerDomNode())},B=(V)=>{U(V.getContainerDomNode())};this._register(G.onDiffEditorAdd(j)),this._register(G.onDiffEditorRemove(B)),G.listDiffEditors().forEach(j)}addDynamicKeybinding($,Q,X,Y){return p8(O6.registerCommand($,X),this.addDynamicKeybindings([{keybinding:Q,command:$,when:Y}]))}addDynamicKeybindings($){let Q=$.map((X)=>{var Y;return{keybinding:Rz(X.keybinding,f8),command:(Y=X.command)!==null&&Y!==void 0?Y:null,commandArgs:X.commandArgs,when:X.when,weight1:1000,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Q),this.updateResolver(),y0(()=>{for(let X=0;X<this._dynamicKeybindings.length;X++)if(this._dynamicKeybindings[X]===Q[0]){this._dynamicKeybindings.splice(X,Q.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){let $=this._toNormalizedKeybindingItems(jJ.getDefaultKeybindings(),!0),Q=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new hq($,Q,(X)=>this._log(X))}return this._cachedResolver}_documentHasFocus(){return F1.document.hasFocus()}_toNormalizedKeybindingItems($,Q){let X=[],Y=0;for(let Z of $){let G=Z.when||void 0,q=Z.keybinding;if(!q)X[Y++]=new MP(void 0,Z.command,Z.commandArgs,G,Q,null,!1);else{let U=gq.resolveKeybinding(q,f8);for(let z of U)X[Y++]=new MP(z,Z.command,Z.commandArgs,G,Q,null,!1)}}return X}resolveKeyboardEvent($){let Q=new v9($.ctrlKey,$.shiftKey,$.altKey,$.metaKey,$.keyCode);return new gq([Q],f8)}};QZ=XZ([G8(0,s0),G8(1,T5),G8(2,z7),G8(3,X8),G8(4,A5),G8(5,X6)],QZ);yn=class yn extends r{constructor(J,$){super();this.domNode=J,this._register($)}};SI=XZ([G8(0,p1),G8(1,_5),G8(2,H6)],SI);CI=XZ([G8(0,p1)],CI);LV.SCHEME="inmemory";vI=XZ([G8(0,_5)],vI);hI=class extends kP{constructor($,Q){super($);this._codeEditorService=Q}showContextView($,Q,X){if(!Q){let Y=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();if(Y)Q=Y.getContainerDomNode()}return super.showContextView($,Q,X)}};hI=XZ([G8(0,_9),G8(1,X6)],hI);Cn=class Cn extends cq{constructor(){super()}};vn=class vn extends yI{constructor(){super(new $O)}};fI=class extends lP{constructor($,Q,X,Y,Z,G){super($,Q,X,Y,Z,G);this.configure({blockMouse:!1})}};fI=XZ([G8(0,z7),G8(1,X8),G8(2,vJ),G8(3,Q5),G8(4,O4),G8(5,s0)],fI);K1(p1,gI,0);K1(eF,SI,0);K1(JK,CI,0);K1(vj,LV,0);K1(bj,bn,0);K1(z7,xn,0);K1(rA,In,0);K1(kq,En,0);K1(X8,wV,0);K1(pJ,xX,0);K1(H6,Cn,0);K1(I7,MI,0);K1(A5,vn,0);K1(_5,aj,0);K1(FK,aP,0);K1(s0,fD,0);K1(As,kn,0);K1(NX,mD,0);K1(gJ,qE,0);K1(T9,XK,0);K1($s,vI,0);K1(ys,Sn,0);K1(EQ,xI,0);K1(I8,SD,0);K1(cJ,aE,0);K1(T5,bI,0);K1(Q5,QZ,0);K1(MD,kD,0);K1(vJ,hI,0);K1(n$,sP,0);K1($Z,MV,0);K1(Q9,fI,0);K1(O4,CD,0);K1(Z4,hn,0);(function(J){let $=new CJ;for(let[U,z]of sO())$.set(U,z);let Q=new TV($,!0);$.set(r0,Q);function X(U){if(!Y)G({});let z=$.get(U);if(!z)throw Error("Missing service "+U);if(z instanceof P9)return Q.invokeFunction((H)=>H.get(U));else return z}J.get=X;let Y=!1,Z=new p;function G(U){if(Y)return Q;Y=!0;for(let[H,j]of sO())if(!$.get(H))$.set(H,j);for(let H in U)if(U.hasOwnProperty(H)){let j=b0(H);if($.get(j)instanceof P9)$.set(j,U[H])}let z=Nn();for(let H of z)try{Q.createInstance(H)}catch(j){Z1(j)}return Z.fire(),Q}J.initialize=G;function q(U){if(Y)return U();let z=new q0,H=z.add(Z.event(()=>{H.dispose(),z.add(U())}));return z}J.withServices=q})(u0||(u0={}))});function gn(J){fn=J}function w9(){return fn}class pI{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(J){return C$0([KU(f$0("|  ",this.indentation)),J])}formatInfo(J){if(!J.hadValue)return[KU(" "),dJ(IV(J.newValue,60),{color:"green"}),KU(" (initial)")];return J.didChange?[KU(" "),dJ(IV(J.oldValue,70),{color:"red",strikeThrough:!0}),KU(" "),dJ(IV(J.newValue,60),{color:"green"})]:[KU(" (unchanged)")]}handleObservableChanged(J,$){console.log(...this.textToConsoleArgs([EV("observable value changed"),dJ(J.debugName,{color:"BlueViolet"}),...this.formatInfo($)]))}formatChanges(J){if(J.size===0)return;return dJ(" (changed deps: "+[...J].map(($)=>$.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(J){let $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(Q,X)=>{return this.changedObservablesSets.get(J).add(Q),$.apply(J,[Q,X])}}handleDerivedRecomputed(J,$){let Q=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([EV("derived recomputed"),dJ(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),this.formatChanges(Q),{data:[{fn:J._computeFn}]}])),Q.clear()}handleFromEventObservableTriggered(J,$){console.log(...this.textToConsoleArgs([EV("observable from event triggered"),dJ(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),{data:[{fn:J._getValue}]}]))}handleAutorunCreated(J){let $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(Q,X)=>{return this.changedObservablesSets.get(J).add(Q),$.apply(J,[Q,X])}}handleAutorunTriggered(J){let $=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([EV("autorun"),dJ(J.debugName,{color:"BlueViolet"}),this.formatChanges($),{data:[{fn:J._runFn}]}])),$.clear(),this.indentation++}handleAutorunFinished(J){this.indentation--}handleBeginTransaction(J){let $=J.getDebugName();if($===void 0)$="";console.log(...this.textToConsoleArgs([EV("transaction"),dJ($,{color:"BlueViolet"}),{data:[{fn:J._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function C$0(J){let $=[],Q=[],X="";function Y(G){if("length"in G){for(let q of G)if(q)Y(q)}else if("text"in G){if(X+=`%c${G.text}`,$.push(G.style),G.data)Q.push(...G.data)}else if("data"in G)Q.push(...G.data)}Y(J);let Z=[X,...$];return Z.push(...Q),Z}function KU(J){return dJ(J,{color:"black"})}function EV(J){return dJ(g$0(`${J}: `,10),{color:"black",bold:!0})}function dJ(J,$={color:"black"}){function Q(Y){return Object.entries(Y).reduce((Z,[G,q])=>{return`${Z}${G}:${q};`},"")}let X={color:$.color};if($.strikeThrough)X["text-decoration"]="line-through";if($.bold)X["font-weight"]="bold";return{text:J,style:Q(X)}}function IV(J,$){switch(typeof J){case"number":return""+J;case"string":if(J.length+2<=$)return`"${J}"`;return`"${J.substr(0,$-7)}"+...`;case"boolean":return J?"true":"false";case"undefined":return"undefined";case"object":if(J===null)return"null";if(Array.isArray(J))return v$0(J,$);return h$0(J,$);case"symbol":return J.toString();case"function":return`[[Function${J.name?" "+J.name:""}]]`;default:return""+J}}function v$0(J,$){let Q="[ ",X=!0;for(let Y of J){if(!X)Q+=", ";if(Q.length-5>$){Q+="...";break}X=!1,Q+=`${IV(Y,$-Q.length)}`}return Q+=" ]",Q}function h$0(J,$){let Q="{ ",X=!0;for(let[Y,Z]of Object.entries(J)){if(!X)Q+=", ";if(Q.length-5>$){Q+="...";break}X=!1,Q+=`${Y}: ${IV(Z,$-Q.length)}`}return Q+=" }",Q}function f$0(J,$){let Q="";for(let X=1;X<=$;X++)Q+=J;return Q}function g$0(J,$){while(J.length<$)J+=" ";return J}var fn;function ln(J){cn=J}function dn(J){p$0=J}function an(J){sn=J}class dD{get TChange(){return null}reportChanges(){this.get()}read(J){if(J)return J.readObservable(this);else return this.get()}map(J,$){let Q=$===void 0?void 0:J,X=$===void 0?J:$;return sn({owner:Q,debugName:()=>{let Y=sJ(X);if(Y!==void 0)return Y;let G=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(X.toString());if(G)return`${this.debugName}.${G[2]}`;if(!Q)return`${this.debugName} (mapped)`;return}},(Y)=>X(this.read(Y),Y))}recomputeInitiallyAndOnChange(J,$){return J.add(cn(this,$)),this}}function b6(J,$){let Q=new sD(J,$);try{J(Q)}finally{Q.finish()}}function AU(J){if(cD)J(cD);else{let $=new sD(J,void 0);cD=$;try{J($)}finally{$.finish(),cD=void 0}}}function NG(J,$,Q){if(!J)b6($,Q);else $(J)}class sD{constructor(J,$){var Q;this._fn=J,this._getDebugName=$,this.updatingObservers=[],(Q=w9())===null||Q===void 0||Q.handleBeginTransaction(this)}getDebugName(){if(this._getDebugName)return this._getDebugName();return sJ(this._fn)}updateObserver(J,$){this.updatingObservers.push({observer:J,observable:$}),J.beginUpdate($)}finish(){var J;let $=this.updatingObservers;for(let Q=0;Q<$.length;Q++){let{observer:X,observable:Y}=$[Q];X.endUpdate(Y)}this.updatingObservers=null,(J=w9())===null||J===void 0||J.handleEndTransaction()}}function yV(J,$,Q,X){var Y;let Z=mI.get(J);if(Z)return Z;let G=m$0(J,$,Q,X);if(G){let q=(Y=pn.get(G))!==null&&Y!==void 0?Y:0;q++,pn.set(G,q);let U=q===1?G:`${G}#${q}`;return mI.set(J,U),U}return}function m$0(J,$,Q,X){let Y=mI.get(J);if(Y)return Y;let Z=X?u$0(X)+".":"",G;if($!==void 0)if(typeof $==="function"){if(G=$(),G!==void 0)return Z+G}else return Z+$;if(Q!==void 0){if(G=sJ(Q),G!==void 0)return Z+G}if(X!==void 0){for(let q in X)if(X[q]===J)return Z+q}return}function u$0(J){var $;let Q=un.get(J);if(Q)return Q;let X=c$0(J),Y=($=mn.get(X))!==null&&$!==void 0?$:0;Y++,mn.set(X,Y);let Z=Y===1?X:`${X}#${Y}`;return un.set(J,Z),Z}function c$0(J){let $=J.constructor;if($)return $.name;return"Object"}function sJ(J){let $=J.toString(),X=/\/\*\*\s*@description\s*([^*]*)\*\//.exec($),Y=X?X[1]:void 0;return Y===null||Y===void 0?void 0:Y.trim()}function N1(J,$){if(typeof J==="string")return new lD(void 0,J,$);else return new lD(J,void 0,$)}function cI(J,$){if(typeof J==="string")return new uI(void 0,J,$);else return new uI(J,void 0,$)}var cn,p$0,sn,YZ,cD=void 0,pn,mI,mn,un,lD,uI;var TG=E(()=>{YZ=class YZ extends dD{constructor(){super(...arguments);this.observers=new Set}addObserver(J){let $=this.observers.size;if(this.observers.add(J),$===0)this.onFirstObserverAdded()}removeObserver(J){if(this.observers.delete(J)&&this.observers.size===0)this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};pn=new Map,mI=new WeakMap;mn=new Map,un=new WeakMap;lD=class lD extends YZ{get debugName(){var J;return(J=yV(this,this._debugName,void 0,this._owner))!==null&&J!==void 0?J:"ObservableValue"}constructor(J,$,Q){super();this._owner=J,this._debugName=$,this._value=Q}get(){return this._value}set(J,$,Q){var X;if(this._value===J)return;let Y;if(!$)$=Y=new sD(()=>{},()=>`Setting ${this.debugName}`);try{let Z=this._value;this._setValue(J),(X=w9())===null||X===void 0||X.handleObservableChanged(this,{oldValue:Z,newValue:J,change:Q,didChange:!0,hadValue:!0});for(let G of this.observers)$.updateObserver(G,this),G.handleChange(this,Q)}finally{if(Y)Y.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(J){this._value=J}};uI=class uI extends lD{_setValue(J){if(this._value===J)return;if(this._value)this._value.dispose();this._value=J}dispose(){var J;(J=this._value)===null||J===void 0||J.dispose()}}});function X1(J,$){if($!==void 0)return new PU(J,void 0,$,void 0,void 0,void 0,xV);return new PU(void 0,void 0,J,void 0,void 0,void 0,xV)}function lI(J,$){var Q;return new PU(J.owner,J.debugName,$,void 0,void 0,J.onLastObserverRemoved,(Q=J.equalityComparer)!==null&&Q!==void 0?Q:xV)}function G4(J,$){let Q,X;if($===void 0)Q=J,X=void 0;else X=J,Q=$;let Y=new q0;return new PU(X,()=>{var Z;return(Z=sJ(Q))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{return Y.clear(),Q(Z,Y)},void 0,void 0,()=>Y.dispose(),xV)}function GQ(J,$){let Q,X;if($===void 0)Q=J,X=void 0;else X=J,Q=$;let Y=new q0;return new PU(X,()=>{var Z;return(Z=sJ(Q))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{Y.clear();let G=Q(Z);if(G)Y.add(G);return G},void 0,void 0,()=>Y.dispose(),xV)}var xV=(J,$)=>J===$,PU;var bV=E(()=>{V$();B0();TG();an(lI);PU=class PU extends YZ{get debugName(){var J;return(J=yV(this,this._debugName,this._computeFn,this._owner))!==null&&J!==void 0?J:"(anonymous)"}constructor(J,$,Q,X,Y,Z=void 0,G){var q,U;super();this._owner=J,this._debugName=$,this._computeFn=Q,this.createChangeSummary=X,this._handleChange=Y,this._handleLastObserverRemoved=Z,this._equalityComparator=G,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(q=this.createChangeSummary)===null||q===void 0?void 0:q.call(this),(U=w9())===null||U===void 0||U.handleDerivedCreated(this)}onLastObserverRemoved(){var J;this.state=0,this.value=void 0;for(let $ of this.dependencies)$.removeObserver(this);this.dependencies.clear(),(J=this._handleLastObserverRemoved)===null||J===void 0||J.call(this)}get(){var J;if(this.observers.size===0){let $=this._computeFn(this,(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this));return this.onLastObserverRemoved(),$}else{do{if(this.state===1){for(let $ of this.dependencies)if($.reportChanges(),this.state===2)break}if(this.state===1)this.state=3;this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var J,$;if(this.state===3)return;let Q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Q;let X=this.state!==0,Y=this.value;this.state=3;let Z=this.changeSummary;this.changeSummary=(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this);try{this.value=this._computeFn(this,Z)}finally{for(let q of this.dependenciesToBeRemoved)q.removeObserver(this);this.dependenciesToBeRemoved.clear()}let G=X&&!this._equalityComparator(Y,this.value);if(($=w9())===null||$===void 0||$.handleDerivedRecomputed(this,{oldValue:Y,newValue:this.value,change:void 0,didChange:G,hadValue:X}),G)for(let q of this.observers)q.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(J){this.updateCount++;let $=this.updateCount===1;if(this.state===3){if(this.state=1,!$)for(let Q of this.observers)Q.handlePossibleChange(this)}if($)for(let Q of this.observers)Q.beginUpdate(this)}endUpdate(J){if(this.updateCount--,this.updateCount===0){let $=[...this.observers];for(let Q of $)Q.endUpdate(this)}j$(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){this.state=1;for(let $ of this.observers)$.handlePossibleChange(this)}}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){let Q=this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(Y)=>Y===J},this.changeSummary):!0,X=this.state===3;if(Q&&(this.state===1||X)){if(this.state=2,X)for(let Y of this.observers)Y.handlePossibleChange(this)}}}readObservable(J){J.addObserver(this);let $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}addObserver(J){let $=!this.observers.has(J)&&this.updateCount>0;if(super.addObserver(J),$)J.beginUpdate(this)}removeObserver(J){let $=this.observers.has(J)&&this.updateCount>0;if(super.removeObserver(J),$)J.endUpdate(this)}}});function k1(J){return new CV(void 0,J,void 0,void 0)}function SV(J,$){return new CV(J.debugName,$,void 0,void 0)}function ZZ(J,$){return new CV(J.debugName,$,J.createEmptyChangeSummary,J.handleChange)}function W7(J){let $=new q0,Q=SV({debugName:()=>sJ(J)||"(anonymous)"},(X)=>{$.clear(),J(X,$)});return y0(()=>{Q.dispose(),$.dispose()})}class CV{get debugName(){if(typeof this._debugName==="string")return this._debugName;if(typeof this._debugName==="function"){let $=this._debugName();if($!==void 0)return $}let J=sJ(this._runFn);if(J!==void 0)return J;return"(anonymous)"}constructor(J,$,Q,X){var Y,Z;this._debugName=J,this._runFn=$,this.createChangeSummary=Q,this._handleChange=X,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Y=this.createChangeSummary)===null||Y===void 0?void 0:Y.call(this),(Z=w9())===null||Z===void 0||Z.handleAutorunCreated(this),this._runIfNeeded(),xZ(this)}dispose(){this.disposed=!0;for(let J of this.dependencies)J.removeObserver(this);this.dependencies.clear(),bZ(this)}_runIfNeeded(){var J,$,Q;if(this.state===3)return;let X=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=X,this.state=3;let Y=this.disposed;try{if(!Y){(J=w9())===null||J===void 0||J.handleAutorunTriggered(this);let Z=this.changeSummary;this.changeSummary=($=this.createChangeSummary)===null||$===void 0?void 0:$.call(this),this._runFn(this,Z)}}finally{if(!Y)(Q=w9())===null||Q===void 0||Q.handleAutorunFinished(this);for(let Z of this.dependenciesToBeRemoved)Z.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){if(this.state===3)this.state=1;this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let J of this.dependencies)if(J.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,j$(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J))this.state=1}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){if(this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(X)=>X===J},this.changeSummary):!0)this.state=2}}readObservable(J){if(this.disposed)return J.get();J.addObserver(this);let $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}}var dI=E(()=>{V$();B0();TG();(function(J){J.Observer=CV})(k1||(k1={}))});function aD(J){return new rn(J)}function aI(J,$){return new Promise((Q)=>{let X=!1,Y=!1,Z=J.map((q)=>({isFinished:$(q),state:q})),G=k1((q)=>{let{isFinished:U,state:z}=Z.read(q);if(U){if(!X)Y=!0;else G.dispose();Q(z)}});if(X=!0,Y)G.dispose()})}function u6(J,$){return new wG(J,$)}function x7(J,$){return new nn(J,$)}function rI(J){if(typeof J==="string")return new sI(J);else return new sI(void 0,J)}function on(J){let $=new iI(!1,void 0);return J.addObserver($),y0(()=>{J.removeObserver($)})}function GZ(J,$){let Q=new iI(!0,$);if(J.addObserver(Q),$)$(J.get());else J.reportChanges();return y0(()=>{J.removeObserver(Q)})}class iI{constructor(J,$){this._forceRecompute=J,this._handleValue=$,this._counter=0}beginUpdate(J){this._counter++}endUpdate(J){if(this._counter--,this._counter===0&&this._forceRecompute)if(this._handleValue)this._handleValue(J.get());else J.reportChanges()}handlePossibleChange(J){}handleChange(J,$){}}function nI(J){let $=void 0;return X1((X)=>{return $=J(X,$),$})}var rn,wG,nn,sI;var tn=E(()=>{B0();dI();TG();bV();rn=class rn extends dD{constructor(J){super();this.value=J}get debugName(){return this.toString()}get(){return this.value}addObserver(J){}removeObserver(J){}toString(){return`Const: ${this.value}`}};wG=class wG extends YZ{constructor(J,$){super();this.event=J,this._getValue=$,this.hasValue=!1,this.handleEvent=(Q)=>{var X;let Y=this._getValue(Q),Z=this.value,G=!this.hasValue||Z!==Y,q=!1;if(G){if(this.value=Y,this.hasValue)q=!0,NG(wG.globalTransaction,(U)=>{var z;(z=w9())===null||z===void 0||z.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:Y,change:void 0,didChange:G,hadValue:this.hasValue});for(let H of this.observers)U.updateObserver(H,this),H.handleChange(this,void 0)},()=>{let U=this.getDebugName();return"Event fired"+(U?`: ${U}`:"")});this.hasValue=!0}if(!q)(X=w9())===null||X===void 0||X.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:Y,change:void 0,didChange:G,hadValue:this.hasValue})}}getDebugName(){return sJ(this._getValue)}get debugName(){let J=this.getDebugName();return"From Event"+(J?`: ${J}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){if(this.subscription){if(!this.hasValue)this.handleEvent(void 0);return this.value}else return this._getValue(void 0)}};(function(J){J.Observer=wG;function $(Q,X){let Y=!1;if(wG.globalTransaction===void 0)wG.globalTransaction=Q,Y=!0;try{X()}finally{if(Y)wG.globalTransaction=void 0}}J.batchEventsGlobally=$})(u6||(u6={}));nn=class nn extends YZ{constructor(J,$){super();this.debugName=J,this.event=$,this.handleEvent=()=>{b6((Q)=>{for(let X of this.observers)Q.updateObserver(X,this),X.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}};sI=class sI extends YZ{get debugName(){var J;return(J=yV(this,this._debugName,void 0,this._owner))!==null&&J!==void 0?J:"Observable Signal"}constructor(J,$){super();this._debugName=J,this._owner=$}trigger(J,$){if(!J){b6((Q)=>{this.trigger(Q,$)},()=>`Trigger signal ${this.debugName}`);return}for(let Q of this.observers)J.updateObserver(Q,this),Q.handleChange(this,$)}get(){}};dn(on);ln(GZ)});var l$0=!1;var t8=E(()=>{TG();bV();dI();tn();if(l$0)gn(new pI)});var en=E(()=>{_0(".monaco-editor .diff-hidden-lines-widget{width:100%}.monaco-editor .diff-hidden-lines{height:0;font-size:13px;line-height:14px;transform:translateY(-10px)}.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,.monaco-editor .diff-hidden-lines .top.dragging,.monaco-editor .diff-hidden-lines .bottom.dragging{background-color:var(--vscode-focusBorder)}.monaco-editor .diff-hidden-lines .top,.monaco-editor .diff-hidden-lines .bottom{background-color:#0000;background-clip:padding-box;border-top:4px solid #0000;border-bottom:2px solid #0000;height:4px;transition:background-color .1s ease-out}.monaco-editor.draggingUnchangedRegion.canMoveTop:not(.canMoveBottom) *,.monaco-editor .diff-hidden-lines .top.canMoveTop:not(.canMoveBottom),.monaco-editor .diff-hidden-lines .bottom.canMoveTop:not(.canMoveBottom){cursor:n-resize!important}.monaco-editor.draggingUnchangedRegion:not(.canMoveTop).canMoveBottom *,.monaco-editor .diff-hidden-lines .top:not(.canMoveTop).canMoveBottom,.monaco-editor .diff-hidden-lines .bottom:not(.canMoveTop).canMoveBottom{cursor:s-resize!important}.monaco-editor.draggingUnchangedRegion.canMoveTop.canMoveBottom *,.monaco-editor .diff-hidden-lines .top.canMoveTop.canMoveBottom,.monaco-editor .diff-hidden-lines .bottom.canMoveTop.canMoveBottom{cursor:ns-resize!important}.monaco-editor .diff-hidden-lines .top{transform:translateY(4px)}.monaco-editor .diff-hidden-lines .bottom{transform:translateY(-6px)}.monaco-editor .diff-unchanged-lines{background:var(--vscode-diffEditor-unchangedCodeBackground)}.monaco-editor .noModificationsOverlay{z-index:1;background:var(--vscode-editor-background);justify-content:center;align-items:center;display:flex}.monaco-editor .diff-hidden-lines .center{background:var(--vscode-diffEditor-unchangedRegionBackground);color:var(--vscode-diffEditor-unchangedRegionForeground);text-overflow:ellipsis;white-space:nowrap;height:24px;box-shadow:inset 0 -5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow),inset 0 5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow);display:block;overflow:hidden}.monaco-editor .diff-hidden-lines .center span.codicon{vertical-align:middle}.monaco-editor .diff-hidden-lines .center a:hover .codicon{cursor:pointer;color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .diff-hidden-lines div.breadcrumb-item{cursor:pointer}.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover{color:var(--vscode-editorLink-activeForeground)}.monaco-editor .movedOriginal,.monaco-editor .movedModified{border:2px solid var(--vscode-diffEditor-move-border)}.monaco-editor .movedOriginal.currentMove,.monaco-editor .movedModified.currentMove{border:2px solid var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path.currentMove{stroke:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path{pointer-events:visiblestroke}.monaco-diff-editor .moved-blocks-lines .arrow{fill:var(--vscode-diffEditor-move-border)}.monaco-diff-editor .moved-blocks-lines .arrow.currentMove{fill:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines .arrow-rectangle{fill:var(--vscode-editor-background)}.monaco-diff-editor .moved-blocks-lines{pointer-events:none;position:absolute}.monaco-diff-editor .moved-blocks-lines path{fill:none;stroke:var(--vscode-diffEditor-move-border);stroke-width:2px}.monaco-editor .char-delete.diff-range-empty{border-left:solid var(--vscode-diffEditor-removedTextBackground)3px;margin-left:-1px}.monaco-editor .char-insert.diff-range-empty{border-left:solid var(--vscode-diffEditor-insertedTextBackground)3px}.monaco-editor .fold-unchanged{cursor:pointer}.monaco-diff-editor .diff-moved-code-block{justify-content:flex-end;margin-top:-4px;display:flex}.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon{width:12px;height:12px;font-size:12px}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:#00000008}.monaco-diff-editor.vs-dark .diffOverview{background:#ffffff03}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light .scrollbar{background:0 0}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:#ababab66}.modified-in-monaco-diff-editor.hc-black .slider.active,.modified-in-monaco-diff-editor.hc-light .slider.active{background:0 0}.monaco-editor .insert-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-diff-editor .delete-sign{align-items:center;opacity:.7!important;font-size:11px!important;display:flex!important}.monaco-editor.hc-black .insert-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .delete-sign,.monaco-editor.hc-light .insert-sign,.monaco-diff-editor.hc-light .insert-sign,.monaco-editor.hc-light .delete-sign,.monaco-diff-editor.hc-light .delete-sign{opacity:1}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .inline-added-margin-view-zone{text-align:right}.monaco-editor .arrow-revert-change{z-index:10;position:absolute}.monaco-editor .arrow-revert-change:hover{cursor:pointer}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-editor .char-insert,.monaco-diff-editor .char-insert{background-color:var(--vscode-diffEditor-insertedTextBackground)}.monaco-editor .line-insert,.monaco-diff-editor .line-insert{background-color:var(--vscode-diffEditor-insertedLineBackground,var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .line-insert,.monaco-editor .char-insert{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-insertedTextBorder)}.monaco-editor.hc-black .line-insert,.monaco-editor.hc-light .line-insert,.monaco-editor.hc-black .char-insert,.monaco-editor.hc-light .char-insert{border-style:dashed}.monaco-editor .line-delete,.monaco-editor .char-delete{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-removedTextBorder)}.monaco-editor.hc-black .line-delete,.monaco-editor.hc-light .line-delete,.monaco-editor.hc-black .char-delete,.monaco-editor.hc-light .char-delete{border-style:dashed}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .gutter-insert,.monaco-diff-editor .gutter-insert{background-color:var(--vscode-diffEditorGutter-insertedLineBackground,var(--vscode-diffEditor-insertedLineBackground),var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .char-delete,.monaco-diff-editor .char-delete{background-color:var(--vscode-diffEditor-removedTextBackground)}.monaco-editor .line-delete,.monaco-diff-editor .line-delete{background-color:var(--vscode-diffEditor-removedLineBackground,var(--vscode-diffEditor-removedTextBackground))}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .gutter-delete,.monaco-diff-editor .gutter-delete{background-color:var(--vscode-diffEditorGutter-removedLineBackground,var(--vscode-diffEditor-removedLineBackground),var(--vscode-diffEditor-removedTextBackground))}.monaco-diff-editor.side-by-side .editor.modified{box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow);border-left:1px solid var(--vscode-diffEditor-border)}.monaco-diff-editor .diffViewport{background:var(--vscode-scrollbarSlider-background)}.monaco-diff-editor .diffViewport:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-diff-editor .diffViewport:active{background:var(--vscode-scrollbarSlider-activeBackground)}.monaco-editor .diagonal-fill{background-image:linear-gradient(-45deg,var(--vscode-diffEditor-diagonalFill)12.5%,#0000 12.5%,#0000 50%,var(--vscode-diffEditor-diagonalFill)50%,var(--vscode-diffEditor-diagonalFill)62.5%,#0000 62.5%,#0000 100%);background-size:8px 8px}")});class l4{static capture(J){if(J.getScrollTop()===0||J.hasPendingScrollAnimation())return new l4(J.getScrollTop(),J.getContentHeight(),null,0,null);let $=null,Q=0,X=J.getVisibleRanges();if(X.length>0){$=X[0].getStartPosition();let Y=J.getTopForPosition($.lineNumber,$.column);Q=J.getScrollTop()-Y}return new l4(J.getScrollTop(),J.getContentHeight(),$,Q,J.getPosition())}constructor(J,$,Q,X,Y){this._initialScrollTop=J,this._initialContentHeight=$,this._visiblePosition=Q,this._visiblePositionScrollDelta=X,this._cursorPosition=Y}restore(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;if(this._visiblePosition){let $=J.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);J.setScrollTop($+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;let $=J.getPosition();if(!this._cursorPosition||!$)return;let Q=J.getTopForLineNumber($.lineNumber)-J.getTopForLineNumber(this._cursorPosition.lineNumber);J.setScrollTop(J.getScrollTop()+Q)}}function iD(){return Zz&&!!Zz.VSCODE_DEV}function oI(J){if(!iD())return{dispose(){}};else{let $=d$0();return $.add(J),{dispose(){$.delete(J)}}}}function d$0(){if(!rD)rD=new Set;let J=globalThis;if(!J.$hotReload_applyNewExports)J.$hotReload_applyNewExports=($)=>{for(let Q of rD){let X=Q($);if(X)return X}return};return rD}var rD=void 0;var Jo=E(()=>{NM();if(iD())oI(({oldExports:J,newSrc:$})=>{if($.indexOf("/* hot-reload:patch-prototype-methods */")===-1)return;return(Q)=>{var X,Y;for(let Z in Q){let G=Q[Z];if(console.log(`[hot-reload] Patching prototype methods of '${Z}'`,{exportedItem:G}),typeof G==="function"&&G.prototype){let q=J[Z];if(q){for(let U of Object.getOwnPropertyNames(G.prototype)){let z=Object.getOwnPropertyDescriptor(G.prototype,U),H=Object.getOwnPropertyDescriptor(q.prototype,U);if(((X=z===null||z===void 0?void 0:z.value)===null||X===void 0?void 0:X.toString())!==((Y=H===null||H===void 0?void 0:H.value)===null||Y===void 0?void 0:Y.toString()))console.log(`[hot-reload] Patching prototype method '${Z}.${U}'`);Object.defineProperty(q.prototype,U,z)}Q[Z]=q}}}return!0}})});function $o(J,$,Q,X){if(J.length===0)return $;if($.length===0)return J;let Y=[],Z=0,G=0;while(Z<J.length&&G<$.length){let q=J[Z],U=$[G],z=Q(q),H=Q(U);if(z<H)Y.push(q),Z++;else if(z>H)Y.push(U),G++;else Y.push(X(q,U)),Z++,G++}while(Z<J.length)Y.push(J[Z]),Z++;while(G<$.length)Y.push($[G]),G++;return Y}function DU(J,$){let Q=new q0,X=J.createDecorationsCollection();return Q.add(SV({debugName:()=>`Apply decorations from ${$.debugName}`},(Y)=>{let Z=$.read(Y);X.set(Z)})),Q.add({dispose:()=>{X.clear()}}),Q}function vV(J,$){return J.appendChild($),y0(()=>{J.removeChild($)})}function tI(J,$,Q){let X=$.get(),Y=X,Z=X,G=N1("animatedValue",X),q=-1,U=300,z=void 0;Q.add(ZZ({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(j,B)=>{if(j.didChange($))B.animate=B.animate||j.change;return!0}},(j,B)=>{if(z!==void 0)J.cancelAnimationFrame(z),z=void 0;Y=Z,X=$.read(j),q=Date.now()-(B.animate?0:U),H()}));function H(){let j=Date.now()-q;if(Z=Math.floor(s$0(j,Y,X-Y,U)),j<U)z=J.requestAnimationFrame(H);else Z=X;G.set(Z,void 0)}return G}function s$0(J,$,Q,X){return J===X?$+Q:Q*(-Math.pow(2,-10*J/X)+1)+$}class LG{get afterLineNumber(){return this._afterLineNumber.get()}constructor(J,$){this._afterLineNumber=J,this.heightInPx=$,this.domNode=document.createElement("div"),this._actualTop=N1(this,void 0),this._actualHeight=N1(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=(Q)=>{this._actualTop.set(Q,void 0)},this.onComputedHeight=(Q)=>{this._actualHeight.set(Q,void 0)}}}class nD{constructor(J,$){this._editor=J,this._domElement=$,this._overlayWidgetId=`managedOverlayWidget-${nD._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}function d4(J,$){return k1((Q)=>{for(let[X,Y]of Object.entries($)){if(Y&&typeof Y==="object"&&"read"in Y)Y=Y.read(Q);if(typeof Y==="number")Y=`${Y}px`;X=X.replace(/[A-Z]/g,(Z)=>"-"+Z.toLowerCase()),J.style[X]=Y}})}function q4(J,$){return a$0([J],$),J}function a$0(J,$){if(iD())x7("reload",(X)=>oI(({oldExports:Y})=>{if(![...Object.values(Y)].some((Z)=>J.includes(Z)))return;return(Z)=>{return X(void 0),!0}})).read($)}function RU(J,$,Q,X){let Y=new q0,Z=[];return Y.add(W7((G,q)=>{let U=$.read(G),z=new Map,H=new Map;if(Q)Q(!0);if(J.changeViewZones((j)=>{for(let B of Z)j.removeZone(B),X===null||X===void 0||X.delete(B);Z.length=0;for(let B of U){let V=j.addZone(B);if(B.setZoneId)B.setZoneId(V);Z.push(V),X===null||X===void 0||X.add(V),z.set(B,V)}}),Q)Q(!1);q.add(ZZ({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(j,B){let V=H.get(j.changedObservable);if(V!==void 0)B.zoneIds.push(V);return!0}},(j,B)=>{for(let V of U)if(V.onChange)H.set(V.onChange,z.get(V)),V.onChange.read(j);if(Q)Q(!0);if(J.changeViewZones((V)=>{for(let W of B.zoneIds)V.layoutZone(W)}),Q)Q(!1)}))})),Y.add({dispose(){if(Q)Q(!0);if(J.changeViewZones((G)=>{for(let q of Z)G.removeZone(q)}),X===null||X===void 0||X.clear(),Q)Q(!1)}}),Y}function eI(J,$){let Q=P2($,(Y)=>Y.original.startLineNumber<=J.lineNumber);if(!Q)return v.fromPositions(J);if(Q.original.endLineNumberExclusive<=J.lineNumber){let Y=J.lineNumber-Q.original.endLineNumberExclusive+Q.modified.endLineNumberExclusive;return v.fromPositions(new s(Y,J.column))}if(!Q.innerChanges)return v.fromPositions(new s(Q.modified.startLineNumber,1));let X=P2(Q.innerChanges,(Y)=>Y.originalRange.getStartPosition().isBeforeOrEqual(J));if(!X){let Y=J.lineNumber-Q.original.startLineNumber+Q.modified.startLineNumber;return v.fromPositions(new s(Y,J.column))}if(X.originalRange.containsPosition(J))return X.modifiedRange;else{let Y=r$0(X.originalRange.getEndPosition(),J);return v.fromPositions(i$0(X.modifiedRange.getEndPosition(),Y))}}function r$0(J,$){if(J.lineNumber===$.lineNumber)return new m2(0,$.column-J.column);else return new m2($.lineNumber-J.lineNumber,$.column-1)}function i$0(J,$){if($.lineCount===0)return new s(J.lineNumber,J.column+$.columnCount);else return new s(J.lineNumber+$.lineCount,$.columnCount+1)}function gV(J,$,Q){let X=J.bindTo($);return SV({debugName:()=>`Update ${J.key}`},(Y)=>{X.set(Q(Y))})}function Qo(J,$){let Q;return J.filter((X)=>{let Y=$(X,Q);return Q=X,Y})}var hV,fV;var aJ=E(()=>{FJ();z8();Jo();B0();t8();i_();e0();h$();hV=class hV extends r{get width(){return this._width}get height(){return this._height}constructor(J,$){super();this.elementSizeObserver=this._register(new FH(J,$)),this._width=N1(this,this.elementSizeObserver.getWidth()),this._height=N1(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((Q)=>b6((X)=>{this._width.set(this.elementSizeObserver.getWidth(),X),this._height.set(this.elementSizeObserver.getHeight(),X)})))}observe(J){this.elementSizeObserver.observe(J)}setAutomaticLayout(J){if(J)this.elementSizeObserver.startObserving();else this.elementSizeObserver.stopObserving()}};fV=class fV extends r{constructor(J,$,Q){super();this._register(new nD(J,Q)),this._register(d4(Q,{height:$.actualHeight,top:$.actualTop}))}};nD._counter=0});var Xo=E(()=>{_0(".monaco-diff-editor .diff-review-line-number{text-align:right;color:var(--vscode-editorLineNumber-foreground);display:inline-block}.monaco-diff-editor .diff-review{-webkit-user-select:none;user-select:none;z-index:99;position:absolute}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{box-shadow:var(--vscode-scrollbar-shadow)0 -6px 6px -6px inset;position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{min-width:100%;display:table}.monaco-diff-editor .diff-review-row{width:100%;display:table-row}.monaco-diff-editor .diff-review-spacer{vertical-align:middle;width:10px;display:inline-block}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{z-index:100;display:inline-block;position:absolute;top:2px;right:10px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}.monaco-diff-editor .revertButton{cursor:pointer}")});function e$0(J,$,Q){let X=[];for(let Y of vG(J,(Z,G)=>G.modified.startLineNumber-Z.modified.endLineNumberExclusive<2*pV)){let Z=[];Z.push(new Zo);let G=new l0(Math.max(1,Y[0].original.startLineNumber-pV),Math.min(Y[Y.length-1].original.endLineNumberExclusive+pV,$+1)),q=new l0(Math.max(1,Y[0].modified.startLineNumber-pV),Math.min(Y[Y.length-1].modified.endLineNumberExclusive+pV,Q+1));NW(Y,(H,j)=>{let B=new l0(H?H.original.endLineNumberExclusive:G.startLineNumber,j?j.original.startLineNumber:G.endLineNumberExclusive),V=new l0(H?H.modified.endLineNumberExclusive:q.startLineNumber,j?j.modified.startLineNumber:q.endLineNumberExclusive);if(B.forEach((W)=>{Z.push(new Uo(W,V.startLineNumber+(W-B.startLineNumber)))}),j)j.original.forEach((W)=>{Z.push(new Go(j,W))}),j.modified.forEach((W)=>{Z.push(new qo(j,W))})});let U=Y[0].modified.join(Y[Y.length-1].modified),z=Y[0].original.join(Y[Y.length-1].original);X.push(new Yo(new V8(U,z),Z))}return X}class Yo{constructor(J,$){this.range=J,this.lines=$}}class Zo{constructor(){this.type=B7.Header}}class Go{constructor(J,$){this.diff=J,this.originalLineNumber=$,this.type=B7.Deleted,this.modifiedLineNumber=void 0}}class qo{constructor(J,$){this.diff=J,this.modifiedLineNumber=$,this.type=B7.Added,this.originalLineNumber=void 0}}class Uo{constructor(J,$){this.originalLineNumber=J,this.modifiedLineNumber=$,this.type=B7.Unchanged}}var Qy=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Xy=function(J,$){return function(Q,X){$(Q,X,J)}},n$0,o$0,t$0,bX,Jy,pV=3,B7,$y;var zo=E(()=>{x0();ZY();JQ();EJ();Z7();B1();O5();B0();t8();N5();P4();aJ();U8();s7();n9();e0();jY();d9();sQ();L3();x4();a0();_G();n0();VU();Xo();n$0=V7("diff-review-insert",O0.add,M("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),o$0=V7("diff-review-remove",O0.remove,M("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),t$0=V7("diff-review-close",O0.close,M("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer.")),bX=class extends r{constructor($,Q,X,Y,Z,G,q,U,z){super();this._parentNode=$,this._visible=Q,this._setVisible=X,this._canClose=Y,this._width=Z,this._height=G,this._diffs=q,this._editors=U,this._instantiationService=z,this._state=G4(this,(H,j)=>{let B=this._visible.read(H);if(this._parentNode.style.visibility=B?"visible":"hidden",!B)return null;let V=j.add(this._instantiationService.createInstance(Jy,this._diffs,this._editors,this._setVisible,this._canClose)),W=j.add(this._instantiationService.createInstance($y,this._parentNode,V,this._width,this._height,this._editors));return{model:V,view:W}}).recomputeInitiallyAndOnChange(this._store)}next(){b6(($)=>{let Q=this._visible.get();if(this._setVisible(!0,$),Q)this._state.get().model.nextGroup($)})}prev(){b6(($)=>{this._setVisible(!0,$),this._state.get().model.previousGroup($)})}close(){b6(($)=>{this._setVisible(!1,$)})}};bX._ttPolicy=A9("diffReview",{createHTML:(J)=>J});bX=Qy([Xy(8,r0)],bX);Jy=class extends r{constructor($,Q,X,Y,Z){super();this._diffs=$,this._editors=Q,this._setVisible=X,this.canClose=Y,this._audioCueService=Z,this._groups=N1(this,[]),this._currentGroupIdx=N1(this,0),this._currentElementIdx=N1(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((G,q)=>this._groups.read(q)[G]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((G,q)=>{var U;return(U=this.currentGroup.read(q))===null||U===void 0?void 0:U.lines[G]}),this._register(k1((G)=>{let q=this._diffs.read(G);if(!q){this._groups.set([],void 0);return}let U=e$0(q,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());b6((z)=>{let H=this._editors.modified.getPosition();if(H){let j=U.findIndex((B)=>(H===null||H===void 0?void 0:H.lineNumber)<B.range.modified.endLineNumberExclusive);if(j!==-1)this._currentGroupIdx.set(j,z)}this._groups.set(U,z)})})),this._register(k1((G)=>{let q=this.currentElement.read(G);if((q===null||q===void 0?void 0:q.type)===B7.Deleted)this._audioCueService.playAudioCue(j1.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"});else if((q===null||q===void 0?void 0:q.type)===B7.Added)this._audioCueService.playAudioCue(j1.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(k1((G)=>{var q;let U=this.currentElement.read(G);if(U&&U.type!==B7.Header){let z=(q=U.modifiedLineNumber)!==null&&q!==void 0?q:U.diff.modified.startLineNumber;this._editors.modified.setSelection(v.fromPositions(new s(z,1)))}}))}_goToGroupDelta($,Q){let X=this.groups.get();if(!X||X.length<=1)return;NG(Q,(Y)=>{this._currentGroupIdx.set(J1.ofLength(X.length).clipCyclic(this._currentGroupIdx.get()+$),Y),this._currentElementIdx.set(0,Y)})}nextGroup($){this._goToGroupDelta(1,$)}previousGroup($){this._goToGroupDelta(-1,$)}_goToLineDelta($){let Q=this.currentGroup.get();if(!Q||Q.lines.length<=1)return;b6((X)=>{this._currentElementIdx.set(J1.ofLength(Q.lines.length).clip(this._currentElementIdx.get()+$),X)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($){let Q=this.currentGroup.get();if(!Q)return;let X=Q.lines.indexOf($);if(X===-1)return;b6((Y)=>{this._currentElementIdx.set(X,Y)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);let $=this.currentElement.get();if($)if($.type===B7.Deleted)this._editors.original.setSelection(v.fromPositions(new s($.originalLineNumber,1))),this._editors.original.revealLine($.originalLineNumber),this._editors.original.focus();else{if($.type!==B7.Header)this._editors.modified.setSelection(v.fromPositions(new s($.modifiedLineNumber,1))),this._editors.modified.revealLine($.modifiedLineNumber);this._editors.modified.focus()}}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};Jy=Qy([Xy(4,Z4)],Jy);(function(J){J[J.Header=0]="Header",J[J.Unchanged=1]="Unchanged",J[J.Deleted=2]="Deleted",J[J.Added=3]="Added"})(B7||(B7={}));$y=class extends r{constructor($,Q,X,Y,Z,G){super();this._element=$,this._model=Q,this._width=X,this._height=Y,this._editors=Z,this._languageService=G,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";let q=document.createElement("div");q.className="diff-review-actions",this._actionBar=this._register(new R8(q)),this._register(k1((U)=>{if(this._actionBar.clear(),this._model.canClose.read(U))this._actionBar.push(new O7("diffreview.close",M("label.close","Close"),"close-diff-review "+c0.asClassName(t$0),!0,async()=>Q.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new XX(this._content,{})),w5(this.domNode,this._scrollbar.getDomNode(),q),this._register(y0(()=>{w5(this.domNode)})),this._register(d4(this.domNode,{width:this._width,height:this._height})),this._register(d4(this._content,{width:this._width,height:this._height})),this._register(W7((U,z)=>{this._model.currentGroup.read(U),this._render(z)})),this._register(q6(this.domNode,"keydown",(U)=>{if(U.equals(18)||U.equals(2066)||U.equals(530))U.preventDefault(),this._model.goToNextLine();if(U.equals(16)||U.equals(2064)||U.equals(528))U.preventDefault(),this._model.goToPreviousLine();if(U.equals(9)||U.equals(2057)||U.equals(521)||U.equals(1033))U.preventDefault(),this._model.close();if(U.equals(10)||U.equals(3))U.preventDefault(),this._model.revealCurrentElementInEditor()}))}_render($){let Q=this._editors.original.getOptions(),X=this._editors.modified.getOptions(),Y=document.createElement("div");Y.className="diff-review-table",Y.setAttribute("role","list"),Y.setAttribute("aria-label",M("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),h6(Y,X.get(50)),w5(this._content,Y);let Z=this._editors.original.getModel(),G=this._editors.modified.getModel();if(!Z||!G)return;let q=Z.getOptions(),U=G.getOptions(),z=X.get(66),H=this._model.currentGroup.get();for(let j of(H===null||H===void 0?void 0:H.lines)||[]){if(!H)break;let B;if(j.type===B7.Header){let W=document.createElement("div");W.className="diff-review-row",W.setAttribute("role","listitem");let K=H.range,A=this._model.currentGroupIndex.get(),F=this._model.groups.get().length,P=(O)=>O===0?M("no_lines_changed","no lines changed"):O===1?M("one_line_changed","1 line changed"):M("more_lines_changed","{0} lines changed",O),R=P(K.original.length),D=P(K.modified.length);W.setAttribute("aria-label",M({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",A+1,F,K.original.startLineNumber,R,K.modified.startLineNumber,D));let _=document.createElement("div");_.className="diff-review-cell diff-review-summary",_.appendChild(document.createTextNode(`${A+1}/${F}: @@ -${K.original.startLineNumber},${K.original.length} +${K.modified.startLineNumber},${K.modified.length} @@`)),W.appendChild(_),B=W}else B=this._createRow(j,z,this._width.get(),Q,Z,q,X,G,U);Y.appendChild(B);let V=X1((W)=>this._model.currentElement.read(W)===j);$.add(k1((W)=>{let K=V.read(W);if(B.tabIndex=K?0:-1,K)B.focus()})),$.add(t(B,"focus",()=>{this._model.goToLine(j)}))}this._scrollbar.scanDomNode()}_createRow($,Q,X,Y,Z,G,q,U,z){let H=Y.get(143),j=H.glyphMarginWidth+H.lineNumbersWidth,B=q.get(143),V=10+B.glyphMarginWidth+B.lineNumbersWidth,W="diff-review-row",K="",A="diff-review-spacer",F=null;switch($.type){case B7.Added:W="diff-review-row line-insert",K=" char-insert",F=n$0;break;case B7.Deleted:W="diff-review-row line-delete",K=" char-delete",F=o$0;break}let P=document.createElement("div");P.style.minWidth=X+"px",P.className=W,P.setAttribute("role","listitem"),P.ariaLevel="";let R=document.createElement("div");R.className="diff-review-cell",R.style.height=`${Q}px`,P.appendChild(R);let D=document.createElement("span");if(D.style.width=j+"px",D.style.minWidth=j+"px",D.className="diff-review-line-number"+K,$.originalLineNumber!==void 0)D.appendChild(document.createTextNode(String($.originalLineNumber)));else D.innerText=" ";R.appendChild(D);let _=document.createElement("span");if(_.style.width=V+"px",_.style.minWidth=V+"px",_.style.paddingRight="10px",_.className="diff-review-line-number"+K,$.modifiedLineNumber!==void 0)_.appendChild(document.createTextNode(String($.modifiedLineNumber)));else _.innerText=" ";R.appendChild(_);let O=document.createElement("span");if(O.className=A,F){let T=document.createElement("span");T.className=c0.asClassName(F),T.innerText="  ",O.appendChild(T)}else O.innerText="  ";R.appendChild(O);let N;if($.modifiedLineNumber!==void 0){let T=this._getLineHtml(U,q,z.tabSize,$.modifiedLineNumber,this._languageService.languageIdCodec);if(bX._ttPolicy)T=bX._ttPolicy.createHTML(T);R.insertAdjacentHTML("beforeend",T),N=U.getLineContent($.modifiedLineNumber)}else{let T=this._getLineHtml(Z,Y,G.tabSize,$.originalLineNumber,this._languageService.languageIdCodec);if(bX._ttPolicy)T=bX._ttPolicy.createHTML(T);R.insertAdjacentHTML("beforeend",T),N=Z.getLineContent($.originalLineNumber)}if(N.length===0)N=M("blankLine","blank");let w="";switch($.type){case B7.Unchanged:if($.originalLineNumber===$.modifiedLineNumber)w=M({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",N,$.originalLineNumber);else w=M("equalLine","{0} original line {1} modified line {2}",N,$.originalLineNumber,$.modifiedLineNumber);break;case B7.Added:w=M("insertLine","+ {0} modified line {1}",N,$.modifiedLineNumber);break;case B7.Deleted:w=M("deleteLine","- {0} original line {1}",N,$.originalLineNumber);break}return P.setAttribute("aria-label",w),P}_getLineHtml($,Q,X,Y,Z){let G=$.getLineContent(Y),q=Q.get(50),U=g6.createEmpty(G,Z),z=s8.isBasicASCII(G,$.mightContainNonBasicASCII()),H=s8.containsRTL(G,z,$.mightContainRTL());return w3(new PJ(q.isMonospace&&!Q.get(33),q.canUseHalfwidthRightwardsArrow,G,!1,z,H,0,U,[],X,0,q.spaceWidth,q.middotWidth,q.wsmiddotWidth,Q.get(116),Q.get(98),Q.get(93),Q.get(51)!==X7.OFF,null)).html}};$y=Qy([Xy(5,H6)],$y)});class Zy{static compute(J){let $=[],Q=[];for(let X of J){let Y=$.findIndex((Z)=>!Z.intersectsStrict(X));if(Y===-1)if($.length>=6)Y=sv($,v7((G)=>G.intersectWithRangeLength(X),WQ));else Y=$.length,$.push(new nF);$[Y].addRange(X),Q.push(Y)}return new Zy($.length,Q)}constructor(J,$){this._trackCount=J,this.trackPerLineIdx=$}getTrack(J){return this.trackPerLineIdx[J]}getTrackCount(){return this._trackCount}}var qQ,Yy;var Gy=E(()=>{x0();JQ();Z7();B1();FJ();O5();B0();t8();N5();aJ();n9();a0();qQ=class qQ extends r{constructor(J,$,Q,X,Y){super();this._rootElement=J,this._diffModel=$,this._originalEditorLayoutInfo=Q,this._modifiedEditorLayoutInfo=X,this._editors=Y,this._originalScrollTop=u6(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=u6(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=x7("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=N1(this,0),this._modifiedViewZonesChangedSignal=x7("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=x7("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=G4(this,(j,B)=>{var V;this._element.replaceChildren();let W=this._diffModel.read(j),K=(V=W===null||W===void 0?void 0:W.diff.read(j))===null||V===void 0?void 0:V.movedTexts;if(!K||K.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(j);let A=this._originalEditorLayoutInfo.read(j),F=this._modifiedEditorLayoutInfo.read(j);if(!A||!F){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(j),this._originalViewZonesChangedSignal.read(j);let P=K.map((T)=>{function I(u,$0){let Z0=$0.getTopForLineNumber(u.startLineNumber,!0),U0=$0.getTopForLineNumber(u.endLineNumberExclusive,!0);return(Z0+U0)/2}let k=I(T.lineRangeMapping.original,this._editors.original),x=this._originalScrollTop.read(j),S=I(T.lineRangeMapping.modified,this._editors.modified),l=this._modifiedScrollTop.read(j),d=k-x,y=S-l,b=Math.min(k,S),h=Math.max(k,S);return{range:new J1(b,h),from:d,to:y,fromWithoutScroll:k,toWithoutScroll:S,move:T}});P.sort(Qb(v7((T)=>T.fromWithoutScroll>T.toWithoutScroll,Xb),v7((T)=>T.fromWithoutScroll>T.toWithoutScroll?T.fromWithoutScroll:-T.toWithoutScroll,WQ)));let R=Zy.compute(P.map((T)=>T.range)),D=10,_=A.verticalScrollbarWidth,O=(R.getTrackCount()-1)*10+D*2,N=_+O+(F.contentLeft-qQ.movedCodeBlockPadding),w=0;for(let T of P){let I=R.getTrack(w),k=_+D+I*10,x=15,S=15,l=N,d=F.glyphMarginWidth+F.lineNumbersWidth,y=18,b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.classList.add("arrow-rectangle"),b.setAttribute("x",`${l-d}`),b.setAttribute("y",`${T.to-9}`),b.setAttribute("width",`${d}`),b.setAttribute("height","18"),this._element.appendChild(b);let h=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",`M 0 ${T.from} L ${k} ${T.from} L ${k} ${T.to} L ${l-15} ${T.to}`),u.setAttribute("fill","none"),h.appendChild(u);let $0=document.createElementNS("http://www.w3.org/2000/svg","polygon");$0.classList.add("arrow"),B.add(k1((Z0)=>{u.classList.toggle("currentMove",T.move===W.activeMovedText.read(Z0)),$0.classList.toggle("currentMove",T.move===W.activeMovedText.read(Z0))})),$0.setAttribute("points",`${l-15},${T.to-7.5} ${l},${T.to} ${l-15},${T.to+7.5}`),h.appendChild($0),this._element.appendChild(h),w++}this.width.set(O,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(y0(()=>this._element.remove())),this._register(k1((j)=>{let B=this._originalEditorLayoutInfo.read(j),V=this._modifiedEditorLayoutInfo.read(j);if(!B||!V)return;this._element.style.left=`${B.width-B.verticalScrollbarWidth}px`,this._element.style.height=`${B.height}px`,this._element.style.width=`${B.verticalScrollbarWidth+B.contentLeft-qQ.movedCodeBlockPadding+this.width.read(j)}px`})),this._register(GZ(this._state));let Z=X1((j)=>{let B=this._diffModel.read(j),V=B===null||B===void 0?void 0:B.diff.read(j);if(!V)return[];return V.movedTexts.map((W)=>({move:W,original:new LG(aD(W.lineRangeMapping.original.startLineNumber-1),18),modified:new LG(aD(W.lineRangeMapping.modified.startLineNumber-1),18)}))});this._register(RU(this._editors.original,Z.map((j)=>j.map((B)=>B.original)))),this._register(RU(this._editors.modified,Z.map((j)=>j.map((B)=>B.modified)))),this._register(W7((j,B)=>{let V=Z.read(j);for(let W of V)B.add(new Yy(this._editors.original,W.original,W.move,"original",this._diffModel.get())),B.add(new Yy(this._editors.modified,W.modified,W.move,"modified",this._diffModel.get()))}));let G=u6(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),q=u6(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),U=x7("original.onDidFocusEditorWidget",(j)=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>j(void 0),0))),z=x7("modified.onDidFocusEditorWidget",(j)=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>j(void 0),0))),H="modified";this._register(ZZ({createEmptyChangeSummary:()=>{return},handleChange:(j,B)=>{if(j.didChange(U))H="original";if(j.didChange(z))H="modified";return!0}},(j)=>{U.read(j),z.read(j);let B=this._diffModel.read(j);if(!B)return;let V=B.diff.read(j),W=void 0;if(V&&H==="original"){let K=G.read(j);if(K)W=V.movedTexts.find((A)=>A.lineRangeMapping.original.contains(K.lineNumber))}if(V&&H==="modified"){let K=q.read(j);if(K)W=V.movedTexts.find((A)=>A.lineRangeMapping.modified.contains(K.lineNumber))}if(W!==B.movedTextToCompare.get())B.movedTextToCompare.set(void 0,void 0);B.setActiveMovedText(W)}))}};qQ.movedCodeBlockPadding=4;Yy=class Yy extends fV{constructor(J,$,Q,X,Y){let Z=o1("div.diff-hidden-lines-widget");super(J,$,Z.root);this._editor=J,this._move=Q,this._kind=X,this._diffModel=Y,this._nodes=o1("div.diff-moved-code-block",{style:{marginRight:"4px"}},[o1("div.text-content@textContent"),o1("div.action-bar@actionBar")]),Z.root.appendChild(this._nodes.root);let G=u6(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(d4(this._nodes.root,{paddingRight:G.map((j)=>j.verticalScrollbarWidth)}));let q;if(Q.changes.length>0)q=this._kind==="original"?M("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):M("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);else q=this._kind==="original"?M("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):M("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);let U=this._register(new R8(this._nodes.actionBar,{highlightToggledItems:!0})),z=new O7("",q,"",!1);U.push(z,{icon:!1,label:!0});let H=new O7("","Compare",c0.asClassName(O0.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===Q?void 0:this._move,void 0)});this._register(k1((j)=>{let B=this._diffModel.movedTextToCompare.read(j)===Q;H.checked=B})),U.push(H,{icon:!1,label:!0})}}});var Te0,we0,Le0,JQ0,qy,Uy,zy,Hy,jy,Vy,Ho,jo,mV,Vo,Wo;var Wy=E(()=>{O5();N5();hY();a0();x8();VU();Te0=f("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},M("diffEditor.move.border","The border color for text that got moved in the diff editor.")),we0=f("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},M("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),Le0=f("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},M("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets.")),JQ0=V7("diff-insert",O0.add,M("diffInsertIcon","Line decoration for inserts in the diff editor.")),qy=V7("diff-remove",O0.remove,M("diffRemoveIcon","Line decoration for removals in the diff editor.")),Uy=C1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+c0.asClassName(JQ0),marginClassName:"gutter-insert"}),zy=C1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+c0.asClassName(qy),marginClassName:"gutter-delete"}),Hy=C1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),jy=C1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),Vy=C1.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),Ho=C1.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),jo=C1.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),mV=C1.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),Vo=C1.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),Wo=C1.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})});var By;var Bo=E(()=>{B0();t8();Gy();Wy();aJ();By=class By extends r{constructor(J,$,Q,X){super();this._editors=J,this._diffModel=$,this._options=Q,this._decorations=X1(this,(Y)=>{var Z;let G=(Z=this._diffModel.read(Y))===null||Z===void 0?void 0:Z.diff.read(Y);if(!G)return null;let q=this._diffModel.read(Y).movedTextToCompare.read(Y),U=this._options.renderIndicators.read(Y),z=this._options.showEmptyDecorations.read(Y),H=[],j=[];if(!q)for(let V of G.mappings){if(!V.lineRangeMapping.original.isEmpty)H.push({range:V.lineRangeMapping.original.toInclusiveRange(),options:U?zy:jy});if(!V.lineRangeMapping.modified.isEmpty)j.push({range:V.lineRangeMapping.modified.toInclusiveRange(),options:U?Uy:Hy});if(V.lineRangeMapping.modified.isEmpty||V.lineRangeMapping.original.isEmpty){if(!V.lineRangeMapping.original.isEmpty)H.push({range:V.lineRangeMapping.original.toInclusiveRange(),options:Vo});if(!V.lineRangeMapping.modified.isEmpty)j.push({range:V.lineRangeMapping.modified.toInclusiveRange(),options:Ho})}else for(let W of V.lineRangeMapping.innerChanges||[]){if(V.lineRangeMapping.original.contains(W.originalRange.startLineNumber))H.push({range:W.originalRange,options:W.originalRange.isEmpty()&&z?Wo:mV});if(V.lineRangeMapping.modified.contains(W.modifiedRange.startLineNumber))j.push({range:W.modifiedRange,options:W.modifiedRange.isEmpty()&&z?jo:Vy})}}if(q)for(let V of q.changes){let W=V.original.toInclusiveRange();if(W)H.push({range:W,options:U?zy:jy});let K=V.modified.toInclusiveRange();if(K)j.push({range:K,options:U?Uy:Hy});for(let A of V.innerChanges||[])H.push({range:A.originalRange,options:mV}),j.push({range:A.modifiedRange,options:Vy})}let B=this._diffModel.read(Y).activeMovedText.read(Y);for(let V of G.movedTexts)H.push({range:V.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(V===B?" currentMove":""),blockPadding:[qQ.movedCodeBlockPadding,0,qQ.movedCodeBlockPadding,qQ.movedCodeBlockPadding]}}),j.push({range:V.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(V===B?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:H,modifiedDecorations:j}}),this._register(DU(this._editors.original,this._decorations.map((Y)=>(Y===null||Y===void 0?void 0:Y.originalDecorations)||[]))),this._register(DU(this._editors.modified,this._decorations.map((Y)=>(Y===null||Y===void 0?void 0:Y.modifiedDecorations)||[])))}}});var Fy;var Fo=E(()=>{oP();B0();t8();Fy=class Fy extends r{constructor(J,$,Q,X){super();this._options=J,this._domNode=$,this._dimensions=Q,this._sashes=X,this._sashRatio=N1(this,void 0),this.sashLeft=X1(this,(Y)=>{var Z;let G=(Z=this._sashRatio.read(Y))!==null&&Z!==void 0?Z:this._options.splitViewDefaultRatio.read(Y);return this._computeSashLeft(G,Y)}),this._sash=this._register(new M8(this._domNode,{getVerticalSashTop:(Y)=>0,getVerticalSashLeft:(Y)=>this.sashLeft.get(),getVerticalSashHeight:(Y)=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange((Y)=>{let Z=this._dimensions.width.get(),G=this._computeSashLeft((this._startSashPosition+(Y.currentX-Y.startX))/Z,void 0);this._sashRatio.set(G/Z,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(k1((Y)=>{let Z=this._sashes.read(Y);if(Z)this._sash.orthogonalEndSash=Z.bottom})),this._register(k1((Y)=>{let Z=this._options.enableSplitViewResizing.read(Y);this._sash.state=Z?3:0,this.sashLeft.read(Y),this._dimensions.height.read(Y),this._sash.layout()}))}_computeSashLeft(J,$){let Q=this._dimensions.width.read($),X=Math.floor(this._options.splitViewDefaultRatio.read($)*Q),Y=this._options.enableSplitViewResizing.read($)?Math.floor(J*Q):X,Z=100;if(Q<=200)return X;if(Y<100)return 100;if(Y>Q-100)return Q-100;return Y}}});var $Q0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},QQ0=function(J,$){return function(Q,X){$(Q,X,J)}},Ky,uV,Ay;var Ko=E(()=>{x0();o2();O5();e2();B0();t8();bV();N5();aJ();s7();e0();w8();a0();n0();uV=Ky=class extends r{static setBreadcrumbsSourceFactory($){this._breadcrumbsSourceFactory.set($,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor($,Q,X,Y){super();this._editors=$,this._diffModel=Q,this._options=X,this._instantiationService=Y,this._modifiedOutlineSource=GQ(this,(U)=>{let z=this._editors.modifiedModel.read(U),H=Ky._breadcrumbsSourceFactory.read(U);return!z||!H?void 0:H(z,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition((U)=>{if(U.reason===3){let z=this._diffModel.get();b6((H)=>{for(let j of this._editors.original.getSelections()||[])z===null||z===void 0||z.ensureOriginalLineIsVisible(j.getStartPosition().lineNumber,0,H),z===null||z===void 0||z.ensureOriginalLineIsVisible(j.getEndPosition().lineNumber,0,H)})}})),this._register(this._editors.modified.onDidChangeCursorPosition((U)=>{if(U.reason===3){let z=this._diffModel.get();b6((H)=>{for(let j of this._editors.modified.getSelections()||[])z===null||z===void 0||z.ensureModifiedLineIsVisible(j.getStartPosition().lineNumber,0,H),z===null||z===void 0||z.ensureModifiedLineIsVisible(j.getEndPosition().lineNumber,0,H)})}}));let Z=this._diffModel.map((U,z)=>{var H,j;let B=(H=U===null||U===void 0?void 0:U.unchangedRegions.read(z))!==null&&H!==void 0?H:[];if(B.length===1&&B[0].modifiedLineNumber===1&&B[0].lineCount===((j=this._editors.modifiedModel.read(z))===null||j===void 0?void 0:j.getLineCount()))return[];return B});this.viewZones=G4(this,(U,z)=>{let H=this._modifiedOutlineSource.read(U);if(!H)return{origViewZones:[],modViewZones:[]};let j=[],B=[],V=this._options.renderSideBySide.read(U),W=Z.read(U);for(let K of W){if(K.shouldHideControls(U))continue;{let A=X1(this,(P)=>K.getHiddenOriginalRange(P).startLineNumber-1),F=new LG(A,24);j.push(F),z.add(new Ay(this._editors.original,F,K,K.originalUnchangedRange,!V,H,(P)=>this._diffModel.get().ensureModifiedLineIsVisible(P,2,void 0),this._options))}{let A=X1(this,(P)=>K.getHiddenModifiedRange(P).startLineNumber-1),F=new LG(A,24);B.push(F),z.add(new Ay(this._editors.modified,F,K,K.modifiedUnchangedRange,!1,H,(P)=>this._diffModel.get().ensureModifiedLineIsVisible(P,2,void 0),this._options))}}return{origViewZones:j,modViewZones:B}});let G={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},q={description:"Fold Unchanged",glyphMarginHoverMessage:new bq(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(M("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+c0.asClassName(O0.fold),zIndex:10001};this._register(DU(this._editors.original,X1(this,(U)=>{let z=Z.read(U),H=z.map((j)=>({range:j.originalUnchangedRange.toInclusiveRange(),options:G}));for(let j of z)if(j.shouldHideControls(U))H.push({range:v.fromPositions(new s(j.originalLineNumber,1)),options:q});return H}))),this._register(DU(this._editors.modified,X1(this,(U)=>{let z=Z.read(U),H=z.map((j)=>({range:j.modifiedUnchangedRange.toInclusiveRange(),options:G}));for(let j of z)if(j.shouldHideControls(U))H.push({range:l0.ofLength(j.modifiedLineNumber,1).toInclusiveRange(),options:q});return H}))),this._register(k1((U)=>{let z=Z.read(U);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(z.map((H)=>H.getHiddenOriginalRange(U).toInclusiveRange()).filter(BQ)),this._editors.modified.setHiddenAreas(z.map((H)=>H.getHiddenModifiedRange(U).toInclusiveRange()).filter(BQ))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp((U)=>{var z;if(!U.event.rightButton&&U.target.position&&((z=U.target.element)===null||z===void 0?void 0:z.className.includes("fold-unchanged"))){let H=U.target.position.lineNumber,j=this._diffModel.get();if(!j)return;let B=j.unchangedRegions.get().find((V)=>V.modifiedUnchangedRange.includes(H));if(!B)return;B.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}})),this._register(this._editors.original.onMouseUp((U)=>{var z;if(!U.event.rightButton&&U.target.position&&((z=U.target.element)===null||z===void 0?void 0:z.className.includes("fold-unchanged"))){let H=U.target.position.lineNumber,j=this._diffModel.get();if(!j)return;let B=j.unchangedRegions.get().find((V)=>V.originalUnchangedRange.includes(H));if(!B)return;B.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}}))}};uV._breadcrumbsSourceFactory=N1("breadcrumbsSourceFactory",void 0);uV=Ky=$Q0([QQ0(3,r0)],uV);Ay=class Ay extends fV{constructor(J,$,Q,X,Y,Z,G,q){let U=o1("div.diff-hidden-lines-widget");super(J,$,U.root);this._editor=J,this._unchangedRegion=Q,this._unchangedRegionRange=X,this._hide=Y,this._modifiedOutlineSource=Z,this._revealModifiedHiddenLine=G,this._options=q,this._nodes=o1("div.diff-hidden-lines",[o1("div.top@top",{title:M("diff.hiddenLines.top","Click or drag to show more above")}),o1("div.center@content",{style:{display:"flex"}},[o1("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[M0("a",{title:M("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...p4("$(unfold)"))]),o1("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),o1("div.bottom@bottom",{title:M("diff.bottom","Click or drag to show more below"),role:"button"})]),U.root.appendChild(this._nodes.root);let z=u6(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());if(!this._hide)this._register(d4(this._nodes.first,{width:z.map((j)=>j.contentLeft)}));else w5(this._nodes.first);this._register(k1((j)=>{let B=this._unchangedRegion.visibleLineCountTop.read(j)+this._unchangedRegion.visibleLineCountBottom.read(j)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!B),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(j)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(j)>0),this._nodes.top.classList.toggle("canMoveBottom",!B);let V=this._unchangedRegion.isDragged.read(j),W=this._editor.getDomNode();if(W)if(W.classList.toggle("draggingUnchangedRegion",!!V),V==="top")W.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(j)>0),W.classList.toggle("canMoveBottom",!B);else if(V==="bottom")W.classList.toggle("canMoveTop",!B),W.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(j)>0);else W.classList.toggle("canMoveTop",!1),W.classList.toggle("canMoveBottom",!1)}));let H=this._editor;this._register(t(this._nodes.top,"mousedown",(j)=>{if(j.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),j.preventDefault();let B=j.clientY,V=!1,W=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);let K=L0(this._nodes.top),A=t(K,"mousemove",(P)=>{let D=P.clientY-B;V=V||Math.abs(D)>2;let _=Math.round(D/H.getOption(66)),O=Math.max(0,Math.min(W+_,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(O,void 0)}),F=t(K,"mouseup",(P)=>{if(!V)this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),A.dispose(),F.dispose()})})),this._register(t(this._nodes.bottom,"mousedown",(j)=>{if(j.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),j.preventDefault();let B=j.clientY,V=!1,W=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);let K=L0(this._nodes.bottom),A=t(K,"mousemove",(P)=>{let D=P.clientY-B;V=V||Math.abs(D)>2;let _=Math.round(D/H.getOption(66)),O=Math.max(0,Math.min(W-_,this._unchangedRegion.getMaxVisibleLineCountBottom())),N=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(O,void 0);let w=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);H.setScrollTop(H.getScrollTop()+(w-N))}),F=t(K,"mouseup",(P)=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!V){let R=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);let D=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);H.setScrollTop(H.getScrollTop()+(D-R))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),A.dispose(),F.dispose()})})),this._register(k1((j)=>{let B=[];if(!this._hide){let V=Q.getHiddenModifiedRange(j).length,W=M("hiddenLines","{0} hidden lines",V),K=M0("span",{title:M("diff.hiddenLines.expandAll","Double click to unfold")},W);K.addEventListener("dblclick",(P)=>{if(P.button!==0)return;P.preventDefault(),this._unchangedRegion.showAll(void 0)}),B.push(K);let A=this._unchangedRegion.getHiddenModifiedRange(j),F=this._modifiedOutlineSource.getBreadcrumbItems(A,j);if(F.length>0){B.push(M0("span",void 0,"  |  "));for(let P=0;P<F.length;P++){let R=F[P],D=rW.toIcon(R.kind),_=o1("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[Iq(D)," ",R.name,...P===F.length-1?[]:[Iq(O0.chevronRight)]]).root;B.push(_),_.onclick=()=>{this._revealModifiedHiddenLine(R.startLineNumber)}}}}w5(this._nodes.others,...B)}))}}});var Ao=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Py=function(J,$){return function(Q,X){$(Q,X,J)}},kG,Ry,Dy=class{constructor($){this.instantiationService=$}createDiffProvider($){return this.instantiationService.createInstance(oD,$)}},oD;var Po=E(()=>{s9();n0();E0();G$();s7();jY();tq();JY();Ry=b0("diffProviderFactoryService");Dy=Ao([Py(0,r0)],Dy);K1(Ry,Dy,1);oD=kG=class{constructor($,Q,X){this.editorWorkerService=Q,this.telemetryService=X,this.onDidChangeEventEmitter=new p,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions($)}dispose(){var $;($=this.diffAlgorithmOnDidChangeSubscription)===null||$===void 0||$.dispose()}async computeDiff($,Q,X,Y){var Z,G;if(typeof this.diffAlgorithm!=="string")return this.diffAlgorithm.computeDiff($,Q,X,Y);if($.getLineCount()===1&&$.getLineMaxColumn(1)===1){if(Q.getLineCount()===1&&Q.getLineMaxColumn(1)===1)return{changes:[],identical:!0,quitEarly:!1,moves:[]};return{changes:[new _7(new l0(1,2),new l0(1,Q.getLineCount()+1),[new o9($.getFullModelRange(),Q.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]}}let q=JSON.stringify([$.uri.toString(),Q.uri.toString()]),U=JSON.stringify([$.id,Q.id,$.getAlternativeVersionId(),Q.getAlternativeVersionId(),JSON.stringify(X)]),z=kG.diffCache.get(q);if(z&&z.context===U)return z.result;let H=R5.create(),j=await this.editorWorkerService.computeDiff($.uri,Q.uri,X,this.diffAlgorithm),B=H.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:B,timedOut:(Z=j===null||j===void 0?void 0:j.quitEarly)!==null&&Z!==void 0?Z:!0,detectedMoves:X.computeMoves?(G=j===null||j===void 0?void 0:j.moves.length)!==null&&G!==void 0?G:0:-1}),Y.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!j)throw Error("no diff result available");if(kG.diffCache.size>10)kG.diffCache.delete(kG.diffCache.keys().next().value);return kG.diffCache.set(q,{result:j,context:U}),j}setOptions($){var Q;let X=!1;if($.diffAlgorithm){if(this.diffAlgorithm!==$.diffAlgorithm){if((Q=this.diffAlgorithmOnDidChangeSubscription)===null||Q===void 0||Q.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=$.diffAlgorithm,typeof $.diffAlgorithm!=="string")this.diffAlgorithmOnDidChangeSubscription=$.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire());X=!0}}if(X)this.onDidChangeEventEmitter.fire()}};oD.diffCache=new Map;oD=kG=Ao([Py(1,T9),Py(2,z7)],oD)});function ZQ0(J,$,Q){return{changes:J.changes.map((X)=>new _7(X.original,X.modified,X.innerChanges?X.innerChanges.map((Y)=>GQ0(Y,$,Q)):void 0)),moves:J.moves,identical:J.identical,quitEarly:J.quitEarly}}function GQ0(J,$,Q){let{originalRange:X,modifiedRange:Y}=J;if((X.endColumn!==1||Y.endColumn!==1)&&X.endColumn===$.getLineMaxColumn(X.endLineNumber)&&Y.endColumn===Q.getLineMaxColumn(Y.endLineNumber)&&X.endLineNumber<$.getLineCount()&&Y.endLineNumber<Q.getLineCount())X=X.setEndPosition(X.endLineNumber+1,1),Y=Y.setEndPosition(Y.endLineNumber+1,1);return new o9(X,Y)}class cV{static fromDiffResult(J){return new cV(J.changes.map(($)=>new eD($)),J.moves||[],J.identical,J.quitEarly)}constructor(J,$,Q,X){this.mappings=J,this.movedTexts=$,this.identical=Q,this.quitEarly=X}}class eD{constructor(J){this.lineRangeMapping=J}}class qZ{static fromDiffs(J,$,Q,X,Y){let Z=_7.inverse(J,$,Q),G=[];for(let q of Z){let U=q.original.startLineNumber,z=q.modified.startLineNumber,H=q.original.length,j=U===1&&z===1,B=U+H===$+1&&z+H===Q+1;if((j||B)&&H>=Y+X){if(j&&!B)H-=Y;if(B&&!j)U+=Y,z+=Y,H-=Y;G.push(new qZ(U,z,H,0,0))}else if(H>=Y*2+X)U+=Y,z+=Y,H-=Y*2,G.push(new qZ(U,z,H,0,0))}return G}get originalUnchangedRange(){return l0.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return l0.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(J,$,Q,X,Y){this.originalLineNumber=J,this.modifiedLineNumber=$,this.lineCount=Q,this._visibleLineCountTop=N1(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=N1(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=X1(this,(q)=>this.visibleLineCountTop.read(q)+this.visibleLineCountBottom.read(q)===this.lineCount&&!this.isDragged.read(q)),this.isDragged=N1(this,void 0);let Z=Math.max(Math.min(X,this.lineCount),0),G=Math.max(Math.min(Y,this.lineCount-X),0);tM(X===Z),tM(Y===G),this._visibleLineCountTop.set(Z,void 0),this._visibleLineCountBottom.set(G,void 0)}setVisibleRanges(J,$){let Q=[],X=new d7(J.map((q)=>q.modified)).subtractFrom(this.modifiedUnchangedRange),Y=this.originalLineNumber,Z=this.modifiedLineNumber,G=this.modifiedLineNumber+this.lineCount;if(X.ranges.length===0)this.showAll($),Q.push(this);else{let q=0;for(let U of X.ranges){let z=q===X.ranges.length-1;q++;let H=(z?G:U.endLineNumberExclusive)-Z,j=new qZ(Y,Z,H,0,0);j.setHiddenModifiedRange(U,$),Q.push(j),Y=j.originalUnchangedRange.endLineNumberExclusive,Z=j.modifiedUnchangedRange.endLineNumberExclusive}}return Q}shouldHideControls(J){return this._shouldHideControls.read(J)}getHiddenOriginalRange(J){return l0.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}getHiddenModifiedRange(J){return l0.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}setHiddenModifiedRange(J,$){let Q=J.startLineNumber-this.modifiedLineNumber,X=this.modifiedLineNumber+this.lineCount-J.endLineNumberExclusive;this.setState(Q,X,$)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(J=10,$){let Q=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+J,Q),$)}showMoreBelow(J=10,$){let Q=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+J,Q),$)}showAll(J){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),J)}showModifiedLine(J,$,Q){let X=J+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),Y=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-J;if($===0&&X<Y||$===1)this._visibleLineCountTop.set(this._visibleLineCountTop.get()+X,Q);else this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+Y,Q)}showOriginalLine(J,$,Q){let X=J-this.originalLineNumber,Y=this.originalLineNumber+this.lineCount-J;if($===0&&X<Y||$===1)this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Y-X,this.getMaxVisibleLineCountTop()),Q);else this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+X-Y,this.getMaxVisibleLineCountBottom()),Q)}collapseAll(J){this._visibleLineCountTop.set(0,J),this._visibleLineCountBottom.set(0,J)}setState(J,$,Q){J=Math.max(Math.min(J,this.lineCount),0),$=Math.max(Math.min($,this.lineCount-J),0),this._visibleLineCountTop.set(J,Q),this._visibleLineCountBottom.set($,Q)}}function Do(J,$,Q,X){return}function Ro(J,$,Q,X){return}var XQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},YQ0=function(J,$){return function(Q,X){$(Q,X,J)}},tD;var My=E(()=>{J6();z8();B0();t8();Po();aJ();s7();I_();jY();uH();Uw();E_();B1();V$();tD=class extends r{setActiveMovedText($){this._activeMovedText.set($,void 0)}constructor($,Q,X){super();this.model=$,this._options=Q,this._diffProviderFactoryService=X,this._isDiffUpToDate=N1(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=N1(this,void 0),this.diff=this._diff,this._unchangedRegions=N1(this,void 0),this.unchangedRegions=X1(this,(q)=>{var U,z;if(this._options.hideUnchangedRegions.read(q))return(z=(U=this._unchangedRegions.read(q))===null||U===void 0?void 0:U.regions)!==null&&z!==void 0?z:[];else return b6((H)=>{var j;for(let B of((j=this._unchangedRegions.get())===null||j===void 0?void 0:j.regions)||[])B.collapseAll(H)}),[]}),this.movedTextToCompare=N1(this,void 0),this._activeMovedText=N1(this,void 0),this._hoveredMovedText=N1(this,void 0),this.activeMovedText=X1(this,(q)=>{var U,z;return(z=(U=this.movedTextToCompare.read(q))!==null&&U!==void 0?U:this._hoveredMovedText.read(q))!==null&&z!==void 0?z:this._activeMovedText.read(q)}),this._cancellationTokenSource=new M5,this._diffProvider=X1(this,(q)=>{let U=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(q)}),z=x7("onDidChange",U.onDidChange);return{diffProvider:U,onChangeSignal:z}}),this._register(y0(()=>this._cancellationTokenSource.cancel()));let Y=rI("contentChangedSignal"),Z=this._register(new z6(()=>Y.trigger(void 0),200));this._register(k1((q)=>{let U=this._unchangedRegions.read(q);if(!U||U.regions.some((W)=>W.isDragged.read(q)))return;let z=U.originalDecorationIds.map((W)=>$.original.getDecorationRange(W)).map((W)=>W?l0.fromRangeInclusive(W):void 0),H=U.modifiedDecorationIds.map((W)=>$.modified.getDecorationRange(W)).map((W)=>W?l0.fromRangeInclusive(W):void 0),j=U.regions.map((W,K)=>!z[K]||!H[K]?void 0:new qZ(z[K].startLineNumber,H[K].startLineNumber,z[K].length,W.visibleLineCountTop.read(q),W.visibleLineCountBottom.read(q))).filter(BQ),B=[],V=!1;for(let W of vG(j,(K,A)=>K.getHiddenModifiedRange(q).endLineNumberExclusive===A.getHiddenModifiedRange(q).startLineNumber))if(W.length>1){V=!0;let K=W.reduce((F,P)=>F+P.lineCount,0),A=new qZ(W[0].originalLineNumber,W[0].modifiedLineNumber,K,W[0].visibleLineCountTop.get(),W[W.length-1].visibleLineCountBottom.get());B.push(A)}else B.push(W[0]);if(V){let W=$.original.deltaDecorations(U.originalDecorationIds,B.map((A)=>({range:A.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=$.modified.deltaDecorations(U.modifiedDecorationIds,B.map((A)=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));b6((A)=>{this._unchangedRegions.set({regions:B,originalDecorationIds:W,modifiedDecorationIds:K},A)})}}));let G=(q,U,z)=>{let H=qZ.fromDiffs(q.changes,$.original.getLineCount(),$.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(z),this._options.hideUnchangedRegionsContextLineCount.read(z)),j=void 0,B=this._unchangedRegions.get();if(B){let A=B.originalDecorationIds.map((D)=>$.original.getDecorationRange(D)).map((D)=>D?l0.fromRangeInclusive(D):void 0),F=B.modifiedDecorationIds.map((D)=>$.modified.getDecorationRange(D)).map((D)=>D?l0.fromRangeInclusive(D):void 0),R=Qo(B.regions.map((D,_)=>{if(!A[_]||!F[_])return;let O=A[_].length;return new qZ(A[_].startLineNumber,F[_].startLineNumber,O,Math.min(D.visibleLineCountTop.get(),O),Math.min(D.visibleLineCountBottom.get(),O-D.visibleLineCountTop.get()))}).filter(BQ),(D,_)=>!_||D.modifiedLineNumber>=_.modifiedLineNumber+_.lineCount&&D.originalLineNumber>=_.originalLineNumber+_.lineCount).map((D)=>new V8(D.getHiddenOriginalRange(z),D.getHiddenModifiedRange(z)));R=V8.clip(R,l0.ofLength(1,$.original.getLineCount()),l0.ofLength(1,$.modified.getLineCount())),j=V8.inverse(R,$.original.getLineCount(),$.modified.getLineCount())}let V=[];if(j)for(let A of H){let F=j.filter((P)=>P.original.intersectsStrict(A.originalUnchangedRange)&&P.modified.intersectsStrict(A.modifiedUnchangedRange));V.push(...A.setVisibleRanges(F,U))}else V.push(...H);let W=$.original.deltaDecorations((B===null||B===void 0?void 0:B.originalDecorationIds)||[],V.map((A)=>({range:A.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=$.modified.deltaDecorations((B===null||B===void 0?void 0:B.modifiedDecorationIds)||[],V.map((A)=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:V,originalDecorationIds:W,modifiedDecorationIds:K},U)};this._register($.modified.onDidChangeContent((q)=>{if(this._diff.get()){let z=g4.fromModelContentChanges(q.changes),H=Ro(this._lastDiff,z,$.original,$.modified);if(H)this._lastDiff=H,b6((j)=>{this._diff.set(cV.fromDiffResult(this._lastDiff),j),G(H,j);let B=this.movedTextToCompare.get();this.movedTextToCompare.set(B?this._lastDiff.moves.find((V)=>V.lineRangeMapping.modified.intersect(B.lineRangeMapping.modified)):void 0,j)})}this._isDiffUpToDate.set(!1,void 0),Z.schedule()})),this._register($.original.onDidChangeContent((q)=>{if(this._diff.get()){let z=g4.fromModelContentChanges(q.changes),H=Do(this._lastDiff,z,$.original,$.modified);if(H)this._lastDiff=H,b6((j)=>{this._diff.set(cV.fromDiffResult(this._lastDiff),j),G(H,j);let B=this.movedTextToCompare.get();this.movedTextToCompare.set(B?this._lastDiff.moves.find((V)=>V.lineRangeMapping.modified.intersect(B.lineRangeMapping.modified)):void 0,j)})}this._isDiffUpToDate.set(!1,void 0),Z.schedule()})),this._register(W7(async(q,U)=>{var z,H;this._options.hideUnchangedRegionsMinimumLineCount.read(q),this._options.hideUnchangedRegionsContextLineCount.read(q),Z.cancel(),Y.read(q);let j=this._diffProvider.read(q);j.onChangeSignal.read(q),q4(QH,q),q4($H,q),this._isDiffUpToDate.set(!1,void 0);let B=[];U.add($.original.onDidChangeContent((K)=>{let A=g4.fromModelContentChanges(K.changes);B=Aq(B,A)}));let V=[];U.add($.modified.onDidChangeContent((K)=>{let A=g4.fromModelContentChanges(K.changes);V=Aq(V,A)}));let W=await j.diffProvider.computeDiff($.original,$.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(q),maxComputationTimeMs:this._options.maxComputationTimeMs.read(q),computeMoves:this._options.showMoves.read(q)},this._cancellationTokenSource.token);if(this._cancellationTokenSource.token.isCancellationRequested)return;W=ZQ0(W,$.original,$.modified),W=(z=Do(W,B,$.original,$.modified))!==null&&z!==void 0?z:W,W=(H=Ro(W,V,$.original,$.modified))!==null&&H!==void 0?H:W,b6((K)=>{G(W,K),this._lastDiff=W;let A=cV.fromDiffResult(W);this._diff.set(A,K),this._isDiffUpToDate.set(!0,K);let F=this.movedTextToCompare.get();this.movedTextToCompare.set(F?this._lastDiff.moves.find((P)=>P.lineRangeMapping.modified.intersect(F.lineRangeMapping.modified)):void 0,K)})}))}ensureModifiedLineIsVisible($,Q,X){var Y,Z;if(((Y=this.diff.get())===null||Y===void 0?void 0:Y.mappings.length)===0)return;let G=((Z=this._unchangedRegions.get())===null||Z===void 0?void 0:Z.regions)||[];for(let q of G)if(q.getHiddenModifiedRange(void 0).contains($)){q.showModifiedLine($,Q,X);return}}ensureOriginalLineIsVisible($,Q,X){var Y,Z;if(((Y=this.diff.get())===null||Y===void 0?void 0:Y.mappings.length)===0)return;let G=((Z=this._unchangedRegions.get())===null||Z===void 0?void 0:Z.regions)||[];for(let q of G)if(q.getHiddenOriginalRange(void 0).contains($)){q.showOriginalLine($,Q,X);return}}async waitForDiff(){await aI(this.isDiffUpToDate,($)=>$)}serializeState(){let $=this._unchangedRegions.get();return{collapsedRegions:$===null||$===void 0?void 0:$.regions.map((Q)=>({range:Q.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($){var Q;let X=(Q=$.collapsedRegions)===null||Q===void 0?void 0:Q.map((Z)=>l0.deserialize(Z.range)),Y=this._unchangedRegions.get();if(!Y||!X)return;b6((Z)=>{for(let G of Y.regions)for(let q of X)if(G.modifiedUnchangedRange.intersect(q)){G.setHiddenModifiedRange(q,Z);break}})}};tD=XQ0([YQ0(2,Ry)],tD)});var Oy;var Mo=E(()=>{x0();Z7();O5();B0();E1();N5();a0();Oy=class Oy extends r{get visibility(){return this._visibility}set visibility(J){if(this._visibility!==J)this._visibility=J,this._diffActions.style.visibility=J?"visible":"hidden"}constructor(J,$,Q,X,Y,Z,G,q,U){super();this._getViewZoneId=J,this._marginDomNode=$,this._modifiedEditor=Q,this._diff=X,this._editor=Y,this._viewLineCounts=Z,this._originalTextModel=G,this._contextMenuService=q,this._clipboardService=U,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=c0.asClassName(O0.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";let z=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${z}px`,this._diffActions.style.lineHeight=`${z}px`,this._marginDomNode.appendChild(this._diffActions);let H=0,j=Q.getOption(126)&&!x9,B=(V,W)=>{var K;this._contextMenuService.showContextMenu({domForShadowRoot:j?(K=Q.getDomNode())!==null&&K!==void 0?K:void 0:void 0,getAnchor:()=>({x:V,y:W}),getActions:()=>{let A=[],F=X.modified.isEmpty;if(A.push(new O7("diff.clipboard.copyDeletedContent",F?X.original.length>1?M("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):M("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):X.original.length>1?M("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):M("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{let R=this._originalTextModel.getValueInRange(X.original.toExclusiveRange());await this._clipboardService.writeText(R)})),X.original.length>1)A.push(new O7("diff.clipboard.copyDeletedLineContent",F?M("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",X.original.startLineNumber+H):M("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",X.original.startLineNumber+H),void 0,!0,async()=>{let R=this._originalTextModel.getLineContent(X.original.startLineNumber+H);if(R==="")R=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`;await this._clipboardService.writeText(R)}));if(!Q.getOption(90))A.push(new O7("diff.inline.revertChange",M("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)}));return A},autoSelectFirstItem:!0})};this._register(q6(this._diffActions,"mousedown",(V)=>{if(!V.leftButton)return;let{top:W,height:K}=x5(this._diffActions),A=Math.floor(z/3);V.preventDefault(),B(V.posx,W+K+A)})),this._register(Q.onMouseMove((V)=>{if((V.target.type===8||V.target.type===5)&&V.target.detail.viewZoneId===this._getViewZoneId())H=this._updateLightBulbPosition(this._marginDomNode,V.event.browserEvent.y,z),this.visibility=!0;else this.visibility=!1})),this._register(Q.onMouseDown((V)=>{if(!V.event.leftButton)return;if(V.target.type===8||V.target.type===5){if(V.target.detail.viewZoneId===this._getViewZoneId())V.event.preventDefault(),H=this._updateLightBulbPosition(this._marginDomNode,V.event.browserEvent.y,z),B(V.event.posx,V.event.posy+z)}}))}_updateLightBulbPosition(J,$,Q){let{top:X}=x5(J),Y=$-X,Z=Math.floor(Y/Q),G=Z*Q;if(this._diffActions.style.top=`${G}px`,this._viewLineCounts){let q=0;for(let U=0;U<this._viewLineCounts.length;U++)if(q+=this._viewLineCounts[U],Z<q)return U}return Z}}});function No(J,$,Q,X){h6(X,$.fontInfo);let Y=Q.length>0,Z=new hQ(1e4),G=0,q=0,U=[];for(let B=0;B<J.lineTokens.length;B++){let V=B+1,W=J.lineTokens[B],K=J.lineBreakData[B],A=r7.filter(Q,V,1,Number.MAX_SAFE_INTEGER);if(K){let F=0;for(let P of K.breakOffsets){let R=W.sliceAndInflate(F,P,0);G=Math.max(G,_o(q,R,r7.extractWrapped(A,F,P),Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++,F=P}U.push(K.breakOffsets.length)}else U.push(1),G=Math.max(G,_o(q,W,A,Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++}G+=$.scrollBeyondLastColumn;let z=Z.build(),H=Oo?Oo.createHTML(z):z;X.innerHTML=H;let j=G*$.typicalHalfwidthCharacterWidth;return{heightInLines:q,minWidthInPx:j,viewLineCounts:U}}class _y{constructor(J,$,Q,X){this.lineTokens=J,this.lineBreakData=$,this.mightContainNonBasicASCII=Q,this.mightContainRTL=X}}class JR{static fromEditor(J){var $;let Q=J.getOptions(),X=Q.get(50),Y=Q.get(143);return new JR((($=J.getModel())===null||$===void 0?void 0:$.getOptions().tabSize)||0,X,Q.get(33),X.typicalHalfwidthCharacterWidth,Q.get(103),Q.get(66),Y.decorationsWidth,Q.get(116),Q.get(98),Q.get(93),Q.get(51))}constructor(J,$,Q,X,Y,Z,G,q,U,z,H){this.tabSize=J,this.fontInfo=$,this.disableMonospaceOptimizations=Q,this.typicalHalfwidthCharacterWidth=X,this.scrollBeyondLastColumn=Y,this.lineHeight=Z,this.lineDecorationsWidth=G,this.stopRenderingLineAfter=q,this.renderWhitespace=U,this.renderControlCharacters=z,this.fontLigatures=H}}function _o(J,$,Q,X,Y,Z,G,q){if(q.appendString('<div class="view-line'),!X)q.appendString(" char-delete");q.appendString('" style="top:'),q.appendString(String(J*G.lineHeight)),q.appendString('px;width:1000000px;">');let U=$.getLineContent(),z=s8.isBasicASCII(U,Y),H=s8.containsRTL(U,z,Z),j=zH(new PJ(G.fontInfo.isMonospace&&!G.disableMonospaceOptimizations,G.fontInfo.canUseHalfwidthRightwardsArrow,U,!1,z,H,0,$,Q,G.tabSize,0,G.fontInfo.spaceWidth,G.fontInfo.middotWidth,G.fontInfo.wsmiddotWidth,G.stopRenderingLineAfter,G.renderWhitespace,G.renderControlCharacters,G.fontLigatures!==X7.OFF,null),q);return q.appendString("</div>"),j.characterMapping.getHorizontalOffset(j.characterMapping.length)}var Oo;var To=E(()=>{ZY();P4();U8();G2();qK();L3();x4();Oo=A9("diffEditorWidget",{createHTML:(J)=>J})});function Lo(J,$,Q,X,Y,Z){let G=new $7(ko(J,X)),q=new $7(ko($,Y)),U=J.getOption(66),z=$.getOption(66),H=[],j=0,B=0;function V(W,K){while(!0){let A=G.peek(),F=q.peek();if(A&&A.lineNumber>=W)A=void 0;if(F&&F.lineNumber>=K)F=void 0;if(!A&&!F)break;let P=A?A.lineNumber-j:Number.MAX_VALUE,R=F?F.lineNumber-B:Number.MAX_VALUE;if(P<R)G.dequeue(),F={lineNumber:A.lineNumber-j+B,heightInPx:0};else if(P>R)q.dequeue(),A={lineNumber:F.lineNumber-B+j,heightInPx:0};else G.dequeue(),q.dequeue();H.push({originalRange:l0.ofLength(A.lineNumber,1),modifiedRange:l0.ofLength(F.lineNumber,1),originalHeightInPx:U+A.heightInPx,modifiedHeightInPx:z+F.heightInPx,diff:void 0})}}for(let W of Q){let R=function(D,_){var O,N,w,T;if(D<P||_<F)return;if(A)A=!1;else if(D===P||_===F)return;let I=new l0(P,D),k=new l0(F,_);if(I.isEmpty&&k.isEmpty)return;let x=(N=(O=G.takeWhile((l)=>l.lineNumber<D))===null||O===void 0?void 0:O.reduce((l,d)=>l+d.heightInPx,0))!==null&&N!==void 0?N:0,S=(T=(w=q.takeWhile((l)=>l.lineNumber<_))===null||w===void 0?void 0:w.reduce((l,d)=>l+d.heightInPx,0))!==null&&T!==void 0?T:0;H.push({originalRange:I,modifiedRange:k,originalHeightInPx:I.length*U+x,modifiedHeightInPx:k.length*z+S,diff:W.lineRangeMapping}),P=D,F=_},K=W.lineRangeMapping;V(K.original.startLineNumber,K.modified.startLineNumber);let A=!0,F=K.modified.startLineNumber,P=K.original.startLineNumber;if(Z)for(let D of K.innerChanges||[]){if(D.originalRange.startColumn>1&&D.modifiedRange.startColumn>1)R(D.originalRange.startLineNumber,D.modifiedRange.startLineNumber);let _=J.getModel(),O=D.originalRange.endLineNumber<=_.getLineCount()?_.getLineMaxColumn(D.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;if(D.originalRange.endColumn<O)R(D.originalRange.endLineNumber,D.modifiedRange.endLineNumber)}R(K.original.endLineNumberExclusive,K.modified.endLineNumberExclusive),j=K.original.endLineNumberExclusive,B=K.modified.endLineNumberExclusive}return V(Number.MAX_VALUE,Number.MAX_VALUE),H}function ko(J,$){let Q=[],X=[],Y=J.getOption(144).wrappingColumn!==-1,Z=J._getViewModel().coordinatesConverter,G=J.getOption(66);if(Y)for(let U=1;U<=J.getModel().getLineCount();U++){let z=Z.getModelLineViewLineCount(U);if(z>1)X.push({lineNumber:U,heightInPx:G*(z-1)})}for(let U of J.getWhitespaces()){if($.has(U.id))continue;let z=U.afterLineNumber===0?0:Z.convertViewPositionToModelPosition(new s(U.afterLineNumber,1)).lineNumber;Q.push({lineNumber:z,heightInPx:U.height})}return $o(Q,X,(U)=>U.lineNumber,(U,z)=>({lineNumber:U.lineNumber,heightInPx:U.heightInPx+z.heightInPx}))}var qQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},wo=function(J,$){return function(Q,X){$(Q,X,J)}},$R;var Eo=E(()=>{x0();B1();J6();O5();B0();t8();N5();P4();Wy();My();Mo();To();aJ();s7();x4();OV();OX();$R=class extends r{constructor($,Q,X,Y,Z,G,q,U,z,H){super();this._targetWindow=$,this._editors=Q,this._diffModel=X,this._options=Y,this._diffEditorWidget=Z,this._canIgnoreViewZoneUpdateEvent=G,this._origViewZonesToIgnore=q,this._modViewZonesToIgnore=U,this._clipboardService=z,this._contextMenuService=H,this._originalTopPadding=N1(this,0),this._originalScrollOffset=N1(this,0),this._originalScrollOffsetAnimated=tI(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=N1(this,0),this._modifiedScrollOffset=N1(this,0),this._modifiedScrollOffsetAnimated=tI(this._targetWindow,this._modifiedScrollOffset,this._store);let j=N1("invalidateAlignmentsState",0),B=this._register(new z6(()=>{j.set(j.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones((R)=>{if(!this._canIgnoreViewZoneUpdateEvent())B.schedule()})),this._register(this._editors.modified.onDidChangeViewZones((R)=>{if(!this._canIgnoreViewZoneUpdateEvent())B.schedule()})),this._register(this._editors.original.onDidChangeConfiguration((R)=>{if(R.hasChanged(144)||R.hasChanged(66))B.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration((R)=>{if(R.hasChanged(144)||R.hasChanged(66))B.schedule()}));let V=this._diffModel.map((R)=>R?u6(R.model.original.onDidChangeTokens,()=>R.model.original.tokenization.backgroundTokenizationState===2):void 0).map((R,D)=>R===null||R===void 0?void 0:R.read(D)),W=X1((R)=>{let D=this._diffModel.read(R),_=D===null||D===void 0?void 0:D.diff.read(R);if(!D||!_)return null;j.read(R);let N=this._options.renderSideBySide.read(R);return Lo(this._editors.original,this._editors.modified,_.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,N)}),K=X1((R)=>{var D;let _=(D=this._diffModel.read(R))===null||D===void 0?void 0:D.movedTextToCompare.read(R);if(!_)return null;j.read(R);let O=_.changes.map((N)=>new eD(N));return Lo(this._editors.original,this._editors.modified,O,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function A(){let R=document.createElement("div");return R.className="diagonal-fill",R}let F=this._register(new q0);this.viewZones=G4(this,(R,D)=>{var _,O,N,w,T,I,k,x;F.clear();let S=W.read(R)||[],l=[],d=[],y=this._modifiedTopPadding.read(R);if(y>0)d.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:y,showInHiddenAreas:!0,suppressMouseDown:!0});let b=this._originalTopPadding.read(R);if(b>0)l.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:b,showInHiddenAreas:!0,suppressMouseDown:!0});let h=this._options.renderSideBySide.read(R),u=!h?(_=this._editors.modified._getViewModel())===null||_===void 0?void 0:_.createLineBreaksComputer():void 0;if(u){let z0=this._editors.original.getModel();for(let h0 of S)if(h0.diff)for(let N0=h0.originalRange.startLineNumber;N0<h0.originalRange.endLineNumberExclusive;N0++){if(N0>z0.getLineCount())return{orig:l,mod:d};u===null||u===void 0||u.addRequest(z0.getLineContent(N0),null,null)}}let $0=(O=u===null||u===void 0?void 0:u.finalize())!==null&&O!==void 0?O:[],Z0=0,U0=this._editors.modified.getOption(66),Q0=(N=this._diffModel.read(R))===null||N===void 0?void 0:N.movedTextToCompare.read(R),o=(T=(w=this._editors.original.getModel())===null||w===void 0?void 0:w.mightContainNonBasicASCII())!==null&&T!==void 0?T:!1,m=(k=(I=this._editors.original.getModel())===null||I===void 0?void 0:I.mightContainRTL())!==null&&k!==void 0?k:!1,A0=JR.fromEditor(this._editors.modified);for(let z0 of S)if(z0.diff&&!h){if(!z0.originalRange.isEmpty){V.read(R);let N0=document.createElement("div");N0.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");let w1=this._editors.original.getModel();if(z0.originalRange.endLineNumberExclusive-1>w1.getLineCount())return{orig:l,mod:d};let R0=new _y(z0.originalRange.mapToLineArray((T6)=>w1.tokenization.getLineTokens(T6)),z0.originalRange.mapToLineArray((T6)=>$0[Z0++]),o,m),u1=[];for(let T6 of z0.diff.innerChanges||[])u1.push(new FY(T6.originalRange.delta(-(z0.diff.original.startLineNumber-1)),mV.className,0));let W6=No(R0,A0,u1,N0),S6=document.createElement("div");if(S6.className="inline-deleted-margin-view-zone",h6(S6,A0.fontInfo),this._options.renderIndicators.read(R))for(let T6=0;T6<W6.heightInLines;T6++){let g1=document.createElement("div");g1.className=`delete-sign ${c0.asClassName(qy)}`,g1.setAttribute("style",`position:absolute;top:${T6*U0}px;width:${A0.lineDecorationsWidth}px;height:${U0}px;right:0;`),S6.appendChild(g1)}let O1=void 0;F.add(new Oy(()=>EW(O1),S6,this._editors.modified,z0.diff,this._diffEditorWidget,W6.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let T6=0;T6<W6.viewLineCounts.length;T6++){let g1=W6.viewLineCounts[T6];if(g1>1)l.push({afterLineNumber:z0.originalRange.startLineNumber+T6,domNode:A(),heightInPx:(g1-1)*U0,showInHiddenAreas:!0,suppressMouseDown:!0})}d.push({afterLineNumber:z0.modifiedRange.startLineNumber-1,domNode:N0,heightInPx:W6.heightInLines*U0,minWidthInPx:W6.minWidthInPx,marginDomNode:S6,setZoneId(T6){O1=T6},showInHiddenAreas:!0,suppressMouseDown:!0})}let h0=document.createElement("div");h0.className="gutter-delete",l.push({afterLineNumber:z0.originalRange.endLineNumberExclusive-1,domNode:A(),heightInPx:z0.modifiedHeightInPx,marginDomNode:h0,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let h0=z0.modifiedHeightInPx-z0.originalHeightInPx;if(h0>0){if(Q0===null||Q0===void 0?void 0:Q0.lineRangeMapping.original.delta(-1).deltaLength(2).contains(z0.originalRange.endLineNumberExclusive-1))continue;l.push({afterLineNumber:z0.originalRange.endLineNumberExclusive-1,domNode:A(),heightInPx:h0,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let N0=function(){let R0=document.createElement("div");return R0.className="arrow-revert-change "+c0.asClassName(O0.arrowRight),D.add(t(R0,"mousedown",(u1)=>u1.stopPropagation())),D.add(t(R0,"click",(u1)=>{u1.stopPropagation(),Z.revert(z0.diff)})),M0("div",{},R0)};if(Q0===null||Q0===void 0?void 0:Q0.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(z0.modifiedRange.endLineNumberExclusive-1))continue;let w1=void 0;if(z0.diff&&z0.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(R))w1=N0();d.push({afterLineNumber:z0.modifiedRange.endLineNumberExclusive-1,domNode:A(),heightInPx:-h0,marginDomNode:w1,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(let z0 of(x=K.read(R))!==null&&x!==void 0?x:[]){if(!(Q0===null||Q0===void 0?void 0:Q0.lineRangeMapping.original.intersect(z0.originalRange))||!(Q0===null||Q0===void 0?void 0:Q0.lineRangeMapping.modified.intersect(z0.modifiedRange)))continue;let h0=z0.modifiedHeightInPx-z0.originalHeightInPx;if(h0>0)l.push({afterLineNumber:z0.originalRange.endLineNumberExclusive-1,domNode:A(),heightInPx:h0,showInHiddenAreas:!0,suppressMouseDown:!0});else d.push({afterLineNumber:z0.modifiedRange.endLineNumberExclusive-1,domNode:A(),heightInPx:-h0,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:l,mod:d}});let P=!1;this._register(this._editors.original.onDidScrollChange((R)=>{if(R.scrollLeftChanged&&!P)P=!0,this._editors.modified.setScrollLeft(R.scrollLeft),P=!1})),this._register(this._editors.modified.onDidScrollChange((R)=>{if(R.scrollLeftChanged&&!P)P=!0,this._editors.original.setScrollLeft(R.scrollLeft),P=!1})),this._originalScrollTop=u6(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=u6(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(k1((R)=>{let D=this._originalScrollTop.read(R)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(R))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(R));if(D!==this._editors.modified.getScrollTop())this._editors.modified.setScrollTop(D,1)})),this._register(k1((R)=>{let D=this._modifiedScrollTop.read(R)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(R))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(R));if(D!==this._editors.original.getScrollTop())this._editors.original.setScrollTop(D,1)})),this._register(k1((R)=>{var D;let _=(D=this._diffModel.read(R))===null||D===void 0?void 0:D.movedTextToCompare.read(R),O=0;if(_){let N=this._editors.original.getTopForLineNumber(_.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();O=this._editors.modified.getTopForLineNumber(_.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-N}if(O>0)this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(O,void 0);else if(O<0)this._modifiedTopPadding.set(-O,void 0),this._originalTopPadding.set(0,void 0);else setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400);if(this._editors.modified.hasTextFocus())this._originalScrollOffset.set(this._modifiedScrollOffset.get()-O,void 0,!0);else this._modifiedScrollOffset.set(this._originalScrollOffset.get()+O,void 0,!0)}))}};$R=qQ0([wo(8,$Z),wo(9,Q9)],$R)});var UQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},zQ0=function(J,$){return function(Q,X){$(Q,X,J)}},s4,SX;var Ny=E(()=>{x0();B0();t8();aJ();x8();G5();SX=s4=class extends r{constructor($,Q,X,Y,Z,G,q){super();this._editors=$,this._rootElement=Q,this._diffModel=X,this._rootWidth=Y,this._rootHeight=Z,this._modifiedEditorLayoutInfo=G,this._themeService=q,this.width=s4.ENTIRE_DIFF_OVERVIEW_WIDTH;let U=u6(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),z=X1((B)=>{let V=U.read(B),W=V.getColor($g)||(V.getColor(ef)||RK).transparent(2),K=V.getColor(Qg)||(V.getColor(Jg)||MK).transparent(2);return{insertColor:W,removeColor:K}}),H=q1(document.createElement("div"));H.setClassName("diffViewport"),H.setPosition("absolute");let j=o1("div.diffOverview",{style:{position:"absolute",top:"0px",width:s4.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(vV(j,H.domNode)),this._register(q6(j,W0.POINTER_DOWN,(B)=>{this._editors.modified.delegateVerticalScrollbarPointerDown(B)})),this._register(t(j,W0.MOUSE_WHEEL,(B)=>{this._editors.modified.delegateScrollFromMouseWheelEvent(B)},{passive:!1})),this._register(vV(this._rootElement,j)),this._register(W7((B,V)=>{let W=this._diffModel.read(B),K=this._editors.original.createOverviewRuler("original diffOverviewRuler");if(K)V.add(K),V.add(vV(j,K.getDomNode()));let A=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(A)V.add(A),V.add(vV(j,A.getDomNode()));if(!K||!A)return;let F=x7("viewZoneChanged",this._editors.original.onDidChangeViewZones),P=x7("viewZoneChanged",this._editors.modified.onDidChangeViewZones),R=x7("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),D=x7("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);V.add(k1((_)=>{var O;F.read(_),P.read(_),R.read(_),D.read(_);let N=z.read(_),w=(O=W===null||W===void 0?void 0:W.diff.read(_))===null||O===void 0?void 0:O.mappings;function T(x,S,l){let d=l._getViewModel();if(!d)return[];return x.filter((y)=>y.length>0).map((y)=>{let b=d.coordinatesConverter.convertModelPositionToViewPosition(new s(y.startLineNumber,1)),h=d.coordinatesConverter.convertModelPositionToViewPosition(new s(y.endLineNumberExclusive,1)),u=h.lineNumber-b.lineNumber;return new zA(b.lineNumber,h.lineNumber,u,S.toString())})}let I=T((w||[]).map((x)=>x.lineRangeMapping.original),N.removeColor,this._editors.original),k=T((w||[]).map((x)=>x.lineRangeMapping.modified),N.insertColor,this._editors.modified);K===null||K===void 0||K.setZones(I),A===null||A===void 0||A.setZones(k)})),V.add(k1((_)=>{let O=this._rootHeight.read(_),N=this._rootWidth.read(_),w=this._modifiedEditorLayoutInfo.read(_);if(w){let T=s4.ENTIRE_DIFF_OVERVIEW_WIDTH-2*s4.ONE_OVERVIEW_WIDTH;K.setLayout({top:0,height:O,right:T+s4.ONE_OVERVIEW_WIDTH,width:s4.ONE_OVERVIEW_WIDTH}),A.setLayout({top:0,height:O,right:0,width:s4.ONE_OVERVIEW_WIDTH});let I=this._editors.modifiedScrollTop.read(_),k=this._editors.modifiedScrollHeight.read(_),x=this._editors.modified.getOption(102),S=new $X(x.verticalHasArrows?x.arrowSize:0,x.verticalScrollbarSize,0,w.height,k,I);H.setTop(S.getSliderPosition()),H.setHeight(S.getSliderSize())}else H.setTop(0),H.setHeight(0);j.style.height=O+"px",j.style.left=N-s4.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",H.setWidth(s4.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};SX.ONE_OVERVIEW_WIDTH=15;SX.ENTIRE_DIFF_OVERVIEW_WIDTH=s4.ONE_OVERVIEW_WIDTH*2;SX=s4=UQ0([zQ0(6,Z5)],SX)});var lV;var Io=E(()=>{E0();B0();lV=class lV extends r{constructor(){super(...arguments);this._id=++lV.idCounter,this._onDidDispose=this._register(new p),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(J){return this._targetEditor.getVisibleColumnFromPosition(J)}getPosition(){return this._targetEditor.getPosition()}setPosition(J,$="api"){this._targetEditor.setPosition(J,$)}revealLine(J,$=0){this._targetEditor.revealLine(J,$)}revealLineInCenter(J,$=0){this._targetEditor.revealLineInCenter(J,$)}revealLineInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealLineInCenterIfOutsideViewport(J,$)}revealLineNearTop(J,$=0){this._targetEditor.revealLineNearTop(J,$)}revealPosition(J,$=0){this._targetEditor.revealPosition(J,$)}revealPositionInCenter(J,$=0){this._targetEditor.revealPositionInCenter(J,$)}revealPositionInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(J,$)}revealPositionNearTop(J,$=0){this._targetEditor.revealPositionNearTop(J,$)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(J,$="api"){this._targetEditor.setSelection(J,$)}setSelections(J,$="api"){this._targetEditor.setSelections(J,$)}revealLines(J,$,Q=0){this._targetEditor.revealLines(J,$,Q)}revealLinesInCenter(J,$,Q=0){this._targetEditor.revealLinesInCenter(J,$,Q)}revealLinesInCenterIfOutsideViewport(J,$,Q=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(J,$,Q)}revealLinesNearTop(J,$,Q=0){this._targetEditor.revealLinesNearTop(J,$,Q)}revealRange(J,$=0,Q=!1,X=!0){this._targetEditor.revealRange(J,$,Q,X)}revealRangeInCenter(J,$=0){this._targetEditor.revealRangeInCenter(J,$)}revealRangeInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(J,$)}revealRangeNearTop(J,$=0){this._targetEditor.revealRangeNearTop(J,$)}revealRangeNearTopIfOutsideViewport(J,$=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(J,$)}revealRangeAtTop(J,$=0){this._targetEditor.revealRangeAtTop(J,$)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(J,$,Q){this._targetEditor.trigger(J,$,Q)}createDecorationsCollection(J){return this._targetEditor.createDecorationsCollection(J)}changeDecorations(J){return this._targetEditor.changeDecorations(J)}};lV.idCounter=0});var HQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},yo=function(J,$){return function(Q,X){$(Q,X,J)}},QR;var xo=E(()=>{E0();B0();t8();Ny();U8();a0();n0();h4();QR=class extends r{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor($,Q,X,Y,Z,G,q){super();this.originalEditorElement=$,this.modifiedEditorElement=Q,this._options=X,this._createInnerEditor=Z,this._instantiationService=G,this._keybindingService=q,this._onDidContentSizeChange=this._register(new p),this.original=this._register(this._createLeftHandSideEditor(X.editorOptions.get(),Y.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(X.editorOptions.get(),Y.modifiedEditor||{})),this.modifiedModel=u6(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=u6(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=u6(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=u6(this.modified.onDidChangeCursorSelection,()=>{var U;return(U=this.modified.getSelections())!==null&&U!==void 0?U:[]}),this.modifiedCursor=u6(this.modified.onDidChangeCursorPosition,()=>{var U;return(U=this.modified.getPosition())!==null&&U!==void 0?U:new s(1,1)}),this._register(ZZ({createEmptyChangeSummary:()=>({}),handleChange:(U,z)=>{if(U.didChange(X.editorOptions))Object.assign(z,U.change.changedOptions);return!0}},(U,z)=>{X.editorOptions.read(U),this._options.renderSideBySide.read(U),this.modified.updateOptions(this._adjustOptionsForRightHandSide(U,z)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(U,z))}))}_createLeftHandSideEditor($,Q){let X=this._adjustOptionsForLeftHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,X,Q);return Y.setContextValue("isInDiffLeftEditor",!0),Y}_createRightHandSideEditor($,Q){let X=this._adjustOptionsForRightHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,X,Q);return Y.setContextValue("isInDiffRightEditor",!0),Y}_constructInnerEditor($,Q,X,Y){let Z=this._createInnerEditor($,Q,X,Y);return this._register(Z.onDidContentSizeChange((G)=>{let q=this.original.getContentWidth()+this.modified.getContentWidth()+SX.ENTIRE_DIFF_OVERVIEW_WIDTH,U=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:U,contentWidth:q,contentHeightChanged:G.contentHeightChanged,contentWidthChanged:G.contentWidthChanged})})),Z}_adjustOptionsForLeftHandSide($,Q){let X=this._adjustOptionsForSubEditor(Q);if(!this._options.renderSideBySide.get())X.wordWrapOverride1="off",X.wordWrapOverride2="off",X.stickyScroll={enabled:!1},X.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1};else X.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},X.wordWrapOverride1=this._options.diffWordWrap.get();if(X.glyphMargin=this._options.renderSideBySide.get(),Q.originalAriaLabel)X.ariaLabel=Q.originalAriaLabel;return X.ariaLabel=this._updateAriaLabel(X.ariaLabel),X.readOnly=!this._options.originalEditable.get(),X.dropIntoEditor={enabled:!X.readOnly},X.extraEditorClassName="original-in-monaco-diff-editor",X}_adjustOptionsForRightHandSide($,Q){let X=this._adjustOptionsForSubEditor(Q);if(Q.modifiedAriaLabel)X.ariaLabel=Q.modifiedAriaLabel;return X.ariaLabel=this._updateAriaLabel(X.ariaLabel),X.wordWrapOverride1=this._options.diffWordWrap.get(),X.revealHorizontalRightPadding=XJ.revealHorizontalRightPadding.defaultValue+SX.ENTIRE_DIFF_OVERVIEW_WIDTH,X.scrollbar.verticalHasArrows=!1,X.extraEditorClassName="modified-in-monaco-diff-editor",X}_adjustOptionsForSubEditor($){let Q={...$,dimension:{height:0,width:0}};if(Q.inDiffEditor=!0,Q.automaticLayout=!1,Q.scrollbar={...Q.scrollbar||{}},Q.folding=!1,Q.codeLens=this._options.diffCodeLens.get(),Q.fixedOverflowWidgets=!0,Q.minimap={...Q.minimap||{}},Q.minimap.enabled=!1,this._options.hideUnchangedRegions.get())Q.stickyScroll={enabled:!1};else Q.stickyScroll=this._options.editorOptions.get().stickyScroll;return Q}_updateAriaLabel($){var Q;if(!$)$="";let X=M("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(Q=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||Q===void 0?void 0:Q.getAriaLabel());if(this._options.accessibilityVerbose.get())return $+X;else if($)return $.replaceAll(X,"");return""}};QR=HQ0([yo(5,r0),yo(6,Q5)],QR)});class Ty{get editorOptions(){return this._options}constructor(J){this._diffEditorWidth=N1(this,0),this.couldShowInlineViewBecauseOfSize=X1(this,(Q)=>this._options.read(Q).renderSideBySide&&this._diffEditorWidth.read(Q)<=this._options.read(Q).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=X1(this,(Q)=>this._options.read(Q).renderOverviewRuler),this.renderSideBySide=X1(this,(Q)=>this._options.read(Q).renderSideBySide&&!(this._options.read(Q).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(Q))),this.readOnly=X1(this,(Q)=>this._options.read(Q).readOnly),this.shouldRenderRevertArrows=X1(this,(Q)=>{if(!this._options.read(Q).renderMarginRevertIcon)return!1;if(!this.renderSideBySide.read(Q))return!1;if(this.readOnly.read(Q))return!1;return!0}),this.renderIndicators=X1(this,(Q)=>this._options.read(Q).renderIndicators),this.enableSplitViewResizing=X1(this,(Q)=>this._options.read(Q).enableSplitViewResizing),this.splitViewDefaultRatio=X1(this,(Q)=>this._options.read(Q).splitViewDefaultRatio),this.ignoreTrimWhitespace=X1(this,(Q)=>this._options.read(Q).ignoreTrimWhitespace),this.maxComputationTimeMs=X1(this,(Q)=>this._options.read(Q).maxComputationTime),this.showMoves=X1(this,(Q)=>this._options.read(Q).experimental.showMoves&&this.renderSideBySide.read(Q)),this.isInEmbeddedEditor=X1(this,(Q)=>this._options.read(Q).isInEmbeddedEditor),this.diffWordWrap=X1(this,(Q)=>this._options.read(Q).diffWordWrap),this.originalEditable=X1(this,(Q)=>this._options.read(Q).originalEditable),this.diffCodeLens=X1(this,(Q)=>this._options.read(Q).diffCodeLens),this.accessibilityVerbose=X1(this,(Q)=>this._options.read(Q).accessibilityVerbose),this.diffAlgorithm=X1(this,(Q)=>this._options.read(Q).diffAlgorithm),this.showEmptyDecorations=X1(this,(Q)=>this._options.read(Q).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=X1(this,(Q)=>this._options.read(Q).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=X1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=X1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=X1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=X1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.minimumLineCount);let $={...J,...bo(J,D8)};this._options=N1(this,$)}updateOptions(J){let $=bo(J,this._options.get()),Q={...this._options.get(),...J,...$};this._options.set(Q,void 0,{changedOptions:J})}setWidth(J){this._diffEditorWidth.set(J,void 0)}}function bo(J,$){var Q,X,Y,Z,G,q,U,z;return{enableSplitViewResizing:C0(J.enableSplitViewResizing,$.enableSplitViewResizing),splitViewDefaultRatio:Tb(J.splitViewDefaultRatio,0.5,0.1,0.9),renderSideBySide:C0(J.renderSideBySide,$.renderSideBySide),renderMarginRevertIcon:C0(J.renderMarginRevertIcon,$.renderMarginRevertIcon),maxComputationTime:lX(J.maxComputationTime,$.maxComputationTime,0,1073741824),maxFileSize:lX(J.maxFileSize,$.maxFileSize,0,1073741824),ignoreTrimWhitespace:C0(J.ignoreTrimWhitespace,$.ignoreTrimWhitespace),renderIndicators:C0(J.renderIndicators,$.renderIndicators),originalEditable:C0(J.originalEditable,$.originalEditable),diffCodeLens:C0(J.diffCodeLens,$.diffCodeLens),renderOverviewRuler:C0(J.renderOverviewRuler,$.renderOverviewRuler),diffWordWrap:d6(J.diffWordWrap,$.diffWordWrap,["off","on","inherit"]),diffAlgorithm:d6(J.diffAlgorithm,$.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:C0(J.accessibilityVerbose,$.accessibilityVerbose),experimental:{showMoves:C0((Q=J.experimental)===null||Q===void 0?void 0:Q.showMoves,$.experimental.showMoves),showEmptyDecorations:C0((X=J.experimental)===null||X===void 0?void 0:X.showEmptyDecorations,$.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:C0((Z=(Y=J.hideUnchangedRegions)===null||Y===void 0?void 0:Y.enabled)!==null&&Z!==void 0?Z:(G=J.experimental)===null||G===void 0?void 0:G.collapseUnchangedRegions,$.hideUnchangedRegions.enabled),contextLineCount:lX((q=J.hideUnchangedRegions)===null||q===void 0?void 0:q.contextLineCount,$.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:lX((U=J.hideUnchangedRegions)===null||U===void 0?void 0:U.minimumLineCount,$.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:lX((z=J.hideUnchangedRegions)===null||z===void 0?void 0:z.revealLineCount,$.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:C0(J.isInEmbeddedEditor,$.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:C0(J.onlyShowAccessibleDiffViewer,$.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:lX(J.renderSideBySideInlineBreakpoint,$.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:C0(J.useInlineViewWhenSpaceIsLimited,$.useInlineViewWhenSpaceIsLimited)}}var So=E(()=>{t8();yk();U8()});var wy,dV;var Co=E(()=>{x0();o2();O5();B0();t8();s7();e0();l7();a0();wy=class wy extends r{constructor(J,$,Q,X){super();this._editors=J,this._diffModel=$,this._options=Q,this._widget=X;let Y=[],Z=X1(this,(G)=>{let q=this._diffModel.read(G),U=q===null||q===void 0?void 0:q.diff.read(G);if(!U)return Y;let z=this._editors.modifiedSelections.read(G);if(z.every((V)=>V.isEmpty()))return Y;let H=new d7(z.map((V)=>l0.fromRangeInclusive(V))),B=U.mappings.filter((V)=>V.lineRangeMapping.innerChanges&&H.intersects(V.lineRangeMapping.modified)).map((V)=>({mapping:V,rangeMappings:V.lineRangeMapping.innerChanges.filter((W)=>z.some((K)=>v.areIntersecting(W.modifiedRange,K)))}));if(B.length===0||B.every((V)=>V.rangeMappings.length===0))return Y;return B});this._register(W7((G,q)=>{let U=this._diffModel.read(G),z=U===null||U===void 0?void 0:U.diff.read(G);if(!U||!z)return;if(this._diffModel.read(G).movedTextToCompare.read(G))return;if(!this._options.shouldRenderRevertArrows.read(G))return;let j=[],B=Z.read(G),V=new Set(B.map((W)=>W.mapping));if(B.length>0){let W=this._editors.modifiedSelections.read(G),K=q.add(new dV(W[W.length-1].positionLineNumber,this._widget,B.flatMap((A)=>A.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(K),j.push(K)}for(let W of z.mappings){if(V.has(W))continue;if(!W.lineRangeMapping.modified.isEmpty&&W.lineRangeMapping.innerChanges){let K=q.add(new dV(W.lineRangeMapping.modified.startLineNumber,this._widget,W.lineRangeMapping.innerChanges,!1));this._editors.modified.addGlyphMarginWidget(K),j.push(K)}}q.add(y0(()=>{for(let W of j)this._editors.modified.removeGlyphMarginWidget(W)}))}))}};dV=class dV extends r{getId(){return this._id}constructor(J,$,Q,X){super();this._lineNumber=J,this._widget=$,this._diffs=Q,this._selection=X,this._id=`revertButton${dV.counter++}`,this._domNode=o1("div.revertButton",{title:this._selection?M("revertSelectedChanges","Revert Selected Changes"):M("revertChange","Revert Change")},[Iq(O0.arrowRight)]).root,this._register(t(this._domNode,W0.MOUSE_DOWN,(Y)=>{if(Y.button!==2)Y.stopPropagation(),Y.preventDefault()})),this._register(t(this._domNode,W0.MOUSE_UP,(Y)=>{Y.stopPropagation(),Y.preventDefault()})),this._register(t(this._domNode,W0.CLICK,(Y)=>{this._widget.revertRangeMappings(this._diffs),Y.stopPropagation(),Y.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:i9.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}};dV.counter=0});function VQ0(J){return J.mappings.map(($)=>{let Q=$.lineRangeMapping,X,Y,Z,G,q=Q.innerChanges;if(Q.original.isEmpty)X=Q.original.startLineNumber-1,Y=0,q=void 0;else X=Q.original.startLineNumber,Y=Q.original.endLineNumberExclusive-1;if(Q.modified.isEmpty)Z=Q.modified.startLineNumber-1,G=0,q=void 0;else Z=Q.modified.startLineNumber,G=Q.modified.endLineNumberExclusive-1;return{originalStartLineNumber:X,originalEndLineNumber:Y,modifiedStartLineNumber:Z,modifiedEndLineNumber:G,charChanges:q===null||q===void 0?void 0:q.map((U)=>({originalStartLineNumber:U.originalRange.startLineNumber,originalStartColumn:U.originalRange.startColumn,originalEndLineNumber:U.originalRange.endLineNumber,originalEndColumn:U.originalRange.endColumn,modifiedStartLineNumber:U.modifiedRange.startLineNumber,modifiedStartColumn:U.modifiedRange.startColumn,modifiedEndLineNumber:U.modifiedRange.endLineNumber,modifiedEndColumn:U.modifiedRange.endColumn}))}})}var jQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},sV=function(J,$){return function(Q,X){$(Q,X,J)}},MU;var Ly=E(()=>{x0();FJ();T1();E0();B0();t8();bV();en();u9();V9();lA();zo();Bo();Fo();Ko();Eo();Gy();Ny();aJ();e0();GH();qX();_G();e1();n0();Sj();Io();xo();So();My();Co();MU=class extends lV{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor($,Q,X,Y,Z,G,q,U){var z;super();this._domElement=$,this._parentContextKeyService=Y,this._parentInstantiationService=Z,this._audioCueService=q,this._editorProgressService=U,this.elements=o1("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[o1("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[M0("span",{},"No Changes")]),o1("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),o1("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),o1("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=N1(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=V0.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new CJ([s0,this._contextKeyService])),this._boundarySashes=N1(this,void 0),this._accessibleDiffViewerShouldBeVisible=N1(this,!1),this._accessibleDiffViewerVisible=X1(this,(D)=>this._options.onlyShowAccessibleDiffViewer.read(D)?!0:this._accessibleDiffViewerShouldBeVisible.read(D)),this._movedBlocksLinesPart=N1(this,void 0),this._layoutInfo=X1(this,(D)=>{var _,O,N,w,T;let I=this._rootSizeObserver.width.read(D),k=this._rootSizeObserver.height.read(D),x=(_=this._sash.read(D))===null||_===void 0?void 0:_.sashLeft.read(D),S=x!==null&&x!==void 0?x:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),l=I-S-((N=(O=this._overviewRulerPart.read(D))===null||O===void 0?void 0:O.width)!==null&&N!==void 0?N:0),d=(T=(w=this._movedBlocksLinesPart.read(D))===null||w===void 0?void 0:w.width.read(D))!==null&&T!==void 0?T:0,y=S-d;return this.elements.original.style.width=y+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=l+"px",this.elements.modified.style.left=S+"px",this._editors.original.layout({width:y,height:k},!0),this._editors.modified.layout({width:l,height:k},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((D,_)=>D===null||D===void 0?void 0:D.diff.read(_)),this.onDidUpdateDiff=V0.fromObservableLight(this._diffValue),G.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(y0(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new hV(this.elements.root,Q.dimension)),this._rootSizeObserver.setAutomaticLayout((z=Q.automaticLayout)!==null&&z!==void 0?z:!1),this._options=new Ty(Q),this._register(k1((D)=>{this._options.setWidth(this._rootSizeObserver.width.read(D))})),this._contextKeyService.createKey(H0.isEmbeddedDiffEditor.key,!1),this._register(gV(H0.isEmbeddedDiffEditor,this._contextKeyService,(D)=>this._options.isInEmbeddedEditor.read(D))),this._register(gV(H0.comparingMovedCode,this._contextKeyService,(D)=>{var _;return!!((_=this._diffModel.read(D))===null||_===void 0?void 0:_.movedTextToCompare.read(D))})),this._register(gV(H0.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,(D)=>this._options.couldShowInlineViewBecauseOfSize.read(D))),this._register(gV(H0.hasChanges,this._contextKeyService,(D)=>{var _,O,N;return((N=(O=(_=this._diffModel.read(D))===null||_===void 0?void 0:_.diff.read(D))===null||O===void 0?void 0:O.mappings.length)!==null&&N!==void 0?N:0)>0})),this._editors=this._register(this._instantiationService.createInstance(QR,this.elements.original,this.elements.modified,this._options,X,(D,_,O,N)=>this._createInnerEditor(D,_,O,N))),this._overviewRulerPart=GQ(this,(D)=>!this._options.renderOverviewRuler.read(D)?void 0:this._instantiationService.createInstance(q4(SX,D),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((_)=>_.modifiedEditor))).recomputeInitiallyAndOnChange(this._store),this._sash=GQ(this,(D)=>{let _=this._options.renderSideBySide.read(D);return this.elements.root.classList.toggle("side-by-side",_),!_?void 0:new Fy(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((O,N)=>{var w,T;return O-((T=(w=this._overviewRulerPart.read(N))===null||w===void 0?void 0:w.width)!==null&&T!==void 0?T:0)})},this._boundarySashes)}).recomputeInitiallyAndOnChange(this._store);let H=GQ(this,(D)=>this._instantiationService.createInstance(q4(uV,D),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);GQ(this,(D)=>this._instantiationService.createInstance(q4(By,D),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);let j=new Set,B=new Set,V=!1,W=GQ(this,(D)=>this._instantiationService.createInstance(q4($R,D),L0(this._domElement),this._editors,this._diffModel,this._options,this,()=>V||H.get().isUpdatingHiddenAreas,j,B)).recomputeInitiallyAndOnChange(this._store),K=X1(this,(D)=>{let _=W.read(D).viewZones.read(D).orig,O=H.read(D).viewZones.read(D).origViewZones;return _.concat(O)}),A=X1(this,(D)=>{let _=W.read(D).viewZones.read(D).mod,O=H.read(D).viewZones.read(D).modViewZones;return _.concat(O)});this._register(RU(this._editors.original,K,(D)=>{V=D},j));let F;this._register(RU(this._editors.modified,A,(D)=>{if(V=D,V)F=l4.capture(this._editors.modified);else F===null||F===void 0||F.restore(this._editors.modified),F=void 0},B)),this._accessibleDiffViewer=GQ(this,(D)=>this._instantiationService.createInstance(q4(bX,D),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(_,O)=>this._accessibleDiffViewerShouldBeVisible.set(_,O),this._options.onlyShowAccessibleDiffViewer.map((_)=>!_),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((_,O)=>{var N;return(N=_===null||_===void 0?void 0:_.diff.read(O))===null||N===void 0?void 0:N.mappings.map((w)=>w.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);let P=this._accessibleDiffViewerVisible.map((D)=>D?"hidden":"visible");this._register(d4(this.elements.modified,{visibility:P})),this._register(d4(this.elements.original,{visibility:P})),this._createDiffEditorContributions(),G.addDiffEditor(this),this._register(GZ(this._layoutInfo)),GQ(this,(D)=>new(q4(qQ,D))(this.elements.root,this._diffModel,this._layoutInfo.map((_)=>_.originalEditor),this._layoutInfo.map((_)=>_.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,(D)=>{this._movedBlocksLinesPart.set(D,void 0)}),this._register(d4(this.elements.overlay,{width:this._layoutInfo.map((D,_)=>D.originalEditor.width+(this._options.renderSideBySide.read(_)?0:D.modifiedEditor.width)),visibility:X1((D)=>{var _,O;return this._options.hideUnchangedRegions.read(D)&&((O=(_=this._diffModel.read(D))===null||_===void 0?void 0:_.diff.read(D))===null||O===void 0?void 0:O.mappings.length)===0?"visible":"hidden"})})),this._register(V0.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(D)=>{var _,O;if((D===null||D===void 0?void 0:D.reason)===3){let N=(O=(_=this._diffModel.get())===null||_===void 0?void 0:_.diff.get())===null||O===void 0?void 0:O.mappings.find((w)=>w.lineRangeMapping.modified.contains(D.position.lineNumber));if(N===null||N===void 0?void 0:N.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue(j1.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"});else if(N===null||N===void 0?void 0:N.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue(j1.diffLineInserted,{source:"diffEditor.cursorPositionChanged"});else if(N)this._audioCueService.playAudioCue(j1.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));let R=this._diffModel.map(this,(D,_)=>{if(!D)return;return D.diff.read(_)===void 0&&!D.isDiffUpToDate.read(_)});this._register(W7((D,_)=>{if(R.read(D)===!0){let O=this._editorProgressService.show(!0,1000);_.add(y0(()=>O.done()))}})),this._register(y0(()=>{var D;if(this._shouldDisposeDiffModel)(D=this._diffModel.get())===null||D===void 0||D.dispose()})),this._register(new wy(this._editors,this._diffModel,this._options,this))}_createInnerEditor($,Q,X,Y){return $.createInstance(RX,Q,X,Y)}_createDiffEditorContributions(){let $=YY.getDiffEditorContributions();for(let Q of $)try{this._register(this._instantiationService.createInstance(Q.ctor,this))}catch(X){Z1(X)}}get _targetEditor(){return this._editors.modified}getEditorType(){return WY.IDiffEditor}layout($){this._rootSizeObserver.observe($)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var $;let Q=this._editors.original.saveViewState(),X=this._editors.modified.saveViewState();return{original:Q,modified:X,modelState:($=this._diffModel.get())===null||$===void 0?void 0:$.serializeState()}}restoreViewState($){var Q;if($&&$.original&&$.modified){let X=$;if(this._editors.original.restoreViewState(X.original),this._editors.modified.restoreViewState(X.modified),X.modelState)(Q=this._diffModel.get())===null||Q===void 0||Q.restoreSerializedState(X.modelState)}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel($){return this._instantiationService.createInstance(tD,$,this._options)}getModel(){var $,Q;return(Q=($=this._diffModel.get())===null||$===void 0?void 0:$.model)!==null&&Q!==void 0?Q:null}setModel($,Q){if(!$&&this._diffModel.get())this._accessibleDiffViewer.get().close();let X=$?"model"in $?{model:$,shouldDispose:!1}:{model:this.createViewModel($),shouldDispose:!0}:void 0;if(this._diffModel.get()!==(X===null||X===void 0?void 0:X.model))NG(Q,(Y)=>{var Z;u6.batchEventsGlobally(Y,()=>{this._editors.original.setModel(X?X.model.model.original:null),this._editors.modified.setModel(X?X.model.model.modified:null)});let G=this._diffModel.get(),q=this._shouldDisposeDiffModel;if(this._shouldDisposeDiffModel=(Z=X===null||X===void 0?void 0:X.shouldDispose)!==null&&Z!==void 0?Z:!1,this._diffModel.set(X===null||X===void 0?void 0:X.model,Y),q)G===null||G===void 0||G.dispose()})}updateOptions($){this._options.updateOptions($)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var $;let Q=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get();if(!Q)return null;return VQ0(Q)}revert($){if($.innerChanges){this.revertRangeMappings($.innerChanges);return}let Q=this._diffModel.get();if(!Q||!Q.isDiffUpToDate.get())return;this._editors.modified.executeEdits("diffEditor",[{range:$.modified.toExclusiveRange(),text:Q.model.original.getValueInRange($.original.toExclusiveRange())}])}revertRangeMappings($){let Q=this._diffModel.get();if(!Q||!Q.isDiffUpToDate.get())return;let X=$.map((Y)=>({range:Y.modifiedRange,text:Q.model.original.getValueInRange(Y.originalRange)}));this._editors.modified.executeEdits("diffEditor",X)}_goTo($){this._editors.modified.setPosition(new s($.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter($.lineRangeMapping.modified.toExclusiveRange())}goToDiff($){var Q,X,Y,Z;let G=(X=(Q=this._diffModel.get())===null||Q===void 0?void 0:Q.diff.get())===null||X===void 0?void 0:X.mappings;if(!G||G.length===0)return;let q=this._editors.modified.getPosition().lineNumber,U;if($==="next")U=(Y=G.find((z)=>z.lineRangeMapping.modified.startLineNumber>q))!==null&&Y!==void 0?Y:G[0];else U=(Z=P2(G,(z)=>z.lineRangeMapping.modified.startLineNumber<q))!==null&&Z!==void 0?Z:G[G.length-1];if(this._goTo(U),U.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue(j1.diffLineDeleted,{source:"diffEditor.goToDiff"});else if(U.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue(j1.diffLineInserted,{source:"diffEditor.goToDiff"});else if(U)this._audioCueService.playAudioCue(j1.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){let $=this._diffModel.get();if(!$)return;this.waitForDiff().then(()=>{var Q;let X=(Q=$.diff.get())===null||Q===void 0?void 0:Q.mappings;if(!X||X.length===0)return;this._goTo(X[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){let $=this._diffModel.get();if(!$)return;await $.waitForDiff()}mapToOtherSide(){var $,Q;let X=this._editors.modified.hasWidgetFocus(),Y=X?this._editors.modified:this._editors.original,Z=X?this._editors.original:this._editors.modified,G,q=Y.getSelection();if(q){let U=(Q=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get())===null||Q===void 0?void 0:Q.mappings.map((z)=>X?z.lineRangeMapping.flip():z.lineRangeMapping);if(U){let z=eI(q.getStartPosition(),U),H=eI(q.getEndPosition(),U);G=v.plusRange(z,H)}}return{destination:Z,destinationSelection:G}}switchSide(){let{destination:$,destinationSelection:Q}=this.mapToOtherSide();if($.focus(),Q)$.setSelection(Q)}exitCompareMove(){let $=this._diffModel.get();if(!$)return;$.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var $;let Q=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!Q)return;b6((X)=>{for(let Y of Q)Y.collapseAll(X)})}showAllUnchangedRegions(){var $;let Q=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!Q)return;b6((X)=>{for(let Y of Q)Y.showAll(X)})}};MU=jQ0([sV(3,s0),sV(4,r0),sV(5,X6),sV(6,Z4),sV(7,NX)],MU)});function BQ0(J){if(!J){if(vo)return;vo=!0}rh(J||F1.document.body)}function Ey(J,$,Q,X,Y){if(Q=Q||"",!X){let Z=Q.indexOf(`
`),G=Q;if(Z!==-1)G=Q.substring(0,Z);return ho(J,Q,$.createByFilepathOrFirstLine(Y||null,G),Y)}return ho(J,Q,$.createById(X),Y)}function ho(J,$,Q,X){return J.createModel($,Q,X)}var ky=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},D6=function(J,$){return function(Q,X){$(Q,X,J)}},WQ0=0,vo=!1,XR,YR,ZR;var fo=E(()=>{KY();B0();V9();lA();uD();RV();_4();G7();l8();e1();OX();n0();h4();PX();G5();RJ();pk();OV();Sj();kQ();d9();fL();I4();d8();e9();Ly();_G();H8();XR=class extends RX{constructor($,Q,X,Y,Z,G,q,U,z,H,j,B){let V={...Q};V.ariaLabel=V.ariaLabel||hj.editorViewAccessibleLabel,V.ariaLabel=V.ariaLabel+";"+hj.accessibilityHelpMessage;super($,V,{},X,Y,Z,G,U,z,H,j,B);if(q instanceof QZ)this._standaloneKeybindingService=q;else this._standaloneKeybindingService=null;BQ0(V.ariaContainerElement)}addCommand($,Q,X){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let Y="DYNAMIC_"+ ++WQ0,Z=v0.deserialize(X);return this._standaloneKeybindingService.addDynamicKeybinding(Y,$,Q,Z),Y}createContextKey($,Q){return this._contextKeyService.createKey($,Q)}addAction($){if(typeof $.id!=="string"||typeof $.label!=="string"||typeof $.run!=="function")throw Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),r.None;let{id:Q,label:X}=$,Y=v0.and(v0.equals("editorId",this.getId()),v0.deserialize($.precondition)),Z=$.keybindings,G=v0.and(Y,v0.deserialize($.keybindingContext)),q=$.contextMenuGroupId||null,U=$.contextMenuOrder||0,z=(V,...W)=>{return Promise.resolve($.run(this,...W))},H=new q0,j=this.getId()+":"+Q;if(H.add(O6.registerCommand(j,z)),q){let V={command:{id:j,title:X},when:Y,group:q,order:U};H.add(W$.appendMenuItem(g.EditorContext,V))}if(Array.isArray(Z))for(let V of Z)H.add(this._standaloneKeybindingService.addDynamicKeybinding(j,V,z,G));let B=new mH(j,X,X,void 0,Y,(...V)=>Promise.resolve($.run(this,...V)),this._contextKeyService);return this._actions.set(Q,B),H.add(y0(()=>{this._actions.delete(Q)})),H}_triggerCommand($,Q){if(this._codeEditorService instanceof Dj)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand($,Q)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand($,Q)}};XR=ky([D6(2,r0),D6(3,X6),D6(4,T5),D6(5,s0),D6(6,Q5),D6(7,Z5),D6(8,X8),D6(9,I8),D6(10,f6),D6(11,M1)],XR);YR=class extends XR{constructor($,Q,X,Y,Z,G,q,U,z,H,j,B,V,W,K){let A={...Q};kV(H,A,!1);let F=U.registerEditorContainer($);if(typeof A.theme==="string")U.setTheme(A.theme);if(typeof A.autoDetectHighContrast<"u")U.setAutoDetectHighContrast(Boolean(A.autoDetectHighContrast));let P=A.model;delete A.model;super($,A,X,Y,Z,G,q,U,z,j,W,K);this._configurationService=H,this._standaloneThemeService=U,this._register(F);let R;if(typeof P>"u"){let D=V.getLanguageIdByMimeType(A.language)||A.language||S5;R=Ey(B,V,A.value||"",D,void 0),this._ownsModel=!0}else R=P,this._ownsModel=!1;if(this._attachModel(R),R){let D={oldModelUrl:null,newModelUrl:R.uri};this._onDidChangeModel.fire(D)}}dispose(){super.dispose()}updateOptions($){if(kV(this._configurationService,$,!1),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast<"u")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_postDetachModelCleanup($){if(super._postDetachModelCleanup($),$&&this._ownsModel)$.dispose(),this._ownsModel=!1}};YR=ky([D6(2,r0),D6(3,X6),D6(4,T5),D6(5,s0),D6(6,Q5),D6(7,I7),D6(8,X8),D6(9,p1),D6(10,I8),D6(11,_5),D6(12,H6),D6(13,f6),D6(14,M1)],YR);ZR=class extends MU{constructor($,Q,X,Y,Z,G,q,U,z,H,j,B){let V={...Q};kV(U,V,!0);let W=G.registerEditorContainer($);if(typeof V.theme==="string")G.setTheme(V.theme);if(typeof V.autoDetectHighContrast<"u")G.setAutoDetectHighContrast(Boolean(V.autoDetectHighContrast));super($,V,{},Y,X,Z,B,H);this._configurationService=U,this._standaloneThemeService=G,this._register(W)}dispose(){super.dispose()}updateOptions($){if(kV(this._configurationService,$,!0),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast<"u")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_createInnerEditor($,Q,X){return $.createInstance(XR,Q,X)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand($,Q,X){return this.getModifiedEditor().addCommand($,Q,X)}createContextKey($,Q){return this.getModifiedEditor().createContextKey($,Q)}addAction($){return this.getModifiedEditor().addAction($)}};ZR=ky([D6(2,r0),D6(3,s0),D6(4,X6),D6(5,I7),D6(6,X8),D6(7,p1),D6(8,Q9),D6(9,NX),D6(10,$Z),D6(11,Z4)],ZR)});var go=E(()=>{_0(".monaco-component.multiDiffEditor{background:var(--vscode-multiDiffEditor-background);overflow-y:hidden}.monaco-component .multiDiffEntry{border-bottom:1px solid var(--vscode-multiDiffEditor-border);flex-direction:column;flex:1;display:flex;overflow:hidden}.monaco-component .multiDiffEntry .collapse-button{cursor:pointer;margin:0 5px}.monaco-component .multiDiffEntry .collapse-button a{display:block}.monaco-component .multiDiffEntry .header{color:var(--vscode-foreground);background:var(--vscode-editor-background);z-index:1000;border-top:1px solid var(--vscode-multiDiffEditor-border);border-bottom:1px solid var(--vscode-sideBarSectionHeader-border);align-items:center;padding:8px 5px;display:flex}.monaco-component .multiDiffEntry .header.shadow{box-shadow:var(--vscode-scrollbar-shadow)0px 6px 6px -6px}.monaco-component .multiDiffEntry .header .file-path{flex:1;min-width:0;display:flex}.monaco-component .multiDiffEntry .header .file-path .title{font-size:14px;line-height:22px}.monaco-component .multiDiffEntry .header .file-path .status{opacity:.75;margin:0 10px;font-weight:600;line-height:22px}.monaco-component .multiDiffEntry .header .file-path .title.original{text-overflow:ellipsis;flex:1;min-width:0}.monaco-component .multiDiffEntry .header .actions{padding:0 8px}.monaco-component .multiDiffEntry .editorParent{flex-direction:column;flex:1;display:flex}.monaco-component .multiDiffEntry .editorContainer{flex:1}")});var po=E(()=>{_0(".monaco-toolbar{height:100%}.monaco-toolbar .toolbar-toggle-more{padding:0;display:inline-block}")});var Iy,aV;var mo=E(()=>{JQ();GE();Z7();O5();N5();E0();B0();po();a0();Iy=class Iy extends r{constructor(J,$,Q={orientation:0}){super();this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new PM),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new q0),this.options=Q,this.lookupKeybindings=typeof this.options.getKeyBinding==="function",this.toggleMenuAction=this._register(new aV(()=>{var X;return(X=this.toggleMenuActionViewItem)===null||X===void 0?void 0:X.show()},Q.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",J.appendChild(this.element),this.actionBar=this._register(new R8(this.element,{orientation:Q.orientation,ariaLabel:Q.ariaLabel,actionRunner:Q.actionRunner,allowContextMenu:Q.allowContextMenu,highlightToggledItems:Q.highlightToggledItems,actionViewItemProvider:(X,Y)=>{var Z;if(X.id===aV.ID)return this.toggleMenuActionViewItem=new zG(X,X.menuActions,$,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:c0.asClassNameArray((Z=Q.moreIcon)!==null&&Z!==void 0?Z:O0.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(Q.actionViewItemProvider){let G=Q.actionViewItemProvider(X,Y);if(G)return G}if(X instanceof IQ){let G=new zG(X,X.actions,$,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:X.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return G.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(G),this.disposables.add(this._onDidChangeDropdownVisibility.add(G.onDidChangeVisibility)),G}return}}))}set actionRunner(J){this.actionBar.actionRunner=J}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(J){return this.actionBar.getAction(J)}setActions(J,$){this.clear();let Q=J?J.slice(0):[];if(this.hasSecondaryActions=!!($&&$.length>0),this.hasSecondaryActions&&$)this.toggleMenuAction.menuActions=$.slice(0),Q.push(this.toggleMenuAction);Q.forEach((X)=>{this.actionBar.push(X,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(X)})})}getKeybindingLabel(J){var $,Q,X;let Y=this.lookupKeybindings?(Q=($=this.options).getKeyBinding)===null||Q===void 0?void 0:Q.call($,J):void 0;return(X=Y===null||Y===void 0?void 0:Y.getLabel())!==null&&X!==void 0?X:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}};aV=class aV extends O7{constructor(J,$){$=$||M("moreActions","More Actions...");super(aV.ID,$,void 0,!0);this._menuActions=[],this.toggleDropdownMenu=J}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(J){this._menuActions=J}};aV.ID="toolbar.toggle.more"});var uo=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},UQ=function(J,$){return function(Q,X){$(Q,X,J)}},yy,GR;var co=E(()=>{x0();h9();mo();Z7();B1();T1();E0();b9();B0();a0();uP();_4();e1();OX();h4();JY();yy=class extends Iy{constructor($,Q,X,Y,Z,G,q){super($,Z,{getKeyBinding:(z)=>{var H;return(H=G.lookupKeybinding(z.id))!==null&&H!==void 0?H:void 0},...Q,allowContextMenu:!0,skipTelemetry:typeof(Q===null||Q===void 0?void 0:Q.telemetrySource)==="string"});this._options=Q,this._menuService=X,this._contextKeyService=Y,this._contextMenuService=Z,this._sessionDisposables=this._store.add(new q0);let U=Q===null||Q===void 0?void 0:Q.telemetrySource;if(U)this._store.add(this.actionBar.onDidRun((z)=>q.publicLog2("workbenchActionExecuted",{id:z.action.id,from:U})))}setActions($,Q=[],X){var Y,Z,G;this._sessionDisposables.clear();let q=$.slice(),U=Q.slice(),z=[],H=0,j=[],B=!1;if(((Y=this._options)===null||Y===void 0?void 0:Y.hiddenItemStrategy)!==-1)for(let V=0;V<q.length;V++){let W=q[V];if(!(W instanceof M4)&&!(W instanceof oZ))continue;if(!W.hideActions)continue;if(z.push(W.hideActions.toggle),W.hideActions.toggle.checked)H++;if(W.hideActions.isHidden){if(B=!0,q[V]=void 0,((Z=this._options)===null||Z===void 0?void 0:Z.hiddenItemStrategy)!==0)j[V]=W}}if(((G=this._options)===null||G===void 0?void 0:G.overflowBehavior)!==void 0){let V=la(new Set(this._options.overflowBehavior.exempted),D1.map(q,(A)=>A===null||A===void 0?void 0:A.id)),W=this._options.overflowBehavior.maxItems-V.size,K=0;for(let A=0;A<q.length;A++){let F=q[A];if(!F)continue;if(K++,V.has(F.id))continue;if(K>=W)q[A]=void 0,j[A]=F}}if($M(q),$M(j),super.setActions(q,Y5.join(j,U)),z.length>0)this._sessionDisposables.add(t(this.getElement(),"contextmenu",(V)=>{var W,K,A,F,P;let R=new j8(L0(this.getElement()),V),D=this.getItemAction(R.target);if(!D)return;R.preventDefault(),R.stopPropagation();let _=!1;if(H===1&&((W=this._options)===null||W===void 0?void 0:W.hiddenItemStrategy)===0){_=!0;for(let w=0;w<z.length;w++)if(z[w].checked){z[w]=lZ({id:D.id,label:D.label,checked:!0,enabled:!1,run(){}});break}}let O;if(!_&&(D instanceof M4||D instanceof oZ)){if(!D.hideActions)return;O=D.hideActions.hide}else O=lZ({id:"label",label:M("hide","Hide"),enabled:!1,run(){}});let N=Y5.join([O],z);if(((K=this._options)===null||K===void 0?void 0:K.resetMenu)&&!X)X=[this._options.resetMenu];if(B&&X)N.push(new Y5),N.push(lZ({id:"resetThisMenu",label:M("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(X)}));this._contextMenuService.showContextMenu({getAnchor:()=>R,getActions:()=>N,menuId:(A=this._options)===null||A===void 0?void 0:A.contextMenu,menuActionOptions:{renderShortTitle:!0,...(F=this._options)===null||F===void 0?void 0:F.menuOptions},skipTelemetry:typeof((P=this._options)===null||P===void 0?void 0:P.telemetrySource)==="string",contextKeyService:this._contextKeyService})}))}};yy=uo([UQ(2,O4),UQ(3,s0),UQ(4,Q9),UQ(5,Q5),UQ(6,z7)],yy);GR=class extends yy{constructor($,Q,X,Y,Z,G,q,U){super($,{resetMenu:Q,...X},Y,Z,G,q,U);this._onDidChangeMenuItems=this._store.add(new p);let z=this._store.add(Y.createMenu(Q,Z,{emitEventsForSubmenuChanges:!0})),H=()=>{var j,B,V;let W=[],K=[];Sa(z,X===null||X===void 0?void 0:X.menuOptions,{primary:W,secondary:K},(j=X===null||X===void 0?void 0:X.toolbarOptions)===null||j===void 0?void 0:j.primaryGroup,(B=X===null||X===void 0?void 0:X.toolbarOptions)===null||B===void 0?void 0:B.shouldInlineSubmenu,(V=X===null||X===void 0?void 0:X.toolbarOptions)===null||V===void 0?void 0:V.useSeparatorsInPrimaryActions),$.classList.toggle("has-no-actions",W.length===0&&K.length===0),super.setActions(W,K)};this._store.add(z.onDidChange(()=>{H(),this._onDidChangeMenuItems.fire(this)})),H()}setActions(){throw new l1("This toolbar is populated from a menu.")}};GR=uo([UQ(3,O4),UQ(4,s0),UQ(5,Q9),UQ(6,Q5),UQ(7,z7)],GR)});var xy;var lo=E(()=>{Z7();xy=class xy extends W9{constructor(J){super();this._getContext=J}runAction(J,$){return super.runAction(J,this._getContext())}}});class by{constructor(J){this.viewModel=J}getId(){return this.viewModel}}function so(J){return u6(($)=>{let Q=new q0;return Q.add(J.onDidFocusEditorWidget(()=>$(!0))),Q.add(J.onDidBlurEditorWidget(()=>$(!1))),Q},()=>J.hasWidgetFocus())}var FQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},KQ0=function(J,$){return function(Q,X){$(Q,X,J)}},OU;var Sy=E(()=>{x0();jI();O5();B0();t8();TG();Ly();co();_4();n0();lo();OU=class extends r{constructor($,Q,X,Y){super();this._container=$,this._overflowWidgetsDomNode=Q,this._workbenchUIElementFactory=X,this._instantiationService=Y,this._viewModel=N1(this,void 0),this._collapsed=X1(this,(G)=>{var q;return(q=this._viewModel.read(G))===null||q===void 0?void 0:q.collapsed.read(G)}),this._editorContentHeight=N1(this,500),this.contentHeight=X1(this,(G)=>{return(this._collapsed.read(G)?0:this._editorContentHeight.read(G))+this._outerEditorHeight}),this._modifiedContentWidth=N1(this,0),this._modifiedWidth=N1(this,0),this._originalContentWidth=N1(this,0),this._originalWidth=N1(this,0),this.maxScroll=X1(this,(G)=>{let q=this._modifiedContentWidth.read(G)-this._modifiedWidth.read(G),U=this._originalContentWidth.read(G)-this._originalWidth.read(G);if(q>U)return{maxScroll:q,width:this._modifiedWidth.read(G)};else return{maxScroll:U,width:this._originalWidth.read(G)}}),this._elements=o1("div.multiDiffEntry",[o1("div.header@header",[o1("div.collapse-button@collapseButton"),o1("div.file-path",[o1("div.title.modified.show-file-icons@primaryPath",[]),o1("div.status.deleted@status",["R"]),o1("div.title.original.show-file-icons@secondaryPath",[])]),o1("div.actions@actions")]),o1("div.editorParent",[o1("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(MU,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=so(this.editor.getModifiedEditor()),this.isOriginalFocused=so(this.editor.getOriginalEditor()),this.isFocused=X1(this,(G)=>this.isModifedFocused.read(G)||this.isOriginalFocused.read(G)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new q0,this._headerHeight=38;let Z=new zU(this._elements.collapseButton,{});this._register(k1((G)=>{Z.element.className="",Z.icon=this._collapsed.read(G)?O0.chevronRight:O0.chevronDown})),this._register(Z.onDidClick(()=>{var G;(G=this._viewModel.get())===null||G===void 0||G.collapsed.set(!this._collapsed.get(),void 0)})),this._register(k1((G)=>{this._elements.editor.style.display=this._collapsed.read(G)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange((G)=>{let q=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(q,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange((G)=>{let q=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(q,void 0)}),this._register(this.editor.onDidContentSizeChange((G)=>{AU((q)=>{this._editorContentHeight.set(G.contentHeight,q),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),q),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),q)})})),this._register(k1((G)=>{let q=this.isFocused.read(G);this._elements.root.classList.toggle("focused",q)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(GR,this._elements.actions,g.MultiDiffEditorFileToolbar,{actionRunner:this._register(new xy(()=>{var G;return(G=this._viewModel.get())===null||G===void 0?void 0:G.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:(G)=>G.startsWith("navigation")}}))}setScrollLeft($){if(this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get())this.editor.getModifiedEditor().setScrollLeft($);else this.editor.getOriginalEditor().setScrollLeft($)}setData($){function Q(Y){return{...Y,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}let X=$.viewModel.entry.value;if(X.onOptionsDidChange)this._dataStore.add(X.onOptionsDidChange(()=>{var Y;this.editor.updateOptions(Q((Y=X.options)!==null&&Y!==void 0?Y:{}))}));AU((Y)=>{var Z,G,q,U;(Z=this._resourceLabel)===null||Z===void 0||Z.setUri((G=$.viewModel.modifiedUri)!==null&&G!==void 0?G:$.viewModel.originalUri,{strikethrough:$.viewModel.modifiedUri===void 0});let z=!1,H=!1,j=!1,B="";if($.viewModel.modifiedUri&&$.viewModel.originalUri&&$.viewModel.modifiedUri.path!==$.viewModel.originalUri.path)B="R",z=!0;else if(!$.viewModel.modifiedUri)B="D",H=!0;else if(!$.viewModel.originalUri)B="A",j=!0;this._elements.status.classList.toggle("renamed",z),this._elements.status.classList.toggle("deleted",H),this._elements.status.classList.toggle("added",j),this._elements.status.innerText=B,(q=this._resourceLabel2)===null||q===void 0||q.setUri(z?$.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set($.viewModel,Y),this.editor.setModel($.viewModel.diffEditorViewModel,Y),this.editor.updateOptions(Q((U=X.options)!==null&&U!==void 0?U:{}))})}render($,Q,X,Y){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${$.start}px`,this._elements.root.style.height=`${$.length}px`,this._elements.root.style.width=`${Q}px`,this._elements.root.style.position="absolute";let Z=Math.max(0,Math.min($.length-this._headerHeight,Y.start-$.start));this._elements.header.style.transform=`translateY(${Z}px)`,AU((G)=>{this.editor.layout({width:Q,height:$.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(X),this._elements.header.classList.toggle("shadow",Z>0||X>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};OU=FQ0([KQ0(3,r0)],OU)});class Cy{constructor(J){this._create=J,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(J){var $;let Q;if(this._unused.size===0)Q=this._create(J),this._itemData.set(Q,J);else{let X=[...this._unused.values()];Q=($=X.find((Y)=>this._itemData.get(Y).getId()===J.getId()))!==null&&$!==void 0?$:X[0],this._unused.delete(Q),this._itemData.set(Q,J),Q.setData(J)}return this._used.add(Q),{object:Q,dispose:()=>{if(this._used.delete(Q),this._unused.size>5)Q.dispose();else this._unused.add(Q)}}}dispose(){for(let J of this._used)J.dispose();for(let J of this._unused)J.dispose();this._used.clear(),this._unused.clear()}}var AQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ao=function(J,$){return function(Q,X){$(Q,X,J)}},qR,ro;var io=E(()=>{x0();EJ();FJ();B0();t8();TG();e3();go();aJ();n9();n0();Sy();e1();qX();u5();qR=class extends r{constructor($,Q,X,Y,Z,G){super();this._element=$,this._dimension=Q,this._viewModel=X,this._workbenchUIElementFactory=Y,this._parentContextKeyService=Z,this._parentInstantiationService=G,this._elements=o1("div.monaco-component.multiDiffEditor",[o1("div@content",{style:{overflow:"hidden"}}),o1("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new hV(this._element,void 0)),this._objectPool=this._register(new Cy((U)=>{let z=this._instantiationService.createInstance(OU,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return z.setData(U),z})),this._scrollable=this._register(new v4({forceIntegerValues:!1,scheduleAtNextAnimationFrame:(U)=>y5(L0(this._element),U),smoothScrollDuration:100})),this._scrollableElement=this._register(new QX(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=u6(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=u6(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=G4(this,(U,z)=>{let H=this._viewModel.read(U);if(!H)return[];return H.items.read(U).map((B)=>{var V;let W=z.add(new ro(B,this._objectPool,this.scrollLeft)),K=(V=this._lastDocStates)===null||V===void 0?void 0:V[W.getKey()];if(K)b6((A)=>{W.setViewState(K,A)});return W})}),this._spaceBetweenPx=10,this._totalHeight=this._viewItems.map(this,(U,z)=>U.reduce((H,j)=>H+j.contentHeight.read(z)+this._spaceBetweenPx,0)),this.activeDiffItem=X1(this,(U)=>this._viewItems.read(U).find((z)=>{var H;return(H=z.template.read(U))===null||H===void 0?void 0:H.isFocused.read(U)})),this.lastActiveDiffItem=nI((U,z)=>{var H;return(H=this.activeDiffItem.read(U))!==null&&H!==void 0?H:z}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new CJ([s0,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(H0.inMultiDiffEditor.key,!0),this._register(W7((U,z)=>{let H=this._viewModel.read(U);if(H&&H.contextKeys)for(let[j,B]of Object.entries(H.contextKeys)){let V=this._contextKeyService.createKey(j,void 0);V.set(B),z.add(y0(()=>V.reset()))}}));let q=this._parentContextKeyService.createKey(H0.multiDiffEditorAllCollapsed.key,!1);this._register(k1((U)=>{let z=this._viewModel.read(U);if(z){let H=z.items.read(U).every((j)=>j.collapsed.read(U));q.set(H)}})),this._register(k1((U)=>{let z=this.lastActiveDiffItem.read(U);b6((H)=>{var j;(j=this._viewModel.read(U))===null||j===void 0||j.activeDiffItem.set(z===null||z===void 0?void 0:z.viewModel,H)})})),this._register(k1((U)=>{let z=this._dimension.read(U);this._sizeObserver.observe(z)})),this._elements.content.style.position="relative",this._register(k1((U)=>{let z=this._sizeObserver.height.read(U);this._elements.root.style.height=`${z}px`;let H=this._totalHeight.read(U);this._elements.content.style.height=`${H}px`;let j=this._sizeObserver.width.read(U),B=j,V=this._viewItems.read(U),W=A_(V,(K)=>K.maxScroll.read(U).maxScroll);if(W){let K=W.maxScroll.read(U);B=j+K.maxScroll}this._scrollableElement.setScrollDimensions({width:j,height:z,scrollHeight:H,scrollWidth:B})})),$.replaceChildren(this._scrollableElement.getDomNode()),this._register(y0(()=>{$.replaceChildren()})),this._register(this._register(k1((U)=>{AU((z)=>{this.render(U)})})))}render($){let Q=this.scrollTop.read($),X=0,Y=0,Z=0,G=this._sizeObserver.height.read($),q=J1.ofStartAndLength(Q,G),U=this._sizeObserver.width.read($);for(let z of this._viewItems.read($)){let H=z.contentHeight.read($),j=Math.min(H,G),B=J1.ofStartAndLength(Y,j),V=J1.ofStartAndLength(Z,H);if(V.isBefore(q))X-=H-j,z.hide();else if(V.isAfter(q))z.hide();else{let W=Math.max(0,Math.min(q.start-V.start,H-j));X-=W;let K=J1.ofStartAndLength(Q+X,G);z.render(B,W,U,K)}Y+=j+this._spaceBetweenPx,Z+=H+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(Q+X)}px)`}};qR=AQ0([ao(4,s0),ao(5,r0)],qR);ro=class ro extends r{constructor(J,$,Q){super();this.viewModel=J,this._objectPool=$,this._scrollLeft=Q,this._templateRef=this._register(cI(this,void 0)),this.contentHeight=X1(this,(X)=>{var Y,Z,G;return(G=(Z=(Y=this._templateRef.read(X))===null||Y===void 0?void 0:Y.object.contentHeight)===null||Z===void 0?void 0:Z.read(X))!==null&&G!==void 0?G:this.viewModel.lastTemplateData.read(X).contentHeight}),this.maxScroll=X1(this,(X)=>{var Y,Z;return(Z=(Y=this._templateRef.read(X))===null||Y===void 0?void 0:Y.object.maxScroll.read(X))!==null&&Z!==void 0?Z:{maxScroll:0,scrollWidth:0}}),this.template=X1(this,(X)=>{var Y;return(Y=this._templateRef.read(X))===null||Y===void 0?void 0:Y.object}),this._isHidden=N1(this,!1),this._register(k1((X)=>{var Y;let Z=this._scrollLeft.read(X);(Y=this._templateRef.read(X))===null||Y===void 0||Y.object.setScrollLeft(Z)})),this._register(k1((X)=>{let Y=this._templateRef.read(X);if(!Y)return;if(!this._isHidden.read(X))return;if(Y.object.isFocused.read(X))return;this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var J;return`VirtualViewItem(${(J=this.viewModel.entry.value.modified)===null||J===void 0?void 0:J.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(J,$){var Q;this.viewModel.collapsed.set(J.collapsed,$),this._updateTemplateData($);let X=this.viewModel.lastTemplateData.get(),Y=(Q=J.selections)===null||Q===void 0?void 0:Q.map(d0.liftSelection);this.viewModel.lastTemplateData.set({...X,selections:Y},$);let Z=this._templateRef.get();if(Z){if(Y)Z.object.editor.setSelections(Y)}}_updateTemplateData(J){var $;let Q=this._templateRef.get();if(!Q)return;this.viewModel.lastTemplateData.set({contentHeight:Q.object.contentHeight.get(),selections:($=Q.object.editor.getSelections())!==null&&$!==void 0?$:void 0},J)}_clear(){let J=this._templateRef.get();if(!J)return;b6(($)=>{this._updateTemplateData($),J.object.hide(),this._templateRef.set(void 0,$)})}hide(){this._isHidden.set(!0,void 0)}render(J,$,Q,X){this._isHidden.set(!1,void 0);let Y=this._templateRef.get();if(!Y){Y=this._objectPool.getUnusedObj(new by(this.viewModel)),this._templateRef.set(Y,void 0);let Z=this.viewModel.lastTemplateData.get().selections;if(Z)Y.object.editor.setSelections(Z)}Y.object.render(J,Q,$,X)}}});var W81,B81,F81;var no=E(()=>{a0();x8();W81=f("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},M("multiDiffEditor.headerBackground","The background color of the diff editor's header")),B81=f("multiDiffEditor.background",{dark:"#000000",light:"#e5e5e5",hcDark:"#000000",hcLight:"#e5e5e5"},M("multiDiffEditor.background","The background color of the multi file diff editor")),F81=f("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},M("multiDiffEditor.border","The border color of the multi file diff editor"))});var PQ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},DQ0=function(J,$){return function(Q,X){$(Q,X,J)}},UR;var oo=E(()=>{B0();t8();aJ();io();n0();no();Sy();UR=class extends r{constructor($,Q,X){super();this._element=$,this._workbenchUIElementFactory=Q,this._instantiationService=X,this._dimension=N1(this,void 0),this._viewModel=N1(this,void 0),this._widgetImpl=G4(this,(Y,Z)=>{return q4(OU,Y),Z.add(this._instantiationService.createInstance(q4(qR,Y),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory))}),this._register(GZ(this._widgetImpl))}};UR=PQ0([DQ0(2,r0)],UR)});function RQ0(J,$,Q){return u0.initialize(Q||{}).createInstance(YR,J,$)}function MQ0(J){return u0.get(X6).onCodeEditorAdd((Q)=>{J(Q)})}function OQ0(J){return u0.get(X6).onDiffEditorAdd((Q)=>{J(Q)})}function _Q0(){return u0.get(X6).listCodeEditors()}function NQ0(){return u0.get(X6).listDiffEditors()}function TQ0(J,$,Q){return u0.initialize(Q||{}).createInstance(ZR,J,$)}function wQ0(J,$){let Q=u0.initialize($||{});return new UR(J,{},Q)}function LQ0(J){if(typeof J.id!=="string"||typeof J.run!=="function")throw Error("Invalid command descriptor, `id` and `run` are required properties!");return O6.registerCommand(J.id,J.run)}function kQ0(J){if(typeof J.id!=="string"||typeof J.label!=="string"||typeof J.run!=="function")throw Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");let $=v0.deserialize(J.precondition),Q=(Y,...Z)=>{return u7.runEditorCommand(Y,Z,$,(G,q,U)=>Promise.resolve(J.run(q,...U)))},X=new q0;if(X.add(O6.registerCommand(J.id,Q)),J.contextMenuGroupId){let Y={command:{id:J.id,title:J.label},when:$,group:J.contextMenuGroupId,order:J.contextMenuOrder||0};X.add(W$.appendMenuItem(g.EditorContext,Y))}if(Array.isArray(J.keybindings)){let Y=u0.get(Q5);if(!(Y instanceof QZ))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{let Z=v0.and($,v0.deserialize(J.keybindingContext));X.add(Y.addDynamicKeybindings(J.keybindings.map((G)=>{return{keybinding:G,command:J.id,when:Z}})))}}return X}function EQ0(J){return to([J])}function to(J){let $=u0.get(Q5);if(!($ instanceof QZ))return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),r.None;return $.addDynamicKeybindings(J.map((Q)=>{return{keybinding:Q.keybinding,command:Q.command,commandArgs:Q.commandArgs,when:v0.deserialize(Q.when)}}))}function IQ0(J,$,Q){let X=u0.get(H6),Y=X.getLanguageIdByMimeType($)||$;return Ey(u0.get(_5),X,J,Y,Q)}function yQ0(J,$){let Q=u0.get(H6),X=Q.getLanguageIdByMimeType($)||$||S5;J.setLanguage(Q.createById(X))}function xQ0(J,$,Q){if(J)u0.get(pJ).changeOne($,J.uri,Q)}function bQ0(J){u0.get(pJ).changeAll(J,[])}function SQ0(J){return u0.get(pJ).read(J)}function CQ0(J){return u0.get(pJ).onMarkerChanged(J)}function vQ0(J){return u0.get(_5).getModel(J)}function hQ0(){return u0.get(_5).getModels()}function fQ0(J){return u0.get(_5).onModelAdded(J)}function gQ0(J){return u0.get(_5).onModelRemoved(J)}function pQ0(J){return u0.get(_5).onModelLanguageChanged((Q)=>{J({model:Q.model,oldLanguage:Q.oldLanguageId})})}function mQ0(J){return yh(u0.get(_5),u0.get(f6),J)}function uQ0(J,$){let Q=u0.get(H6),X=u0.get(I7);return WH.colorizeElement(X,Q,J,$).then(()=>{X.registerEditorContainer(J)})}function cQ0(J,$,Q){let X=u0.get(H6);return u0.get(I7).registerEditorContainer(F1.document.body),WH.colorize(X,J,$,Q)}function lQ0(J,$,Q=4){return u0.get(I7).registerEditorContainer(F1.document.body),WH.colorizeModelLine(J,$,Q)}function dQ0(J){let $=Q6.get(J);if($)return $;return{getInitialState:()=>BY,tokenize:(Q,X,Y)=>ZK(J,Y)}}function sQ0(J,$){Q6.getOrCreate($);let Q=dQ0($),X=H9(J),Y=[],Z=Q.getInitialState();for(let G=0,q=X.length;G<q;G++){let U=X[G],z=Q.tokenize(U,!0,Z);Y[G]=z.tokens,Z=z.endState}return Y}function aQ0(J,$){u0.get(I7).defineTheme(J,$)}function rQ0(J){u0.get(I7).setTheme(J)}function iQ0(){Bz.clearAllFontInfos()}function nQ0(J,$){return O6.registerCommand({id:J,handler:$})}function oQ0(J){return u0.get(n$).registerOpener({async open(Q){if(typeof Q==="string")Q=m0.parse(Q);return J.open(Q)}})}function tQ0(J){return u0.get(X6).registerCodeEditorOpenHandler(async(Q,X,Y)=>{var Z;if(!X)return null;let G=(Z=Q.options)===null||Z===void 0?void 0:Z.selection,q;if(G&&typeof G.endLineNumber==="number"&&typeof G.endColumn==="number")q=G;else if(G)q={lineNumber:G.startLineNumber,column:G.startColumn};if(await J.openCodeEditor(X,Q.resource,q))return X;return null})}function eo(){return{create:RQ0,getEditors:_Q0,getDiffEditors:NQ0,onDidCreateEditor:MQ0,onDidCreateDiffEditor:OQ0,createDiffEditor:TQ0,addCommand:LQ0,addEditorAction:kQ0,addKeybindingRule:EQ0,addKeybindingRules:to,createModel:IQ0,setModelLanguage:yQ0,setModelMarkers:xQ0,getModelMarkers:SQ0,removeAllMarkers:bQ0,onDidChangeMarkers:CQ0,getModels:hQ0,getModel:vQ0,onDidCreateModel:fQ0,onWillDisposeModel:gQ0,onDidChangeModelLanguage:pQ0,createWebWorker:mQ0,colorizeElement:uQ0,colorize:cQ0,colorizeModelLine:lQ0,tokenize:sQ0,defineTheme:aQ0,setTheme:rQ0,remeasureFonts:iQ0,registerCommand:nQ0,registerLinkOpener:oQ0,registerEditorOpener:tQ0,AccessibilitySupport:iW,ContentWidgetPositionPreference:$B,CursorChangeReason:QB,DefaultEndOfLine:XB,EditorAutoIndentStrategy:ZB,EditorOption:GB,EndOfLinePreference:qB,EndOfLineSequence:UB,MinimapPosition:AB,MouseTargetType:PB,OverlayWidgetPositionPreference:DB,OverviewRulerLane:RB,GlyphMarginLane:zB,RenderLineNumbersType:OB,RenderMinimap:_B,ScrollbarVisibility:TB,ScrollType:NB,TextEditorCursorBlinkingStyle:yB,TextEditorCursorStyle:xB,TrackedRangeStickiness:bB,WrappingIndent:SB,InjectedTextCursorStops:jB,PositionAffinity:MB,ShowLightbulbIconMode:LB,ConfigurationChangedEvent:eU,BareFontInfo:LQ,FontInfo:X3,TextModelResolvedOptions:K2,FindMatch:pQ,ApplyUpdateResult:kZ,EditorZoom:D4,createMultiFileDiffEditor:wQ0,EditorType:WY,EditorOptions:XJ}}var Jt=E(()=>{H8();B0();G1();V5();pS();sM();u9();V9();bh();U8();Wz();iB();GH();w8();d9();d8();I4();qH();l7();kQ();CB();dh();fo();uD();RV();_4();G7();e1();h4();eq();n2();oo()});function eQ0(J,$){if(!$)return!1;if(!Array.isArray($))return!1;for(let Q of $)if(!J(Q))return!1;return!0}function zR(J,$){if(typeof J==="boolean")return J;return $}function $t(J,$){if(typeof J==="string")return J;return $}function JX0(J){let $={};for(let Q of J)$[Q]=!0;return $}function Qt(J,$=!1){if($)J=J.map(function(X){return X.toLowerCase()});let Q=JX0(J);if($)return function(X){return Q[X.toLowerCase()]!==void 0&&Q.hasOwnProperty(X.toLowerCase())};else return function(X){return Q[X]!==void 0&&Q.hasOwnProperty(X)}}function vy(J,$){$=$.replace(/@@/g,"\x01");let Q=0,X;do X=!1,$=$.replace(/@(\w+)/g,function(Z,G){X=!0;let q="";if(typeof J[G]==="string")q=J[G];else if(J[G]&&J[G]instanceof RegExp)q=J[G].source;else if(J[G]===void 0)throw U6(J,"language definition does not contain attribute '"+G+"', used at: "+$);else throw U6(J,"attribute reference '"+G+"' must be a string, used at: "+$);return N2(q)?"":"(?:"+q+")"}),Q++;while(X&&Q<5);$=$.replace(/\x01/g,"@");let Y=(J.ignoreCase?"i":"")+(J.unicode?"u":"");return new RegExp($,Y)}function $X0(J,$,Q,X){if(X<0)return J;if(X<$.length)return $[X];if(X>=100){X=X-100;let Y=Q.split(".");if(Y.unshift(Q),X<Y.length)return Y[X]}return null}function QX0(J,$,Q,X){let Y=-1,Z=Q,G=Q.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);if(G){if(G[3]){if(Y=parseInt(G[3]),G[2])Y=Y+100}Z=G[4]}let q="~",U=Z;if(!Z||Z.length===0)q="!=",U="";else if(/^\w*$/.test(U))q="==";else if(G=Z.match(/^(@|!@|~|!~|==|!=)(.*)$/),G)q=G[1],U=G[2];let z;if((q==="~"||q==="!~")&&/^(\w|\|)*$/.test(U)){let H=Qt(U.split("|"),J.ignoreCase);z=function(j){return q==="~"?H(j):!H(j)}}else if(q==="@"||q==="!@"){let H=J[U];if(!H)throw U6(J,"the @ match target '"+U+"' is not defined, in rule: "+$);if(!eQ0(function(B){return typeof B==="string"},H))throw U6(J,"the @ match target '"+U+"' must be an array of strings, in rule: "+$);let j=Qt(H,J.ignoreCase);z=function(B){return q==="@"?j(B):!j(B)}}else if(q==="~"||q==="!~")if(U.indexOf("$")<0){let H=vy(J,"^"+U+"$");z=function(j){return q==="~"?H.test(j):!H.test(j)}}else z=function(H,j,B,V){return vy(J,"^"+M$(J,U,j,B,V)+"$").test(H)};else if(U.indexOf("$")<0){let H=R$(J,U);z=function(j){return q==="=="?j===H:j!==H}}else{let H=R$(J,U);z=function(j,B,V,W,K){let A=M$(J,H,B,V,W);return q==="=="?j===A:j!==A}}if(Y===-1)return{name:Q,value:X,test:function(H,j,B,V){return z(H,H,j,B,V)}};else return{name:Q,value:X,test:function(H,j,B,V){let W=$X0(H,j,B,Y);return z(!W?"":W,H,j,B,V)}}}function hy(J,$,Q){if(!Q)return{token:""};else if(typeof Q==="string")return Q;else if(Q.token||Q.token==="")if(typeof Q.token!=="string")throw U6(J,"a 'token' attribute must be of type string, in rule: "+$);else{let X={token:Q.token};if(Q.token.indexOf("$")>=0)X.tokenSubst=!0;if(typeof Q.bracket==="string")if(Q.bracket==="@open")X.bracket=1;else if(Q.bracket==="@close")X.bracket=-1;else throw U6(J,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+$);if(Q.next)if(typeof Q.next!=="string")throw U6(J,"the next state must be a string value in rule: "+$);else{let Y=Q.next;if(!/^(@pop|@push|@popall)$/.test(Y)){if(Y[0]==="@")Y=Y.substr(1);if(Y.indexOf("$")<0){if(!ph(J,M$(J,Y,"",[],"")))throw U6(J,"the next state '"+Q.next+"' is not defined in rule: "+$)}}X.next=Y}if(typeof Q.goBack==="number")X.goBack=Q.goBack;if(typeof Q.switchTo==="string")X.switchTo=Q.switchTo;if(typeof Q.log==="string")X.log=Q.log;if(typeof Q.nextEmbedded==="string")X.nextEmbedded=Q.nextEmbedded,J.usesEmbedded=!0;return X}else if(Array.isArray(Q)){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=hy(J,$,Q[Y]);return{group:X}}else if(Q.cases){let X=[];for(let Z in Q.cases)if(Q.cases.hasOwnProperty(Z)){let G=hy(J,$,Q.cases[Z]);if(Z==="@default"||Z==="@"||Z==="")X.push({test:void 0,value:G,name:Z});else if(Z==="@eos")X.push({test:function(q,U,z,H){return H},value:G,name:Z});else X.push(QX0(J,$,Z,G))}let Y=J.defaultToken;return{test:function(Z,G,q,U){for(let z of X)if(!z.test||z.test(Z,G,q,U))return z.value;return Y}}}else throw U6(J,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+$)}class Xt{constructor(J){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=J}setRegex(J,$){let Q;if(typeof $==="string")Q=$;else if($ instanceof RegExp)Q=$.source;else throw U6(J,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=Q.length>0&&Q[0]==="^",this.name=this.name+": "+Q,this.regex=vy(J,"^(?:"+(this.matchOnlyAtLineStart?Q.substr(1):Q)+")")}setAction(J,$){this.action=hy(J,this.name,$)}}function fy(J,$){if(!$||typeof $!=="object")throw Error("Monarch: expecting a language definition object");let Q={};Q.languageId=J,Q.includeLF=zR($.includeLF,!1),Q.noThrow=!1,Q.maxStack=100,Q.start=typeof $.start==="string"?$.start:null,Q.ignoreCase=zR($.ignoreCase,!1),Q.unicode=zR($.unicode,!1),Q.tokenPostfix=$t($.tokenPostfix,"."+Q.languageId),Q.defaultToken=$t($.defaultToken,"source"),Q.usesEmbedded=!1;let X=$;X.languageId=J,X.includeLF=Q.includeLF,X.ignoreCase=Q.ignoreCase,X.unicode=Q.unicode,X.noThrow=Q.noThrow,X.usesEmbedded=Q.usesEmbedded,X.stateNames=$.tokenizer,X.defaultToken=Q.defaultToken;function Y(G,q,U){for(let z of U){let H=z.include;if(H){if(typeof H!=="string")throw U6(Q,"an 'include' attribute must be a string at: "+G);if(H[0]==="@")H=H.substr(1);if(!$.tokenizer[H])throw U6(Q,"include target '"+H+"' is not defined at: "+G);Y(G+"."+H,q,$.tokenizer[H])}else{let j=new Xt(G);if(Array.isArray(z)&&z.length>=1&&z.length<=3)if(j.setRegex(X,z[0]),z.length>=3)if(typeof z[1]==="string")j.setAction(X,{token:z[1],next:z[2]});else if(typeof z[1]==="object"){let B=z[1];B.next=z[2],j.setAction(X,B)}else throw U6(Q,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+G);else j.setAction(X,z[1]);else{if(!z.regex)throw U6(Q,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+G);if(z.name){if(typeof z.name==="string")j.name=z.name}if(z.matchOnlyAtStart)j.matchOnlyAtLineStart=zR(z.matchOnlyAtLineStart,!1);j.setRegex(X,z.regex),j.setAction(X,z.action)}q.push(j)}}}if(!$.tokenizer||typeof $.tokenizer!=="object")throw U6(Q,"a language definition must define the 'tokenizer' attribute as an object");Q.tokenizer=[];for(let G in $.tokenizer)if($.tokenizer.hasOwnProperty(G)){if(!Q.start)Q.start=G;let q=$.tokenizer[G];Q.tokenizer[G]=[],Y("tokenizer."+G,Q.tokenizer[G],q)}if(Q.usesEmbedded=X.usesEmbedded,$.brackets){if(!Array.isArray($.brackets))throw U6(Q,"the 'brackets' attribute must be defined as an array")}else $.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let Z=[];for(let G of $.brackets){let q=G;if(q&&Array.isArray(q)&&q.length===3)q={token:q[2],open:q[0],close:q[1]};if(q.open===q.close)throw U6(Q,"open and close brackets in a 'brackets' attribute must be different: "+q.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof q.open==="string"&&typeof q.token==="string"&&typeof q.close==="string")Z.push({token:q.token+Q.tokenPostfix,open:R$(Q,q.open),close:R$(Q,q.close)});else throw U6(Q,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return Q.brackets=Z,Q.noThrow=!0,Q}var Yt=()=>{};function XX0(J){qY.registerLanguage(J)}function YX0(){let J=[];return J=J.concat(qY.getLanguages()),J}function ZX0(J){return u0.get(H6).languageIdCodec.encodeLanguageId(J)}function GX0(J,$){return u0.withServices(()=>{let X=u0.get(H6).onDidRequestRichLanguageFeatures((Y)=>{if(Y===J)X.dispose(),$()});return X})}function qX0(J,$){return u0.withServices(()=>{let X=u0.get(H6).onDidRequestBasicLanguageFeatures((Y)=>{if(Y===J)X.dispose(),$()});return X})}function UX0(J,$){if(!u0.get(H6).isRegisteredLanguageId(J))throw Error(`Cannot set configuration for unknown language ${J}`);return u0.get(f6).register(J,$,100)}class Zt{constructor(J,$){this._languageId=J,this._actual=$}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(J,$,Q){if(typeof this._actual.tokenize==="function")return rV.adaptTokenize(this._languageId,this._actual,J,Q);throw Error("Not supported!")}tokenizeEncoded(J,$,Q){let X=this._actual.tokenizeEncoded(J,Q);return new nX(X.tokens,X.endState)}}class rV{constructor(J,$,Q,X){this._languageId=J,this._actual=$,this._languageService=Q,this._standaloneThemeService=X}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(J,$){let Q=[],X=0;for(let Y=0,Z=J.length;Y<Z;Y++){let G=J[Y],q=G.startIndex;if(Y===0)q=0;else if(q<X)q=X;Q[Y]=new q$(q,G.scopes,$),X=q}return Q}static adaptTokenize(J,$,Q,X){let Y=$.tokenize(Q,X),Z=rV._toClassicTokens(Y.tokens,J),G;if(Y.endState.equals(X))G=X;else G=Y.endState;return new pZ(Z,G)}tokenize(J,$,Q){return rV.adaptTokenize(this._languageId,this._actual,J,Q)}_toBinaryTokens(J,$){let Q=J.encodeLanguageId(this._languageId),X=this._standaloneThemeService.getColorTheme().tokenTheme,Y=[],Z=0,G=0;for(let U=0,z=$.length;U<z;U++){let H=$[U],j=X.match(Q,H.scopes)|1024;if(Z>0&&Y[Z-1]===j)continue;let B=H.startIndex;if(U===0)B=0;else if(B<G)B=G;Y[Z++]=B,Y[Z++]=j,G=B}let q=new Uint32Array(Z);for(let U=0;U<Z;U++)q[U]=Y[U];return q}tokenizeEncoded(J,$,Q){let X=this._actual.tokenize(J,Q),Y=this._toBinaryTokens(this._languageService.languageIdCodec,X.tokens),Z;if(X.endState.equals(Q))Z=Q;else Z=X.endState;return new nX(Y,Z)}}function zX0(J){return typeof J.getInitialState==="function"}function HX0(J){return"tokenizeEncoded"in J}function Gt(J){return J&&typeof J.then==="function"}function jX0(J){let $=u0.get(I7);if(J){let Q=[null];for(let X=1,Y=J.length;X<Y;X++)Q[X]=X0.fromHex(J[X]);$.setColorMapOverride(Q)}else $.setColorMapOverride(null)}function qt(J,$){if(HX0($))return new Zt(J,$);else return new rV(J,$,u0.get(H6),u0.get(I7))}function gy(J,$){let Q=new xM(async()=>{let X=await Promise.resolve($.create());if(!X)return null;if(zX0(X))return qt(J,X);return new T2(u0.get(H6),u0.get(I7),J,fy(J,X),u0.get(p1))});return Q6.registerFactory(J,Q)}function VX0(J,$){if(!u0.get(H6).isRegisteredLanguageId(J))throw Error(`Cannot set tokens provider for unknown language ${J}`);if(Gt($))return gy(J,{create:()=>$});return Q6.register(J,qt(J,$))}function WX0(J,$){let Q=(X)=>{return new T2(u0.get(H6),u0.get(I7),J,fy(J,X),u0.get(p1))};if(Gt($))return gy(J,{create:()=>$});return Q6.register(J,Q($))}function BX0(J,$){return u0.get(M1).referenceProvider.register(J,$)}function FX0(J,$){return u0.get(M1).renameProvider.register(J,$)}function KX0(J,$){return u0.get(M1).signatureHelpProvider.register(J,$)}function AX0(J,$){return u0.get(M1).hoverProvider.register(J,{provideHover:(X,Y,Z)=>{let G=X.getWordAtPosition(Y);return Promise.resolve($.provideHover(X,Y,Z)).then((q)=>{if(!q)return;if(!q.range&&G)q.range=new v(Y.lineNumber,G.startColumn,Y.lineNumber,G.endColumn);if(!q.range)q.range=new v(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return q})}})}function PX0(J,$){return u0.get(M1).documentSymbolProvider.register(J,$)}function DX0(J,$){return u0.get(M1).documentHighlightProvider.register(J,$)}function RX0(J,$){return u0.get(M1).linkedEditingRangeProvider.register(J,$)}function MX0(J,$){return u0.get(M1).definitionProvider.register(J,$)}function OX0(J,$){return u0.get(M1).implementationProvider.register(J,$)}function _X0(J,$){return u0.get(M1).typeDefinitionProvider.register(J,$)}function NX0(J,$){return u0.get(M1).codeLensProvider.register(J,$)}function TX0(J,$,Q){return u0.get(M1).codeActionProvider.register(J,{providedCodeActionKinds:Q===null||Q===void 0?void 0:Q.providedCodeActionKinds,documentation:Q===null||Q===void 0?void 0:Q.documentation,provideCodeActions:(Y,Z,G,q)=>{let z=u0.get(pJ).read({resource:Y.uri}).filter((H)=>{return v.areIntersectingOrTouching(H,Z)});return $.provideCodeActions(Y,Z,{markers:z,only:G.only,trigger:G.trigger},q)},resolveCodeAction:$.resolveCodeAction})}function wX0(J,$){return u0.get(M1).documentFormattingEditProvider.register(J,$)}function LX0(J,$){return u0.get(M1).documentRangeFormattingEditProvider.register(J,$)}function kX0(J,$){return u0.get(M1).onTypeFormattingEditProvider.register(J,$)}function EX0(J,$){return u0.get(M1).linkProvider.register(J,$)}function IX0(J,$){return u0.get(M1).completionProvider.register(J,$)}function yX0(J,$){return u0.get(M1).colorProvider.register(J,$)}function xX0(J,$){return u0.get(M1).foldingRangeProvider.register(J,$)}function bX0(J,$){return u0.get(M1).declarationProvider.register(J,$)}function SX0(J,$){return u0.get(M1).selectionRangeProvider.register(J,$)}function CX0(J,$){return u0.get(M1).documentSemanticTokensProvider.register(J,$)}function vX0(J,$){return u0.get(M1).documentRangeSemanticTokensProvider.register(J,$)}function hX0(J,$){return u0.get(M1).inlineCompletionsProvider.register(J,$)}function fX0(J,$){return u0.get(M1).inlayHintsProvider.register(J,$)}function Ut(){return{register:XX0,getLanguages:YX0,onLanguage:GX0,onLanguageEncountered:qX0,getEncodedLanguageId:ZX0,setLanguageConfiguration:UX0,setColorMap:jX0,registerTokensProviderFactory:gy,setTokensProvider:VX0,setMonarchTokensProvider:WX0,registerReferenceProvider:BX0,registerRenameProvider:FX0,registerCompletionItemProvider:IX0,registerSignatureHelpProvider:KX0,registerHoverProvider:AX0,registerDocumentSymbolProvider:PX0,registerDocumentHighlightProvider:DX0,registerLinkedEditingRangeProvider:RX0,registerDefinitionProvider:MX0,registerImplementationProvider:OX0,registerTypeDefinitionProvider:_X0,registerCodeLensProvider:NX0,registerCodeActionProvider:TX0,registerDocumentFormattingEditProvider:wX0,registerDocumentRangeFormattingEditProvider:LX0,registerOnTypeFormattingEditProvider:kX0,registerLinkProvider:EX0,registerColorProvider:yX0,registerFoldingRangeProvider:xX0,registerDeclarationProvider:bX0,registerSelectionRangeProvider:SX0,registerDocumentSemanticTokensProvider:CX0,registerDocumentRangeSemanticTokensProvider:vX0,registerInlineCompletionsProvider:hX0,registerInlayHintsProvider:fX0,DocumentHighlightKind:YB,CompletionItemKind:tW,CompletionItemTag:eW,CompletionItemInsertTextRule:oW,SymbolKind:EB,SymbolTag:IB,IndentAction:HB,CompletionTriggerKind:JB,SignatureHelpTriggerKind:kB,InlayHintKind:VB,InlineCompletionTriggerKind:WB,CodeActionTriggerType:nW,FoldingRangeKind:T8,SelectedSuggestionInfo:yM}}var zt=E(()=>{a7();e0();w8();d8();I4();d9();CB();uD();Yt();l_();RV();eq();e9();l8()});var py,Ht,my;var jt=E(()=>{u9();e1();z8();S9();n0();s9();a0();py=b0("IEditorCancelService"),Ht=new T0("cancellableOperation",!1,M("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));K1(py,class{constructor(){this._tokens=new WeakMap}add(J,$){let Q=this._tokens.get(J);if(!Q)Q=J.invokeWithinContext((Y)=>{let Z=Ht.bindTo(Y.get(s0)),G=new l6;return{key:Z,tokens:G}}),this._tokens.set(J,Q);let X;return Q.key.set(!0),X=Q.tokens.push($),()=>{if(X)X(),Q.key.set(!Q.tokens.isEmpty()),X=void 0}}cancel(J){let $=this._tokens.get(J);if(!$)return;let Q=$.tokens.pop();if(Q)Q.cancel(),$.key.set(!$.tokens.isEmpty())}},1);my=class my extends M5{constructor(J,$){super($);this.editor=J,this._unregister=J.invokeWithinContext((Q)=>Q.get(py).add(J,this))}dispose(){this._unregister(),super.dispose()}};f0(new class extends u7{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Ht})}runEditorCommand(J,$){J.get(py).cancel($)}})});var HR,jR;var Vt=E(()=>{G1();e0();z8();B0();jt();HR=class HR extends my{constructor(J,$,Q,X){super(J,X);if(this._listener=new q0,$&4)this._listener.add(J.onDidChangeCursorPosition((Y)=>{if(!Q||!v.containsPosition(Q,Y.position))this.cancel()}));if($&2)this._listener.add(J.onDidChangeCursorSelection((Y)=>{if(!Q||!v.containsRange(Q,Y.selection))this.cancel()}));if($&8)this._listener.add(J.onDidScrollChange((Y)=>this.cancel()));if($&1)this._listener.add(J.onDidChangeModel((Y)=>this.cancel())),this._listener.add(J.onDidChangeModelContent((Y)=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}};jR=class jR extends M5{constructor(J,$){super($);this._listener=J.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}});function EG(J){if(J&&typeof J.getEditorType==="function")return J.getEditorType()===WY.ICodeEditor;else return!1}var Wt=E(()=>{GH()});class UZ{static _handleEolEdits(J,$){let Q=void 0,X=[];for(let Y of $){if(typeof Y.eol==="number")Q=Y.eol;if(Y.range&&typeof Y.text==="string")X.push(Y)}if(typeof Q==="number"){if(J.hasModel())J.getModel().pushEOL(Q)}return X}static _isFullModelReplaceEdit(J,$){if(!J.hasModel())return!1;let Q=J.getModel(),X=Q.validateRange($.range);return Q.getFullModelRange().equalsRange(X)}static execute(J,$,Q){if(Q)J.pushUndoStop();let X=l4.capture(J),Y=UZ._handleEolEdits(J,$);if(Y.length===1&&UZ._isFullModelReplaceEdit(J,Y[0]))J.executeEdits("formatEditsCommand",Y.map((Z)=>X4.replace(v.lift(Z.range),Z.text)));else J.executeEdits("formatEditsCommand",Y.map((Z)=>X4.replaceMove(v.lift(Z.range),Z.text)));if(Q)J.pushUndoStop();X.restoreRelativeVerticalPositionOfCursor(J)}}var uy=E(()=>{Ej();e0()});class cy{constructor(J){this.value=J,this._lower=J.toLowerCase()}static toKey(J){if(typeof J==="string")return J.toLowerCase();return J._lower}}class ly{constructor(J){if(this._set=new Set,J)for(let $ of J)this.add($)}add(J){this._set.add(cy.toKey(J))}has(J){return this._set.has(cy.toKey(J))}}function Bt(J,$,Q){let X=[],Y=new ly,Z=J.ordered(Q);for(let q of Z)if(X.push(q),q.extensionId)Y.add(q.extensionId);let G=$.ordered(Q);for(let q of G){if(q.extensionId){if(Y.has(q.extensionId))continue;Y.add(q.extensionId)}X.push({displayName:q.displayName,extensionId:q.extensionId,provideDocumentFormattingEdits(U,z,H){return q.provideDocumentRangeFormattingEdits(U,U.getFullModelRange(),z,H)}})}return X}class zZ{static setFormatterSelector(J){return{dispose:zZ._selectors.unshift(J)}}static async select(J,$,Q,X){if(J.length===0)return;let Y=D1.first(zZ._selectors);if(Y)return await Y(J,$,Q,X);return}}async function dy(J,$,Q,X,Y,Z,G){let q=J.get(r0),{documentRangeFormattingEditProvider:U}=J.get(M1),z=EG($)?$.getModel():$,H=U.ordered(z),j=await zZ.select(H,z,X,2);if(j)Y.report(j),await q.invokeFunction(gX0,j,$,Q,Z,G)}async function gX0(J,$,Q,X,Y,Z){var G,q;let U=J.get(T9),z=J.get(A5),H=J.get(Z4),j,B;if(EG(Q))j=Q.getModel(),B=new HR(Q,5,void 0,Y);else j=Q,B=new jR(Q,Y);let V=[],W=0;for(let R of Jb(X).sort(v.compareRangesUsingStarts))if(W>0&&v.areIntersectingOrTouching(V[W-1],R))V[W-1]=v.fromPositions(V[W-1].getStartPosition(),R.getEndPosition());else W=V.push(R);let K=async(R)=>{var D,_;z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(D=$.extensionId)===null||D===void 0?void 0:D.value,R);let O=await $.provideDocumentRangeFormattingEdits(j,R,j.getFormattingOptions(),B.token)||[];return z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(_=$.extensionId)===null||_===void 0?void 0:_.value,O),O},A=(R,D)=>{if(!R.length||!D.length)return!1;let _=R.reduce((O,N)=>{return v.plusRange(O,N.range)},R[0].range);if(!D.some((O)=>{return v.intersectRanges(_,O.range)}))return!1;for(let O of R)for(let N of D)if(v.intersectRanges(O.range,N.range))return!0;return!1},F=[],P=[];try{if(typeof $.provideDocumentRangesFormattingEdits==="function"){z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(G=$.extensionId)===null||G===void 0?void 0:G.value,V);let R=await $.provideDocumentRangesFormattingEdits(j,V,j.getFormattingOptions(),B.token)||[];z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(q=$.extensionId)===null||q===void 0?void 0:q.value,R),P.push(R)}else{for(let R of V){if(B.token.isCancellationRequested)return!0;P.push(await K(R))}for(let R=0;R<V.length;++R)for(let D=R+1;D<V.length;++D){if(B.token.isCancellationRequested)return!0;if(A(P[R],P[D])){let _=v.plusRange(V[R],V[D]),O=await K(_);V.splice(D,1),V.splice(R,1),V.push(_),P.splice(D,1),P.splice(R,1),P.push(O),R=0,D=0}}}for(let R of P){if(B.token.isCancellationRequested)return!0;let D=await U.computeMoreMinimalEdits(j.uri,R);if(D)F.push(...D)}}finally{B.dispose()}if(F.length===0)return!1;if(EG(Q))UZ.execute(Q,F,!0),Q.revealPositionInCenterIfOutsideViewport(Q.getPosition(),1);else{let[{range:R}]=F,D=new d0(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn);j.pushEditOperations([D],F.map((_)=>{return{text:_.text,range:v.lift(_.range),forceMoveMarkers:!0}}),(_)=>{for(let{range:O}of _)if(v.areIntersectingOrTouching(O,D))return[new d0(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn)];return null})}return H.playAudioCue(j1.format,{userGesture:Z}),!0}async function Ft(J,$,Q,X,Y,Z){let G=J.get(r0),q=J.get(M1),U=EG($)?$.getModel():$,z=Bt(q.documentFormattingEditProvider,q.documentRangeFormattingEditProvider,U),H=await zZ.select(z,U,Q,1);if(H)X.report(H),await G.invokeFunction(pX0,H,$,Q,Y,Z)}async function pX0(J,$,Q,X,Y,Z){let G=J.get(T9),q=J.get(Z4),U,z;if(EG(Q))U=Q.getModel(),z=new HR(Q,5,void 0,Y);else U=Q,z=new jR(Q,Y);let H;try{let j=await $.provideDocumentFormattingEdits(U,U.getFormattingOptions(),z.token);if(H=await G.computeMoreMinimalEdits(U.uri,j),z.token.isCancellationRequested)return!0}finally{z.dispose()}if(!H||H.length===0)return!1;if(EG(Q)){if(UZ.execute(Q,H,X!==2),X!==2)Q.revealPositionInCenterIfOutsideViewport(Q.getPosition(),1)}else{let[{range:j}]=H,B=new d0(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);U.pushEditOperations([B],H.map((V)=>{return{text:V.text,range:v.lift(V.range),forceMoveMarkers:!0}}),(V)=>{for(let{range:W}of V)if(v.areIntersectingOrTouching(W,B))return[new d0(W.startLineNumber,W.startColumn,W.endLineNumber,W.endColumn)];return null})}return q.playAudioCue(j1.format,{userGesture:Z}),!0}async function mX0(J,$,Q,X,Y,Z){let G=$.documentRangeFormattingEditProvider.ordered(Q);for(let q of G){let U=await Promise.resolve(q.provideDocumentRangeFormattingEdits(Q,X,Y,Z)).catch(Y$);if(y9(U))return await J.computeMoreMinimalEdits(Q.uri,U)}return}async function uX0(J,$,Q,X,Y){let Z=Bt($.documentFormattingEditProvider,$.documentRangeFormattingEditProvider,Q);for(let G of Z){let q=await Promise.resolve(G.provideDocumentFormattingEdits(Q,X,Y)).catch(Y$);if(y9(q))return await J.computeMoreMinimalEdits(Q.uri,q)}return}function sy(J,$,Q,X,Y,Z,G){let q=$.onTypeFormattingEditProvider.ordered(Q);if(q.length===0)return Promise.resolve(void 0);if(q[0].autoFormatTriggerCharacters.indexOf(Y)<0)return Promise.resolve(void 0);return Promise.resolve(q[0].provideOnTypeFormattingEdits(Q,X,Y,Z,G)).catch(Y$).then((U)=>{return J.computeMoreMinimalEdits(Q.uri,U)})}var ay=E(()=>{B1();z8();T1();b9();S9();V5();Vt();Wt();e0();u5();tq();Fz();uy();G7();n0();e9();B9();_G();zZ._selectors=new l6;O6.registerCommand("_executeFormatRangeProvider",async function(J,...$){let[Q,X,Y]=$;D5(m0.isUri(Q)),D5(v.isIRange(X));let Z=J.get(EQ),G=J.get(T9),q=J.get(M1),U=await Z.createModelReference(Q);try{return mX0(G,q,U.object.textEditorModel,v.lift(X),Y,j5.None)}finally{U.dispose()}});O6.registerCommand("_executeFormatDocumentProvider",async function(J,...$){let[Q,X]=$;D5(m0.isUri(Q));let Y=J.get(EQ),Z=J.get(T9),G=J.get(M1),q=await Y.createModelReference(Q);try{return uX0(Z,G,q.object.textEditorModel,X,j5.None)}finally{q.dispose()}});O6.registerCommand("_executeFormatOnTypeProvider",async function(J,...$){let[Q,X,Y,Z]=$;D5(m0.isUri(Q)),D5(s.isIPosition(X)),D5(typeof Y==="string");let G=J.get(EQ),q=J.get(T9),U=J.get(M1),z=await G.createModelReference(Q);try{return sy(q,U,z.object.textEditorModel,s.lift(X),Y,Z,j5.None)}finally{z.dispose()}})});var L9={};gX(L9,{languages:()=>CX,editor:()=>HZ,Uri:()=>ny,Token:()=>tX0,SelectionDirection:()=>iX0,Selection:()=>rX0,Range:()=>aX0,Position:()=>sX0,MarkerTag:()=>oX0,MarkerSeverity:()=>nX0,KeyMod:()=>dX0,KeyCode:()=>lX0,Emitter:()=>iy,CancellationTokenSource:()=>cX0});var F7,cX0,iy,lX0,dX0,sX0,aX0,rX0,iX0,nX0,oX0,ny,tX0,HZ,CX,ry;var a4=E(()=>{U8();CM();Jt();zt();ay();XJ.wrappingIndent.defaultValue=0;XJ.glyphMargin.defaultValue=!1;XJ.autoIndent.defaultValue=3;XJ.overviewRulerLanes.defaultValue=2;zZ.setFormatterSelector((J,$,Q)=>Promise.resolve(J[0]));F7=vB();F7.editor=eo();F7.languages=Ut();cX0=F7.CancellationTokenSource,iy=F7.Emitter,lX0=F7.KeyCode,dX0=F7.KeyMod,sX0=F7.Position,aX0=F7.Range,rX0=F7.Selection,iX0=F7.SelectionDirection,nX0=F7.MarkerSeverity,oX0=F7.MarkerTag,ny=F7.Uri,tX0=F7.Token,HZ=F7.editor,CX=F7.languages,ry=globalThis.MonacoEnvironment;if((ry===null||ry===void 0?void 0:ry.globalAPI)||typeof define==="function"&&define.amd)globalThis.monaco=F7;if(typeof globalThis.require<"u"&&typeof globalThis.require.config==="function")globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var D00={};gX(D00,{toTextEdit:()=>fU,toRange:()=>S7,setupMode:()=>wZ0,getWorker:()=>NZ0,fromRange:()=>Ix,fromPosition:()=>RZ,WorkerManager:()=>X00,SelectionRangeAdapter:()=>K00,RenameAdapter:()=>GZ0,ReferenceAdapter:()=>ZZ0,HoverAdapter:()=>G00,FoldingRangeAdapter:()=>F00,DocumentSymbolAdapter:()=>U00,DocumentRangeFormattingEditProvider:()=>V00,DocumentLinkAdapter:()=>zZ0,DocumentHighlightAdapter:()=>QZ0,DocumentFormattingEditProvider:()=>j00,DocumentColorAdapter:()=>B00,DiagnosticsAdapter:()=>Y00,DefinitionAdapter:()=>YZ0,CompletionAdapter:()=>Z00});function iY0(J){switch(J){case vU.Error:return s1.MarkerSeverity.Error;case vU.Warning:return s1.MarkerSeverity.Warning;case vU.Information:return s1.MarkerSeverity.Info;case vU.Hint:return s1.MarkerSeverity.Hint;default:return s1.MarkerSeverity.Info}}function nY0(J,$){let Q=typeof $.code==="number"?String($.code):$.code;return{severity:iY0($.severity),startLineNumber:$.range.start.line+1,startColumn:$.range.start.character+1,endLineNumber:$.range.end.line+1,endColumn:$.range.end.character+1,message:$.message,code:Q,source:$.source}}function RZ(J){if(!J)return;return{character:J.column-1,line:J.lineNumber-1}}function Ix(J){if(!J)return;return{start:{line:J.startLineNumber-1,character:J.startColumn-1},end:{line:J.endLineNumber-1,character:J.endColumn-1}}}function S7(J){if(!J)return;return new s1.Range(J.start.line+1,J.start.character+1,J.end.line+1,J.end.character+1)}function oY0(J){return typeof J.insert<"u"&&typeof J.replace<"u"}function tY0(J){let $=s1.languages.CompletionItemKind;switch(J){case O8.Text:return $.Text;case O8.Method:return $.Method;case O8.Function:return $.Function;case O8.Constructor:return $.Constructor;case O8.Field:return $.Field;case O8.Variable:return $.Variable;case O8.Class:return $.Class;case O8.Interface:return $.Interface;case O8.Module:return $.Module;case O8.Property:return $.Property;case O8.Unit:return $.Unit;case O8.Value:return $.Value;case O8.Enum:return $.Enum;case O8.Keyword:return $.Keyword;case O8.Snippet:return $.Snippet;case O8.Color:return $.Color;case O8.File:return $.File;case O8.Reference:return $.Reference}return $.Property}function fU(J){if(!J)return;return{range:S7(J.range),text:J.newText}}function eY0(J){return J&&J.command==="editor.action.triggerSuggest"?{id:J.command,title:J.title,arguments:J.arguments}:void 0}function JZ0(J){return J&&typeof J==="object"&&typeof J.kind==="string"}function te(J){if(typeof J==="string")return{value:J};if(JZ0(J)){if(J.kind==="plaintext")return{value:J.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")};return{value:J.value}}return{value:"```"+J.language+`
`+J.value+"\n```\n"}}function $Z0(J){if(!J)return;if(Array.isArray(J))return J.map(te);return[te(J)]}function XZ0(J){switch(J){case VW.Read:return s1.languages.DocumentHighlightKind.Read;case VW.Write:return s1.languages.DocumentHighlightKind.Write;case VW.Text:return s1.languages.DocumentHighlightKind.Text}return s1.languages.DocumentHighlightKind.Text}function q00(J){return{uri:s1.Uri.parse(J.uri),range:S7(J.range)}}function qZ0(J){if(!J||!J.changes)return;let $=[];for(let Q in J.changes){let X=s1.Uri.parse(Q);for(let Y of J.changes[Q])$.push({resource:X,versionId:void 0,textEdit:{range:S7(Y.range),text:Y.newText}})}return{edits:$}}function UZ0(J){return"children"in J}function z00(J){return{name:J.name,detail:J.detail??"",kind:H00(J.kind),range:S7(J.range),selectionRange:S7(J.selectionRange),tags:J.tags??[],children:(J.children??[]).map(($)=>z00($))}}function H00(J){let $=s1.languages.SymbolKind;switch(J){case _8.File:return $.File;case _8.Module:return $.Module;case _8.Namespace:return $.Namespace;case _8.Package:return $.Package;case _8.Class:return $.Class;case _8.Method:return $.Method;case _8.Property:return $.Property;case _8.Field:return $.Field;case _8.Constructor:return $.Constructor;case _8.Enum:return $.Enum;case _8.Interface:return $.Interface;case _8.Function:return $.Function;case _8.Variable:return $.Variable;case _8.Constant:return $.Constant;case _8.String:return $.String;case _8.Number:return $.Number;case _8.Boolean:return $.Boolean;case _8.Array:return $.Array}return $.Function}function W00(J){return{tabSize:J.tabSize,insertSpaces:J.insertSpaces}}function HZ0(J){switch(J){case jW.Comment:return s1.languages.FoldingRangeKind.Comment;case jW.Imports:return s1.languages.FoldingRangeKind.Imports;case jW.Region:return s1.languages.FoldingRangeKind.Region}return}function jZ0(J,$){if($===void 0)$=!1;var Q=J.length,X=0,Y="",Z=0,G=16,q=0,U=0,z=0,H=0,j=0;function B(R,D){var _=0,O=0;while(_<R||!D){var N=J.charCodeAt(X);if(N>=48&&N<=57)O=O*16+N-48;else if(N>=65&&N<=70)O=O*16+N-65+10;else if(N>=97&&N<=102)O=O*16+N-97+10;else break;X++,_++}if(_<R)O=-1;return O}function V(R){X=R,Y="",Z=0,G=16,j=0}function W(){var R=X;if(J.charCodeAt(X)===48)X++;else{X++;while(X<J.length&&CU(J.charCodeAt(X)))X++}if(X<J.length&&J.charCodeAt(X)===46)if(X++,X<J.length&&CU(J.charCodeAt(X))){X++;while(X<J.length&&CU(J.charCodeAt(X)))X++}else return j=3,J.substring(R,X);var D=X;if(X<J.length&&(J.charCodeAt(X)===69||J.charCodeAt(X)===101)){if(X++,X<J.length&&J.charCodeAt(X)===43||J.charCodeAt(X)===45)X++;if(X<J.length&&CU(J.charCodeAt(X))){X++;while(X<J.length&&CU(J.charCodeAt(X)))X++;D=X}else j=3}return J.substring(R,D)}function K(){var R="",D=X;while(!0){if(X>=Q){R+=J.substring(D,X),j=2;break}var _=J.charCodeAt(X);if(_===34){R+=J.substring(D,X),X++;break}if(_===92){if(R+=J.substring(D,X),X++,X>=Q){j=2;break}var O=J.charCodeAt(X++);switch(O){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+=`
`;break;case 114:R+="\r";break;case 116:R+="\t";break;case 117:var N=B(4,!0);if(N>=0)R+=String.fromCharCode(N);else j=4;break;default:j=5}D=X;continue}if(_>=0&&_<=31)if(zW(_)){R+=J.substring(D,X),j=2;break}else j=6;X++}return R}function A(){if(Y="",j=0,Z=X,U=q,H=z,X>=Q)return Z=Q,G=17;var R=J.charCodeAt(X);if(_x(R)){do X++,Y+=String.fromCharCode(R),R=J.charCodeAt(X);while(_x(R));return G=15}if(zW(R)){if(X++,Y+=String.fromCharCode(R),R===13&&J.charCodeAt(X)===10)X++,Y+=`
`;return q++,z=X,G=14}switch(R){case 123:return X++,G=1;case 125:return X++,G=2;case 91:return X++,G=3;case 93:return X++,G=4;case 58:return X++,G=6;case 44:return X++,G=5;case 34:return X++,Y=K(),G=10;case 47:var D=X-1;if(J.charCodeAt(X+1)===47){X+=2;while(X<Q){if(zW(J.charCodeAt(X)))break;X++}return Y=J.substring(D,X),G=12}if(J.charCodeAt(X+1)===42){X+=2;var _=Q-1,O=!1;while(X<_){var N=J.charCodeAt(X);if(N===42&&J.charCodeAt(X+1)===47){X+=2,O=!0;break}if(X++,zW(N)){if(N===13&&J.charCodeAt(X)===10)X++;q++,z=X}}if(!O)X++,j=1;return Y=J.substring(D,X),G=13}return Y+=String.fromCharCode(R),X++,G=16;case 45:if(Y+=String.fromCharCode(R),X++,X===Q||!CU(J.charCodeAt(X)))return G=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Y+=W(),G=11;default:while(X<Q&&F(R))X++,R=J.charCodeAt(X);if(Z!==X){switch(Y=J.substring(Z,X),Y){case"true":return G=8;case"false":return G=9;case"null":return G=7}return G=16}return Y+=String.fromCharCode(R),X++,G=16}}function F(R){if(_x(R)||zW(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function P(){var R;do R=A();while(R>=12&&R<=15);return R}return{setPosition:V,getPosition:function(){return X},scan:$?P:A,getToken:function(){return G},getTokenValue:function(){return Y},getTokenOffset:function(){return Z},getTokenLength:function(){return X-Z},getTokenStartLine:function(){return U},getTokenStartCharacter:function(){return Z-H},getTokenError:function(){return j}}}function _x(J){return J===32||J===9||J===11||J===12||J===160||J===5760||J>=8192&&J<=8203||J===8239||J===8287||J===12288||J===65279}function zW(J){return J===10||J===13||J===8232||J===8233}function CU(J){return J>=48&&J<=57}function WZ0(J){return{getInitialState:()=>new A00(null,null,!1,null),tokenize:($,Q)=>_Z0(J,$,Q)}}function _Z0(J,$,Q,X=0){let Y=0,Z=!1;switch(Q.scanError){case 2:$='"'+$,Y=1;break;case 1:$="/*"+$,Y=2;break}let G=VZ0($),q=Q.lastWasColon,U=Q.parents,z={tokens:[],endState:Q.clone()};while(!0){let H=X+G.getPosition(),j="",B=G.scan();if(B===17)break;if(H===X+G.getPosition())throw Error("Scanner did not advance, next 3 characters are: "+$.substr(G.getPosition(),3));if(Z)H-=Y;switch(Z=Y>0,B){case 1:U=HW.push(U,0),j=J00,q=!1;break;case 2:U=HW.pop(U),j=J00,q=!1;break;case 3:U=HW.push(U,1),j=$00,q=!1;break;case 4:U=HW.pop(U),j=$00,q=!1;break;case 6:j=BZ0,q=!0;break;case 5:j=FZ0,q=!1;break;case 8:case 9:j=KZ0,q=!1;break;case 7:j=AZ0,q=!1;break;case 10:let W=(U?U.type:0)===1;j=q||W?PZ0:RZ0,q=!1;break;case 11:j=DZ0,q=!1;break}if(J)switch(B){case 12:j=OZ0;break;case 13:j=MZ0;break}z.endState=new A00(Q.getStateData(),G.getTokenError(),q,U),z.tokens.push({startIndex:H,scopes:j})}return z}function NZ0(){return new Promise((J,$)=>{if(!o4)return $("JSON not registered!");J(o4)})}function wZ0(J){let $=[],Q=[],X=new X00(J);$.push(X),o4=(...G)=>{return X.getLanguageServiceWorker(...G)};function Y(){let{languageId:G,modeConfiguration:q}=J;if(P00(Q),q.documentFormattingEdits)Q.push(s1.languages.registerDocumentFormattingEditProvider(G,new j00(o4)));if(q.documentRangeFormattingEdits)Q.push(s1.languages.registerDocumentRangeFormattingEditProvider(G,new V00(o4)));if(q.completionItems)Q.push(s1.languages.registerCompletionItemProvider(G,new Z00(o4,[" ",":",'"'])));if(q.hovers)Q.push(s1.languages.registerHoverProvider(G,new G00(o4)));if(q.documentSymbols)Q.push(s1.languages.registerDocumentSymbolProvider(G,new U00(o4)));if(q.tokens)Q.push(s1.languages.setTokensProvider(G,WZ0(!0)));if(q.colors)Q.push(s1.languages.registerColorProvider(G,new B00(o4)));if(q.foldingRanges)Q.push(s1.languages.registerFoldingRangeProvider(G,new F00(o4)));if(q.diagnostics)Q.push(new TZ0(G,o4,J));if(q.selectionRanges)Q.push(s1.languages.registerSelectionRangeProvider(G,new K00(o4)))}Y(),$.push(s1.languages.setLanguageConfiguration(J.languageId,LZ0));let Z=J.modeConfiguration;return J.onDidChange((G)=>{if(G.modeConfiguration!==Z)Z=G.modeConfiguration,Y()}),$.push(Q00(Q)),Q00($)}function Q00(J){return{dispose:()=>P00(J)}}function P00(J){while(J.length)J.pop().dispose()}var uY0,cY0,lY0,dY0,Re=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of lY0($))if(!dY0.call(J,Y)&&Y!==Q)uY0(J,Y,{get:()=>$[Y],enumerable:!(X=cY0($,Y))||X.enumerable})}return J},sY0=(J,$,Q)=>(Re(J,$,"default"),Q&&Re(Q,$,"default")),s1,aY0=120000,X00=class{constructor(J){this._defaults=J,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){if(this._worker)this._worker.dispose(),this._worker=null;this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;if(Date.now()-this._lastUsedTime>aY0)this._stopWorker()}_getClient(){if(this._lastUsedTime=Date.now(),!this._client)this._worker=s1.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy();return this._client}getLanguageServiceWorker(...J){let $;return this._getClient().then((Q)=>{$=Q}).then((Q)=>{if(this._worker)return this._worker.withSyncedResources(J)}).then((Q)=>$)}},Me,pR,HQ,A7,Nx,Oe,Tx,_e,Ne,jW,Te,wx,vU,we,Le,mR,WW,DZ,hU,b7,PZ,uR,BW,FW,KW,Lx,gR,ke,GZ1,Ee,Ie,cR,ye,AW,kx,O8,Ex,xe,be,Se,Ce,ve,lR,he,fe,ge,VW,pe,_8,me,ue,ce,le,de,se,ae,re,ie,ne,oe,rY0,D0,Y00=class{constructor(J,$,Q){this._languageId=J,this._worker=$,this._disposables=[],this._listener=Object.create(null);let X=(Z)=>{let G=Z.getLanguageId();if(G!==this._languageId)return;let q;this._listener[Z.uri.toString()]=Z.onDidChangeContent(()=>{window.clearTimeout(q),q=window.setTimeout(()=>this._doValidate(Z.uri,G),500)}),this._doValidate(Z.uri,G)},Y=(Z)=>{s1.editor.setModelMarkers(Z,this._languageId,[]);let G=Z.uri.toString(),q=this._listener[G];if(q)q.dispose(),delete this._listener[G]};this._disposables.push(s1.editor.onDidCreateModel(X)),this._disposables.push(s1.editor.onWillDisposeModel(Y)),this._disposables.push(s1.editor.onDidChangeModelLanguage((Z)=>{Y(Z.model),X(Z.model)})),this._disposables.push(Q((Z)=>{s1.editor.getModels().forEach((G)=>{if(G.getLanguageId()===this._languageId)Y(G),X(G)})})),this._disposables.push({dispose:()=>{s1.editor.getModels().forEach(Y);for(let Z in this._listener)this._listener[Z].dispose()}}),s1.editor.getModels().forEach(X)}dispose(){this._disposables.forEach((J)=>J&&J.dispose()),this._disposables.length=0}_doValidate(J,$){this._worker(J).then((Q)=>{return Q.doValidation(J.toString())}).then((Q)=>{let X=Q.map((Z)=>nY0(J,Z)),Y=s1.editor.getModel(J);if(Y&&Y.getLanguageId()===$)s1.editor.setModelMarkers(Y,$,X)}).then(void 0,(Q)=>{console.error(Q)})}},Z00=class{constructor(J,$){this._worker=J,this._triggerCharacters=$}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doComplete(Y.toString(),RZ($))}).then((Z)=>{if(!Z)return;let G=J.getWordUntilPosition($),q=new s1.Range($.lineNumber,G.startColumn,$.lineNumber,G.endColumn),U=Z.items.map((z)=>{let H={label:z.label,insertText:z.insertText||z.label,sortText:z.sortText,filterText:z.filterText,documentation:z.documentation,detail:z.detail,command:eY0(z.command),range:q,kind:tY0(z.kind)};if(z.textEdit){if(oY0(z.textEdit))H.range={insert:S7(z.textEdit.insert),replace:S7(z.textEdit.replace)};else H.range=S7(z.textEdit.range);H.insertText=z.textEdit.newText}if(z.additionalTextEdits)H.additionalTextEdits=z.additionalTextEdits.map(fU);if(z.insertTextFormat===Ex.Snippet)H.insertTextRules=s1.languages.CompletionItemInsertTextRule.InsertAsSnippet;return H});return{isIncomplete:Z.isIncomplete,suggestions:U}})}},G00=class{constructor(J){this._worker=J}provideHover(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>{return Y.doHover(X.toString(),RZ($))}).then((Y)=>{if(!Y)return;return{range:S7(Y.range),contents:$Z0(Y.contents)}})}},QZ0=class{constructor(J){this._worker=J}provideDocumentHighlights(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.findDocumentHighlights(X.toString(),RZ($))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{return{range:S7(Z.range),kind:XZ0(Z.kind)}})})}},YZ0=class{constructor(J){this._worker=J}provideDefinition(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>{return Y.findDefinition(X.toString(),RZ($))}).then((Y)=>{if(!Y)return;return[q00(Y)]})}},ZZ0=class{constructor(J){this._worker=J}provideReferences(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.findReferences(Y.toString(),RZ($))}).then((Z)=>{if(!Z)return;return Z.map(q00)})}},GZ0=class{constructor(J){this._worker=J}provideRenameEdits(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doRename(Y.toString(),RZ($),Q)}).then((Z)=>{return qZ0(Z)})}},U00=class{constructor(J){this._worker=J}provideDocumentSymbols(J,$){let Q=J.uri;return this._worker(Q).then((X)=>X.findDocumentSymbols(Q.toString())).then((X)=>{if(!X)return;return X.map((Y)=>{if(UZ0(Y))return z00(Y);return{name:Y.name,detail:"",containerName:Y.containerName,kind:H00(Y.kind),range:S7(Y.location.range),selectionRange:S7(Y.location.range),tags:[]}})})}},zZ0=class{constructor(J){this._worker=J}provideLinks(J,$){let Q=J.uri;return this._worker(Q).then((X)=>X.findDocumentLinks(Q.toString())).then((X)=>{if(!X)return;return{links:X.map((Y)=>({range:S7(Y.range),url:Y.target}))}})}},j00=class{constructor(J){this._worker=J}provideDocumentFormattingEdits(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>{return Y.format(X.toString(),null,W00($)).then((Z)=>{if(!Z||Z.length===0)return;return Z.map(fU)})})}},V00=class{constructor(J){this._worker=J,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.format(Y.toString(),Ix($),W00(Q)).then((G)=>{if(!G||G.length===0)return;return G.map(fU)})})}},B00=class{constructor(J){this._worker=J}provideDocumentColors(J,$){let Q=J.uri;return this._worker(Q).then((X)=>X.findDocumentColors(Q.toString())).then((X)=>{if(!X)return;return X.map((Y)=>({color:Y.color,range:S7(Y.range)}))})}provideColorPresentations(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.getColorPresentations(X.toString(),$.color,Ix($.range))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G={label:Z.label};if(Z.textEdit)G.textEdit=fU(Z.textEdit);if(Z.additionalTextEdits)G.additionalTextEdits=Z.additionalTextEdits.map(fU);return G})})}},F00=class{constructor(J){this._worker=J}provideFoldingRanges(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.getFoldingRanges(X.toString(),$)).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G={start:Z.startLine+1,end:Z.endLine+1};if(typeof Z.kind<"u")G.kind=HZ0(Z.kind);return G})})}},K00=class{constructor(J){this._worker=J}provideSelectionRanges(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.getSelectionRanges(X.toString(),$.map(RZ))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G=[];while(Z)G.push({range:S7(Z.range)}),Z=Z.parent;return G})})}},ee,VZ0,J00="delimiter.bracket.json",$00="delimiter.array.json",BZ0="delimiter.colon.json",FZ0="delimiter.comma.json",KZ0="keyword.json",AZ0="keyword.json",PZ0="string.value.json",DZ0="number.json",RZ0="string.key.json",MZ0="comment.block.json",OZ0="comment.line.json",HW=class J{constructor($,Q){this.parent=$,this.type=Q}static pop($){if($)return $.parent;return null}static push($,Q){return new J($,Q)}static equals($,Q){if(!$&&!Q)return!0;if(!$||!Q)return!1;while($&&Q){if($===Q)return!0;if($.type!==Q.type)return!1;$=$.parent,Q=Q.parent}return!0}},A00=class J{constructor($,Q,X,Y){this._state=$,this.scanError=Q,this.lastWasColon=X,this.parents=Y}clone(){return new J(this._state,this.scanError,this.lastWasColon,this.parents)}equals($){if($===this)return!0;if(!$||!($ instanceof J))return!1;return this.scanError===$.scanError&&this.lastWasColon===$.lastWasColon&&HW.equals(this.parents,$.parents)}getStateData(){return this._state}setStateData($){this._state=$}},o4,TZ0,LZ0;var R00=E(()=>{a4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/uY0=Object.defineProperty,cY0=Object.getOwnPropertyDescriptor,lY0=Object.getOwnPropertyNames,dY0=Object.prototype.hasOwnProperty,s1={};sY0(s1,L9);(function(J){J.MIN_VALUE=-2147483648,J.MAX_VALUE=2147483647})(Me||(Me={}));(function(J){J.MIN_VALUE=0,J.MAX_VALUE=2147483647})(pR||(pR={}));(function(J){function $(X,Y){if(X===Number.MAX_VALUE)X=pR.MAX_VALUE;if(Y===Number.MAX_VALUE)Y=pR.MAX_VALUE;return{line:X,character:Y}}J.create=$;function Q(X){var Y=X;return D0.objectLiteral(Y)&&D0.uinteger(Y.line)&&D0.uinteger(Y.character)}J.is=Q})(HQ||(HQ={}));(function(J){function $(X,Y,Z,G){if(D0.uinteger(X)&&D0.uinteger(Y)&&D0.uinteger(Z)&&D0.uinteger(G))return{start:HQ.create(X,Y),end:HQ.create(Z,G)};else if(HQ.is(X)&&HQ.is(Y))return{start:X,end:Y};else throw Error("Range#create called with invalid arguments["+X+", "+Y+", "+Z+", "+G+"]")}J.create=$;function Q(X){var Y=X;return D0.objectLiteral(Y)&&HQ.is(Y.start)&&HQ.is(Y.end)}J.is=Q})(A7||(A7={}));(function(J){function $(X,Y){return{uri:X,range:Y}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&A7.is(Y.range)&&(D0.string(Y.uri)||D0.undefined(Y.uri))}J.is=Q})(Nx||(Nx={}));(function(J){function $(X,Y,Z,G){return{targetUri:X,targetRange:Y,targetSelectionRange:Z,originSelectionRange:G}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&A7.is(Y.targetRange)&&D0.string(Y.targetUri)&&(A7.is(Y.targetSelectionRange)||D0.undefined(Y.targetSelectionRange))&&(A7.is(Y.originSelectionRange)||D0.undefined(Y.originSelectionRange))}J.is=Q})(Oe||(Oe={}));(function(J){function $(X,Y,Z,G){return{red:X,green:Y,blue:Z,alpha:G}}J.create=$;function Q(X){var Y=X;return D0.numberRange(Y.red,0,1)&&D0.numberRange(Y.green,0,1)&&D0.numberRange(Y.blue,0,1)&&D0.numberRange(Y.alpha,0,1)}J.is=Q})(Tx||(Tx={}));(function(J){function $(X,Y){return{range:X,color:Y}}J.create=$;function Q(X){var Y=X;return A7.is(Y.range)&&Tx.is(Y.color)}J.is=Q})(_e||(_e={}));(function(J){function $(X,Y,Z){return{label:X,textEdit:Y,additionalTextEdits:Z}}J.create=$;function Q(X){var Y=X;return D0.string(Y.label)&&(D0.undefined(Y.textEdit)||DZ.is(Y))&&(D0.undefined(Y.additionalTextEdits)||D0.typedArray(Y.additionalTextEdits,DZ.is))}J.is=Q})(Ne||(Ne={}));(function(J){J.Comment="comment",J.Imports="imports",J.Region="region"})(jW||(jW={}));(function(J){function $(X,Y,Z,G,q){var U={startLine:X,endLine:Y};if(D0.defined(Z))U.startCharacter=Z;if(D0.defined(G))U.endCharacter=G;if(D0.defined(q))U.kind=q;return U}J.create=$;function Q(X){var Y=X;return D0.uinteger(Y.startLine)&&D0.uinteger(Y.startLine)&&(D0.undefined(Y.startCharacter)||D0.uinteger(Y.startCharacter))&&(D0.undefined(Y.endCharacter)||D0.uinteger(Y.endCharacter))&&(D0.undefined(Y.kind)||D0.string(Y.kind))}J.is=Q})(Te||(Te={}));(function(J){function $(X,Y){return{location:X,message:Y}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&Nx.is(Y.location)&&D0.string(Y.message)}J.is=Q})(wx||(wx={}));(function(J){J.Error=1,J.Warning=2,J.Information=3,J.Hint=4})(vU||(vU={}));(function(J){J.Unnecessary=1,J.Deprecated=2})(we||(we={}));(function(J){function $(Q){var X=Q;return X!==void 0&&X!==null&&D0.string(X.href)}J.is=$})(Le||(Le={}));(function(J){function $(X,Y,Z,G,q,U){var z={range:X,message:Y};if(D0.defined(Z))z.severity=Z;if(D0.defined(G))z.code=G;if(D0.defined(q))z.source=q;if(D0.defined(U))z.relatedInformation=U;return z}J.create=$;function Q(X){var Y,Z=X;return D0.defined(Z)&&A7.is(Z.range)&&D0.string(Z.message)&&(D0.number(Z.severity)||D0.undefined(Z.severity))&&(D0.integer(Z.code)||D0.string(Z.code)||D0.undefined(Z.code))&&(D0.undefined(Z.codeDescription)||D0.string((Y=Z.codeDescription)===null||Y===void 0?void 0:Y.href))&&(D0.string(Z.source)||D0.undefined(Z.source))&&(D0.undefined(Z.relatedInformation)||D0.typedArray(Z.relatedInformation,wx.is))}J.is=Q})(mR||(mR={}));(function(J){function $(X,Y){var Z=[];for(var G=2;G<arguments.length;G++)Z[G-2]=arguments[G];var q={title:X,command:Y};if(D0.defined(Z)&&Z.length>0)q.arguments=Z;return q}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.string(Y.title)&&D0.string(Y.command)}J.is=Q})(WW||(WW={}));(function(J){function $(Z,G){return{range:Z,newText:G}}J.replace=$;function Q(Z,G){return{range:{start:Z,end:Z},newText:G}}J.insert=Q;function X(Z){return{range:Z,newText:""}}J.del=X;function Y(Z){var G=Z;return D0.objectLiteral(G)&&D0.string(G.newText)&&A7.is(G.range)}J.is=Y})(DZ||(DZ={}));(function(J){function $(X,Y,Z){var G={label:X};if(Y!==void 0)G.needsConfirmation=Y;if(Z!==void 0)G.description=Z;return G}J.create=$;function Q(X){var Y=X;return Y!==void 0&&D0.objectLiteral(Y)&&D0.string(Y.label)&&(D0.boolean(Y.needsConfirmation)||Y.needsConfirmation===void 0)&&(D0.string(Y.description)||Y.description===void 0)}J.is=Q})(hU||(hU={}));(function(J){function $(Q){var X=Q;return typeof X==="string"}J.is=$})(b7||(b7={}));(function(J){function $(Z,G,q){return{range:Z,newText:G,annotationId:q}}J.replace=$;function Q(Z,G,q){return{range:{start:Z,end:Z},newText:G,annotationId:q}}J.insert=Q;function X(Z,G){return{range:Z,newText:"",annotationId:G}}J.del=X;function Y(Z){var G=Z;return DZ.is(G)&&(hU.is(G.annotationId)||b7.is(G.annotationId))}J.is=Y})(PZ||(PZ={}));(function(J){function $(X,Y){return{textDocument:X,edits:Y}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&cR.is(Y.textDocument)&&Array.isArray(Y.edits)}J.is=Q})(uR||(uR={}));(function(J){function $(X,Y,Z){var G={kind:"create",uri:X};if(Y!==void 0&&(Y.overwrite!==void 0||Y.ignoreIfExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function Q(X){var Y=X;return Y&&Y.kind==="create"&&D0.string(Y.uri)&&(Y.options===void 0||(Y.options.overwrite===void 0||D0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||D0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||b7.is(Y.annotationId))}J.is=Q})(BW||(BW={}));(function(J){function $(X,Y,Z,G){var q={kind:"rename",oldUri:X,newUri:Y};if(Z!==void 0&&(Z.overwrite!==void 0||Z.ignoreIfExists!==void 0))q.options=Z;if(G!==void 0)q.annotationId=G;return q}J.create=$;function Q(X){var Y=X;return Y&&Y.kind==="rename"&&D0.string(Y.oldUri)&&D0.string(Y.newUri)&&(Y.options===void 0||(Y.options.overwrite===void 0||D0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||D0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||b7.is(Y.annotationId))}J.is=Q})(FW||(FW={}));(function(J){function $(X,Y,Z){var G={kind:"delete",uri:X};if(Y!==void 0&&(Y.recursive!==void 0||Y.ignoreIfNotExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function Q(X){var Y=X;return Y&&Y.kind==="delete"&&D0.string(Y.uri)&&(Y.options===void 0||(Y.options.recursive===void 0||D0.boolean(Y.options.recursive))&&(Y.options.ignoreIfNotExists===void 0||D0.boolean(Y.options.ignoreIfNotExists)))&&(Y.annotationId===void 0||b7.is(Y.annotationId))}J.is=Q})(KW||(KW={}));(function(J){function $(Q){var X=Q;return X&&(X.changes!==void 0||X.documentChanges!==void 0)&&(X.documentChanges===void 0||X.documentChanges.every(function(Y){if(D0.string(Y.kind))return BW.is(Y)||FW.is(Y)||KW.is(Y);else return uR.is(Y)}))}J.is=$})(Lx||(Lx={}));gR=function(){function J($,Q){this.edits=$,this.changeAnnotations=Q}return J.prototype.insert=function($,Q,X){var Y,Z;if(X===void 0)Y=DZ.insert($,Q);else if(b7.is(X))Z=X,Y=PZ.insert($,Q,X);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(X),Y=PZ.insert($,Q,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.replace=function($,Q,X){var Y,Z;if(X===void 0)Y=DZ.replace($,Q);else if(b7.is(X))Z=X,Y=PZ.replace($,Q,X);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(X),Y=PZ.replace($,Q,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.delete=function($,Q){var X,Y;if(Q===void 0)X=DZ.del($);else if(b7.is(Q))Y=Q,X=PZ.del($,Q);else this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(Q),X=PZ.del($,Y);if(this.edits.push(X),Y!==void 0)return Y},J.prototype.add=function($){this.edits.push($)},J.prototype.all=function(){return this.edits},J.prototype.clear=function(){this.edits.splice(0,this.edits.length)},J.prototype.assertChangeAnnotations=function($){if($===void 0)throw Error("Text edit change is not configured to manage change annotations.")},J}(),ke=function(){function J($){this._annotations=$===void 0?Object.create(null):$,this._counter=0,this._size=0}return J.prototype.all=function(){return this._annotations},Object.defineProperty(J.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),J.prototype.manage=function($,Q){var X;if(b7.is($))X=$;else X=this.nextId(),Q=$;if(this._annotations[X]!==void 0)throw Error("Id "+X+" is already in use.");if(Q===void 0)throw Error("No annotation provided for id "+X);return this._annotations[X]=Q,this._size++,X},J.prototype.nextId=function(){return this._counter++,this._counter.toString()},J}(),GZ1=function(){function J($){var Q=this;if(this._textEditChanges=Object.create(null),$!==void 0){if(this._workspaceEdit=$,$.documentChanges)this._changeAnnotations=new ke($.changeAnnotations),$.changeAnnotations=this._changeAnnotations.all(),$.documentChanges.forEach(function(X){if(uR.is(X)){var Y=new gR(X.edits,Q._changeAnnotations);Q._textEditChanges[X.textDocument.uri]=Y}});else if($.changes)Object.keys($.changes).forEach(function(X){var Y=new gR($.changes[X]);Q._textEditChanges[X]=Y})}else this._workspaceEdit={}}return Object.defineProperty(J.prototype,"edit",{get:function(){if(this.initDocumentChanges(),this._changeAnnotations!==void 0)if(this._changeAnnotations.size===0)this._workspaceEdit.changeAnnotations=void 0;else this._workspaceEdit.changeAnnotations=this._changeAnnotations.all();return this._workspaceEdit},enumerable:!1,configurable:!0}),J.prototype.getTextEditChange=function($){if(cR.is($)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw Error("Workspace edit is not configured for document changes.");var Q={uri:$.uri,version:$.version},X=this._textEditChanges[Q.uri];if(!X){var Y=[],Z={textDocument:Q,edits:Y};this._workspaceEdit.documentChanges.push(Z),X=new gR(Y,this._changeAnnotations),this._textEditChanges[Q.uri]=X}return X}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw Error("Workspace edit is not configured for normal text edit changes.");var X=this._textEditChanges[$];if(!X){var Y=[];this._workspaceEdit.changes[$]=Y,X=new gR(Y),this._textEditChanges[$]=X}return X}},J.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._changeAnnotations=new ke,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()},J.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._workspaceEdit.changes=Object.create(null)},J.prototype.createFile=function($,Q,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw Error("Workspace edit is not configured for document changes.");var Y;if(hU.is(Q)||b7.is(Q))Y=Q;else X=Q;var Z,G;if(Y===void 0)Z=BW.create($,X);else G=b7.is(Y)?Y:this._changeAnnotations.manage(Y),Z=BW.create($,X,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J.prototype.renameFile=function($,Q,X,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw Error("Workspace edit is not configured for document changes.");var Z;if(hU.is(X)||b7.is(X))Z=X;else Y=X;var G,q;if(Z===void 0)G=FW.create($,Q,Y);else q=b7.is(Z)?Z:this._changeAnnotations.manage(Z),G=FW.create($,Q,Y,q);if(this._workspaceEdit.documentChanges.push(G),q!==void 0)return q},J.prototype.deleteFile=function($,Q,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw Error("Workspace edit is not configured for document changes.");var Y;if(hU.is(Q)||b7.is(Q))Y=Q;else X=Q;var Z,G;if(Y===void 0)Z=KW.create($,X);else G=b7.is(Y)?Y:this._changeAnnotations.manage(Y),Z=KW.create($,X,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J}();(function(J){function $(X){return{uri:X}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.string(Y.uri)}J.is=Q})(Ee||(Ee={}));(function(J){function $(X,Y){return{uri:X,version:Y}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.string(Y.uri)&&D0.integer(Y.version)}J.is=Q})(Ie||(Ie={}));(function(J){function $(X,Y){return{uri:X,version:Y}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.string(Y.uri)&&(Y.version===null||D0.integer(Y.version))}J.is=Q})(cR||(cR={}));(function(J){function $(X,Y,Z,G){return{uri:X,languageId:Y,version:Z,text:G}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.string(Y.uri)&&D0.string(Y.languageId)&&D0.integer(Y.version)&&D0.string(Y.text)}J.is=Q})(ye||(ye={}));(function(J){J.PlainText="plaintext",J.Markdown="markdown"})(AW||(AW={}));(function(J){function $(Q){var X=Q;return X===J.PlainText||X===J.Markdown}J.is=$})(AW||(AW={}));(function(J){function $(Q){var X=Q;return D0.objectLiteral(Q)&&AW.is(X.kind)&&D0.string(X.value)}J.is=$})(kx||(kx={}));(function(J){J.Text=1,J.Method=2,J.Function=3,J.Constructor=4,J.Field=5,J.Variable=6,J.Class=7,J.Interface=8,J.Module=9,J.Property=10,J.Unit=11,J.Value=12,J.Enum=13,J.Keyword=14,J.Snippet=15,J.Color=16,J.File=17,J.Reference=18,J.Folder=19,J.EnumMember=20,J.Constant=21,J.Struct=22,J.Event=23,J.Operator=24,J.TypeParameter=25})(O8||(O8={}));(function(J){J.PlainText=1,J.Snippet=2})(Ex||(Ex={}));(function(J){J.Deprecated=1})(xe||(xe={}));(function(J){function $(X,Y,Z){return{newText:X,insert:Y,replace:Z}}J.create=$;function Q(X){var Y=X;return Y&&D0.string(Y.newText)&&A7.is(Y.insert)&&A7.is(Y.replace)}J.is=Q})(be||(be={}));(function(J){J.asIs=1,J.adjustIndentation=2})(Se||(Se={}));(function(J){function $(Q){return{label:Q}}J.create=$})(Ce||(Ce={}));(function(J){function $(Q,X){return{items:Q?Q:[],isIncomplete:!!X}}J.create=$})(ve||(ve={}));(function(J){function $(X){return X.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}J.fromPlainText=$;function Q(X){var Y=X;return D0.string(Y)||D0.objectLiteral(Y)&&D0.string(Y.language)&&D0.string(Y.value)}J.is=Q})(lR||(lR={}));(function(J){function $(Q){var X=Q;return!!X&&D0.objectLiteral(X)&&(kx.is(X.contents)||lR.is(X.contents)||D0.typedArray(X.contents,lR.is))&&(Q.range===void 0||A7.is(Q.range))}J.is=$})(he||(he={}));(function(J){function $(Q,X){return X?{label:Q,documentation:X}:{label:Q}}J.create=$})(fe||(fe={}));(function(J){function $(Q,X){var Y=[];for(var Z=2;Z<arguments.length;Z++)Y[Z-2]=arguments[Z];var G={label:Q};if(D0.defined(X))G.documentation=X;if(D0.defined(Y))G.parameters=Y;else G.parameters=[];return G}J.create=$})(ge||(ge={}));(function(J){J.Text=1,J.Read=2,J.Write=3})(VW||(VW={}));(function(J){function $(Q,X){var Y={range:Q};if(D0.number(X))Y.kind=X;return Y}J.create=$})(pe||(pe={}));(function(J){J.File=1,J.Module=2,J.Namespace=3,J.Package=4,J.Class=5,J.Method=6,J.Property=7,J.Field=8,J.Constructor=9,J.Enum=10,J.Interface=11,J.Function=12,J.Variable=13,J.Constant=14,J.String=15,J.Number=16,J.Boolean=17,J.Array=18,J.Object=19,J.Key=20,J.Null=21,J.EnumMember=22,J.Struct=23,J.Event=24,J.Operator=25,J.TypeParameter=26})(_8||(_8={}));(function(J){J.Deprecated=1})(me||(me={}));(function(J){function $(Q,X,Y,Z,G){var q={name:Q,kind:X,location:{uri:Z,range:Y}};if(G)q.containerName=G;return q}J.create=$})(ue||(ue={}));(function(J){function $(X,Y,Z,G,q,U){var z={name:X,detail:Y,kind:Z,range:G,selectionRange:q};if(U!==void 0)z.children=U;return z}J.create=$;function Q(X){var Y=X;return Y&&D0.string(Y.name)&&D0.number(Y.kind)&&A7.is(Y.range)&&A7.is(Y.selectionRange)&&(Y.detail===void 0||D0.string(Y.detail))&&(Y.deprecated===void 0||D0.boolean(Y.deprecated))&&(Y.children===void 0||Array.isArray(Y.children))&&(Y.tags===void 0||Array.isArray(Y.tags))}J.is=Q})(ce||(ce={}));(function(J){J.Empty="",J.QuickFix="quickfix",J.Refactor="refactor",J.RefactorExtract="refactor.extract",J.RefactorInline="refactor.inline",J.RefactorRewrite="refactor.rewrite",J.Source="source",J.SourceOrganizeImports="source.organizeImports",J.SourceFixAll="source.fixAll"})(le||(le={}));(function(J){function $(X,Y){var Z={diagnostics:X};if(Y!==void 0&&Y!==null)Z.only=Y;return Z}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.typedArray(Y.diagnostics,mR.is)&&(Y.only===void 0||D0.typedArray(Y.only,D0.string))}J.is=Q})(de||(de={}));(function(J){function $(X,Y,Z){var G={title:X},q=!0;if(typeof Y==="string")q=!1,G.kind=Y;else if(WW.is(Y))G.command=Y;else G.edit=Y;if(q&&Z!==void 0)G.kind=Z;return G}J.create=$;function Q(X){var Y=X;return Y&&D0.string(Y.title)&&(Y.diagnostics===void 0||D0.typedArray(Y.diagnostics,mR.is))&&(Y.kind===void 0||D0.string(Y.kind))&&(Y.edit!==void 0||Y.command!==void 0)&&(Y.command===void 0||WW.is(Y.command))&&(Y.isPreferred===void 0||D0.boolean(Y.isPreferred))&&(Y.edit===void 0||Lx.is(Y.edit))}J.is=Q})(se||(se={}));(function(J){function $(X,Y){var Z={range:X};if(D0.defined(Y))Z.data=Y;return Z}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&A7.is(Y.range)&&(D0.undefined(Y.command)||WW.is(Y.command))}J.is=Q})(ae||(ae={}));(function(J){function $(X,Y){return{tabSize:X,insertSpaces:Y}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&D0.uinteger(Y.tabSize)&&D0.boolean(Y.insertSpaces)}J.is=Q})(re||(re={}));(function(J){function $(X,Y,Z){return{range:X,target:Y,data:Z}}J.create=$;function Q(X){var Y=X;return D0.defined(Y)&&A7.is(Y.range)&&(D0.undefined(Y.target)||D0.string(Y.target))}J.is=Q})(ie||(ie={}));(function(J){function $(X,Y){return{range:X,parent:Y}}J.create=$;function Q(X){var Y=X;return Y!==void 0&&A7.is(Y.range)&&(Y.parent===void 0||J.is(Y.parent))}J.is=Q})(ne||(ne={}));(function(J){function $(Z,G,q,U){return new rY0(Z,G,q,U)}J.create=$;function Q(Z){var G=Z;return D0.defined(G)&&D0.string(G.uri)&&(D0.undefined(G.languageId)||D0.string(G.languageId))&&D0.uinteger(G.lineCount)&&D0.func(G.getText)&&D0.func(G.positionAt)&&D0.func(G.offsetAt)?!0:!1}J.is=Q;function X(Z,G){var q=Z.getText(),U=Y(G,function(W,K){var A=W.range.start.line-K.range.start.line;if(A===0)return W.range.start.character-K.range.start.character;return A}),z=q.length;for(var H=U.length-1;H>=0;H--){var j=U[H],B=Z.offsetAt(j.range.start),V=Z.offsetAt(j.range.end);if(V<=z)q=q.substring(0,B)+j.newText+q.substring(V,q.length);else throw Error("Overlapping edit");z=B}return q}J.applyEdits=X;function Y(Z,G){if(Z.length<=1)return Z;var q=Z.length/2|0,U=Z.slice(0,q),z=Z.slice(q);Y(U,G),Y(z,G);var H=0,j=0,B=0;while(H<U.length&&j<z.length){var V=G(U[H],z[j]);if(V<=0)Z[B++]=U[H++];else Z[B++]=z[j++]}while(H<U.length)Z[B++]=U[H++];while(j<z.length)Z[B++]=z[j++];return Z}})(oe||(oe={}));rY0=function(){function J($,Q,X,Y){this._uri=$,this._languageId=Q,this._version=X,this._content=Y,this._lineOffsets=void 0}return Object.defineProperty(J.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),J.prototype.getText=function($){if($){var Q=this.offsetAt($.start),X=this.offsetAt($.end);return this._content.substring(Q,X)}return this._content},J.prototype.update=function($,Q){this._content=$.text,this._version=Q,this._lineOffsets=void 0},J.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){var $=[],Q=this._content,X=!0;for(var Y=0;Y<Q.length;Y++){if(X)$.push(Y),X=!1;var Z=Q.charAt(Y);if(X=Z==="\r"||Z===`
`,Z==="\r"&&Y+1<Q.length&&Q.charAt(Y+1)===`
`)Y++}if(X&&Q.length>0)$.push(Q.length);this._lineOffsets=$}return this._lineOffsets},J.prototype.positionAt=function($){$=Math.max(Math.min($,this._content.length),0);var Q=this.getLineOffsets(),X=0,Y=Q.length;if(Y===0)return HQ.create(0,$);while(X<Y){var Z=Math.floor((X+Y)/2);if(Q[Z]>$)Y=Z;else X=Z+1}var G=X-1;return HQ.create(G,$-Q[G])},J.prototype.offsetAt=function($){var Q=this.getLineOffsets();if($.line>=Q.length)return this._content.length;else if($.line<0)return 0;var X=Q[$.line],Y=$.line+1<Q.length?Q[$.line+1]:this._content.length;return Math.max(Math.min(X+$.character,Y),X)},Object.defineProperty(J.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),J}();(function(J){var $=Object.prototype.toString;function Q(V){return typeof V<"u"}J.defined=Q;function X(V){return typeof V>"u"}J.undefined=X;function Y(V){return V===!0||V===!1}J.boolean=Y;function Z(V){return $.call(V)==="[object String]"}J.string=Z;function G(V){return $.call(V)==="[object Number]"}J.number=G;function q(V,W,K){return $.call(V)==="[object Number]"&&W<=V&&V<=K}J.numberRange=q;function U(V){return $.call(V)==="[object Number]"&&-2147483648<=V&&V<=2147483647}J.integer=U;function z(V){return $.call(V)==="[object Number]"&&0<=V&&V<=2147483647}J.uinteger=z;function H(V){return $.call(V)==="[object Function]"}J.func=H;function j(V){return V!==null&&typeof V==="object"}J.objectLiteral=j;function B(V,W){return Array.isArray(V)&&V.every(W)}J.typedArray=B})(D0||(D0={}));(function(J){J.DEFAULT={allowTrailingComma:!1}})(ee||(ee={}));VZ0=jZ0;TZ0=class extends Y00{constructor(J,$,Q){super(J,$,Q.onDidChange);this._disposables.push(s1.editor.onWillDisposeModel((X)=>{this._resetSchema(X.uri)})),this._disposables.push(s1.editor.onDidChangeModelLanguage((X)=>{this._resetSchema(X.model.uri)}))}_resetSchema(J){this._worker().then(($)=>{$.resetSchema(J.toString())})}};LZ0={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}});var T00={};gX(T00,{language:()=>gZ0,conf:()=>fZ0});var fZ0,gZ0;var w00=E(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/fZ0={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},gZ0={defaultToken:"",tokenPostfix:".ini",escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^\[[^\]]*\]/,"metatag"],[/(^\w+)(\s*)(\=)/,["key","","delimiter"]],{include:"@whitespace"},[/\d+/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],whitespace:[[/[ \t\r\n]+/,""],[/^\s*[#;].*$/,"comment"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}});var L00={};gX(L00,{language:()=>mZ0,conf:()=>pZ0});var pZ0,mZ0;var k00=E(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/pZ0={comments:{blockComment:["<!--","-->"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},mZ0={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^\s*\|/,"@rematch","@table_header"],[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+:]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+).*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],{include:"@linecontent"}],table_header:[{include:"@table_common"},[/[^\|]+/,"keyword.table.header"]],table_body:[{include:"@table_common"},{include:"@linecontent"}],table_common:[[/\s*[\-:]+\s*/,{token:"keyword",switchTo:"table_body"}],[/^\s*\|/,"keyword.table.left"],[/^\s*[^\|]/,"@rematch","@pop"],[/^\s*$/,"@rematch","@pop"],[/\|/,{cases:{"@eos":"keyword.table.right","@default":"keyword.table.middle"}}]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{+[^}]+\}+/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)*)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)(\-|\w)*/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)(\-|\w)*\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}}});var y00={};gX(y00,{language:()=>rZ0,conf:()=>aZ0});var uZ0,cZ0,lZ0,dZ0,E00=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of lZ0($))if(!dZ0.call(J,Y)&&Y!==Q)uZ0(J,Y,{get:()=>$[Y],enumerable:!(X=cZ0($,Y))||X.enumerable})}return J},sZ0=(J,$,Q)=>(E00(J,$,"default"),Q&&E00(Q,$,"default")),I00,aZ0,rZ0;var x00=E(()=>{a4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/uZ0=Object.defineProperty,cZ0=Object.getOwnPropertyDescriptor,lZ0=Object.getOwnPropertyNames,dZ0=Object.prototype.hasOwnProperty,I00={};sZ0(I00,L9);aZ0={comments:{lineComment:"#",blockComment:["'''","'''"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async|match|case).*?:\\s*$"),action:{indentAction:I00.languages.IndentAction.Indent}}],folding:{offSide:!0,markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},rZ0={defaultToken:"",tokenPostfix:".python",keywords:["False","None","True","_","and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","match","nonlocal","not","or","pass","print","raise","return","try","type","while","with","yield","int","float","long","complex","hex","abs","all","any","apply","basestring","bin","bool","buffer","bytearray","callable","chr","classmethod","cmp","coerce","compile","complex","delattr","dict","dir","divmod","enumerate","eval","execfile","file","filter","format","frozenset","getattr","globals","hasattr","hash","help","id","input","intern","isinstance","issubclass","iter","len","locals","list","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","reversed","range","raw_input","reduce","reload","repr","reversed","round","self","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","unichr","unicode","vars","xrange","zip","__dict__","__methods__","__members__","__class__","__bases__","__name__","__mro__","__subclasses__","__init__","__import__"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/@[a-zA-Z_]\w*/,"tag"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^#.*$)/,"comment"],[/'''/,"string","@endDocString"],[/"""/,"string","@endDblDocString"]],endDocString:[[/[^']+/,"string"],[/\\'/,"string"],[/'''/,"string","@popall"],[/'/,"string"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string","@popall"],[/"/,"string"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}}});var S00={};gX(S00,{language:()=>$20,conf:()=>J20});var iZ0,nZ0,oZ0,tZ0,b00=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of oZ0($))if(!tZ0.call(J,Y)&&Y!==Q)iZ0(J,Y,{get:()=>$[Y],enumerable:!(X=nZ0($,Y))||X.enumerable})}return J},eZ0=(J,$,Q)=>(b00(J,$,"default"),Q&&b00(Q,$,"default")),xx,J20,$20;var C00=E(()=>{a4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/iZ0=Object.defineProperty,nZ0=Object.getOwnPropertyDescriptor,oZ0=Object.getOwnPropertyNames,tZ0=Object.prototype.hasOwnProperty,xx={};eZ0(xx,L9);J20={comments:{blockComment:["<!--","-->"]},brackets:[["<",">"]],autoClosingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],surroundingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],onEnterRules:[{beforeText:new RegExp("<([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:xx.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:xx.languages.IndentAction.Indent}}]},$20={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}}});var bx={};gX(bx,{language:()=>X20,conf:()=>Q20});var Q20,X20;var Sx=E(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Q20={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#pragma\\s+region\\b"),end:new RegExp("^\\s*#pragma\\s+endregion\\b")}}},X20={defaultToken:"",tokenPostfix:".cpp",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["abstract","amp","array","auto","bool","break","case","catch","char","class","const","constexpr","const_cast","continue","cpu","decltype","default","delegate","delete","do","double","dynamic_cast","each","else","enum","event","explicit","export","extern","false","final","finally","float","for","friend","gcnew","generic","goto","if","in","initonly","inline","int","interface","interior_ptr","internal","literal","long","mutable","namespace","new","noexcept","nullptr","__nullptr","operator","override","partial","pascal","pin_ptr","private","property","protected","public","ref","register","reinterpret_cast","restrict","return","safe_cast","sealed","short","signed","sizeof","static","static_assert","static_cast","struct","switch","template","this","thread_local","throw","tile_static","true","try","typedef","typeid","typename","union","unsigned","using","virtual","void","volatile","wchar_t","where","while","_asm","_based","_cdecl","_declspec","_fastcall","_if_exists","_if_not_exists","_inline","_multiple_inheritance","_pascal","_single_inheritance","_stdcall","_virtual_inheritance","_w64","__abstract","__alignof","__asm","__assume","__based","__box","__builtin_alignof","__cdecl","__clrcall","__declspec","__delegate","__event","__except","__fastcall","__finally","__forceinline","__gc","__hook","__identifier","__if_exists","__if_not_exists","__inline","__int128","__int16","__int32","__int64","__int8","__interface","__leave","__m128","__m128d","__m128i","__m256","__m256d","__m256i","__m512","__m512d","__m512i","__m64","__multiple_inheritance","__newslot","__nogc","__noop","__nounwind","__novtordisp","__pascal","__pin","__pragma","__property","__ptr32","__ptr64","__raise","__restrict","__resume","__sealed","__single_inheritance","__stdcall","__super","__thiscall","__try","__try_cast","__typeof","__unaligned","__unhook","__uuidof","__value","__virtual_inheritance","__w64","__wchar_t"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[0abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/([uU](ll|LL|l|L)|(ll|LL|l|L)?[uU]?)/,floatsuffix:/[fFlL]?/,encoding:/u|u8|U|L/,tokenizer:{root:[[/@encoding?R\"(?:([^ ()\\\t]*))\(/,{token:"string.raw.begin",next:"@raw.$1"}],[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],[/^\s*#\s*include/,{token:"keyword.directive.include",next:"@include"}],[/^\s*#\s*\w+/,"keyword.directive"],{include:"@whitespace"},[/\[\s*\[/,{token:"annotation",next:"@annotation"}],[/[{}()<>\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/,"number.hex"],[/0[0-7']*[0-7](@integersuffix)/,"number.octal"],[/0[bB][0-1']*[0-1](@integersuffix)/,"number.binary"],[/\d[\d']*\d(@integersuffix)/,"number"],[/\d(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*\\$/,"comment","@linecomment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],linecomment:[[/.*[^\\]$/,"comment","@pop"],[/[^]+/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],raw:[[/(.*)(\))(?:([^ ()\\\t"]*))(\")/,{cases:{"$3==$S2":["string.raw","string.raw.end","string.raw.end",{token:"string.raw.end",next:"@pop"}],"@default":["string.raw","string.raw","string.raw","string.raw"]}}],[/.*/,"string.raw"]],annotation:[{include:"@whitespace"},[/using|alignas/,"keyword"],[/[a-zA-Z0-9_]+/,"annotation"],[/[,:]/,"delimiter"],[/[()]/,"@brackets"],[/\]\s*\]/,{token:"annotation",next:"@pop"}]],include:[[/(\s*)(<)([^<>]*)(>)/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]],[/(\s*)(")([^"]*)(")/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]]]}}});var c00=eR((dR,hx)=>{(function(J,$){if(typeof dR=="object"&&typeof hx=="object")hx.exports=$();else if(typeof define=="function"&&define.amd)define([],$);else{var Q=$();for(var X in Q)(typeof dR=="object"?dR:J)[X]=Q[X]}})(globalThis,()=>(()=>{var J={4567:function(Y,Z,G){var q=this&&this.__decorate||function(A,F,P,R){var D,_=arguments.length,O=_<3?F:R===null?R=Object.getOwnPropertyDescriptor(F,P):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(A,F,P,R);else for(var N=A.length-1;N>=0;N--)(D=A[N])&&(O=(_<3?D(O):_>3?D(F,P,O):D(F,P))||O);return _>3&&O&&Object.defineProperty(F,P,O),O},U=this&&this.__param||function(A,F){return function(P,R){F(P,R,A)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.AccessibilityManager=void 0;let z=G(9042),H=G(9924),j=G(844),B=G(4725),V=G(2585),W=G(3656),K=Z.AccessibilityManager=class extends j.Disposable{constructor(A,F,P,R){super(),this._terminal=A,this._coreBrowserService=P,this._renderService=R,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let D=0;D<this._terminal.rows;D++)this._rowElements[D]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[D]);if(this._topBoundaryFocusListener=(D)=>this._handleBoundaryFocus(D,0),this._bottomBoundaryFocusListener=(D)=>this._handleBoundaryFocus(D,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new H.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((D)=>this._handleResize(D.rows))),this.register(this._terminal.onRender((D)=>this._refreshRows(D.start,D.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar((D)=>this._handleChar(D))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab((D)=>this._handleTab(D))),this.register(this._terminal.onKey((D)=>this._handleKey(D.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,W.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,j.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(A){for(let F=0;F<A;F++)this._handleChar(" ")}_handleChar(A){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==A&&(this._charsToAnnounce+=A):this._charsToAnnounce+=A,A===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=z.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(A){this._clearLiveRegion(),/\p{Control}/u.test(A)||this._charsToConsume.push(A)}_refreshRows(A,F){this._liveRegionDebouncer.refresh(A,F,this._terminal.rows)}_renderRows(A,F){let P=this._terminal.buffer,R=P.lines.length.toString();for(let D=A;D<=F;D++){let _=P.lines.get(P.ydisp+D),O=[],N=_?.translateToString(!0,void 0,void 0,O)||"",w=(P.ydisp+D+1).toString(),T=this._rowElements[D];T&&(N.length===0?(T.innerText=" ",this._rowColumns.set(T,[0,1])):(T.textContent=N,this._rowColumns.set(T,O)),T.setAttribute("aria-posinset",w),T.setAttribute("aria-setsize",R))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(A,F){let P=A.target,R=this._rowElements[F===0?1:this._rowElements.length-2];if(P.getAttribute("aria-posinset")===(F===0?"1":`${this._terminal.buffer.lines.length}`))return;if(A.relatedTarget!==R)return;let D,_;if(F===0?(D=P,_=this._rowElements.pop(),this._rowContainer.removeChild(_)):(D=this._rowElements.shift(),_=P,this._rowContainer.removeChild(D)),D.removeEventListener("focus",this._topBoundaryFocusListener),_.removeEventListener("focus",this._bottomBoundaryFocusListener),F===0){let O=this._createAccessibilityTreeNode();this._rowElements.unshift(O),this._rowContainer.insertAdjacentElement("afterbegin",O)}else{let O=this._createAccessibilityTreeNode();this._rowElements.push(O),this._rowContainer.appendChild(O)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(F===0?-1:1),this._rowElements[F===0?1:this._rowElements.length-2].focus(),A.preventDefault(),A.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let A=document.getSelection();if(!A)return;if(A.isCollapsed)return void(this._rowContainer.contains(A.anchorNode)&&this._terminal.clearSelection());if(!A.anchorNode||!A.focusNode)return void console.error("anchorNode and/or focusNode are null");let F={node:A.anchorNode,offset:A.anchorOffset},P={node:A.focusNode,offset:A.focusOffset};if((F.node.compareDocumentPosition(P.node)&Node.DOCUMENT_POSITION_PRECEDING||F.node===P.node&&F.offset>P.offset)&&([F,P]=[P,F]),F.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(F={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(F.node))return;let R=this._rowElements.slice(-1)[0];if(P.node.compareDocumentPosition(R)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(P={node:R,offset:R.textContent?.length??0}),!this._rowContainer.contains(P.node))return;let D=({node:N,offset:w})=>{let T=N instanceof Text?N.parentNode:N,I=parseInt(T?.getAttribute("aria-posinset"),10)-1;if(isNaN(I))return console.warn("row is invalid. Race condition?"),null;let k=this._rowColumns.get(T);if(!k)return console.warn("columns is null. Race condition?"),null;let x=w<k.length?k[w]:k.slice(-1)[0]+1;return x>=this._terminal.cols&&(++I,x=0),{row:I,column:x}},_=D(F),O=D(P);if(_&&O){if(_.row>O.row||_.row===O.row&&_.column>=O.column)throw Error("invalid range");this._terminal.select(_.column,_.row,(O.row-_.row)*this._terminal.cols-_.column+O.column)}}_handleResize(A){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let F=this._rowContainer.children.length;F<this._terminal.rows;F++)this._rowElements[F]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[F]);for(;this._rowElements.length>A;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let A=this._coreBrowserService.mainDocument.createElement("div");return A.setAttribute("role","listitem"),A.tabIndex=-1,this._refreshRowDimensions(A),A}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let A=0;A<this._terminal.rows;A++)this._refreshRowDimensions(this._rowElements[A])}}_refreshRowDimensions(A){A.style.height=`${this._renderService.dimensions.css.cell.height}px`}};Z.AccessibilityManager=K=q([U(1,V.IInstantiationService),U(2,B.ICoreBrowserService),U(3,B.IRenderService)],K)},3614:(Y,Z)=>{function G(H){return H.replace(/\r?\n/g,"\r")}function q(H,j){return j?"\x1B[200~"+H+"\x1B[201~":H}function U(H,j,B,V){H=q(H=G(H),B.decPrivateModes.bracketedPasteMode&&V.rawOptions.ignoreBracketedPasteMode!==!0),B.triggerDataEvent(H,!0),j.value=""}function z(H,j,B){let V=B.getBoundingClientRect(),W=H.clientX-V.left-10,K=H.clientY-V.top-10;j.style.width="20px",j.style.height="20px",j.style.left=`${W}px`,j.style.top=`${K}px`,j.style.zIndex="1000",j.focus()}Object.defineProperty(Z,"__esModule",{value:!0}),Z.rightClickHandler=Z.moveTextAreaUnderMouseCursor=Z.paste=Z.handlePasteEvent=Z.copyHandler=Z.bracketTextForPaste=Z.prepareTextForTerminal=void 0,Z.prepareTextForTerminal=G,Z.bracketTextForPaste=q,Z.copyHandler=function(H,j){H.clipboardData&&H.clipboardData.setData("text/plain",j.selectionText),H.preventDefault()},Z.handlePasteEvent=function(H,j,B,V){H.stopPropagation(),H.clipboardData&&U(H.clipboardData.getData("text/plain"),j,B,V)},Z.paste=U,Z.moveTextAreaUnderMouseCursor=z,Z.rightClickHandler=function(H,j,B,V,W){z(H,j,B),W&&V.rightClickSelect(H),j.value=V.selectionText,j.select()}},7239:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ColorContrastCache=void 0;let q=G(1505);Z.ColorContrastCache=class{constructor(){this._color=new q.TwoKeyMap,this._css=new q.TwoKeyMap}setCss(U,z,H){this._css.set(U,z,H)}getCss(U,z){return this._css.get(U,z)}setColor(U,z,H){this._color.set(U,z,H)}getColor(U,z){return this._color.get(U,z)}clear(){this._color.clear(),this._css.clear()}}},3656:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.addDisposableDomListener=void 0,Z.addDisposableDomListener=function(G,q,U,z){G.addEventListener(q,U,z);let H=!1;return{dispose:()=>{H||(H=!0,G.removeEventListener(q,U,z))}}}},3551:function(Y,Z,G){var q=this&&this.__decorate||function(K,A,F,P){var R,D=arguments.length,_=D<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,F):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(K,A,F,P);else for(var O=K.length-1;O>=0;O--)(R=K[O])&&(_=(D<3?R(_):D>3?R(A,F,_):R(A,F))||_);return D>3&&_&&Object.defineProperty(A,F,_),_},U=this&&this.__param||function(K,A){return function(F,P){A(F,P,K)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.Linkifier=void 0;let z=G(3656),H=G(8460),j=G(844),B=G(2585),V=G(4725),W=Z.Linkifier=class extends j.Disposable{get currentLink(){return this._currentLink}constructor(K,A,F,P,R){super(),this._element=K,this._mouseService=A,this._renderService=F,this._bufferService=P,this._linkProviderService=R,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new H.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new H.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,j.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,j.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,z.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,z.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,z.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,z.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(K){this._lastMouseEvent=K;let A=this._positionFromMouseEvent(K,this._element,this._mouseService);if(!A)return;this._isMouseOut=!1;let F=K.composedPath();for(let P=0;P<F.length;P++){let R=F[P];if(R.classList.contains("xterm"))break;if(R.classList.contains("xterm-hover"))return}this._lastBufferCell&&A.x===this._lastBufferCell.x&&A.y===this._lastBufferCell.y||(this._handleHover(A),this._lastBufferCell=A)}_handleHover(K){if(this._activeLine!==K.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(K,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,K)||(this._clearCurrentLink(),this._askForLink(K,!0))}_askForLink(K,A){this._activeProviderReplies&&A||(this._activeProviderReplies?.forEach((P)=>{P?.forEach((R)=>{R.link.dispose&&R.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=K.y);let F=!1;for(let[P,R]of this._linkProviderService.linkProviders.entries())if(A)this._activeProviderReplies?.get(P)&&(F=this._checkLinkProviderResult(P,K,F));else R.provideLinks(K.y,(D)=>{if(this._isMouseOut)return;let _=D?.map((O)=>({link:O}));this._activeProviderReplies?.set(P,_),F=this._checkLinkProviderResult(P,K,F),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(K.y,this._activeProviderReplies)})}_removeIntersectingLinks(K,A){let F=new Set;for(let P=0;P<A.size;P++){let R=A.get(P);if(R)for(let D=0;D<R.length;D++){let _=R[D],O=_.link.range.start.y<K?0:_.link.range.start.x,N=_.link.range.end.y>K?this._bufferService.cols:_.link.range.end.x;for(let w=O;w<=N;w++){if(F.has(w)){R.splice(D--,1);break}F.add(w)}}}}_checkLinkProviderResult(K,A,F){if(!this._activeProviderReplies)return F;let P=this._activeProviderReplies.get(K),R=!1;for(let D=0;D<K;D++)this._activeProviderReplies.has(D)&&!this._activeProviderReplies.get(D)||(R=!0);if(!R&&P){let D=P.find((_)=>this._linkAtPosition(_.link,A));D&&(F=!0,this._handleNewLink(D))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!F)for(let D=0;D<this._activeProviderReplies.size;D++){let _=this._activeProviderReplies.get(D)?.find((O)=>this._linkAtPosition(O.link,A));if(_){F=!0,this._handleNewLink(_);break}}return F}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(K){if(!this._currentLink)return;let A=this._positionFromMouseEvent(K,this._element,this._mouseService);A&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,A)&&this._currentLink.link.activate(K,this._currentLink.link.text)}_clearCurrentLink(K,A){this._currentLink&&this._lastMouseEvent&&(!K||!A||this._currentLink.link.range.start.y>=K&&this._currentLink.link.range.end.y<=A)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,j.disposeArray)(this._linkCacheDisposables))}_handleNewLink(K){if(!this._lastMouseEvent)return;let A=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);A&&this._linkAtPosition(K.link,A)&&(this._currentLink=K,this._currentLink.state={decorations:{underline:K.link.decorations===void 0||K.link.decorations.underline,pointerCursor:K.link.decorations===void 0||K.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,K.link,this._lastMouseEvent),K.link.decorations={},Object.defineProperties(K.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:(F)=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==F&&(this._currentLink.state.decorations.pointerCursor=F,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",F))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:(F)=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==F&&(this._currentLink.state.decorations.underline=F,this._currentLink.state.isHovered&&this._fireUnderlineEvent(K.link,F))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((F)=>{if(!this._currentLink)return;let P=F.start===0?0:F.start+1+this._bufferService.buffer.ydisp,R=this._bufferService.buffer.ydisp+1+F.end;if(this._currentLink.link.range.start.y>=P&&this._currentLink.link.range.end.y<=R&&(this._clearCurrentLink(P,R),this._lastMouseEvent)){let D=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);D&&this._askForLink(D,!1)}})))}_linkHover(K,A,F){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(A,!0),this._currentLink.state.decorations.pointerCursor&&K.classList.add("xterm-cursor-pointer")),A.hover&&A.hover(F,A.text)}_fireUnderlineEvent(K,A){let F=K.range,P=this._bufferService.buffer.ydisp,R=this._createLinkUnderlineEvent(F.start.x-1,F.start.y-P-1,F.end.x,F.end.y-P-1,void 0);(A?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(R)}_linkLeave(K,A,F){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(A,!1),this._currentLink.state.decorations.pointerCursor&&K.classList.remove("xterm-cursor-pointer")),A.leave&&A.leave(F,A.text)}_linkAtPosition(K,A){let F=K.range.start.y*this._bufferService.cols+K.range.start.x,P=K.range.end.y*this._bufferService.cols+K.range.end.x,R=A.y*this._bufferService.cols+A.x;return F<=R&&R<=P}_positionFromMouseEvent(K,A,F){let P=F.getCoords(K,A,this._bufferService.cols,this._bufferService.rows);if(P)return{x:P[0],y:P[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(K,A,F,P,R){return{x1:K,y1:A,x2:F,y2:P,cols:this._bufferService.cols,fg:R}}};Z.Linkifier=W=q([U(1,V.IMouseService),U(2,V.IRenderService),U(3,B.IBufferService),U(4,V.ILinkProviderService)],W)},9042:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.tooMuchOutput=Z.promptLabel=void 0,Z.promptLabel="Terminal input",Z.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(Y,Z,G){var q=this&&this.__decorate||function(V,W,K,A){var F,P=arguments.length,R=P<3?W:A===null?A=Object.getOwnPropertyDescriptor(W,K):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(V,W,K,A);else for(var D=V.length-1;D>=0;D--)(F=V[D])&&(R=(P<3?F(R):P>3?F(W,K,R):F(W,K))||R);return P>3&&R&&Object.defineProperty(W,K,R),R},U=this&&this.__param||function(V,W){return function(K,A){W(K,A,V)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.OscLinkProvider=void 0;let z=G(511),H=G(2585),j=Z.OscLinkProvider=class{constructor(V,W,K){this._bufferService=V,this._optionsService=W,this._oscLinkService=K}provideLinks(V,W){let K=this._bufferService.buffer.lines.get(V-1);if(!K)return void W(void 0);let A=[],F=this._optionsService.rawOptions.linkHandler,P=new z.CellData,R=K.getTrimmedLength(),D=-1,_=-1,O=!1;for(let N=0;N<R;N++)if(_!==-1||K.hasContent(N)){if(K.loadCell(N,P),P.hasExtendedAttrs()&&P.extended.urlId){if(_===-1){_=N,D=P.extended.urlId;continue}O=P.extended.urlId!==D}else _!==-1&&(O=!0);if(O||_!==-1&&N===R-1){let w=this._oscLinkService.getLinkData(D)?.uri;if(w){let T={start:{x:_+1,y:V},end:{x:N+(O||N!==R-1?0:1),y:V}},I=!1;if(!F?.allowNonHttpProtocols)try{let k=new URL(w);["http:","https:"].includes(k.protocol)||(I=!0)}catch(k){I=!0}I||A.push({text:w,range:T,activate:(k,x)=>F?F.activate(k,x,T):B(0,x),hover:(k,x)=>F?.hover?.(k,x,T),leave:(k,x)=>F?.leave?.(k,x,T)})}O=!1,P.hasExtendedAttrs()&&P.extended.urlId?(_=N,D=P.extended.urlId):(_=-1,D=-1)}}W(A)}};function B(V,W){if(confirm(`Do you want to navigate to ${W}?

WARNING: This link could potentially be dangerous`)){let K=window.open();if(K){try{K.opener=null}catch{}K.location.href=W}else console.warn("Opening link blocked as opener could not be cleared")}}Z.OscLinkProvider=j=q([U(0,H.IBufferService),U(1,H.IOptionsService),U(2,H.IOscLinkService)],j)},6193:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RenderDebouncer=void 0,Z.RenderDebouncer=class{constructor(G,q){this._renderCallback=G,this._coreBrowserService=q,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(G){return this._refreshCallbacks.push(G),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(G,q,U){this._rowCount=U,G=G!==void 0?G:0,q=q!==void 0?q:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,G):G,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,q):q,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();let G=Math.max(this._rowStart,0),q=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(G,q),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let G of this._refreshCallbacks)G(0);this._refreshCallbacks=[]}}},3236:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Terminal=void 0;let q=G(3614),U=G(3656),z=G(3551),H=G(9042),j=G(3730),B=G(1680),V=G(3107),W=G(5744),K=G(2950),A=G(1296),F=G(428),P=G(4269),R=G(5114),D=G(8934),_=G(3230),O=G(9312),N=G(4725),w=G(6731),T=G(8055),I=G(8969),k=G(8460),x=G(844),S=G(6114),l=G(8437),d=G(2584),y=G(7399),b=G(5941),h=G(9074),u=G(2585),$0=G(5435),Z0=G(4567),U0=G(779);class Q0 extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(o={}){super(o),this.browser=S,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new x.MutableDisposable),this._onCursorMove=this.register(new k.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new k.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new k.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new k.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new k.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new k.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new k.EventEmitter),this._onBlur=this.register(new k.EventEmitter),this._onA11yCharEmitter=this.register(new k.EventEmitter),this._onA11yTabEmitter=this.register(new k.EventEmitter),this._onWillOpen=this.register(new k.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(h.DecorationService),this._instantiationService.setService(u.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(U0.LinkProviderService),this._instantiationService.setService(N.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(j.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((m,A0)=>this.refresh(m,A0))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport((m)=>this._reportWindowsOptions(m))),this.register(this._inputHandler.onColor((m)=>this._handleColorEvent(m))),this.register((0,k.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,k.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,k.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,k.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((m)=>this._afterResize(m.cols,m.rows))),this.register((0,x.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(o){if(this._themeService)for(let m of o){let A0,z0="";switch(m.index){case 256:A0="foreground",z0="10";break;case 257:A0="background",z0="11";break;case 258:A0="cursor",z0="12";break;default:A0="ansi",z0="4;"+m.index}switch(m.type){case 0:let h0=T.color.toColorRGB(A0==="ansi"?this._themeService.colors.ansi[m.index]:this._themeService.colors[A0]);this.coreService.triggerDataEvent(`${d.C0.ESC}]${z0};${(0,b.toRgbString)(h0)}${d.C1_ESCAPED.ST}`);break;case 1:if(A0==="ansi")this._themeService.modifyColors((N0)=>N0.ansi[m.index]=T.channels.toColor(...m.color));else{let N0=A0;this._themeService.modifyColors((w1)=>w1[N0]=T.channels.toColor(...m.color))}break;case 2:this._themeService.restoreColor(m.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(o){o?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z0.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(o){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(d.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(d.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let o=this.buffer.ybase+this.buffer.y,m=this.buffer.lines.get(o);if(!m)return;let A0=Math.min(this.buffer.x,this.cols-1),z0=this._renderService.dimensions.css.cell.height,h0=m.getWidth(A0),N0=this._renderService.dimensions.css.cell.width*h0,w1=this.buffer.y*this._renderService.dimensions.css.cell.height,R0=A0*this._renderService.dimensions.css.cell.width;this.textarea.style.left=R0+"px",this.textarea.style.top=w1+"px",this.textarea.style.width=N0+"px",this.textarea.style.height=z0+"px",this.textarea.style.lineHeight=z0+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,U.addDisposableDomListener)(this.element,"copy",(m)=>{this.hasSelection()&&(0,q.copyHandler)(m,this._selectionService)}));let o=(m)=>(0,q.handlePasteEvent)(m,this.textarea,this.coreService,this.optionsService);this.register((0,U.addDisposableDomListener)(this.textarea,"paste",o)),this.register((0,U.addDisposableDomListener)(this.element,"paste",o)),S.isFirefox?this.register((0,U.addDisposableDomListener)(this.element,"mousedown",(m)=>{m.button===2&&(0,q.rightClickHandler)(m,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,U.addDisposableDomListener)(this.element,"contextmenu",(m)=>{(0,q.rightClickHandler)(m,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),S.isLinux&&this.register((0,U.addDisposableDomListener)(this.element,"auxclick",(m)=>{m.button===1&&(0,q.moveTextAreaUnderMouseCursor)(m,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,U.addDisposableDomListener)(this.textarea,"keyup",(o)=>this._keyUp(o),!0)),this.register((0,U.addDisposableDomListener)(this.textarea,"keydown",(o)=>this._keyDown(o),!0)),this.register((0,U.addDisposableDomListener)(this.textarea,"keypress",(o)=>this._keyPress(o),!0)),this.register((0,U.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,U.addDisposableDomListener)(this.textarea,"compositionupdate",(o)=>this._compositionHelper.compositionupdate(o))),this.register((0,U.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,U.addDisposableDomListener)(this.textarea,"input",(o)=>this._inputEvent(o),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(o){if(!o)throw Error("Terminal requires a parent element.");if(o.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=o.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),o.appendChild(this.element);let m=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),m.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,U.addDisposableDomListener)(this.screenElement,"mousemove",(A0)=>this.updateCursorStyle(A0))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),m.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",H.promptLabel),S.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(R.CoreBrowserService,this.textarea,o.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(N.ICoreBrowserService,this._coreBrowserService),this.register((0,U.addDisposableDomListener)(this.textarea,"focus",(A0)=>this._handleTextAreaFocus(A0))),this.register((0,U.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(F.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(N.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(w.ThemeService),this._instantiationService.setService(N.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(P.CharacterJoinerService),this._instantiationService.setService(N.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(_.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(N.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((A0)=>this._onRender.fire(A0))),this.onResize((A0)=>this._renderService.resize(A0.cols,A0.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(K.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(D.MouseService),this._instantiationService.setService(N.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(z.Linkifier,this.screenElement)),this.element.appendChild(m);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(B.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((A0)=>this.scrollLines(A0.amount,A0.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(O.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(N.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((A0)=>this.scrollLines(A0.amount,A0.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw((A0)=>this._renderService.handleSelectionChanged(A0.start,A0.end,A0.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection((A0)=>{this.textarea.value=A0,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event((A0)=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,U.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(V.BufferDecorationRenderer,this.screenElement)),this.register((0,U.addDisposableDomListener)(this.element,"mousedown",(A0)=>this._selectionService.handleMouseDown(A0))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z0.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(A0)=>this._handleScreenReaderModeOptionChange(A0))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(W.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(A0)=>{!this._overviewRulerRenderer&&A0&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(W.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(A.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let o=this,m=this.element;function A0(N0){let w1=o._mouseService.getMouseReportCoords(N0,o.screenElement);if(!w1)return!1;let R0,u1;switch(N0.overrideType||N0.type){case"mousemove":u1=32,N0.buttons===void 0?(R0=3,N0.button!==void 0&&(R0=N0.button<3?N0.button:3)):R0=1&N0.buttons?0:4&N0.buttons?1:2&N0.buttons?2:3;break;case"mouseup":u1=0,R0=N0.button<3?N0.button:3;break;case"mousedown":u1=1,R0=N0.button<3?N0.button:3;break;case"wheel":if(o._customWheelEventHandler&&o._customWheelEventHandler(N0)===!1)return!1;if(o.viewport.getLinesScrolled(N0)===0)return!1;u1=N0.deltaY<0?0:1,R0=4;break;default:return!1}return!(u1===void 0||R0===void 0||R0>4)&&o.coreMouseService.triggerMouseEvent({col:w1.col,row:w1.row,x:w1.x,y:w1.y,button:R0,action:u1,ctrl:N0.ctrlKey,alt:N0.altKey,shift:N0.shiftKey})}let z0={mouseup:null,wheel:null,mousedrag:null,mousemove:null},h0={mouseup:(N0)=>(A0(N0),N0.buttons||(this._document.removeEventListener("mouseup",z0.mouseup),z0.mousedrag&&this._document.removeEventListener("mousemove",z0.mousedrag)),this.cancel(N0)),wheel:(N0)=>(A0(N0),this.cancel(N0,!0)),mousedrag:(N0)=>{N0.buttons&&A0(N0)},mousemove:(N0)=>{N0.buttons||A0(N0)}};this.register(this.coreMouseService.onProtocolChange((N0)=>{N0?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(N0)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&N0?z0.mousemove||(m.addEventListener("mousemove",h0.mousemove),z0.mousemove=h0.mousemove):(m.removeEventListener("mousemove",z0.mousemove),z0.mousemove=null),16&N0?z0.wheel||(m.addEventListener("wheel",h0.wheel,{passive:!1}),z0.wheel=h0.wheel):(m.removeEventListener("wheel",z0.wheel),z0.wheel=null),2&N0?z0.mouseup||(z0.mouseup=h0.mouseup):(this._document.removeEventListener("mouseup",z0.mouseup),z0.mouseup=null),4&N0?z0.mousedrag||(z0.mousedrag=h0.mousedrag):(this._document.removeEventListener("mousemove",z0.mousedrag),z0.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,U.addDisposableDomListener)(m,"mousedown",(N0)=>{if(N0.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(N0))return A0(N0),z0.mouseup&&this._document.addEventListener("mouseup",z0.mouseup),z0.mousedrag&&this._document.addEventListener("mousemove",z0.mousedrag),this.cancel(N0)})),this.register((0,U.addDisposableDomListener)(m,"wheel",(N0)=>{if(!z0.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(N0)===!1)return!1;if(!this.buffer.hasScrollback){let w1=this.viewport.getLinesScrolled(N0);if(w1===0)return;let R0=d.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(N0.deltaY<0?"A":"B"),u1="";for(let W6=0;W6<Math.abs(w1);W6++)u1+=R0;return this.coreService.triggerDataEvent(u1,!0),this.cancel(N0,!0)}return this.viewport.handleWheel(N0)?this.cancel(N0):void 0}},{passive:!1})),this.register((0,U.addDisposableDomListener)(m,"touchstart",(N0)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(N0),this.cancel(N0)},{passive:!0})),this.register((0,U.addDisposableDomListener)(m,"touchmove",(N0)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(N0)?void 0:this.cancel(N0)},{passive:!1}))}refresh(o,m){this._renderService?.refreshRows(o,m)}updateCursorStyle(o){this._selectionService?.shouldColumnSelect(o)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(o,m,A0=0){A0===1?(super.scrollLines(o,m,A0),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(o)}paste(o){(0,q.paste)(o,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(o){this._customKeyEventHandler=o}attachCustomWheelEventHandler(o){this._customWheelEventHandler=o}registerLinkProvider(o){return this._linkProviderService.registerLinkProvider(o)}registerCharacterJoiner(o){if(!this._characterJoinerService)throw Error("Terminal must be opened first");let m=this._characterJoinerService.register(o);return this.refresh(0,this.rows-1),m}deregisterCharacterJoiner(o){if(!this._characterJoinerService)throw Error("Terminal must be opened first");this._characterJoinerService.deregister(o)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(o){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+o)}registerDecoration(o){return this._decorationService.registerDecoration(o)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(o,m,A0){this._selectionService.setSelection(o,m,A0)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(o,m){this._selectionService?.selectLines(o,m)}_keyDown(o){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(o)===!1)return!1;let m=this.browser.isMac&&this.options.macOptionIsMeta&&o.altKey;if(!m&&!this._compositionHelper.keydown(o))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;m||o.key!=="Dead"&&o.key!=="AltGraph"||(this._unprocessedDeadKey=!0);let A0=(0,y.evaluateKeyboardEvent)(o,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(o),A0.type===3||A0.type===2){let z0=this.rows-1;return this.scrollLines(A0.type===2?-z0:z0),this.cancel(o,!0)}return A0.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,o)||(A0.cancel&&this.cancel(o,!0),!A0.key||!!(o.key&&!o.ctrlKey&&!o.altKey&&!o.metaKey&&o.key.length===1&&o.key.charCodeAt(0)>=65&&o.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(A0.key!==d.C0.ETX&&A0.key!==d.C0.CR||(this.textarea.value=""),this._onKey.fire({key:A0.key,domEvent:o}),this._showCursor(),this.coreService.triggerDataEvent(A0.key,!0),!this.optionsService.rawOptions.screenReaderMode||o.altKey||o.ctrlKey?this.cancel(o,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(o,m){let A0=o.isMac&&!this.options.macOptionIsMeta&&m.altKey&&!m.ctrlKey&&!m.metaKey||o.isWindows&&m.altKey&&m.ctrlKey&&!m.metaKey||o.isWindows&&m.getModifierState("AltGraph");return m.type==="keypress"?A0:A0&&(!m.keyCode||m.keyCode>47)}_keyUp(o){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(o)===!1||(function(m){return m.keyCode===16||m.keyCode===17||m.keyCode===18}(o)||this.focus(),this.updateCursorStyle(o),this._keyPressHandled=!1)}_keyPress(o){let m;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&this._customKeyEventHandler(o)===!1)return!1;if(this.cancel(o),o.charCode)m=o.charCode;else if(o.which===null||o.which===void 0)m=o.keyCode;else{if(o.which===0||o.charCode===0)return!1;m=o.which}return!(!m||(o.altKey||o.ctrlKey||o.metaKey)&&!this._isThirdLevelShift(this.browser,o)||(m=String.fromCharCode(m),this._onKey.fire({key:m,domEvent:o}),this._showCursor(),this.coreService.triggerDataEvent(m,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(o){if(o.data&&o.inputType==="insertText"&&(!o.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let m=o.data;return this.coreService.triggerDataEvent(m,!0),this.cancel(o),!0}return!1}resize(o,m){o!==this.cols||m!==this.rows?super.resize(o,m):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(o,m){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let o=1;o<this.rows;o++)this.buffer.lines.push(this.buffer.getBlankLine(l.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let o=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=o,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(d.C0.ESC+"[I"):this.coreService.triggerDataEvent(d.C0.ESC+"[O")}_reportWindowsOptions(o){if(this._renderService)switch(o){case $0.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:let m=this._renderService.dimensions.css.canvas.width.toFixed(0),A0=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${d.C0.ESC}[4;${A0};${m}t`);break;case $0.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:let z0=this._renderService.dimensions.css.cell.width.toFixed(0),h0=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${d.C0.ESC}[6;${h0};${z0}t`)}}cancel(o,m){if(this.options.cancelEvents||m)return o.preventDefault(),o.stopPropagation(),!1}}Z.Terminal=Q0},9924:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.TimeBasedDebouncer=void 0,Z.TimeBasedDebouncer=class{constructor(G,q=1000){this._renderCallback=G,this._debounceThresholdMS=q,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(G,q,U){this._rowCount=U,G=G!==void 0?G:0,q=q!==void 0?q:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,G):G,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,q):q;let z=Date.now();if(z-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=z,this._innerRefresh();else if(!this._additionalRefreshRequested){let H=z-this._lastRefreshMs,j=this._debounceThresholdMS-H;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},j)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let G=Math.max(this._rowStart,0),q=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(G,q)}}},1680:function(Y,Z,G){var q=this&&this.__decorate||function(K,A,F,P){var R,D=arguments.length,_=D<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,F):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(K,A,F,P);else for(var O=K.length-1;O>=0;O--)(R=K[O])&&(_=(D<3?R(_):D>3?R(A,F,_):R(A,F))||_);return D>3&&_&&Object.defineProperty(A,F,_),_},U=this&&this.__param||function(K,A){return function(F,P){A(F,P,K)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.Viewport=void 0;let z=G(3656),H=G(4725),j=G(8460),B=G(844),V=G(2585),W=Z.Viewport=class extends B.Disposable{constructor(K,A,F,P,R,D,_,O){super(),this._viewportElement=K,this._scrollArea=A,this._bufferService=F,this._optionsService=P,this._charSizeService=R,this._renderService=D,this._coreBrowserService=_,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new j.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,z.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((N)=>this._activeBuffer=N.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((N)=>this._renderDimensions=N)),this._handleThemeChange(O.colors),this.register(O.onChangeColors((N)=>this._handleThemeChange(N))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(K){this._viewportElement.style.backgroundColor=K.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(K){if(K)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;let A=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==A&&(this._lastRecordedBufferHeight=A,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}let K=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==K&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=K),this._refreshAnimationFrame=null}syncScrollArea(K=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(K);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(K)}_handleScroll(K){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});let A=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:A,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;let K=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(K*(this._smoothScrollState.target-this._smoothScrollState.origin)),K<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(K,A){let F=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(A<0&&this._viewportElement.scrollTop!==0||A>0&&F<this._lastRecordedBufferHeight)||(K.cancelable&&K.preventDefault(),!1)}handleWheel(K){let A=this._getPixelsScrolled(K);return A!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+A:this._smoothScrollState.target+=A,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=A,this._bubbleScroll(K,A))}scrollLines(K){if(K!==0)if(this._optionsService.rawOptions.smoothScrollDuration){let A=K*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+A,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:K,suppressScrollEvent:!1})}_getPixelsScrolled(K){if(K.deltaY===0||K.shiftKey)return 0;let A=this._applyScrollModifier(K.deltaY,K);return K.deltaMode===WheelEvent.DOM_DELTA_LINE?A*=this._currentRowHeight:K.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(A*=this._currentRowHeight*this._bufferService.rows),A}getBufferElements(K,A){let F,P="",R=[],D=A??this._bufferService.buffer.lines.length,_=this._bufferService.buffer.lines;for(let O=K;O<D;O++){let N=_.get(O);if(!N)continue;let w=_.get(O+1)?.isWrapped;if(P+=N.translateToString(!w),!w||O===_.length-1){let T=document.createElement("div");T.textContent=P,R.push(T),P.length>0&&(F=T),P=""}}return{bufferElements:R,cursorElement:F}}getLinesScrolled(K){if(K.deltaY===0||K.shiftKey)return 0;let A=this._applyScrollModifier(K.deltaY,K);return K.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(A/=this._currentRowHeight+0,this._wheelPartialScroll+=A,A=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):K.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(A*=this._bufferService.rows),A}_applyScrollModifier(K,A){let F=this._optionsService.rawOptions.fastScrollModifier;return F==="alt"&&A.altKey||F==="ctrl"&&A.ctrlKey||F==="shift"&&A.shiftKey?K*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:K*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(K){this._lastTouchY=K.touches[0].pageY}handleTouchMove(K){let A=this._lastTouchY-K.touches[0].pageY;return this._lastTouchY=K.touches[0].pageY,A!==0&&(this._viewportElement.scrollTop+=A,this._bubbleScroll(K,A))}};Z.Viewport=W=q([U(2,V.IBufferService),U(3,V.IOptionsService),U(4,H.ICharSizeService),U(5,H.IRenderService),U(6,H.ICoreBrowserService),U(7,H.IThemeService)],W)},3107:function(Y,Z,G){var q=this&&this.__decorate||function(V,W,K,A){var F,P=arguments.length,R=P<3?W:A===null?A=Object.getOwnPropertyDescriptor(W,K):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(V,W,K,A);else for(var D=V.length-1;D>=0;D--)(F=V[D])&&(R=(P<3?F(R):P>3?F(W,K,R):F(W,K))||R);return P>3&&R&&Object.defineProperty(W,K,R),R},U=this&&this.__param||function(V,W){return function(K,A){W(K,A,V)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferDecorationRenderer=void 0;let z=G(4725),H=G(844),j=G(2585),B=Z.BufferDecorationRenderer=class extends H.Disposable{constructor(V,W,K,A,F){super(),this._screenElement=V,this._bufferService=W,this._coreBrowserService=K,this._decorationService=A,this._renderService=F,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved((P)=>this._removeDecoration(P))),this.register((0,H.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let V of this._decorationService.decorations)this._renderDecoration(V);this._dimensionsChanged=!1}_renderDecoration(V){this._refreshStyle(V),this._dimensionsChanged&&this._refreshXPosition(V)}_createElement(V){let W=this._coreBrowserService.mainDocument.createElement("div");W.classList.add("xterm-decoration"),W.classList.toggle("xterm-decoration-top-layer",V?.options?.layer==="top"),W.style.width=`${Math.round((V.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,W.style.height=(V.options.height||1)*this._renderService.dimensions.css.cell.height+"px",W.style.top=(V.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",W.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let K=V.options.x??0;return K&&K>this._bufferService.cols&&(W.style.display="none"),this._refreshXPosition(V,W),W}_refreshStyle(V){let W=V.marker.line-this._bufferService.buffers.active.ydisp;if(W<0||W>=this._bufferService.rows)V.element&&(V.element.style.display="none",V.onRenderEmitter.fire(V.element));else{let K=this._decorationElements.get(V);K||(K=this._createElement(V),V.element=K,this._decorationElements.set(V,K),this._container.appendChild(K),V.onDispose(()=>{this._decorationElements.delete(V),K.remove()})),K.style.top=W*this._renderService.dimensions.css.cell.height+"px",K.style.display=this._altBufferIsActive?"none":"block",V.onRenderEmitter.fire(K)}}_refreshXPosition(V,W=V.element){if(!W)return;let K=V.options.x??0;(V.options.anchor||"left")==="right"?W.style.right=K?K*this._renderService.dimensions.css.cell.width+"px":"":W.style.left=K?K*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(V){this._decorationElements.get(V)?.remove(),this._decorationElements.delete(V),V.dispose()}};Z.BufferDecorationRenderer=B=q([U(1,j.IBufferService),U(2,z.ICoreBrowserService),U(3,j.IDecorationService),U(4,z.IRenderService)],B)},5871:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ColorZoneStore=void 0,Z.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(G){if(G.options.overviewRulerOptions){for(let q of this._zones)if(q.color===G.options.overviewRulerOptions.color&&q.position===G.options.overviewRulerOptions.position){if(this._lineIntersectsZone(q,G.marker.line))return;if(this._lineAdjacentToZone(q,G.marker.line,G.options.overviewRulerOptions.position))return void this._addLineToZone(q,G.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=G.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=G.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=G.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=G.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:G.options.overviewRulerOptions.color,position:G.options.overviewRulerOptions.position,startBufferLine:G.marker.line,endBufferLine:G.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(G){this._linePadding=G}_lineIntersectsZone(G,q){return q>=G.startBufferLine&&q<=G.endBufferLine}_lineAdjacentToZone(G,q,U){return q>=G.startBufferLine-this._linePadding[U||"full"]&&q<=G.endBufferLine+this._linePadding[U||"full"]}_addLineToZone(G,q){G.startBufferLine=Math.min(G.startBufferLine,q),G.endBufferLine=Math.max(G.endBufferLine,q)}}},5744:function(Y,Z,G){var q=this&&this.__decorate||function(F,P,R,D){var _,O=arguments.length,N=O<3?P:D===null?D=Object.getOwnPropertyDescriptor(P,R):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(F,P,R,D);else for(var w=F.length-1;w>=0;w--)(_=F[w])&&(N=(O<3?_(N):O>3?_(P,R,N):_(P,R))||N);return O>3&&N&&Object.defineProperty(P,R,N),N},U=this&&this.__param||function(F,P){return function(R,D){P(R,D,F)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.OverviewRulerRenderer=void 0;let z=G(5871),H=G(4725),j=G(844),B=G(2585),V={full:0,left:0,center:0,right:0},W={full:0,left:0,center:0,right:0},K={full:0,left:0,center:0,right:0},A=Z.OverviewRulerRenderer=class extends j.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(F,P,R,D,_,O,N){super(),this._viewportElement=F,this._screenElement=P,this._bufferService=R,this._decorationService=D,this._renderService=_,this._optionsService=O,this._coreBrowserService=N,this._colorZoneStore=new z.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);let w=this._canvas.getContext("2d");if(!w)throw Error("Ctx cannot be null");this._ctx=w,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,j.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){let F=Math.floor(this._canvas.width/3),P=Math.ceil(this._canvas.width/3);W.full=this._canvas.width,W.left=F,W.center=P,W.right=F,this._refreshDrawHeightConstants(),K.full=0,K.left=0,K.center=W.left,K.right=W.left+W.center}_refreshDrawHeightConstants(){V.full=Math.round(2*this._coreBrowserService.dpr);let F=this._canvas.height/this._bufferService.buffer.lines.length,P=Math.round(Math.max(Math.min(F,12),6)*this._coreBrowserService.dpr);V.left=P,V.center=P,V.right=P}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*V.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*V.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*V.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*V.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let P of this._decorationService.decorations)this._colorZoneStore.addDecoration(P);this._ctx.lineWidth=1;let F=this._colorZoneStore.zones;for(let P of F)P.position!=="full"&&this._renderColorZone(P);for(let P of F)P.position==="full"&&this._renderColorZone(P);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(F){this._ctx.fillStyle=F.color,this._ctx.fillRect(K[F.position||"full"],Math.round((this._canvas.height-1)*(F.startBufferLine/this._bufferService.buffers.active.lines.length)-V[F.position||"full"]/2),W[F.position||"full"],Math.round((this._canvas.height-1)*((F.endBufferLine-F.startBufferLine)/this._bufferService.buffers.active.lines.length)+V[F.position||"full"]))}_queueRefresh(F,P){this._shouldUpdateDimensions=F||this._shouldUpdateDimensions,this._shouldUpdateAnchor=P||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};Z.OverviewRulerRenderer=A=q([U(2,B.IBufferService),U(3,B.IDecorationService),U(4,H.IRenderService),U(5,B.IOptionsService),U(6,H.ICoreBrowserService)],A)},2950:function(Y,Z,G){var q=this&&this.__decorate||function(V,W,K,A){var F,P=arguments.length,R=P<3?W:A===null?A=Object.getOwnPropertyDescriptor(W,K):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(V,W,K,A);else for(var D=V.length-1;D>=0;D--)(F=V[D])&&(R=(P<3?F(R):P>3?F(W,K,R):F(W,K))||R);return P>3&&R&&Object.defineProperty(W,K,R),R},U=this&&this.__param||function(V,W){return function(K,A){W(K,A,V)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.CompositionHelper=void 0;let z=G(4725),H=G(2585),j=G(2584),B=Z.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(V,W,K,A,F,P){this._textarea=V,this._compositionView=W,this._bufferService=K,this._optionsService=A,this._coreService=F,this._renderService=P,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(V){this._compositionView.textContent=V.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(V){if(this._isComposing||this._isSendingComposition){if(V.keyCode===229)return!1;if(V.keyCode===16||V.keyCode===17||V.keyCode===18)return!1;this._finalizeComposition(!1)}return V.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(V){if(this._compositionView.classList.remove("active"),this._isComposing=!1,V){let W={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let K;this._isSendingComposition=!1,W.start+=this._dataAlreadySent.length,K=this._isComposing?this._textarea.value.substring(W.start,W.end):this._textarea.value.substring(W.start),K.length>0&&this._coreService.triggerDataEvent(K,!0)}},0)}else{this._isSendingComposition=!1;let W=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(W,!0)}}_handleAnyTextareaChanges(){let V=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let W=this._textarea.value,K=W.replace(V,"");this._dataAlreadySent=K,W.length>V.length?this._coreService.triggerDataEvent(K,!0):W.length<V.length?this._coreService.triggerDataEvent(`${j.C0.DEL}`,!0):W.length===V.length&&W!==V&&this._coreService.triggerDataEvent(W,!0)}},0)}updateCompositionElements(V){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let W=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),K=this._renderService.dimensions.css.cell.height,A=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,F=W*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=F+"px",this._compositionView.style.top=A+"px",this._compositionView.style.height=K+"px",this._compositionView.style.lineHeight=K+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let P=this._compositionView.getBoundingClientRect();this._textarea.style.left=F+"px",this._textarea.style.top=A+"px",this._textarea.style.width=Math.max(P.width,1)+"px",this._textarea.style.height=Math.max(P.height,1)+"px",this._textarea.style.lineHeight=P.height+"px"}V||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Z.CompositionHelper=B=q([U(2,H.IBufferService),U(3,H.IOptionsService),U(4,H.ICoreService),U(5,z.IRenderService)],B)},9806:(Y,Z)=>{function G(q,U,z){let H=z.getBoundingClientRect(),j=q.getComputedStyle(z),B=parseInt(j.getPropertyValue("padding-left")),V=parseInt(j.getPropertyValue("padding-top"));return[U.clientX-H.left-B,U.clientY-H.top-V]}Object.defineProperty(Z,"__esModule",{value:!0}),Z.getCoords=Z.getCoordsRelativeToElement=void 0,Z.getCoordsRelativeToElement=G,Z.getCoords=function(q,U,z,H,j,B,V,W,K){if(!B)return;let A=G(q,U,z);return A?(A[0]=Math.ceil((A[0]+(K?V/2:0))/V),A[1]=Math.ceil(A[1]/W),A[0]=Math.min(Math.max(A[0],1),H+(K?1:0)),A[1]=Math.min(Math.max(A[1],1),j),A):void 0}},9504:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.moveToCellSequence=void 0;let q=G(2584);function U(W,K,A,F){let P=W-z(W,A),R=K-z(K,A),D=Math.abs(P-R)-function(_,O,N){let w=0,T=_-z(_,N),I=O-z(O,N);for(let k=0;k<Math.abs(T-I);k++){let x=H(_,O)==="A"?-1:1;N.buffer.lines.get(T+x*k)?.isWrapped&&w++}return w}(W,K,A);return V(D,B(H(W,K),F))}function z(W,K){let A=0,F=K.buffer.lines.get(W),P=F?.isWrapped;for(;P&&W>=0&&W<K.rows;)A++,F=K.buffer.lines.get(--W),P=F?.isWrapped;return A}function H(W,K){return W>K?"A":"B"}function j(W,K,A,F,P,R){let D=W,_=K,O="";for(;D!==A||_!==F;)D+=P?1:-1,P&&D>R.cols-1?(O+=R.buffer.translateBufferLineToString(_,!1,W,D),D=0,W=0,_++):!P&&D<0&&(O+=R.buffer.translateBufferLineToString(_,!1,0,W+1),D=R.cols-1,W=D,_--);return O+R.buffer.translateBufferLineToString(_,!1,W,D)}function B(W,K){let A=K?"O":"[";return q.C0.ESC+A+W}function V(W,K){W=Math.floor(W);let A="";for(let F=0;F<W;F++)A+=K;return A}Z.moveToCellSequence=function(W,K,A,F){let P=A.buffer.x,R=A.buffer.y;if(!A.buffer.hasScrollback)return function(O,N,w,T,I,k){return U(N,T,I,k).length===0?"":V(j(O,N,O,N-z(N,I),!1,I).length,B("D",k))}(P,R,0,K,A,F)+U(R,K,A,F)+function(O,N,w,T,I,k){let x;x=U(N,T,I,k).length>0?T-z(T,I):N;let S=T,l=function(d,y,b,h,u,$0){let Z0;return Z0=U(b,h,u,$0).length>0?h-z(h,u):y,d<b&&Z0<=h||d>=b&&Z0<h?"C":"D"}(O,N,w,T,I,k);return V(j(O,x,w,S,l==="C",I).length,B(l,k))}(P,R,W,K,A,F);let D;if(R===K)return D=P>W?"D":"C",V(Math.abs(P-W),B(D,F));D=R>K?"D":"C";let _=Math.abs(R-K);return V(function(O,N){return N.cols-O}(R>K?W:P,A)+(_-1)*A.cols+1+((R>K?P:W)-1),B(D,F))}},1296:function(Y,Z,G){var q=this&&this.__decorate||function(k,x,S,l){var d,y=arguments.length,b=y<3?x:l===null?l=Object.getOwnPropertyDescriptor(x,S):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(k,x,S,l);else for(var h=k.length-1;h>=0;h--)(d=k[h])&&(b=(y<3?d(b):y>3?d(x,S,b):d(x,S))||b);return y>3&&b&&Object.defineProperty(x,S,b),b},U=this&&this.__param||function(k,x){return function(S,l){x(S,l,k)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.DomRenderer=void 0;let z=G(3787),H=G(2550),j=G(2223),B=G(6171),V=G(6052),W=G(4725),K=G(8055),A=G(8460),F=G(844),P=G(2585),R="xterm-dom-renderer-owner-",D="xterm-rows",_="xterm-fg-",O="xterm-bg-",N="xterm-focus",w="xterm-selection",T=1,I=Z.DomRenderer=class extends F.Disposable{constructor(k,x,S,l,d,y,b,h,u,$0,Z0,U0,Q0){super(),this._terminal=k,this._document=x,this._element=S,this._screenElement=l,this._viewportElement=d,this._helperContainer=y,this._linkifier2=b,this._charSizeService=u,this._optionsService=$0,this._bufferService=Z0,this._coreBrowserService=U0,this._themeService=Q0,this._terminalClass=T++,this._rowElements=[],this._selectionRenderModel=(0,V.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new A.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(D),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(w),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,B.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors((o)=>this._injectCss(o))),this._injectCss(this._themeService.colors),this._rowFactory=h.createInstance(z.DomRendererRowFactory,document),this._element.classList.add(R+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((o)=>this._handleLinkHover(o))),this.register(this._linkifier2.onHideLinkUnderline((o)=>this._handleLinkLeave(o))),this.register((0,F.toDisposable)(()=>{this._element.classList.remove(R+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new H.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let k=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*k,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*k),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/k),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/k),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let S of this._rowElements)S.style.width=`${this.dimensions.css.canvas.width}px`,S.style.height=`${this.dimensions.css.cell.height}px`,S.style.lineHeight=`${this.dimensions.css.cell.height}px`,S.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let x=`${this._terminalSelector} .${D} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=x,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(k){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let x=`${this._terminalSelector} .${D} { color: ${k.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;x+=`${this._terminalSelector} .${D} .xterm-dim { color: ${K.color.multiplyOpacity(k.foreground,0.5).css};}`,x+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let S=`blink_underline_${this._terminalClass}`,l=`blink_bar_${this._terminalClass}`,d=`blink_block_${this._terminalClass}`;x+=`@keyframes ${S} { 50% {  border-bottom-style: hidden; }}`,x+=`@keyframes ${l} { 50% {  box-shadow: none; }}`,x+=`@keyframes ${d} { 0% {  background-color: ${k.cursor.css};  color: ${k.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${k.cursor.css}; }}`,x+=`${this._terminalSelector} .${D}.${N} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${S} 1s step-end infinite;}${this._terminalSelector} .${D}.${N} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${l} 1s step-end infinite;}${this._terminalSelector} .${D}.${N} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${d} 1s step-end infinite;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-block { background-color: ${k.cursor.css}; color: ${k.cursorAccent.css};}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${k.cursor.css} !important; color: ${k.cursorAccent.css} !important;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${k.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${k.cursor.css} inset;}${this._terminalSelector} .${D} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${k.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,x+=`${this._terminalSelector} .${w} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${w} div { position: absolute; background-color: ${k.selectionBackgroundOpaque.css};}${this._terminalSelector} .${w} div { position: absolute; background-color: ${k.selectionInactiveBackgroundOpaque.css};}`;for(let[y,b]of k.ansi.entries())x+=`${this._terminalSelector} .${_}${y} { color: ${b.css}; }${this._terminalSelector} .${_}${y}.xterm-dim { color: ${K.color.multiplyOpacity(b,0.5).css}; }${this._terminalSelector} .${O}${y} { background-color: ${b.css}; }`;x+=`${this._terminalSelector} .${_}${j.INVERTED_DEFAULT_COLOR} { color: ${K.color.opaque(k.background).css}; }${this._terminalSelector} .${_}${j.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${K.color.multiplyOpacity(K.color.opaque(k.background),0.5).css}; }${this._terminalSelector} .${O}${j.INVERTED_DEFAULT_COLOR} { background-color: ${k.foreground.css}; }`,this._themeStyleElement.textContent=x}_setDefaultSpacing(){let k=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${k}px`,this._rowFactory.defaultSpacing=k}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(k,x){for(let S=this._rowElements.length;S<=x;S++){let l=this._document.createElement("div");this._rowContainer.appendChild(l),this._rowElements.push(l)}for(;this._rowElements.length>x;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(k,x){this._refreshRowElements(k,x),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(N),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(N),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(k,x,S){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(k,x,S),this.renderRows(0,this._bufferService.rows-1),!k||!x)return;this._selectionRenderModel.update(this._terminal,k,x,S);let l=this._selectionRenderModel.viewportStartRow,d=this._selectionRenderModel.viewportEndRow,y=this._selectionRenderModel.viewportCappedStartRow,b=this._selectionRenderModel.viewportCappedEndRow;if(y>=this._bufferService.rows||b<0)return;let h=this._document.createDocumentFragment();if(S){let u=k[0]>x[0];h.appendChild(this._createSelectionElement(y,u?x[0]:k[0],u?k[0]:x[0],b-y+1))}else{let u=l===y?k[0]:0,$0=y===d?x[0]:this._bufferService.cols;h.appendChild(this._createSelectionElement(y,u,$0));let Z0=b-y-1;if(h.appendChild(this._createSelectionElement(y+1,0,this._bufferService.cols,Z0)),y!==b){let U0=d===b?x[0]:this._bufferService.cols;h.appendChild(this._createSelectionElement(b,0,U0))}}this._selectionContainer.appendChild(h)}_createSelectionElement(k,x,S,l=1){let d=this._document.createElement("div"),y=x*this.dimensions.css.cell.width,b=this.dimensions.css.cell.width*(S-x);return y+b>this.dimensions.css.canvas.width&&(b=this.dimensions.css.canvas.width-y),d.style.height=l*this.dimensions.css.cell.height+"px",d.style.top=k*this.dimensions.css.cell.height+"px",d.style.left=`${y}px`,d.style.width=`${b}px`,d}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let k of this._rowElements)k.replaceChildren()}renderRows(k,x){let S=this._bufferService.buffer,l=S.ybase+S.y,d=Math.min(S.x,this._bufferService.cols-1),y=this._optionsService.rawOptions.cursorBlink,b=this._optionsService.rawOptions.cursorStyle,h=this._optionsService.rawOptions.cursorInactiveStyle;for(let u=k;u<=x;u++){let $0=u+S.ydisp,Z0=this._rowElements[u],U0=S.lines.get($0);if(!Z0||!U0)break;Z0.replaceChildren(...this._rowFactory.createRow(U0,$0,$0===l,b,h,d,y,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${R}${this._terminalClass}`}_handleLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_handleLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,x,S,l,d,y){S<0&&(k=0),l<0&&(x=0);let b=this._bufferService.rows-1;S=Math.max(Math.min(S,b),0),l=Math.max(Math.min(l,b),0),d=Math.min(d,this._bufferService.cols);let h=this._bufferService.buffer,u=h.ybase+h.y,$0=Math.min(h.x,d-1),Z0=this._optionsService.rawOptions.cursorBlink,U0=this._optionsService.rawOptions.cursorStyle,Q0=this._optionsService.rawOptions.cursorInactiveStyle;for(let o=S;o<=l;++o){let m=o+h.ydisp,A0=this._rowElements[o],z0=h.lines.get(m);if(!A0||!z0)break;A0.replaceChildren(...this._rowFactory.createRow(z0,m,m===u,U0,Q0,$0,Z0,this.dimensions.css.cell.width,this._widthCache,y?o===S?k:0:-1,y?(o===l?x:d)-1:-1))}}};Z.DomRenderer=I=q([U(7,P.IInstantiationService),U(8,W.ICharSizeService),U(9,P.IOptionsService),U(10,P.IBufferService),U(11,W.ICoreBrowserService),U(12,W.IThemeService)],I)},3787:function(Y,Z,G){var q=this&&this.__decorate||function(D,_,O,N){var w,T=arguments.length,I=T<3?_:N===null?N=Object.getOwnPropertyDescriptor(_,O):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(D,_,O,N);else for(var k=D.length-1;k>=0;k--)(w=D[k])&&(I=(T<3?w(I):T>3?w(_,O,I):w(_,O))||I);return T>3&&I&&Object.defineProperty(_,O,I),I},U=this&&this.__param||function(D,_){return function(O,N){_(O,N,D)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.DomRendererRowFactory=void 0;let z=G(2223),H=G(643),j=G(511),B=G(2585),V=G(8055),W=G(4725),K=G(4269),A=G(6171),F=G(3734),P=Z.DomRendererRowFactory=class{constructor(D,_,O,N,w,T,I){this._document=D,this._characterJoinerService=_,this._optionsService=O,this._coreBrowserService=N,this._coreService=w,this._decorationService=T,this._themeService=I,this._workCell=new j.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(D,_,O){this._selectionStart=D,this._selectionEnd=_,this._columnSelectMode=O}createRow(D,_,O,N,w,T,I,k,x,S,l){let d=[],y=this._characterJoinerService.getJoinedCharacters(_),b=this._themeService.colors,h,u=D.getNoBgTrimmedLength();O&&u<T+1&&(u=T+1);let $0=0,Z0="",U0=0,Q0=0,o=0,m=!1,A0=0,z0=!1,h0=0,N0=[],w1=S!==-1&&l!==-1;for(let R0=0;R0<u;R0++){D.loadCell(R0,this._workCell);let u1=this._workCell.getWidth();if(u1===0)continue;let W6=!1,S6=R0,O1=this._workCell;if(y.length>0&&R0===y[0][0]){W6=!0;let k0=y.shift();O1=new K.JoinedCellData(this._workCell,D.translateToString(!0,k0[0],k0[1]),k0[1]-k0[0]),S6=k0[1]-1,u1=O1.getWidth()}let T6=this._isCellInSelection(R0,_),g1=O&&R0===T,a1=w1&&R0>=S&&R0<=l,t1=!1;this._decorationService.forEachDecorationAtCell(R0,_,void 0,(k0)=>{t1=!0});let e=O1.getChars()||H.WHITESPACE_CELL_CHAR;if(e===" "&&(O1.isUnderline()||O1.isOverline())&&(e=" "),h0=u1*k-x.get(e,O1.isBold(),O1.isItalic()),h){if($0&&(T6&&z0||!T6&&!z0&&O1.bg===U0)&&(T6&&z0&&b.selectionForeground||O1.fg===Q0)&&O1.extended.ext===o&&a1===m&&h0===A0&&!g1&&!W6&&!t1){O1.isInvisible()?Z0+=H.WHITESPACE_CELL_CHAR:Z0+=e,$0++;continue}$0&&(h.textContent=Z0),h=this._document.createElement("span"),$0=0,Z0=""}else h=this._document.createElement("span");if(U0=O1.bg,Q0=O1.fg,o=O1.extended.ext,m=a1,A0=h0,z0=T6,W6&&T>=R0&&T<=S6&&(T=R0),!this._coreService.isCursorHidden&&g1&&this._coreService.isCursorInitialized){if(N0.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&N0.push("xterm-cursor-blink"),N0.push(N==="bar"?"xterm-cursor-bar":N==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(w)switch(w){case"outline":N0.push("xterm-cursor-outline");break;case"block":N0.push("xterm-cursor-block");break;case"bar":N0.push("xterm-cursor-bar");break;case"underline":N0.push("xterm-cursor-underline")}}if(O1.isBold()&&N0.push("xterm-bold"),O1.isItalic()&&N0.push("xterm-italic"),O1.isDim()&&N0.push("xterm-dim"),Z0=O1.isInvisible()?H.WHITESPACE_CELL_CHAR:O1.getChars()||H.WHITESPACE_CELL_CHAR,O1.isUnderline()&&(N0.push(`xterm-underline-${O1.extended.underlineStyle}`),Z0===" "&&(Z0=" "),!O1.isUnderlineColorDefault()))if(O1.isUnderlineColorRGB())h.style.textDecorationColor=`rgb(${F.AttributeData.toColorRGB(O1.getUnderlineColor()).join(",")})`;else{let k0=O1.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&O1.isBold()&&k0<8&&(k0+=8),h.style.textDecorationColor=b.ansi[k0].css}O1.isOverline()&&(N0.push("xterm-overline"),Z0===" "&&(Z0=" ")),O1.isStrikethrough()&&N0.push("xterm-strikethrough"),a1&&(h.style.textDecoration="underline");let n=O1.getFgColor(),J0=O1.getFgColorMode(),C=O1.getBgColor(),c=O1.getBgColorMode(),i=!!O1.isInverse();if(i){let k0=n;n=C,C=k0;let z1=J0;J0=c,c=z1}let a,G0,K0,I0=!1;switch(this._decorationService.forEachDecorationAtCell(R0,_,void 0,(k0)=>{k0.options.layer!=="top"&&I0||(k0.backgroundColorRGB&&(c=50331648,C=k0.backgroundColorRGB.rgba>>8&16777215,a=k0.backgroundColorRGB),k0.foregroundColorRGB&&(J0=50331648,n=k0.foregroundColorRGB.rgba>>8&16777215,G0=k0.foregroundColorRGB),I0=k0.options.layer==="top")}),!I0&&T6&&(a=this._coreBrowserService.isFocused?b.selectionBackgroundOpaque:b.selectionInactiveBackgroundOpaque,C=a.rgba>>8&16777215,c=50331648,I0=!0,b.selectionForeground&&(J0=50331648,n=b.selectionForeground.rgba>>8&16777215,G0=b.selectionForeground)),I0&&N0.push("xterm-decoration-top"),c){case 16777216:case 33554432:K0=b.ansi[C],N0.push(`xterm-bg-${C}`);break;case 50331648:K0=V.channels.toColor(C>>16,C>>8&255,255&C),this._addStyle(h,`background-color:#${R((C>>>0).toString(16),"0",6)}`);break;default:i?(K0=b.foreground,N0.push(`xterm-bg-${z.INVERTED_DEFAULT_COLOR}`)):K0=b.background}switch(a||O1.isDim()&&(a=V.color.multiplyOpacity(K0,0.5)),J0){case 16777216:case 33554432:O1.isBold()&&n<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(n+=8),this._applyMinimumContrast(h,K0,b.ansi[n],O1,a,void 0)||N0.push(`xterm-fg-${n}`);break;case 50331648:let k0=V.channels.toColor(n>>16&255,n>>8&255,255&n);this._applyMinimumContrast(h,K0,k0,O1,a,G0)||this._addStyle(h,`color:#${R(n.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(h,K0,b.foreground,O1,a,G0)||i&&N0.push(`xterm-fg-${z.INVERTED_DEFAULT_COLOR}`)}N0.length&&(h.className=N0.join(" "),N0.length=0),g1||W6||t1?h.textContent=Z0:$0++,h0!==this.defaultSpacing&&(h.style.letterSpacing=`${h0}px`),d.push(h),R0=S6}return h&&$0&&(h.textContent=Z0),d}_applyMinimumContrast(D,_,O,N,w,T){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,A.treatGlyphAsBackgroundColor)(N.getCode()))return!1;let I=this._getContrastCache(N),k;if(w||T||(k=I.getColor(_.rgba,O.rgba)),k===void 0){let x=this._optionsService.rawOptions.minimumContrastRatio/(N.isDim()?2:1);k=V.color.ensureContrastRatio(w||_,T||O,x),I.setColor((w||_).rgba,(T||O).rgba,k??null)}return!!k&&(this._addStyle(D,`color:${k.css}`),!0)}_getContrastCache(D){return D.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(D,_){D.setAttribute("style",`${D.getAttribute("style")||""}${_};`)}_isCellInSelection(D,_){let O=this._selectionStart,N=this._selectionEnd;return!(!O||!N)&&(this._columnSelectMode?O[0]<=N[0]?D>=O[0]&&_>=O[1]&&D<N[0]&&_<=N[1]:D<O[0]&&_>=O[1]&&D>=N[0]&&_<=N[1]:_>O[1]&&_<N[1]||O[1]===N[1]&&_===O[1]&&D>=O[0]&&D<N[0]||O[1]<N[1]&&_===N[1]&&D<N[0]||O[1]<N[1]&&_===O[1]&&D>=O[0])}};function R(D,_,O){for(;D.length<O;)D=_+D;return D}Z.DomRendererRowFactory=P=q([U(1,W.ICharacterJoinerService),U(2,B.IOptionsService),U(3,W.ICoreBrowserService),U(4,B.ICoreService),U(5,B.IDecorationService),U(6,W.IThemeService)],P)},2550:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WidthCache=void 0,Z.WidthCache=class{constructor(G,q){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=G.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let U=G.createElement("span");U.classList.add("xterm-char-measure-element");let z=G.createElement("span");z.classList.add("xterm-char-measure-element"),z.style.fontWeight="bold";let H=G.createElement("span");H.classList.add("xterm-char-measure-element"),H.style.fontStyle="italic";let j=G.createElement("span");j.classList.add("xterm-char-measure-element"),j.style.fontWeight="bold",j.style.fontStyle="italic",this._measureElements=[U,z,H,j],this._container.appendChild(U),this._container.appendChild(z),this._container.appendChild(H),this._container.appendChild(j),q.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(G,q,U,z){G===this._font&&q===this._fontSize&&U===this._weight&&z===this._weightBold||(this._font=G,this._fontSize=q,this._weight=U,this._weightBold=z,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${U}`,this._measureElements[1].style.fontWeight=`${z}`,this._measureElements[2].style.fontWeight=`${U}`,this._measureElements[3].style.fontWeight=`${z}`,this.clear())}get(G,q,U){let z=0;if(!q&&!U&&G.length===1&&(z=G.charCodeAt(0))<256){if(this._flat[z]!==-9999)return this._flat[z];let B=this._measure(G,0);return B>0&&(this._flat[z]=B),B}let H=G;q&&(H+="B"),U&&(H+="I");let j=this._holey.get(H);if(j===void 0){let B=0;q&&(B|=1),U&&(B|=2),j=this._measure(G,B),j>0&&this._holey.set(H,j)}return j}_measure(G,q){let U=this._measureElements[q];return U.textContent=G.repeat(32),U.offsetWidth/32}}},2223:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.TEXT_BASELINE=Z.DIM_OPACITY=Z.INVERTED_DEFAULT_COLOR=void 0;let q=G(6114);Z.INVERTED_DEFAULT_COLOR=257,Z.DIM_OPACITY=0.5,Z.TEXT_BASELINE=q.isFirefox||q.isLegacyEdge?"bottom":"ideographic"},6171:(Y,Z)=>{function G(U){return 57508<=U&&U<=57558}function q(U){return U>=128512&&U<=128591||U>=127744&&U<=128511||U>=128640&&U<=128767||U>=9728&&U<=9983||U>=9984&&U<=10175||U>=65024&&U<=65039||U>=129280&&U<=129535||U>=127462&&U<=127487}Object.defineProperty(Z,"__esModule",{value:!0}),Z.computeNextVariantOffset=Z.createRenderDimensions=Z.treatGlyphAsBackgroundColor=Z.allowRescaling=Z.isEmoji=Z.isRestrictedPowerlineGlyph=Z.isPowerlineGlyph=Z.throwIfFalsy=void 0,Z.throwIfFalsy=function(U){if(!U)throw Error("value must not be falsy");return U},Z.isPowerlineGlyph=G,Z.isRestrictedPowerlineGlyph=function(U){return 57520<=U&&U<=57527},Z.isEmoji=q,Z.allowRescaling=function(U,z,H,j){return z===1&&H>Math.ceil(1.5*j)&&U!==void 0&&U>255&&!q(U)&&!G(U)&&!function(B){return 57344<=B&&B<=63743}(U)},Z.treatGlyphAsBackgroundColor=function(U){return G(U)||function(z){return 9472<=z&&z<=9631}(U)},Z.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},Z.computeNextVariantOffset=function(U,z,H=0){return(U-(2*Math.round(z)-H))%(2*Math.round(z))}},6052:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.createSelectionRenderModel=void 0;class G{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(q,U,z,H=!1){if(this.selectionStart=U,this.selectionEnd=z,!U||!z||U[0]===z[0]&&U[1]===z[1])return void this.clear();let j=q.buffers.active.ydisp,B=U[1]-j,V=z[1]-j,W=Math.max(B,0),K=Math.min(V,q.rows-1);W>=q.rows||K<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=H,this.viewportStartRow=B,this.viewportEndRow=V,this.viewportCappedStartRow=W,this.viewportCappedEndRow=K,this.startCol=U[0],this.endCol=z[0])}isCellSelected(q,U,z){return!!this.hasSelection&&(z-=q.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?U>=this.startCol&&z>=this.viewportCappedStartRow&&U<this.endCol&&z<=this.viewportCappedEndRow:U<this.startCol&&z>=this.viewportCappedStartRow&&U>=this.endCol&&z<=this.viewportCappedEndRow:z>this.viewportStartRow&&z<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&z===this.viewportStartRow&&U>=this.startCol&&U<this.endCol||this.viewportStartRow<this.viewportEndRow&&z===this.viewportEndRow&&U<this.endCol||this.viewportStartRow<this.viewportEndRow&&z===this.viewportStartRow&&U>=this.startCol)}}Z.createSelectionRenderModel=function(){return new G}},456:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SelectionModel=void 0,Z.SelectionModel=class{constructor(G){this._bufferService=G,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let G=this.selectionStart[0]+this.selectionStartLength;return G>this._bufferService.cols?G%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(G/this._bufferService.cols)-1]:[G%this._bufferService.cols,this.selectionStart[1]+Math.floor(G/this._bufferService.cols)]:[G,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let G=this.selectionStart[0]+this.selectionStartLength;return G>this._bufferService.cols?[G%this._bufferService.cols,this.selectionStart[1]+Math.floor(G/this._bufferService.cols)]:[Math.max(G,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let G=this.selectionStart,q=this.selectionEnd;return!(!G||!q)&&(G[1]>q[1]||G[1]===q[1]&&G[0]>q[0])}handleTrim(G){return this.selectionStart&&(this.selectionStart[1]-=G),this.selectionEnd&&(this.selectionEnd[1]-=G),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(Y,Z,G){var q=this&&this.__decorate||function(A,F,P,R){var D,_=arguments.length,O=_<3?F:R===null?R=Object.getOwnPropertyDescriptor(F,P):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(A,F,P,R);else for(var N=A.length-1;N>=0;N--)(D=A[N])&&(O=(_<3?D(O):_>3?D(F,P,O):D(F,P))||O);return _>3&&O&&Object.defineProperty(F,P,O),O},U=this&&this.__param||function(A,F){return function(P,R){F(P,R,A)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.CharSizeService=void 0;let z=G(2585),H=G(8460),j=G(844),B=Z.CharSizeService=class extends j.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(A,F,P){super(),this._optionsService=P,this.width=0,this.height=0,this._onCharSizeChange=this.register(new H.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new K(this._optionsService))}catch{this._measureStrategy=this.register(new W(A,F,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){let A=this._measureStrategy.measure();A.width===this.width&&A.height===this.height||(this.width=A.width,this.height=A.height,this._onCharSizeChange.fire())}};Z.CharSizeService=B=q([U(2,z.IOptionsService)],B);class V extends j.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(A,F){A!==void 0&&A>0&&F!==void 0&&F>0&&(this._result.width=A,this._result.height=F)}}class W extends V{constructor(A,F,P){super(),this._document=A,this._parentElement=F,this._optionsService=P,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class K extends V{constructor(A){super(),this._optionsService=A,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let F=this._ctx.measureText("W");if(!(("width"in F)&&("fontBoundingBoxAscent"in F)&&("fontBoundingBoxDescent"in F)))throw Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let A=this._ctx.measureText("W");return this._validateAndSet(A.width,A.fontBoundingBoxAscent+A.fontBoundingBoxDescent),this._result}}},4269:function(Y,Z,G){var q=this&&this.__decorate||function(K,A,F,P){var R,D=arguments.length,_=D<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,F):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(K,A,F,P);else for(var O=K.length-1;O>=0;O--)(R=K[O])&&(_=(D<3?R(_):D>3?R(A,F,_):R(A,F))||_);return D>3&&_&&Object.defineProperty(A,F,_),_},U=this&&this.__param||function(K,A){return function(F,P){A(F,P,K)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.CharacterJoinerService=Z.JoinedCellData=void 0;let z=G(3734),H=G(643),j=G(511),B=G(2585);class V extends z.AttributeData{constructor(K,A,F){super(),this.content=0,this.combinedData="",this.fg=K.fg,this.bg=K.bg,this.combinedData=A,this._width=F}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(K){throw Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}Z.JoinedCellData=V;let W=Z.CharacterJoinerService=class K{constructor(A){this._bufferService=A,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new j.CellData}register(A){let F={id:this._nextCharacterJoinerId++,handler:A};return this._characterJoiners.push(F),F.id}deregister(A){for(let F=0;F<this._characterJoiners.length;F++)if(this._characterJoiners[F].id===A)return this._characterJoiners.splice(F,1),!0;return!1}getJoinedCharacters(A){if(this._characterJoiners.length===0)return[];let F=this._bufferService.buffer.lines.get(A);if(!F||F.length===0)return[];let P=[],R=F.translateToString(!0),D=0,_=0,O=0,N=F.getFg(0),w=F.getBg(0);for(let T=0;T<F.getTrimmedLength();T++)if(F.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==N||this._workCell.bg!==w){if(T-D>1){let I=this._getJoinedRanges(R,O,_,F,D);for(let k=0;k<I.length;k++)P.push(I[k])}D=T,O=_,N=this._workCell.fg,w=this._workCell.bg}_+=this._workCell.getChars().length||H.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-D>1){let T=this._getJoinedRanges(R,O,_,F,D);for(let I=0;I<T.length;I++)P.push(T[I])}return P}_getJoinedRanges(A,F,P,R,D){let _=A.substring(F,P),O=[];try{O=this._characterJoiners[0].handler(_)}catch(N){console.error(N)}for(let N=1;N<this._characterJoiners.length;N++)try{let w=this._characterJoiners[N].handler(_);for(let T=0;T<w.length;T++)K._mergeRanges(O,w[T])}catch(w){console.error(w)}return this._stringRangesToCellRanges(O,R,D),O}_stringRangesToCellRanges(A,F,P){let R=0,D=!1,_=0,O=A[R];if(O){for(let N=P;N<this._bufferService.cols;N++){let w=F.getWidth(N),T=F.getString(N).length||H.WHITESPACE_CELL_CHAR.length;if(w!==0){if(!D&&O[0]<=_&&(O[0]=N,D=!0),O[1]<=_){if(O[1]=N,O=A[++R],!O)break;O[0]<=_?(O[0]=N,D=!0):D=!1}_+=T}}O&&(O[1]=this._bufferService.cols)}}static _mergeRanges(A,F){let P=!1;for(let R=0;R<A.length;R++){let D=A[R];if(P){if(F[1]<=D[0])return A[R-1][1]=F[1],A;if(F[1]<=D[1])return A[R-1][1]=Math.max(F[1],D[1]),A.splice(R,1),A;A.splice(R,1),R--}else{if(F[1]<=D[0])return A.splice(R,0,F),A;if(F[1]<=D[1])return D[0]=Math.min(F[0],D[0]),A;F[0]<D[1]&&(D[0]=Math.min(F[0],D[0]),P=!0)}}return P?A[A.length-1][1]=F[1]:A.push(F),A}};Z.CharacterJoinerService=W=q([U(0,B.IBufferService)],W)},5114:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CoreBrowserService=void 0;let q=G(844),U=G(8460),z=G(3656);class H extends q.Disposable{constructor(B,V,W){super(),this._textarea=B,this._window=V,this.mainDocument=W,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new j(this._window),this._onDprChange=this.register(new U.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new U.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((K)=>this._screenDprMonitor.setWindow(K))),this.register((0,U.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(B){this._window!==B&&(this._window=B,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}Z.CoreBrowserService=H;class j extends q.Disposable{constructor(B){super(),this._parentWindow=B,this._windowResizeListener=this.register(new q.MutableDisposable),this._onDprChange=this.register(new U.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,q.toDisposable)(()=>this.clearListener()))}setWindow(B){this._parentWindow=B,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,z.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.LinkProviderService=void 0;let q=G(844);class U extends q.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,q.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(z){return this.linkProviders.push(z),{dispose:()=>{let H=this.linkProviders.indexOf(z);H!==-1&&this.linkProviders.splice(H,1)}}}}Z.LinkProviderService=U},8934:function(Y,Z,G){var q=this&&this.__decorate||function(B,V,W,K){var A,F=arguments.length,P=F<3?V:K===null?K=Object.getOwnPropertyDescriptor(V,W):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(B,V,W,K);else for(var R=B.length-1;R>=0;R--)(A=B[R])&&(P=(F<3?A(P):F>3?A(V,W,P):A(V,W))||P);return F>3&&P&&Object.defineProperty(V,W,P),P},U=this&&this.__param||function(B,V){return function(W,K){V(W,K,B)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.MouseService=void 0;let z=G(4725),H=G(9806),j=Z.MouseService=class{constructor(B,V){this._renderService=B,this._charSizeService=V}getCoords(B,V,W,K,A){return(0,H.getCoords)(window,B,V,W,K,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,A)}getMouseReportCoords(B,V){let W=(0,H.getCoordsRelativeToElement)(window,B,V);if(this._charSizeService.hasValidSize)return W[0]=Math.min(Math.max(W[0],0),this._renderService.dimensions.css.canvas.width-1),W[1]=Math.min(Math.max(W[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(W[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(W[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(W[0]),y:Math.floor(W[1])}}};Z.MouseService=j=q([U(0,z.IRenderService),U(1,z.ICharSizeService)],j)},3230:function(Y,Z,G){var q=this&&this.__decorate||function(A,F,P,R){var D,_=arguments.length,O=_<3?F:R===null?R=Object.getOwnPropertyDescriptor(F,P):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(A,F,P,R);else for(var N=A.length-1;N>=0;N--)(D=A[N])&&(O=(_<3?D(O):_>3?D(F,P,O):D(F,P))||O);return _>3&&O&&Object.defineProperty(F,P,O),O},U=this&&this.__param||function(A,F){return function(P,R){F(P,R,A)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.RenderService=void 0;let z=G(6193),H=G(4725),j=G(8460),B=G(844),V=G(7226),W=G(2585),K=Z.RenderService=class extends B.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(A,F,P,R,D,_,O,N){super(),this._rowCount=A,this._charSizeService=R,this._renderer=this.register(new B.MutableDisposable),this._pausedResizeTask=new V.DebouncedIdleTask,this._observerDisposable=this.register(new B.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new j.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new j.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new j.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new j.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new z.RenderDebouncer((w,T)=>this._renderRows(w,T),O),this.register(this._renderDebouncer),this.register(O.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(_.onResize(()=>this._fullRefresh())),this.register(_.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(P.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(D.onDecorationRegistered(()=>this._fullRefresh())),this.register(D.onDecorationRemoved(()=>this._fullRefresh())),this.register(P.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(_.cols,_.rows),this._fullRefresh()})),this.register(P.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(_.buffer.y,_.buffer.y,!0))),this.register(N.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(O.window,F),this.register(O.onWindowChange((w)=>this._registerIntersectionObserver(w,F)))}_registerIntersectionObserver(A,F){if("IntersectionObserver"in A){let P=new A.IntersectionObserver((R)=>this._handleIntersectionChange(R[R.length-1]),{threshold:0});P.observe(F),this._observerDisposable.value=(0,B.toDisposable)(()=>P.disconnect())}}_handleIntersectionChange(A){this._isPaused=A.isIntersecting===void 0?A.intersectionRatio===0:!A.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(A,F,P=!1){this._isPaused?this._needsFullRefresh=!0:(P||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(A,F,this._rowCount))}_renderRows(A,F){this._renderer.value&&(A=Math.min(A,this._rowCount-1),F=Math.min(F,this._rowCount-1),this._renderer.value.renderRows(A,F),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:A,end:F}),this._onRender.fire({start:A,end:F}),this._isNextRenderRedrawOnly=!0)}resize(A,F){this._rowCount=F,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(A){this._renderer.value=A,this._renderer.value&&(this._renderer.value.onRequestRedraw((F)=>this.refreshRows(F.start,F.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(A){return this._renderDebouncer.addRefreshCallback(A)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(A,F){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(A,F)):this._renderer.value.handleResize(A,F),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(A,F,P){this._selectionState.start=A,this._selectionState.end=F,this._selectionState.columnSelectMode=P,this._renderer.value?.handleSelectionChanged(A,F,P)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};Z.RenderService=K=q([U(2,W.IOptionsService),U(3,H.ICharSizeService),U(4,W.IDecorationService),U(5,W.IBufferService),U(6,H.ICoreBrowserService),U(7,H.IThemeService)],K)},9312:function(Y,Z,G){var q=this&&this.__decorate||function(O,N,w,T){var I,k=arguments.length,x=k<3?N:T===null?T=Object.getOwnPropertyDescriptor(N,w):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(O,N,w,T);else for(var S=O.length-1;S>=0;S--)(I=O[S])&&(x=(k<3?I(x):k>3?I(N,w,x):I(N,w))||x);return k>3&&x&&Object.defineProperty(N,w,x),x},U=this&&this.__param||function(O,N){return function(w,T){N(w,T,O)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.SelectionService=void 0;let z=G(9806),H=G(9504),j=G(456),B=G(4725),V=G(8460),W=G(844),K=G(6114),A=G(4841),F=G(511),P=G(2585),R=String.fromCharCode(160),D=new RegExp(R,"g"),_=Z.SelectionService=class extends W.Disposable{constructor(O,N,w,T,I,k,x,S,l){super(),this._element=O,this._screenElement=N,this._linkifier=w,this._bufferService=T,this._coreService=I,this._mouseService=k,this._optionsService=x,this._renderService=S,this._coreBrowserService=l,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new F.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new V.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new V.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new V.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new V.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=(d)=>this._handleMouseMove(d),this._mouseUpListener=(d)=>this._handleMouseUp(d),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim((d)=>this._handleTrim(d)),this.register(this._bufferService.buffers.onBufferActivate((d)=>this._handleBufferActivate(d))),this.enable(),this._model=new j.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,W.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let O=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!O||!N||O[0]===N[0]&&O[1]===N[1])}get selectionText(){let O=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;if(!O||!N)return"";let w=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(O[0]===N[0])return"";let I=O[0]<N[0]?O[0]:N[0],k=O[0]<N[0]?N[0]:O[0];for(let x=O[1];x<=N[1];x++){let S=w.translateBufferLineToString(x,!0,I,k);T.push(S)}}else{let I=O[1]===N[1]?N[0]:void 0;T.push(w.translateBufferLineToString(O[1],!0,O[0],I));for(let k=O[1]+1;k<=N[1]-1;k++){let x=w.lines.get(k),S=w.translateBufferLineToString(k,!0);x?.isWrapped?T[T.length-1]+=S:T.push(S)}if(O[1]!==N[1]){let k=w.lines.get(N[1]),x=w.translateBufferLineToString(N[1],!0,0,N[0]);k&&k.isWrapped?T[T.length-1]+=x:T.push(x)}}return T.map((I)=>I.replace(D," ")).join(K.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(O){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),K.isLinux&&O&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(O){let N=this._getMouseBufferCoords(O),w=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(w&&T&&N)&&this._areCoordsInSelection(N,w,T)}isCellInSelection(O,N){let w=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!w||!T)&&this._areCoordsInSelection([O,N],w,T)}_areCoordsInSelection(O,N,w){return O[1]>N[1]&&O[1]<w[1]||N[1]===w[1]&&O[1]===N[1]&&O[0]>=N[0]&&O[0]<w[0]||N[1]<w[1]&&O[1]===w[1]&&O[0]<w[0]||N[1]<w[1]&&O[1]===N[1]&&O[0]>=N[0]}_selectWordAtCursor(O,N){let w=this._linkifier.currentLink?.link?.range;if(w)return this._model.selectionStart=[w.start.x-1,w.start.y-1],this._model.selectionStartLength=(0,A.getRangeLength)(w,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let T=this._getMouseBufferCoords(O);return!!T&&(this._selectWordAt(T,N),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(O,N){this._model.clearSelection(),O=Math.max(O,0),N=Math.min(N,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,O],this._model.selectionEnd=[this._bufferService.cols,N],this.refresh(),this._onSelectionChange.fire()}_handleTrim(O){this._model.handleTrim(O)&&this.refresh()}_getMouseBufferCoords(O){let N=this._mouseService.getCoords(O,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(N)return N[0]--,N[1]--,N[1]+=this._bufferService.buffer.ydisp,N}_getMouseEventScrollAmount(O){let N=(0,z.getCoordsRelativeToElement)(this._coreBrowserService.window,O,this._screenElement)[1],w=this._renderService.dimensions.css.canvas.height;return N>=0&&N<=w?0:(N>w&&(N-=w),N=Math.min(Math.max(N,-50),50),N/=50,N/Math.abs(N)+Math.round(14*N))}shouldForceSelection(O){return K.isMac?O.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:O.shiftKey}handleMouseDown(O){if(this._mouseDownTimeStamp=O.timeStamp,(O.button!==2||!this.hasSelection)&&O.button===0){if(!this._enabled){if(!this.shouldForceSelection(O))return;O.stopPropagation()}O.preventDefault(),this._dragScrollAmount=0,this._enabled&&O.shiftKey?this._handleIncrementalClick(O):O.detail===1?this._handleSingleClick(O):O.detail===2?this._handleDoubleClick(O):O.detail===3&&this._handleTripleClick(O),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(O){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(O))}_handleSingleClick(O){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(O)?3:0,this._model.selectionStart=this._getMouseBufferCoords(O),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let N=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);N&&N.length!==this._model.selectionStart[0]&&N.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(O){this._selectWordAtCursor(O,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(O){let N=this._getMouseBufferCoords(O);N&&(this._activeSelectionMode=2,this._selectLineAt(N[1]))}shouldColumnSelect(O){return O.altKey&&!(K.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(O){if(O.stopImmediatePropagation(),!this._model.selectionStart)return;let N=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(O),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(O),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let w=this._bufferService.buffer;if(this._model.selectionEnd[1]<w.lines.length){let T=w.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}N&&N[0]===this._model.selectionEnd[0]&&N[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let O=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(O.ydisp+this._bufferService.rows,O.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=O.ydisp),this.refresh()}}_handleMouseUp(O){let N=O.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&N<500&&O.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let w=this._mouseService.getCoords(O,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(w&&w[0]!==void 0&&w[1]!==void 0){let T=(0,H.moveToCellSequence)(w[0]-1,w[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let O=this._model.finalSelectionStart,N=this._model.finalSelectionEnd,w=!(!O||!N||O[0]===N[0]&&O[1]===N[1]);w?O&&N&&(this._oldSelectionStart&&this._oldSelectionEnd&&O[0]===this._oldSelectionStart[0]&&O[1]===this._oldSelectionStart[1]&&N[0]===this._oldSelectionEnd[0]&&N[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(O,N,w)):this._oldHasSelection&&this._fireOnSelectionChange(O,N,w)}_fireOnSelectionChange(O,N,w){this._oldSelectionStart=O,this._oldSelectionEnd=N,this._oldHasSelection=w,this._onSelectionChange.fire()}_handleBufferActivate(O){this.clearSelection(),this._trimListener.dispose(),this._trimListener=O.activeBuffer.lines.onTrim((N)=>this._handleTrim(N))}_convertViewportColToCharacterIndex(O,N){let w=N;for(let T=0;N>=T;T++){let I=O.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?w--:I>1&&N!==T&&(w+=I-1)}return w}setSelection(O,N,w){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[O,N],this._model.selectionStartLength=w,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(O){this._isClickInSelection(O)||(this._selectWordAtCursor(O,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(O,N,w=!0,T=!0){if(O[0]>=this._bufferService.cols)return;let I=this._bufferService.buffer,k=I.lines.get(O[1]);if(!k)return;let x=I.translateBufferLineToString(O[1],!1),S=this._convertViewportColToCharacterIndex(k,O[0]),l=S,d=O[0]-S,y=0,b=0,h=0,u=0;if(x.charAt(S)===" "){for(;S>0&&x.charAt(S-1)===" ";)S--;for(;l<x.length&&x.charAt(l+1)===" ";)l++}else{let U0=O[0],Q0=O[0];k.getWidth(U0)===0&&(y++,U0--),k.getWidth(Q0)===2&&(b++,Q0++);let o=k.getString(Q0).length;for(o>1&&(u+=o-1,l+=o-1);U0>0&&S>0&&!this._isCharWordSeparator(k.loadCell(U0-1,this._workCell));){k.loadCell(U0-1,this._workCell);let m=this._workCell.getChars().length;this._workCell.getWidth()===0?(y++,U0--):m>1&&(h+=m-1,S-=m-1),S--,U0--}for(;Q0<k.length&&l+1<x.length&&!this._isCharWordSeparator(k.loadCell(Q0+1,this._workCell));){k.loadCell(Q0+1,this._workCell);let m=this._workCell.getChars().length;this._workCell.getWidth()===2?(b++,Q0++):m>1&&(u+=m-1,l+=m-1),l++,Q0++}}l++;let $0=S+d-y+h,Z0=Math.min(this._bufferService.cols,l-S+y+b-h-u);if(N||x.slice(S,l).trim()!==""){if(w&&$0===0&&k.getCodePoint(0)!==32){let U0=I.lines.get(O[1]-1);if(U0&&k.isWrapped&&U0.getCodePoint(this._bufferService.cols-1)!==32){let Q0=this._getWordAt([this._bufferService.cols-1,O[1]-1],!1,!0,!1);if(Q0){let o=this._bufferService.cols-Q0.start;$0-=o,Z0+=o}}}if(T&&$0+Z0===this._bufferService.cols&&k.getCodePoint(this._bufferService.cols-1)!==32){let U0=I.lines.get(O[1]+1);if(U0?.isWrapped&&U0.getCodePoint(0)!==32){let Q0=this._getWordAt([0,O[1]+1],!1,!1,!0);Q0&&(Z0+=Q0.length)}}return{start:$0,length:Z0}}}_selectWordAt(O,N){let w=this._getWordAt(O,N);if(w){for(;w.start<0;)w.start+=this._bufferService.cols,O[1]--;this._model.selectionStart=[w.start,O[1]],this._model.selectionStartLength=w.length}}_selectToWordAt(O){let N=this._getWordAt(O,!0);if(N){let w=O[1];for(;N.start<0;)N.start+=this._bufferService.cols,w--;if(!this._model.areSelectionValuesReversed())for(;N.start+N.length>this._bufferService.cols;)N.length-=this._bufferService.cols,w++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?N.start:N.start+N.length,w]}}_isCharWordSeparator(O){return O.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(O.getChars())>=0}_selectLineAt(O){let N=this._bufferService.buffer.getWrappedRangeForLine(O),w={start:{x:0,y:N.first},end:{x:this._bufferService.cols-1,y:N.last}};this._model.selectionStart=[0,N.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,A.getRangeLength)(w,this._bufferService.cols)}};Z.SelectionService=_=q([U(3,P.IBufferService),U(4,P.ICoreService),U(5,B.IMouseService),U(6,P.IOptionsService),U(7,B.IRenderService),U(8,B.ICoreBrowserService)],_)},4725:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ILinkProviderService=Z.IThemeService=Z.ICharacterJoinerService=Z.ISelectionService=Z.IRenderService=Z.IMouseService=Z.ICoreBrowserService=Z.ICharSizeService=void 0;let q=G(8343);Z.ICharSizeService=(0,q.createDecorator)("CharSizeService"),Z.ICoreBrowserService=(0,q.createDecorator)("CoreBrowserService"),Z.IMouseService=(0,q.createDecorator)("MouseService"),Z.IRenderService=(0,q.createDecorator)("RenderService"),Z.ISelectionService=(0,q.createDecorator)("SelectionService"),Z.ICharacterJoinerService=(0,q.createDecorator)("CharacterJoinerService"),Z.IThemeService=(0,q.createDecorator)("ThemeService"),Z.ILinkProviderService=(0,q.createDecorator)("LinkProviderService")},6731:function(Y,Z,G){var q=this&&this.__decorate||function(_,O,N,w){var T,I=arguments.length,k=I<3?O:w===null?w=Object.getOwnPropertyDescriptor(O,N):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(_,O,N,w);else for(var x=_.length-1;x>=0;x--)(T=_[x])&&(k=(I<3?T(k):I>3?T(O,N,k):T(O,N))||k);return I>3&&k&&Object.defineProperty(O,N,k),k},U=this&&this.__param||function(_,O){return function(N,w){O(N,w,_)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.ThemeService=Z.DEFAULT_ANSI_COLORS=void 0;let z=G(7239),H=G(8055),j=G(8460),B=G(844),V=G(2585),W=H.css.toColor("#ffffff"),K=H.css.toColor("#000000"),A=H.css.toColor("#ffffff"),F=H.css.toColor("#000000"),P={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};Z.DEFAULT_ANSI_COLORS=Object.freeze((()=>{let _=[H.css.toColor("#2e3436"),H.css.toColor("#cc0000"),H.css.toColor("#4e9a06"),H.css.toColor("#c4a000"),H.css.toColor("#3465a4"),H.css.toColor("#75507b"),H.css.toColor("#06989a"),H.css.toColor("#d3d7cf"),H.css.toColor("#555753"),H.css.toColor("#ef2929"),H.css.toColor("#8ae234"),H.css.toColor("#fce94f"),H.css.toColor("#729fcf"),H.css.toColor("#ad7fa8"),H.css.toColor("#34e2e2"),H.css.toColor("#eeeeec")],O=[0,95,135,175,215,255];for(let N=0;N<216;N++){let w=O[N/36%6|0],T=O[N/6%6|0],I=O[N%6];_.push({css:H.channels.toCss(w,T,I),rgba:H.channels.toRgba(w,T,I)})}for(let N=0;N<24;N++){let w=8+10*N;_.push({css:H.channels.toCss(w,w,w),rgba:H.channels.toRgba(w,w,w)})}return _})());let R=Z.ThemeService=class extends B.Disposable{get colors(){return this._colors}constructor(_){super(),this._optionsService=_,this._contrastCache=new z.ColorContrastCache,this._halfContrastCache=new z.ColorContrastCache,this._onChangeColors=this.register(new j.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:W,background:K,cursor:A,cursorAccent:F,selectionForeground:void 0,selectionBackgroundTransparent:P,selectionBackgroundOpaque:H.color.blend(K,P),selectionInactiveBackgroundTransparent:P,selectionInactiveBackgroundOpaque:H.color.blend(K,P),ansi:Z.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(_={}){let O=this._colors;if(O.foreground=D(_.foreground,W),O.background=D(_.background,K),O.cursor=D(_.cursor,A),O.cursorAccent=D(_.cursorAccent,F),O.selectionBackgroundTransparent=D(_.selectionBackground,P),O.selectionBackgroundOpaque=H.color.blend(O.background,O.selectionBackgroundTransparent),O.selectionInactiveBackgroundTransparent=D(_.selectionInactiveBackground,O.selectionBackgroundTransparent),O.selectionInactiveBackgroundOpaque=H.color.blend(O.background,O.selectionInactiveBackgroundTransparent),O.selectionForeground=_.selectionForeground?D(_.selectionForeground,H.NULL_COLOR):void 0,O.selectionForeground===H.NULL_COLOR&&(O.selectionForeground=void 0),H.color.isOpaque(O.selectionBackgroundTransparent))O.selectionBackgroundTransparent=H.color.opacity(O.selectionBackgroundTransparent,0.3);if(H.color.isOpaque(O.selectionInactiveBackgroundTransparent))O.selectionInactiveBackgroundTransparent=H.color.opacity(O.selectionInactiveBackgroundTransparent,0.3);if(O.ansi=Z.DEFAULT_ANSI_COLORS.slice(),O.ansi[0]=D(_.black,Z.DEFAULT_ANSI_COLORS[0]),O.ansi[1]=D(_.red,Z.DEFAULT_ANSI_COLORS[1]),O.ansi[2]=D(_.green,Z.DEFAULT_ANSI_COLORS[2]),O.ansi[3]=D(_.yellow,Z.DEFAULT_ANSI_COLORS[3]),O.ansi[4]=D(_.blue,Z.DEFAULT_ANSI_COLORS[4]),O.ansi[5]=D(_.magenta,Z.DEFAULT_ANSI_COLORS[5]),O.ansi[6]=D(_.cyan,Z.DEFAULT_ANSI_COLORS[6]),O.ansi[7]=D(_.white,Z.DEFAULT_ANSI_COLORS[7]),O.ansi[8]=D(_.brightBlack,Z.DEFAULT_ANSI_COLORS[8]),O.ansi[9]=D(_.brightRed,Z.DEFAULT_ANSI_COLORS[9]),O.ansi[10]=D(_.brightGreen,Z.DEFAULT_ANSI_COLORS[10]),O.ansi[11]=D(_.brightYellow,Z.DEFAULT_ANSI_COLORS[11]),O.ansi[12]=D(_.brightBlue,Z.DEFAULT_ANSI_COLORS[12]),O.ansi[13]=D(_.brightMagenta,Z.DEFAULT_ANSI_COLORS[13]),O.ansi[14]=D(_.brightCyan,Z.DEFAULT_ANSI_COLORS[14]),O.ansi[15]=D(_.brightWhite,Z.DEFAULT_ANSI_COLORS[15]),_.extendedAnsi){let N=Math.min(O.ansi.length-16,_.extendedAnsi.length);for(let w=0;w<N;w++)O.ansi[w+16]=D(_.extendedAnsi[w],Z.DEFAULT_ANSI_COLORS[w+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(_){this._restoreColor(_),this._onChangeColors.fire(this.colors)}_restoreColor(_){if(_!==void 0)switch(_){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[_]=this._restoreColors.ansi[_]}else for(let O=0;O<this._restoreColors.ansi.length;++O)this._colors.ansi[O]=this._restoreColors.ansi[O]}modifyColors(_){_(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function D(_,O){if(_!==void 0)try{return H.css.toColor(_)}catch{}return O}Z.ThemeService=R=q([U(0,V.IOptionsService)],R)},6349:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CircularList=void 0;let q=G(8460),U=G(844);class z extends U.Disposable{constructor(H){super(),this._maxLength=H,this.onDeleteEmitter=this.register(new q.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new q.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new q.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(H){if(this._maxLength===H)return;let j=Array(H);for(let B=0;B<Math.min(H,this.length);B++)j[B]=this._array[this._getCyclicIndex(B)];this._array=j,this._maxLength=H,this._startIndex=0}get length(){return this._length}set length(H){if(H>this._length)for(let j=this._length;j<H;j++)this._array[j]=void 0;this._length=H}get(H){return this._array[this._getCyclicIndex(H)]}set(H,j){this._array[this._getCyclicIndex(H)]=j}push(H){this._array[this._getCyclicIndex(this._length)]=H,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(H,j,...B){if(j){for(let V=H;V<this._length-j;V++)this._array[this._getCyclicIndex(V)]=this._array[this._getCyclicIndex(V+j)];this._length-=j,this.onDeleteEmitter.fire({index:H,amount:j})}for(let V=this._length-1;V>=H;V--)this._array[this._getCyclicIndex(V+B.length)]=this._array[this._getCyclicIndex(V)];for(let V=0;V<B.length;V++)this._array[this._getCyclicIndex(H+V)]=B[V];if(B.length&&this.onInsertEmitter.fire({index:H,amount:B.length}),this._length+B.length>this._maxLength){let V=this._length+B.length-this._maxLength;this._startIndex+=V,this._length=this._maxLength,this.onTrimEmitter.fire(V)}else this._length+=B.length}trimStart(H){H>this._length&&(H=this._length),this._startIndex+=H,this._length-=H,this.onTrimEmitter.fire(H)}shiftElements(H,j,B){if(!(j<=0)){if(H<0||H>=this._length)throw Error("start argument out of range");if(H+B<0)throw Error("Cannot shift elements in list beyond index 0");if(B>0){for(let W=j-1;W>=0;W--)this.set(H+W+B,this.get(H+W));let V=H+j+B-this._length;if(V>0)for(this._length+=V;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let V=0;V<j;V++)this.set(H+V+B,this.get(H+V))}}_getCyclicIndex(H){return(this._startIndex+H)%this._maxLength}}Z.CircularList=z},1439:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.clone=void 0,Z.clone=function G(q,U=5){if(typeof q!="object")return q;let z=Array.isArray(q)?[]:{};for(let H in q)z[H]=U<=1?q[H]:q[H]&&G(q[H],U-1);return z}},8055:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.contrastRatio=Z.toPaddedHex=Z.rgba=Z.rgb=Z.css=Z.color=Z.channels=Z.NULL_COLOR=void 0;let G=0,q=0,U=0,z=0;var H,j,B,V,W;function K(F){let P=F.toString(16);return P.length<2?"0"+P:P}function A(F,P){return F<P?(P+0.05)/(F+0.05):(F+0.05)/(P+0.05)}Z.NULL_COLOR={css:"#00000000",rgba:0},function(F){F.toCss=function(P,R,D,_){return _!==void 0?`#${K(P)}${K(R)}${K(D)}${K(_)}`:`#${K(P)}${K(R)}${K(D)}`},F.toRgba=function(P,R,D,_=255){return(P<<24|R<<16|D<<8|_)>>>0},F.toColor=function(P,R,D,_){return{css:F.toCss(P,R,D,_),rgba:F.toRgba(P,R,D,_)}}}(H||(Z.channels=H={})),function(F){function P(R,D){return z=Math.round(255*D),[G,q,U]=W.toChannels(R.rgba),{css:H.toCss(G,q,U,z),rgba:H.toRgba(G,q,U,z)}}F.blend=function(R,D){if(z=(255&D.rgba)/255,z===1)return{css:D.css,rgba:D.rgba};let _=D.rgba>>24&255,O=D.rgba>>16&255,N=D.rgba>>8&255,w=R.rgba>>24&255,T=R.rgba>>16&255,I=R.rgba>>8&255;return G=w+Math.round((_-w)*z),q=T+Math.round((O-T)*z),U=I+Math.round((N-I)*z),{css:H.toCss(G,q,U),rgba:H.toRgba(G,q,U)}},F.isOpaque=function(R){return(255&R.rgba)==255},F.ensureContrastRatio=function(R,D,_){let O=W.ensureContrastRatio(R.rgba,D.rgba,_);if(O)return H.toColor(O>>24&255,O>>16&255,O>>8&255)},F.opaque=function(R){let D=(255|R.rgba)>>>0;return[G,q,U]=W.toChannels(D),{css:H.toCss(G,q,U),rgba:D}},F.opacity=P,F.multiplyOpacity=function(R,D){return z=255&R.rgba,P(R,z*D/255)},F.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}}(j||(Z.color=j={})),function(F){let P,R;try{let D=document.createElement("canvas");D.width=1,D.height=1;let _=D.getContext("2d",{willReadFrequently:!0});_&&(P=_,P.globalCompositeOperation="copy",R=P.createLinearGradient(0,0,1,1))}catch{}F.toColor=function(D){if(D.match(/#[\da-f]{3,8}/i))switch(D.length){case 4:return G=parseInt(D.slice(1,2).repeat(2),16),q=parseInt(D.slice(2,3).repeat(2),16),U=parseInt(D.slice(3,4).repeat(2),16),H.toColor(G,q,U);case 5:return G=parseInt(D.slice(1,2).repeat(2),16),q=parseInt(D.slice(2,3).repeat(2),16),U=parseInt(D.slice(3,4).repeat(2),16),z=parseInt(D.slice(4,5).repeat(2),16),H.toColor(G,q,U,z);case 7:return{css:D,rgba:(parseInt(D.slice(1),16)<<8|255)>>>0};case 9:return{css:D,rgba:parseInt(D.slice(1),16)>>>0}}let _=D.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(_)return G=parseInt(_[1]),q=parseInt(_[2]),U=parseInt(_[3]),z=Math.round(255*(_[5]===void 0?1:parseFloat(_[5]))),H.toColor(G,q,U,z);if(!P||!R)throw Error("css.toColor: Unsupported css format");if(P.fillStyle=R,P.fillStyle=D,typeof P.fillStyle!="string")throw Error("css.toColor: Unsupported css format");if(P.fillRect(0,0,1,1),[G,q,U,z]=P.getImageData(0,0,1,1).data,z!==255)throw Error("css.toColor: Unsupported css format");return{rgba:H.toRgba(G,q,U,z),css:D}}}(B||(Z.css=B={})),function(F){function P(R,D,_){let O=R/255,N=D/255,w=_/255;return 0.2126*(O<=0.03928?O/12.92:Math.pow((O+0.055)/1.055,2.4))+0.7152*(N<=0.03928?N/12.92:Math.pow((N+0.055)/1.055,2.4))+0.0722*(w<=0.03928?w/12.92:Math.pow((w+0.055)/1.055,2.4))}F.relativeLuminance=function(R){return P(R>>16&255,R>>8&255,255&R)},F.relativeLuminance2=P}(V||(Z.rgb=V={})),function(F){function P(D,_,O){let N=D>>24&255,w=D>>16&255,T=D>>8&255,I=_>>24&255,k=_>>16&255,x=_>>8&255,S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));for(;S<O&&(I>0||k>0||x>0);)I-=Math.max(0,Math.ceil(0.1*I)),k-=Math.max(0,Math.ceil(0.1*k)),x-=Math.max(0,Math.ceil(0.1*x)),S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));return(I<<24|k<<16|x<<8|255)>>>0}function R(D,_,O){let N=D>>24&255,w=D>>16&255,T=D>>8&255,I=_>>24&255,k=_>>16&255,x=_>>8&255,S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));for(;S<O&&(I<255||k<255||x<255);)I=Math.min(255,I+Math.ceil(0.1*(255-I))),k=Math.min(255,k+Math.ceil(0.1*(255-k))),x=Math.min(255,x+Math.ceil(0.1*(255-x))),S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));return(I<<24|k<<16|x<<8|255)>>>0}F.blend=function(D,_){if(z=(255&_)/255,z===1)return _;let O=_>>24&255,N=_>>16&255,w=_>>8&255,T=D>>24&255,I=D>>16&255,k=D>>8&255;return G=T+Math.round((O-T)*z),q=I+Math.round((N-I)*z),U=k+Math.round((w-k)*z),H.toRgba(G,q,U)},F.ensureContrastRatio=function(D,_,O){let N=V.relativeLuminance(D>>8),w=V.relativeLuminance(_>>8);if(A(N,w)<O){if(w<N){let k=P(D,_,O),x=A(N,V.relativeLuminance(k>>8));if(x<O){let S=R(D,_,O);return x>A(N,V.relativeLuminance(S>>8))?k:S}return k}let T=R(D,_,O),I=A(N,V.relativeLuminance(T>>8));if(I<O){let k=P(D,_,O);return I>A(N,V.relativeLuminance(k>>8))?T:k}return T}},F.reduceLuminance=P,F.increaseLuminance=R,F.toChannels=function(D){return[D>>24&255,D>>16&255,D>>8&255,255&D]}}(W||(Z.rgba=W={})),Z.toPaddedHex=K,Z.contrastRatio=A},8969:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CoreTerminal=void 0;let q=G(844),U=G(2585),z=G(4348),H=G(7866),j=G(744),B=G(7302),V=G(6975),W=G(8460),K=G(1753),A=G(1480),F=G(7994),P=G(9282),R=G(5435),D=G(5981),_=G(2660),O=!1;class N extends q.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new W.EventEmitter),this._onScroll.event((w)=>{this._onScrollApi?.fire(w.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(w){for(let T in w)this.optionsService.options[T]=w[T]}constructor(w){super(),this._windowsWrappingHeuristics=this.register(new q.MutableDisposable),this._onBinary=this.register(new W.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new W.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new W.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new W.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new W.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new W.EventEmitter),this._instantiationService=new z.InstantiationService,this.optionsService=this.register(new B.OptionsService(w)),this._instantiationService.setService(U.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(j.BufferService)),this._instantiationService.setService(U.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(H.LogService)),this._instantiationService.setService(U.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(V.CoreService)),this._instantiationService.setService(U.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(K.CoreMouseService)),this._instantiationService.setService(U.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(A.UnicodeService)),this._instantiationService.setService(U.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(F.CharsetService),this._instantiationService.setService(U.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(_.OscLinkService),this._instantiationService.setService(U.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new R.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,W.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,W.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,W.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,W.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll((T)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll((T)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new D.WriteBuffer((T,I)=>this._inputHandler.parse(T,I))),this.register((0,W.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(w,T){this._writeBuffer.write(w,T)}writeSync(w,T){this._logService.logLevel<=U.LogLevelEnum.WARN&&!O&&(this._logService.warn("writeSync is unreliable and will be removed soon."),O=!0),this._writeBuffer.writeSync(w,T)}input(w,T=!0){this.coreService.triggerDataEvent(w,T)}resize(w,T){isNaN(w)||isNaN(T)||(w=Math.max(w,j.MINIMUM_COLS),T=Math.max(T,j.MINIMUM_ROWS),this._bufferService.resize(w,T))}scroll(w,T=!1){this._bufferService.scroll(w,T)}scrollLines(w,T,I){this._bufferService.scrollLines(w,T,I)}scrollPages(w){this.scrollLines(w*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(w){let T=w-this._bufferService.buffer.ydisp;T!==0&&this.scrollLines(T)}registerEscHandler(w,T){return this._inputHandler.registerEscHandler(w,T)}registerDcsHandler(w,T){return this._inputHandler.registerDcsHandler(w,T)}registerCsiHandler(w,T){return this._inputHandler.registerCsiHandler(w,T)}registerOscHandler(w,T){return this._inputHandler.registerOscHandler(w,T)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let w=!1,T=this.optionsService.rawOptions.windowsPty;T&&T.buildNumber!==void 0&&T.buildNumber!==void 0?w=T.backend==="conpty"&&T.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(w=!0),w?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let w=[];w.push(this.onLineFeed(P.updateWindowsModeWrappedState.bind(null,this._bufferService))),w.push(this.registerCsiHandler({final:"H"},()=>((0,P.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,q.toDisposable)(()=>{for(let T of w)T.dispose()})}}}Z.CoreTerminal=N},8460:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.runAndSubscribe=Z.forwardEvent=Z.EventEmitter=void 0,Z.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(G)=>(this._listeners.push(G),{dispose:()=>{if(!this._disposed){for(let q=0;q<this._listeners.length;q++)if(this._listeners[q]===G)return void this._listeners.splice(q,1)}}})),this._event}fire(G,q){let U=[];for(let z=0;z<this._listeners.length;z++)U.push(this._listeners[z]);for(let z=0;z<U.length;z++)U[z].call(void 0,G,q)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},Z.forwardEvent=function(G,q){return G((U)=>q.fire(U))},Z.runAndSubscribe=function(G,q){return q(void 0),G((U)=>q(U))}},5435:function(Y,Z,G){var q=this&&this.__decorate||function(y,b,h,u){var $0,Z0=arguments.length,U0=Z0<3?b:u===null?u=Object.getOwnPropertyDescriptor(b,h):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U0=Reflect.decorate(y,b,h,u);else for(var Q0=y.length-1;Q0>=0;Q0--)($0=y[Q0])&&(U0=(Z0<3?$0(U0):Z0>3?$0(b,h,U0):$0(b,h))||U0);return Z0>3&&U0&&Object.defineProperty(b,h,U0),U0},U=this&&this.__param||function(y,b){return function(h,u){b(h,u,y)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.InputHandler=Z.WindowsOptionsReportType=void 0;let z=G(2584),H=G(7116),j=G(2015),B=G(844),V=G(482),W=G(8437),K=G(8460),A=G(643),F=G(511),P=G(3734),R=G(2585),D=G(1480),_=G(6242),O=G(6351),N=G(5941),w={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function I(y,b){if(y>24)return b.setWinLines||!1;switch(y){case 1:return!!b.restoreWin;case 2:return!!b.minimizeWin;case 3:return!!b.setWinPosition;case 4:return!!b.setWinSizePixels;case 5:return!!b.raiseWin;case 6:return!!b.lowerWin;case 7:return!!b.refreshWin;case 8:return!!b.setWinSizeChars;case 9:return!!b.maximizeWin;case 10:return!!b.fullscreenWin;case 11:return!!b.getWinState;case 13:return!!b.getWinPosition;case 14:return!!b.getWinSizePixels;case 15:return!!b.getScreenSizePixels;case 16:return!!b.getCellSizePixels;case 18:return!!b.getWinSizeChars;case 19:return!!b.getScreenSizeChars;case 20:return!!b.getIconTitle;case 21:return!!b.getWinTitle;case 22:return!!b.pushTitle;case 23:return!!b.popTitle;case 24:return!!b.setWinLines}return!1}var k;(function(y){y[y.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",y[y.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(k||(Z.WindowsOptionsReportType=k={}));let x=0;class S extends B.Disposable{getAttrData(){return this._curAttrData}constructor(y,b,h,u,$0,Z0,U0,Q0,o=new j.EscapeSequenceParser){super(),this._bufferService=y,this._charsetService=b,this._coreService=h,this._logService=u,this._optionsService=$0,this._oscLinkService=Z0,this._coreMouseService=U0,this._unicodeService=Q0,this._parser=o,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new V.StringToUtf32,this._utf8Decoder=new V.Utf8ToUtf32,this._workCell=new F.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=W.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=W.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new K.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new K.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new K.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new K.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new K.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new K.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new K.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new K.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new K.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new K.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new K.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new K.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new K.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new l(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((m)=>this._activeBuffer=m.activeBuffer)),this._parser.setCsiHandlerFallback((m,A0)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(m),params:A0.toArray()})}),this._parser.setEscHandlerFallback((m)=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(m)})}),this._parser.setExecuteHandlerFallback((m)=>{this._logService.debug("Unknown EXECUTE code: ",{code:m})}),this._parser.setOscHandlerFallback((m,A0,z0)=>{this._logService.debug("Unknown OSC code: ",{identifier:m,action:A0,data:z0})}),this._parser.setDcsHandlerFallback((m,A0,z0)=>{A0==="HOOK"&&(z0=z0.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(m),action:A0,payload:z0})}),this._parser.setPrintHandler((m,A0,z0)=>this.print(m,A0,z0)),this._parser.registerCsiHandler({final:"@"},(m)=>this.insertChars(m)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(m)=>this.scrollLeft(m)),this._parser.registerCsiHandler({final:"A"},(m)=>this.cursorUp(m)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(m)=>this.scrollRight(m)),this._parser.registerCsiHandler({final:"B"},(m)=>this.cursorDown(m)),this._parser.registerCsiHandler({final:"C"},(m)=>this.cursorForward(m)),this._parser.registerCsiHandler({final:"D"},(m)=>this.cursorBackward(m)),this._parser.registerCsiHandler({final:"E"},(m)=>this.cursorNextLine(m)),this._parser.registerCsiHandler({final:"F"},(m)=>this.cursorPrecedingLine(m)),this._parser.registerCsiHandler({final:"G"},(m)=>this.cursorCharAbsolute(m)),this._parser.registerCsiHandler({final:"H"},(m)=>this.cursorPosition(m)),this._parser.registerCsiHandler({final:"I"},(m)=>this.cursorForwardTab(m)),this._parser.registerCsiHandler({final:"J"},(m)=>this.eraseInDisplay(m,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},(m)=>this.eraseInDisplay(m,!0)),this._parser.registerCsiHandler({final:"K"},(m)=>this.eraseInLine(m,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},(m)=>this.eraseInLine(m,!0)),this._parser.registerCsiHandler({final:"L"},(m)=>this.insertLines(m)),this._parser.registerCsiHandler({final:"M"},(m)=>this.deleteLines(m)),this._parser.registerCsiHandler({final:"P"},(m)=>this.deleteChars(m)),this._parser.registerCsiHandler({final:"S"},(m)=>this.scrollUp(m)),this._parser.registerCsiHandler({final:"T"},(m)=>this.scrollDown(m)),this._parser.registerCsiHandler({final:"X"},(m)=>this.eraseChars(m)),this._parser.registerCsiHandler({final:"Z"},(m)=>this.cursorBackwardTab(m)),this._parser.registerCsiHandler({final:"`"},(m)=>this.charPosAbsolute(m)),this._parser.registerCsiHandler({final:"a"},(m)=>this.hPositionRelative(m)),this._parser.registerCsiHandler({final:"b"},(m)=>this.repeatPrecedingCharacter(m)),this._parser.registerCsiHandler({final:"c"},(m)=>this.sendDeviceAttributesPrimary(m)),this._parser.registerCsiHandler({prefix:">",final:"c"},(m)=>this.sendDeviceAttributesSecondary(m)),this._parser.registerCsiHandler({final:"d"},(m)=>this.linePosAbsolute(m)),this._parser.registerCsiHandler({final:"e"},(m)=>this.vPositionRelative(m)),this._parser.registerCsiHandler({final:"f"},(m)=>this.hVPosition(m)),this._parser.registerCsiHandler({final:"g"},(m)=>this.tabClear(m)),this._parser.registerCsiHandler({final:"h"},(m)=>this.setMode(m)),this._parser.registerCsiHandler({prefix:"?",final:"h"},(m)=>this.setModePrivate(m)),this._parser.registerCsiHandler({final:"l"},(m)=>this.resetMode(m)),this._parser.registerCsiHandler({prefix:"?",final:"l"},(m)=>this.resetModePrivate(m)),this._parser.registerCsiHandler({final:"m"},(m)=>this.charAttributes(m)),this._parser.registerCsiHandler({final:"n"},(m)=>this.deviceStatus(m)),this._parser.registerCsiHandler({prefix:"?",final:"n"},(m)=>this.deviceStatusPrivate(m)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(m)=>this.softReset(m)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(m)=>this.setCursorStyle(m)),this._parser.registerCsiHandler({final:"r"},(m)=>this.setScrollRegion(m)),this._parser.registerCsiHandler({final:"s"},(m)=>this.saveCursor(m)),this._parser.registerCsiHandler({final:"t"},(m)=>this.windowOptions(m)),this._parser.registerCsiHandler({final:"u"},(m)=>this.restoreCursor(m)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(m)=>this.insertColumns(m)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(m)=>this.deleteColumns(m)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(m)=>this.selectProtected(m)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(m)=>this.requestMode(m,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(m)=>this.requestMode(m,!1)),this._parser.setExecuteHandler(z.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(z.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(z.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(z.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(z.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(z.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(z.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(z.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(z.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(z.C1.IND,()=>this.index()),this._parser.setExecuteHandler(z.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(z.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new _.OscHandler((m)=>(this.setTitle(m),this.setIconName(m),!0))),this._parser.registerOscHandler(1,new _.OscHandler((m)=>this.setIconName(m))),this._parser.registerOscHandler(2,new _.OscHandler((m)=>this.setTitle(m))),this._parser.registerOscHandler(4,new _.OscHandler((m)=>this.setOrReportIndexedColor(m))),this._parser.registerOscHandler(8,new _.OscHandler((m)=>this.setHyperlink(m))),this._parser.registerOscHandler(10,new _.OscHandler((m)=>this.setOrReportFgColor(m))),this._parser.registerOscHandler(11,new _.OscHandler((m)=>this.setOrReportBgColor(m))),this._parser.registerOscHandler(12,new _.OscHandler((m)=>this.setOrReportCursorColor(m))),this._parser.registerOscHandler(104,new _.OscHandler((m)=>this.restoreIndexedColor(m))),this._parser.registerOscHandler(110,new _.OscHandler((m)=>this.restoreFgColor(m))),this._parser.registerOscHandler(111,new _.OscHandler((m)=>this.restoreBgColor(m))),this._parser.registerOscHandler(112,new _.OscHandler((m)=>this.restoreCursorColor(m))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let m in H.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:m},()=>this.selectCharset("("+m)),this._parser.registerEscHandler({intermediates:")",final:m},()=>this.selectCharset(")"+m)),this._parser.registerEscHandler({intermediates:"*",final:m},()=>this.selectCharset("*"+m)),this._parser.registerEscHandler({intermediates:"+",final:m},()=>this.selectCharset("+"+m)),this._parser.registerEscHandler({intermediates:"-",final:m},()=>this.selectCharset("-"+m)),this._parser.registerEscHandler({intermediates:".",final:m},()=>this.selectCharset("."+m)),this._parser.registerEscHandler({intermediates:"/",final:m},()=>this.selectCharset("/"+m));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler((m)=>(this._logService.error("Parsing error: ",m),m)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new O.DcsHandler((m,A0)=>this.requestStatusString(m,A0)))}_preserveStack(y,b,h,u){this._parseStack.paused=!0,this._parseStack.cursorStartX=y,this._parseStack.cursorStartY=b,this._parseStack.decodedLength=h,this._parseStack.position=u}_logSlowResolvingAsync(y){this._logService.logLevel<=R.LogLevelEnum.WARN&&Promise.race([y,new Promise((b,h)=>setTimeout(()=>h("#SLOW_TIMEOUT"),5000))]).catch((b)=>{if(b!=="#SLOW_TIMEOUT")throw b;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(y,b){let h,u=this._activeBuffer.x,$0=this._activeBuffer.y,Z0=0,U0=this._parseStack.paused;if(U0){if(h=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,b))return this._logSlowResolvingAsync(h),h;u=this._parseStack.cursorStartX,$0=this._parseStack.cursorStartY,this._parseStack.paused=!1,y.length>T&&(Z0=this._parseStack.position+T)}if(this._logService.logLevel<=R.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof y=="string"?` "${y}"`:` "${Array.prototype.map.call(y,(m)=>String.fromCharCode(m)).join("")}"`),typeof y=="string"?y.split("").map((m)=>m.charCodeAt(0)):y),this._parseBuffer.length<y.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(y.length,T))),U0||this._dirtyRowTracker.clearRange(),y.length>T)for(let m=Z0;m<y.length;m+=T){let A0=m+T<y.length?m+T:y.length,z0=typeof y=="string"?this._stringDecoder.decode(y.substring(m,A0),this._parseBuffer):this._utf8Decoder.decode(y.subarray(m,A0),this._parseBuffer);if(h=this._parser.parse(this._parseBuffer,z0))return this._preserveStack(u,$0,z0,m),this._logSlowResolvingAsync(h),h}else if(!U0){let m=typeof y=="string"?this._stringDecoder.decode(y,this._parseBuffer):this._utf8Decoder.decode(y,this._parseBuffer);if(h=this._parser.parse(this._parseBuffer,m))return this._preserveStack(u,$0,m,0),this._logSlowResolvingAsync(h),h}this._activeBuffer.x===u&&this._activeBuffer.y===$0||this._onCursorMove.fire();let Q0=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),o=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);o<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(o,this._bufferService.rows-1),Math.min(Q0,this._bufferService.rows-1))}print(y,b,h){let u,$0,Z0=this._charsetService.charset,U0=this._optionsService.rawOptions.screenReaderMode,Q0=this._bufferService.cols,o=this._coreService.decPrivateModes.wraparound,m=this._coreService.modes.insertMode,A0=this._curAttrData,z0=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&h-b>0&&z0.getWidth(this._activeBuffer.x-1)===2&&z0.setCellFromCodepoint(this._activeBuffer.x-1,0,1,A0);let h0=this._parser.precedingJoinState;for(let N0=b;N0<h;++N0){if(u=y[N0],u<127&&Z0){let W6=Z0[String.fromCharCode(u)];W6&&(u=W6.charCodeAt(0))}let w1=this._unicodeService.charProperties(u,h0);$0=D.UnicodeService.extractWidth(w1);let R0=D.UnicodeService.extractShouldJoin(w1),u1=R0?D.UnicodeService.extractWidth(h0):0;if(h0=w1,U0&&this._onA11yChar.fire((0,V.stringFromCodePoint)(u)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+$0-u1>Q0){if(o){let W6=z0,S6=this._activeBuffer.x-u1;for(this._activeBuffer.x=u1,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z0=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),u1>0&&z0 instanceof W.BufferLine&&z0.copyCellsFrom(W6,S6,0,u1,!1);S6<Q0;)W6.setCellFromCodepoint(S6++,0,1,A0)}else if(this._activeBuffer.x=Q0-1,$0===2)continue}if(R0&&this._activeBuffer.x){let W6=z0.getWidth(this._activeBuffer.x-1)?1:2;z0.addCodepointToCell(this._activeBuffer.x-W6,u,$0);for(let S6=$0-u1;--S6>=0;)z0.setCellFromCodepoint(this._activeBuffer.x++,0,0,A0)}else if(m&&(z0.insertCells(this._activeBuffer.x,$0-u1,this._activeBuffer.getNullCell(A0)),z0.getWidth(Q0-1)===2&&z0.setCellFromCodepoint(Q0-1,A.NULL_CELL_CODE,A.NULL_CELL_WIDTH,A0)),z0.setCellFromCodepoint(this._activeBuffer.x++,u,$0,A0),$0>0)for(;--$0;)z0.setCellFromCodepoint(this._activeBuffer.x++,0,0,A0)}this._parser.precedingJoinState=h0,this._activeBuffer.x<Q0&&h-b>0&&z0.getWidth(this._activeBuffer.x)===0&&!z0.hasContent(this._activeBuffer.x)&&z0.setCellFromCodepoint(this._activeBuffer.x,0,1,A0),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(y,b){return y.final!=="t"||y.prefix||y.intermediates?this._parser.registerCsiHandler(y,b):this._parser.registerCsiHandler(y,(h)=>!I(h.params[0],this._optionsService.rawOptions.windowOptions)||b(h))}registerDcsHandler(y,b){return this._parser.registerDcsHandler(y,new O.DcsHandler(b))}registerEscHandler(y,b){return this._parser.registerEscHandler(y,b)}registerOscHandler(y,b){return this._parser.registerOscHandler(y,new _.OscHandler(b))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);y.hasWidth(this._activeBuffer.x)&&!y.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let y=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-y),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(y=this._bufferService.cols-1){this._activeBuffer.x=Math.min(y,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(y,b){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=y,this._activeBuffer.y=this._activeBuffer.scrollTop+b):(this._activeBuffer.x=y,this._activeBuffer.y=b),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(y,b){this._restrictCursor(),this._setCursor(this._activeBuffer.x+y,this._activeBuffer.y+b)}cursorUp(y){let b=this._activeBuffer.y-this._activeBuffer.scrollTop;return b>=0?this._moveCursor(0,-Math.min(b,y.params[0]||1)):this._moveCursor(0,-(y.params[0]||1)),!0}cursorDown(y){let b=this._activeBuffer.scrollBottom-this._activeBuffer.y;return b>=0?this._moveCursor(0,Math.min(b,y.params[0]||1)):this._moveCursor(0,y.params[0]||1),!0}cursorForward(y){return this._moveCursor(y.params[0]||1,0),!0}cursorBackward(y){return this._moveCursor(-(y.params[0]||1),0),!0}cursorNextLine(y){return this.cursorDown(y),this._activeBuffer.x=0,!0}cursorPrecedingLine(y){return this.cursorUp(y),this._activeBuffer.x=0,!0}cursorCharAbsolute(y){return this._setCursor((y.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(y){return this._setCursor(y.length>=2?(y.params[1]||1)-1:0,(y.params[0]||1)-1),!0}charPosAbsolute(y){return this._setCursor((y.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(y){return this._moveCursor(y.params[0]||1,0),!0}linePosAbsolute(y){return this._setCursor(this._activeBuffer.x,(y.params[0]||1)-1),!0}vPositionRelative(y){return this._moveCursor(0,y.params[0]||1),!0}hVPosition(y){return this.cursorPosition(y),!0}tabClear(y){let b=y.params[0];return b===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:b===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(y){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let b=y.params[0]||1;for(;b--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(y){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let b=y.params[0]||1;for(;b--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(y){let b=y.params[0];return b===1&&(this._curAttrData.bg|=536870912),b!==2&&b!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(y,b,h,u=!1,$0=!1){let Z0=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);Z0.replaceCells(b,h,this._activeBuffer.getNullCell(this._eraseAttrData()),$0),u&&(Z0.isWrapped=!1)}_resetBufferLine(y,b=!1){let h=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);h&&(h.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),b),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+y),h.isWrapped=!1)}eraseInDisplay(y,b=!1){let h;switch(this._restrictCursor(this._bufferService.cols),y.params[0]){case 0:for(h=this._activeBuffer.y,this._dirtyRowTracker.markDirty(h),this._eraseInBufferLine(h++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,b);h<this._bufferService.rows;h++)this._resetBufferLine(h,b);this._dirtyRowTracker.markDirty(h);break;case 1:for(h=this._activeBuffer.y,this._dirtyRowTracker.markDirty(h),this._eraseInBufferLine(h,0,this._activeBuffer.x+1,!0,b),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(h+1).isWrapped=!1);h--;)this._resetBufferLine(h,b);this._dirtyRowTracker.markDirty(0);break;case 2:for(h=this._bufferService.rows,this._dirtyRowTracker.markDirty(h-1);h--;)this._resetBufferLine(h,b);this._dirtyRowTracker.markDirty(0);break;case 3:let u=this._activeBuffer.lines.length-this._bufferService.rows;u>0&&(this._activeBuffer.lines.trimStart(u),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-u,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-u,0),this._onScroll.fire(0))}return!0}eraseInLine(y,b=!1){switch(this._restrictCursor(this._bufferService.cols),y.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,b);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,b);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,b)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(y){this._restrictCursor();let b=y.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let h=this._activeBuffer.ybase+this._activeBuffer.y,u=this._bufferService.rows-1-this._activeBuffer.scrollBottom,$0=this._bufferService.rows-1+this._activeBuffer.ybase-u+1;for(;b--;)this._activeBuffer.lines.splice($0-1,1),this._activeBuffer.lines.splice(h,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(y){this._restrictCursor();let b=y.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let h=this._activeBuffer.ybase+this._activeBuffer.y,u;for(u=this._bufferService.rows-1-this._activeBuffer.scrollBottom,u=this._bufferService.rows-1+this._activeBuffer.ybase-u;b--;)this._activeBuffer.lines.splice(h,1),this._activeBuffer.lines.splice(u,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(y){this._restrictCursor();let b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return b&&(b.insertCells(this._activeBuffer.x,y.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(y){this._restrictCursor();let b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return b&&(b.deleteCells(this._activeBuffer.x,y.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(y){let b=y.params[0]||1;for(;b--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(y){let b=y.params[0]||1;for(;b--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(W.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let b=y.params[0]||1;for(let h=this._activeBuffer.scrollTop;h<=this._activeBuffer.scrollBottom;++h){let u=this._activeBuffer.lines.get(this._activeBuffer.ybase+h);u.deleteCells(0,b,this._activeBuffer.getNullCell(this._eraseAttrData())),u.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let b=y.params[0]||1;for(let h=this._activeBuffer.scrollTop;h<=this._activeBuffer.scrollBottom;++h){let u=this._activeBuffer.lines.get(this._activeBuffer.ybase+h);u.insertCells(0,b,this._activeBuffer.getNullCell(this._eraseAttrData())),u.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let b=y.params[0]||1;for(let h=this._activeBuffer.scrollTop;h<=this._activeBuffer.scrollBottom;++h){let u=this._activeBuffer.lines.get(this._activeBuffer.ybase+h);u.insertCells(this._activeBuffer.x,b,this._activeBuffer.getNullCell(this._eraseAttrData())),u.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(y){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let b=y.params[0]||1;for(let h=this._activeBuffer.scrollTop;h<=this._activeBuffer.scrollBottom;++h){let u=this._activeBuffer.lines.get(this._activeBuffer.ybase+h);u.deleteCells(this._activeBuffer.x,b,this._activeBuffer.getNullCell(this._eraseAttrData())),u.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(y){this._restrictCursor();let b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return b&&(b.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(y.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(y){let b=this._parser.precedingJoinState;if(!b)return!0;let h=y.params[0]||1,u=D.UnicodeService.extractWidth(b),$0=this._activeBuffer.x-u,Z0=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString($0),U0=new Uint32Array(Z0.length*h),Q0=0;for(let m=0;m<Z0.length;){let A0=Z0.codePointAt(m)||0;U0[Q0++]=A0,m+=A0>65535?2:1}let o=Q0;for(let m=1;m<h;++m)U0.copyWithin(o,0,Q0),o+=Q0;return this.print(U0,0,o),!0}sendDeviceAttributesPrimary(y){return y.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(z.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(z.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(y){return y.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(z.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(z.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(y.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(z.C0.ESC+"[>83;40003;0c")),!0}_is(y){return(this._optionsService.rawOptions.termName+"").indexOf(y)===0}setMode(y){for(let b=0;b<y.length;b++)switch(y.params[b]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(y){for(let b=0;b<y.length;b++)switch(y.params[b]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,H.DEFAULT_CHARSET),this._charsetService.setgCharset(1,H.DEFAULT_CHARSET),this._charsetService.setgCharset(2,H.DEFAULT_CHARSET),this._charsetService.setgCharset(3,H.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1000:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(y){for(let b=0;b<y.length;b++)switch(y.params[b]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(y){for(let b=0;b<y.length;b++)switch(y.params[b]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1000:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),y.params[b]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(y,b){let h=this._coreService.decPrivateModes,{activeProtocol:u,activeEncoding:$0}=this._coreMouseService,Z0=this._coreService,{buffers:U0,cols:Q0}=this._bufferService,{active:o,alt:m}=U0,A0=this._optionsService.rawOptions,z0=(R0)=>R0?1:2,h0=y.params[0];return N0=h0,w1=b?h0===2?4:h0===4?z0(Z0.modes.insertMode):h0===12?3:h0===20?z0(A0.convertEol):0:h0===1?z0(h.applicationCursorKeys):h0===3?A0.windowOptions.setWinLines?Q0===80?2:Q0===132?1:0:0:h0===6?z0(h.origin):h0===7?z0(h.wraparound):h0===8?3:h0===9?z0(u==="X10"):h0===12?z0(A0.cursorBlink):h0===25?z0(!Z0.isCursorHidden):h0===45?z0(h.reverseWraparound):h0===66?z0(h.applicationKeypad):h0===67?4:h0===1000?z0(u==="VT200"):h0===1002?z0(u==="DRAG"):h0===1003?z0(u==="ANY"):h0===1004?z0(h.sendFocus):h0===1005?4:h0===1006?z0($0==="SGR"):h0===1015?4:h0===1016?z0($0==="SGR_PIXELS"):h0===1048?1:h0===47||h0===1047||h0===1049?z0(o===m):h0===2004?z0(h.bracketedPasteMode):0,Z0.triggerDataEvent(`${z.C0.ESC}[${b?"":"?"}${N0};${w1}$y`),!0;var N0,w1}_updateAttrColor(y,b,h,u,$0){return b===2?(y|=50331648,y&=-16777216,y|=P.AttributeData.fromColorRGB([h,u,$0])):b===5&&(y&=-50331904,y|=33554432|255&h),y}_extractColor(y,b,h){let u=[0,0,-1,0,0,0],$0=0,Z0=0;do{if(u[Z0+$0]=y.params[b+Z0],y.hasSubParams(b+Z0)){let U0=y.getSubParams(b+Z0),Q0=0;do u[1]===5&&($0=1),u[Z0+Q0+1+$0]=U0[Q0];while(++Q0<U0.length&&Q0+Z0+1+$0<u.length);break}if(u[1]===5&&Z0+$0>=2||u[1]===2&&Z0+$0>=5)break;u[1]&&($0=1)}while(++Z0+b<y.length&&Z0+$0<u.length);for(let U0=2;U0<u.length;++U0)u[U0]===-1&&(u[U0]=0);switch(u[0]){case 38:h.fg=this._updateAttrColor(h.fg,u[1],u[3],u[4],u[5]);break;case 48:h.bg=this._updateAttrColor(h.bg,u[1],u[3],u[4],u[5]);break;case 58:h.extended=h.extended.clone(),h.extended.underlineColor=this._updateAttrColor(h.extended.underlineColor,u[1],u[3],u[4],u[5])}return Z0}_processUnderline(y,b){b.extended=b.extended.clone(),(!~y||y>5)&&(y=1),b.extended.underlineStyle=y,b.fg|=268435456,y===0&&(b.fg&=-268435457),b.updateExtended()}_processSGR0(y){y.fg=W.DEFAULT_ATTR_DATA.fg,y.bg=W.DEFAULT_ATTR_DATA.bg,y.extended=y.extended.clone(),y.extended.underlineStyle=0,y.extended.underlineColor&=-67108864,y.updateExtended()}charAttributes(y){if(y.length===1&&y.params[0]===0)return this._processSGR0(this._curAttrData),!0;let b=y.length,h,u=this._curAttrData;for(let $0=0;$0<b;$0++)h=y.params[$0],h>=30&&h<=37?(u.fg&=-50331904,u.fg|=16777216|h-30):h>=40&&h<=47?(u.bg&=-50331904,u.bg|=16777216|h-40):h>=90&&h<=97?(u.fg&=-50331904,u.fg|=16777224|h-90):h>=100&&h<=107?(u.bg&=-50331904,u.bg|=16777224|h-100):h===0?this._processSGR0(u):h===1?u.fg|=134217728:h===3?u.bg|=67108864:h===4?(u.fg|=268435456,this._processUnderline(y.hasSubParams($0)?y.getSubParams($0)[0]:1,u)):h===5?u.fg|=536870912:h===7?u.fg|=67108864:h===8?u.fg|=1073741824:h===9?u.fg|=2147483648:h===2?u.bg|=134217728:h===21?this._processUnderline(2,u):h===22?(u.fg&=-134217729,u.bg&=-134217729):h===23?u.bg&=-67108865:h===24?(u.fg&=-268435457,this._processUnderline(0,u)):h===25?u.fg&=-536870913:h===27?u.fg&=-67108865:h===28?u.fg&=-1073741825:h===29?u.fg&=2147483647:h===39?(u.fg&=-67108864,u.fg|=16777215&W.DEFAULT_ATTR_DATA.fg):h===49?(u.bg&=-67108864,u.bg|=16777215&W.DEFAULT_ATTR_DATA.bg):h===38||h===48||h===58?$0+=this._extractColor(y,$0,u):h===53?u.bg|=1073741824:h===55?u.bg&=-1073741825:h===59?(u.extended=u.extended.clone(),u.extended.underlineColor=-1,u.updateExtended()):h===100?(u.fg&=-67108864,u.fg|=16777215&W.DEFAULT_ATTR_DATA.fg,u.bg&=-67108864,u.bg|=16777215&W.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",h);return!0}deviceStatus(y){switch(y.params[0]){case 5:this._coreService.triggerDataEvent(`${z.C0.ESC}[0n`);break;case 6:let b=this._activeBuffer.y+1,h=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${z.C0.ESC}[${b};${h}R`)}return!0}deviceStatusPrivate(y){if(y.params[0]===6){let b=this._activeBuffer.y+1,h=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${z.C0.ESC}[?${b};${h}R`)}return!0}softReset(y){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=W.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(y){let b=y.params[0]||1;switch(b){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}let h=b%2==1;return this._optionsService.options.cursorBlink=h,!0}setScrollRegion(y){let b=y.params[0]||1,h;return(y.length<2||(h=y.params[1])>this._bufferService.rows||h===0)&&(h=this._bufferService.rows),h>b&&(this._activeBuffer.scrollTop=b-1,this._activeBuffer.scrollBottom=h-1,this._setCursor(0,0)),!0}windowOptions(y){if(!I(y.params[0],this._optionsService.rawOptions.windowOptions))return!0;let b=y.length>1?y.params[1]:0;switch(y.params[0]){case 14:b!==2&&this._onRequestWindowsOptionsReport.fire(k.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(k.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${z.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:b!==0&&b!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),b!==0&&b!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:b!==0&&b!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),b!==0&&b!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(y){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(y){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(y){return this._windowTitle=y,this._onTitleChange.fire(y),!0}setIconName(y){return this._iconName=y,!0}setOrReportIndexedColor(y){let b=[],h=y.split(";");for(;h.length>1;){let u=h.shift(),$0=h.shift();if(/^\d+$/.exec(u)){let Z0=parseInt(u);if(d(Z0))if($0==="?")b.push({type:0,index:Z0});else{let U0=(0,N.parseColor)($0);U0&&b.push({type:1,index:Z0,color:U0})}}}return b.length&&this._onColor.fire(b),!0}setHyperlink(y){let b=y.split(";");return!(b.length<2)&&(b[1]?this._createHyperlink(b[0],b[1]):!b[0]&&this._finishHyperlink())}_createHyperlink(y,b){this._getCurrentLinkId()&&this._finishHyperlink();let h=y.split(":"),u,$0=h.findIndex((Z0)=>Z0.startsWith("id="));return $0!==-1&&(u=h[$0].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:u,uri:b}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(y,b){let h=y.split(";");for(let u=0;u<h.length&&!(b>=this._specialColors.length);++u,++b)if(h[u]==="?")this._onColor.fire([{type:0,index:this._specialColors[b]}]);else{let $0=(0,N.parseColor)(h[u]);$0&&this._onColor.fire([{type:1,index:this._specialColors[b],color:$0}])}return!0}setOrReportFgColor(y){return this._setOrReportSpecialColor(y,0)}setOrReportBgColor(y){return this._setOrReportSpecialColor(y,1)}setOrReportCursorColor(y){return this._setOrReportSpecialColor(y,2)}restoreIndexedColor(y){if(!y)return this._onColor.fire([{type:2}]),!0;let b=[],h=y.split(";");for(let u=0;u<h.length;++u)if(/^\d+$/.exec(h[u])){let $0=parseInt(h[u]);d($0)&&b.push({type:2,index:$0})}return b.length&&this._onColor.fire(b),!0}restoreFgColor(y){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(y){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(y){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,H.DEFAULT_CHARSET),!0}selectCharset(y){return y.length!==2?(this.selectDefaultCharset(),!0):(y[0]==="/"||this._charsetService.setgCharset(w[y[0]],H.CHARSETS[y[1]]||H.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let y=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,y,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=W.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=W.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(y){return this._charsetService.setgLevel(y),!0}screenAlignmentPattern(){let y=new F.CellData;y.content=4194373,y.fg=this._curAttrData.fg,y.bg=this._curAttrData.bg,this._setCursor(0,0);for(let b=0;b<this._bufferService.rows;++b){let h=this._activeBuffer.ybase+this._activeBuffer.y+b,u=this._activeBuffer.lines.get(h);u&&(u.fill(y),u.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(y,b){let h=this._bufferService.buffer,u=this._optionsService.rawOptions;return(($0)=>(this._coreService.triggerDataEvent(`${z.C0.ESC}${$0}${z.C0.ESC}\\`),!0))(y==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:y==='"p'?'P1$r61;1"p':y==="r"?`P1$r${h.scrollTop+1};${h.scrollBottom+1}r`:y==="m"?"P1$r0m":y===" q"?`P1$r${{block:2,underline:4,bar:6}[u.cursorStyle]-(u.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(y,b){this._dirtyRowTracker.markRangeDirty(y,b)}}Z.InputHandler=S;let l=class{constructor(y){this._bufferService=y,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(y){y<this.start?this.start=y:y>this.end&&(this.end=y)}markRangeDirty(y,b){y>b&&(x=y,y=b,b=x),y<this.start&&(this.start=y),b>this.end&&(this.end=b)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function d(y){return 0<=y&&y<256}l=q([U(0,R.IBufferService)],l)},844:(Y,Z)=>{function G(q){for(let U of q)U.dispose();q.length=0}Object.defineProperty(Z,"__esModule",{value:!0}),Z.getDisposeArrayDisposable=Z.disposeArray=Z.toDisposable=Z.MutableDisposable=Z.Disposable=void 0,Z.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let q of this._disposables)q.dispose();this._disposables.length=0}register(q){return this._disposables.push(q),q}unregister(q){let U=this._disposables.indexOf(q);U!==-1&&this._disposables.splice(U,1)}},Z.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(q){this._isDisposed||q===this._value||(this._value?.dispose(),this._value=q)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},Z.toDisposable=function(q){return{dispose:q}},Z.disposeArray=G,Z.getDisposeArrayDisposable=function(q){return{dispose:()=>G(q)}}},1505:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.FourKeyMap=Z.TwoKeyMap=void 0;class G{constructor(){this._data={}}set(q,U,z){this._data[q]||(this._data[q]={}),this._data[q][U]=z}get(q,U){return this._data[q]?this._data[q][U]:void 0}clear(){this._data={}}}Z.TwoKeyMap=G,Z.FourKeyMap=class{constructor(){this._data=new G}set(q,U,z,H,j){this._data.get(q,U)||this._data.set(q,U,new G),this._data.get(q,U).set(z,H,j)}get(q,U,z,H){return this._data.get(q,U)?.get(z,H)}clear(){this._data.clear()}}},6114:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isChromeOS=Z.isLinux=Z.isWindows=Z.isIphone=Z.isIpad=Z.isMac=Z.getSafariVersion=Z.isSafari=Z.isLegacyEdge=Z.isFirefox=Z.isNode=void 0,Z.isNode=typeof process<"u"&&"title"in process;let G=Z.isNode?"node":navigator.userAgent,q=Z.isNode?"node":navigator.platform;Z.isFirefox=G.includes("Firefox"),Z.isLegacyEdge=G.includes("Edge"),Z.isSafari=/^((?!chrome|android).)*safari/i.test(G),Z.getSafariVersion=function(){if(!Z.isSafari)return 0;let U=G.match(/Version\/(\d+)/);return U===null||U.length<2?0:parseInt(U[1])},Z.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(q),Z.isIpad=q==="iPad",Z.isIphone=q==="iPhone",Z.isWindows=["Windows","Win16","Win32","WinCE"].includes(q),Z.isLinux=q.indexOf("Linux")>=0,Z.isChromeOS=/\bCrOS\b/.test(G)},6106:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SortedList=void 0;let G=0;Z.SortedList=class{constructor(q){this._getKey=q,this._array=[]}clear(){this._array.length=0}insert(q){this._array.length!==0?(G=this._search(this._getKey(q)),this._array.splice(G,0,q)):this._array.push(q)}delete(q){if(this._array.length===0)return!1;let U=this._getKey(q);if(U===void 0)return!1;if(G=this._search(U),G===-1)return!1;if(this._getKey(this._array[G])!==U)return!1;do if(this._array[G]===q)return this._array.splice(G,1),!0;while(++G<this._array.length&&this._getKey(this._array[G])===U);return!1}*getKeyIterator(q){if(this._array.length!==0&&(G=this._search(q),!(G<0||G>=this._array.length)&&this._getKey(this._array[G])===q))do yield this._array[G];while(++G<this._array.length&&this._getKey(this._array[G])===q)}forEachByKey(q,U){if(this._array.length!==0&&(G=this._search(q),!(G<0||G>=this._array.length)&&this._getKey(this._array[G])===q))do U(this._array[G]);while(++G<this._array.length&&this._getKey(this._array[G])===q)}values(){return[...this._array].values()}_search(q){let U=0,z=this._array.length-1;for(;z>=U;){let H=U+z>>1,j=this._getKey(this._array[H]);if(j>q)z=H-1;else{if(!(j<q)){for(;H>0&&this._getKey(this._array[H-1])===q;)H--;return H}U=H+1}}return U}}},7226:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DebouncedIdleTask=Z.IdleTaskQueue=Z.PriorityTaskQueue=void 0;let q=G(6114);class U{constructor(){this._tasks=[],this._i=0}enqueue(H){this._tasks.push(H),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(H){this._idleCallback=void 0;let j=0,B=0,V=H.timeRemaining(),W=0;for(;this._i<this._tasks.length;){if(j=Date.now(),this._tasks[this._i]()||this._i++,j=Math.max(1,Date.now()-j),B=Math.max(j,B),W=H.timeRemaining(),1.5*B>W)return V-j<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(V-j))}ms`),void this._start();V=W}this.clear()}}class z extends U{_requestCallback(H){return setTimeout(()=>H(this._createDeadline(16)))}_cancelCallback(H){clearTimeout(H)}_createDeadline(H){let j=Date.now()+H;return{timeRemaining:()=>Math.max(0,j-Date.now())}}}Z.PriorityTaskQueue=z,Z.IdleTaskQueue=!q.isNode&&"requestIdleCallback"in window?class extends U{_requestCallback(H){return requestIdleCallback(H)}_cancelCallback(H){cancelIdleCallback(H)}}:z,Z.DebouncedIdleTask=class{constructor(){this._queue=new Z.IdleTaskQueue}set(H){this._queue.clear(),this._queue.enqueue(H)}flush(){this._queue.flush()}}},9282:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.updateWindowsModeWrappedState=void 0;let q=G(643);Z.updateWindowsModeWrappedState=function(U){let z=U.buffer.lines.get(U.buffer.ybase+U.buffer.y-1),H=z?.get(U.cols-1),j=U.buffer.lines.get(U.buffer.ybase+U.buffer.y);j&&H&&(j.isWrapped=H[q.CHAR_DATA_CODE_INDEX]!==q.NULL_CELL_CODE&&H[q.CHAR_DATA_CODE_INDEX]!==q.WHITESPACE_CELL_CODE)}},3734:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ExtendedAttrs=Z.AttributeData=void 0;class G{constructor(){this.fg=0,this.bg=0,this.extended=new q}static toColorRGB(U){return[U>>>16&255,U>>>8&255,255&U]}static fromColorRGB(U){return(255&U[0])<<16|(255&U[1])<<8|255&U[2]}clone(){let U=new G;return U.fg=this.fg,U.bg=this.bg,U.extended=this.extended.clone(),U}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}Z.AttributeData=G;class q{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(U){this._ext=U}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(U){this._ext&=-469762049,this._ext|=U<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(U){this._ext&=-67108864,this._ext|=67108863&U}get urlId(){return this._urlId}set urlId(U){this._urlId=U}get underlineVariantOffset(){let U=(3758096384&this._ext)>>29;return U<0?4294967288^U:U}set underlineVariantOffset(U){this._ext&=536870911,this._ext|=U<<29&3758096384}constructor(U=0,z=0){this._ext=0,this._urlId=0,this._ext=U,this._urlId=z}clone(){return new q(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}Z.ExtendedAttrs=q},9092:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Buffer=Z.MAX_BUFFER_SIZE=void 0;let q=G(6349),U=G(7226),z=G(3734),H=G(8437),j=G(4634),B=G(511),V=G(643),W=G(4863),K=G(7116);Z.MAX_BUFFER_SIZE=4294967295,Z.Buffer=class{constructor(A,F,P){this._hasScrollback=A,this._optionsService=F,this._bufferService=P,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=H.DEFAULT_ATTR_DATA.clone(),this.savedCharset=K.DEFAULT_CHARSET,this.markers=[],this._nullCell=B.CellData.fromCharData([0,V.NULL_CELL_CHAR,V.NULL_CELL_WIDTH,V.NULL_CELL_CODE]),this._whitespaceCell=B.CellData.fromCharData([0,V.WHITESPACE_CELL_CHAR,V.WHITESPACE_CELL_WIDTH,V.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new U.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new q.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(A){return A?(this._nullCell.fg=A.fg,this._nullCell.bg=A.bg,this._nullCell.extended=A.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new z.ExtendedAttrs),this._nullCell}getWhitespaceCell(A){return A?(this._whitespaceCell.fg=A.fg,this._whitespaceCell.bg=A.bg,this._whitespaceCell.extended=A.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new z.ExtendedAttrs),this._whitespaceCell}getBlankLine(A,F){return new H.BufferLine(this._bufferService.cols,this.getNullCell(A),F)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let A=this.ybase+this.y-this.ydisp;return A>=0&&A<this._rows}_getCorrectBufferLength(A){if(!this._hasScrollback)return A;let F=A+this._optionsService.rawOptions.scrollback;return F>Z.MAX_BUFFER_SIZE?Z.MAX_BUFFER_SIZE:F}fillViewportRows(A){if(this.lines.length===0){A===void 0&&(A=H.DEFAULT_ATTR_DATA);let F=this._rows;for(;F--;)this.lines.push(this.getBlankLine(A))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new q.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(A,F){let P=this.getNullCell(H.DEFAULT_ATTR_DATA),R=0,D=this._getCorrectBufferLength(F);if(D>this.lines.maxLength&&(this.lines.maxLength=D),this.lines.length>0){if(this._cols<A)for(let O=0;O<this.lines.length;O++)R+=+this.lines.get(O).resize(A,P);let _=0;if(this._rows<F)for(let O=this._rows;O<F;O++)this.lines.length<F+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new H.BufferLine(A,P)):this.ybase>0&&this.lines.length<=this.ybase+this.y+_+1?(this.ybase--,_++,this.ydisp>0&&this.ydisp--):this.lines.push(new H.BufferLine(A,P)));else for(let O=this._rows;O>F;O--)this.lines.length>F+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(D<this.lines.maxLength){let O=this.lines.length-D;O>0&&(this.lines.trimStart(O),this.ybase=Math.max(this.ybase-O,0),this.ydisp=Math.max(this.ydisp-O,0),this.savedY=Math.max(this.savedY-O,0)),this.lines.maxLength=D}this.x=Math.min(this.x,A-1),this.y=Math.min(this.y,F-1),_&&(this.y+=_),this.savedX=Math.min(this.savedX,A-1),this.scrollTop=0}if(this.scrollBottom=F-1,this._isReflowEnabled&&(this._reflow(A,F),this._cols>A))for(let _=0;_<this.lines.length;_++)R+=+this.lines.get(_).resize(A,P);this._cols=A,this._rows=F,this._memoryCleanupQueue.clear(),R>0.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let A=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,A=!1);let F=0;for(;this._memoryCleanupPosition<this.lines.length;)if(F+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),F>100)return!0;return A}get _isReflowEnabled(){let A=this._optionsService.rawOptions.windowsPty;return A&&A.buildNumber?this._hasScrollback&&A.backend==="conpty"&&A.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(A,F){this._cols!==A&&(A>this._cols?this._reflowLarger(A,F):this._reflowSmaller(A,F))}_reflowLarger(A,F){let P=(0,j.reflowLargerGetLinesToRemove)(this.lines,this._cols,A,this.ybase+this.y,this.getNullCell(H.DEFAULT_ATTR_DATA));if(P.length>0){let R=(0,j.reflowLargerCreateNewLayout)(this.lines,P);(0,j.reflowLargerApplyNewLayout)(this.lines,R.layout),this._reflowLargerAdjustViewport(A,F,R.countRemoved)}}_reflowLargerAdjustViewport(A,F,P){let R=this.getNullCell(H.DEFAULT_ATTR_DATA),D=P;for(;D-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<F&&this.lines.push(new H.BufferLine(A,R))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-P,0)}_reflowSmaller(A,F){let P=this.getNullCell(H.DEFAULT_ATTR_DATA),R=[],D=0;for(let _=this.lines.length-1;_>=0;_--){let O=this.lines.get(_);if(!O||!O.isWrapped&&O.getTrimmedLength()<=A)continue;let N=[O];for(;O.isWrapped&&_>0;)O=this.lines.get(--_),N.unshift(O);let w=this.ybase+this.y;if(w>=_&&w<_+N.length)continue;let T=N[N.length-1].getTrimmedLength(),I=(0,j.reflowSmallerGetNewLineLengths)(N,this._cols,A),k=I.length-N.length,x;x=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+k):Math.max(0,this.lines.length-this.lines.maxLength+k);let S=[];for(let u=0;u<k;u++){let $0=this.getBlankLine(H.DEFAULT_ATTR_DATA,!0);S.push($0)}S.length>0&&(R.push({start:_+N.length+D,newLines:S}),D+=S.length),N.push(...S);let l=I.length-1,d=I[l];d===0&&(l--,d=I[l]);let y=N.length-k-1,b=T;for(;y>=0;){let u=Math.min(b,d);if(N[l]===void 0)break;if(N[l].copyCellsFrom(N[y],b-u,d-u,u,!0),d-=u,d===0&&(l--,d=I[l]),b-=u,b===0){y--;let $0=Math.max(y,0);b=(0,j.getWrappedLineTrimmedLength)(N,$0,this._cols)}}for(let u=0;u<N.length;u++)I[u]<A&&N[u].setCell(I[u],P);let h=k-x;for(;h-- >0;)this.ybase===0?this.y<F-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+D)-F&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+k,this.ybase+F-1)}if(R.length>0){let _=[],O=[];for(let l=0;l<this.lines.length;l++)O.push(this.lines.get(l));let N=this.lines.length,w=N-1,T=0,I=R[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+D);let k=0;for(let l=Math.min(this.lines.maxLength-1,N+D-1);l>=0;l--)if(I&&I.start>w+k){for(let d=I.newLines.length-1;d>=0;d--)this.lines.set(l--,I.newLines[d]);l++,_.push({index:w+1,amount:I.newLines.length}),k+=I.newLines.length,I=R[++T]}else this.lines.set(l,O[w--]);let x=0;for(let l=_.length-1;l>=0;l--)_[l].index+=x,this.lines.onInsertEmitter.fire(_[l]),x+=_[l].amount;let S=Math.max(0,N+D-this.lines.maxLength);S>0&&this.lines.onTrimEmitter.fire(S)}}translateBufferLineToString(A,F,P=0,R){let D=this.lines.get(A);return D?D.translateToString(F,P,R):""}getWrappedRangeForLine(A){let F=A,P=A;for(;F>0&&this.lines.get(F).isWrapped;)F--;for(;P+1<this.lines.length&&this.lines.get(P+1).isWrapped;)P++;return{first:F,last:P}}setupTabStops(A){for(A!=null?this.tabs[A]||(A=this.prevStop(A)):(this.tabs={},A=0);A<this._cols;A+=this._optionsService.rawOptions.tabStopWidth)this.tabs[A]=!0}prevStop(A){for(A==null&&(A=this.x);!this.tabs[--A]&&A>0;);return A>=this._cols?this._cols-1:A<0?0:A}nextStop(A){for(A==null&&(A=this.x);!this.tabs[++A]&&A<this._cols;);return A>=this._cols?this._cols-1:A<0?0:A}clearMarkers(A){this._isClearing=!0;for(let F=0;F<this.markers.length;F++)this.markers[F].line===A&&(this.markers[F].dispose(),this.markers.splice(F--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let A=0;A<this.markers.length;A++)this.markers[A].dispose(),this.markers.splice(A--,1);this._isClearing=!1}addMarker(A){let F=new W.Marker(A);return this.markers.push(F),F.register(this.lines.onTrim((P)=>{F.line-=P,F.line<0&&F.dispose()})),F.register(this.lines.onInsert((P)=>{F.line>=P.index&&(F.line+=P.amount)})),F.register(this.lines.onDelete((P)=>{F.line>=P.index&&F.line<P.index+P.amount&&F.dispose(),F.line>P.index&&(F.line-=P.amount)})),F.register(F.onDispose(()=>this._removeMarker(F))),F}_removeMarker(A){this._isClearing||this.markers.splice(this.markers.indexOf(A),1)}}},8437:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferLine=Z.DEFAULT_ATTR_DATA=void 0;let q=G(3734),U=G(511),z=G(643),H=G(482);Z.DEFAULT_ATTR_DATA=Object.freeze(new q.AttributeData);let j=0;class B{constructor(V,W,K=!1){this.isWrapped=K,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*V);let A=W||U.CellData.fromCharData([0,z.NULL_CELL_CHAR,z.NULL_CELL_WIDTH,z.NULL_CELL_CODE]);for(let F=0;F<V;++F)this.setCell(F,A);this.length=V}get(V){let W=this._data[3*V+0],K=2097151&W;return[this._data[3*V+1],2097152&W?this._combined[V]:K?(0,H.stringFromCodePoint)(K):"",W>>22,2097152&W?this._combined[V].charCodeAt(this._combined[V].length-1):K]}set(V,W){this._data[3*V+1]=W[z.CHAR_DATA_ATTR_INDEX],W[z.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[V]=W[1],this._data[3*V+0]=2097152|V|W[z.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*V+0]=W[z.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|W[z.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(V){return this._data[3*V+0]>>22}hasWidth(V){return 12582912&this._data[3*V+0]}getFg(V){return this._data[3*V+1]}getBg(V){return this._data[3*V+2]}hasContent(V){return 4194303&this._data[3*V+0]}getCodePoint(V){let W=this._data[3*V+0];return 2097152&W?this._combined[V].charCodeAt(this._combined[V].length-1):2097151&W}isCombined(V){return 2097152&this._data[3*V+0]}getString(V){let W=this._data[3*V+0];return 2097152&W?this._combined[V]:2097151&W?(0,H.stringFromCodePoint)(2097151&W):""}isProtected(V){return 536870912&this._data[3*V+2]}loadCell(V,W){return j=3*V,W.content=this._data[j+0],W.fg=this._data[j+1],W.bg=this._data[j+2],2097152&W.content&&(W.combinedData=this._combined[V]),268435456&W.bg&&(W.extended=this._extendedAttrs[V]),W}setCell(V,W){2097152&W.content&&(this._combined[V]=W.combinedData),268435456&W.bg&&(this._extendedAttrs[V]=W.extended),this._data[3*V+0]=W.content,this._data[3*V+1]=W.fg,this._data[3*V+2]=W.bg}setCellFromCodepoint(V,W,K,A){268435456&A.bg&&(this._extendedAttrs[V]=A.extended),this._data[3*V+0]=W|K<<22,this._data[3*V+1]=A.fg,this._data[3*V+2]=A.bg}addCodepointToCell(V,W,K){let A=this._data[3*V+0];2097152&A?this._combined[V]+=(0,H.stringFromCodePoint)(W):2097151&A?(this._combined[V]=(0,H.stringFromCodePoint)(2097151&A)+(0,H.stringFromCodePoint)(W),A&=-2097152,A|=2097152):A=W|4194304,K&&(A&=-12582913,A|=K<<22),this._data[3*V+0]=A}insertCells(V,W,K){if((V%=this.length)&&this.getWidth(V-1)===2&&this.setCellFromCodepoint(V-1,0,1,K),W<this.length-V){let A=new U.CellData;for(let F=this.length-V-W-1;F>=0;--F)this.setCell(V+W+F,this.loadCell(V+F,A));for(let F=0;F<W;++F)this.setCell(V+F,K)}else for(let A=V;A<this.length;++A)this.setCell(A,K);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,K)}deleteCells(V,W,K){if(V%=this.length,W<this.length-V){let A=new U.CellData;for(let F=0;F<this.length-V-W;++F)this.setCell(V+F,this.loadCell(V+W+F,A));for(let F=this.length-W;F<this.length;++F)this.setCell(F,K)}else for(let A=V;A<this.length;++A)this.setCell(A,K);V&&this.getWidth(V-1)===2&&this.setCellFromCodepoint(V-1,0,1,K),this.getWidth(V)!==0||this.hasContent(V)||this.setCellFromCodepoint(V,0,1,K)}replaceCells(V,W,K,A=!1){if(A)for(V&&this.getWidth(V-1)===2&&!this.isProtected(V-1)&&this.setCellFromCodepoint(V-1,0,1,K),W<this.length&&this.getWidth(W-1)===2&&!this.isProtected(W)&&this.setCellFromCodepoint(W,0,1,K);V<W&&V<this.length;)this.isProtected(V)||this.setCell(V,K),V++;else for(V&&this.getWidth(V-1)===2&&this.setCellFromCodepoint(V-1,0,1,K),W<this.length&&this.getWidth(W-1)===2&&this.setCellFromCodepoint(W,0,1,K);V<W&&V<this.length;)this.setCell(V++,K)}resize(V,W){if(V===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;let K=3*V;if(V>this.length){if(this._data.buffer.byteLength>=4*K)this._data=new Uint32Array(this._data.buffer,0,K);else{let A=new Uint32Array(K);A.set(this._data),this._data=A}for(let A=this.length;A<V;++A)this.setCell(A,W)}else{this._data=this._data.subarray(0,K);let A=Object.keys(this._combined);for(let P=0;P<A.length;P++){let R=parseInt(A[P],10);R>=V&&delete this._combined[R]}let F=Object.keys(this._extendedAttrs);for(let P=0;P<F.length;P++){let R=parseInt(F[P],10);R>=V&&delete this._extendedAttrs[R]}}return this.length=V,4*K*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){let V=new Uint32Array(this._data.length);return V.set(this._data),this._data=V,1}return 0}fill(V,W=!1){if(W)for(let K=0;K<this.length;++K)this.isProtected(K)||this.setCell(K,V);else{this._combined={},this._extendedAttrs={};for(let K=0;K<this.length;++K)this.setCell(K,V)}}copyFrom(V){this.length!==V.length?this._data=new Uint32Array(V._data):this._data.set(V._data),this.length=V.length,this._combined={};for(let W in V._combined)this._combined[W]=V._combined[W];this._extendedAttrs={};for(let W in V._extendedAttrs)this._extendedAttrs[W]=V._extendedAttrs[W];this.isWrapped=V.isWrapped}clone(){let V=new B(0);V._data=new Uint32Array(this._data),V.length=this.length;for(let W in this._combined)V._combined[W]=this._combined[W];for(let W in this._extendedAttrs)V._extendedAttrs[W]=this._extendedAttrs[W];return V.isWrapped=this.isWrapped,V}getTrimmedLength(){for(let V=this.length-1;V>=0;--V)if(4194303&this._data[3*V+0])return V+(this._data[3*V+0]>>22);return 0}getNoBgTrimmedLength(){for(let V=this.length-1;V>=0;--V)if(4194303&this._data[3*V+0]||50331648&this._data[3*V+2])return V+(this._data[3*V+0]>>22);return 0}copyCellsFrom(V,W,K,A,F){let P=V._data;if(F)for(let D=A-1;D>=0;D--){for(let _=0;_<3;_++)this._data[3*(K+D)+_]=P[3*(W+D)+_];268435456&P[3*(W+D)+2]&&(this._extendedAttrs[K+D]=V._extendedAttrs[W+D])}else for(let D=0;D<A;D++){for(let _=0;_<3;_++)this._data[3*(K+D)+_]=P[3*(W+D)+_];268435456&P[3*(W+D)+2]&&(this._extendedAttrs[K+D]=V._extendedAttrs[W+D])}let R=Object.keys(V._combined);for(let D=0;D<R.length;D++){let _=parseInt(R[D],10);_>=W&&(this._combined[_-W+K]=V._combined[_])}}translateToString(V,W,K,A){W=W??0,K=K??this.length,V&&(K=Math.min(K,this.getTrimmedLength())),A&&(A.length=0);let F="";for(;W<K;){let P=this._data[3*W+0],R=2097151&P,D=2097152&P?this._combined[W]:R?(0,H.stringFromCodePoint)(R):z.WHITESPACE_CELL_CHAR;if(F+=D,A)for(let _=0;_<D.length;++_)A.push(W);W+=P>>22||1}return A&&A.push(W),F}}Z.BufferLine=B},4841:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getRangeLength=void 0,Z.getRangeLength=function(G,q){if(G.start.y>G.end.y)throw Error(`Buffer range end (${G.end.x}, ${G.end.y}) cannot be before start (${G.start.x}, ${G.start.y})`);return q*(G.end.y-G.start.y)+(G.end.x-G.start.x+1)}},4634:(Y,Z)=>{function G(q,U,z){if(U===q.length-1)return q[U].getTrimmedLength();let H=!q[U].hasContent(z-1)&&q[U].getWidth(z-1)===1,j=q[U+1].getWidth(0)===2;return H&&j?z-1:z}Object.defineProperty(Z,"__esModule",{value:!0}),Z.getWrappedLineTrimmedLength=Z.reflowSmallerGetNewLineLengths=Z.reflowLargerApplyNewLayout=Z.reflowLargerCreateNewLayout=Z.reflowLargerGetLinesToRemove=void 0,Z.reflowLargerGetLinesToRemove=function(q,U,z,H,j){let B=[];for(let V=0;V<q.length-1;V++){let W=V,K=q.get(++W);if(!K.isWrapped)continue;let A=[q.get(V)];for(;W<q.length&&K.isWrapped;)A.push(K),K=q.get(++W);if(H>=V&&H<W){V+=A.length-1;continue}let F=0,P=G(A,F,U),R=1,D=0;for(;R<A.length;){let O=G(A,R,U),N=O-D,w=z-P,T=Math.min(N,w);A[F].copyCellsFrom(A[R],D,P,T,!1),P+=T,P===z&&(F++,P=0),D+=T,D===O&&(R++,D=0),P===0&&F!==0&&A[F-1].getWidth(z-1)===2&&(A[F].copyCellsFrom(A[F-1],z-1,P++,1,!1),A[F-1].setCell(z-1,j))}A[F].replaceCells(P,z,j);let _=0;for(let O=A.length-1;O>0&&(O>F||A[O].getTrimmedLength()===0);O--)_++;_>0&&(B.push(V+A.length-_),B.push(_)),V+=A.length-1}return B},Z.reflowLargerCreateNewLayout=function(q,U){let z=[],H=0,j=U[H],B=0;for(let V=0;V<q.length;V++)if(j===V){let W=U[++H];q.onDeleteEmitter.fire({index:V-B,amount:W}),V+=W-1,B+=W,j=U[++H]}else z.push(V);return{layout:z,countRemoved:B}},Z.reflowLargerApplyNewLayout=function(q,U){let z=[];for(let H=0;H<U.length;H++)z.push(q.get(U[H]));for(let H=0;H<z.length;H++)q.set(H,z[H]);q.length=U.length},Z.reflowSmallerGetNewLineLengths=function(q,U,z){let H=[],j=q.map((K,A)=>G(q,A,U)).reduce((K,A)=>K+A),B=0,V=0,W=0;for(;W<j;){if(j-W<z){H.push(j-W);break}B+=z;let K=G(q,V,U);B>K&&(B-=K,V++);let A=q[V].getWidth(B-1)===2;A&&B--;let F=A?z-1:z;H.push(F),W+=F}return H},Z.getWrappedLineTrimmedLength=G},5295:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferSet=void 0;let q=G(8460),U=G(844),z=G(9092);class H extends U.Disposable{constructor(j,B){super(),this._optionsService=j,this._bufferService=B,this._onBufferActivate=this.register(new q.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new z.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new z.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(j){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(j),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(j,B){this._normal.resize(j,B),this._alt.resize(j,B),this.setupTabStops(j)}setupTabStops(j){this._normal.setupTabStops(j),this._alt.setupTabStops(j)}}Z.BufferSet=H},511:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CellData=void 0;let q=G(482),U=G(643),z=G(3734);class H extends z.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new z.ExtendedAttrs,this.combinedData=""}static fromCharData(j){let B=new H;return B.setFromCharData(j),B}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,q.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(j){this.fg=j[U.CHAR_DATA_ATTR_INDEX],this.bg=0;let B=!1;if(j[U.CHAR_DATA_CHAR_INDEX].length>2)B=!0;else if(j[U.CHAR_DATA_CHAR_INDEX].length===2){let V=j[U.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=V&&V<=56319){let W=j[U.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=W&&W<=57343?this.content=1024*(V-55296)+W-56320+65536|j[U.CHAR_DATA_WIDTH_INDEX]<<22:B=!0}else B=!0}else this.content=j[U.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|j[U.CHAR_DATA_WIDTH_INDEX]<<22;B&&(this.combinedData=j[U.CHAR_DATA_CHAR_INDEX],this.content=2097152|j[U.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}Z.CellData=H},643:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WHITESPACE_CELL_CODE=Z.WHITESPACE_CELL_WIDTH=Z.WHITESPACE_CELL_CHAR=Z.NULL_CELL_CODE=Z.NULL_CELL_WIDTH=Z.NULL_CELL_CHAR=Z.CHAR_DATA_CODE_INDEX=Z.CHAR_DATA_WIDTH_INDEX=Z.CHAR_DATA_CHAR_INDEX=Z.CHAR_DATA_ATTR_INDEX=Z.DEFAULT_EXT=Z.DEFAULT_ATTR=Z.DEFAULT_COLOR=void 0,Z.DEFAULT_COLOR=0,Z.DEFAULT_ATTR=256|Z.DEFAULT_COLOR<<9,Z.DEFAULT_EXT=0,Z.CHAR_DATA_ATTR_INDEX=0,Z.CHAR_DATA_CHAR_INDEX=1,Z.CHAR_DATA_WIDTH_INDEX=2,Z.CHAR_DATA_CODE_INDEX=3,Z.NULL_CELL_CHAR="",Z.NULL_CELL_WIDTH=1,Z.NULL_CELL_CODE=0,Z.WHITESPACE_CELL_CHAR=" ",Z.WHITESPACE_CELL_WIDTH=1,Z.WHITESPACE_CELL_CODE=32},4863:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Marker=void 0;let q=G(8460),U=G(844);class z{get id(){return this._id}constructor(H){this.line=H,this.isDisposed=!1,this._disposables=[],this._id=z._nextId++,this._onDispose=this.register(new q.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,U.disposeArray)(this._disposables),this._disposables.length=0)}register(H){return this._disposables.push(H),H}}Z.Marker=z,z._nextId=1},7116:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DEFAULT_CHARSET=Z.CHARSETS=void 0,Z.CHARSETS={},Z.DEFAULT_CHARSET=Z.CHARSETS.B,Z.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},Z.CHARSETS.A={"#":"£"},Z.CHARSETS.B=void 0,Z.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},Z.CHARSETS.C=Z.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},Z.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},Z.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},Z.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},Z.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},Z.CHARSETS.E=Z.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},Z.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},Z.CHARSETS.H=Z.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},Z.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(Y,Z)=>{var G,q,U;Object.defineProperty(Z,"__esModule",{value:!0}),Z.C1_ESCAPED=Z.C1=Z.C0=void 0,function(z){z.NUL="\x00",z.SOH="\x01",z.STX="\x02",z.ETX="\x03",z.EOT="\x04",z.ENQ="\x05",z.ACK="\x06",z.BEL="\x07",z.BS="\b",z.HT="\t",z.LF=`
`,z.VT="\v",z.FF="\f",z.CR="\r",z.SO="\x0E",z.SI="\x0F",z.DLE="\x10",z.DC1="\x11",z.DC2="\x12",z.DC3="\x13",z.DC4="\x14",z.NAK="\x15",z.SYN="\x16",z.ETB="\x17",z.CAN="\x18",z.EM="\x19",z.SUB="\x1A",z.ESC="\x1B",z.FS="\x1C",z.GS="\x1D",z.RS="\x1E",z.US="\x1F",z.SP=" ",z.DEL=""}(G||(Z.C0=G={})),function(z){z.PAD="",z.HOP="",z.BPH="",z.NBH="",z.IND="",z.NEL="",z.SSA="",z.ESA="",z.HTS="",z.HTJ="",z.VTS="",z.PLD="",z.PLU="",z.RI="",z.SS2="",z.SS3="",z.DCS="",z.PU1="",z.PU2="",z.STS="",z.CCH="",z.MW="",z.SPA="",z.EPA="",z.SOS="",z.SGCI="",z.SCI="",z.CSI="",z.ST="",z.OSC="",z.PM="",z.APC=""}(q||(Z.C1=q={})),function(z){z.ST=`${G.ESC}\\`}(U||(Z.C1_ESCAPED=U={}))},7399:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.evaluateKeyboardEvent=void 0;let q=G(2584),U={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};Z.evaluateKeyboardEvent=function(z,H,j,B){let V={type:0,cancel:!1,key:void 0},W=(z.shiftKey?1:0)|(z.altKey?2:0)|(z.ctrlKey?4:0)|(z.metaKey?8:0);switch(z.keyCode){case 0:z.key==="UIKeyInputUpArrow"?V.key=H?q.C0.ESC+"OA":q.C0.ESC+"[A":z.key==="UIKeyInputLeftArrow"?V.key=H?q.C0.ESC+"OD":q.C0.ESC+"[D":z.key==="UIKeyInputRightArrow"?V.key=H?q.C0.ESC+"OC":q.C0.ESC+"[C":z.key==="UIKeyInputDownArrow"&&(V.key=H?q.C0.ESC+"OB":q.C0.ESC+"[B");break;case 8:V.key=z.ctrlKey?"\b":q.C0.DEL,z.altKey&&(V.key=q.C0.ESC+V.key);break;case 9:if(z.shiftKey){V.key=q.C0.ESC+"[Z";break}V.key=q.C0.HT,V.cancel=!0;break;case 13:V.key=z.altKey?q.C0.ESC+q.C0.CR:q.C0.CR,V.cancel=!0;break;case 27:V.key=q.C0.ESC,z.altKey&&(V.key=q.C0.ESC+q.C0.ESC),V.cancel=!0;break;case 37:if(z.metaKey)break;W?(V.key=q.C0.ESC+"[1;"+(W+1)+"D",V.key===q.C0.ESC+"[1;3D"&&(V.key=q.C0.ESC+(j?"b":"[1;5D"))):V.key=H?q.C0.ESC+"OD":q.C0.ESC+"[D";break;case 39:if(z.metaKey)break;W?(V.key=q.C0.ESC+"[1;"+(W+1)+"C",V.key===q.C0.ESC+"[1;3C"&&(V.key=q.C0.ESC+(j?"f":"[1;5C"))):V.key=H?q.C0.ESC+"OC":q.C0.ESC+"[C";break;case 38:if(z.metaKey)break;W?(V.key=q.C0.ESC+"[1;"+(W+1)+"A",j||V.key!==q.C0.ESC+"[1;3A"||(V.key=q.C0.ESC+"[1;5A")):V.key=H?q.C0.ESC+"OA":q.C0.ESC+"[A";break;case 40:if(z.metaKey)break;W?(V.key=q.C0.ESC+"[1;"+(W+1)+"B",j||V.key!==q.C0.ESC+"[1;3B"||(V.key=q.C0.ESC+"[1;5B")):V.key=H?q.C0.ESC+"OB":q.C0.ESC+"[B";break;case 45:z.shiftKey||z.ctrlKey||(V.key=q.C0.ESC+"[2~");break;case 46:V.key=W?q.C0.ESC+"[3;"+(W+1)+"~":q.C0.ESC+"[3~";break;case 36:V.key=W?q.C0.ESC+"[1;"+(W+1)+"H":H?q.C0.ESC+"OH":q.C0.ESC+"[H";break;case 35:V.key=W?q.C0.ESC+"[1;"+(W+1)+"F":H?q.C0.ESC+"OF":q.C0.ESC+"[F";break;case 33:z.shiftKey?V.type=2:z.ctrlKey?V.key=q.C0.ESC+"[5;"+(W+1)+"~":V.key=q.C0.ESC+"[5~";break;case 34:z.shiftKey?V.type=3:z.ctrlKey?V.key=q.C0.ESC+"[6;"+(W+1)+"~":V.key=q.C0.ESC+"[6~";break;case 112:V.key=W?q.C0.ESC+"[1;"+(W+1)+"P":q.C0.ESC+"OP";break;case 113:V.key=W?q.C0.ESC+"[1;"+(W+1)+"Q":q.C0.ESC+"OQ";break;case 114:V.key=W?q.C0.ESC+"[1;"+(W+1)+"R":q.C0.ESC+"OR";break;case 115:V.key=W?q.C0.ESC+"[1;"+(W+1)+"S":q.C0.ESC+"OS";break;case 116:V.key=W?q.C0.ESC+"[15;"+(W+1)+"~":q.C0.ESC+"[15~";break;case 117:V.key=W?q.C0.ESC+"[17;"+(W+1)+"~":q.C0.ESC+"[17~";break;case 118:V.key=W?q.C0.ESC+"[18;"+(W+1)+"~":q.C0.ESC+"[18~";break;case 119:V.key=W?q.C0.ESC+"[19;"+(W+1)+"~":q.C0.ESC+"[19~";break;case 120:V.key=W?q.C0.ESC+"[20;"+(W+1)+"~":q.C0.ESC+"[20~";break;case 121:V.key=W?q.C0.ESC+"[21;"+(W+1)+"~":q.C0.ESC+"[21~";break;case 122:V.key=W?q.C0.ESC+"[23;"+(W+1)+"~":q.C0.ESC+"[23~";break;case 123:V.key=W?q.C0.ESC+"[24;"+(W+1)+"~":q.C0.ESC+"[24~";break;default:if(!z.ctrlKey||z.shiftKey||z.altKey||z.metaKey)if(j&&!B||!z.altKey||z.metaKey)!j||z.altKey||z.ctrlKey||z.shiftKey||!z.metaKey?z.key&&!z.ctrlKey&&!z.altKey&&!z.metaKey&&z.keyCode>=48&&z.key.length===1?V.key=z.key:z.key&&z.ctrlKey&&(z.key==="_"&&(V.key=q.C0.US),z.key==="@"&&(V.key=q.C0.NUL)):z.keyCode===65&&(V.type=1);else{let K=U[z.keyCode],A=K?.[z.shiftKey?1:0];if(A)V.key=q.C0.ESC+A;else if(z.keyCode>=65&&z.keyCode<=90){let F=z.ctrlKey?z.keyCode-64:z.keyCode+32,P=String.fromCharCode(F);z.shiftKey&&(P=P.toUpperCase()),V.key=q.C0.ESC+P}else if(z.keyCode===32)V.key=q.C0.ESC+(z.ctrlKey?q.C0.NUL:" ");else if(z.key==="Dead"&&z.code.startsWith("Key")){let F=z.code.slice(3,4);z.shiftKey||(F=F.toLowerCase()),V.key=q.C0.ESC+F,V.cancel=!0}}else z.keyCode>=65&&z.keyCode<=90?V.key=String.fromCharCode(z.keyCode-64):z.keyCode===32?V.key=q.C0.NUL:z.keyCode>=51&&z.keyCode<=55?V.key=String.fromCharCode(z.keyCode-51+27):z.keyCode===56?V.key=q.C0.DEL:z.keyCode===219?V.key=q.C0.ESC:z.keyCode===220?V.key=q.C0.FS:z.keyCode===221&&(V.key=q.C0.GS)}return V}},482:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Utf8ToUtf32=Z.StringToUtf32=Z.utf32ToString=Z.stringFromCodePoint=void 0,Z.stringFromCodePoint=function(G){return G>65535?(G-=65536,String.fromCharCode(55296+(G>>10))+String.fromCharCode(G%1024+56320)):String.fromCharCode(G)},Z.utf32ToString=function(G,q=0,U=G.length){let z="";for(let H=q;H<U;++H){let j=G[H];j>65535?(j-=65536,z+=String.fromCharCode(55296+(j>>10))+String.fromCharCode(j%1024+56320)):z+=String.fromCharCode(j)}return z},Z.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(G,q){let U=G.length;if(!U)return 0;let z=0,H=0;if(this._interim){let j=G.charCodeAt(H++);56320<=j&&j<=57343?q[z++]=1024*(this._interim-55296)+j-56320+65536:(q[z++]=this._interim,q[z++]=j),this._interim=0}for(let j=H;j<U;++j){let B=G.charCodeAt(j);if(55296<=B&&B<=56319){if(++j>=U)return this._interim=B,z;let V=G.charCodeAt(j);56320<=V&&V<=57343?q[z++]=1024*(B-55296)+V-56320+65536:(q[z++]=B,q[z++]=V)}else B!==65279&&(q[z++]=B)}return z}},Z.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(G,q){let U=G.length;if(!U)return 0;let z,H,j,B,V=0,W=0,K=0;if(this.interim[0]){let P=!1,R=this.interim[0];R&=(224&R)==192?31:(240&R)==224?15:7;let D,_=0;for(;(D=63&this.interim[++_])&&_<4;)R<<=6,R|=D;let O=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,N=O-_;for(;K<N;){if(K>=U)return 0;if(D=G[K++],(192&D)!=128){K--,P=!0;break}this.interim[_++]=D,R<<=6,R|=63&D}P||(O===2?R<128?K--:q[V++]=R:O===3?R<2048||R>=55296&&R<=57343||R===65279||(q[V++]=R):R<65536||R>1114111||(q[V++]=R)),this.interim.fill(0)}let A=U-4,F=K;for(;F<U;){for(;!(!(F<A)||128&(z=G[F])||128&(H=G[F+1])||128&(j=G[F+2])||128&(B=G[F+3]));)q[V++]=z,q[V++]=H,q[V++]=j,q[V++]=B,F+=4;if(z=G[F++],z<128)q[V++]=z;else if((224&z)==192){if(F>=U)return this.interim[0]=z,V;if(H=G[F++],(192&H)!=128){F--;continue}if(W=(31&z)<<6|63&H,W<128){F--;continue}q[V++]=W}else if((240&z)==224){if(F>=U)return this.interim[0]=z,V;if(H=G[F++],(192&H)!=128){F--;continue}if(F>=U)return this.interim[0]=z,this.interim[1]=H,V;if(j=G[F++],(192&j)!=128){F--;continue}if(W=(15&z)<<12|(63&H)<<6|63&j,W<2048||W>=55296&&W<=57343||W===65279)continue;q[V++]=W}else if((248&z)==240){if(F>=U)return this.interim[0]=z,V;if(H=G[F++],(192&H)!=128){F--;continue}if(F>=U)return this.interim[0]=z,this.interim[1]=H,V;if(j=G[F++],(192&j)!=128){F--;continue}if(F>=U)return this.interim[0]=z,this.interim[1]=H,this.interim[2]=j,V;if(B=G[F++],(192&B)!=128){F--;continue}if(W=(7&z)<<18|(63&H)<<12|(63&j)<<6|63&B,W<65536||W>1114111)continue;q[V++]=W}}return V}}},225:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.UnicodeV6=void 0;let q=G(1480),U=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],z=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],H;Z.UnicodeV6=class{constructor(){if(this.version="6",!H){H=new Uint8Array(65536),H.fill(1),H[0]=0,H.fill(0,1,32),H.fill(0,127,160),H.fill(2,4352,4448),H[9001]=2,H[9002]=2,H.fill(2,11904,42192),H[12351]=1,H.fill(2,44032,55204),H.fill(2,63744,64256),H.fill(2,65040,65050),H.fill(2,65072,65136),H.fill(2,65280,65377),H.fill(2,65504,65511);for(let j=0;j<U.length;++j)H.fill(0,U[j][0],U[j][1]+1)}}wcwidth(j){return j<32?0:j<127?1:j<65536?H[j]:function(B,V){let W,K=0,A=V.length-1;if(B<V[0][0]||B>V[A][1])return!1;for(;A>=K;)if(W=K+A>>1,B>V[W][1])K=W+1;else{if(!(B<V[W][0]))return!0;A=W-1}return!1}(j,z)?0:j>=131072&&j<=196605||j>=196608&&j<=262141?2:1}charProperties(j,B){let V=this.wcwidth(j),W=V===0&&B!==0;if(W){let K=q.UnicodeService.extractWidth(B);K===0?W=!1:K>V&&(V=K)}return q.UnicodeService.createPropertyValue(0,V,W)}}},5981:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WriteBuffer=void 0;let q=G(8460),U=G(844);class z extends U.Disposable{constructor(H){super(),this._action=H,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new q.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(H,j){if(j!==void 0&&this._syncCalls>j)return void(this._syncCalls=0);if(this._pendingData+=H.length,this._writeBuffer.push(H),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let B;for(this._isSyncWriting=!0;B=this._writeBuffer.shift();){this._action(B);let V=this._callbacks.shift();V&&V()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(H,j){if(this._pendingData>50000000)throw Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=H.length,this._writeBuffer.push(H),this._callbacks.push(j),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=H.length,this._writeBuffer.push(H),this._callbacks.push(j)}_innerWrite(H=0,j=!0){let B=H||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){let V=this._writeBuffer[this._bufferOffset],W=this._action(V,j);if(W){let A=(F)=>Date.now()-B>=12?setTimeout(()=>this._innerWrite(0,F)):this._innerWrite(B,F);return void W.catch((F)=>(queueMicrotask(()=>{throw F}),Promise.resolve(!1))).then(A)}let K=this._callbacks[this._bufferOffset];if(K&&K(),this._bufferOffset++,this._pendingData-=V.length,Date.now()-B>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}Z.WriteBuffer=z},5941:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.toRgbString=Z.parseColor=void 0;let G=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,q=/^[\da-f]+$/;function U(z,H){let j=z.toString(16),B=j.length<2?"0"+j:j;switch(H){case 4:return j[0];case 8:return B;case 12:return(B+B).slice(0,3);default:return B+B}}Z.parseColor=function(z){if(!z)return;let H=z.toLowerCase();if(H.indexOf("rgb:")===0){H=H.slice(4);let j=G.exec(H);if(j){let B=j[1]?15:j[4]?255:j[7]?4095:65535;return[Math.round(parseInt(j[1]||j[4]||j[7]||j[10],16)/B*255),Math.round(parseInt(j[2]||j[5]||j[8]||j[11],16)/B*255),Math.round(parseInt(j[3]||j[6]||j[9]||j[12],16)/B*255)]}}else if(H.indexOf("#")===0&&(H=H.slice(1),q.exec(H)&&[3,6,9,12].includes(H.length))){let j=H.length/3,B=[0,0,0];for(let V=0;V<3;++V){let W=parseInt(H.slice(j*V,j*V+j),16);B[V]=j===1?W<<4:j===2?W:j===3?W>>4:W>>8}return B}},Z.toRgbString=function(z,H=16){let[j,B,V]=z;return`rgb:${U(j,H)}/${U(B,H)}/${U(V,H)}`}},5770:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.PAYLOAD_LIMIT=void 0,Z.PAYLOAD_LIMIT=1e7},6351:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DcsHandler=Z.DcsParser=void 0;let q=G(482),U=G(8742),z=G(5770),H=[];Z.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=H,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=H}registerHandler(B,V){this._handlers[B]===void 0&&(this._handlers[B]=[]);let W=this._handlers[B];return W.push(V),{dispose:()=>{let K=W.indexOf(V);K!==-1&&W.splice(K,1)}}}clearHandler(B){this._handlers[B]&&delete this._handlers[B]}setHandlerFallback(B){this._handlerFb=B}reset(){if(this._active.length)for(let B=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;B>=0;--B)this._active[B].unhook(!1);this._stack.paused=!1,this._active=H,this._ident=0}hook(B,V){if(this.reset(),this._ident=B,this._active=this._handlers[B]||H,this._active.length)for(let W=this._active.length-1;W>=0;W--)this._active[W].hook(V);else this._handlerFb(this._ident,"HOOK",V)}put(B,V,W){if(this._active.length)for(let K=this._active.length-1;K>=0;K--)this._active[K].put(B,V,W);else this._handlerFb(this._ident,"PUT",(0,q.utf32ToString)(B,V,W))}unhook(B,V=!0){if(this._active.length){let W=!1,K=this._active.length-1,A=!1;if(this._stack.paused&&(K=this._stack.loopPosition-1,W=V,A=this._stack.fallThrough,this._stack.paused=!1),!A&&W===!1){for(;K>=0&&(W=this._active[K].unhook(B),W!==!0);K--)if(W instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=K,this._stack.fallThrough=!1,W;K--}for(;K>=0;K--)if(W=this._active[K].unhook(!1),W instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=K,this._stack.fallThrough=!0,W}else this._handlerFb(this._ident,"UNHOOK",B);this._active=H,this._ident=0}};let j=new U.Params;j.addParam(0),Z.DcsHandler=class{constructor(B){this._handler=B,this._data="",this._params=j,this._hitLimit=!1}hook(B){this._params=B.length>1||B.params[0]?B.clone():j,this._data="",this._hitLimit=!1}put(B,V,W){this._hitLimit||(this._data+=(0,q.utf32ToString)(B,V,W),this._data.length>z.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(B){let V=!1;if(this._hitLimit)V=!1;else if(B&&(V=this._handler(this._data,this._params),V instanceof Promise))return V.then((W)=>(this._params=j,this._data="",this._hitLimit=!1,W));return this._params=j,this._data="",this._hitLimit=!1,V}}},2015:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.EscapeSequenceParser=Z.VT500_TRANSITION_TABLE=Z.TransitionTable=void 0;let q=G(844),U=G(8742),z=G(6242),H=G(6351);class j{constructor(W){this.table=new Uint8Array(W)}setDefault(W,K){this.table.fill(W<<4|K)}add(W,K,A,F){this.table[K<<8|W]=A<<4|F}addMany(W,K,A,F){for(let P=0;P<W.length;P++)this.table[K<<8|W[P]]=A<<4|F}}Z.TransitionTable=j;let B=160;Z.VT500_TRANSITION_TABLE=function(){let W=new j(4095),K=Array.apply(null,Array(256)).map((_,O)=>O),A=(_,O)=>K.slice(_,O),F=A(32,127),P=A(0,24);P.push(25),P.push.apply(P,A(28,32));let R=A(0,14),D;for(D in W.setDefault(1,0),W.addMany(F,0,2,0),R)W.addMany([24,26,153,154],D,3,0),W.addMany(A(128,144),D,3,0),W.addMany(A(144,152),D,3,0),W.add(156,D,0,0),W.add(27,D,11,1),W.add(157,D,4,8),W.addMany([152,158,159],D,0,7),W.add(155,D,11,3),W.add(144,D,11,9);return W.addMany(P,0,3,0),W.addMany(P,1,3,1),W.add(127,1,0,1),W.addMany(P,8,0,8),W.addMany(P,3,3,3),W.add(127,3,0,3),W.addMany(P,4,3,4),W.add(127,4,0,4),W.addMany(P,6,3,6),W.addMany(P,5,3,5),W.add(127,5,0,5),W.addMany(P,2,3,2),W.add(127,2,0,2),W.add(93,1,4,8),W.addMany(F,8,5,8),W.add(127,8,5,8),W.addMany([156,27,24,26,7],8,6,0),W.addMany(A(28,32),8,0,8),W.addMany([88,94,95],1,0,7),W.addMany(F,7,0,7),W.addMany(P,7,0,7),W.add(156,7,0,0),W.add(127,7,0,7),W.add(91,1,11,3),W.addMany(A(64,127),3,7,0),W.addMany(A(48,60),3,8,4),W.addMany([60,61,62,63],3,9,4),W.addMany(A(48,60),4,8,4),W.addMany(A(64,127),4,7,0),W.addMany([60,61,62,63],4,0,6),W.addMany(A(32,64),6,0,6),W.add(127,6,0,6),W.addMany(A(64,127),6,0,0),W.addMany(A(32,48),3,9,5),W.addMany(A(32,48),5,9,5),W.addMany(A(48,64),5,0,6),W.addMany(A(64,127),5,7,0),W.addMany(A(32,48),4,9,5),W.addMany(A(32,48),1,9,2),W.addMany(A(32,48),2,9,2),W.addMany(A(48,127),2,10,0),W.addMany(A(48,80),1,10,0),W.addMany(A(81,88),1,10,0),W.addMany([89,90,92],1,10,0),W.addMany(A(96,127),1,10,0),W.add(80,1,11,9),W.addMany(P,9,0,9),W.add(127,9,0,9),W.addMany(A(28,32),9,0,9),W.addMany(A(32,48),9,9,12),W.addMany(A(48,60),9,8,10),W.addMany([60,61,62,63],9,9,10),W.addMany(P,11,0,11),W.addMany(A(32,128),11,0,11),W.addMany(A(28,32),11,0,11),W.addMany(P,10,0,10),W.add(127,10,0,10),W.addMany(A(28,32),10,0,10),W.addMany(A(48,60),10,8,10),W.addMany([60,61,62,63],10,0,11),W.addMany(A(32,48),10,9,12),W.addMany(P,12,0,12),W.add(127,12,0,12),W.addMany(A(28,32),12,0,12),W.addMany(A(32,48),12,9,12),W.addMany(A(48,64),12,0,11),W.addMany(A(64,127),12,12,13),W.addMany(A(64,127),10,12,13),W.addMany(A(64,127),9,12,13),W.addMany(P,13,13,13),W.addMany(F,13,13,13),W.add(127,13,0,13),W.addMany([27,156,24,26],13,14,0),W.add(B,0,2,0),W.add(B,8,5,8),W.add(B,6,0,6),W.add(B,11,0,11),W.add(B,13,13,13),W}();class V extends q.Disposable{constructor(W=Z.VT500_TRANSITION_TABLE){super(),this._transitions=W,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new U.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(K,A,F)=>{},this._executeHandlerFb=(K)=>{},this._csiHandlerFb=(K,A)=>{},this._escHandlerFb=(K)=>{},this._errorHandlerFb=(K)=>K,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,q.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new z.OscParser),this._dcsParser=this.register(new H.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(W,K=[64,126]){let A=0;if(W.prefix){if(W.prefix.length>1)throw Error("only one byte as prefix supported");if(A=W.prefix.charCodeAt(0),A&&60>A||A>63)throw Error("prefix must be in range 0x3c .. 0x3f")}if(W.intermediates){if(W.intermediates.length>2)throw Error("only two bytes as intermediates are supported");for(let P=0;P<W.intermediates.length;++P){let R=W.intermediates.charCodeAt(P);if(32>R||R>47)throw Error("intermediate must be in range 0x20 .. 0x2f");A<<=8,A|=R}}if(W.final.length!==1)throw Error("final must be a single byte");let F=W.final.charCodeAt(0);if(K[0]>F||F>K[1])throw Error(`final must be in range ${K[0]} .. ${K[1]}`);return A<<=8,A|=F,A}identToString(W){let K=[];for(;W;)K.push(String.fromCharCode(255&W)),W>>=8;return K.reverse().join("")}setPrintHandler(W){this._printHandler=W}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(W,K){let A=this._identifier(W,[48,126]);this._escHandlers[A]===void 0&&(this._escHandlers[A]=[]);let F=this._escHandlers[A];return F.push(K),{dispose:()=>{let P=F.indexOf(K);P!==-1&&F.splice(P,1)}}}clearEscHandler(W){this._escHandlers[this._identifier(W,[48,126])]&&delete this._escHandlers[this._identifier(W,[48,126])]}setEscHandlerFallback(W){this._escHandlerFb=W}setExecuteHandler(W,K){this._executeHandlers[W.charCodeAt(0)]=K}clearExecuteHandler(W){this._executeHandlers[W.charCodeAt(0)]&&delete this._executeHandlers[W.charCodeAt(0)]}setExecuteHandlerFallback(W){this._executeHandlerFb=W}registerCsiHandler(W,K){let A=this._identifier(W);this._csiHandlers[A]===void 0&&(this._csiHandlers[A]=[]);let F=this._csiHandlers[A];return F.push(K),{dispose:()=>{let P=F.indexOf(K);P!==-1&&F.splice(P,1)}}}clearCsiHandler(W){this._csiHandlers[this._identifier(W)]&&delete this._csiHandlers[this._identifier(W)]}setCsiHandlerFallback(W){this._csiHandlerFb=W}registerDcsHandler(W,K){return this._dcsParser.registerHandler(this._identifier(W),K)}clearDcsHandler(W){this._dcsParser.clearHandler(this._identifier(W))}setDcsHandlerFallback(W){this._dcsParser.setHandlerFallback(W)}registerOscHandler(W,K){return this._oscParser.registerHandler(W,K)}clearOscHandler(W){this._oscParser.clearHandler(W)}setOscHandlerFallback(W){this._oscParser.setHandlerFallback(W)}setErrorHandler(W){this._errorHandler=W}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(W,K,A,F,P){this._parseStack.state=W,this._parseStack.handlers=K,this._parseStack.handlerPos=A,this._parseStack.transition=F,this._parseStack.chunkPos=P}parse(W,K,A){let F,P=0,R=0,D=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,D=this._parseStack.chunkPos+1;else{if(A===void 0||this._parseStack.state===1)throw this._parseStack.state=1,Error("improper continuation due to previous async handler, giving up parsing");let _=this._parseStack.handlers,O=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(A===!1&&O>-1){for(;O>=0&&(F=_[O](this._params),F!==!0);O--)if(F instanceof Promise)return this._parseStack.handlerPos=O,F}this._parseStack.handlers=[];break;case 4:if(A===!1&&O>-1){for(;O>=0&&(F=_[O](),F!==!0);O--)if(F instanceof Promise)return this._parseStack.handlerPos=O,F}this._parseStack.handlers=[];break;case 6:if(P=W[this._parseStack.chunkPos],F=this._dcsParser.unhook(P!==24&&P!==26,A),F)return F;P===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(P=W[this._parseStack.chunkPos],F=this._oscParser.end(P!==24&&P!==26,A),F)return F;P===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,D=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let _=D;_<K;++_){switch(P=W[_],R=this._transitions.table[this.currentState<<8|(P<160?P:B)],R>>4){case 2:for(let I=_+1;;++I){if(I>=K||(P=W[I])<32||P>126&&P<B){this._printHandler(W,_,I),_=I-1;break}if(++I>=K||(P=W[I])<32||P>126&&P<B){this._printHandler(W,_,I),_=I-1;break}if(++I>=K||(P=W[I])<32||P>126&&P<B){this._printHandler(W,_,I),_=I-1;break}if(++I>=K||(P=W[I])<32||P>126&&P<B){this._printHandler(W,_,I),_=I-1;break}}break;case 3:this._executeHandlers[P]?this._executeHandlers[P]():this._executeHandlerFb(P),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:P,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let O=this._csiHandlers[this._collect<<8|P],N=O?O.length-1:-1;for(;N>=0&&(F=O[N](this._params),F!==!0);N--)if(F instanceof Promise)return this._preserveStack(3,O,N,R,_),F;N<0&&this._csiHandlerFb(this._collect<<8|P,this._params),this.precedingJoinState=0;break;case 8:do switch(P){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(P-48)}while(++_<K&&(P=W[_])>47&&P<60);_--;break;case 9:this._collect<<=8,this._collect|=P;break;case 10:let w=this._escHandlers[this._collect<<8|P],T=w?w.length-1:-1;for(;T>=0&&(F=w[T](),F!==!0);T--)if(F instanceof Promise)return this._preserveStack(4,w,T,R,_),F;T<0&&this._escHandlerFb(this._collect<<8|P),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|P,this._params);break;case 13:for(let I=_+1;;++I)if(I>=K||(P=W[I])===24||P===26||P===27||P>127&&P<B){this._dcsParser.put(W,_,I),_=I-1;break}break;case 14:if(F=this._dcsParser.unhook(P!==24&&P!==26),F)return this._preserveStack(6,[],0,R,_),F;P===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let I=_+1;;I++)if(I>=K||(P=W[I])<32||P>127&&P<B){this._oscParser.put(W,_,I),_=I-1;break}break;case 6:if(F=this._oscParser.end(P!==24&&P!==26),F)return this._preserveStack(5,[],0,R,_),F;P===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&R}}}Z.EscapeSequenceParser=V},6242:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.OscHandler=Z.OscParser=void 0;let q=G(5770),U=G(482),z=[];Z.OscParser=class{constructor(){this._state=0,this._active=z,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(H,j){this._handlers[H]===void 0&&(this._handlers[H]=[]);let B=this._handlers[H];return B.push(j),{dispose:()=>{let V=B.indexOf(j);V!==-1&&B.splice(V,1)}}}clearHandler(H){this._handlers[H]&&delete this._handlers[H]}setHandlerFallback(H){this._handlerFb=H}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=z}reset(){if(this._state===2)for(let H=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;H>=0;--H)this._active[H].end(!1);this._stack.paused=!1,this._active=z,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||z,this._active.length)for(let H=this._active.length-1;H>=0;H--)this._active[H].start();else this._handlerFb(this._id,"START")}_put(H,j,B){if(this._active.length)for(let V=this._active.length-1;V>=0;V--)this._active[V].put(H,j,B);else this._handlerFb(this._id,"PUT",(0,U.utf32ToString)(H,j,B))}start(){this.reset(),this._state=1}put(H,j,B){if(this._state!==3){if(this._state===1)for(;j<B;){let V=H[j++];if(V===59){this._state=2,this._start();break}if(V<48||57<V)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+V-48}this._state===2&&B-j>0&&this._put(H,j,B)}}end(H,j=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let B=!1,V=this._active.length-1,W=!1;if(this._stack.paused&&(V=this._stack.loopPosition-1,B=j,W=this._stack.fallThrough,this._stack.paused=!1),!W&&B===!1){for(;V>=0&&(B=this._active[V].end(H),B!==!0);V--)if(B instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=V,this._stack.fallThrough=!1,B;V--}for(;V>=0;V--)if(B=this._active[V].end(!1),B instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=V,this._stack.fallThrough=!0,B}else this._handlerFb(this._id,"END",H);this._active=z,this._id=-1,this._state=0}}},Z.OscHandler=class{constructor(H){this._handler=H,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(H,j,B){this._hitLimit||(this._data+=(0,U.utf32ToString)(H,j,B),this._data.length>q.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(H){let j=!1;if(this._hitLimit)j=!1;else if(H&&(j=this._handler(this._data),j instanceof Promise))return j.then((B)=>(this._data="",this._hitLimit=!1,B));return this._data="",this._hitLimit=!1,j}}},8742:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Params=void 0;let G=2147483647;class q{static fromArray(U){let z=new q;if(!U.length)return z;for(let H=Array.isArray(U[0])?1:0;H<U.length;++H){let j=U[H];if(Array.isArray(j))for(let B=0;B<j.length;++B)z.addSubParam(j[B]);else z.addParam(j)}return z}constructor(U=32,z=32){if(this.maxLength=U,this.maxSubParamsLength=z,z>256)throw Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(U),this.length=0,this._subParams=new Int32Array(z),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(U),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){let U=new q(this.maxLength,this.maxSubParamsLength);return U.params.set(this.params),U.length=this.length,U._subParams.set(this._subParams),U._subParamsLength=this._subParamsLength,U._subParamsIdx.set(this._subParamsIdx),U._rejectDigits=this._rejectDigits,U._rejectSubDigits=this._rejectSubDigits,U._digitIsSub=this._digitIsSub,U}toArray(){let U=[];for(let z=0;z<this.length;++z){U.push(this.params[z]);let H=this._subParamsIdx[z]>>8,j=255&this._subParamsIdx[z];j-H>0&&U.push(Array.prototype.slice.call(this._subParams,H,j))}return U}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(U){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(U<-1)throw Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=U>G?G:U}}addSubParam(U){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(U<-1)throw Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=U>G?G:U,this._subParamsIdx[this.length-1]++}}hasSubParams(U){return(255&this._subParamsIdx[U])-(this._subParamsIdx[U]>>8)>0}getSubParams(U){let z=this._subParamsIdx[U]>>8,H=255&this._subParamsIdx[U];return H-z>0?this._subParams.subarray(z,H):null}getSubParamsAll(){let U={};for(let z=0;z<this.length;++z){let H=this._subParamsIdx[z]>>8,j=255&this._subParamsIdx[z];j-H>0&&(U[z]=this._subParams.slice(H,j))}return U}addDigit(U){let z;if(this._rejectDigits||!(z=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let H=this._digitIsSub?this._subParams:this.params,j=H[z-1];H[z-1]=~j?Math.min(10*j+U,G):U}}Z.Params=q},5741:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AddonManager=void 0,Z.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let G=this._addons.length-1;G>=0;G--)this._addons[G].instance.dispose()}loadAddon(G,q){let U={instance:q,dispose:q.dispose,isDisposed:!1};this._addons.push(U),q.dispose=()=>this._wrappedAddonDispose(U),q.activate(G)}_wrappedAddonDispose(G){if(G.isDisposed)return;let q=-1;for(let U=0;U<this._addons.length;U++)if(this._addons[U]===G){q=U;break}if(q===-1)throw Error("Could not dispose an addon that has not been loaded");G.isDisposed=!0,G.dispose.apply(G.instance),this._addons.splice(q,1)}}},8771:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferApiView=void 0;let q=G(3785),U=G(511);Z.BufferApiView=class{constructor(z,H){this._buffer=z,this.type=H}init(z){return this._buffer=z,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(z){let H=this._buffer.lines.get(z);if(H)return new q.BufferLineApiView(H)}getNullCell(){return new U.CellData}}},3785:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferLineApiView=void 0;let q=G(511);Z.BufferLineApiView=class{constructor(U){this._line=U}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(U,z){if(!(U<0||U>=this._line.length))return z?(this._line.loadCell(U,z),z):this._line.loadCell(U,new q.CellData)}translateToString(U,z,H){return this._line.translateToString(U,z,H)}}},8285:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferNamespaceApi=void 0;let q=G(8771),U=G(8460),z=G(844);class H extends z.Disposable{constructor(j){super(),this._core=j,this._onBufferChange=this.register(new U.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new q.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new q.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}Z.BufferNamespaceApi=H},7975:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ParserApi=void 0,Z.ParserApi=class{constructor(G){this._core=G}registerCsiHandler(G,q){return this._core.registerCsiHandler(G,(U)=>q(U.toArray()))}addCsiHandler(G,q){return this.registerCsiHandler(G,q)}registerDcsHandler(G,q){return this._core.registerDcsHandler(G,(U,z)=>q(U,z.toArray()))}addDcsHandler(G,q){return this.registerDcsHandler(G,q)}registerEscHandler(G,q){return this._core.registerEscHandler(G,q)}addEscHandler(G,q){return this.registerEscHandler(G,q)}registerOscHandler(G,q){return this._core.registerOscHandler(G,q)}addOscHandler(G,q){return this.registerOscHandler(G,q)}}},7090:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.UnicodeApi=void 0,Z.UnicodeApi=class{constructor(G){this._core=G}register(G){this._core.unicodeService.register(G)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(G){this._core.unicodeService.activeVersion=G}}},744:function(Y,Z,G){var q=this&&this.__decorate||function(W,K,A,F){var P,R=arguments.length,D=R<3?K:F===null?F=Object.getOwnPropertyDescriptor(K,A):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(W,K,A,F);else for(var _=W.length-1;_>=0;_--)(P=W[_])&&(D=(R<3?P(D):R>3?P(K,A,D):P(K,A))||D);return R>3&&D&&Object.defineProperty(K,A,D),D},U=this&&this.__param||function(W,K){return function(A,F){K(A,F,W)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.BufferService=Z.MINIMUM_ROWS=Z.MINIMUM_COLS=void 0;let z=G(8460),H=G(844),j=G(5295),B=G(2585);Z.MINIMUM_COLS=2,Z.MINIMUM_ROWS=1;let V=Z.BufferService=class extends H.Disposable{get buffer(){return this.buffers.active}constructor(W){super(),this.isUserScrolling=!1,this._onResize=this.register(new z.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new z.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(W.rawOptions.cols||0,Z.MINIMUM_COLS),this.rows=Math.max(W.rawOptions.rows||0,Z.MINIMUM_ROWS),this.buffers=this.register(new j.BufferSet(W,this))}resize(W,K){this.cols=W,this.rows=K,this.buffers.resize(W,K),this._onResize.fire({cols:W,rows:K})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(W,K=!1){let A=this.buffer,F;F=this._cachedBlankLine,F&&F.length===this.cols&&F.getFg(0)===W.fg&&F.getBg(0)===W.bg||(F=A.getBlankLine(W,K),this._cachedBlankLine=F),F.isWrapped=K;let P=A.ybase+A.scrollTop,R=A.ybase+A.scrollBottom;if(A.scrollTop===0){let D=A.lines.isFull;R===A.lines.length-1?D?A.lines.recycle().copyFrom(F):A.lines.push(F.clone()):A.lines.splice(R+1,0,F.clone()),D?this.isUserScrolling&&(A.ydisp=Math.max(A.ydisp-1,0)):(A.ybase++,this.isUserScrolling||A.ydisp++)}else{let D=R-P+1;A.lines.shiftElements(P+1,D-1,-1),A.lines.set(R,F.clone())}this.isUserScrolling||(A.ydisp=A.ybase),this._onScroll.fire(A.ydisp)}scrollLines(W,K,A){let F=this.buffer;if(W<0){if(F.ydisp===0)return;this.isUserScrolling=!0}else W+F.ydisp>=F.ybase&&(this.isUserScrolling=!1);let P=F.ydisp;F.ydisp=Math.max(Math.min(F.ydisp+W,F.ybase),0),P!==F.ydisp&&(K||this._onScroll.fire(F.ydisp))}};Z.BufferService=V=q([U(0,B.IOptionsService)],V)},7994:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CharsetService=void 0,Z.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(G){this.glevel=G,this.charset=this._charsets[G]}setgCharset(G,q){this._charsets[G]=q,this.glevel===G&&(this.charset=q)}}},1753:function(Y,Z,G){var q=this&&this.__decorate||function(F,P,R,D){var _,O=arguments.length,N=O<3?P:D===null?D=Object.getOwnPropertyDescriptor(P,R):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(F,P,R,D);else for(var w=F.length-1;w>=0;w--)(_=F[w])&&(N=(O<3?_(N):O>3?_(P,R,N):_(P,R))||N);return O>3&&N&&Object.defineProperty(P,R,N),N},U=this&&this.__param||function(F,P){return function(R,D){P(R,D,F)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.CoreMouseService=void 0;let z=G(2585),H=G(8460),j=G(844),B={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:(F)=>F.button!==4&&F.action===1&&(F.ctrl=!1,F.alt=!1,F.shift=!1,!0)},VT200:{events:19,restrict:(F)=>F.action!==32},DRAG:{events:23,restrict:(F)=>F.action!==32||F.button!==3},ANY:{events:31,restrict:(F)=>!0}};function V(F,P){let R=(F.ctrl?16:0)|(F.shift?4:0)|(F.alt?8:0);return F.button===4?(R|=64,R|=F.action):(R|=3&F.button,4&F.button&&(R|=64),8&F.button&&(R|=128),F.action===32?R|=32:F.action!==0||P||(R|=3)),R}let W=String.fromCharCode,K={DEFAULT:(F)=>{let P=[V(F,!1)+32,F.col+32,F.row+32];return P[0]>255||P[1]>255||P[2]>255?"":`\x1B[M${W(P[0])}${W(P[1])}${W(P[2])}`},SGR:(F)=>{let P=F.action===0&&F.button!==4?"m":"M";return`\x1B[<${V(F,!0)};${F.col};${F.row}${P}`},SGR_PIXELS:(F)=>{let P=F.action===0&&F.button!==4?"m":"M";return`\x1B[<${V(F,!0)};${F.x};${F.y}${P}`}},A=Z.CoreMouseService=class extends j.Disposable{constructor(F,P){super(),this._bufferService=F,this._coreService=P,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new H.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(let R of Object.keys(B))this.addProtocol(R,B[R]);for(let R of Object.keys(K))this.addEncoding(R,K[R]);this.reset()}addProtocol(F,P){this._protocols[F]=P}addEncoding(F,P){this._encodings[F]=P}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(F){if(!this._protocols[F])throw Error(`unknown protocol "${F}"`);this._activeProtocol=F,this._onProtocolChange.fire(this._protocols[F].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(F){if(!this._encodings[F])throw Error(`unknown encoding "${F}"`);this._activeEncoding=F}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(F){if(F.col<0||F.col>=this._bufferService.cols||F.row<0||F.row>=this._bufferService.rows)return!1;if(F.button===4&&F.action===32)return!1;if(F.button===3&&F.action!==32)return!1;if(F.button!==4&&(F.action===2||F.action===3))return!1;if(F.col++,F.row++,F.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,F,this._activeEncoding==="SGR_PIXELS"))return!1;if(!this._protocols[this._activeProtocol].restrict(F))return!1;let P=this._encodings[this._activeEncoding](F);return P&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(P):this._coreService.triggerDataEvent(P,!0)),this._lastEvent=F,!0}explainEvents(F){return{down:!!(1&F),up:!!(2&F),drag:!!(4&F),move:!!(8&F),wheel:!!(16&F)}}_equalEvents(F,P,R){if(R){if(F.x!==P.x)return!1;if(F.y!==P.y)return!1}else{if(F.col!==P.col)return!1;if(F.row!==P.row)return!1}return F.button===P.button&&F.action===P.action&&F.ctrl===P.ctrl&&F.alt===P.alt&&F.shift===P.shift}};Z.CoreMouseService=A=q([U(0,z.IBufferService),U(1,z.ICoreService)],A)},6975:function(Y,Z,G){var q=this&&this.__decorate||function(A,F,P,R){var D,_=arguments.length,O=_<3?F:R===null?R=Object.getOwnPropertyDescriptor(F,P):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(A,F,P,R);else for(var N=A.length-1;N>=0;N--)(D=A[N])&&(O=(_<3?D(O):_>3?D(F,P,O):D(F,P))||O);return _>3&&O&&Object.defineProperty(F,P,O),O},U=this&&this.__param||function(A,F){return function(P,R){F(P,R,A)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.CoreService=void 0;let z=G(1439),H=G(8460),j=G(844),B=G(2585),V=Object.freeze({insertMode:!1}),W=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),K=Z.CoreService=class extends j.Disposable{constructor(A,F,P){super(),this._bufferService=A,this._logService=F,this._optionsService=P,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new H.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new H.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new H.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new H.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,z.clone)(V),this.decPrivateModes=(0,z.clone)(W)}reset(){this.modes=(0,z.clone)(V),this.decPrivateModes=(0,z.clone)(W)}triggerDataEvent(A,F=!1){if(this._optionsService.rawOptions.disableStdin)return;let P=this._bufferService.buffer;F&&this._optionsService.rawOptions.scrollOnUserInput&&P.ybase!==P.ydisp&&this._onRequestScrollToBottom.fire(),F&&this._onUserInput.fire(),this._logService.debug(`sending data "${A}"`,()=>A.split("").map((R)=>R.charCodeAt(0))),this._onData.fire(A)}triggerBinaryEvent(A){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${A}"`,()=>A.split("").map((F)=>F.charCodeAt(0))),this._onBinary.fire(A))}};Z.CoreService=K=q([U(0,B.IBufferService),U(1,B.ILogService),U(2,B.IOptionsService)],K)},9074:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DecorationService=void 0;let q=G(8055),U=G(8460),z=G(844),H=G(6106),j=0,B=0;class V extends z.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new H.SortedList((K)=>K?.marker.line),this._onDecorationRegistered=this.register(new U.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new U.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,z.toDisposable)(()=>this.reset()))}registerDecoration(K){if(K.marker.isDisposed)return;let A=new W(K);if(A){let F=A.marker.onDispose(()=>A.dispose());A.onDispose(()=>{A&&(this._decorations.delete(A)&&this._onDecorationRemoved.fire(A),F.dispose())}),this._decorations.insert(A),this._onDecorationRegistered.fire(A)}return A}reset(){for(let K of this._decorations.values())K.dispose();this._decorations.clear()}*getDecorationsAtCell(K,A,F){let P=0,R=0;for(let D of this._decorations.getKeyIterator(A))P=D.options.x??0,R=P+(D.options.width??1),K>=P&&K<R&&(!F||(D.options.layer??"bottom")===F)&&(yield D)}forEachDecorationAtCell(K,A,F,P){this._decorations.forEachByKey(A,(R)=>{j=R.options.x??0,B=j+(R.options.width??1),K>=j&&K<B&&(!F||(R.options.layer??"bottom")===F)&&P(R)})}}Z.DecorationService=V;class W extends z.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=q.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=q.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(K){super(),this.options=K,this.onRenderEmitter=this.register(new U.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new U.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=K.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.InstantiationService=Z.ServiceCollection=void 0;let q=G(2585),U=G(8343);class z{constructor(...H){this._entries=new Map;for(let[j,B]of H)this.set(j,B)}set(H,j){let B=this._entries.get(H);return this._entries.set(H,j),B}forEach(H){for(let[j,B]of this._entries.entries())H(j,B)}has(H){return this._entries.has(H)}get(H){return this._entries.get(H)}}Z.ServiceCollection=z,Z.InstantiationService=class{constructor(){this._services=new z,this._services.set(q.IInstantiationService,this)}setService(H,j){this._services.set(H,j)}getService(H){return this._services.get(H)}createInstance(H,...j){let B=(0,U.getServiceDependencies)(H).sort((K,A)=>K.index-A.index),V=[];for(let K of B){let A=this._services.get(K.id);if(!A)throw Error(`[createInstance] ${H.name} depends on UNKNOWN service ${K.id}.`);V.push(A)}let W=B.length>0?B[0].index:j.length;if(j.length!==W)throw Error(`[createInstance] First service dependency of ${H.name} at position ${W+1} conflicts with ${j.length} static arguments`);return new H(...[...j,...V])}}},7866:function(Y,Z,G){var q=this&&this.__decorate||function(W,K,A,F){var P,R=arguments.length,D=R<3?K:F===null?F=Object.getOwnPropertyDescriptor(K,A):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(W,K,A,F);else for(var _=W.length-1;_>=0;_--)(P=W[_])&&(D=(R<3?P(D):R>3?P(K,A,D):P(K,A))||D);return R>3&&D&&Object.defineProperty(K,A,D),D},U=this&&this.__param||function(W,K){return function(A,F){K(A,F,W)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.traceCall=Z.setTraceLogger=Z.LogService=void 0;let z=G(844),H=G(2585),j={trace:H.LogLevelEnum.TRACE,debug:H.LogLevelEnum.DEBUG,info:H.LogLevelEnum.INFO,warn:H.LogLevelEnum.WARN,error:H.LogLevelEnum.ERROR,off:H.LogLevelEnum.OFF},B,V=Z.LogService=class extends z.Disposable{get logLevel(){return this._logLevel}constructor(W){super(),this._optionsService=W,this._logLevel=H.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),B=this}_updateLogLevel(){this._logLevel=j[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(W){for(let K=0;K<W.length;K++)typeof W[K]=="function"&&(W[K]=W[K]())}_log(W,K,A){this._evalLazyOptionalParams(A),W.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+K,...A)}trace(W,...K){this._logLevel<=H.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,W,K)}debug(W,...K){this._logLevel<=H.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,W,K)}info(W,...K){this._logLevel<=H.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,W,K)}warn(W,...K){this._logLevel<=H.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,W,K)}error(W,...K){this._logLevel<=H.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,W,K)}};Z.LogService=V=q([U(0,H.IOptionsService)],V),Z.setTraceLogger=function(W){B=W},Z.traceCall=function(W,K,A){if(typeof A.value!="function")throw Error("not supported");let F=A.value;A.value=function(...P){if(B.logLevel!==H.LogLevelEnum.TRACE)return F.apply(this,P);B.trace(`GlyphRenderer#${F.name}(${P.map((D)=>JSON.stringify(D)).join(", ")})`);let R=F.apply(this,P);return B.trace(`GlyphRenderer#${F.name} return`,R),R}}},7302:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.OptionsService=Z.DEFAULT_OPTIONS=void 0;let q=G(8460),U=G(844),z=G(6114);Z.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1000,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:z.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};let H=["normal","bold","100","200","300","400","500","600","700","800","900"];class j extends U.Disposable{constructor(B){super(),this._onOptionChange=this.register(new q.EventEmitter),this.onOptionChange=this._onOptionChange.event;let V={...Z.DEFAULT_OPTIONS};for(let W in B)if(W in V)try{let K=B[W];V[W]=this._sanitizeAndValidateOption(W,K)}catch(K){console.error(K)}this.rawOptions=V,this.options={...V},this._setupOptions(),this.register((0,U.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(B,V){return this.onOptionChange((W)=>{W===B&&V(this.rawOptions[B])})}onMultipleOptionChange(B,V){return this.onOptionChange((W)=>{B.indexOf(W)!==-1&&V()})}_setupOptions(){let B=(W)=>{if(!(W in Z.DEFAULT_OPTIONS))throw Error(`No option with key "${W}"`);return this.rawOptions[W]},V=(W,K)=>{if(!(W in Z.DEFAULT_OPTIONS))throw Error(`No option with key "${W}"`);K=this._sanitizeAndValidateOption(W,K),this.rawOptions[W]!==K&&(this.rawOptions[W]=K,this._onOptionChange.fire(W))};for(let W in this.rawOptions){let K={get:B.bind(this,W),set:V.bind(this,W)};Object.defineProperty(this.options,W,K)}}_sanitizeAndValidateOption(B,V){switch(B){case"cursorStyle":if(V||(V=Z.DEFAULT_OPTIONS[B]),!function(W){return W==="block"||W==="underline"||W==="bar"}(V))throw Error(`"${V}" is not a valid value for ${B}`);break;case"wordSeparator":V||(V=Z.DEFAULT_OPTIONS[B]);break;case"fontWeight":case"fontWeightBold":if(typeof V=="number"&&1<=V&&V<=1000)break;V=H.includes(V)?V:Z.DEFAULT_OPTIONS[B];break;case"cursorWidth":V=Math.floor(V);case"lineHeight":case"tabStopWidth":if(V<1)throw Error(`${B} cannot be less than 1, value: ${V}`);break;case"minimumContrastRatio":V=Math.max(1,Math.min(21,Math.round(10*V)/10));break;case"scrollback":if((V=Math.min(V,4294967295))<0)throw Error(`${B} cannot be less than 0, value: ${V}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(V<=0)throw Error(`${B} cannot be less than or equal to 0, value: ${V}`);break;case"rows":case"cols":if(!V&&V!==0)throw Error(`${B} must be numeric, value: ${V}`);break;case"windowsPty":V=V??{}}return V}}Z.OptionsService=j},2660:function(Y,Z,G){var q=this&&this.__decorate||function(j,B,V,W){var K,A=arguments.length,F=A<3?B:W===null?W=Object.getOwnPropertyDescriptor(B,V):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(j,B,V,W);else for(var P=j.length-1;P>=0;P--)(K=j[P])&&(F=(A<3?K(F):A>3?K(B,V,F):K(B,V))||F);return A>3&&F&&Object.defineProperty(B,V,F),F},U=this&&this.__param||function(j,B){return function(V,W){B(V,W,j)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.OscLinkService=void 0;let z=G(2585),H=Z.OscLinkService=class{constructor(j){this._bufferService=j,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(j){let B=this._bufferService.buffer;if(j.id===void 0){let P=B.addMarker(B.ybase+B.y),R={data:j,id:this._nextId++,lines:[P]};return P.onDispose(()=>this._removeMarkerFromLink(R,P)),this._dataByLinkId.set(R.id,R),R.id}let V=j,W=this._getEntryIdKey(V),K=this._entriesWithId.get(W);if(K)return this.addLineToLink(K.id,B.ybase+B.y),K.id;let A=B.addMarker(B.ybase+B.y),F={id:this._nextId++,key:this._getEntryIdKey(V),data:V,lines:[A]};return A.onDispose(()=>this._removeMarkerFromLink(F,A)),this._entriesWithId.set(F.key,F),this._dataByLinkId.set(F.id,F),F.id}addLineToLink(j,B){let V=this._dataByLinkId.get(j);if(V&&V.lines.every((W)=>W.line!==B)){let W=this._bufferService.buffer.addMarker(B);V.lines.push(W),W.onDispose(()=>this._removeMarkerFromLink(V,W))}}getLinkData(j){return this._dataByLinkId.get(j)?.data}_getEntryIdKey(j){return`${j.id};;${j.uri}`}_removeMarkerFromLink(j,B){let V=j.lines.indexOf(B);V!==-1&&(j.lines.splice(V,1),j.lines.length===0&&(j.data.id!==void 0&&this._entriesWithId.delete(j.key),this._dataByLinkId.delete(j.id)))}};Z.OscLinkService=H=q([U(0,z.IBufferService)],H)},8343:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.createDecorator=Z.getServiceDependencies=Z.serviceRegistry=void 0;let G="di$target",q="di$dependencies";Z.serviceRegistry=new Map,Z.getServiceDependencies=function(U){return U[q]||[]},Z.createDecorator=function(U){if(Z.serviceRegistry.has(U))return Z.serviceRegistry.get(U);let z=function(H,j,B){if(arguments.length!==3)throw Error("@IServiceName-decorator can only be used to decorate a parameter");(function(V,W,K){W[G]===W?W[q].push({id:V,index:K}):(W[q]=[{id:V,index:K}],W[G]=W)})(z,H,B)};return z.toString=()=>U,Z.serviceRegistry.set(U,z),z}},2585:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.IDecorationService=Z.IUnicodeService=Z.IOscLinkService=Z.IOptionsService=Z.ILogService=Z.LogLevelEnum=Z.IInstantiationService=Z.ICharsetService=Z.ICoreService=Z.ICoreMouseService=Z.IBufferService=void 0;let q=G(8343);var U;Z.IBufferService=(0,q.createDecorator)("BufferService"),Z.ICoreMouseService=(0,q.createDecorator)("CoreMouseService"),Z.ICoreService=(0,q.createDecorator)("CoreService"),Z.ICharsetService=(0,q.createDecorator)("CharsetService"),Z.IInstantiationService=(0,q.createDecorator)("InstantiationService"),function(z){z[z.TRACE=0]="TRACE",z[z.DEBUG=1]="DEBUG",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.OFF=5]="OFF"}(U||(Z.LogLevelEnum=U={})),Z.ILogService=(0,q.createDecorator)("LogService"),Z.IOptionsService=(0,q.createDecorator)("OptionsService"),Z.IOscLinkService=(0,q.createDecorator)("OscLinkService"),Z.IUnicodeService=(0,q.createDecorator)("UnicodeService"),Z.IDecorationService=(0,q.createDecorator)("DecorationService")},1480:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.UnicodeService=void 0;let q=G(8460),U=G(225);class z{static extractShouldJoin(H){return(1&H)!=0}static extractWidth(H){return H>>1&3}static extractCharKind(H){return H>>3}static createPropertyValue(H,j,B=!1){return(16777215&H)<<3|(3&j)<<1|(B?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new q.EventEmitter,this.onChange=this._onChange.event;let H=new U.UnicodeV6;this.register(H),this._active=H.version,this._activeProvider=H}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(H){if(!this._providers[H])throw Error(`unknown Unicode version "${H}"`);this._active=H,this._activeProvider=this._providers[H],this._onChange.fire(H)}register(H){this._providers[H.version]=H}wcwidth(H){return this._activeProvider.wcwidth(H)}getStringCellWidth(H){let j=0,B=0,V=H.length;for(let W=0;W<V;++W){let K=H.charCodeAt(W);if(55296<=K&&K<=56319){if(++W>=V)return j+this.wcwidth(K);let P=H.charCodeAt(W);56320<=P&&P<=57343?K=1024*(K-55296)+P-56320+65536:j+=this.wcwidth(P)}let A=this.charProperties(K,B),F=z.extractWidth(A);z.extractShouldJoin(A)&&(F-=z.extractWidth(B)),j+=F,B=A}return j}charProperties(H,j){return this._activeProvider.charProperties(H,j)}}Z.UnicodeService=z}},$={};function Q(Y){var Z=$[Y];if(Z!==void 0)return Z.exports;var G=$[Y]={exports:{}};return J[Y].call(G.exports,G,G.exports,Q),G.exports}var X={};return(()=>{var Y=X;Object.defineProperty(Y,"__esModule",{value:!0}),Y.Terminal=void 0;let Z=Q(9042),G=Q(3236),q=Q(844),U=Q(5741),z=Q(8285),H=Q(7975),j=Q(7090),B=["cols","rows"];class V extends q.Disposable{constructor(W){super(),this._core=this.register(new G.Terminal(W)),this._addonManager=this.register(new U.AddonManager),this._publicOptions={...this._core.options};let K=(F)=>this._core.options[F],A=(F,P)=>{this._checkReadonlyOptions(F),this._core.options[F]=P};for(let F in this._core.options){let P={get:K.bind(this,F),set:A.bind(this,F)};Object.defineProperty(this._publicOptions,F,P)}}_checkReadonlyOptions(W){if(B.includes(W))throw Error(`Option "${W}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new H.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new j.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new z.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let W=this._core.coreService.decPrivateModes,K="none";switch(this._core.coreMouseService.activeProtocol){case"X10":K="x10";break;case"VT200":K="vt200";break;case"DRAG":K="drag";break;case"ANY":K="any"}return{applicationCursorKeysMode:W.applicationCursorKeys,applicationKeypadMode:W.applicationKeypad,bracketedPasteMode:W.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:K,originMode:W.origin,reverseWraparoundMode:W.reverseWraparound,sendFocusMode:W.sendFocus,wraparoundMode:W.wraparound}}get options(){return this._publicOptions}set options(W){for(let K in W)this._publicOptions[K]=W[K]}blur(){this._core.blur()}focus(){this._core.focus()}input(W,K=!0){this._core.input(W,K)}resize(W,K){this._verifyIntegers(W,K),this._core.resize(W,K)}open(W){this._core.open(W)}attachCustomKeyEventHandler(W){this._core.attachCustomKeyEventHandler(W)}attachCustomWheelEventHandler(W){this._core.attachCustomWheelEventHandler(W)}registerLinkProvider(W){return this._core.registerLinkProvider(W)}registerCharacterJoiner(W){return this._checkProposedApi(),this._core.registerCharacterJoiner(W)}deregisterCharacterJoiner(W){this._checkProposedApi(),this._core.deregisterCharacterJoiner(W)}registerMarker(W=0){return this._verifyIntegers(W),this._core.registerMarker(W)}registerDecoration(W){return this._checkProposedApi(),this._verifyPositiveIntegers(W.x??0,W.width??0,W.height??0),this._core.registerDecoration(W)}hasSelection(){return this._core.hasSelection()}select(W,K,A){this._verifyIntegers(W,K,A),this._core.select(W,K,A)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(W,K){this._verifyIntegers(W,K),this._core.selectLines(W,K)}dispose(){super.dispose()}scrollLines(W){this._verifyIntegers(W),this._core.scrollLines(W)}scrollPages(W){this._verifyIntegers(W),this._core.scrollPages(W)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(W){this._verifyIntegers(W),this._core.scrollToLine(W)}clear(){this._core.clear()}write(W,K){this._core.write(W,K)}writeln(W,K){this._core.write(W),this._core.write(`\r
`,K)}paste(W){this._core.paste(W)}refresh(W,K){this._verifyIntegers(W,K),this._core.refresh(W,K)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(W){this._addonManager.loadAddon(this,W)}static get strings(){return Z}_verifyIntegers(...W){for(let K of W)if(K===1/0||isNaN(K)||K%1!=0)throw Error("This API only accepts integers")}_verifyPositiveIntegers(...W){for(let K of W)if(K&&(K===1/0||isNaN(K)||K%1!=0||K<0))throw Error("This API only accepts positive integers")}}Y.Terminal=V})(),X})())});var l00=eR((sR,fx)=>{(function(J,$){typeof sR=="object"&&typeof fx=="object"?fx.exports=$():typeof define=="function"&&define.amd?define([],$):typeof sR=="object"?sR.WebglAddon=$():J.WebglAddon=$()})(self,()=>(()=>{var J={965:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.GlyphRenderer=void 0;let q=G(374),U=G(509),z=G(855),H=G(859),j=G(381),B=11,V=B*Float32Array.BYTES_PER_ELEMENT,W,K=0,A=0,F=0;class P extends H.Disposable{constructor(R,D,_,O){super(),this._terminal=R,this._gl=D,this._dimensions=_,this._optionsService=O,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};let N=this._gl;U.TextureAtlas.maxAtlasPages===void 0&&(U.TextureAtlas.maxAtlasPages=Math.min(32,(0,q.throwIfFalsy)(N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS))),U.TextureAtlas.maxTextureSize=(0,q.throwIfFalsy)(N.getParameter(N.MAX_TEXTURE_SIZE))),this._program=(0,q.throwIfFalsy)((0,j.createProgram)(N,`#version 300 es
layout (location = 0) in vec2 a_unitquad;
layout (location = 1) in vec2 a_cellpos;
layout (location = 2) in vec2 a_offset;
layout (location = 3) in vec2 a_size;
layout (location = 4) in float a_texpage;
layout (location = 5) in vec2 a_texcoord;
layout (location = 6) in vec2 a_texsize;

uniform mat4 u_projection;
uniform vec2 u_resolution;

out vec2 v_texcoord;
flat out int v_texpage;

void main() {
  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_texpage = int(a_texpage);
  v_texcoord = a_texcoord + a_unitquad * a_texsize;
}`,function(S){let l="";for(let d=1;d<S;d++)l+=` else if (v_texpage == ${d}) { outColor = texture(u_texture[${d}], v_texcoord); }`;return`#version 300 es
precision lowp float;

in vec2 v_texcoord;
flat in int v_texpage;

uniform sampler2D u_texture[${S}];

out vec4 outColor;

void main() {
  if (v_texpage == 0) {
    outColor = texture(u_texture[0], v_texcoord);
  } ${l}
}`}(U.TextureAtlas.maxAtlasPages))),this.register((0,H.toDisposable)(()=>N.deleteProgram(this._program))),this._projectionLocation=(0,q.throwIfFalsy)(N.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,q.throwIfFalsy)(N.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,q.throwIfFalsy)(N.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=N.createVertexArray(),N.bindVertexArray(this._vertexArrayObject);let w=new Float32Array([0,0,1,0,0,1,1,1]),T=N.createBuffer();this.register((0,H.toDisposable)(()=>N.deleteBuffer(T))),N.bindBuffer(N.ARRAY_BUFFER,T),N.bufferData(N.ARRAY_BUFFER,w,N.STATIC_DRAW),N.enableVertexAttribArray(0),N.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);let I=new Uint8Array([0,1,2,3]),k=N.createBuffer();this.register((0,H.toDisposable)(()=>N.deleteBuffer(k))),N.bindBuffer(N.ELEMENT_ARRAY_BUFFER,k),N.bufferData(N.ELEMENT_ARRAY_BUFFER,I,N.STATIC_DRAW),this._attributesBuffer=(0,q.throwIfFalsy)(N.createBuffer()),this.register((0,H.toDisposable)(()=>N.deleteBuffer(this._attributesBuffer))),N.bindBuffer(N.ARRAY_BUFFER,this._attributesBuffer),N.enableVertexAttribArray(2),N.vertexAttribPointer(2,2,N.FLOAT,!1,V,0),N.vertexAttribDivisor(2,1),N.enableVertexAttribArray(3),N.vertexAttribPointer(3,2,N.FLOAT,!1,V,2*Float32Array.BYTES_PER_ELEMENT),N.vertexAttribDivisor(3,1),N.enableVertexAttribArray(4),N.vertexAttribPointer(4,1,N.FLOAT,!1,V,4*Float32Array.BYTES_PER_ELEMENT),N.vertexAttribDivisor(4,1),N.enableVertexAttribArray(5),N.vertexAttribPointer(5,2,N.FLOAT,!1,V,5*Float32Array.BYTES_PER_ELEMENT),N.vertexAttribDivisor(5,1),N.enableVertexAttribArray(6),N.vertexAttribPointer(6,2,N.FLOAT,!1,V,7*Float32Array.BYTES_PER_ELEMENT),N.vertexAttribDivisor(6,1),N.enableVertexAttribArray(1),N.vertexAttribPointer(1,2,N.FLOAT,!1,V,9*Float32Array.BYTES_PER_ELEMENT),N.vertexAttribDivisor(1,1),N.useProgram(this._program);let x=new Int32Array(U.TextureAtlas.maxAtlasPages);for(let S=0;S<U.TextureAtlas.maxAtlasPages;S++)x[S]=S;N.uniform1iv(this._textureLocation,x),N.uniformMatrix4fv(this._projectionLocation,!1,j.PROJECTION_MATRIX),this._atlasTextures=[];for(let S=0;S<U.TextureAtlas.maxAtlasPages;S++){let l=new j.GLTexture((0,q.throwIfFalsy)(N.createTexture()));this.register((0,H.toDisposable)(()=>N.deleteTexture(l.texture))),N.activeTexture(N.TEXTURE0+S),N.bindTexture(N.TEXTURE_2D,l.texture),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE),N.texImage2D(N.TEXTURE_2D,0,N.RGBA,1,1,0,N.RGBA,N.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[S]=l}N.enable(N.BLEND),N.blendFunc(N.SRC_ALPHA,N.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(R,D,_,O,N,w,T,I,k){this._updateCell(this._vertices.attributes,R,D,_,O,N,w,T,I,k)}_updateCell(R,D,_,O,N,w,T,I,k,x){K=(_*this._terminal.cols+D)*B,O!==z.NULL_CELL_CODE&&O!==void 0?this._atlas&&(W=I&&I.length>1?this._atlas.getRasterizedGlyphCombinedChar(I,N,w,T,!1):this._atlas.getRasterizedGlyph(O,N,w,T,!1),A=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),N!==x&&W.offset.x>A?(F=W.offset.x-A,R[K]=-(W.offset.x-F)+this._dimensions.device.char.left,R[K+1]=-W.offset.y+this._dimensions.device.char.top,R[K+2]=(W.size.x-F)/this._dimensions.device.canvas.width,R[K+3]=W.size.y/this._dimensions.device.canvas.height,R[K+4]=W.texturePage,R[K+5]=W.texturePositionClipSpace.x+F/this._atlas.pages[W.texturePage].canvas.width,R[K+6]=W.texturePositionClipSpace.y,R[K+7]=W.sizeClipSpace.x-F/this._atlas.pages[W.texturePage].canvas.width,R[K+8]=W.sizeClipSpace.y):(R[K]=-W.offset.x+this._dimensions.device.char.left,R[K+1]=-W.offset.y+this._dimensions.device.char.top,R[K+2]=W.size.x/this._dimensions.device.canvas.width,R[K+3]=W.size.y/this._dimensions.device.canvas.height,R[K+4]=W.texturePage,R[K+5]=W.texturePositionClipSpace.x,R[K+6]=W.texturePositionClipSpace.y,R[K+7]=W.sizeClipSpace.x,R[K+8]=W.sizeClipSpace.y),this._optionsService.rawOptions.rescaleOverlappingGlyphs&&(0,q.allowRescaling)(O,k,W.size.x,this._dimensions.device.cell.width)&&(R[K+2]=(this._dimensions.device.cell.width-1)/this._dimensions.device.canvas.width)):R.fill(0,K,K+B-1-2)}clear(){let R=this._terminal,D=R.cols*R.rows*B;this._vertices.count!==D?this._vertices.attributes=new Float32Array(D):this._vertices.attributes.fill(0);let _=0;for(;_<this._vertices.attributesBuffers.length;_++)this._vertices.count!==D?this._vertices.attributesBuffers[_]=new Float32Array(D):this._vertices.attributesBuffers[_].fill(0);this._vertices.count=D,_=0;for(let O=0;O<R.rows;O++)for(let N=0;N<R.cols;N++)this._vertices.attributes[_+9]=N/R.cols,this._vertices.attributes[_+10]=O/R.rows,_+=B}handleResize(){let R=this._gl;R.useProgram(this._program),R.viewport(0,0,R.canvas.width,R.canvas.height),R.uniform2f(this._resolutionLocation,R.canvas.width,R.canvas.height),this.clear()}render(R){if(!this._atlas)return;let D=this._gl;D.useProgram(this._program),D.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;let _=this._vertices.attributesBuffers[this._activeBuffer],O=0;for(let N=0;N<R.lineLengths.length;N++){let w=N*this._terminal.cols*B,T=this._vertices.attributes.subarray(w,w+R.lineLengths[N]*B);_.set(T,O),O+=T.length}D.bindBuffer(D.ARRAY_BUFFER,this._attributesBuffer),D.bufferData(D.ARRAY_BUFFER,_.subarray(0,O),D.STREAM_DRAW);for(let N=0;N<this._atlas.pages.length;N++)this._atlas.pages[N].version!==this._atlasTextures[N].version&&this._bindAtlasPageTexture(D,this._atlas,N);D.drawElementsInstanced(D.TRIANGLE_STRIP,4,D.UNSIGNED_BYTE,0,O/B)}setAtlas(R){this._atlas=R;for(let D of this._atlasTextures)D.version=-1}_bindAtlasPageTexture(R,D,_){R.activeTexture(R.TEXTURE0+_),R.bindTexture(R.TEXTURE_2D,this._atlasTextures[_].texture),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,D.pages[_].canvas),R.generateMipmap(R.TEXTURE_2D),this._atlasTextures[_].version=D.pages[_].version}setDimensions(R){this._dimensions=R}}Z.GlyphRenderer=P},742:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RectangleRenderer=void 0;let q=G(374),U=G(859),z=G(310),H=G(381),j=8*Float32Array.BYTES_PER_ELEMENT;class B{constructor(){this.attributes=new Float32Array(160),this.count=0}}let V=0,W=0,K=0,A=0,F=0,P=0,R=0;class D extends U.Disposable{constructor(_,O,N,w){super(),this._terminal=_,this._gl=O,this._dimensions=N,this._themeService=w,this._vertices=new B,this._verticesCursor=new B;let T=this._gl;this._program=(0,q.throwIfFalsy)((0,H.createProgram)(T,`#version 300 es
layout (location = 0) in vec2 a_position;
layout (location = 1) in vec2 a_size;
layout (location = 2) in vec4 a_color;
layout (location = 3) in vec2 a_unitquad;

uniform mat4 u_projection;

out vec4 v_color;

void main() {
  vec2 zeroToOne = a_position + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_color = a_color;
}`,`#version 300 es
precision lowp float;

in vec4 v_color;

out vec4 outColor;

void main() {
  outColor = v_color;
}`)),this.register((0,U.toDisposable)(()=>T.deleteProgram(this._program))),this._projectionLocation=(0,q.throwIfFalsy)(T.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=T.createVertexArray(),T.bindVertexArray(this._vertexArrayObject);let I=new Float32Array([0,0,1,0,0,1,1,1]),k=T.createBuffer();this.register((0,U.toDisposable)(()=>T.deleteBuffer(k))),T.bindBuffer(T.ARRAY_BUFFER,k),T.bufferData(T.ARRAY_BUFFER,I,T.STATIC_DRAW),T.enableVertexAttribArray(3),T.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);let x=new Uint8Array([0,1,2,3]),S=T.createBuffer();this.register((0,U.toDisposable)(()=>T.deleteBuffer(S))),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,S),T.bufferData(T.ELEMENT_ARRAY_BUFFER,x,T.STATIC_DRAW),this._attributesBuffer=(0,q.throwIfFalsy)(T.createBuffer()),this.register((0,U.toDisposable)(()=>T.deleteBuffer(this._attributesBuffer))),T.bindBuffer(T.ARRAY_BUFFER,this._attributesBuffer),T.enableVertexAttribArray(0),T.vertexAttribPointer(0,2,T.FLOAT,!1,j,0),T.vertexAttribDivisor(0,1),T.enableVertexAttribArray(1),T.vertexAttribPointer(1,2,T.FLOAT,!1,j,2*Float32Array.BYTES_PER_ELEMENT),T.vertexAttribDivisor(1,1),T.enableVertexAttribArray(2),T.vertexAttribPointer(2,4,T.FLOAT,!1,j,4*Float32Array.BYTES_PER_ELEMENT),T.vertexAttribDivisor(2,1),this._updateCachedColors(w.colors),this.register(this._themeService.onChangeColors((l)=>{this._updateCachedColors(l),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(_){let O=this._gl;O.useProgram(this._program),O.bindVertexArray(this._vertexArrayObject),O.uniformMatrix4fv(this._projectionLocation,!1,H.PROJECTION_MATRIX),O.bindBuffer(O.ARRAY_BUFFER,this._attributesBuffer),O.bufferData(O.ARRAY_BUFFER,_.attributes,O.DYNAMIC_DRAW),O.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,O.UNSIGNED_BYTE,0,_.count)}handleResize(){this._updateViewportRectangle()}setDimensions(_){this._dimensions=_}_updateCachedColors(_){this._bgFloat=this._colorToFloat32Array(_.background),this._cursorFloat=this._colorToFloat32Array(_.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(_){let O=this._terminal,N=this._vertices,w,T,I,k,x,S,l,d,y,b,h,u=1;for(w=0;w<O.rows;w++){for(I=-1,k=0,x=0,S=!1,T=0;T<O.cols;T++)l=(w*O.cols+T)*z.RENDER_MODEL_INDICIES_PER_CELL,d=_.cells[l+z.RENDER_MODEL_BG_OFFSET],y=_.cells[l+z.RENDER_MODEL_FG_OFFSET],b=!!(67108864&y),(d!==k||y!==x&&(S||b))&&((k!==0||S&&x!==0)&&(h=8*u++,this._updateRectangle(N,h,x,k,I,T,w)),I=T,k=d,x=y,S=b);(k!==0||S&&x!==0)&&(h=8*u++,this._updateRectangle(N,h,x,k,I,O.cols,w))}N.count=u}updateCursor(_){let O=this._verticesCursor,N=_.cursor;if(!N||N.style==="block")return void(O.count=0);let w,T=0;N.style!=="bar"&&N.style!=="outline"||(w=8*T++,this._addRectangleFloat(O.attributes,w,N.x*this._dimensions.device.cell.width,N.y*this._dimensions.device.cell.height,N.style==="bar"?N.dpr*N.cursorWidth:N.dpr,this._dimensions.device.cell.height,this._cursorFloat)),N.style!=="underline"&&N.style!=="outline"||(w=8*T++,this._addRectangleFloat(O.attributes,w,N.x*this._dimensions.device.cell.width,(N.y+1)*this._dimensions.device.cell.height-N.dpr,N.width*this._dimensions.device.cell.width,N.dpr,this._cursorFloat)),N.style==="outline"&&(w=8*T++,this._addRectangleFloat(O.attributes,w,N.x*this._dimensions.device.cell.width,N.y*this._dimensions.device.cell.height,N.width*this._dimensions.device.cell.width,N.dpr,this._cursorFloat),w=8*T++,this._addRectangleFloat(O.attributes,w,(N.x+N.width)*this._dimensions.device.cell.width-N.dpr,N.y*this._dimensions.device.cell.height,N.dpr,this._dimensions.device.cell.height,this._cursorFloat)),O.count=T}_updateRectangle(_,O,N,w,T,I,k){if(67108864&N)switch(50331648&N){case 16777216:case 33554432:V=this._themeService.colors.ansi[255&N].rgba;break;case 50331648:V=(16777215&N)<<8;break;default:V=this._themeService.colors.foreground.rgba}else switch(50331648&w){case 16777216:case 33554432:V=this._themeService.colors.ansi[255&w].rgba;break;case 50331648:V=(16777215&w)<<8;break;default:V=this._themeService.colors.background.rgba}_.attributes.length<O+4&&(_.attributes=(0,H.expandFloat32Array)(_.attributes,this._terminal.rows*this._terminal.cols*8)),W=T*this._dimensions.device.cell.width,K=k*this._dimensions.device.cell.height,A=(V>>24&255)/255,F=(V>>16&255)/255,P=(V>>8&255)/255,R=1,this._addRectangle(_.attributes,O,W,K,(I-T)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,A,F,P,R)}_addRectangle(_,O,N,w,T,I,k,x,S,l){_[O]=N/this._dimensions.device.canvas.width,_[O+1]=w/this._dimensions.device.canvas.height,_[O+2]=T/this._dimensions.device.canvas.width,_[O+3]=I/this._dimensions.device.canvas.height,_[O+4]=k,_[O+5]=x,_[O+6]=S,_[O+7]=l}_addRectangleFloat(_,O,N,w,T,I,k){_[O]=N/this._dimensions.device.canvas.width,_[O+1]=w/this._dimensions.device.canvas.height,_[O+2]=T/this._dimensions.device.canvas.width,_[O+3]=I/this._dimensions.device.canvas.height,_[O+4]=k[0],_[O+5]=k[1],_[O+6]=k[2],_[O+7]=k[3]}_colorToFloat32Array(_){return new Float32Array([(_.rgba>>24&255)/255,(_.rgba>>16&255)/255,(_.rgba>>8&255)/255,(255&_.rgba)/255])}}Z.RectangleRenderer=D},310:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RenderModel=Z.COMBINED_CHAR_BIT_MASK=Z.RENDER_MODEL_EXT_OFFSET=Z.RENDER_MODEL_FG_OFFSET=Z.RENDER_MODEL_BG_OFFSET=Z.RENDER_MODEL_INDICIES_PER_CELL=void 0;let q=G(296);Z.RENDER_MODEL_INDICIES_PER_CELL=4,Z.RENDER_MODEL_BG_OFFSET=1,Z.RENDER_MODEL_FG_OFFSET=2,Z.RENDER_MODEL_EXT_OFFSET=3,Z.COMBINED_CHAR_BIT_MASK=2147483648,Z.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,q.createSelectionRenderModel)()}resize(U,z){let H=U*z*Z.RENDER_MODEL_INDICIES_PER_CELL;H!==this.cells.length&&(this.cells=new Uint32Array(H),this.lineLengths=new Uint32Array(z))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.JoinedCellData=Z.WebglRenderer=void 0;let q=G(820),U=G(274),z=G(627),H=G(457),j=G(56),B=G(374),V=G(345),W=G(859),K=G(147),A=G(782),F=G(855),P=G(965),R=G(742),D=G(310),_=G(733);class O extends W.Disposable{constructor(T,I,k,x,S,l,d,y,b){super(),this._terminal=T,this._characterJoinerService=I,this._charSizeService=k,this._coreBrowserService=x,this._coreService=S,this._decorationService=l,this._optionsService=d,this._themeService=y,this._cursorBlinkStateManager=new W.MutableDisposable,this._charAtlasDisposable=this.register(new W.MutableDisposable),this._observerDisposable=this.register(new W.MutableDisposable),this._model=new D.RenderModel,this._workCell=new A.CellData,this._workCell2=new A.CellData,this._rectangleRenderer=this.register(new W.MutableDisposable),this._glyphRenderer=this.register(new W.MutableDisposable),this._onChangeTextureAtlas=this.register(new V.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new V.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new V.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new V.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new V.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new U.CellColorResolver(this._terminal,this._optionsService,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new _.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier,this._coreBrowserService,d,this._themeService)],this.dimensions=(0,B.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(d.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=this._coreBrowserService.mainDocument.createElement("canvas");let h={antialias:!1,depth:!1,preserveDrawingBuffer:b};if(this._gl=this._canvas.getContext("webgl2",h),!this._gl)throw Error("WebGL2 not supported "+this._gl);this.register((0,q.addDisposableDomListener)(this._canvas,"webglcontextlost",(u)=>{console.log("webglcontextlost event received"),u.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(u)},3000)})),this.register((0,q.addDisposableDomListener)(this._canvas,"webglcontextrestored",(u)=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,z.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this._observerDisposable.value=(0,j.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,(u,$0)=>this._setCanvasDevicePixelDimensions(u,$0)),this.register(this._coreBrowserService.onWindowChange((u)=>{this._observerDisposable.value=(0,j.observeDevicePixelDimensions)(this._canvas,u,($0,Z0)=>this._setCanvasDevicePixelDimensions($0,Z0))})),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,W.toDisposable)(()=>{for(let u of this._renderLayers)u.dispose();this._canvas.parentElement?.removeChild(this._canvas),(0,z.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){return this._charAtlas?.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(T,I){this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(let k of this._renderLayers)k.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,this._rectangleRenderer.value?.setDimensions(this.dimensions),this._rectangleRenderer.value?.handleResize(),this._glyphRenderer.value?.setDimensions(this.dimensions),this._glyphRenderer.value?.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){for(let T of this._renderLayers)T.handleBlur(this._terminal);this._cursorBlinkStateManager.value?.pause(),this._requestRedrawViewport()}handleFocus(){for(let T of this._renderLayers)T.handleFocus(this._terminal);this._cursorBlinkStateManager.value?.resume(),this._requestRedrawViewport()}handleSelectionChanged(T,I,k){for(let x of this._renderLayers)x.handleSelectionChanged(this._terminal,T,I,k);this._model.selection.update(this._core,T,I,k),this._requestRedrawViewport()}handleCursorMove(){for(let T of this._renderLayers)T.handleCursorMove(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new R.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new P.GlyphRenderer(this._terminal,this._gl,this.dimensions,this._optionsService),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);let T=(0,z.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==T&&(this._onChangeTextureAtlas.fire(T.pages[0].canvas),this._charAtlasDisposable.value=(0,W.getDisposeArrayDisposable)([(0,V.forwardEvent)(T.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,V.forwardEvent)(T.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=T,this._charAtlas.warmUp(),this._glyphRenderer.value?.setAtlas(this._charAtlas)}_clearModel(T){this._model.clear(),T&&this._glyphRenderer.value?.clear()}clearTextureAtlas(){this._charAtlas?.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){this._clearModel(!0);for(let T of this._renderLayers)T.reset(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(T){return-1}deregisterCharacterJoiner(T){return!1}renderRows(T,I){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(let k of this._renderLayers)k.handleGridChanged(this._terminal,T,I);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(T,I),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new H.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(T,I){let k=this._core,x,S,l,d,y,b,h,u,$0,Z0,U0,Q0,o,m,A0=this._workCell;T=w(T,k.rows-1,0),I=w(I,k.rows-1,0);let z0=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,h0=z0-k.buffer.ydisp,N0=Math.min(this._terminal.buffer.active.cursorX,k.cols-1),w1=-1,R0=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let u1=!1;for(S=T;S<=I;S++)for(l=S+k.buffer.ydisp,d=k.buffer.lines.get(l),this._model.lineLengths[S]=0,y=this._characterJoinerService.getJoinedCharacters(l),o=0;o<k.cols;o++)if(x=this._cellColorResolver.result.bg,d.loadCell(o,A0),o===0&&(x=this._cellColorResolver.result.bg),b=!1,h=o,y.length>0&&o===y[0][0]&&(b=!0,u=y.shift(),A0=new N(A0,d.translateToString(!0,u[0],u[1]),u[1]-u[0]),h=u[1]-1),$0=A0.getChars(),Z0=A0.getCode(),Q0=(S*k.cols+o)*D.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(A0,o,l,this.dimensions.device.cell.width),R0&&l===z0&&(o===N0&&(this._model.cursor={x:N0,y:h0,width:A0.getWidth(),style:this._coreBrowserService.isFocused?k.options.cursorStyle||"block":k.options.cursorInactiveStyle,cursorWidth:k.options.cursorWidth,dpr:this._devicePixelRatio},w1=N0+A0.getWidth()-1),o>=N0&&o<=w1&&(this._coreBrowserService.isFocused&&(k.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&k.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),Z0!==F.NULL_CELL_CODE&&(this._model.lineLengths[S]=o+1),(this._model.cells[Q0]!==Z0||this._model.cells[Q0+D.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[Q0+D.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[Q0+D.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(u1=!0,$0.length>1&&(Z0|=D.COMBINED_CHAR_BIT_MASK),this._model.cells[Q0]=Z0,this._model.cells[Q0+D.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[Q0+D.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[Q0+D.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,U0=A0.getWidth(),this._glyphRenderer.value.updateCell(o,S,Z0,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,$0,U0,x),b))for(A0=this._workCell,o++;o<h;o++)m=(S*k.cols+o)*D.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(o,S,F.NULL_CELL_CODE,0,0,0,F.NULL_CELL_CHAR,0,0),this._model.cells[m]=F.NULL_CELL_CODE,this._model.cells[m+D.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[m+D.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[m+D.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;u1&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(T,I){this._canvas.width===T&&this._canvas.height===I||(this._canvas.width=T,this._canvas.height=I,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){let T=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:T,end:T})}}Z.WebglRenderer=O;class N extends K.AttributeData{constructor(T,I,k){super(),this.content=0,this.combinedData="",this.fg=T.fg,this.bg=T.bg,this.combinedData=I,this._width=k}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(T){throw Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function w(T,I,k=0){return Math.max(Math.min(T,I),k)}Z.JoinedCellData=N},381:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.GLTexture=Z.expandFloat32Array=Z.createShader=Z.createProgram=Z.PROJECTION_MATRIX=void 0;let q=G(374);function U(z,H,j){let B=(0,q.throwIfFalsy)(z.createShader(H));if(z.shaderSource(B,j),z.compileShader(B),z.getShaderParameter(B,z.COMPILE_STATUS))return B;console.error(z.getShaderInfoLog(B)),z.deleteShader(B)}Z.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),Z.createProgram=function(z,H,j){let B=(0,q.throwIfFalsy)(z.createProgram());if(z.attachShader(B,(0,q.throwIfFalsy)(U(z,z.VERTEX_SHADER,H))),z.attachShader(B,(0,q.throwIfFalsy)(U(z,z.FRAGMENT_SHADER,j))),z.linkProgram(B),z.getProgramParameter(B,z.LINK_STATUS))return B;console.error(z.getProgramInfoLog(B)),z.deleteProgram(B)},Z.createShader=U,Z.expandFloat32Array=function(z,H){let j=Math.min(2*z.length,H),B=new Float32Array(j);for(let V=0;V<z.length;V++)B[V]=z[V];return B},Z.GLTexture=class{constructor(z){this.texture=z,this.version=-1}}},592:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseRenderLayer=void 0;let q=G(627),U=G(237),z=G(374),H=G(859);class j extends H.Disposable{constructor(B,V,W,K,A,F,P,R){super(),this._container=V,this._alpha=A,this._coreBrowserService=F,this._optionsService=P,this._themeService=R,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add(`xterm-${W}-layer`),this._canvas.style.zIndex=K.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors((D)=>{this._refreshCharAtlas(B,D),this.reset(B)})),this.register((0,H.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,z.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(B){}handleFocus(B){}handleCursorMove(B){}handleGridChanged(B,V,W){}handleSelectionChanged(B,V,W,K=!1){}_setTransparency(B,V){if(V===this._alpha)return;let W=this._canvas;this._alpha=V,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,W),this._refreshCharAtlas(B,this._themeService.colors),this.handleGridChanged(B,0,B.rows-1)}_refreshCharAtlas(B,V){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,q.acquireTextureAtlas)(B,this._optionsService.rawOptions,V,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(B,V){this._deviceCellWidth=V.device.cell.width,this._deviceCellHeight=V.device.cell.height,this._deviceCharWidth=V.device.char.width,this._deviceCharHeight=V.device.char.height,this._deviceCharLeft=V.device.char.left,this._deviceCharTop=V.device.char.top,this._canvas.width=V.device.canvas.width,this._canvas.height=V.device.canvas.height,this._canvas.style.width=`${V.css.canvas.width}px`,this._canvas.style.height=`${V.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(B,this._themeService.colors)}_fillBottomLineAtCells(B,V,W=1){this._ctx.fillRect(B*this._deviceCellWidth,(V+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,W*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(B,V,W,K){this._alpha?this._ctx.clearRect(B*this._deviceCellWidth,V*this._deviceCellHeight,W*this._deviceCellWidth,K*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(B*this._deviceCellWidth,V*this._deviceCellHeight,W*this._deviceCellWidth,K*this._deviceCellHeight))}_fillCharTrueColor(B,V,W,K){this._ctx.font=this._getFont(B,!1,!1),this._ctx.textBaseline=U.TEXT_BASELINE,this._clipCell(W,K,V.getWidth()),this._ctx.fillText(V.getChars(),W*this._deviceCellWidth+this._deviceCharLeft,K*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(B,V,W){this._ctx.beginPath(),this._ctx.rect(B*this._deviceCellWidth,V*this._deviceCellHeight,W*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(B,V,W){return`${W?"italic":""} ${V?B.options.fontWeightBold:B.options.fontWeight} ${B.options.fontSize*this._coreBrowserService.dpr}px ${B.options.fontFamily}`}}Z.BaseRenderLayer=j},733:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.LinkRenderLayer=void 0;let q=G(197),U=G(237),z=G(592);class H extends z.BaseRenderLayer{constructor(j,B,V,W,K,A,F){super(V,j,"link",B,!0,K,A,F),this.register(W.onShowLinkUnderline((P)=>this._handleShowLinkUnderline(P))),this.register(W.onHideLinkUnderline((P)=>this._handleHideLinkUnderline(P)))}resize(j,B){super.resize(j,B),this._state=void 0}reset(j){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);let j=this._state.y2-this._state.y1-1;j>0&&this._clearCells(0,this._state.y1+1,this._state.cols,j),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(j){if(j.fg===U.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:j.fg!==void 0&&(0,q.is256Color)(j.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[j.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,j.y1===j.y2)this._fillBottomLineAtCells(j.x1,j.y1,j.x2-j.x1);else{this._fillBottomLineAtCells(j.x1,j.y1,j.cols-j.x1);for(let B=j.y1+1;B<j.y2;B++)this._fillBottomLineAtCells(0,B,j.cols);this._fillBottomLineAtCells(0,j.y2,j.x2)}this._state=j}_handleHideLinkUnderline(j){this._clearCurrentLink()}}Z.LinkRenderLayer=H},820:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.addDisposableDomListener=void 0,Z.addDisposableDomListener=function(G,q,U,z){G.addEventListener(q,U,z);let H=!1;return{dispose:()=>{H||(H=!0,G.removeEventListener(q,U,z))}}}},274:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CellColorResolver=void 0;let q=G(855),U=G(160),z=G(374),H,j=0,B=0,V=!1,W=!1,K=!1,A=0;Z.CellColorResolver=class{constructor(F,P,R,D,_,O){this._terminal=F,this._optionService=P,this._selectionRenderModel=R,this._decorationService=D,this._coreBrowserService=_,this._themeService=O,this.result={fg:0,bg:0,ext:0}}resolve(F,P,R,D){if(this.result.bg=F.bg,this.result.fg=F.fg,this.result.ext=268435456&F.bg?F.extended.ext:0,B=0,j=0,W=!1,V=!1,K=!1,H=this._themeService.colors,A=0,F.getCode()!==q.NULL_CELL_CODE&&F.extended.underlineStyle===4){let _=Math.max(1,Math.floor(this._optionService.rawOptions.fontSize*this._coreBrowserService.dpr/15));A=P*D%(2*Math.round(_))}if(this._decorationService.forEachDecorationAtCell(P,R,"bottom",(_)=>{_.backgroundColorRGB&&(B=_.backgroundColorRGB.rgba>>8&16777215,W=!0),_.foregroundColorRGB&&(j=_.foregroundColorRGB.rgba>>8&16777215,V=!0)}),K=this._selectionRenderModel.isCellSelected(this._terminal,P,R),K){if(67108864&this.result.fg||(50331648&this.result.bg)!=0){if(67108864&this.result.fg)switch(50331648&this.result.fg){case 16777216:case 33554432:B=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:B=(16777215&this.result.fg)<<8|255;break;default:B=this._themeService.colors.foreground.rgba}else switch(50331648&this.result.bg){case 16777216:case 33554432:B=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:B=(16777215&this.result.bg)<<8|255}B=U.rgba.blend(B,4294967040&(this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}else B=(this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque).rgba>>8&16777215;if(W=!0,H.selectionForeground&&(j=H.selectionForeground.rgba>>8&16777215,V=!0),(0,z.treatGlyphAsBackgroundColor)(F.getCode())){if(67108864&this.result.fg&&(50331648&this.result.bg)==0)j=(this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque).rgba>>8&16777215;else{if(67108864&this.result.fg)switch(50331648&this.result.bg){case 16777216:case 33554432:j=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:j=(16777215&this.result.bg)<<8|255}else switch(50331648&this.result.fg){case 16777216:case 33554432:j=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:j=(16777215&this.result.fg)<<8|255;break;default:j=this._themeService.colors.foreground.rgba}j=U.rgba.blend(j,4294967040&(this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}V=!0}}this._decorationService.forEachDecorationAtCell(P,R,"top",(_)=>{_.backgroundColorRGB&&(B=_.backgroundColorRGB.rgba>>8&16777215,W=!0),_.foregroundColorRGB&&(j=_.foregroundColorRGB.rgba>>8&16777215,V=!0)}),W&&(B=K?-16777216&F.bg&-134217729|B|50331648:-16777216&F.bg|B|50331648),V&&(j=-16777216&F.fg&-67108865|j|50331648),67108864&this.result.fg&&(W&&!V&&(j=(50331648&this.result.bg)==0?-134217728&this.result.fg|16777215&H.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,V=!0),!W&&V&&(B=(50331648&this.result.fg)==0?-67108864&this.result.bg|16777215&H.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,W=!0)),H=void 0,this.result.bg=W?B:this.result.bg,this.result.fg=V?j:this.result.fg,this.result.ext&=536870911,this.result.ext|=A<<29&3758096384}}},627:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.removeTerminalFromCache=Z.acquireTextureAtlas=void 0;let q=G(509),U=G(197),z=[];Z.acquireTextureAtlas=function(H,j,B,V,W,K,A,F){let P=(0,U.generateConfig)(V,W,K,A,j,B,F);for(let _=0;_<z.length;_++){let O=z[_],N=O.ownedBy.indexOf(H);if(N>=0){if((0,U.configEquals)(O.config,P))return O.atlas;O.ownedBy.length===1?(O.atlas.dispose(),z.splice(_,1)):O.ownedBy.splice(N,1);break}}for(let _=0;_<z.length;_++){let O=z[_];if((0,U.configEquals)(O.config,P))return O.ownedBy.push(H),O.atlas}let R=H._core,D={atlas:new q.TextureAtlas(document,P,R.unicodeService),config:P,ownedBy:[H]};return z.push(D),D.atlas},Z.removeTerminalFromCache=function(H){for(let j=0;j<z.length;j++){let B=z[j].ownedBy.indexOf(H);if(B!==-1){z[j].ownedBy.length===1?(z[j].atlas.dispose(),z.splice(j,1)):z[j].ownedBy.splice(B,1);break}}}},197:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.is256Color=Z.configEquals=Z.generateConfig=void 0;let q=G(160);Z.generateConfig=function(U,z,H,j,B,V,W){let K={foreground:V.foreground,background:V.background,cursor:q.NULL_COLOR,cursorAccent:q.NULL_COLOR,selectionForeground:q.NULL_COLOR,selectionBackgroundTransparent:q.NULL_COLOR,selectionBackgroundOpaque:q.NULL_COLOR,selectionInactiveBackgroundTransparent:q.NULL_COLOR,selectionInactiveBackgroundOpaque:q.NULL_COLOR,ansi:V.ansi.slice(),contrastCache:V.contrastCache,halfContrastCache:V.halfContrastCache};return{customGlyphs:B.customGlyphs,devicePixelRatio:W,letterSpacing:B.letterSpacing,lineHeight:B.lineHeight,deviceCellWidth:U,deviceCellHeight:z,deviceCharWidth:H,deviceCharHeight:j,fontFamily:B.fontFamily,fontSize:B.fontSize,fontWeight:B.fontWeight,fontWeightBold:B.fontWeightBold,allowTransparency:B.allowTransparency,drawBoldTextInBrightColors:B.drawBoldTextInBrightColors,minimumContrastRatio:B.minimumContrastRatio,colors:K}},Z.configEquals=function(U,z){for(let H=0;H<U.colors.ansi.length;H++)if(U.colors.ansi[H].rgba!==z.colors.ansi[H].rgba)return!1;return U.devicePixelRatio===z.devicePixelRatio&&U.customGlyphs===z.customGlyphs&&U.lineHeight===z.lineHeight&&U.letterSpacing===z.letterSpacing&&U.fontFamily===z.fontFamily&&U.fontSize===z.fontSize&&U.fontWeight===z.fontWeight&&U.fontWeightBold===z.fontWeightBold&&U.allowTransparency===z.allowTransparency&&U.deviceCharWidth===z.deviceCharWidth&&U.deviceCharHeight===z.deviceCharHeight&&U.drawBoldTextInBrightColors===z.drawBoldTextInBrightColors&&U.minimumContrastRatio===z.minimumContrastRatio&&U.colors.foreground.rgba===z.colors.foreground.rgba&&U.colors.background.rgba===z.colors.background.rgba},Z.is256Color=function(U){return(50331648&U)==16777216||(50331648&U)==33554432}},237:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.TEXT_BASELINE=Z.DIM_OPACITY=Z.INVERTED_DEFAULT_COLOR=void 0;let q=G(399);Z.INVERTED_DEFAULT_COLOR=257,Z.DIM_OPACITY=0.5,Z.TEXT_BASELINE=q.isFirefox||q.isLegacyEdge?"bottom":"ideographic"},457:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CursorBlinkStateManager=void 0,Z.CursorBlinkStateManager=class{constructor(G,q){this._renderCallback=G,this._coreBrowserService=q,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(G=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){let q=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,q>0)return void this._restartInterval(q)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){let q=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(q)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},G)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.tryDrawCustomChar=Z.powerlineDefinitions=Z.boxDrawingDefinitions=Z.blockElementDefinitions=void 0;let q=G(374);Z.blockElementDefinitions={"▀":[{x:0,y:0,w:8,h:4}],"▁":[{x:0,y:7,w:8,h:1}],"▂":[{x:0,y:6,w:8,h:2}],"▃":[{x:0,y:5,w:8,h:3}],"▄":[{x:0,y:4,w:8,h:4}],"▅":[{x:0,y:3,w:8,h:5}],"▆":[{x:0,y:2,w:8,h:6}],"▇":[{x:0,y:1,w:8,h:7}],"█":[{x:0,y:0,w:8,h:8}],"▉":[{x:0,y:0,w:7,h:8}],"▊":[{x:0,y:0,w:6,h:8}],"▋":[{x:0,y:0,w:5,h:8}],"▌":[{x:0,y:0,w:4,h:8}],"▍":[{x:0,y:0,w:3,h:8}],"▎":[{x:0,y:0,w:2,h:8}],"▏":[{x:0,y:0,w:1,h:8}],"▐":[{x:4,y:0,w:4,h:8}],"▔":[{x:0,y:0,w:8,h:1}],"▕":[{x:7,y:0,w:1,h:8}],"▖":[{x:0,y:4,w:4,h:4}],"▗":[{x:4,y:4,w:4,h:4}],"▘":[{x:0,y:0,w:4,h:4}],"▙":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"▚":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"▛":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"▜":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"▝":[{x:4,y:0,w:4,h:4}],"▞":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"▟":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\uD83E\uDF70":[{x:1,y:0,w:1,h:8}],"\uD83E\uDF71":[{x:2,y:0,w:1,h:8}],"\uD83E\uDF72":[{x:3,y:0,w:1,h:8}],"\uD83E\uDF73":[{x:4,y:0,w:1,h:8}],"\uD83E\uDF74":[{x:5,y:0,w:1,h:8}],"\uD83E\uDF75":[{x:6,y:0,w:1,h:8}],"\uD83E\uDF76":[{x:0,y:1,w:8,h:1}],"\uD83E\uDF77":[{x:0,y:2,w:8,h:1}],"\uD83E\uDF78":[{x:0,y:3,w:8,h:1}],"\uD83E\uDF79":[{x:0,y:4,w:8,h:1}],"\uD83E\uDF7A":[{x:0,y:5,w:8,h:1}],"\uD83E\uDF7B":[{x:0,y:6,w:8,h:1}],"\uD83E\uDF7C":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF7D":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7E":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7F":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF80":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF81":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF82":[{x:0,y:0,w:8,h:2}],"\uD83E\uDF83":[{x:0,y:0,w:8,h:3}],"\uD83E\uDF84":[{x:0,y:0,w:8,h:5}],"\uD83E\uDF85":[{x:0,y:0,w:8,h:6}],"\uD83E\uDF86":[{x:0,y:0,w:8,h:7}],"\uD83E\uDF87":[{x:6,y:0,w:2,h:8}],"\uD83E\uDF88":[{x:5,y:0,w:3,h:8}],"\uD83E\uDF89":[{x:3,y:0,w:5,h:8}],"\uD83E\uDF8A":[{x:2,y:0,w:6,h:8}],"\uD83E\uDF8B":[{x:1,y:0,w:7,h:8}],"\uD83E\uDF95":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\uD83E\uDF96":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\uD83E\uDF97":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};let U={"░":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"▒":[[1,0],[0,0],[0,1],[0,0]],"▓":[[0,1],[1,1],[1,0],[1,1]]};Z.boxDrawingDefinitions={"─":{1:"M0,.5 L1,.5"},"━":{3:"M0,.5 L1,.5"},"│":{1:"M.5,0 L.5,1"},"┃":{3:"M.5,0 L.5,1"},"┌":{1:"M0.5,1 L.5,.5 L1,.5"},"┏":{3:"M0.5,1 L.5,.5 L1,.5"},"┐":{1:"M0,.5 L.5,.5 L.5,1"},"┓":{3:"M0,.5 L.5,.5 L.5,1"},"└":{1:"M.5,0 L.5,.5 L1,.5"},"┗":{3:"M.5,0 L.5,.5 L1,.5"},"┘":{1:"M.5,0 L.5,.5 L0,.5"},"┛":{3:"M.5,0 L.5,.5 L0,.5"},"├":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"┣":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"┤":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"┫":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"┬":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"┳":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"┴":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"┻":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"┼":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"╋":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"╴":{1:"M.5,.5 L0,.5"},"╸":{3:"M.5,.5 L0,.5"},"╵":{1:"M.5,.5 L.5,0"},"╹":{3:"M.5,.5 L.5,0"},"╶":{1:"M.5,.5 L1,.5"},"╺":{3:"M.5,.5 L1,.5"},"╷":{1:"M.5,.5 L.5,1"},"╻":{3:"M.5,.5 L.5,1"},"═":{1:(V,W)=>`M0,${0.5-W} L1,${0.5-W} M0,${0.5+W} L1,${0.5+W}`},"║":{1:(V,W)=>`M${0.5-V},0 L${0.5-V},1 M${0.5+V},0 L${0.5+V},1`},"╒":{1:(V,W)=>`M.5,1 L.5,${0.5-W} L1,${0.5-W} M.5,${0.5+W} L1,${0.5+W}`},"╓":{1:(V,W)=>`M${0.5-V},1 L${0.5-V},.5 L1,.5 M${0.5+V},.5 L${0.5+V},1`},"╔":{1:(V,W)=>`M1,${0.5-W} L${0.5-V},${0.5-W} L${0.5-V},1 M1,${0.5+W} L${0.5+V},${0.5+W} L${0.5+V},1`},"╕":{1:(V,W)=>`M0,${0.5-W} L.5,${0.5-W} L.5,1 M0,${0.5+W} L.5,${0.5+W}`},"╖":{1:(V,W)=>`M${0.5+V},1 L${0.5+V},.5 L0,.5 M${0.5-V},.5 L${0.5-V},1`},"╗":{1:(V,W)=>`M0,${0.5+W} L${0.5-V},${0.5+W} L${0.5-V},1 M0,${0.5-W} L${0.5+V},${0.5-W} L${0.5+V},1`},"╘":{1:(V,W)=>`M.5,0 L.5,${0.5+W} L1,${0.5+W} M.5,${0.5-W} L1,${0.5-W}`},"╙":{1:(V,W)=>`M1,.5 L${0.5-V},.5 L${0.5-V},0 M${0.5+V},.5 L${0.5+V},0`},"╚":{1:(V,W)=>`M1,${0.5-W} L${0.5+V},${0.5-W} L${0.5+V},0 M1,${0.5+W} L${0.5-V},${0.5+W} L${0.5-V},0`},"╛":{1:(V,W)=>`M0,${0.5+W} L.5,${0.5+W} L.5,0 M0,${0.5-W} L.5,${0.5-W}`},"╜":{1:(V,W)=>`M0,.5 L${0.5+V},.5 L${0.5+V},0 M${0.5-V},.5 L${0.5-V},0`},"╝":{1:(V,W)=>`M0,${0.5-W} L${0.5-V},${0.5-W} L${0.5-V},0 M0,${0.5+W} L${0.5+V},${0.5+W} L${0.5+V},0`},"╞":{1:(V,W)=>`M.5,0 L.5,1 M.5,${0.5-W} L1,${0.5-W} M.5,${0.5+W} L1,${0.5+W}`},"╟":{1:(V,W)=>`M${0.5-V},0 L${0.5-V},1 M${0.5+V},0 L${0.5+V},1 M${0.5+V},.5 L1,.5`},"╠":{1:(V,W)=>`M${0.5-V},0 L${0.5-V},1 M1,${0.5+W} L${0.5+V},${0.5+W} L${0.5+V},1 M1,${0.5-W} L${0.5+V},${0.5-W} L${0.5+V},0`},"╡":{1:(V,W)=>`M.5,0 L.5,1 M0,${0.5-W} L.5,${0.5-W} M0,${0.5+W} L.5,${0.5+W}`},"╢":{1:(V,W)=>`M0,.5 L${0.5-V},.5 M${0.5-V},0 L${0.5-V},1 M${0.5+V},0 L${0.5+V},1`},"╣":{1:(V,W)=>`M${0.5+V},0 L${0.5+V},1 M0,${0.5+W} L${0.5-V},${0.5+W} L${0.5-V},1 M0,${0.5-W} L${0.5-V},${0.5-W} L${0.5-V},0`},"╤":{1:(V,W)=>`M0,${0.5-W} L1,${0.5-W} M0,${0.5+W} L1,${0.5+W} M.5,${0.5+W} L.5,1`},"╥":{1:(V,W)=>`M0,.5 L1,.5 M${0.5-V},.5 L${0.5-V},1 M${0.5+V},.5 L${0.5+V},1`},"╦":{1:(V,W)=>`M0,${0.5-W} L1,${0.5-W} M0,${0.5+W} L${0.5-V},${0.5+W} L${0.5-V},1 M1,${0.5+W} L${0.5+V},${0.5+W} L${0.5+V},1`},"╧":{1:(V,W)=>`M.5,0 L.5,${0.5-W} M0,${0.5-W} L1,${0.5-W} M0,${0.5+W} L1,${0.5+W}`},"╨":{1:(V,W)=>`M0,.5 L1,.5 M${0.5-V},.5 L${0.5-V},0 M${0.5+V},.5 L${0.5+V},0`},"╩":{1:(V,W)=>`M0,${0.5+W} L1,${0.5+W} M0,${0.5-W} L${0.5-V},${0.5-W} L${0.5-V},0 M1,${0.5-W} L${0.5+V},${0.5-W} L${0.5+V},0`},"╪":{1:(V,W)=>`M.5,0 L.5,1 M0,${0.5-W} L1,${0.5-W} M0,${0.5+W} L1,${0.5+W}`},"╫":{1:(V,W)=>`M0,.5 L1,.5 M${0.5-V},0 L${0.5-V},1 M${0.5+V},0 L${0.5+V},1`},"╬":{1:(V,W)=>`M0,${0.5+W} L${0.5-V},${0.5+W} L${0.5-V},1 M1,${0.5+W} L${0.5+V},${0.5+W} L${0.5+V},1 M0,${0.5-W} L${0.5-V},${0.5-W} L${0.5-V},0 M1,${0.5-W} L${0.5+V},${0.5-W} L${0.5+V},0`},"╱":{1:"M1,0 L0,1"},"╲":{1:"M0,0 L1,1"},"╳":{1:"M1,0 L0,1 M0,0 L1,1"},"╼":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"╽":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"╾":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"╿":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"┍":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"┎":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"┑":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"┒":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"┕":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"┖":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"┙":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"┚":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"┝":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"┞":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"┟":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"┠":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"┡":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"┢":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"┥":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"┦":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"┧":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"┨":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"┩":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"┪":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"┭":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┮":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"┯":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"┰":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"┱":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"┲":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"┵":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┶":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"┷":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"┸":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"┹":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"┺":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"┽":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"┾":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"┿":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"╀":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"╁":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"╂":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"╃":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"╄":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"╅":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"╆":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"╇":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"╈":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"╉":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"╊":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"╌":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"╍":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"┄":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"┅":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"┈":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"┉":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"╎":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"╏":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"┆":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"┇":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"┊":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"┋":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"╭":{1:(V,W)=>`M.5,1 L.5,${0.5+W/0.15*0.5} C.5,${0.5+W/0.15*0.5},.5,.5,1,.5`},"╮":{1:(V,W)=>`M.5,1 L.5,${0.5+W/0.15*0.5} C.5,${0.5+W/0.15*0.5},.5,.5,0,.5`},"╯":{1:(V,W)=>`M.5,0 L.5,${0.5-W/0.15*0.5} C.5,${0.5-W/0.15*0.5},.5,.5,0,.5`},"╰":{1:(V,W)=>`M.5,0 L.5,${0.5-W/0.15*0.5} C.5,${0.5-W/0.15*0.5},.5,.5,1,.5`}},Z.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},Z.powerlineDefinitions[""]=Z.powerlineDefinitions[""],Z.powerlineDefinitions[""]=Z.powerlineDefinitions[""],Z.tryDrawCustomChar=function(V,W,K,A,F,P,R,D){let _=Z.blockElementDefinitions[W];if(_)return function(T,I,k,x,S,l){for(let d=0;d<I.length;d++){let y=I[d],b=S/8,h=l/8;T.fillRect(k+y.x*b,x+y.y*h,y.w*b,y.h*h)}}(V,_,K,A,F,P),!0;let O=U[W];if(O)return function(T,I,k,x,S,l){let d=z.get(I);d||(d=new Map,z.set(I,d));let y=T.fillStyle;if(typeof y!="string")throw Error(`Unexpected fillStyle type "${y}"`);let b=d.get(y);if(!b){let h=I[0].length,u=I.length,$0=T.canvas.ownerDocument.createElement("canvas");$0.width=h,$0.height=u;let Z0=(0,q.throwIfFalsy)($0.getContext("2d")),U0=new ImageData(h,u),Q0,o,m,A0;if(y.startsWith("#"))Q0=parseInt(y.slice(1,3),16),o=parseInt(y.slice(3,5),16),m=parseInt(y.slice(5,7),16),A0=y.length>7&&parseInt(y.slice(7,9),16)||1;else{if(!y.startsWith("rgba"))throw Error(`Unexpected fillStyle color format "${y}" when drawing pattern glyph`);[Q0,o,m,A0]=y.substring(5,y.length-1).split(",").map((z0)=>parseFloat(z0))}for(let z0=0;z0<u;z0++)for(let h0=0;h0<h;h0++)U0.data[4*(z0*h+h0)]=Q0,U0.data[4*(z0*h+h0)+1]=o,U0.data[4*(z0*h+h0)+2]=m,U0.data[4*(z0*h+h0)+3]=I[z0][h0]*(255*A0);Z0.putImageData(U0,0,0),b=(0,q.throwIfFalsy)(T.createPattern($0,null)),d.set(y,b)}T.fillStyle=b,T.fillRect(k,x,S,l)}(V,O,K,A,F,P),!0;let N=Z.boxDrawingDefinitions[W];if(N)return function(T,I,k,x,S,l,d){T.strokeStyle=T.fillStyle;for(let[y,b]of Object.entries(I)){let h;T.beginPath(),T.lineWidth=d*Number.parseInt(y),h=typeof b=="function"?b(0.15,0.15/l*S):b;for(let u of h.split(" ")){let $0=u[0],Z0=j[$0];if(!Z0){console.error(`Could not find drawing instructions for "${$0}"`);continue}let U0=u.substring(1).split(",");U0[0]&&U0[1]&&Z0(T,B(U0,S,l,k,x,!0,d))}T.stroke(),T.closePath()}}(V,N,K,A,F,P,D),!0;let w=Z.powerlineDefinitions[W];return!!w&&(function(T,I,k,x,S,l,d,y){let b=new Path2D;b.rect(k,x,S,l),T.clip(b),T.beginPath();let h=d/12;T.lineWidth=y*h;for(let u of I.d.split(" ")){let $0=u[0],Z0=j[$0];if(!Z0){console.error(`Could not find drawing instructions for "${$0}"`);continue}let U0=u.substring(1).split(",");U0[0]&&U0[1]&&Z0(T,B(U0,S,l,k,x,!1,y,(I.leftPadding??0)*(h/2),(I.rightPadding??0)*(h/2)))}I.type===1?(T.strokeStyle=T.fillStyle,T.stroke()):T.fill(),T.closePath()}(V,w,K,A,F,P,R,D),!0)};let z=new Map;function H(V,W,K=0){return Math.max(Math.min(V,W),K)}let j={C:(V,W)=>V.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]),L:(V,W)=>V.lineTo(W[0],W[1]),M:(V,W)=>V.moveTo(W[0],W[1])};function B(V,W,K,A,F,P,R,D=0,_=0){let O=V.map((N)=>parseFloat(N)||parseInt(N));if(O.length<2)throw Error("Too few arguments for instruction");for(let N=0;N<O.length;N+=2)O[N]*=W-D*R-_*R,P&&O[N]!==0&&(O[N]=H(Math.round(O[N]+0.5)-0.5,W,0)),O[N]+=A+D*R;for(let N=1;N<O.length;N+=2)O[N]*=K,P&&O[N]!==0&&(O[N]=H(Math.round(O[N]+0.5)-0.5,K,0)),O[N]+=F;return O}},56:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.observeDevicePixelDimensions=void 0;let q=G(859);Z.observeDevicePixelDimensions=function(U,z,H){let j=new z.ResizeObserver((B)=>{let V=B.find((A)=>A.target===U);if(!V)return;if(!("devicePixelContentBoxSize"in V))return j?.disconnect(),void(j=void 0);let W=V.devicePixelContentBoxSize[0].inlineSize,K=V.devicePixelContentBoxSize[0].blockSize;W>0&&K>0&&H(W,K)});try{j.observe(U,{box:["device-pixel-content-box"]})}catch{j.disconnect(),j=void 0}return(0,q.toDisposable)(()=>j?.disconnect())}},374:(Y,Z)=>{function G(U){return 57508<=U&&U<=57558}function q(U){return U>=128512&&U<=128591||U>=127744&&U<=128511||U>=128640&&U<=128767||U>=9728&&U<=9983||U>=9984&&U<=10175||U>=65024&&U<=65039||U>=129280&&U<=129535||U>=127462&&U<=127487}Object.defineProperty(Z,"__esModule",{value:!0}),Z.computeNextVariantOffset=Z.createRenderDimensions=Z.treatGlyphAsBackgroundColor=Z.allowRescaling=Z.isEmoji=Z.isRestrictedPowerlineGlyph=Z.isPowerlineGlyph=Z.throwIfFalsy=void 0,Z.throwIfFalsy=function(U){if(!U)throw Error("value must not be falsy");return U},Z.isPowerlineGlyph=G,Z.isRestrictedPowerlineGlyph=function(U){return 57520<=U&&U<=57527},Z.isEmoji=q,Z.allowRescaling=function(U,z,H,j){return z===1&&H>Math.ceil(1.5*j)&&U!==void 0&&U>255&&!q(U)&&!G(U)&&!function(B){return 57344<=B&&B<=63743}(U)},Z.treatGlyphAsBackgroundColor=function(U){return G(U)||function(z){return 9472<=z&&z<=9631}(U)},Z.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},Z.computeNextVariantOffset=function(U,z,H=0){return(U-(2*Math.round(z)-H))%(2*Math.round(z))}},296:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.createSelectionRenderModel=void 0;class G{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(q,U,z,H=!1){if(this.selectionStart=U,this.selectionEnd=z,!U||!z||U[0]===z[0]&&U[1]===z[1])return void this.clear();let j=q.buffers.active.ydisp,B=U[1]-j,V=z[1]-j,W=Math.max(B,0),K=Math.min(V,q.rows-1);W>=q.rows||K<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=H,this.viewportStartRow=B,this.viewportEndRow=V,this.viewportCappedStartRow=W,this.viewportCappedEndRow=K,this.startCol=U[0],this.endCol=z[0])}isCellSelected(q,U,z){return!!this.hasSelection&&(z-=q.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?U>=this.startCol&&z>=this.viewportCappedStartRow&&U<this.endCol&&z<=this.viewportCappedEndRow:U<this.startCol&&z>=this.viewportCappedStartRow&&U>=this.endCol&&z<=this.viewportCappedEndRow:z>this.viewportStartRow&&z<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&z===this.viewportStartRow&&U>=this.startCol&&U<this.endCol||this.viewportStartRow<this.viewportEndRow&&z===this.viewportEndRow&&U<this.endCol||this.viewportStartRow<this.viewportEndRow&&z===this.viewportStartRow&&U>=this.startCol)}}Z.createSelectionRenderModel=function(){return new G}},509:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.TextureAtlas=void 0;let q=G(237),U=G(860),z=G(374),H=G(160),j=G(345),B=G(485),V=G(385),W=G(147),K=G(855),A={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}},F;class P{get pages(){return this._pages}constructor(O,N,w){this._document=O,this._config=N,this._unicodeService=w,this._didWarmUp=!1,this._cacheMap=new B.FourKeyMap,this._cacheMapCombined=new B.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new W.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new j.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new j.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=_(O,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,z.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(let O of this.pages)O.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){let O=new V.IdleTaskQueue;for(let N=33;N<126;N++)O.enqueue(()=>{if(!this._cacheMap.get(N,K.DEFAULT_COLOR,K.DEFAULT_COLOR,K.DEFAULT_EXT)){let w=this._drawToCache(N,K.DEFAULT_COLOR,K.DEFAULT_COLOR,K.DEFAULT_EXT);this._cacheMap.set(N,K.DEFAULT_COLOR,K.DEFAULT_COLOR,K.DEFAULT_EXT,w)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(let O of this._pages)O.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(P.maxAtlasPages&&this._pages.length>=Math.max(4,P.maxAtlasPages)){let N=this._pages.filter((l)=>2*l.canvas.width<=(P.maxTextureSize||4096)).sort((l,d)=>d.canvas.width!==l.canvas.width?d.canvas.width-l.canvas.width:d.percentageUsed-l.percentageUsed),w=-1,T=0;for(let l=0;l<N.length;l++)if(N[l].canvas.width!==T)w=l,T=N[l].canvas.width;else if(l-w==3)break;let I=N.slice(w,w+4),k=I.map((l)=>l.glyphs[0].texturePage).sort((l,d)=>l>d?1:-1),x=this.pages.length-I.length,S=this._mergePages(I,x);S.version++;for(let l=k.length-1;l>=0;l--)this._deletePage(k[l]);this.pages.push(S),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(S.canvas)}let O=new R(this._document,this._textureSize);return this._pages.push(O),this._activePages.push(O),this._onAddTextureAtlasCanvas.fire(O.canvas),O}_mergePages(O,N){let w=2*O[0].canvas.width,T=new R(this._document,w,O);for(let[I,k]of O.entries()){let x=I*k.canvas.width%w,S=Math.floor(I/2)*k.canvas.height;T.ctx.drawImage(k.canvas,x,S);for(let d of k.glyphs)d.texturePage=N,d.sizeClipSpace.x=d.size.x/w,d.sizeClipSpace.y=d.size.y/w,d.texturePosition.x+=x,d.texturePosition.y+=S,d.texturePositionClipSpace.x=d.texturePosition.x/w,d.texturePositionClipSpace.y=d.texturePosition.y/w;this._onRemoveTextureAtlasCanvas.fire(k.canvas);let l=this._activePages.indexOf(k);l!==-1&&this._activePages.splice(l,1)}return T}_deletePage(O){this._pages.splice(O,1);for(let N=O;N<this._pages.length;N++){let w=this._pages[N];for(let T of w.glyphs)T.texturePage--;w.version++}}getRasterizedGlyphCombinedChar(O,N,w,T,I){return this._getFromCacheMap(this._cacheMapCombined,O,N,w,T,I)}getRasterizedGlyph(O,N,w,T,I){return this._getFromCacheMap(this._cacheMap,O,N,w,T,I)}_getFromCacheMap(O,N,w,T,I,k=!1){return F=O.get(N,w,T,I),F||(F=this._drawToCache(N,w,T,I,k),O.set(N,w,T,I,F)),F}_getColorFromAnsiIndex(O){if(O>=this._config.colors.ansi.length)throw Error("No color found for idx "+O);return this._config.colors.ansi[O]}_getBackgroundColor(O,N,w,T){if(this._config.allowTransparency)return H.NULL_COLOR;let I;switch(O){case 16777216:case 33554432:I=this._getColorFromAnsiIndex(N);break;case 50331648:let k=W.AttributeData.toColorRGB(N);I=H.channels.toColor(k[0],k[1],k[2]);break;default:I=w?H.color.opaque(this._config.colors.foreground):this._config.colors.background}return I}_getForegroundColor(O,N,w,T,I,k,x,S,l,d){let y=this._getMinimumContrastColor(O,N,w,T,I,k,x,l,S,d);if(y)return y;let b;switch(I){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&l&&k<8&&(k+=8),b=this._getColorFromAnsiIndex(k);break;case 50331648:let h=W.AttributeData.toColorRGB(k);b=H.channels.toColor(h[0],h[1],h[2]);break;default:b=x?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(b=H.color.opaque(b)),S&&(b=H.color.multiplyOpacity(b,q.DIM_OPACITY)),b}_resolveBackgroundRgba(O,N,w){switch(O){case 16777216:case 33554432:return this._getColorFromAnsiIndex(N).rgba;case 50331648:return N<<8;default:return w?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(O,N,w,T){switch(O){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&T&&N<8&&(N+=8),this._getColorFromAnsiIndex(N).rgba;case 50331648:return N<<8;default:return w?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(O,N,w,T,I,k,x,S,l,d){if(this._config.minimumContrastRatio===1||d)return;let y=this._getContrastCache(l),b=y.getColor(O,T);if(b!==void 0)return b||void 0;let h=this._resolveBackgroundRgba(N,w,x),u=this._resolveForegroundRgba(I,k,x,S),$0=H.rgba.ensureContrastRatio(h,u,this._config.minimumContrastRatio/(l?2:1));if(!$0)return void y.setColor(O,T,null);let Z0=H.channels.toColor($0>>24&255,$0>>16&255,$0>>8&255);return y.setColor(O,T,Z0),Z0}_getContrastCache(O){return O?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(O,N,w,T,I=!1){let k=typeof O=="number"?String.fromCharCode(O):O,x=Math.min(this._config.deviceCellWidth*Math.max(k.length,2)+4,this._textureSize);this._tmpCanvas.width<x&&(this._tmpCanvas.width=x);let S=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<S&&(this._tmpCanvas.height=S),this._tmpCtx.save(),this._workAttributeData.fg=w,this._workAttributeData.bg=N,this._workAttributeData.extended.ext=T,this._workAttributeData.isInvisible())return A;let l=!!this._workAttributeData.isBold(),d=!!this._workAttributeData.isInverse(),y=!!this._workAttributeData.isDim(),b=!!this._workAttributeData.isItalic(),h=!!this._workAttributeData.isUnderline(),u=!!this._workAttributeData.isStrikethrough(),$0=!!this._workAttributeData.isOverline(),Z0=this._workAttributeData.getFgColor(),U0=this._workAttributeData.getFgColorMode(),Q0=this._workAttributeData.getBgColor(),o=this._workAttributeData.getBgColorMode();if(d){let e=Z0;Z0=Q0,Q0=e;let n=U0;U0=o,o=n}let m=this._getBackgroundColor(o,Q0,d,y);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=m.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";let A0=l?this._config.fontWeightBold:this._config.fontWeight,z0=b?"italic":"";this._tmpCtx.font=`${z0} ${A0} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=q.TEXT_BASELINE;let h0=k.length===1&&(0,z.isPowerlineGlyph)(k.charCodeAt(0)),N0=k.length===1&&(0,z.isRestrictedPowerlineGlyph)(k.charCodeAt(0)),w1=this._getForegroundColor(N,o,Q0,w,U0,Z0,d,y,l,(0,z.treatGlyphAsBackgroundColor)(k.charCodeAt(0)));this._tmpCtx.fillStyle=w1.css;let R0=N0?0:4,u1=!1;this._config.customGlyphs!==!1&&(u1=(0,U.tryDrawCustomChar)(this._tmpCtx,k,R0,R0,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let W6,S6=!h0;if(W6=typeof O=="number"?this._unicodeService.wcwidth(O):this._unicodeService.getStringCellWidth(O),h){this._tmpCtx.save();let e=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),n=e%2==1?0.5:0;if(this._tmpCtx.lineWidth=e,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())S6=!1,this._tmpCtx.strokeStyle=`rgb(${W.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{S6=!1;let G0=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&G0<8&&(G0+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(G0).css}this._tmpCtx.beginPath();let J0=R0,C=Math.ceil(R0+this._config.deviceCharHeight)-n-(I?2*e:0),c=C+e,i=C+2*e,a=this._workAttributeData.getUnderlineVariantOffset();for(let G0=0;G0<W6;G0++){this._tmpCtx.save();let K0=J0+G0*this._config.deviceCellWidth,I0=J0+(G0+1)*this._config.deviceCellWidth,k0=K0+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(K0,C),this._tmpCtx.lineTo(I0,C),this._tmpCtx.moveTo(K0,i),this._tmpCtx.lineTo(I0,i);break;case 3:let z1=e<=1?i:Math.ceil(R0+this._config.deviceCharHeight-e/2)-n,Y1=e<=1?C:Math.ceil(R0+this._config.deviceCharHeight+e/2)-n,$6=new Path2D;$6.rect(K0,C,this._config.deviceCellWidth,i-C),this._tmpCtx.clip($6),this._tmpCtx.moveTo(K0-this._config.deviceCellWidth/2,c),this._tmpCtx.bezierCurveTo(K0-this._config.deviceCellWidth/2,Y1,K0,Y1,K0,c),this._tmpCtx.bezierCurveTo(K0,z1,k0,z1,k0,c),this._tmpCtx.bezierCurveTo(k0,Y1,I0,Y1,I0,c),this._tmpCtx.bezierCurveTo(I0,z1,I0+this._config.deviceCellWidth/2,z1,I0+this._config.deviceCellWidth/2,c);break;case 4:let c1=a===0?0:a>=e?2*e-a:e-a;!(a>=e)==!1||c1===0?(this._tmpCtx.setLineDash([Math.round(e),Math.round(e)]),this._tmpCtx.moveTo(K0+c1,C),this._tmpCtx.lineTo(I0,C)):(this._tmpCtx.setLineDash([Math.round(e),Math.round(e)]),this._tmpCtx.moveTo(K0,C),this._tmpCtx.lineTo(K0+c1,C),this._tmpCtx.moveTo(K0+c1+e,C),this._tmpCtx.lineTo(I0,C)),a=(0,z.computeNextVariantOffset)(I0-K0,e,a);break;case 5:let t0=0.6,C6=0.3,R6=I0-K0,C7=Math.floor(t0*R6),v1=Math.floor(C6*R6),U5=R6-C7-v1;this._tmpCtx.setLineDash([C7,v1,U5]),this._tmpCtx.moveTo(K0,C),this._tmpCtx.lineTo(I0,C);break;default:this._tmpCtx.moveTo(K0,C),this._tmpCtx.lineTo(I0,C)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!u1&&this._config.fontSize>=12&&!this._config.allowTransparency&&k!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";let G0=this._tmpCtx.measureText(k);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in G0&&G0.actualBoundingBoxDescent>0){this._tmpCtx.save();let K0=new Path2D;K0.rect(J0,C-Math.ceil(e/2),this._config.deviceCellWidth*W6,i-C+Math.ceil(e/2)),this._tmpCtx.clip(K0),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=m.css,this._tmpCtx.strokeText(k,R0,R0+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if($0){let e=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),n=e%2==1?0.5:0;this._tmpCtx.lineWidth=e,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(R0,R0+n),this._tmpCtx.lineTo(R0+this._config.deviceCharWidth*W6,R0+n),this._tmpCtx.stroke()}if(u1||this._tmpCtx.fillText(k,R0,R0+this._config.deviceCharHeight),k==="_"&&!this._config.allowTransparency){let e=D(this._tmpCtx.getImageData(R0,R0,this._config.deviceCellWidth,this._config.deviceCellHeight),m,w1,S6);if(e)for(let n=1;n<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=m.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(k,R0,R0+this._config.deviceCharHeight-n),e=D(this._tmpCtx.getImageData(R0,R0,this._config.deviceCellWidth,this._config.deviceCellHeight),m,w1,S6),e);n++);}if(u){let e=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),n=this._tmpCtx.lineWidth%2==1?0.5:0;this._tmpCtx.lineWidth=e,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(R0,R0+Math.floor(this._config.deviceCharHeight/2)-n),this._tmpCtx.lineTo(R0+this._config.deviceCharWidth*W6,R0+Math.floor(this._config.deviceCharHeight/2)-n),this._tmpCtx.stroke()}this._tmpCtx.restore();let O1=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height),T6;if(T6=this._config.allowTransparency?function(e){for(let n=0;n<e.data.length;n+=4)if(e.data[n+3]>0)return!1;return!0}(O1):D(O1,m,w1,S6),T6)return A;let g1=this._findGlyphBoundingBox(O1,this._workBoundingBox,x,N0,u1,R0),a1,t1;for(;;){if(this._activePages.length===0){let e=this._createNewPage();a1=e,t1=e.currentRow,t1.height=g1.size.y;break}a1=this._activePages[this._activePages.length-1],t1=a1.currentRow;for(let e of this._activePages)g1.size.y<=e.currentRow.height&&(a1=e,t1=e.currentRow);for(let e=this._activePages.length-1;e>=0;e--)for(let n of this._activePages[e].fixedRows)n.height<=t1.height&&g1.size.y<=n.height&&(a1=this._activePages[e],t1=n);if(t1.y+g1.size.y>=a1.canvas.height||t1.height>g1.size.y+2){let e=!1;if(a1.currentRow.y+a1.currentRow.height+g1.size.y>=a1.canvas.height){let n;for(let J0 of this._activePages)if(J0.currentRow.y+J0.currentRow.height+g1.size.y<J0.canvas.height){n=J0;break}if(n)a1=n;else if(P.maxAtlasPages&&this._pages.length>=P.maxAtlasPages&&t1.y+g1.size.y<=a1.canvas.height&&t1.height>=g1.size.y&&t1.x+g1.size.x<=a1.canvas.width)e=!0;else{let J0=this._createNewPage();a1=J0,t1=J0.currentRow,t1.height=g1.size.y,e=!0}}e||(a1.currentRow.height>0&&a1.fixedRows.push(a1.currentRow),t1={x:0,y:a1.currentRow.y+a1.currentRow.height,height:g1.size.y},a1.fixedRows.push(t1),a1.currentRow={x:0,y:t1.y+t1.height,height:0})}if(t1.x+g1.size.x<=a1.canvas.width)break;t1===a1.currentRow?(t1.x=0,t1.y+=t1.height,t1.height=0):a1.fixedRows.splice(a1.fixedRows.indexOf(t1),1)}return g1.texturePage=this._pages.indexOf(a1),g1.texturePosition.x=t1.x,g1.texturePosition.y=t1.y,g1.texturePositionClipSpace.x=t1.x/a1.canvas.width,g1.texturePositionClipSpace.y=t1.y/a1.canvas.height,g1.sizeClipSpace.x/=a1.canvas.width,g1.sizeClipSpace.y/=a1.canvas.height,t1.height=Math.max(t1.height,g1.size.y),t1.x+=g1.size.x,a1.ctx.putImageData(O1,g1.texturePosition.x-this._workBoundingBox.left,g1.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,g1.size.x,g1.size.y),a1.addGlyph(g1),a1.version++,g1}_findGlyphBoundingBox(O,N,w,T,I,k){N.top=0;let x=T?this._config.deviceCellHeight:this._tmpCanvas.height,S=T?this._config.deviceCellWidth:w,l=!1;for(let d=0;d<x;d++){for(let y=0;y<S;y++){let b=d*this._tmpCanvas.width*4+4*y+3;if(O.data[b]!==0){N.top=d,l=!0;break}}if(l)break}N.left=0,l=!1;for(let d=0;d<k+S;d++){for(let y=0;y<x;y++){let b=y*this._tmpCanvas.width*4+4*d+3;if(O.data[b]!==0){N.left=d,l=!0;break}}if(l)break}N.right=S,l=!1;for(let d=k+S-1;d>=k;d--){for(let y=0;y<x;y++){let b=y*this._tmpCanvas.width*4+4*d+3;if(O.data[b]!==0){N.right=d,l=!0;break}}if(l)break}N.bottom=x,l=!1;for(let d=x-1;d>=0;d--){for(let y=0;y<S;y++){let b=d*this._tmpCanvas.width*4+4*y+3;if(O.data[b]!==0){N.bottom=d,l=!0;break}}if(l)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:N.right-N.left+1,y:N.bottom-N.top+1},sizeClipSpace:{x:N.right-N.left+1,y:N.bottom-N.top+1},offset:{x:-N.left+k+(T||I?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-N.top+k+(T||I?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}Z.TextureAtlas=P;class R{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(O){this._glyphs.push(O),this._usedPixels+=O.size.x*O.size.y}constructor(O,N,w){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],w)for(let T of w)this._glyphs.push(...T.glyphs),this._usedPixels+=T._usedPixels;this.canvas=_(O,N,N),this.ctx=(0,z.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function D(O,N,w,T){let I=N.rgba>>>24,k=N.rgba>>>16&255,x=N.rgba>>>8&255,S=w.rgba>>>24,l=w.rgba>>>16&255,d=w.rgba>>>8&255,y=Math.floor((Math.abs(I-S)+Math.abs(k-l)+Math.abs(x-d))/12),b=!0;for(let h=0;h<O.data.length;h+=4)O.data[h]===I&&O.data[h+1]===k&&O.data[h+2]===x||T&&Math.abs(O.data[h]-I)+Math.abs(O.data[h+1]-k)+Math.abs(O.data[h+2]-x)<y?O.data[h+3]=0:b=!1;return b}function _(O,N,w){let T=O.createElement("canvas");return T.width=N,T.height=w,T}},160:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.contrastRatio=Z.toPaddedHex=Z.rgba=Z.rgb=Z.css=Z.color=Z.channels=Z.NULL_COLOR=void 0;let G=0,q=0,U=0,z=0;var H,j,B,V,W;function K(F){let P=F.toString(16);return P.length<2?"0"+P:P}function A(F,P){return F<P?(P+0.05)/(F+0.05):(F+0.05)/(P+0.05)}Z.NULL_COLOR={css:"#00000000",rgba:0},function(F){F.toCss=function(P,R,D,_){return _!==void 0?`#${K(P)}${K(R)}${K(D)}${K(_)}`:`#${K(P)}${K(R)}${K(D)}`},F.toRgba=function(P,R,D,_=255){return(P<<24|R<<16|D<<8|_)>>>0},F.toColor=function(P,R,D,_){return{css:F.toCss(P,R,D,_),rgba:F.toRgba(P,R,D,_)}}}(H||(Z.channels=H={})),function(F){function P(R,D){return z=Math.round(255*D),[G,q,U]=W.toChannels(R.rgba),{css:H.toCss(G,q,U,z),rgba:H.toRgba(G,q,U,z)}}F.blend=function(R,D){if(z=(255&D.rgba)/255,z===1)return{css:D.css,rgba:D.rgba};let _=D.rgba>>24&255,O=D.rgba>>16&255,N=D.rgba>>8&255,w=R.rgba>>24&255,T=R.rgba>>16&255,I=R.rgba>>8&255;return G=w+Math.round((_-w)*z),q=T+Math.round((O-T)*z),U=I+Math.round((N-I)*z),{css:H.toCss(G,q,U),rgba:H.toRgba(G,q,U)}},F.isOpaque=function(R){return(255&R.rgba)==255},F.ensureContrastRatio=function(R,D,_){let O=W.ensureContrastRatio(R.rgba,D.rgba,_);if(O)return H.toColor(O>>24&255,O>>16&255,O>>8&255)},F.opaque=function(R){let D=(255|R.rgba)>>>0;return[G,q,U]=W.toChannels(D),{css:H.toCss(G,q,U),rgba:D}},F.opacity=P,F.multiplyOpacity=function(R,D){return z=255&R.rgba,P(R,z*D/255)},F.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}}(j||(Z.color=j={})),function(F){let P,R;try{let D=document.createElement("canvas");D.width=1,D.height=1;let _=D.getContext("2d",{willReadFrequently:!0});_&&(P=_,P.globalCompositeOperation="copy",R=P.createLinearGradient(0,0,1,1))}catch{}F.toColor=function(D){if(D.match(/#[\da-f]{3,8}/i))switch(D.length){case 4:return G=parseInt(D.slice(1,2).repeat(2),16),q=parseInt(D.slice(2,3).repeat(2),16),U=parseInt(D.slice(3,4).repeat(2),16),H.toColor(G,q,U);case 5:return G=parseInt(D.slice(1,2).repeat(2),16),q=parseInt(D.slice(2,3).repeat(2),16),U=parseInt(D.slice(3,4).repeat(2),16),z=parseInt(D.slice(4,5).repeat(2),16),H.toColor(G,q,U,z);case 7:return{css:D,rgba:(parseInt(D.slice(1),16)<<8|255)>>>0};case 9:return{css:D,rgba:parseInt(D.slice(1),16)>>>0}}let _=D.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(_)return G=parseInt(_[1]),q=parseInt(_[2]),U=parseInt(_[3]),z=Math.round(255*(_[5]===void 0?1:parseFloat(_[5]))),H.toColor(G,q,U,z);if(!P||!R)throw Error("css.toColor: Unsupported css format");if(P.fillStyle=R,P.fillStyle=D,typeof P.fillStyle!="string")throw Error("css.toColor: Unsupported css format");if(P.fillRect(0,0,1,1),[G,q,U,z]=P.getImageData(0,0,1,1).data,z!==255)throw Error("css.toColor: Unsupported css format");return{rgba:H.toRgba(G,q,U,z),css:D}}}(B||(Z.css=B={})),function(F){function P(R,D,_){let O=R/255,N=D/255,w=_/255;return 0.2126*(O<=0.03928?O/12.92:Math.pow((O+0.055)/1.055,2.4))+0.7152*(N<=0.03928?N/12.92:Math.pow((N+0.055)/1.055,2.4))+0.0722*(w<=0.03928?w/12.92:Math.pow((w+0.055)/1.055,2.4))}F.relativeLuminance=function(R){return P(R>>16&255,R>>8&255,255&R)},F.relativeLuminance2=P}(V||(Z.rgb=V={})),function(F){function P(D,_,O){let N=D>>24&255,w=D>>16&255,T=D>>8&255,I=_>>24&255,k=_>>16&255,x=_>>8&255,S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));for(;S<O&&(I>0||k>0||x>0);)I-=Math.max(0,Math.ceil(0.1*I)),k-=Math.max(0,Math.ceil(0.1*k)),x-=Math.max(0,Math.ceil(0.1*x)),S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));return(I<<24|k<<16|x<<8|255)>>>0}function R(D,_,O){let N=D>>24&255,w=D>>16&255,T=D>>8&255,I=_>>24&255,k=_>>16&255,x=_>>8&255,S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));for(;S<O&&(I<255||k<255||x<255);)I=Math.min(255,I+Math.ceil(0.1*(255-I))),k=Math.min(255,k+Math.ceil(0.1*(255-k))),x=Math.min(255,x+Math.ceil(0.1*(255-x))),S=A(V.relativeLuminance2(I,k,x),V.relativeLuminance2(N,w,T));return(I<<24|k<<16|x<<8|255)>>>0}F.blend=function(D,_){if(z=(255&_)/255,z===1)return _;let O=_>>24&255,N=_>>16&255,w=_>>8&255,T=D>>24&255,I=D>>16&255,k=D>>8&255;return G=T+Math.round((O-T)*z),q=I+Math.round((N-I)*z),U=k+Math.round((w-k)*z),H.toRgba(G,q,U)},F.ensureContrastRatio=function(D,_,O){let N=V.relativeLuminance(D>>8),w=V.relativeLuminance(_>>8);if(A(N,w)<O){if(w<N){let k=P(D,_,O),x=A(N,V.relativeLuminance(k>>8));if(x<O){let S=R(D,_,O);return x>A(N,V.relativeLuminance(S>>8))?k:S}return k}let T=R(D,_,O),I=A(N,V.relativeLuminance(T>>8));if(I<O){let k=P(D,_,O);return I>A(N,V.relativeLuminance(k>>8))?T:k}return T}},F.reduceLuminance=P,F.increaseLuminance=R,F.toChannels=function(D){return[D>>24&255,D>>16&255,D>>8&255,255&D]}}(W||(Z.rgba=W={})),Z.toPaddedHex=K,Z.contrastRatio=A},345:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.runAndSubscribe=Z.forwardEvent=Z.EventEmitter=void 0,Z.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(G)=>(this._listeners.push(G),{dispose:()=>{if(!this._disposed){for(let q=0;q<this._listeners.length;q++)if(this._listeners[q]===G)return void this._listeners.splice(q,1)}}})),this._event}fire(G,q){let U=[];for(let z=0;z<this._listeners.length;z++)U.push(this._listeners[z]);for(let z=0;z<U.length;z++)U[z].call(void 0,G,q)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},Z.forwardEvent=function(G,q){return G((U)=>q.fire(U))},Z.runAndSubscribe=function(G,q){return q(void 0),G((U)=>q(U))}},859:(Y,Z)=>{function G(q){for(let U of q)U.dispose();q.length=0}Object.defineProperty(Z,"__esModule",{value:!0}),Z.getDisposeArrayDisposable=Z.disposeArray=Z.toDisposable=Z.MutableDisposable=Z.Disposable=void 0,Z.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let q of this._disposables)q.dispose();this._disposables.length=0}register(q){return this._disposables.push(q),q}unregister(q){let U=this._disposables.indexOf(q);U!==-1&&this._disposables.splice(U,1)}},Z.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(q){this._isDisposed||q===this._value||(this._value?.dispose(),this._value=q)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},Z.toDisposable=function(q){return{dispose:q}},Z.disposeArray=G,Z.getDisposeArrayDisposable=function(q){return{dispose:()=>G(q)}}},485:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.FourKeyMap=Z.TwoKeyMap=void 0;class G{constructor(){this._data={}}set(q,U,z){this._data[q]||(this._data[q]={}),this._data[q][U]=z}get(q,U){return this._data[q]?this._data[q][U]:void 0}clear(){this._data={}}}Z.TwoKeyMap=G,Z.FourKeyMap=class{constructor(){this._data=new G}set(q,U,z,H,j){this._data.get(q,U)||this._data.set(q,U,new G),this._data.get(q,U).set(z,H,j)}get(q,U,z,H){return this._data.get(q,U)?.get(z,H)}clear(){this._data.clear()}}},399:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isChromeOS=Z.isLinux=Z.isWindows=Z.isIphone=Z.isIpad=Z.isMac=Z.getSafariVersion=Z.isSafari=Z.isLegacyEdge=Z.isFirefox=Z.isNode=void 0,Z.isNode=typeof process<"u"&&"title"in process;let G=Z.isNode?"node":navigator.userAgent,q=Z.isNode?"node":navigator.platform;Z.isFirefox=G.includes("Firefox"),Z.isLegacyEdge=G.includes("Edge"),Z.isSafari=/^((?!chrome|android).)*safari/i.test(G),Z.getSafariVersion=function(){if(!Z.isSafari)return 0;let U=G.match(/Version\/(\d+)/);return U===null||U.length<2?0:parseInt(U[1])},Z.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(q),Z.isIpad=q==="iPad",Z.isIphone=q==="iPhone",Z.isWindows=["Windows","Win16","Win32","WinCE"].includes(q),Z.isLinux=q.indexOf("Linux")>=0,Z.isChromeOS=/\bCrOS\b/.test(G)},385:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DebouncedIdleTask=Z.IdleTaskQueue=Z.PriorityTaskQueue=void 0;let q=G(399);class U{constructor(){this._tasks=[],this._i=0}enqueue(H){this._tasks.push(H),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(H){this._idleCallback=void 0;let j=0,B=0,V=H.timeRemaining(),W=0;for(;this._i<this._tasks.length;){if(j=Date.now(),this._tasks[this._i]()||this._i++,j=Math.max(1,Date.now()-j),B=Math.max(j,B),W=H.timeRemaining(),1.5*B>W)return V-j<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(V-j))}ms`),void this._start();V=W}this.clear()}}class z extends U{_requestCallback(H){return setTimeout(()=>H(this._createDeadline(16)))}_cancelCallback(H){clearTimeout(H)}_createDeadline(H){let j=Date.now()+H;return{timeRemaining:()=>Math.max(0,j-Date.now())}}}Z.PriorityTaskQueue=z,Z.IdleTaskQueue=!q.isNode&&"requestIdleCallback"in window?class extends U{_requestCallback(H){return requestIdleCallback(H)}_cancelCallback(H){cancelIdleCallback(H)}}:z,Z.DebouncedIdleTask=class{constructor(){this._queue=new Z.IdleTaskQueue}set(H){this._queue.clear(),this._queue.enqueue(H)}flush(){this._queue.flush()}}},147:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ExtendedAttrs=Z.AttributeData=void 0;class G{constructor(){this.fg=0,this.bg=0,this.extended=new q}static toColorRGB(U){return[U>>>16&255,U>>>8&255,255&U]}static fromColorRGB(U){return(255&U[0])<<16|(255&U[1])<<8|255&U[2]}clone(){let U=new G;return U.fg=this.fg,U.bg=this.bg,U.extended=this.extended.clone(),U}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}Z.AttributeData=G;class q{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(U){this._ext=U}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(U){this._ext&=-469762049,this._ext|=U<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(U){this._ext&=-67108864,this._ext|=67108863&U}get urlId(){return this._urlId}set urlId(U){this._urlId=U}get underlineVariantOffset(){let U=(3758096384&this._ext)>>29;return U<0?4294967288^U:U}set underlineVariantOffset(U){this._ext&=536870911,this._ext|=U<<29&3758096384}constructor(U=0,z=0){this._ext=0,this._urlId=0,this._ext=U,this._urlId=z}clone(){return new q(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}Z.ExtendedAttrs=q},782:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CellData=void 0;let q=G(133),U=G(855),z=G(147);class H extends z.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new z.ExtendedAttrs,this.combinedData=""}static fromCharData(j){let B=new H;return B.setFromCharData(j),B}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,q.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(j){this.fg=j[U.CHAR_DATA_ATTR_INDEX],this.bg=0;let B=!1;if(j[U.CHAR_DATA_CHAR_INDEX].length>2)B=!0;else if(j[U.CHAR_DATA_CHAR_INDEX].length===2){let V=j[U.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=V&&V<=56319){let W=j[U.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=W&&W<=57343?this.content=1024*(V-55296)+W-56320+65536|j[U.CHAR_DATA_WIDTH_INDEX]<<22:B=!0}else B=!0}else this.content=j[U.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|j[U.CHAR_DATA_WIDTH_INDEX]<<22;B&&(this.combinedData=j[U.CHAR_DATA_CHAR_INDEX],this.content=2097152|j[U.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}Z.CellData=H},855:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WHITESPACE_CELL_CODE=Z.WHITESPACE_CELL_WIDTH=Z.WHITESPACE_CELL_CHAR=Z.NULL_CELL_CODE=Z.NULL_CELL_WIDTH=Z.NULL_CELL_CHAR=Z.CHAR_DATA_CODE_INDEX=Z.CHAR_DATA_WIDTH_INDEX=Z.CHAR_DATA_CHAR_INDEX=Z.CHAR_DATA_ATTR_INDEX=Z.DEFAULT_EXT=Z.DEFAULT_ATTR=Z.DEFAULT_COLOR=void 0,Z.DEFAULT_COLOR=0,Z.DEFAULT_ATTR=256|Z.DEFAULT_COLOR<<9,Z.DEFAULT_EXT=0,Z.CHAR_DATA_ATTR_INDEX=0,Z.CHAR_DATA_CHAR_INDEX=1,Z.CHAR_DATA_WIDTH_INDEX=2,Z.CHAR_DATA_CODE_INDEX=3,Z.NULL_CELL_CHAR="",Z.NULL_CELL_WIDTH=1,Z.NULL_CELL_CODE=0,Z.WHITESPACE_CELL_CHAR=" ",Z.WHITESPACE_CELL_WIDTH=1,Z.WHITESPACE_CELL_CODE=32},133:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Utf8ToUtf32=Z.StringToUtf32=Z.utf32ToString=Z.stringFromCodePoint=void 0,Z.stringFromCodePoint=function(G){return G>65535?(G-=65536,String.fromCharCode(55296+(G>>10))+String.fromCharCode(G%1024+56320)):String.fromCharCode(G)},Z.utf32ToString=function(G,q=0,U=G.length){let z="";for(let H=q;H<U;++H){let j=G[H];j>65535?(j-=65536,z+=String.fromCharCode(55296+(j>>10))+String.fromCharCode(j%1024+56320)):z+=String.fromCharCode(j)}return z},Z.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(G,q){let U=G.length;if(!U)return 0;let z=0,H=0;if(this._interim){let j=G.charCodeAt(H++);56320<=j&&j<=57343?q[z++]=1024*(this._interim-55296)+j-56320+65536:(q[z++]=this._interim,q[z++]=j),this._interim=0}for(let j=H;j<U;++j){let B=G.charCodeAt(j);if(55296<=B&&B<=56319){if(++j>=U)return this._interim=B,z;let V=G.charCodeAt(j);56320<=V&&V<=57343?q[z++]=1024*(B-55296)+V-56320+65536:(q[z++]=B,q[z++]=V)}else B!==65279&&(q[z++]=B)}return z}},Z.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(G,q){let U=G.length;if(!U)return 0;let z,H,j,B,V=0,W=0,K=0;if(this.interim[0]){let P=!1,R=this.interim[0];R&=(224&R)==192?31:(240&R)==224?15:7;let D,_=0;for(;(D=63&this.interim[++_])&&_<4;)R<<=6,R|=D;let O=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,N=O-_;for(;K<N;){if(K>=U)return 0;if(D=G[K++],(192&D)!=128){K--,P=!0;break}this.interim[_++]=D,R<<=6,R|=63&D}P||(O===2?R<128?K--:q[V++]=R:O===3?R<2048||R>=55296&&R<=57343||R===65279||(q[V++]=R):R<65536||R>1114111||(q[V++]=R)),this.interim.fill(0)}let A=U-4,F=K;for(;F<U;){for(;!(!(F<A)||128&(z=G[F])||128&(H=G[F+1])||128&(j=G[F+2])||128&(B=G[F+3]));)q[V++]=z,q[V++]=H,q[V++]=j,q[V++]=B,F+=4;if(z=G[F++],z<128)q[V++]=z;else if((224&z)==192){if(F>=U)return this.interim[0]=z,V;if(H=G[F++],(192&H)!=128){F--;continue}if(W=(31&z)<<6|63&H,W<128){F--;continue}q[V++]=W}else if((240&z)==224){if(F>=U)return this.interim[0]=z,V;if(H=G[F++],(192&H)!=128){F--;continue}if(F>=U)return this.interim[0]=z,this.interim[1]=H,V;if(j=G[F++],(192&j)!=128){F--;continue}if(W=(15&z)<<12|(63&H)<<6|63&j,W<2048||W>=55296&&W<=57343||W===65279)continue;q[V++]=W}else if((248&z)==240){if(F>=U)return this.interim[0]=z,V;if(H=G[F++],(192&H)!=128){F--;continue}if(F>=U)return this.interim[0]=z,this.interim[1]=H,V;if(j=G[F++],(192&j)!=128){F--;continue}if(F>=U)return this.interim[0]=z,this.interim[1]=H,this.interim[2]=j,V;if(B=G[F++],(192&B)!=128){F--;continue}if(W=(7&z)<<18|(63&H)<<12|(63&j)<<6|63&B,W<65536||W>1114111)continue;q[V++]=W}}return V}}},776:function(Y,Z,G){var q=this&&this.__decorate||function(W,K,A,F){var P,R=arguments.length,D=R<3?K:F===null?F=Object.getOwnPropertyDescriptor(K,A):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(W,K,A,F);else for(var _=W.length-1;_>=0;_--)(P=W[_])&&(D=(R<3?P(D):R>3?P(K,A,D):P(K,A))||D);return R>3&&D&&Object.defineProperty(K,A,D),D},U=this&&this.__param||function(W,K){return function(A,F){K(A,F,W)}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.traceCall=Z.setTraceLogger=Z.LogService=void 0;let z=G(859),H=G(97),j={trace:H.LogLevelEnum.TRACE,debug:H.LogLevelEnum.DEBUG,info:H.LogLevelEnum.INFO,warn:H.LogLevelEnum.WARN,error:H.LogLevelEnum.ERROR,off:H.LogLevelEnum.OFF},B,V=Z.LogService=class extends z.Disposable{get logLevel(){return this._logLevel}constructor(W){super(),this._optionsService=W,this._logLevel=H.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),B=this}_updateLogLevel(){this._logLevel=j[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(W){for(let K=0;K<W.length;K++)typeof W[K]=="function"&&(W[K]=W[K]())}_log(W,K,A){this._evalLazyOptionalParams(A),W.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+K,...A)}trace(W,...K){this._logLevel<=H.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,W,K)}debug(W,...K){this._logLevel<=H.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,W,K)}info(W,...K){this._logLevel<=H.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,W,K)}warn(W,...K){this._logLevel<=H.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,W,K)}error(W,...K){this._logLevel<=H.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,W,K)}};Z.LogService=V=q([U(0,H.IOptionsService)],V),Z.setTraceLogger=function(W){B=W},Z.traceCall=function(W,K,A){if(typeof A.value!="function")throw Error("not supported");let F=A.value;A.value=function(...P){if(B.logLevel!==H.LogLevelEnum.TRACE)return F.apply(this,P);B.trace(`GlyphRenderer#${F.name}(${P.map((D)=>JSON.stringify(D)).join(", ")})`);let R=F.apply(this,P);return B.trace(`GlyphRenderer#${F.name} return`,R),R}}},726:(Y,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.createDecorator=Z.getServiceDependencies=Z.serviceRegistry=void 0;let G="di$target",q="di$dependencies";Z.serviceRegistry=new Map,Z.getServiceDependencies=function(U){return U[q]||[]},Z.createDecorator=function(U){if(Z.serviceRegistry.has(U))return Z.serviceRegistry.get(U);let z=function(H,j,B){if(arguments.length!==3)throw Error("@IServiceName-decorator can only be used to decorate a parameter");(function(V,W,K){W[G]===W?W[q].push({id:V,index:K}):(W[q]=[{id:V,index:K}],W[G]=W)})(z,H,B)};return z.toString=()=>U,Z.serviceRegistry.set(U,z),z}},97:(Y,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.IDecorationService=Z.IUnicodeService=Z.IOscLinkService=Z.IOptionsService=Z.ILogService=Z.LogLevelEnum=Z.IInstantiationService=Z.ICharsetService=Z.ICoreService=Z.ICoreMouseService=Z.IBufferService=void 0;let q=G(726);var U;Z.IBufferService=(0,q.createDecorator)("BufferService"),Z.ICoreMouseService=(0,q.createDecorator)("CoreMouseService"),Z.ICoreService=(0,q.createDecorator)("CoreService"),Z.ICharsetService=(0,q.createDecorator)("CharsetService"),Z.IInstantiationService=(0,q.createDecorator)("InstantiationService"),function(z){z[z.TRACE=0]="TRACE",z[z.DEBUG=1]="DEBUG",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.OFF=5]="OFF"}(U||(Z.LogLevelEnum=U={})),Z.ILogService=(0,q.createDecorator)("LogService"),Z.IOptionsService=(0,q.createDecorator)("OptionsService"),Z.IOscLinkService=(0,q.createDecorator)("OscLinkService"),Z.IUnicodeService=(0,q.createDecorator)("UnicodeService"),Z.IDecorationService=(0,q.createDecorator)("DecorationService")}},$={};function Q(Y){var Z=$[Y];if(Z!==void 0)return Z.exports;var G=$[Y]={exports:{}};return J[Y].call(G.exports,G,G.exports,Q),G.exports}var X={};return(()=>{var Y=X;Object.defineProperty(Y,"__esModule",{value:!0}),Y.WebglAddon=void 0;let Z=Q(345),G=Q(859),q=Q(399),U=Q(666),z=Q(776);class H extends G.Disposable{constructor(j){if(q.isSafari&&(0,q.getSafariVersion)()<16){let B={antialias:!1,depth:!1,preserveDrawingBuffer:!0};if(!document.createElement("canvas").getContext("webgl2",B))throw Error("Webgl2 is only supported on Safari 16 and above")}super(),this._preserveDrawingBuffer=j,this._onChangeTextureAtlas=this.register(new Z.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new Z.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new Z.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new Z.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(j){let B=j._core;if(!j.element)return void this.register(B.onWillOpen(()=>this.activate(j)));this._terminal=j;let{coreService:V,optionsService:W}=B,K=B,A=K._renderService,F=K._characterJoinerService,P=K._charSizeService,R=K._coreBrowserService,D=K._decorationService,_=K._logService,O=K._themeService;(0,z.setTraceLogger)(_),this._renderer=this.register(new U.WebglRenderer(j,F,P,R,V,D,W,O,this._preserveDrawingBuffer)),this.register((0,Z.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,Z.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,Z.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,Z.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),A.setRenderer(this._renderer),this.register((0,G.toDisposable)(()=>{let N=this._terminal._core._renderService;N.setRenderer(this._terminal._core._createRenderer()),N.handleResize(j.cols,j.rows)}))}get textureAtlas(){return this._renderer?.textureAtlas}clearTextureAtlas(){this._renderer?.clearTextureAtlas()}}Y.WebglAddon=H})(),X})())});var d00=eR((aR,gx)=>{(function(J,$){typeof aR=="object"&&typeof gx=="object"?gx.exports=$():typeof define=="function"&&define.amd?define([],$):typeof aR=="object"?aR.FitAddon=$():J.FitAddon=$()})(self,()=>(()=>{var J={};return(()=>{var $=J;Object.defineProperty($,"__esModule",{value:!0}),$.FitAddon=void 0,$.FitAddon=class{activate(Q){this._terminal=Q}dispose(){}fit(){let Q=this.proposeDimensions();if(!Q||!this._terminal||isNaN(Q.cols)||isNaN(Q.rows))return;let X=this._terminal._core;this._terminal.rows===Q.rows&&this._terminal.cols===Q.cols||(X._renderService.clear(),this._terminal.resize(Q.cols,Q.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;let Q=this._terminal._core,X=Q._renderService.dimensions;if(X.css.cell.width===0||X.css.cell.height===0)return;let Y=this._terminal.options.scrollback===0?0:Q.viewport.scrollBarWidth,Z=window.getComputedStyle(this._terminal.element.parentElement),G=parseInt(Z.getPropertyValue("height")),q=Math.max(0,parseInt(Z.getPropertyValue("width"))),U=window.getComputedStyle(this._terminal.element),z=G-(parseInt(U.getPropertyValue("padding-top"))+parseInt(U.getPropertyValue("padding-bottom"))),H=q-(parseInt(U.getPropertyValue("padding-right"))+parseInt(U.getPropertyValue("padding-left")))-Y;return{cols:Math.max(2,Math.floor(H/X.css.cell.width)),rows:Math.max(1,Math.floor(z/X.css.cell.height))}}}})(),J})())});import{addLocalesMessages as j10}from"@blockcode/core";var rx={"code.tabs.code":"Code","code.tabs.terminal":"Terminal","code.terminalMode.repl":"REPL","code.terminalMode.hex":"HEX","code.terminalMode.text":"Text","code.terminalSend":"Send","code.terminalSendChar":"Send {char}","code.terminalSendEnter":"Send with Enter","code.terminalHexError":"HEX data format error.","code.terminalWaitforConnect":"Waiting for device connection..."};var ix={"code.tabs.code":"代码","code.tabs.terminal":"终端","code.terminalMode.repl":"REPL","code.terminalMode.hex":"HEX","code.terminalMode.text":"文本","code.terminalSend":"发送","code.terminalSendChar":"发送 {char}","code.terminalSendEnter":"末尾加回车发送","code.terminalHexError":"HEX 格式错误。","code.terminalWaitforConnect":"正在等待连接设备…"};var nx={"code.tabs.code":"程式","code.tabs.terminal":"終端","code.terminalMode.repl":"REPL","code.terminalMode.hex":"HEX","code.terminalMode.text":"文本","code.terminalSend":"發送","code.terminalSendChar":"發送 {char}","code.terminalSendEnter":"末尾加回車發送","code.terminalHexError":"HEX 格式錯誤。","code.terminalWaitforConnect":"正在等待連接設備…"};j10({en:rx,"zh-Hans":ix,"zh-Hant":nx});_0('@font-face{font-family:codicon;font-display:block;src:url(./codicon.ttf)format("truetype")}.codicon[class*=codicon-]{text-rendering:auto;text-align:center;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;user-select:none;font:16px/1 codicon;text-decoration:none;display:inline-block}');_0(".codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(360deg)}}.codicon-sync.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-gear.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin{animation:1.5s steps(30,end) infinite codicon-spin}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}");a4();a4();import{useRef as U20,useEffect as DW}from"preact/hooks";import{useSignal as g00}from"@preact/signals";import{mime as m00,classNames as z20}from"@blockcode/utils";import{useLocalesContext as H20,useProjectContext as j20,setFile as V20}from"@blockcode/core";a4();J6();z8();T1();hZ();B0();G1();_0(".monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-collapsed{cursor:pointer;opacity:0;justify-content:center;align-items:center;margin-left:2px;font-size:140%;transition:opacity .5s;display:flex}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed{transition:initial}.monaco-editor .margin-view-overlays:hover .codicon,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons{opacity:1}.monaco-editor .inline-folded:after{color:gray;content:\"⋯\";cursor:pointer;margin:.1em .2em 0;line-height:1em;display:inline}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed{color:var(--vscode-editorGutter-foldingControlForeground)!important}");u9();qX();w8();d8();E0();var eX0={[0]:" ",[1]:"u",[2]:"r"};var _U=16777215;class VR{constructor(J){let $=Math.ceil(J/32);this._states=new Uint32Array($)}get(J){let $=J/32|0,Q=J%32;return(this._states[$]&1<<Q)!==0}set(J,$){let Q=J/32|0,X=J%32,Y=this._states[Q];if($)this._states[Q]=Y|1<<X;else this._states[Q]=Y&~(1<<X)}}class e8{constructor(J,$,Q){if(J.length!==$.length||J.length>65535)throw Error("invalid startIndexes or endIndexes size");this._startIndexes=J,this._endIndexes=$,this._collapseStates=new VR(J.length),this._userDefinedStates=new VR(J.length),this._recoveredStates=new VR(J.length),this._types=Q,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let J=[],$=(Q,X)=>{let Y=J[J.length-1];return this.getStartLineNumber(Y)<=Q&&this.getEndLineNumber(Y)>=X};for(let Q=0,X=this._startIndexes.length;Q<X;Q++){let Y=this._startIndexes[Q],Z=this._endIndexes[Q];if(Y>16777215||Z>16777215)throw Error("startLineNumber or endLineNumber must not exceed 16777215");while(J.length>0&&!$(Y,Z))J.pop();let G=J.length>0?J[J.length-1]:-1;J.push(Q),this._startIndexes[Q]=Y+((G&255)<<24),this._endIndexes[Q]=Z+((G&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(J){return this._startIndexes[J]&16777215}getEndLineNumber(J){return this._endIndexes[J]&16777215}getType(J){return this._types?this._types[J]:void 0}hasTypes(){return!!this._types}isCollapsed(J){return this._collapseStates.get(J)}setCollapsed(J,$){this._collapseStates.set(J,$)}isUserDefined(J){return this._userDefinedStates.get(J)}setUserDefined(J,$){return this._userDefinedStates.set(J,$)}isRecovered(J){return this._recoveredStates.get(J)}setRecovered(J,$){return this._recoveredStates.set(J,$)}getSource(J){if(this.isUserDefined(J))return 1;else if(this.isRecovered(J))return 2;return 0}setSource(J,$){if($===1)this.setUserDefined(J,!0),this.setRecovered(J,!1);else if($===2)this.setUserDefined(J,!1),this.setRecovered(J,!0);else this.setUserDefined(J,!1),this.setRecovered(J,!1)}setCollapsedAllOfType(J,$){let Q=!1;if(this._types){for(let X=0;X<this._types.length;X++)if(this._types[X]===J)this.setCollapsed(X,$),Q=!0}return Q}toRegion(J){return new Kt(this,J)}getParentIndex(J){this.ensureParentIndices();let $=((this._startIndexes[J]&4278190080)>>>24)+((this._endIndexes[J]&4278190080)>>>16);if($===65535)return-1;return $}contains(J,$){return this.getStartLineNumber(J)<=$&&this.getEndLineNumber(J)>=$}findIndex(J){let $=0,Q=this._startIndexes.length;if(Q===0)return-1;while($<Q){let X=Math.floor(($+Q)/2);if(J<this.getStartLineNumber(X))Q=X;else $=X+1}return $-1}findRange(J){let $=this.findIndex(J);if($>=0){if(this.getEndLineNumber($)>=J)return $;$=this.getParentIndex($);while($!==-1){if(this.contains($,J))return $;$=this.getParentIndex($)}}return-1}toString(){let J=[];for(let $=0;$<this.length;$++)J[$]=`[${eX0[this.getSource($)]}${this.isCollapsed($)?"+":"-"}] ${this.getStartLineNumber($)}/${this.getEndLineNumber($)}`;return J.join(", ")}toFoldRange(J){return{startLineNumber:this._startIndexes[J]&16777215,endLineNumber:this._endIndexes[J]&16777215,type:this._types?this._types[J]:void 0,isCollapsed:this.isCollapsed(J),source:this.getSource(J)}}static fromFoldRanges(J){let $=J.length,Q=new Uint32Array($),X=new Uint32Array($),Y=[],Z=!1;for(let q=0;q<$;q++){let U=J[q];if(Q[q]=U.startLineNumber,X[q]=U.endLineNumber,Y.push(U.type),U.type)Z=!0}if(!Z)Y=void 0;let G=new e8(Q,X,Y);for(let q=0;q<$;q++){if(J[q].isCollapsed)G.setCollapsed(q,!0);G.setSource(q,J[q].source)}return G}static sanitizeAndMerge(J,$,Q){Q=Q!==null&&Q!==void 0?Q:Number.MAX_VALUE;let X=(W,K)=>{return Array.isArray(W)?(A)=>{return A<K?W[A]:void 0}:(A)=>{return A<K?W.toFoldRange(A):void 0}},Y=X(J,J.length),Z=X($,$.length),G=0,q=0,U=Y(0),z=Z(0),H=[],j,B=0,V=[];while(U||z){let W=void 0;if(z&&(!U||U.startLineNumber>=z.startLineNumber)){if(U&&U.startLineNumber===z.startLineNumber){if(z.source===1)W=z;else W=U,W.isCollapsed=z.isCollapsed&&U.endLineNumber===z.endLineNumber,W.source=0;U=Y(++G)}else if(W=z,z.isCollapsed&&z.source===0)W.source=2;z=Z(++q)}else{let K=q,A=z;while(!0){if(!A||A.startLineNumber>U.endLineNumber){W=U;break}if(A.source===1&&A.endLineNumber>U.endLineNumber)break;A=Z(++K)}U=Y(++G)}if(W){while(j&&j.endLineNumber<W.startLineNumber)j=H.pop();if(W.endLineNumber>W.startLineNumber&&W.startLineNumber>B&&W.endLineNumber<=Q&&(!j||j.endLineNumber>=W.endLineNumber)){if(V.push(W),B=W.startLineNumber,j)H.push(j);j=W}}}return V}}class Kt{constructor(J,$){this.ranges=J,this.index=$}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(J){return J.startLineNumber<=this.startLineNumber&&J.endLineNumber>=this.endLineNumber}containsLine(J){return this.startLineNumber<=J&&J<=this.endLineNumber}}XY();class oy{get regions(){return this._regions}get textModel(){return this._textModel}constructor(J,$){this._updateEventEmitter=new p,this.onDidChange=this._updateEventEmitter.event,this._textModel=J,this._decorationProvider=$,this._regions=new e8(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(J){if(!J.length)return;J=J.sort((Q,X)=>Q.regionIndex-X.regionIndex);let $={};this._decorationProvider.changeDecorations((Q)=>{let X=0,Y=-1,Z=-1,G=(q)=>{while(X<q){let U=this._regions.getEndLineNumber(X),z=this._regions.isCollapsed(X);if(U<=Y){let H=this.regions.getSource(X)!==0;Q.changeDecorationOptions(this._editorDecorationIds[X],this._decorationProvider.getDecorationOption(z,U<=Z,H))}if(z&&U>Z)Z=U;X++}};for(let q of J){let U=q.regionIndex,z=this._editorDecorationIds[U];if(z&&!$[z]){$[z]=!0,G(U);let H=!this._regions.isCollapsed(U);this._regions.setCollapsed(U,H),Y=Math.max(Y,this._regions.getEndLineNumber(U))}}G(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:J})}removeManualRanges(J){let $=[],Q=(X)=>{for(let Y of J)if(!(Y.startLineNumber>X.endLineNumber||X.startLineNumber>Y.endLineNumber))return!0;return!1};for(let X=0;X<this._regions.length;X++){let Y=this._regions.toFoldRange(X);if(Y.source===0||!Q(Y))$.push(Y)}this.updatePost(e8.fromFoldRanges($))}update(J,$=[]){let Q=this._currentFoldedOrManualRanges($),X=e8.sanitizeAndMerge(J,Q,this._textModel.getLineCount());this.updatePost(e8.fromFoldRanges(X))}updatePost(J){let $=[],Q=-1;for(let X=0,Y=J.length;X<Y;X++){let Z=J.getStartLineNumber(X),G=J.getEndLineNumber(X),q=J.isCollapsed(X),U=J.getSource(X)!==0,z={startLineNumber:Z,startColumn:this._textModel.getLineMaxColumn(Z),endLineNumber:G,endColumn:this._textModel.getLineMaxColumn(G)+1};if($.push({range:z,options:this._decorationProvider.getDecorationOption(q,G<=Q,U)}),q&&G>Q)Q=G}this._decorationProvider.changeDecorations((X)=>this._editorDecorationIds=X.deltaDecorations(this._editorDecorationIds,$)),this._regions=J,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(J=[]){let $=(X,Y)=>{for(let Z of J)if(X<Z&&Z<=Y)return!0;return!1},Q=[];for(let X=0,Y=this._regions.length;X<Y;X++){let Z=this.regions.isCollapsed(X),G=this.regions.getSource(X);if(Z||G!==0){let q=this._regions.toFoldRange(X),U=this._textModel.getDecorationRange(this._editorDecorationIds[X]);if(U){if(Z&&$(U.startLineNumber,U.endLineNumber))Z=!1;Q.push({startLineNumber:U.startLineNumber,endLineNumber:U.endLineNumber,type:q.type,isCollapsed:Z,source:G})}}}return Q}getMemento(){let J=this._currentFoldedOrManualRanges(),$=[],Q=this._textModel.getLineCount();for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(Z.startLineNumber>=Z.endLineNumber||Z.startLineNumber<1||Z.endLineNumber>Q)continue;let G=this._getLinesChecksum(Z.startLineNumber+1,Z.endLineNumber);$.push({startLineNumber:Z.startLineNumber,endLineNumber:Z.endLineNumber,isCollapsed:Z.isCollapsed,source:Z.source,checksum:G})}return $.length>0?$:void 0}applyMemento(J){var $,Q;if(!Array.isArray(J))return;let X=[],Y=this._textModel.getLineCount();for(let G of J){if(G.startLineNumber>=G.endLineNumber||G.startLineNumber<1||G.endLineNumber>Y)continue;let q=this._getLinesChecksum(G.startLineNumber+1,G.endLineNumber);if(!G.checksum||q===G.checksum)X.push({startLineNumber:G.startLineNumber,endLineNumber:G.endLineNumber,type:void 0,isCollapsed:($=G.isCollapsed)!==null&&$!==void 0?$:!0,source:(Q=G.source)!==null&&Q!==void 0?Q:0})}let Z=e8.sanitizeAndMerge(this._regions,X,Y);this.updatePost(e8.fromFoldRanges(Z))}_getLinesChecksum(J,$){return QY(this._textModel.getLineContent(J)+this._textModel.getLineContent($))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(J,$){let Q=[];if(this._regions){let X=this._regions.findRange(J),Y=1;while(X>=0){let Z=this._regions.toRegion(X);if(!$||$(Z,Y))Q.push(Z);Y++,X=Z.parentIndex}}return Q}getRegionAtLine(J){if(this._regions){let $=this._regions.findRange(J);if($>=0)return this._regions.toRegion($)}return null}getRegionsInside(J,$){let Q=[],X=J?J.regionIndex+1:0,Y=J?J.endLineNumber:Number.MAX_VALUE;if($&&$.length===2){let Z=[];for(let G=X,q=this._regions.length;G<q;G++){let U=this._regions.toRegion(G);if(this._regions.getStartLineNumber(G)<Y){while(Z.length>0&&!U.containedBy(Z[Z.length-1]))Z.pop();if(Z.push(U),$(U,Z.length))Q.push(U)}else break}}else for(let Z=X,G=this._regions.length;Z<G;Z++){let q=this._regions.toRegion(Z);if(this._regions.getStartLineNumber(Z)<Y){if(!$||$(q))Q.push(q)}else break}return Q}}function At(J,$,Q){let X=[];for(let Y of Q){let Z=J.getRegionAtLine(Y);if(Z){let G=!Z.isCollapsed;if(X.push(Z),$>1){let q=J.getRegionsInside(Z,(U,z)=>U.isCollapsed!==G&&z<$);X.push(...q)}}}J.toggleCollapseState(X)}function IG(J,$,Q=Number.MAX_VALUE,X){let Y=[];if(X&&X.length>0)for(let Z of X){let G=J.getRegionAtLine(Z);if(G){if(G.isCollapsed!==$)Y.push(G);if(Q>1){let q=J.getRegionsInside(G,(U,z)=>U.isCollapsed!==$&&z<Q);Y.push(...q)}}}else{let Z=J.getRegionsInside(null,(G,q)=>G.isCollapsed!==$&&q<Q);Y.push(...Z)}J.toggleCollapseState(Y)}function ty(J,$,Q,X){let Y=[];for(let Z of X){let G=J.getAllRegionsAtLine(Z,(q,U)=>q.isCollapsed!==$&&U<=Q);Y.push(...G)}J.toggleCollapseState(Y)}function Pt(J,$,Q){let X=[];for(let Y of Q){let Z=J.getAllRegionsAtLine(Y,(G)=>G.isCollapsed!==$);if(Z.length>0)X.push(Z[0])}J.toggleCollapseState(X)}function Dt(J,$,Q,X){let Y=(G,q)=>q===$&&G.isCollapsed!==Q&&!X.some((U)=>G.containsLine(U)),Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function ey(J,$,Q){let X=[];for(let G of Q){let q=J.getAllRegionsAtLine(G,void 0);if(q.length>0)X.push(q[0])}let Y=(G)=>X.every((q)=>!q.containedBy(G)&&!G.containedBy(q))&&G.isCollapsed!==$,Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function WR(J,$,Q){let{textModel:X,regions:Y}=J,Z=[];for(let G=Y.length-1;G>=0;G--)if(Q!==Y.isCollapsed(G)){let q=Y.getStartLineNumber(G);if($.test(X.getLineContent(q)))Z.push(Y.toRegion(G))}J.toggleCollapseState(Z)}function BR(J,$,Q){let X=J.regions,Y=[];for(let Z=X.length-1;Z>=0;Z--)if(Q!==X.isCollapsed(Z)&&$===X.getType(Z))Y.push(X.toRegion(Z));J.toggleCollapseState(Y)}function Rt(J,$){let Q=null,X=$.getRegionAtLine(J);if(X!==null){if(Q=X.startLineNumber,J===Q){let Y=X.parentIndex;if(Y!==-1)Q=$.regions.getStartLineNumber(Y);else Q=null}}return Q}function Mt(J,$){let Q=$.getRegionAtLine(J);if(Q!==null&&Q.startLineNumber===J)if(J!==Q.startLineNumber)return Q.startLineNumber;else{let X=Q.parentIndex,Y=0;if(X!==-1)Y=$.regions.getStartLineNumber(Q.parentIndex);while(Q!==null)if(Q.regionIndex>0){if(Q=$.regions.toRegion(Q.regionIndex-1),Q.startLineNumber<=Y)return null;else if(Q.parentIndex===X)return Q.startLineNumber}else return null}else if($.regions.length>0){Q=$.regions.toRegion($.regions.length-1);while(Q!==null){if(Q.startLineNumber<J)return Q.startLineNumber;if(Q.regionIndex>0)Q=$.regions.toRegion(Q.regionIndex-1);else Q=null}}return null}function Ot(J,$){let Q=$.getRegionAtLine(J);if(Q!==null&&Q.startLineNumber===J){let X=Q.parentIndex,Y=0;if(X!==-1)Y=$.regions.getEndLineNumber(Q.parentIndex);else if($.regions.length===0)return null;else Y=$.regions.getEndLineNumber($.regions.length-1);while(Q!==null)if(Q.regionIndex<$.regions.length){if(Q=$.regions.toRegion(Q.regionIndex+1),Q.startLineNumber>=Y)return null;else if(Q.parentIndex===X)return Q.startLineNumber}else return null}else if($.regions.length>0){Q=$.regions.toRegion(0);while(Q!==null){if(Q.startLineNumber>J)return Q.startLineNumber;if(Q.regionIndex<$.regions.length)Q=$.regions.toRegion(Q.regionIndex+1);else Q=null}}return null}FJ();E0();e0();class Jx{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(J){if(this._updateEventEmitter=new p,this._hasLineChanges=!1,this._foldingModel=J,this._foldingModelListener=J.onDidChange(($)=>this.updateHiddenRanges()),this._hiddenRanges=[],J.regions.length)this.updateHiddenRanges()}notifyChangeModelContent(J){if(this._hiddenRanges.length&&!this._hasLineChanges)this._hasLineChanges=J.changes.some(($)=>{return $.range.endLineNumber!==$.range.startLineNumber||$4($.text)[0]!==0})}updateHiddenRanges(){let J=!1,$=[],Q=0,X=0,Y=Number.MAX_VALUE,Z=-1,G=this._foldingModel.regions;for(;Q<G.length;Q++){if(!G.isCollapsed(Q))continue;let q=G.getStartLineNumber(Q)+1,U=G.getEndLineNumber(Q);if(Y<=q&&U<=Z)continue;if(!J&&X<this._hiddenRanges.length&&this._hiddenRanges[X].startLineNumber===q&&this._hiddenRanges[X].endLineNumber===U)$.push(this._hiddenRanges[X]),X++;else J=!0,$.push(new v(q,1,U,1));Y=q,Z=U}if(this._hasLineChanges||J||X<this._hiddenRanges.length)this.applyHiddenRanges($)}applyHiddenRanges(J){this._hiddenRanges=J,this._hasLineChanges=!1,this._updateEventEmitter.fire(J)}hasRanges(){return this._hiddenRanges.length>0}isHidden(J){return _t(this._hiddenRanges,J)!==null}adjustSelections(J){let $=!1,Q=this._foldingModel.textModel,X=null,Y=(Z)=>{if(!X||!JY0(Z,X))X=_t(this._hiddenRanges,Z);if(X)return X.startLineNumber-1;return null};for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z],U=Y(q.startLineNumber);if(U)q=q.setStartPosition(U,Q.getLineMaxColumn(U)),$=!0;let z=Y(q.endLineNumber);if(z)q=q.setEndPosition(z,Q.getLineMaxColumn(z)),$=!0;J[Z]=q}return $}dispose(){if(this.hiddenRanges.length>0)this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges);if(this._foldingModelListener)this._foldingModelListener.dispose(),this._foldingModelListener=null}}function JY0(J,$){return J>=$.startLineNumber&&J<=$.endLineNumber}function _t(J,$){let Q=R3(J,(X)=>$<X.startLineNumber)-1;if(Q>=0&&J[Q].endLineNumber>=$)return J[Q];return null}var $Y0=5000,QY0="indent";class FR{constructor(J,$,Q){this.editorModel=J,this.languageConfigurationService=$,this.foldingRangesLimit=Q,this.id=QY0}dispose(){}compute(J){let $=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,Q=$&&!!$.offSide,X=$&&$.markers;return Promise.resolve(YY0(this.editorModel,Q,X,this.foldingRangesLimit))}}class Nt{constructor(J){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=J}insertFirst(J,$,Q){if(J>_U||$>_U)return;let X=this._length;if(this._startIndexes[X]=J,this._endIndexes[X]=$,this._length++,Q<1000)this._indentOccurrences[Q]=(this._indentOccurrences[Q]||0)+1}toIndentRanges(J){let $=this._foldingRangesLimit.limit;if(this._length<=$){this._foldingRangesLimit.update(this._length,!1);let Q=new Uint32Array(this._length),X=new Uint32Array(this._length);for(let Y=this._length-1,Z=0;Y>=0;Y--,Z++)Q[Z]=this._startIndexes[Y],X[Z]=this._endIndexes[Y];return new e8(Q,X)}else{this._foldingRangesLimit.update(this._length,$);let Q=0,X=this._indentOccurrences.length;for(let q=0;q<this._indentOccurrences.length;q++){let U=this._indentOccurrences[q];if(U){if(U+Q>$){X=q;break}Q+=U}}let Y=J.getOptions().tabSize,Z=new Uint32Array($),G=new Uint32Array($);for(let q=this._length-1,U=0;q>=0;q--){let z=this._startIndexes[q],H=J.getLineContent(z),j=SH(H,Y);if(j<X||j===X&&Q++<$)Z[U]=z,G[U]=this._endIndexes[q],U++}return new e8(Z,G)}}}var XY0={limit:$Y0,update:()=>{}};function YY0(J,$,Q,X=XY0){let Y=J.getOptions().tabSize,Z=new Nt(X),G=void 0;if(Q)G=new RegExp(`(${Q.start.source})|(?:${Q.end.source})`);let q=[],U=J.getLineCount()+1;q.push({indent:-1,endAbove:U,line:U});for(let z=J.getLineCount();z>0;z--){let H=J.getLineContent(z),j=SH(H,Y),B=q[q.length-1];if(j===-1){if($)B.endAbove=z;continue}let V;if(G&&(V=H.match(G)))if(V[1]){let W=q.length-1;while(W>0&&q[W].indent!==-2)W--;if(W>0){q.length=W+1,B=q[W],Z.insertFirst(z,B.line,j),B.line=z,B.indent=j,B.endAbove=z;continue}}else{q.push({indent:-2,endAbove:z,line:z});continue}if(B.indent>j){do q.pop(),B=q[q.length-1];while(B.indent>j);let W=B.endAbove-1;if(W-z>=1)Z.insertFirst(z,W,j)}if(B.indent===j)B.endAbove=z;else q.push({indent:j,endAbove:z,line:z})}return Z.toIndentRanges(J)}a0();e1();O5();l7();hY();a0();x8();VU();G5();N5();var ZY0=f("editor.foldBackground",{light:g0(iQ,0.3),dark:g0(iQ,0.3),hcDark:null,hcLight:null},M("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);f("editorGutter.foldingControlForeground",{dark:OJ,light:OJ,hcDark:OJ,hcLight:OJ},M("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var $x=V7("folding-expanded",O0.chevronDown,M("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Qx=V7("folding-collapsed",O0.chevronRight,M("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Tt=V7("folding-manual-collapsed",Qx,M("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),wt=V7("folding-manual-expanded",$x,M("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),Xx={color:YX(ZY0),position:y4.Inline},NU=M("linesCollapsed","Click to expand the range."),KR=M("linesExpanded","Click to collapse the range.");class q5{constructor(J){this.editor=J,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(J,$,Q){if($)return q5.HIDDEN_RANGE_DECORATION;if(this.showFoldingControls==="never"){if(J)return this.showFoldingHighlights?q5.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:q5.NO_CONTROLS_COLLAPSED_RANGE_DECORATION;return q5.NO_CONTROLS_EXPANDED_RANGE_DECORATION}if(J)return Q?this.showFoldingHighlights?q5.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:q5.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?q5.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:q5.COLLAPSED_VISUAL_DECORATION;else if(this.showFoldingControls==="mouseover")return Q?q5.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:q5.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;else return Q?q5.MANUALLY_EXPANDED_VISUAL_DECORATION:q5.EXPANDED_VISUAL_DECORATION}changeDecorations(J){return this.editor.changeDecorations(J)}removeDecorations(J){this.editor.removeDecorations(J)}}q5.COLLAPSED_VISUAL_DECORATION=C1.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:NU,firstLineDecorationClassName:c0.asClassName(Qx)});q5.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C1.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Xx,isWholeLine:!0,linesDecorationsTooltip:NU,firstLineDecorationClassName:c0.asClassName(Qx)});q5.MANUALLY_COLLAPSED_VISUAL_DECORATION=C1.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:NU,firstLineDecorationClassName:c0.asClassName(Tt)});q5.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C1.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Xx,isWholeLine:!0,linesDecorationsTooltip:NU,firstLineDecorationClassName:c0.asClassName(Tt)});q5.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=C1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:NU});q5.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=C1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Xx,isWholeLine:!0,linesDecorationsTooltip:NU});q5.EXPANDED_VISUAL_DECORATION=C1.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+c0.asClassName($x),linesDecorationsTooltip:KR});q5.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C1.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:c0.asClassName($x),linesDecorationsTooltip:KR});q5.MANUALLY_EXPANDED_VISUAL_DECORATION=C1.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+c0.asClassName(wt),linesDecorationsTooltip:KR});q5.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C1.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:c0.asClassName(wt),linesDecorationsTooltip:KR});q5.NO_CONTROLS_EXPANDED_RANGE_DECORATION=C1.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});q5.HIDDEN_RANGE_DECORATION=C1.register({description:"folding-hidden-range-decoration",stickiness:1});T1();B0();var GY0={},qY0="syntax";class AR{constructor(J,$,Q,X,Y){if(this.editorModel=J,this.providers=$,this.handleFoldingRangesChange=Q,this.foldingRangesLimit=X,this.fallbackRangeProvider=Y,this.id=qY0,this.disposables=new q0,Y)this.disposables.add(Y);for(let Z of $)if(typeof Z.onDidChange==="function")this.disposables.add(Z.onDidChange(Q))}compute(J){return UY0(this.providers,this.editorModel,J).then(($)=>{var Q,X;if($)return zY0($,this.foldingRangesLimit);return(X=(Q=this.fallbackRangeProvider)===null||Q===void 0?void 0:Q.compute(J))!==null&&X!==void 0?X:null})}dispose(){this.disposables.dispose()}}function UY0(J,$,Q){let X=null,Y=J.map((Z,G)=>{return Promise.resolve(Z.provideFoldingRanges($,GY0,Q)).then((q)=>{if(Q.isCancellationRequested)return;if(Array.isArray(q)){if(!Array.isArray(X))X=[];let U=$.getLineCount();for(let z of q)if(z.start>0&&z.end>z.start&&z.end<=U)X.push({start:z.start,end:z.end,rank:G,kind:z.kind})}},Y$)});return Promise.all(Y).then((Z)=>{return X})}class Lt{constructor(J){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=J}add(J,$,Q,X){if(J>_U||$>_U)return;let Y=this._length;if(this._startIndexes[Y]=J,this._endIndexes[Y]=$,this._nestingLevels[Y]=X,this._types[Y]=Q,this._length++,X<30)this._nestingLevelCounts[X]=(this._nestingLevelCounts[X]||0)+1}toIndentRanges(){let J=this._foldingRangesLimit.limit;if(this._length<=J){this._foldingRangesLimit.update(this._length,!1);let $=new Uint32Array(this._length),Q=new Uint32Array(this._length);for(let X=0;X<this._length;X++)$[X]=this._startIndexes[X],Q[X]=this._endIndexes[X];return new e8($,Q,this._types)}else{this._foldingRangesLimit.update(this._length,J);let $=0,Q=this._nestingLevelCounts.length;for(let G=0;G<this._nestingLevelCounts.length;G++){let q=this._nestingLevelCounts[G];if(q){if(q+$>J){Q=G;break}$+=q}}let X=new Uint32Array(J),Y=new Uint32Array(J),Z=[];for(let G=0,q=0;G<this._length;G++){let U=this._nestingLevels[G];if(U<Q||U===Q&&$++<J)X[q]=this._startIndexes[G],Y[q]=this._endIndexes[G],Z[q]=this._types[G],q++}return new e8(X,Y,Z)}}}function zY0(J,$){let Q=J.sort((G,q)=>{let U=G.start-q.start;if(U===0)U=G.rank-q.rank;return U}),X=new Lt($),Y=void 0,Z=[];for(let G of Q)if(!Y)Y=G,X.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else if(G.start>Y.start)if(G.end<=Y.end)Z.push(Y),Y=G,X.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else{if(G.start>Y.end){do Y=Z.pop();while(Y&&G.start>Y.end);if(Y)Z.push(Y);Y=G}X.add(G.start,G.end,G.kind&&G.kind.value,Z.length)}return X.toIndentRanges()}PX();rL();G$();e9();E0();G7();V5();kQ();l8();var HY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},iV=function(J,$){return function(Q,X){$(Q,X,J)}},TU,C8=new T0("foldingEnabled",!1),yG=TU=class extends r{static get($){return $.getContribution(TU.ID)}static getFoldingRangeProviders($,Q){var X,Y;let Z=$.foldingRangeProvider.ordered(Q);return(Y=(X=TU._foldingRangeSelector)===null||X===void 0?void 0:X.call(TU,Z,Q))!==null&&Y!==void 0?Y:Z}constructor($,Q,X,Y,Z,G){super();this.contextKeyService=Q,this.languageConfigurationService=X,this.languageFeaturesService=G,this.localToDispose=this._register(new q0),this.editor=$,this._foldingLimitReporter=new kt($);let q=this.editor.getOptions();this._isEnabled=q.get(43),this._useFoldingProviders=q.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=q.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=q.get(46),this.updateDebounceInfo=Z.for(G.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new q5($),this.foldingDecorationProvider.showFoldingControls=q.get(109),this.foldingDecorationProvider.showFoldingHighlights=q.get(45),this.foldingEnabled=C8.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration((U)=>{if(U.hasChanged(43))this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged();if(U.hasChanged(47))this.onModelChanged();if(U.hasChanged(109)||U.hasChanged(45)){let z=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=z.get(109),this.foldingDecorationProvider.showFoldingHighlights=z.get(45),this.triggerFoldingModelChanged()}if(U.hasChanged(44))this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged();if(U.hasChanged(48))this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48);if(U.hasChanged(46))this._foldingImportsByDefault=this.editor.getOptions().get(46)})),this.onModelChanged()}saveViewState(){let $=this.editor.getModel();if(!$||!this._isEnabled||$.isTooLargeForTokenization())return{};if(this.foldingModel){let Q=this.foldingModel.getMemento(),X=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Q,lineCount:$.getLineCount(),provider:X,foldedImports:this._currentModelHasFoldedImports}}return}restoreViewState($){let Q=this.editor.getModel();if(!Q||!this._isEnabled||Q.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!$)return;if(this._currentModelHasFoldedImports=!!$.foldedImports,$.collapsedRegions&&$.collapsedRegions.length>0&&this.foldingModel){this._restoringViewState=!0;try{this.foldingModel.applyMemento($.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let $=this.editor.getModel();if(!this._isEnabled||!$||$.isTooLargeForTokenization())return;this._currentModelHasFoldedImports=!1,this.foldingModel=new oy($,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Jx(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((Q)=>this.onHiddenRangesChanges(Q))),this.updateScheduler=new T4(this.updateDebounceInfo.get($)),this.cursorChangedScheduler=new z6(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent((Q)=>this.onDidChangeModelContent(Q))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown((Q)=>this.onEditorMouseDown(Q))),this.localToDispose.add(this.editor.onMouseUp((Q)=>this.onEditorMouseUp(Q))),this.localToDispose.add({dispose:()=>{var Q,X;if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;(Q=this.updateScheduler)===null||Q===void 0||Q.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(X=this.rangeProvider)===null||X===void 0||X.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged()}onFoldingStrategyChanged(){var $;($=this.rangeProvider)===null||$===void 0||$.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider($){if(this.rangeProvider)return this.rangeProvider;let Q=new FR($,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=Q,this._useFoldingProviders&&this.foldingModel){let X=TU.getFoldingRangeProviders(this.languageFeaturesService,$);if(X.length>0)this.rangeProvider=new AR($,X,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,Q)}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent($){var Q;(Q=this.hiddenRangeModel)===null||Q===void 0||Q.notifyChangeModelContent($),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){if(this.updateScheduler){if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;this.foldingModelPromise=this.updateScheduler.trigger(()=>{let $=this.foldingModel;if(!$)return null;let Q=new R5,X=this.getRangeProvider($.textModel),Y=this.foldingRegionPromise=tZ((Z)=>X.compute(Z));return Y.then((Z)=>{if(Z&&Y===this.foldingRegionPromise){let G;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let H=Z.setCollapsedAllOfType(T8.Imports.value,!0);if(H)G=l4.capture(this.editor),this._currentModelHasFoldedImports=H}let q=this.editor.getSelections(),U=q?q.map((H)=>H.startLineNumber):[];$.update(Z,U),G===null||G===void 0||G.restore(this.editor);let z=this.updateDebounceInfo.update($.textModel,Q.elapsed());if(this.updateScheduler)this.updateScheduler.defaultDelay=z}return $})}).then(void 0,($)=>{return Z1($),null})}}onHiddenRangesChanges($){if(this.hiddenRangeModel&&$.length&&!this._restoringViewState){let Q=this.editor.getSelections();if(Q){if(this.hiddenRangeModel.adjustSelections(Q))this.editor.setSelections(Q)}}this.editor.setHiddenAreas($,this)}onCursorPositionChanged(){if(this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges())this.cursorChangedScheduler.schedule()}revealCursor(){let $=this.getFoldingModel();if(!$)return;$.then((Q)=>{if(Q){let X=this.editor.getSelections();if(X&&X.length>0){let Y=[];for(let Z of X){let G=Z.selectionStartLineNumber;if(this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(G))Y.push(...Q.getAllRegionsAtLine(G,(q)=>q.isCollapsed&&G>q.startLineNumber))}if(Y.length)Q.toggleCollapseState(Y),this.reveal(X[0].getPosition())}}}).then(void 0,Z1)}onEditorMouseDown($){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!$.target||!$.target.range)return;if(!$.event.leftButton&&!$.event.middleButton)return;let Q=$.target.range,X=!1;switch($.target.type){case 4:{let Y=$.target.detail,Z=$.target.element.offsetLeft;if(Y.offsetX-Z<4)return;X=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!$.target.detail.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){let Y=this.editor.getModel();if(Y&&Q.startColumn===Y.getLineMaxColumn(Q.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:Q.startLineNumber,iconClicked:X}}onEditorMouseUp($){let Q=this.foldingModel;if(!Q||!this.mouseDownInfo||!$.target)return;let X=this.mouseDownInfo.lineNumber,Y=this.mouseDownInfo.iconClicked,Z=$.target.range;if(!Z||Z.startLineNumber!==X)return;if(Y){if($.target.type!==4)return}else{let q=this.editor.getModel();if(!q||Z.startColumn!==q.getLineMaxColumn(X))return}let G=Q.getRegionAtLine(X);if(G&&G.startLineNumber===X){let q=G.isCollapsed;if(Y||q){let U=$.event.altKey,z=[];if(U){let H=(B)=>!B.containedBy(G)&&!G.containedBy(B),j=Q.getRegionsInside(null,H);for(let B of j)if(B.isCollapsed)z.push(B);if(z.length===0)z=j}else{let H=$.event.middleButton||$.event.shiftKey;if(H){for(let j of Q.getRegionsInside(G))if(j.isCollapsed===q)z.push(j)}if(q||!H||z.length===0)z.push(G)}Q.toggleCollapseState(z),this.reveal({lineNumber:X,column:1})}}}reveal($){this.editor.revealPositionInCenterIfOutsideViewport($,0)}};yG.ID="editor.contrib.folding";yG=TU=HY0([iV(1,s0),iV(2,f6),iV(3,X8),iV(4,aL),iV(5,M1)],yG);class kt{constructor(J){this.editor=J,this._onDidChange=new p,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(J,$){if(J!==this._computed||$!==this._limited)this._computed=J,this._limited=$,this._onDidChange.fire()}}class v8 extends k4{runEditorCommand(J,$,Q){let X=J.get(f6),Y=yG.get($);if(!Y)return;let Z=Y.getFoldingModel();if(Z)return this.reportTelemetry(J,$),Z.then((G)=>{if(G){this.invoke(Y,G,$,Q,X);let q=$.getSelection();if(q)Y.reveal(q.getStartPosition())}})}getSelectedLines(J){let $=J.getSelections();return $?$.map((Q)=>Q.startLineNumber):[]}getLineNumbers(J,$){if(J&&J.selectionLines)return J.selectionLines.map((Q)=>Q+1);return this.getSelectedLines($)}run(J,$){}}function Et(J){if(!q8(J)){if(!z5(J))return!1;let $=J;if(!q8($.levels)&&!q9($.levels))return!1;if(!q8($.direction)&&!P5($.direction))return!1;if(!q8($.selectionLines)&&(!Array.isArray($.selectionLines)||!$.selectionLines.every(q9)))return!1}return!0}class It extends v8{constructor(){super({id:"editor.unfold",label:M("unfoldAction.label","Unfold"),alias:"Unfold",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:Et,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,Q,X){let Y=X&&X.levels||1,Z=this.getLineNumbers(X,Q);if(X&&X.direction==="up")ty($,!1,Y,Z);else IG($,!1,Y,Z)}}class yt extends v8{constructor(){super({id:"editor.unfoldRecursively",label:M("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2142),weight:100}})}invoke(J,$,Q,X){IG($,!1,Number.MAX_VALUE,this.getSelectedLines(Q))}}class xt extends v8{constructor(){super({id:"editor.fold",label:M("foldAction.label","Fold"),alias:"Fold",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:Et,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,Q,X){let Y=this.getLineNumbers(X,Q),Z=X&&X.levels,G=X&&X.direction;if(typeof Z!=="number"&&typeof G!=="string")Pt($,!0,Y);else if(G==="up")ty($,!0,Z||1,Y);else IG($,!0,Z||1,Y)}}class bt extends v8{constructor(){super({id:"editor.toggleFold",label:M("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2090),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);At($,1,X)}}class St extends v8{constructor(){super({id:"editor.foldRecursively",label:M("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2140),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);IG($,!0,Number.MAX_VALUE,X)}}class Ct extends v8{constructor(){super({id:"editor.foldAllBlockComments",label:M("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2138),weight:100}})}invoke(J,$,Q,X,Y){if($.regions.hasTypes())BR($,T8.Comment.value,!0);else{let Z=Q.getModel();if(!Z)return;let G=Y.getLanguageConfiguration(Z.getLanguageId()).comments;if(G&&G.blockCommentStartToken){let q=new RegExp("^\\s*"+Y7(G.blockCommentStartToken));WR($,q,!0)}}}}class vt extends v8{constructor(){super({id:"editor.foldAllMarkerRegions",label:M("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2077),weight:100}})}invoke(J,$,Q,X,Y){if($.regions.hasTypes())BR($,T8.Region.value,!0);else{let Z=Q.getModel();if(!Z)return;let G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){let q=new RegExp(G.markers.start);WR($,q,!0)}}}}class ht extends v8{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:M("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2078),weight:100}})}invoke(J,$,Q,X,Y){if($.regions.hasTypes())BR($,T8.Region.value,!1);else{let Z=Q.getModel();if(!Z)return;let G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){let q=new RegExp(G.markers.start);WR($,q,!1)}}}}class ft extends v8{constructor(){super({id:"editor.foldAllExcept",label:M("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2136),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);ey($,!0,X)}}class gt extends v8{constructor(){super({id:"editor.unfoldAllExcept",label:M("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2134),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);ey($,!1,X)}}class pt extends v8{constructor(){super({id:"editor.foldAll",label:M("foldAllAction.label","Fold All"),alias:"Fold All",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2069),weight:100}})}invoke(J,$,Q){IG($,!0)}}class mt extends v8{constructor(){super({id:"editor.unfoldAll",label:M("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2088),weight:100}})}invoke(J,$,Q){IG($,!1)}}class xG extends v8{getFoldingLevel(){return parseInt(this.id.substr(xG.ID_PREFIX.length))}invoke(J,$,Q){Dt($,this.getFoldingLevel(),!0,this.getSelectedLines(Q))}}xG.ID_PREFIX="editor.foldLevel";xG.ID=(J)=>xG.ID_PREFIX+J;class ut extends v8{constructor(){super({id:"editor.gotoParentFold",label:M("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);if(X.length>0){let Y=Rt(X[0],$);if(Y!==null)Q.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class ct extends v8{constructor(){super({id:"editor.gotoPreviousFold",label:M("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);if(X.length>0){let Y=Mt(X[0],$);if(Y!==null)Q.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class lt extends v8{constructor(){super({id:"editor.gotoNextFold",label:M("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);if(X.length>0){let Y=Ot(X[0],$);if(Y!==null)Q.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class dt extends v8{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:M("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2135),weight:100}})}invoke(J,$,Q){var X;let Y=[],Z=Q.getSelections();if(Z){for(let G of Z){let q=G.endLineNumber;if(G.endColumn===1)--q;if(q>G.startLineNumber)Y.push({startLineNumber:G.startLineNumber,endLineNumber:q,type:void 0,isCollapsed:!0,source:1}),Q.setSelection({startLineNumber:G.startLineNumber,startColumn:1,endLineNumber:G.startLineNumber,endColumn:1})}if(Y.length>0){Y.sort((q,U)=>{return q.startLineNumber-U.startLineNumber});let G=e8.sanitizeAndMerge($.regions,Y,(X=Q.getModel())===null||X===void 0?void 0:X.getLineCount());$.updatePost(e8.fromFoldRanges(G))}}}}class st extends v8{constructor(){super({id:"editor.removeManualFoldingRanges",label:M("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2137),weight:100}})}invoke(J,$,Q){let X=Q.getSelections();if(X){let Y=[];for(let Z of X){let{startLineNumber:G,endLineNumber:q}=Z;Y.push(q>=G?{startLineNumber:G,endLineNumber:q}:{endLineNumber:q,startLineNumber:G})}$.removeManualRanges(Y),J.triggerFoldingModelChanged()}}}m9(yG.ID,yG,0);F5(It);F5(yt);F5(xt);F5(St);F5(pt);F5(mt);F5(Ct);F5(vt);F5(ht);F5(ft);F5(gt);F5(bt);F5(ut);F5(ct);F5(lt);F5(dt);F5(st);for(let J=1;J<=7;J++)cC(new xG({id:xG.ID(J),label:M("foldLevelAction.label","Fold Level {0}",J),alias:`Fold Level ${J}`,precondition:C8,kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2048|21+J),weight:100}}));O6.registerCommand("_executeFoldingRangeProvider",async function(J,...$){let[Q]=$;if(!(Q instanceof m0))throw YJ();let X=J.get(M1),Y=J.get(_5).getModel(Q);if(!Y)throw YJ();let Z=J.get(p1);if(!Z.getValue("editor.folding",{resource:Q}))return[];let G=J.get(f6),q=Z.getValue("editor.foldingStrategy",{resource:Q}),U={get limit(){return Z.getValue("editor.foldingMaximumRegions",{resource:Q})},update:(V,W)=>{}},z=new FR(Y,G,U),H=z;if(q!=="indentation"){let V=yG.getFoldingRangeProviders(X,Y);if(V.length)H=new AR(Y,V,()=>{},U,z)}let j=await H.compute(j5.None),B=[];try{if(j)for(let V=0;V<j.length;V++){let W=j.getType(V);B.push({start:j.getStartLineNumber(V),end:j.getEndLineNumber(V),kind:W?T8.fromValue(W):void 0})}return B}finally{H.dispose()}});B1();z8();T1();hZ();B0();u9();V9();A3();e0();qX();tq();e9();ay();uy();a0();_G();G7();e1();n0();Sj();var at=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},nV=function(J,$){return function(Q,X){$(Q,X,J)}},oV=class{constructor($,Q,X,Y){this._editor=$,this._languageFeaturesService=Q,this._workerService=X,this._audioCueService=Y,this._disposables=new q0,this._sessionDisposables=new q0,this._disposables.add(Q.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration((Z)=>{if(Z.hasChanged(56))this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56))return;if(!this._editor.hasModel())return;let $=this._editor.getModel(),[Q]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered($);if(!Q||!Q.autoFormatTriggerCharacters)return;let X=new lz;for(let Y of Q.autoFormatTriggerCharacters)X.add(Y.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((Y)=>{let Z=Y.charCodeAt(Y.length-1);if(X.has(Z))this._trigger(String.fromCharCode(Z))}))}_trigger($){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let Q=this._editor.getModel(),X=this._editor.getPosition(),Y=new M5,Z=this._editor.onDidChangeModelContent((G)=>{if(G.isFlush){Y.cancel(),Z.dispose();return}for(let q=0,U=G.changes.length;q<U;q++)if(G.changes[q].range.endLineNumber<=X.lineNumber){Y.cancel(),Z.dispose();return}});sy(this._workerService,this._languageFeaturesService,Q,X,$,Q.getFormattingOptions(),Y.token).then((G)=>{if(Y.token.isCancellationRequested)return;if(y9(G))this._audioCueService.playAudioCue(j1.format,{userGesture:!1}),UZ.execute(this._editor,G,!0)}).finally(()=>{Z.dispose()})}};oV.ID="editor.contrib.autoFormat";oV=at([nV(1,M1),nV(2,T9),nV(3,Z4)],oV);var tV=class{constructor($,Q,X){this.editor=$,this._languageFeaturesService=Q,this._instantiationService=X,this._callOnDispose=new q0,this._callOnModel=new q0,this._callOnDispose.add($.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add($.onDidChangeModel(()=>this._update())),this._callOnDispose.add($.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Q.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this.editor.getOption(55))return;if(!this.editor.hasModel())return;if(!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel()))return;this._callOnModel.add(this.editor.onDidPaste(({range:$})=>this._trigger($)))}_trigger($){if(!this.editor.hasModel())return;if(this.editor.getSelections().length>1)return;this._instantiationService.invokeFunction(dy,this.editor,$,2,pq.None,j5.None,!1).catch(Z1)}};tV.ID="editor.contrib.formatOnPaste";tV=at([nV(1,M1),nV(2,r0)],tV);class rt extends k4{constructor(){super({id:"editor.action.formatDocument",label:M("formatDocument.label","Format Document"),alias:"Format Document",precondition:v0.and(H0.notInCompositeEditor,H0.writable,H0.hasDocumentFormattingProvider),kbOpts:{kbExpr:H0.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(J,$){if($.hasModel()){let Q=J.get(r0);await J.get(NX).showWhile(Q.invokeFunction(Ft,$,1,pq.None,j5.None,!0),250)}}}class it extends k4{constructor(){super({id:"editor.action.formatSelection",label:M("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:v0.and(H0.writable,H0.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:H0.editorTextFocus,primary:m8(2089,2084),weight:100},contextMenuOpts:{when:H0.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(J,$){if(!$.hasModel())return;let Q=J.get(r0),X=$.getModel(),Y=$.getSelections().map((G)=>{return G.isEmpty()?new v(G.startLineNumber,1,G.startLineNumber,X.getLineMaxColumn(G.startLineNumber)):G});await J.get(NX).showWhile(Q.invokeFunction(dy,$,Y,1,pq.None,j5.None,!0),250)}}m9(oV.ID,oV,2);m9(tV.ID,tV,2);F5(rt);F5(it);O6.registerCommand("editor.action.format",async(J)=>{let $=J.get(X6).getFocusedCodeEditor();if(!$||!$.hasModel())return;let Q=J.get(T5);if($.getSelection().isEmpty())await Q.executeCommand("editor.action.formatDocument");else await Q.executeCommand("editor.action.formatSelection")});KY();B1();z8();T1();E0();nZ();B0();E1();G$();u9();Ej();e0();qX();B0();u9();qX();d8();e9();z8();T1();lY();B0();G$();V5();e0();Fz();class r4{constructor(){this.value="",this.pos=0}static isDigitCharacter(J){return J>=48&&J<=57}static isVariableCharacter(J){return J===95||J>=97&&J<=122||J>=65&&J<=90}text(J){this.value=J,this.pos=0}tokenText(J){return this.value.substr(J.pos,J.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let J=this.pos,$=0,Q=this.value.charCodeAt(J),X;if(X=r4._table[Q],typeof X==="number")return this.pos+=1,{type:X,pos:J,len:1};if(r4.isDigitCharacter(Q)){X=8;do $+=1,Q=this.value.charCodeAt(J+$);while(r4.isDigitCharacter(Q));return this.pos+=$,{type:X,pos:J,len:$}}if(r4.isVariableCharacter(Q)){X=9;do Q=this.value.charCodeAt(J+ ++$);while(r4.isVariableCharacter(Q)||r4.isDigitCharacter(Q));return this.pos+=$,{type:X,pos:J,len:$}}X=10;do $+=1,Q=this.value.charCodeAt(J+$);while(!isNaN(Q)&&typeof r4._table[Q]>"u"&&!r4.isDigitCharacter(Q)&&!r4.isVariableCharacter(Q));return this.pos+=$,{type:X,pos:J,len:$}}}r4._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class bG{constructor(){this._children=[]}appendChild(J){if(J instanceof J7&&this._children[this._children.length-1]instanceof J7)this._children[this._children.length-1].value+=J.value;else J.parent=this,this._children.push(J);return this}replace(J,$){let{parent:Q}=J,X=Q.children.indexOf(J),Y=Q.children.slice(0);Y.splice(X,1,...$),Q._children=Y,function Z(G,q){for(let U of G)U.parent=q,Z(U.children,U)}($,Q)}get children(){return this._children}get rightMostDescendant(){if(this._children.length>0)return this._children[this._children.length-1].rightMostDescendant;return this}get snippet(){let J=this;while(!0){if(!J)return;if(J instanceof wU)return J;J=J.parent}}toString(){return this.children.reduce((J,$)=>J+$.toString(),"")}len(){return 0}}class J7 extends bG{constructor(J){super();this.value=J}toString(){return this.value}len(){return this.value.length}clone(){return new J7(this.value)}}class Yx extends bG{}class k9 extends Yx{static compareByIndex(J,$){if(J.index===$.index)return 0;else if(J.isFinalTabstop)return 1;else if($.isFinalTabstop)return-1;else if(J.index<$.index)return-1;else if(J.index>$.index)return 1;else return 0}constructor(J){super();this.index=J}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof SG?this._children[0]:void 0}clone(){let J=new k9(this.index);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}class SG extends bG{constructor(){super(...arguments);this.options=[]}appendChild(J){if(J instanceof J7)J.parent=this,this.options.push(J);return this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let J=new SG;return this.options.forEach(J.appendChild,J),J}}class Zx extends bG{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(J){let $=this,Q=!1,X=J.replace(this.regexp,function(){return Q=!0,$._replace(Array.prototype.slice.call(arguments,0,-2))});if(!Q&&this._children.some((Y)=>Y instanceof rJ&&Boolean(Y.elseValue)))X=this._replace([]);return X}_replace(J){let $="";for(let Q of this._children)if(Q instanceof rJ){let X=J[Q.index]||"";X=Q.resolve(X),$+=X}else $+=Q.toString();return $}toString(){return""}clone(){let J=new Zx;return J.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),J._children=this.children.map(($)=>$.clone()),J}}class rJ extends bG{constructor(J,$,Q,X){super();this.index=J,this.shorthandName=$,this.ifValue=Q,this.elseValue=X}resolve(J){if(this.shorthandName==="upcase")return!J?"":J.toLocaleUpperCase();else if(this.shorthandName==="downcase")return!J?"":J.toLocaleLowerCase();else if(this.shorthandName==="capitalize")return!J?"":J[0].toLocaleUpperCase()+J.substr(1);else if(this.shorthandName==="pascalcase")return!J?"":this._toPascalCase(J);else if(this.shorthandName==="camelcase")return!J?"":this._toCamelCase(J);else if(Boolean(J)&&typeof this.ifValue==="string")return this.ifValue;else if(!Boolean(J)&&typeof this.elseValue==="string")return this.elseValue;else return J||""}_toPascalCase(J){let $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((Q)=>{return Q.charAt(0).toUpperCase()+Q.substr(1)}).join("")}_toCamelCase(J){let $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((Q,X)=>{if(X===0)return Q.charAt(0).toLowerCase()+Q.substr(1);return Q.charAt(0).toUpperCase()+Q.substr(1)}).join("")}clone(){return new rJ(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class eV extends Yx{constructor(J){super();this.name=J}resolve(J){let $=J.resolve(this);if(this.transform)$=this.transform.resolve($||"");if($!==void 0)return this._children=[new J7($)],!0;return!1}clone(){let J=new eV(this.name);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}function nt(J,$){let Q=[...J];while(Q.length>0){let X=Q.shift();if(!$(X))break;Q.unshift(...X.children)}}class wU extends bG{get placeholderInfo(){if(!this._placeholders){let J=[],$;this.walk(function(Q){if(Q instanceof k9)J.push(Q),$=!$||$.index<Q.index?Q:$;return!0}),this._placeholders={all:J,last:$}}return this._placeholders}get placeholders(){let{all:J}=this.placeholderInfo;return J}offset(J){let $=0,Q=!1;if(this.walk((X)=>{if(X===J)return Q=!0,!1;return $+=X.len(),!0}),!Q)return-1;return $}fullLen(J){let $=0;return nt([J],(Q)=>{return $+=Q.len(),!0}),$}enclosingPlaceholders(J){let $=[],{parent:Q}=J;while(Q){if(Q instanceof k9)$.push(Q);Q=Q.parent}return $}resolveVariables(J){return this.walk(($)=>{if($ instanceof eV){if($.resolve(J))this._placeholders=void 0}return!0}),this}appendChild(J){return this._placeholders=void 0,super.appendChild(J)}replace(J,$){return this._placeholders=void 0,super.replace(J,$)}clone(){let J=new wU;return this._children=this.children.map(($)=>$.clone()),J}walk(J){nt(this.children,J)}}class jZ{constructor(){this._scanner=new r4,this._token={type:14,pos:0,len:0}}static escape(J){return J.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(J){return/\${?CLIPBOARD/.test(J)}parse(J,$,Q){let X=new wU;return this.parseFragment(J,X),this.ensureFinalTabstop(X,Q!==null&&Q!==void 0?Q:!1,$!==null&&$!==void 0?$:!1),X}parseFragment(J,$){let Q=$.children.length;this._scanner.text(J),this._token=this._scanner.next();while(this._parse($));let X=new Map,Y=[];$.walk((q)=>{if(q instanceof k9)if(q.isFinalTabstop)X.set(0,void 0);else if(!X.has(q.index)&&q.children.length>0)X.set(q.index,q.children);else Y.push(q);return!0});let Z=(q,U)=>{let z=X.get(q.index);if(!z)return;let H=new k9(q.index);H.transform=q.transform;for(let j of z){let B=j.clone();if(H.appendChild(B),B instanceof k9&&X.has(B.index)&&!U.has(B.index))U.add(B.index),Z(B,U),U.delete(B.index)}$.replace(q,[H])},G=new Set;for(let q of Y)Z(q,G);return $.children.slice(Q)}ensureFinalTabstop(J,$,Q){if($||Q&&J.placeholders.length>0){if(!J.placeholders.find((Y)=>Y.index===0))J.appendChild(new k9(0))}}_accept(J,$){if(J===void 0||this._token.type===J){let Q=!$?!0:this._scanner.tokenText(this._token);return this._token=this._scanner.next(),Q}return!1}_backTo(J){return this._scanner.pos=J.pos+J.len,this._token=J,!1}_until(J){let $=this._token;while(this._token.type!==J){if(this._token.type===14)return!1;else if(this._token.type===5){let X=this._scanner.next();if(X.type!==0&&X.type!==4&&X.type!==5)return!1}this._token=this._scanner.next()}let Q=this._scanner.value.substring($.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),Q}_parse(J){return this._parseEscaped(J)||this._parseTabstopOrVariableName(J)||this._parseComplexPlaceholder(J)||this._parseComplexVariable(J)||this._parseAnything(J)}_parseEscaped(J){let $;if($=this._accept(5,!0))return $=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||$,J.appendChild(new J7($)),!0;return!1}_parseTabstopOrVariableName(J){let $,Q=this._token;if(!(this._accept(0)&&($=this._accept(9,!0)||this._accept(8,!0))))return this._backTo(Q);return J.appendChild(/^\d+$/.test($)?new k9(Number($)):new eV($)),!0}_parseComplexPlaceholder(J){let $,Q=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(8,!0))))return this._backTo(Q);let Y=new k9(Number($));if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new J7("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(Y.index>0&&this._accept(7)){let Z=new SG;while(!0){if(this._parseChoiceElement(Z)){if(this._accept(2))continue;if(this._accept(7)){if(Y.appendChild(Z),this._accept(4))return J.appendChild(Y),!0}}return this._backTo(Q),!1}}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(Q),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(Q)}_parseChoiceElement(J){let $=this._token,Q=[];while(!0){if(this._token.type===2||this._token.type===7)break;let X;if(X=this._accept(5,!0))X=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||X;else X=this._accept(void 0,!0);if(!X)return this._backTo($),!1;Q.push(X)}if(Q.length===0)return this._backTo($),!1;return J.appendChild(new J7(Q.join(""))),!0}_parseComplexVariable(J){let $,Q=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(9,!0))))return this._backTo(Q);let Y=new eV($);if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new J7("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(Q),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(Q)}_parseTransform(J){let $=new Zx,Q="",X="";while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(6,!0)||Y,Q+=Y;continue}if(this._token.type!==14){Q+=this._accept(void 0,!0);continue}return!1}while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(5,!0)||this._accept(6,!0)||Y,$.appendChild(new J7(Y));continue}if(this._parseFormatString($)||this._parseAnything($))continue;return!1}while(!0){if(this._accept(4))break;if(this._token.type!==14){X+=this._accept(void 0,!0);continue}return!1}try{$.regexp=new RegExp(Q,X)}catch(Y){return!1}return J.transform=$,!0}_parseFormatString(J){let $=this._token;if(!this._accept(0))return!1;let Q=!1;if(this._accept(3))Q=!0;let X=this._accept(8,!0);if(!X)return this._backTo($),!1;else if(!Q)return J.appendChild(new rJ(Number(X))),!0;else if(this._accept(4))return J.appendChild(new rJ(Number(X))),!0;else if(!this._accept(1))return this._backTo($),!1;if(this._accept(6)){let Y=this._accept(9,!0);if(!Y||!this._accept(4))return this._backTo($),!1;else return J.appendChild(new rJ(Number(X),Y)),!0}else if(this._accept(11)){let Y=this._until(4);if(Y)return J.appendChild(new rJ(Number(X),void 0,Y,void 0)),!0}else if(this._accept(12)){let Y=this._until(4);if(Y)return J.appendChild(new rJ(Number(X),void 0,void 0,Y)),!0}else if(this._accept(13)){let Y=this._until(1);if(Y){let Z=this._until(4);if(Z)return J.appendChild(new rJ(Number(X),void 0,Y,Z)),!0}}else{let Y=this._until(4);if(Y)return J.appendChild(new rJ(Number(X),void 0,void 0,Y)),!0}return this._backTo($),!1}_parseAnything(J){if(this._token.type!==14)return J.appendChild(new J7(this._scanner.tokenText(this._token))),this._accept(void 0),!0;return!1}}a0();_4();G7();e1();e9();eP();x0();tj();tP();b$();O5();E0();kE();a0();var jY0=M("defaultLabel","input"),VY0=M("label.preserveCaseToggle","Preserve Case");class ot extends $Q{constructor(J){super({icon:O0.preserveCase,title:VY0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class Gx extends F8{constructor(J,$,Q,X){super();this._showOptionButtons=Q,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p),this._onInput=this._register(new p),this._onKeyUp=this._register(new p),this._onPreserveCaseKeyDown=this._register(new p),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=$,this.placeholder=X.placeholder||"",this.validation=X.validation,this.label=X.label||jY0;let Y=X.appendPreserveCaseLabel||"",Z=X.history||[],G=!!X.flexibleHeight,q=!!X.flexibleWidth,U=X.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new JV(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:Z,showHistoryHint:X.showHistoryHint,flexibleHeight:G,flexibleWidth:q,flexibleMaxHeight:U,inputBoxStyles:X.inputBoxStyles})),this.preserveCase=this._register(new ot({appendTitle:Y,isChecked:!1,...X.toggleStyles})),this._register(this.preserveCase.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.preserveCase.onKeyDown((j)=>{this._onPreserveCaseKeyDown.fire(j)})),this._showOptionButtons)this.cachedOptionsWidth=this.preserveCase.width();else this.cachedOptionsWidth=0;let z=[this.preserveCase.domNode];this.onkeydown(this.domNode,(j)=>{if(j.equals(15)||j.equals(17)||j.equals(9)){let B=z.indexOf(this.domNode.ownerDocument.activeElement);if(B>=0){let V=-1;if(j.equals(17))V=(B+1)%z.length;else if(j.equals(15))if(B===0)V=z.length-1;else V=B-1;if(j.equals(9))z[B].blur(),this.inputBox.focus();else if(V>=0)z[V].focus();o0.stop(j,!0)}}});let H=document.createElement("div");H.className="controls",H.style.display=this._showOptionButtons?"block":"none",H.appendChild(this.preserveCase.domNode),this.domNode.appendChild(H),J===null||J===void 0||J.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(j)=>this._onKeyDown.fire(j)),this.onkeyup(this.inputBox.inputElement,(j)=>this._onKeyUp.fire(j)),this.oninput(this.inputBox.inputElement,(j)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(j)=>this._onMouseDown.fire(j))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(J){if(J)this.enable();else this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(J){this.preserveCase.checked=J}focusOnPreserve(){this.preserveCase.focus()}validate(){var J;(J=this.inputBox)===null||J===void 0||J.validate()}set width(J){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=J+"px"}dispose(){super.dispose()}}e1();Z3();a0();B0();x0();var Je=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},$e=function(J,$){return function(Q,X){$(Q,X,J)}},DR=new T0("suggestWidgetVisible",!1,M("suggestWidgetVisible","Whether suggestion are visible")),qx="historyNavigationWidgetFocus",Qe="historyNavigationForwardsEnabled",Xe="historyNavigationBackwardsEnabled",vX=void 0,PR=[];function Ye(J,$){if(PR.includes($))throw Error("Cannot register the same widget multiple times");PR.push($);let Q=new q0,X=new T0(qx,!1).bindTo(J),Y=new T0(Qe,!0).bindTo(J),Z=new T0(Xe,!0).bindTo(J),G=()=>{X.set(!0),vX=$},q=()=>{if(X.set(!1),vX===$)vX=void 0};if(X2($.element))G();return Q.add($.onDidFocus(()=>G())),Q.add($.onDidBlur(()=>q())),Q.add(y0(()=>{PR.splice(PR.indexOf($),1),q()})),{historyNavigationForwardsEnablement:Y,historyNavigationBackwardsEnablement:Z,dispose(){Q.dispose()}}}var tt=class extends QU{constructor($,Q,X,Y){super($,Q,X);let Z=this._register(Y.createScoped(this.inputBox.element));this._register(Ye(Z,this.inputBox))}};tt=Je([$e(3,s0)],tt);var et=class extends Gx{constructor($,Q,X,Y,Z=!1){super($,Q,Z,X);let G=this._register(Y.createScoped(this.inputBox.element));this._register(Ye(G,this.inputBox))}};et=Je([$e(3,s0)],et);jJ.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:v0.and(v0.has(qx),v0.equals(Xe,!0),v0.not("isComposing"),DR.isEqualTo(!1)),primary:16,secondary:[528],handler:(J)=>{vX===null||vX===void 0||vX.showPreviousValue()}});jJ.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:v0.and(v0.has(qx),v0.equals(Qe,!0),v0.not("isComposing"),DR.isEqualTo(!1)),primary:18,secondary:[530],handler:(J)=>{vX===null||vX===void 0||vX.showNextValue()}});var V1={Visible:DR,HasFocusedSuggestion:new T0("suggestWidgetHasFocusedSuggestion",!1,M("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new T0("suggestWidgetDetailsVisible",!1,M("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new T0("suggestWidgetMultipleSuggestions",!1,M("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new T0("suggestionMakesTextEdit",!0,M("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new T0("acceptSuggestionOnEnter",!0,M("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new T0("suggestionHasInsertAndReplaceRange",!1,M("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new T0("suggestionInsertMode",void 0,{type:"string",description:M("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new T0("suggestionCanResolve",!1,M("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},zQ=new g("suggestWidgetStatusBar");class Ze{constructor(J,$,Q,X){var Y;if(this.position=J,this.completion=$,this.container=Q,this.provider=X,this.isInvalid=!1,this.score=m4.Default,this.distance=0,this.textLabel=typeof $.label==="string"?$.label:(Y=$.label)===null||Y===void 0?void 0:Y.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=$.sortText&&$.sortText.toLowerCase(),this.filterTextLow=$.filterText&&$.filterText.toLowerCase(),this.extensionId=$.extensionId,v.isIRange($.range))this.editStart=new s($.range.startLineNumber,$.range.startColumn),this.editInsertEnd=new s($.range.endLineNumber,$.range.endColumn),this.editReplaceEnd=new s($.range.endLineNumber,$.range.endColumn),this.isInvalid=this.isInvalid||v.spansMultipleLines($.range)||$.range.startLineNumber!==J.lineNumber;else this.editStart=new s($.range.insert.startLineNumber,$.range.insert.startColumn),this.editInsertEnd=new s($.range.insert.endLineNumber,$.range.insert.endColumn),this.editReplaceEnd=new s($.range.replace.endLineNumber,$.range.replace.endColumn),this.isInvalid=this.isInvalid||v.spansMultipleLines($.range.insert)||v.spansMultipleLines($.range.replace)||$.range.insert.startLineNumber!==J.lineNumber||$.range.replace.startLineNumber!==J.lineNumber||$.range.insert.startColumn!==$.range.replace.startColumn;if(typeof X.resolveCompletionItem!=="function")this._resolveCache=Promise.resolve(),this._resolveDuration=0}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(J){if(!this._resolveCache){let $=J.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),Q=new R5(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,J)).then((X)=>{Object.assign(this.completion,X),this._resolveDuration=Q.elapsed()},(X)=>{if(Z$(X))this._resolveCache=void 0,this._resolveDuration=void 0}).finally(()=>{$.dispose()})}return this._resolveCache}}class kU{constructor(J=2,$=new Set,Q=new Set,X=new Map,Y=!0){this.snippetSortOrder=J,this.kindFilter=$,this.providerFilter=Q,this.providerItemsToReuse=X,this.showDeprecated=Y}}kU.default=new kU;var LU;function Ge(){return LU}class qe{constructor(J,$,Q,X){this.items=J,this.needsClipboard=$,this.durations=Q,this.disposable=X}}async function Ux(J,$,Q,X=kU.default,Y={triggerKind:0},Z=j5.None){let G=new R5;Q=Q.clone();let q=$.getWordAtPosition(Q),U=q?new v(Q.lineNumber,q.startColumn,Q.lineNumber,q.endColumn):v.fromPositions(Q),z={replace:U,insert:U.setEndPosition(Q.lineNumber,Q.column)},H=[],j=new q0,B=[],V=!1,W=(A,F,P)=>{var R,D,_;let O=!1;if(!F)return O;for(let N of F.suggestions)if(!X.kindFilter.has(N.kind)){if(!X.showDeprecated&&((R=N===null||N===void 0?void 0:N.tags)===null||R===void 0?void 0:R.includes(1)))continue;if(!N.range)N.range=z;if(!N.sortText)N.sortText=typeof N.label==="string"?N.label:N.label.label;if(!V&&N.insertTextRules&&N.insertTextRules&4)V=jZ.guessNeedsClipboard(N.insertText);H.push(new Ze(Q,N,F,A)),O=!0}if(fW(F))j.add(F);return B.push({providerName:(D=A._debugDisplayName)!==null&&D!==void 0?D:"unknown_provider",elapsedProvider:(_=F.duration)!==null&&_!==void 0?_:-1,elapsedOverall:P.elapsed()}),O},K=(async()=>{if(!LU||X.kindFilter.has(27))return;let A=X.providerItemsToReuse.get(LU);if(A){A.forEach((R)=>H.push(R));return}if(X.providerFilter.size>0&&!X.providerFilter.has(LU))return;let F=new R5,P=await LU.provideCompletionItems($,Q,Y,Z);W(LU,P,F)})();for(let A of J.orderedGroups($)){let F=!1;if(await Promise.all(A.map(async(P)=>{if(X.providerItemsToReuse.has(P)){let R=X.providerItemsToReuse.get(P);R.forEach((D)=>H.push(D)),F=F||R.length>0;return}if(X.providerFilter.size>0&&!X.providerFilter.has(P))return;try{let R=new R5,D=await P.provideCompletionItems($,Q,Y,Z);F=W(P,D,R)||F}catch(R){Y$(R)}})),F||Z.isCancellationRequested)break}if(await K,Z.isCancellationRequested)return j.dispose(),Promise.reject(new DQ);return new qe(H.sort(FY0(X.snippetSortOrder)),V,{entries:B,elapsed:G.elapsed()},j)}function zx(J,$){if(J.sortTextLow&&$.sortTextLow){if(J.sortTextLow<$.sortTextLow)return-1;else if(J.sortTextLow>$.sortTextLow)return 1}if(J.textLabel<$.textLabel)return-1;else if(J.textLabel>$.textLabel)return 1;return J.completion.kind-$.completion.kind}function WY0(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return zx(J,$)}function BY0(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return zx(J,$)}var RR=new Map;RR.set(0,WY0);RR.set(2,BY0);RR.set(1,zx);function FY0(J){return RR.get(J)}O6.registerCommand("_executeCompletionItemProvider",async(J,...$)=>{let[Q,X,Y,Z]=$;D5(m0.isUri(Q)),D5(s.isIPosition(X)),D5(typeof Y==="string"||!Y),D5(typeof Z==="number"||!Z);let{completionProvider:G}=J.get(M1),q=await J.get(EQ).createModelReference(Q);try{let U={incomplete:!1,suggestions:[]},z=[],H=q.object.textEditorModel.validatePosition(X),j=await Ux(G,q.object.textEditorModel,H,void 0,{triggerCharacter:Y!==null&&Y!==void 0?Y:void 0,triggerKind:Y?1:0});for(let B of j.items){if(z.length<(Z!==null&&Z!==void 0?Z:0))z.push(B.resolve(j5.None));U.incomplete=U.incomplete||B.container.incomplete,U.suggestions.push(B.completion)}try{return await Promise.all(z),U}finally{setTimeout(()=>j.disposable.dispose(),100)}}finally{q.dispose()}});function Ue(J,$){var Q;(Q=J.getContribution("editor.contrib.suggestController"))===null||Q===void 0||Q.triggerSuggest(new Set().add($),void 0,!0)}class EU{static isAllOff(J){return J.other==="off"&&J.comments==="off"&&J.strings==="off"}static isAllOn(J){return J.other==="on"&&J.comments==="on"&&J.strings==="on"}static valueFor(J,$){switch($){case 1:return J.comments;case 2:return J.strings;default:return J.other}}}a0();e1();B9();B1();B0();G1();_0(".monaco-editor .snippet-placeholder{background-color:var(--vscode-editor-snippetTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetTabstopHighlightBorder,transparent);min-width:2px}.monaco-editor .finish-snippet-placeholder{background-color:var(--vscode-editor-snippetFinalTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetFinalTabstopHighlightBorder,transparent)}");Ej();e0();u5();d8();hY();fk();wP();MA();E1();function Hx(J,$=c6){if(eu(J,$))return J.charAt(0).toUpperCase()+J.slice(1);return J}var FJ1=Object.create(null);RQ();u$();G1();var ze=function(){if(typeof crypto==="object"&&typeof crypto.randomUUID==="function")return crypto.randomUUID.bind(crypto);let J;if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function")J=crypto.getRandomValues.bind(crypto);else J=function(X){for(let Y=0;Y<X.length;Y++)X[Y]=Math.floor(Math.random()*256);return X};let $=new Uint8Array(16),Q=[];for(let X=0;X<256;X++)Q.push(X.toString(16).padStart(2,"0"));return function(){J($),$[6]=$[6]&15|64,$[8]=$[8]&63|128;let Y=0,Z="";return Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z}}();d8();a0();wP();var KY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},AY0=function(J,$){return function(Q,X){$(Q,X,J)}},TJ1=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class MR{constructor(J){this._delegates=J}resolve(J){for(let $ of this._delegates){let Q=$.resolve(J);if(Q!==void 0)return Q}return}}class OR{constructor(J,$,Q,X){this._model=J,this._selection=$,this._selectionIdx=Q,this._overtypingCapturer=X}resolve(J){let{name:$}=J;if($==="SELECTION"||$==="TM_SELECTED_TEXT"){let Q=this._model.getValueInRange(this._selection)||void 0,X=this._selection.startLineNumber!==this._selection.endLineNumber;if(!Q&&this._overtypingCapturer){let Y=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);if(Y)Q=Y.value,X=Y.multiline}if(Q&&X&&J.snippet){let Y=this._model.getLineContent(this._selection.startLineNumber),Z=W5(Y,0,this._selection.startColumn-1),G=Z;J.snippet.walk((U)=>{if(U===J)return!1;if(U instanceof J7)G=W5(H9(U.value).pop());return!0});let q=cZ(G,Z);Q=Q.replace(/(\r\n|\r|\n)(.*)/g,(U,z,H)=>`${z}${G.substr(q)}${H}`)}return Q}else if($==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);else if($==="TM_CURRENT_WORD"){let Q=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return Q&&Q.word||void 0}else if($==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);else if($==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);else if($==="CURSOR_INDEX")return String(this._selectionIdx);else if($==="CURSOR_NUMBER")return String(this._selectionIdx+1);return}}class _R{constructor(J,$){this._labelService=J,this._model=$}resolve(J){let{name:$}=J;if($==="TM_FILENAME")return A4(this._model.uri.fsPath);else if($==="TM_FILENAME_BASE"){let Q=A4(this._model.uri.fsPath),X=Q.lastIndexOf(".");if(X<=0)return Q;else return Q.slice(0,X)}else if($==="TM_DIRECTORY"){if(dW(this._model.uri.fsPath)===".")return"";return this._labelService.getUriLabel(_A(this._model.uri))}else if($==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);else if($==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0});return}}class NR{constructor(J,$,Q,X){this._readClipboardText=J,this._selectionIdx=$,this._selectionCount=Q,this._spread=X}resolve(J){if(J.name!=="CLIPBOARD")return;let $=this._readClipboardText();if(!$)return;if(this._spread){let Q=$.split(/\r\n|\n|\r/).filter((X)=>!fB(X));if(Q.length===this._selectionCount)return Q[this._selectionIdx]}return $}}var JW=class{constructor($,Q,X){this._model=$,this._selection=Q,this._languageConfigurationService=X}resolve($){let{name:Q}=$,X=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Y=this._languageConfigurationService.getLanguageConfiguration(X).comments;if(!Y)return;if(Q==="LINE_COMMENT")return Y.lineCommentToken||void 0;else if(Q==="BLOCK_COMMENT_START")return Y.blockCommentStartToken||void 0;else if(Q==="BLOCK_COMMENT_END")return Y.blockCommentEndToken||void 0;return}};JW=KY0([AY0(2,f6)],JW);class i4{constructor(){this._date=new Date}resolve(J){let{name:$}=J;if($==="CURRENT_YEAR")return String(this._date.getFullYear());else if($==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);else if($==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");else if($==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");else if($==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");else if($==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");else if($==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");else if($==="CURRENT_DAY_NAME")return i4.dayNames[this._date.getDay()];else if($==="CURRENT_DAY_NAME_SHORT")return i4.dayNamesShort[this._date.getDay()];else if($==="CURRENT_MONTH_NAME")return i4.monthNames[this._date.getMonth()];else if($==="CURRENT_MONTH_NAME_SHORT")return i4.monthNamesShort[this._date.getMonth()];else if($==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1000));else if($==="CURRENT_TIMEZONE_OFFSET"){let Q=this._date.getTimezoneOffset(),X=Q>0?"-":"+",Y=Math.trunc(Math.abs(Q/60)),Z=Y<10?"0"+Y:Y,G=Math.abs(Q)-Y*60,q=G<10?"0"+G:G;return X+Z+":"+q}return}}i4.dayNames=[M("Sunday","Sunday"),M("Monday","Monday"),M("Tuesday","Tuesday"),M("Wednesday","Wednesday"),M("Thursday","Thursday"),M("Friday","Friday"),M("Saturday","Saturday")];i4.dayNamesShort=[M("SundayShort","Sun"),M("MondayShort","Mon"),M("TuesdayShort","Tue"),M("WednesdayShort","Wed"),M("ThursdayShort","Thu"),M("FridayShort","Fri"),M("SaturdayShort","Sat")];i4.monthNames=[M("January","January"),M("February","February"),M("March","March"),M("April","April"),M("May","May"),M("June","June"),M("July","July"),M("August","August"),M("September","September"),M("October","October"),M("November","November"),M("December","December")];i4.monthNamesShort=[M("JanuaryShort","Jan"),M("FebruaryShort","Feb"),M("MarchShort","Mar"),M("AprilShort","Apr"),M("MayShort","May"),M("JuneShort","Jun"),M("JulyShort","Jul"),M("AugustShort","Aug"),M("SeptemberShort","Sep"),M("OctoberShort","Oct"),M("NovemberShort","Nov"),M("DecemberShort","Dec")];class TR{constructor(J){this._workspaceService=J}resolve(J){if(!this._workspaceService)return;let $=_s(this._workspaceService.getWorkspace());if(Os($))return;if(J.name==="WORKSPACE_NAME")return this._resolveWorkspaceName($);else if(J.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath($);return}_resolveWorkspaceName(J){if(NP(J))return A4(J.uri.path);let $=A4(J.configPath.path);if($.endsWith(TP))$=$.substr(0,$.length-TP.length-1);return $}_resoveWorkspacePath(J){if(NP(J))return Hx(J.uri.fsPath);let $=A4(J.configPath.path),Q=J.configPath.fsPath;if(Q.endsWith($))Q=Q.substr(0,Q.length-$.length-1);return Q?Hx(Q):"/"}}class wR{resolve(J){let{name:$}=J;if($==="RANDOM")return Math.random().toString().slice(-6);else if($==="RANDOM_HEX")return Math.random().toString(16).slice(-6);else if($==="UUID")return ze();return}}var PY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},DY0=function(J,$){return function(Q,X){$(Q,X,J)}},iJ;class U4{constructor(J,$,Q){this._editor=J,this._snippet=$,this._snippetLineLeadingWhitespace=Q,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=JM($.placeholders,k9.compareByIndex),this._placeholderGroupsIdx=-1}initialize(J){this._offset=J.newPosition}dispose(){if(this._placeholderDecorations)this._editor.removeDecorations([...this._placeholderDecorations.values()]);this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let J=this._editor.getModel();this._editor.changeDecorations(($)=>{for(let Q of this._snippet.placeholders){let X=this._snippet.offset(Q),Y=this._snippet.fullLen(Q),Z=v.fromPositions(J.getPositionAt(this._offset+X),J.getPositionAt(this._offset+X+Y)),G=Q.isFinalTabstop?U4._decor.inactiveFinal:U4._decor.inactive,q=$.addDecoration(Z,G);this._placeholderDecorations.set(Q,q)}})}move(J){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let X=[];for(let Y of this._placeholderGroups[this._placeholderGroupsIdx])if(Y.transform){let Z=this._placeholderDecorations.get(Y),G=this._editor.getModel().getDecorationRange(Z),q=this._editor.getModel().getValueInRange(G),U=Y.transform.resolve(q).split(/\r\n|\r|\n/);for(let z=1;z<U.length;z++)U[z]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+U[z]);X.push(X4.replace(G,U.join(this._editor.getModel().getEOL())))}if(X.length>0)this._editor.executeEdits("snippet.placeholderTransform",X)}let $=!1;if(J===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1)this._placeholderGroupsIdx+=1,$=!0;else if(J===!1&&this._placeholderGroupsIdx>0)this._placeholderGroupsIdx-=1,$=!0;let Q=this._editor.getModel().changeDecorations((X)=>{let Y=new Set,Z=[];for(let G of this._placeholderGroups[this._placeholderGroupsIdx]){let q=this._placeholderDecorations.get(G),U=this._editor.getModel().getDecorationRange(q);Z.push(new d0(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)),$=$&&this._hasPlaceholderBeenCollapsed(G),X.changeDecorationOptions(q,G.isFinalTabstop?U4._decor.activeFinal:U4._decor.active),Y.add(G);for(let z of this._snippet.enclosingPlaceholders(G)){let H=this._placeholderDecorations.get(z);X.changeDecorationOptions(H,z.isFinalTabstop?U4._decor.activeFinal:U4._decor.active),Y.add(z)}}for(let[G,q]of this._placeholderDecorations)if(!Y.has(G))X.changeDecorationOptions(q,G.isFinalTabstop?U4._decor.inactiveFinal:U4._decor.inactive);return Z});return!$?Q!==null&&Q!==void 0?Q:[]:this.move(J)}_hasPlaceholderBeenCollapsed(J){let $=J;while($){if($ instanceof k9){let Q=this._placeholderDecorations.get($);if(this._editor.getModel().getDecorationRange(Q).isEmpty()&&$.toString().length>0)return!0}$=$.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){let[J]=this._snippet.placeholders;if(J.isFinalTabstop){if(this._snippet.rightMostDescendant===J)return!0}}return!1}computePossibleSelections(){let J=new Map;for(let $ of this._placeholderGroups){let Q;for(let X of $){if(X.isFinalTabstop)break;if(!Q)Q=[],J.set(X.index,Q);let Y=this._placeholderDecorations.get(X),Z=this._editor.getModel().getDecorationRange(Y);if(!Z){J.delete(X.index);break}Q.push(Z)}}return J}get activeChoice(){if(!this._placeholderDecorations)return;let J=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(J===null||J===void 0?void 0:J.choice))return;let $=this._placeholderDecorations.get(J);if(!$)return;let Q=this._editor.getModel().getDecorationRange($);if(!Q)return;return{range:Q,choice:J.choice}}get hasChoice(){let J=!1;return this._snippet.walk(($)=>{return J=$ instanceof SG,!J}),J}merge(J){let $=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((Q)=>{for(let X of this._placeholderGroups[this._placeholderGroupsIdx]){let Y=J.shift();console.assert(Y._offset!==-1),console.assert(!Y._placeholderDecorations);let Z=Y._snippet.placeholderInfo.last.index;for(let q of Y._snippet.placeholderInfo.all)if(q.isFinalTabstop)q.index=X.index+(Z+1)/this._nestingLevel;else q.index=X.index+q.index/this._nestingLevel;this._snippet.replace(X,Y._snippet.children);let G=this._placeholderDecorations.get(X);Q.removeDecoration(G),this._placeholderDecorations.delete(X);for(let q of Y._snippet.placeholders){let U=Y._snippet.offset(q),z=Y._snippet.fullLen(q),H=v.fromPositions($.getPositionAt(Y._offset+U),$.getPositionAt(Y._offset+U+z)),j=Q.addDecoration(H,U4._decor.inactive);this._placeholderDecorations.set(q,j)}}this._placeholderGroups=JM(this._snippet.placeholders,k9.compareByIndex)})}}U4._decor={active:C1.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:C1.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:C1.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:C1.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var He={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},LR=iJ=class{static adjustWhitespace($,Q,X,Y,Z){let G=$.getLineContent(Q.lineNumber),q=W5(G,0,Q.column-1),U;return Y.walk((z)=>{if(!(z instanceof J7)||z.parent instanceof SG)return!0;if(Z&&!Z.has(z))return!0;let H=z.value.split(/\r\n|\r|\n/);if(X){let B=Y.offset(z);if(B===0)H[0]=$.normalizeIndentation(H[0]);else{U=U!==null&&U!==void 0?U:Y.toString();let V=U.charCodeAt(B-1);if(V===10||V===13)H[0]=$.normalizeIndentation(q+H[0])}for(let V=1;V<H.length;V++)H[V]=$.normalizeIndentation(q+H[V])}let j=H.join($.getEOL());if(j!==z.value)z.parent.replace(z,[new J7(j)]),U=void 0;return!0}),q}static adjustSelection($,Q,X,Y){if(X!==0||Y!==0){let{positionLineNumber:Z,positionColumn:G}=Q,q=G-X,U=G+Y,z=$.validateRange({startLineNumber:Z,startColumn:q,endLineNumber:Z,endColumn:U});Q=d0.createWithDirection(z.startLineNumber,z.startColumn,z.endLineNumber,z.endColumn,Q.getDirection())}return Q}static createEditsAndSnippetsFromSelections($,Q,X,Y,Z,G,q,U,z){let H=[],j=[];if(!$.hasModel())return{edits:H,snippets:j};let B=$.getModel(),V=$.invokeWithinContext((D)=>D.get(vj)),W=$.invokeWithinContext((D)=>new _R(D.get(bj),B)),K=()=>q,A=B.getValueInRange(iJ.adjustSelection(B,$.getSelection(),X,0)),F=B.getValueInRange(iJ.adjustSelection(B,$.getSelection(),0,Y)),P=B.getLineFirstNonWhitespaceColumn($.getSelection().positionLineNumber),R=$.getSelections().map((D,_)=>({selection:D,idx:_})).sort((D,_)=>v.compareRangesUsingStarts(D.selection,_.selection));for(let{selection:D,idx:_}of R){let O=iJ.adjustSelection(B,D,X,0),N=iJ.adjustSelection(B,D,0,Y);if(A!==B.getValueInRange(O))O=D;if(F!==B.getValueInRange(N))N=D;let w=D.setStartPosition(O.startLineNumber,O.startColumn).setEndPosition(N.endLineNumber,N.endColumn),T=new jZ().parse(Q,!0,Z),I=w.getStartPosition(),k=iJ.adjustWhitespace(B,I,G||_>0&&P!==B.getLineFirstNonWhitespaceColumn(D.positionLineNumber),T);T.resolveVariables(new MR([W,new NR(K,_,R.length,$.getOption(78)==="spread"),new OR(B,D,_,U),new JW(B,D,z),new i4,new TR(V),new wR])),H[_]=X4.replace(w,T.toString()),H[_].identifier={major:_,minor:0},H[_]._isTracked=!0,j[_]=new U4($,T,k)}return{edits:H,snippets:j}}static createEditsAndSnippetsFromEdits($,Q,X,Y,Z,G,q){if(!$.hasModel()||Q.length===0)return{edits:[],snippets:[]};let U=[],z=$.getModel(),H=new jZ,j=new wU,B=new MR([$.invokeWithinContext((W)=>new _R(W.get(bj),z)),new NR(()=>Z,0,$.getSelections().length,$.getOption(78)==="spread"),new OR(z,$.getSelection(),0,G),new JW(z,$.getSelection(),q),new i4,new TR($.invokeWithinContext((W)=>W.get(vj))),new wR]);Q=Q.sort((W,K)=>v.compareRangesUsingStarts(W.range,K.range));let V=0;for(let W=0;W<Q.length;W++){let{range:K,template:A}=Q[W];if(W>0){let _=Q[W-1].range,O=v.fromPositions(_.getEndPosition(),K.getStartPosition()),N=new J7(z.getValueInRange(O));j.appendChild(N),V+=N.value.length}let F=H.parseFragment(A,j);iJ.adjustWhitespace(z,K.getStartPosition(),!0,j,new Set(F)),j.resolveVariables(B);let P=j.toString(),R=P.slice(V);V=P.length;let D=X4.replace(K,R);D.identifier={major:W,minor:0},D._isTracked=!0,U.push(D)}return H.ensureFinalTabstop(j,X,!0),{edits:U,snippets:[new U4($,j,"")]}}constructor($,Q,X=He,Y){this._editor=$,this._template=Q,this._options=X,this._languageConfigurationService=Y,this._templateMerges=[],this._snippets=[]}dispose(){h1(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:$,snippets:Q}=typeof this._template==="string"?iJ.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):iJ.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Q,this._editor.executeEdits("snippet",$,(X)=>{let Y=X.filter((Z)=>!!Z.identifier);for(let Z=0;Z<Q.length;Z++)Q[Z].initialize(Y[Z].textChange);if(this._snippets[0].hasPlaceholder)return this._move(!0);else return Y.map((Z)=>d0.fromPositions(Z.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge($,Q=He){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,$]);let{edits:X,snippets:Y}=iJ.createEditsAndSnippetsFromSelections(this._editor,$,Q.overwriteBefore,Q.overwriteAfter,!0,Q.adjustWhitespace,Q.clipboardText,Q.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",X,(Z)=>{let G=Z.filter((U)=>!!U.identifier);for(let U=0;U<Y.length;U++)Y[U].initialize(G[U].textChange);let q=Y[0].isTrivialSnippet;if(!q){for(let U of this._snippets)U.merge(Y);console.assert(Y.length===0)}if(this._snippets[0].hasPlaceholder&&!q)return this._move(void 0);else return G.map((U)=>d0.fromPositions(U.range.getEndPosition()))})}next(){let $=this._move(!0);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}prev(){let $=this._move(!1);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}_move($){let Q=[];for(let X of this._snippets){let Y=X.move($);Q.push(...Y)}return Q}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let $=this._editor.getSelections();if($.length<this._snippets.length)return!1;let Q=new Map;for(let X of this._snippets){let Y=X.computePossibleSelections();if(Q.size===0)for(let[Z,G]of Y){G.sort(v.compareRangesUsingStarts);for(let q of $)if(G[0].containsRange(q)){Q.set(Z,[]);break}}if(Q.size===0)return!1;Q.forEach((Z,G)=>{Z.push(...Y.get(G))})}$.sort(v.compareRangesUsingStarts);for(let[X,Y]of Q){if(Y.length!==$.length){Q.delete(X);continue}Y.sort(v.compareRangesUsingStarts);for(let Z=0;Z<Y.length;Z++)if(!Y[Z].containsRange($[Z])){Q.delete(X);continue}}return Q.size>0}};LR=iJ=PY0([DY0(3,f6)],LR);var RY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},kR=function(J,$){return function(Q,X){$(Q,X,J)}},IU,je={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},a5=IU=class{static get($){return $.getContribution(IU.ID)}constructor($,Q,X,Y,Z){this._editor=$,this._logService=Q,this._languageFeaturesService=X,this._languageConfigurationService=Z,this._snippetListener=new q0,this._modelVersionId=-1,this._inSnippet=IU.InSnippetMode.bindTo(Y),this._hasNextTabstop=IU.HasNextTabstop.bindTo(Y),this._hasPrevTabstop=IU.HasPrevTabstop.bindTo(Y)}dispose(){var $;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),($=this._session)===null||$===void 0||$.dispose(),this._snippetListener.dispose()}insert($,Q){try{this._doInsert($,typeof Q>"u"?je:{...je,...Q})}catch(X){this.cancel(),this._logService.error(X),this._logService.error("snippet_error"),this._logService.error("insert_template=",$),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert($,Q){var X;if(!this._editor.hasModel())return;if(this._snippetListener.clear(),Q.undoStopBefore)this._editor.getModel().pushStackElement();if(this._session&&typeof $!=="string")this.cancel();if(!this._session)this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new LR(this._editor,$,Q,this._languageConfigurationService),this._session.insert();else D5(typeof $==="string"),this._session.merge($,Q);if(Q.undoStopAfter)this._editor.getModel().pushStackElement();if((X=this._session)===null||X===void 0?void 0:X.hasChoice){let Y={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(H,j)=>{if(!this._session||H!==this._editor.getModel()||!s.equals(this._editor.getPosition(),j))return;let{activeChoice:B}=this._session;if(!B||B.choice.options.length===0)return;let V=H.getValueInRange(B.range),W=Boolean(B.choice.options.find((A)=>A.value===V)),K=[];for(let A=0;A<B.choice.options.length;A++){let F=B.choice.options[A];K.push({kind:13,label:F.value,insertText:F.value,sortText:"a".repeat(A+1),range:B.range,filterText:W?`${V}_${F.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:M("next","Go to next placeholder...")}})}return{suggestions:K}}},Z=this._editor.getModel(),G,q=!1,U=()=>{G===null||G===void 0||G.dispose(),q=!1},z=()=>{if(!q)G=this._languageFeaturesService.completionProvider.register({language:Z.getLanguageId(),pattern:Z.uri.fsPath,scheme:Z.uri.scheme,exclusive:!0},Y),this._snippetListener.add(G),q=!0};this._choiceCompletions={provider:Y,enable:z,disable:U}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((Y)=>Y.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}_updateState(){if(!this._session||!this._editor.hasModel())return;if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}_handleChoice(){var $;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{activeChoice:Q}=this._session;if(!Q||!this._choiceCompletions){($=this._choiceCompletions)===null||$===void 0||$.disable(),this._currentChoice=void 0;return}if(this._currentChoice!==Q.choice)this._currentChoice=Q.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{Ue(this._editor,this._choiceCompletions.provider)})}finish(){while(this._inSnippet.get())this.next()}cancel($=!1){var Q;if(this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(Q=this._session)===null||Q===void 0||Q.dispose(),this._session=void 0,this._modelVersionId=-1,$)this._editor.setSelections([this._editor.getSelection()])}prev(){var $;($=this._session)===null||$===void 0||$.prev(),this._updateState()}next(){var $;($=this._session)===null||$===void 0||$.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};a5.ID="snippetController2";a5.InSnippetMode=new T0("inSnippetMode",!1,M("inSnippetMode","Whether the editor in current in snippet mode"));a5.HasNextTabstop=new T0("hasNextTabstop",!1,M("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));a5.HasPrevTabstop=new T0("hasPrevTabstop",!1,M("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));a5=IU=RY0([kR(1,A5),kR(2,M1),kR(3,s0),kR(4,f6)],a5);m9(a5.ID,a5,4);var ER=u7.bindToContribution(a5.get);f0(new ER({id:"jumpToNextSnippetPlaceholder",precondition:v0.and(a5.InSnippetMode,a5.HasNextTabstop),handler:(J)=>J.next(),kbOpts:{weight:130,kbExpr:H0.editorTextFocus,primary:2}}));f0(new ER({id:"jumpToPrevSnippetPlaceholder",precondition:v0.and(a5.InSnippetMode,a5.HasPrevTabstop),handler:(J)=>J.prev(),kbOpts:{weight:130,kbExpr:H0.editorTextFocus,primary:1026}}));f0(new ER({id:"leaveSnippet",precondition:a5.InSnippetMode,handler:(J)=>J.cancel(!0),kbOpts:{weight:130,kbExpr:H0.editorTextFocus,primary:9,secondary:[1033]}}));f0(new ER({id:"acceptSnippet",precondition:a5.InSnippetMode,handler:(J)=>J.finish()}));J6();B0();AJ();_P();w8();l8();s9();n0();rq();var MY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Ve=function(J,$){return function(Q,X){$(Q,X,J)}},$W;class IR{constructor(J){this.name=J}select(J,$,Q){if(Q.length===0)return 0;let X=Q[0].score[0];for(let Y=0;Y<Q.length;Y++){let{score:Z,completion:G}=Q[Y];if(Z[0]!==X)break;if(G.preselect)return Y}return 0}}class jx extends IR{constructor(){super("first")}memorize(J,$,Q){}toJSON(){return}fromJSON(){}}class We extends IR{constructor(){super("recentlyUsed");this._cache=new lQ(300,0.66),this._seq=0}memorize(J,$,Q){let X=`${J.getLanguageId()}/${Q.textLabel}`;this._cache.set(X,{touch:this._seq++,type:Q.completion.kind,insertText:Q.completion.insertText})}select(J,$,Q){if(Q.length===0)return 0;let X=J.getLineContent($.lineNumber).substr($.column-10,$.column-1);if(/\s$/.test(X))return super.select(J,$,Q);let Y=Q[0].score[0],Z=-1,G=-1,q=-1;for(let U=0;U<Q.length;U++){if(Q[U].score[0]!==Y)break;let z=`${J.getLanguageId()}/${Q[U].textLabel}`,H=this._cache.peek(z);if(H&&H.touch>q&&H.type===Q[U].completion.kind&&H.insertText===Q[U].completion.insertText)q=H.touch,G=U;if(Q[U].completion.preselect&&Z===-1)return Z=U}if(G!==-1)return G;else if(Z!==-1)return Z;else return 0}toJSON(){return this._cache.toJSON()}fromJSON(J){this._cache.clear();let $=0;for(let[Q,X]of J)X.touch=$,X.type=typeof X.type==="number"?X.type:gZ.fromString(X.type),this._cache.set(Q,X);this._seq=this._cache.size}}class Be extends IR{constructor(){super("recentlyUsedByPrefix");this._trie=TX.forStrings(),this._seq=0}memorize(J,$,Q){let{word:X}=J.getWordUntilPosition($),Y=`${J.getLanguageId()}/${X}`;this._trie.set(Y,{type:Q.completion.kind,insertText:Q.completion.insertText,touch:this._seq++})}select(J,$,Q){let{word:X}=J.getWordUntilPosition($);if(!X)return super.select(J,$,Q);let Y=`${J.getLanguageId()}/${X}`,Z=this._trie.get(Y);if(!Z)Z=this._trie.findSubstr(Y);if(Z)for(let G=0;G<Q.length;G++){let{kind:q,insertText:U}=Q[G].completion;if(q===Z.type&&U===Z.insertText)return G}return super.select(J,$,Q)}toJSON(){let J=[];return this._trie.forEach(($,Q)=>J.push([Q,$])),J.sort(($,Q)=>-($[1].touch-Q[1].touch)).forEach(($,Q)=>$[1].touch=Q),J.slice(0,200)}fromJSON(J){if(this._trie.clear(),J.length>0){this._seq=J[0][1].touch+1;for(let[$,Q]of J)Q.type=typeof Q.type==="number"?Q.type:gZ.fromString(Q.type),this._trie.set($,Q)}}}var QW=$W=class{constructor($,Q){this._storageService=$,this._configService=Q,this._disposables=new q0,this._persistSoon=new z6(()=>this._saveState(),500),this._disposables.add($.onWillSaveState((X)=>{if(X.reason===gP.SHUTDOWN)this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize($,Q,X){this._withStrategy($,Q).memorize($,Q,X),this._persistSoon.schedule()}select($,Q,X){return this._withStrategy($,Q).select($,Q,X)}_withStrategy($,Q){var X;let Y=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:$.getLanguageIdAtPosition(Q.lineNumber,Q.column),resource:$.uri});if(((X=this._strategy)===null||X===void 0?void 0:X.name)!==Y){this._saveState();let Z=$W._strategyCtors.get(Y)||jx;this._strategy=new Z;try{let q=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,U=this._storageService.get(`${$W._storagePrefix}/${Y}`,q);if(U)this._strategy.fromJSON(JSON.parse(U))}catch(G){}}return this._strategy}_saveState(){if(this._strategy){let Q=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,X=JSON.stringify(this._strategy);this._storageService.store(`${$W._storagePrefix}/${this._strategy.name}`,X,Q,1)}}};QW._strategyCtors=new Map([["recentlyUsedByPrefix",Be],["recentlyUsed",We],["first",jx]]);QW._storagePrefix="suggest/memories";QW=$W=MY0([Ve(0,gJ),Ve(1,p1)],QW);var Vx=b0("ISuggestMemories");K1(Vx,QW,1);e1();var OY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},_Y0=function(J,$){return function(Q,X){$(Q,X,J)}},Wx,yU=Wx=class{constructor($,Q){this._editor=$,this._enabled=!1,this._ckAtEnd=Wx.AtEnd.bindTo(Q),this._configListener=this._editor.onDidChangeConfiguration((X)=>X.hasChanged(122)&&this._update()),this._update()}dispose(){var $;this._configListener.dispose(),($=this._selectionListener)===null||$===void 0||$.dispose(),this._ckAtEnd.reset()}_update(){let $=this._editor.getOption(122)==="on";if(this._enabled===$)return;if(this._enabled=$,this._enabled){let Q=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let X=this._editor.getModel(),Y=this._editor.getSelection(),Z=X.getWordAtPosition(Y.getStartPosition());if(!Z){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Z.endColumn===Y.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Q),Q()}else if(this._selectionListener)this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0}};yU.AtEnd=new T0("atEndOfWord",!1);yU=Wx=OY0([_Y0(1,s0)],yU);a0();G7();e1();n0();B9();e1();var NY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},TY0=function(J,$){return function(Q,X){$(Q,X,J)}},XW,VZ=XW=class{constructor($,Q){this._editor=$,this._index=0,this._ckOtherSuggestions=XW.OtherSuggestions.bindTo(Q)}dispose(){this.reset()}reset(){var $;this._ckOtherSuggestions.reset(),($=this._listener)===null||$===void 0||$.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:$,index:Q},X){if($.items.length===0){this.reset();return}if(XW._moveIndex(!0,$,Q)===Q){this.reset();return}this._acceptNext=X,this._model=$,this._index=Q,this._listener=this._editor.onDidChangeCursorPosition(()=>{if(!this._ignore)this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex($,Q,X){let Y=X;for(let Z=Q.items.length;Z>0;Z--){if(Y=(Y+Q.items.length+($?1:-1))%Q.items.length,Y===X)break;if(!Q.items[Y].completion.additionalTextEdits)break}return Y}next(){this._move(!0)}prev(){this._move(!1)}_move($){if(!this._model)return;try{this._ignore=!0,this._index=XW._moveIndex($,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};VZ.OtherSuggestions=new T0("hasOtherSuggestions",!1);VZ=XW=NY0([TY0(1,s0)],VZ);B1();B0();A3();class Bx{constructor(J,$,Q,X){this._disposables=new q0,this._disposables.add(Q.onDidSuggest((Y)=>{if(Y.completionModel.items.length===0)this.reset()})),this._disposables.add(Q.onDidCancel((Y)=>{this.reset()})),this._disposables.add($.onDidShow(()=>this._onItem($.getFocusedItem()))),this._disposables.add($.onDidFocus(this._onItem,this)),this._disposables.add($.onDidHide(this.reset,this)),this._disposables.add(J.onWillType((Y)=>{if(this._active&&!$.isFrozen()&&Q.state!==0){let Z=Y.charCodeAt(Y.length-1);if(this._active.acceptCharacters.has(Z)&&J.getOption(0))X(this._active.item)}}))}_onItem(J){if(!J||!y9(J.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===J.item)return;let $=new lz;for(let Q of J.item.completion.commitCharacters)if(Q.length>0)$.add(Q.charCodeAt(0));this._active={acceptCharacters:$,item:J}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}J6();z8();T1();E0();B0();G1();u5();tq();B1();e0();S9();e0();class E9{async provideSelectionRanges(J,$){let Q=[];for(let X of $){let Y=[];Q.push(Y);let Z=new Map;await new Promise((G)=>E9._bracketsRightYield(G,0,J,X,Z)),await new Promise((G)=>E9._bracketsLeftYield(G,0,J,X,Z,Y))}return Q}static _bracketsRightYield(J,$,Q,X,Y){let Z=new Map,G=Date.now();while(!0){if($>=E9._maxRounds){J();break}if(!X){J();break}let q=Q.bracketPairs.findNextBracket(X);if(!q){J();break}if(Date.now()-G>E9._maxDuration){setTimeout(()=>E9._bracketsRightYield(J,$+1,Q,X,Y));break}if(q.bracketInfo.isOpeningBracket){let z=q.bracketInfo.bracketText,H=Z.has(z)?Z.get(z):0;Z.set(z,H+1)}else{let z=q.bracketInfo.getOpeningBrackets()[0].bracketText,H=Z.has(z)?Z.get(z):0;if(H-=1,Z.set(z,Math.max(0,H)),H<0){let j=Y.get(z);if(!j)j=new l6,Y.set(z,j);j.push(q.range)}}X=q.range.getEndPosition()}}static _bracketsLeftYield(J,$,Q,X,Y,Z){let G=new Map,q=Date.now();while(!0){if($>=E9._maxRounds&&Y.size===0){J();break}if(!X){J();break}let U=Q.bracketPairs.findPrevBracket(X);if(!U){J();break}if(Date.now()-q>E9._maxDuration){setTimeout(()=>E9._bracketsLeftYield(J,$+1,Q,X,Y,Z));break}if(!U.bracketInfo.isOpeningBracket){let H=U.bracketInfo.getOpeningBrackets()[0].bracketText,j=G.has(H)?G.get(H):0;G.set(H,j+1)}else{let H=U.bracketInfo.bracketText,j=G.has(H)?G.get(H):0;if(j-=1,G.set(H,Math.max(0,j)),j<0){let B=Y.get(H);if(B){let V=B.shift();if(B.size===0)Y.delete(H);let W=v.fromPositions(U.range.getEndPosition(),V.getStartPosition()),K=v.fromPositions(U.range.getStartPosition(),V.getEndPosition());Z.push({range:W}),Z.push({range:K}),E9._addBracketLeading(Q,K,Z)}}}X=U.range.getStartPosition()}}static _addBracketLeading(J,$,Q){if($.startLineNumber===$.endLineNumber)return;let X=$.startLineNumber,Y=J.getLineFirstNonWhitespaceColumn(X);if(Y!==0&&Y!==$.startColumn)Q.push({range:v.fromPositions(new s(X,Y),$.getEndPosition())}),Q.push({range:v.fromPositions(new s(X,1),$.getEndPosition())});let Z=X-1;if(Z>0){let G=J.getLineFirstNonWhitespaceColumn(Z);if(G===$.startColumn&&G!==J.getLineLastNonWhitespaceColumn(Z))Q.push({range:v.fromPositions(new s(Z,G),$.getEndPosition())}),Q.push({range:v.fromPositions(new s(Z,1),$.getEndPosition())})}}}E9._maxDuration=30;E9._maxRounds=2;class nJ{static async create(J,$){if(!$.getOption(117).localityBonus)return nJ.None;if(!$.hasModel())return nJ.None;let Q=$.getModel(),X=$.getPosition();if(!J.canComputeWordRanges(Q.uri))return nJ.None;let[Y]=await new E9().provideSelectionRanges(Q,[X]);if(Y.length===0)return nJ.None;let Z=await J.computeWordRanges(Q.uri,Y[0].range);if(!Z)return nJ.None;let G=Q.getWordUntilPosition(X);return delete Z[G.word],new class extends nJ{distance(q,U){if(!X.equals($.getPosition()))return 0;if(U.kind===17)return 2097152;let z=typeof U.label==="string"?U.label:U.label.label,H=Z[z];if(wW(H))return 2097152;let j=_W(H,v.fromPositions(q),v.compareRangesUsingStarts),B=j>=0?H[j]:H[Math.max(0,~j-1)],V=Y.length;for(let W of Y){if(!v.containsRange(W.range,B))break;V-=1}return V}}}}nJ.None=new class extends nJ{distance(){return 0}};OV();l8();e1();B9();JY();B1();lY();G1();class WZ{constructor(J,$,Q,X,Y,Z,G=t2.default,q=void 0){if(this.clipboardText=q,this._snippetCompareFn=WZ._compareCompletionItems,this._items=J,this._column=$,this._wordDistance=X,this._options=Y,this._refilterKind=1,this._lineContext=Q,this._fuzzyScoreOptions=G,Z==="top")this._snippetCompareFn=WZ._compareCompletionItemsSnippetsUp;else if(Z==="bottom")this._snippetCompareFn=WZ._compareCompletionItemsSnippetsDown}get lineContext(){return this._lineContext}set lineContext(J){if(this._lineContext.leadingLineContent!==J.leadingLineContent||this._lineContext.characterCountDelta!==J.characterCountDelta)this._refilterKind=this._lineContext.characterCountDelta<J.characterCountDelta&&this._filteredItems?2:1,this._lineContext=J}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();let J=new Set;for(let[$,Q]of this.getItemsByProvider())if(Q.length>0&&Q[0].container.incomplete)J.add($);return J}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){if(this._refilterKind!==0)this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;let J=[],{leadingLineContent:$,characterCountDelta:Q}=this._lineContext,X="",Y="",Z=this._refilterKind===1?this._items:this._filteredItems,G=[],q=!this._options.filterGraceful||Z.length>2000?cY:fd;for(let U=0;U<Z.length;U++){let z=Z[U];if(z.isInvalid)continue;let H=this._itemsByProvider.get(z.provider);if(H)H.push(z);else this._itemsByProvider.set(z.provider,[z]);let j=z.position.column-z.editStart.column,B=j+Q-(z.position.column-this._column);if(X.length!==B)X=B===0?"":$.slice(-B),Y=X.toLowerCase();if(z.word=X,B===0)z.score=m4.Default;else{let V=0;while(V<j){let W=X.charCodeAt(V);if(W===32||W===9)V+=1;else break}if(V>=B)z.score=m4.Default;else if(typeof z.completion.filterText==="string"){let W=q(X,Y,V,z.completion.filterText,z.filterTextLow,0,this._fuzzyScoreOptions);if(!W)continue;if(Uz(z.completion.filterText,z.textLabel)===0)z.score=W;else z.score=Cd(X,Y,V,z.textLabel,z.labelLow,0),z.score[0]=W[0]}else{let W=q(X,Y,V,z.textLabel,z.labelLow,0,this._fuzzyScoreOptions);if(!W)continue;z.score=W}}z.idx=U,z.distance=this._wordDistance.distance(z.position,z.completion),G.push(z),J.push(z.textLabel.length)}this._filteredItems=G.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:J.length?OW(J.length-0.85,J,(U,z)=>U-z):0}}static _compareCompletionItems(J,$){if(J.score[0]>$.score[0])return-1;else if(J.score[0]<$.score[0])return 1;else if(J.distance<$.distance)return-1;else if(J.distance>$.distance)return 1;else if(J.idx<$.idx)return-1;else if(J.idx>$.idx)return 1;else return 0}static _compareCompletionItemsSnippetsDown(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return WZ._compareCompletionItems(J,$)}static _compareCompletionItemsSnippetsUp(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return WZ._compareCompletionItems(J,$)}}e9();lY();t8();G1();C4();e1();B0();a0();class z4 extends r{constructor(J,$){super();this.contextKeyService=J,this.model=$,this.inlineCompletionVisible=z4.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=z4.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=z4.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=z4.suppressSuggestions.bindTo(this.contextKeyService),this._register(k1((Q)=>{let X=this.model.read(Q),Y=X===null||X===void 0?void 0:X.state.read(Q),Z=!!(Y===null||Y===void 0?void 0:Y.inlineCompletion)&&(Y===null||Y===void 0?void 0:Y.ghostText)!==void 0&&!(Y===null||Y===void 0?void 0:Y.ghostText.isEmpty());if(this.inlineCompletionVisible.set(Z),(Y===null||Y===void 0?void 0:Y.ghostText)&&(Y===null||Y===void 0?void 0:Y.inlineCompletion))this.suppressSuggestions.set(Y.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(k1((Q)=>{let X=this.model.read(Q),Y=!1,Z=!0,G=X===null||X===void 0?void 0:X.ghostText.read(Q);if(!!(X===null||X===void 0?void 0:X.selectedSuggestItem)&&G&&G.parts.length>0){let{column:q,lines:U}=G.parts[0],z=U[0],H=X.textModel.getLineIndentColumn(G.lineNumber);if(q<=H){let B=s6(z);if(B===-1)B=z.length-1;Y=B>0;let V=X.textModel.getOptions().tabSize;Z=i1.visibleColumnFromColumn(z,B+1,V)<V}}this.inlineCompletionSuggestsIndentation.set(Y),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(Z)}))}}z4.inlineSuggestionVisible=new T0("inlineSuggestionVisible",!1,M("inlineSuggestionVisible","Whether an inline suggestion is visible"));z4.inlineSuggestionHasIndentation=new T0("inlineSuggestionHasIndentation",!1,M("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));z4.inlineSuggestionHasIndentationLessThanTabSize=new T0("inlineSuggestionHasIndentationLessThanTabSize",!0,M("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));z4.suppressSuggestions=new T0("inlineSuggestionSuppressSuggestions",void 0,M("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));tA();var wY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},BZ=function(J,$){return function(Q,X){$(Q,X,J)}},Fx;class FZ{static shouldAutoTrigger(J){if(!J.hasModel())return!1;let $=J.getModel(),Q=J.getPosition();$.tokenization.tokenizeIfCheap(Q.lineNumber);let X=$.getWordAtPosition(Q);if(!X)return!1;if(X.endColumn!==Q.column&&X.startColumn+1!==Q.column)return!1;if(!isNaN(Number(X.word)))return!1;return!0}constructor(J,$,Q){this.leadingLineContent=J.getLineContent($.lineNumber).substr(0,$.column-1),this.leadingWord=J.getWordUntilPosition($),this.lineNumber=$.lineNumber,this.column=$.column,this.triggerOptions=Q}}function LY0(J,$,Q){if(!Boolean($.getContextKeyValue(z4.inlineSuggestionVisible.key)))return!0;let X=$.getContextKeyValue(z4.suppressSuggestions.key);if(X!==void 0)return!X;return!J.getOption(62).suppressSuggestions}function kY0(J,$,Q){if(!Boolean($.getContextKeyValue("inlineSuggestionVisible")))return!0;let X=$.getContextKeyValue(z4.suppressSuggestions.key);if(X!==void 0)return!X;return!J.getOption(62).suppressSuggestions}var yR=Fx=class{constructor($,Q,X,Y,Z,G,q,U,z){this._editor=$,this._editorWorkerService=Q,this._clipboardService=X,this._telemetryService=Y,this._logService=Z,this._contextKeyService=G,this._configurationService=q,this._languageFeaturesService=U,this._envService=z,this._toDispose=new q0,this._triggerCharacterListener=new q0,this._triggerQuickSuggest=new E8,this._triggerState=void 0,this._completionDisposables=new q0,this._onDidCancel=new p,this._onDidTrigger=new p,this._onDidSuggest=new p,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new d0(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection((j)=>{if(!H)this._onCursorChange(j)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{if(!H&&this._triggerState!==void 0)this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){h1(this._triggerCharacterListener),h1([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;let $=new Map;for(let X of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let Y of X.triggerCharacters||[]){let Z=$.get(Y);if(!Z)Z=new Set,Z.add(Ge()),$.set(Y,Z);Z.add(X)}let Q=(X)=>{var Y;if(!kY0(this._editor,this._contextKeyService,this._configurationService))return;if(FZ.shouldAutoTrigger(this._editor))return;if(!X){let q=this._editor.getPosition();X=this._editor.getModel().getLineContent(q.lineNumber).substr(0,q.column-1)}let Z="";if(z$(X.charCodeAt(X.length-1))){if(P6(X.charCodeAt(X.length-2)))Z=X.substr(X.length-2)}else Z=X.charAt(X.length-1);let G=$.get(Z);if(G){let q=new Map;if(this._completionModel){for(let[U,z]of this._completionModel.getItemsByProvider())if(!G.has(U))q.set(U,z)}this.trigger({auto:!0,triggerKind:1,triggerCharacter:Z,retrigger:Boolean(this._completionModel),clipboardText:(Y=this._completionModel)===null||Y===void 0?void 0:Y.clipboardText,completionOptions:{providerFilter:G,providerItemsToReuse:q}})}};this._triggerCharacterListener.add(this._editor.onDidType(Q)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Q()))}get state(){if(!this._triggerState)return 0;else if(!this._triggerState.auto)return 1;else return 2}cancel($=!1){var Q;if(this._triggerState!==void 0)this._triggerQuickSuggest.cancel(),(Q=this._requestToken)===null||Q===void 0||Q.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:$})}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){if(this._triggerState!==void 0)if(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel()))this.cancel();else this.trigger({auto:this._triggerState.auto,retrigger:!0})}_onCursorChange($){if(!this._editor.hasModel())return;let Q=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!$.selection.isEmpty()||$.reason!==0&&$.reason!==3||$.source!=="keyboard"&&$.source!=="deleteLeft"){this.cancel();return}if(this._triggerState===void 0&&$.reason===0){if(Q.containsRange(this._currentSelection)||Q.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))this._doTriggerQuickSuggest()}else if(this._triggerState!==void 0&&$.reason===3)this._refilterCompletionItems()}_onCompositionEnd(){if(this._triggerState===void 0)this._doTriggerQuickSuggest();else this._refilterCompletionItems()}_doTriggerQuickSuggest(){var $;if(EU.isAllOff(this._editor.getOption(88)))return;if(this._editor.getOption(117).snippetsPreventQuickSuggestions&&(($=a5.get(this._editor))===null||$===void 0?void 0:$.isInSnippet()))return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0)return;if(!FZ.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;let Q=this._editor.getModel(),X=this._editor.getPosition(),Y=this._editor.getOption(88);if(EU.isAllOff(Y))return;if(!EU.isAllOn(Y)){Q.tokenization.tokenizeIfCheap(X.lineNumber);let Z=Q.tokenization.getLineTokens(X.lineNumber),G=Z.getStandardTokenType(Z.findTokenIndexAtOffset(Math.max(X.column-1-1,0)));if(EU.valueFor(Y,G)!=="on")return}if(!LY0(this._editor,this._contextKeyService,this._configurationService))return;if(!this._languageFeaturesService.completionProvider.has(Q))return;this.trigger({auto:!0})},this._editor.getOption(89))}_refilterCompletionItems(){D5(this._editor.hasModel()),D5(this._triggerState!==void 0);let $=this._editor.getModel(),Q=this._editor.getPosition(),X=new FZ($,Q,{...this._triggerState,refilter:!0});this._onNewContext(X)}trigger($){var Q,X,Y,Z,G,q;if(!this._editor.hasModel())return;let U=this._editor.getModel(),z=new FZ(U,this._editor.getPosition(),$);this.cancel($.retrigger),this._triggerState=$,this._onDidTrigger.fire({auto:$.auto,shy:(Q=$.shy)!==null&&Q!==void 0?Q:!1,position:this._editor.getPosition()}),this._context=z;let H={triggerKind:(X=$.triggerKind)!==null&&X!==void 0?X:0};if($.triggerCharacter)H={triggerKind:1,triggerCharacter:$.triggerCharacter};this._requestToken=new M5;let j=this._editor.getOption(111),B=1;switch(j){case"top":B=0;break;case"bottom":B=2;break}let{itemKind:V,showDeprecated:W}=Fx.createSuggestFilter(this._editor),K=new kU(B,(Z=(Y=$.completionOptions)===null||Y===void 0?void 0:Y.kindFilter)!==null&&Z!==void 0?Z:V,(G=$.completionOptions)===null||G===void 0?void 0:G.providerFilter,(q=$.completionOptions)===null||q===void 0?void 0:q.providerItemsToReuse,W),A=nJ.create(this._editorWorkerService,this._editor),F=Ux(this._languageFeaturesService.completionProvider,U,this._editor.getPosition(),K,H,this._requestToken.token);Promise.all([F,A]).then(async([P,R])=>{var D;if((D=this._requestToken)===null||D===void 0||D.dispose(),!this._editor.hasModel())return;let _=$===null||$===void 0?void 0:$.clipboardText;if(!_&&P.needsClipboard)_=await this._clipboardService.readText();if(this._triggerState===void 0)return;let O=this._editor.getModel(),N=new FZ(O,this._editor.getPosition(),$),w={...t2.default,firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly};if(this._completionModel=new WZ(P.items,this._context.column,{leadingLineContent:N.leadingLineContent,characterCountDelta:N.column-this._context.column},R,this._editor.getOption(117),this._editor.getOption(111),w,_),this._completionDisposables.add(P.disposable),this._onNewContext(N),this._reportDurationsTelemetry(P.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment){for(let T of P.items)if(T.isInvalid)this._logService.warn(`[suggest] did IGNORE invalid completion item from ${T.provider._debugDisplayName}`,T.completion)}}).catch(Z1)}_reportDurationsTelemetry($){if(this._telemetryGate++%230!==0)return;setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify($)}),this._logService.debug("suggest.durations.json",$)})}static createSuggestFilter($){let Q=new Set;if($.getOption(111)==="none")Q.add(27);let Y=$.getOption(117);if(!Y.showMethods)Q.add(0);if(!Y.showFunctions)Q.add(1);if(!Y.showConstructors)Q.add(2);if(!Y.showFields)Q.add(3);if(!Y.showVariables)Q.add(4);if(!Y.showClasses)Q.add(5);if(!Y.showStructs)Q.add(6);if(!Y.showInterfaces)Q.add(7);if(!Y.showModules)Q.add(8);if(!Y.showProperties)Q.add(9);if(!Y.showEvents)Q.add(10);if(!Y.showOperators)Q.add(11);if(!Y.showUnits)Q.add(12);if(!Y.showValues)Q.add(13);if(!Y.showConstants)Q.add(14);if(!Y.showEnums)Q.add(15);if(!Y.showEnumMembers)Q.add(16);if(!Y.showKeywords)Q.add(17);if(!Y.showWords)Q.add(18);if(!Y.showColors)Q.add(19);if(!Y.showFiles)Q.add(20);if(!Y.showReferences)Q.add(21);if(!Y.showColors)Q.add(22);if(!Y.showFolders)Q.add(23);if(!Y.showTypeParameters)Q.add(24);if(!Y.showSnippets)Q.add(27);if(!Y.showUsers)Q.add(25);if(!Y.showIssues)Q.add(26);return{itemKind:Q,showDeprecated:Y.showDeprecated}}_onNewContext($){if(!this._context)return;if($.lineNumber!==this._context.lineNumber){this.cancel();return}if(W5($.leadingLineContent)!==W5(this._context.leadingLineContent)){this.cancel();return}if($.column<this._context.column){if($.leadingWord.word)this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});else this.cancel();return}if(!this._completionModel)return;if($.leadingWord.word.length!==0&&$.leadingWord.startColumn>this._context.leadingWord.startColumn){if(FZ.shouldAutoTrigger(this._editor)&&this._context){let X=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:X}})}return}if($.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&$.leadingWord.word.length!==0){let Q=new Map,X=new Set;for(let[Y,Z]of this._completionModel.getItemsByProvider())if(Z.length>0&&Z[0].container.incomplete)X.add(Y);else Q.set(Y,Z);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:X,providerItemsToReuse:Q}})}else{let Q=this._completionModel.lineContext,X=!1;if(this._completionModel.lineContext={leadingLineContent:$.leadingLineContent,characterCountDelta:$.column-this._context.column},this._completionModel.items.length===0){let Y=FZ.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Y&&this._context.leadingWord.endColumn<$.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(!this._context.triggerOptions.auto){if(this._completionModel.lineContext=Q,X=this._completionModel.items.length>0,X&&$.leadingWord.word.length===0){this.cancel();return}}else{this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:$.triggerOptions,isFrozen:X})}}};yR=Fx=wY0([BZ(1,T9),BZ(2,$Z),BZ(3,z7),BZ(4,A5),BZ(5,s0),BZ(6,p1),BZ(7,M1),BZ(8,kq)],yR);B0();class YW{constructor(J,$){this._disposables=new q0,this._lastOvertyped=[],this._locked=!1,this._disposables.add(J.onWillType(()=>{if(this._locked||!J.hasModel())return;let Q=J.getSelections(),X=Q.length,Y=!1;for(let G=0;G<X;G++)if(!Q[G].isEmpty()){Y=!0;break}if(!Y){if(this._lastOvertyped.length!==0)this._lastOvertyped.length=0;return}this._lastOvertyped=[];let Z=J.getModel();for(let G=0;G<X;G++){let q=Q[G];if(Z.getValueLengthInRange(q)>YW._maxSelectionLength)return;this._lastOvertyped[G]={value:Z.getValueInRange(q),multiline:q.startLineNumber!==q.endLineNumber}}})),this._disposables.add($.onDidTrigger((Q)=>{this._locked=!0})),this._disposables.add($.onDidCancel((Q)=>{this._locked=!1}))}getLastOvertypedInfo(J){if(J>=0&&J<this._lastOvertyped.length)return this._lastOvertyped[J];return}dispose(){this._disposables.dispose()}}YW._maxSelectionLength=51200;x0();GG();J6();T1();E0();B0();G1();_0(".monaco-editor .suggest-widget{z-index:40;border-radius:3px;flex-direction:column;width:430px;display:flex}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-widget,.monaco-editor .suggest-details{border-style:solid;border-width:1px;border-color:var(--vscode-editorSuggestWidget-border);background-color:var(--vscode-editorSuggestWidget-background);flex:0 auto;width:100%}.monaco-editor.hc-black .suggest-widget,.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-light .suggest-widget,.monaco-editor.hc-light .suggest-details{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;border-top:1px solid var(--vscode-editorSuggestWidget-border);flex-flow:row;justify-content:space-between;width:100%;padding:0 4px;font-size:80%;display:none;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{color:var(--vscode-editorSuggestWidgetStatus-foreground)}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:\", \";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{width:100%;height:100%}.monaco-editor .suggest-widget .monaco-list{-webkit-user-select:none;user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{-mox-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;cursor:pointer;touch-action:none;background-position:2px 2px;background-repeat:no-repeat;padding-right:10px;display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused{color:var(--vscode-editorSuggestWidget-selectedForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon{color:var(--vscode-editorSuggestWidget-selectedIconForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;padding-left:2px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{text-overflow:ellipsis;white-space:pre;justify-content:space-between;display:flex;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label{color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-highlightForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-focusHighlightForeground)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;cursor:pointer;font-size:14px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{text-overflow:ellipsis;opacity:.6;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{opacity:.4;font-size:85%;line-height:initial;text-overflow:ellipsis;align-self:center;margin-left:12px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{text-overflow:ellipsis;white-space:nowrap;margin-left:1.1em;font-size:85%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-grow:1;flex-shrink:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{flex-shrink:4;max-width:70%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{visibility:hidden;width:18px;height:18px;display:inline-block;position:absolute;right:10px}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{background-position:50%;background-repeat:no-repeat;background-size:80%;width:16px;height:16px;margin-left:2px;display:block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{align-items:center;margin-right:4px;display:flex}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{border:.1em solid #000;width:.7em;height:.7em;margin:0 0 0 .3em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{cursor:default;color:var(--vscode-editorSuggestWidget-foreground);flex-direction:column;display:flex}.monaco-editor .suggest-details.focused{border-color:var(--vscode-focusBorder)}.monaco-editor .suggest-details a{color:var(--vscode-textLink-foreground)}.monaco-editor .suggest-details a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .suggest-details code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;width:100%;height:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{text-overflow:ellipsis;opacity:.7;white-space:pre;flex:2;margin:0 24px 0 0;padding:4px 0 12px 5px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{white-space:pre-wrap;margin:0;padding:4px 5px}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{white-space:initial;min-height:calc(1rem + 8px);padding:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ul,.monaco-editor .suggest-details ol{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}");P7();V9();lA();d8();e9();RJ();G7();e1();n0();PX();G5();var EY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},hX=function(J,$){return function(Q,X){$(Q,X,J)}},xR=class extends RX{constructor($,Q,X,Y,Z,G,q,U,z,H,j,B,V){super($,{...Y.getRawOptions(),overflowWidgetsDomNode:Y.getOverflowWidgetsDomNode()},X,Z,G,q,U,z,H,j,B,V);this._parentEditor=Y,this._overwriteOptions=Q,super.updateOptions(this._overwriteOptions),this._register(Y.onDidChangeConfiguration((W)=>this._onParentConfigurationChanged(W)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged($){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions($){ZM(this._overwriteOptions,$,!0),super.updateOptions(this._overwriteOptions)}};xR=EY0([hX(4,r0),hX(5,X6),hX(6,T5),hX(7,s0),hX(8,Z5),hX(9,X8),hX(10,I8),hX(11,f6),hX(12,M1)],xR);x0();JQ();B0();a0();uP();_4();e1();n0();var IY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Kx=function(J,$){return function(Q,X){$(Q,X,J)}};class Ax extends nq{updateLabel(){let J=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!J)return super.updateLabel();if(this.label)this.label.textContent=M({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Ax.symbolPrintEnter(J))}static symbolPrintEnter(J){var $;return($=J.getLabel())===null||$===void 0?void 0:$.replace(/\benter\b/gi,"⏎")}}var bR=class{constructor($,Q,X,Y,Z){this._menuId=Q,this._menuService=Y,this._contextKeyService=Z,this._menuDisposables=new q0,this.element=P0($,M0(".suggest-status-bar"));let G=(q)=>{return q instanceof M4?X.createInstance(Ax,q,void 0):void 0};this._leftActions=new R8(this.element,{actionViewItemProvider:G}),this._rightActions=new R8(this.element,{actionViewItemProvider:G}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){let $=this._menuService.createMenu(this._menuId,this._contextKeyService),Q=()=>{let X=[],Y=[];for(let[Z,G]of $.getActions())if(Z==="left")X.push(...G);else Y.push(...G);this._leftActions.clear(),this._leftActions.push(X),this._rightActions.clear(),this._rightActions.push(Y)};this._menuDisposables.add($.onDidChange(()=>Q())),this._menuDisposables.add($)}hide(){this._menuDisposables.clear()}};bR=IY0([Kx(2,r0),Kx(3,O4),Kx(4,s0)],bR);_0(".monaco-editor .codicon.codicon-symbol-array,.monaco-workbench .codicon.codicon-symbol-array{color:var(--vscode-symbolIcon-arrayForeground)}.monaco-editor .codicon.codicon-symbol-boolean,.monaco-workbench .codicon.codicon-symbol-boolean{color:var(--vscode-symbolIcon-booleanForeground)}.monaco-editor .codicon.codicon-symbol-class,.monaco-workbench .codicon.codicon-symbol-class{color:var(--vscode-symbolIcon-classForeground)}.monaco-editor .codicon.codicon-symbol-method,.monaco-workbench .codicon.codicon-symbol-method{color:var(--vscode-symbolIcon-methodForeground)}.monaco-editor .codicon.codicon-symbol-color,.monaco-workbench .codicon.codicon-symbol-color{color:var(--vscode-symbolIcon-colorForeground)}.monaco-editor .codicon.codicon-symbol-constant,.monaco-workbench .codicon.codicon-symbol-constant{color:var(--vscode-symbolIcon-constantForeground)}.monaco-editor .codicon.codicon-symbol-constructor,.monaco-workbench .codicon.codicon-symbol-constructor{color:var(--vscode-symbolIcon-constructorForeground)}.monaco-editor .codicon.codicon-symbol-value,.monaco-workbench .codicon.codicon-symbol-value,.monaco-editor .codicon.codicon-symbol-enum,.monaco-workbench .codicon.codicon-symbol-enum{color:var(--vscode-symbolIcon-enumeratorForeground)}.monaco-editor .codicon.codicon-symbol-enum-member,.monaco-workbench .codicon.codicon-symbol-enum-member{color:var(--vscode-symbolIcon-enumeratorMemberForeground)}.monaco-editor .codicon.codicon-symbol-event,.monaco-workbench .codicon.codicon-symbol-event{color:var(--vscode-symbolIcon-eventForeground)}.monaco-editor .codicon.codicon-symbol-field,.monaco-workbench .codicon.codicon-symbol-field{color:var(--vscode-symbolIcon-fieldForeground)}.monaco-editor .codicon.codicon-symbol-file,.monaco-workbench .codicon.codicon-symbol-file{color:var(--vscode-symbolIcon-fileForeground)}.monaco-editor .codicon.codicon-symbol-folder,.monaco-workbench .codicon.codicon-symbol-folder{color:var(--vscode-symbolIcon-folderForeground)}.monaco-editor .codicon.codicon-symbol-function,.monaco-workbench .codicon.codicon-symbol-function{color:var(--vscode-symbolIcon-functionForeground)}.monaco-editor .codicon.codicon-symbol-interface,.monaco-workbench .codicon.codicon-symbol-interface{color:var(--vscode-symbolIcon-interfaceForeground)}.monaco-editor .codicon.codicon-symbol-key,.monaco-workbench .codicon.codicon-symbol-key{color:var(--vscode-symbolIcon-keyForeground)}.monaco-editor .codicon.codicon-symbol-keyword,.monaco-workbench .codicon.codicon-symbol-keyword{color:var(--vscode-symbolIcon-keywordForeground)}.monaco-editor .codicon.codicon-symbol-module,.monaco-workbench .codicon.codicon-symbol-module{color:var(--vscode-symbolIcon-moduleForeground)}.monaco-editor .codicon.codicon-symbol-namespace,.monaco-workbench .codicon.codicon-symbol-namespace{color:var(--vscode-symbolIcon-namespaceForeground)}.monaco-editor .codicon.codicon-symbol-null,.monaco-workbench .codicon.codicon-symbol-null{color:var(--vscode-symbolIcon-nullForeground)}.monaco-editor .codicon.codicon-symbol-number,.monaco-workbench .codicon.codicon-symbol-number{color:var(--vscode-symbolIcon-numberForeground)}.monaco-editor .codicon.codicon-symbol-object,.monaco-workbench .codicon.codicon-symbol-object{color:var(--vscode-symbolIcon-objectForeground)}.monaco-editor .codicon.codicon-symbol-operator,.monaco-workbench .codicon.codicon-symbol-operator{color:var(--vscode-symbolIcon-operatorForeground)}.monaco-editor .codicon.codicon-symbol-package,.monaco-workbench .codicon.codicon-symbol-package{color:var(--vscode-symbolIcon-packageForeground)}.monaco-editor .codicon.codicon-symbol-property,.monaco-workbench .codicon.codicon-symbol-property{color:var(--vscode-symbolIcon-propertyForeground)}.monaco-editor .codicon.codicon-symbol-reference,.monaco-workbench .codicon.codicon-symbol-reference{color:var(--vscode-symbolIcon-referenceForeground)}.monaco-editor .codicon.codicon-symbol-snippet,.monaco-workbench .codicon.codicon-symbol-snippet{color:var(--vscode-symbolIcon-snippetForeground)}.monaco-editor .codicon.codicon-symbol-string,.monaco-workbench .codicon.codicon-symbol-string{color:var(--vscode-symbolIcon-stringForeground)}.monaco-editor .codicon.codicon-symbol-struct,.monaco-workbench .codicon.codicon-symbol-struct{color:var(--vscode-symbolIcon-structForeground)}.monaco-editor .codicon.codicon-symbol-text,.monaco-workbench .codicon.codicon-symbol-text{color:var(--vscode-symbolIcon-textForeground)}.monaco-editor .codicon.codicon-symbol-type-parameter,.monaco-workbench .codicon.codicon-symbol-type-parameter{color:var(--vscode-symbolIcon-typeParameterForeground)}.monaco-editor .codicon.codicon-symbol-unit,.monaco-workbench .codicon.codicon-symbol-unit{color:var(--vscode-symbolIcon-unitForeground)}.monaco-editor .codicon.codicon-symbol-variable,.monaco-workbench .codicon.codicon-symbol-variable{color:var(--vscode-symbolIcon-variableForeground)}");a0();x8();var SQ1=f("symbolIcon.arrayForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),CQ1=f("symbolIcon.booleanForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vQ1=f("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},M("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hQ1=f("symbolIcon.colorForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fQ1=f("symbolIcon.constantForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gQ1=f("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},M("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pQ1=f("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},M("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mQ1=f("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},M("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uQ1=f("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},M("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cQ1=f("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},M("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lQ1=f("symbolIcon.fileForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dQ1=f("symbolIcon.folderForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sQ1=f("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},M("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aQ1=f("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},M("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rQ1=f("symbolIcon.keyForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),iQ1=f("symbolIcon.keywordForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nQ1=f("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},M("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oQ1=f("symbolIcon.moduleForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tQ1=f("symbolIcon.namespaceForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),eQ1=f("symbolIcon.nullForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JX1=f("symbolIcon.numberForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$X1=f("symbolIcon.objectForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QX1=f("symbolIcon.operatorForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XX1=f("symbolIcon.packageForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YX1=f("symbolIcon.propertyForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZX1=f("symbolIcon.referenceForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GX1=f("symbolIcon.snippetForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qX1=f("symbolIcon.stringForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),UX1=f("symbolIcon.structForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zX1=f("symbolIcon.textForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HX1=f("symbolIcon.typeParameterForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jX1=f("symbolIcon.unitForeground",{dark:F0,light:F0,hcDark:F0,hcLight:F0},M("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),VX1=f("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},M("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));a0();e1();n0();rq();x8();eQ();G5();x0();oP();E0();B0();class ZW{constructor(){this._onDidWillResize=new p,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new p,this.onDidResize=this._onDidResize.event,this._sashListener=new q0,this._size=new Y6(0,0),this._minSize=new Y6(0,0),this._maxSize=new Y6(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new M8(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new M8(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new M8(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:rj.North}),this._southSash=new M8(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:rj.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let J,$=0,Q=0;this._sashListener.add(V0.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{if(J===void 0)this._onDidWillResize.fire(),J=this._size,$=0,Q=0})),this._sashListener.add(V0.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{if(J!==void 0)J=void 0,$=0,Q=0,this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(this._eastSash.onDidChange((X)=>{if(J)Q=X.currentX-X.startX,this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,east:!0})})),this._sashListener.add(this._westSash.onDidChange((X)=>{if(J)Q=-(X.currentX-X.startX),this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,west:!0})})),this._sashListener.add(this._northSash.onDidChange((X)=>{if(J)$=-(X.currentY-X.startY),this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,north:!0})})),this._sashListener.add(this._southSash.onDidChange((X)=>{if(J)$=X.currentY-X.startY,this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,south:!0})})),this._sashListener.add(V0.any(this._eastSash.onDidReset,this._westSash.onDidReset)((X)=>{if(this._preferredSize)this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(V0.any(this._northSash.onDidReset,this._southSash.onDidReset)((X)=>{if(this._preferredSize)this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0})}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(J,$,Q,X){this._northSash.state=J?3:0,this._eastSash.state=$?3:0,this._southSash.state=Q?3:0,this._westSash.state=X?3:0}layout(J=this.size.height,$=this.size.width){let{height:Q,width:X}=this._minSize,{height:Y,width:Z}=this._maxSize;J=Math.max(Q,Math.min(Y,J)),$=Math.max(X,Math.min(Z,$));let G=new Y6($,J);if(!Y6.equals(G,this._size))this.domNode.style.height=J+"px",this.domNode.style.width=$+"px",this._size=G,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout()}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(J){this._maxSize=J}get maxSize(){return this._maxSize}set minSize(J){this._minSize=J}get minSize(){return this._minSize}set preferredSize(J){this._preferredSize=J}get preferredSize(){return this._preferredSize}}x0();EJ();O5();N5();E0();e2();B0();kk();a0();n0();var yY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},xY0=function(J,$){return function(Q,X){$(Q,X,J)}};function GW(J){return!!J&&Boolean(J.completion.documentation||J.completion.detail&&J.completion.detail!==J.completion.label)}var SR=class{constructor($,Q){this._editor=$,this._onDidClose=new p,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new p,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new q0,this._renderDisposeable=new q0,this._borderWidth=1,this._size=new Y6(330,0),this.domNode=M0(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Q.createInstance(JG,{editor:$}),this._body=M0(".body"),this._scrollbar=new XX(this._body,{alwaysConsumeMouseWheel:!0}),P0(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=P0(this._body,M0(".header")),this._close=P0(this._header,M0("span"+c0.asCSSSelector(O0.close))),this._close.title=M("details.close","Close"),this._type=P0(this._header,M0("p.type")),this._docs=P0(this._body,M0("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((X)=>{if(X.hasChanged(50))this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let $=this._editor.getOptions(),Q=$.get(50),X=Q.getMassagedFontFamily(),Y=$.get(118)||Q.fontSize,Z=$.get(119)||Q.lineHeight,G=Q.fontWeight,q=`${Y}px`,U=`${Z}px`;this.domNode.style.fontSize=q,this.domNode.style.lineHeight=`${Z/Y}`,this.domNode.style.fontWeight=G,this.domNode.style.fontFeatureSettings=Q.fontFeatureSettings,this._type.style.fontFamily=X,this._close.style.height=U,this._close.style.width=U}getLayoutInfo(){let $=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,Q=this._borderWidth,X=Q*2;return{lineHeight:$,borderWidth:Q,borderHeight:X,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=M("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem($,Q){var X,Y;this._renderDisposeable.clear();let{detail:Z,documentation:G}=$.completion;if(Q){let q="";q+=`score: ${$.score[0]}
`,q+=`prefix: ${(X=$.word)!==null&&X!==void 0?X:"(no prefix)"}
`,q+=`word: ${$.completion.filterText?$.completion.filterText+" (filterText)":$.textLabel}
`,q+=`distance: ${$.distance} (localityBonus-setting)
`,q+=`index: ${$.idx}, based on ${$.completion.sortText&&`sortText: "${$.completion.sortText}"`||"label"}
`,q+=`commit_chars: ${(Y=$.completion.commitCharacters)===null||Y===void 0?void 0:Y.join("")}
`,G=new bq().appendCodeblock("empty",q),Z=`Provider: ${$.provider._debugDisplayName}`}if(!Q&&!GW($)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Z){let q=Z.length>1e5?`${Z.substr(0,1e5)}…`:Z;this._type.textContent=q,this._type.title=q,p7(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(q))}else c5(this._type),this._type.title="",m7(this._type),this.domNode.classList.add("no-type");if(c5(this._docs),typeof G==="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=G;else if(G){this._docs.classList.add("markdown-docs"),c5(this._docs);let q=this._markdownRenderer.render(G);this._docs.appendChild(q.element),this._renderDisposeable.add(q),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=(q)=>{q.preventDefault(),q.stopPropagation()},this._close.onclick=(q)=>{q.preventDefault(),q.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout($,Q){let X=new Y6($,Q);if(!Y6.equals(X,this._size))this._size=X,IC(this.domNode,$,Q);this._scrollbar.scanDomNode()}scrollDown($=8){this._body.scrollTop+=$}scrollUp($=8){this._body.scrollTop-=$}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth($){this._borderWidth=$}get borderWidth(){return this._borderWidth}};SR=yY0([xY0(1,r0)],SR);class Px{constructor(J,$){this.widget=J,this._editor=$,this.allowEditorOverflow=!0,this._disposables=new q0,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new ZW,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(J.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Q,X,Y=0,Z=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Q=this._topLeft,X=this._resizable.size})),this._disposables.add(this._resizable.onDidResize((G)=>{if(Q&&X){this.widget.layout(G.dimension.width,G.dimension.height);let q=!1;if(G.west)Z=X.width-G.dimension.width,q=!0;if(G.north)Y=X.height-G.dimension.height,q=!0;if(q)this._applyTopLeft({top:Q.top+Y,left:Q.left+Z})}if(G.done)Q=void 0,X=void 0,Y=0,Z=0,this._userSize=G.dimension})),this._disposables.add(this.widget.onDidChangeContents(()=>{var G;if(this._anchorBox)this._placeAtAnchor(this._anchorBox,(G=this._userSize)!==null&&G!==void 0?G:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){if(!this._added)this._editor.addOverlayWidget(this),this._added=!0}hide(J=!1){if(this._resizable.clearSashHoverState(),this._added)this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0;if(J)this._userSize=void 0,this.widget.clearContents()}placeAtAnchor(J,$){var Q;let X=J.getBoundingClientRect();this._anchorBox=X,this._preferAlignAtTop=$,this._placeAtAnchor(this._anchorBox,(Q=this._userSize)!==null&&Q!==void 0?Q:this.widget.size,$)}_placeAtAnchor(J,$,Q){var X;let Y=K$(this.getDomNode().ownerDocument.body),Z=this.widget.getLayoutInfo(),G=new Y6(220,2*Z.lineHeight),q=J.top,U=function(){let _=Y.width-(J.left+J.width+Z.borderWidth+Z.horizontalPadding),O=-Z.borderWidth+J.left+J.width,N=new Y6(_,Y.height-J.top-Z.borderHeight-Z.verticalPadding),w=N.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:O,fit:_-$.width,maxSizeTop:N,maxSizeBottom:w,minSize:G.with(Math.min(_,G.width))}}(),z=function(){let _=J.left-Z.borderWidth-Z.horizontalPadding,O=Math.max(Z.horizontalPadding,J.left-$.width-Z.borderWidth),N=new Y6(_,Y.height-J.top-Z.borderHeight-Z.verticalPadding),w=N.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:O,fit:_-$.width,maxSizeTop:N,maxSizeBottom:w,minSize:G.with(Math.min(_,G.width))}}(),H=function(){let _=J.left,O=-Z.borderWidth+J.top+J.height,N=new Y6(J.width-Z.borderHeight,Y.height-J.top-J.height-Z.verticalPadding);return{top:O,left:_,fit:N.height-$.height,maxSizeBottom:N,maxSizeTop:N,minSize:G.with(N.width)}}(),j=[U,z,H],B=(X=j.find((_)=>_.fit>=0))!==null&&X!==void 0?X:j.sort((_,O)=>O.fit-_.fit)[0],V=J.top+J.height-Z.borderHeight,W,K=$.height,A=Math.max(B.maxSizeTop.height,B.maxSizeBottom.height);if(K>A)K=A;let F;if(Q)if(K<=B.maxSizeTop.height)W=!0,F=B.maxSizeTop;else W=!1,F=B.maxSizeBottom;else if(K<=B.maxSizeBottom.height)W=!1,F=B.maxSizeBottom;else W=!0,F=B.maxSizeTop;let{top:P,left:R}=B;if(!W&&K>J.height)P=V-K;let D=this._editor.getDomNode();if(D){let _=D.getBoundingClientRect();P-=_.top,R-=_.left}this._applyTopLeft({left:R,top:P}),this._resizable.enableSashes(!W,B===U,W,B!==U),this._resizable.minSize=B.minSize,this._resizable.maxSize=F,this._resizable.layout(K,Math.min(F.width,$.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(J){this._topLeft=J,this._editor.layoutOverlayWidget(this)}}x0();XI();O5();N5();E0();lY();B0();V5();w8();K9();u$();I4();var n4;(function(J){J[J.FILE=0]="FILE",J[J.FOLDER=1]="FOLDER",J[J.ROOT_FOLDER=2]="ROOT_FOLDER"})(n4||(n4={}));var bY0=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function qW(J,$,Q,X,Y){if(Y)return[`codicon-${Y.id}`,"predefined-file-icon"];let Z=X===n4.ROOT_FOLDER?["rootfolder-icon"]:X===n4.FOLDER?["folder-icon"]:["file-icon"];if(Q){let G;if(Q.scheme===H1.data)G=O9.parseMetaData(Q).get(O9.META_DATA_LABEL);else{let q=Q.path.match(bY0);if(q){if(G=CR(q[2].toLowerCase()),q[1])Z.push(`${CR(q[1].toLowerCase())}-name-dir-icon`)}else G=CR(Q.authority.toLowerCase())}if(X===n4.ROOT_FOLDER)Z.push(`${G}-root-name-folder-icon`);else if(X===n4.FOLDER)Z.push(`${G}-name-folder-icon`);else{if(G){if(Z.push(`${G}-name-file-icon`),Z.push("name-file-icon"),G.length<=255){let U=G.split(".");for(let z=1;z<U.length;z++)Z.push(`${U.slice(z).join(".")}-ext-file-icon`)}Z.push("ext-file-icon")}let q=SY0(J,$,Q);if(q)Z.push(`${CR(q)}-lang-file-icon`)}}return Z}function SY0(J,$,Q){if(!Q)return null;let X=null;if(Q.scheme===H1.data){let Z=O9.parseMetaData(Q).get(O9.META_DATA_MIME);if(Z)X=$.getLanguageIdByMimeType(Z)}else{let Y=J.getModel(Q);if(Y)X=Y.getLanguageId()}if(X&&X!==S5)return X;return $.guessLanguageIdByFilepathOrFirstLine(Q)}function CR(J){return J.replace(/[\11\12\14\15\40]/g,"/")}kQ();d9();a0();VU();G5();var CY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Dx=function(J,$){return function(Q,X){$(Q,X,J)}},KZ;function Mx(J){return`suggest-aria-id:${J}`}var vY0=V7("suggest-more-info",O0.chevronRight,M("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),hY0=new(KZ=class{extract($,Q){if($.textLabel.match(KZ._regexStrict))return Q[0]=$.textLabel,!0;if($.completion.detail&&$.completion.detail.match(KZ._regexStrict))return Q[0]=$.completion.detail,!0;if($.completion.documentation){let X=typeof $.completion.documentation==="string"?$.completion.documentation:$.completion.documentation.value,Y=KZ._regexRelaxed.exec(X);if(Y&&(Y.index===0||Y.index+Y[0].length===X.length))return Q[0]=Y[0],!0}return!1}},KZ._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,KZ._regexStrict=new RegExp(`^${KZ._regexRelaxed.source}$`,"i"),KZ),vR=class{constructor($,Q,X,Y){this._editor=$,this._modelService=Q,this._languageService=X,this._themeService=Y,this._onDidToggleDetails=new p,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate($){let Q=new q0,X=$;X.classList.add("show-file-icons");let Y=P0($,M0(".icon")),Z=P0(Y,M0("span.colorspan")),G=P0($,M0(".contents")),q=P0(G,M0(".main")),U=P0(q,M0(".icon-label.codicon")),z=P0(q,M0("span.left")),H=P0(q,M0("span.right")),j=new qU(z,{supportHighlights:!0,supportIcons:!0});Q.add(j);let B=P0(z,M0("span.signature-label")),V=P0(z,M0("span.qualifier-label")),W=P0(H,M0("span.details-label")),K=P0(H,M0("span.readMore"+c0.asCSSSelector(vY0)));return K.title=M("readMore","Read More"),{root:X,left:z,right:H,icon:Y,colorspan:Z,iconLabel:j,iconContainer:U,parametersLabel:B,qualifierLabel:V,detailsLabel:W,readMore:K,disposables:Q,configureFont:()=>{let F=this._editor.getOptions(),P=F.get(50),R=P.getMassagedFontFamily(),D=P.fontFeatureSettings,_=F.get(118)||P.fontSize,O=F.get(119)||P.lineHeight,N=P.fontWeight,w=P.letterSpacing,T=`${_}px`,I=`${O}px`,k=`${w}px`;X.style.fontSize=T,X.style.fontWeight=N,X.style.letterSpacing=k,q.style.fontFamily=R,q.style.fontFeatureSettings=D,q.style.lineHeight=I,Y.style.height=I,Y.style.width=I,K.style.height=I,K.style.width=I}}}renderElement($,Q,X){X.configureFont();let{completion:Y}=$;X.root.id=Mx(Q),X.colorspan.style.backgroundColor="";let Z={labelEscapeNewLines:!0,matches:Bk($.score)},G=[];if(Y.kind===19&&hY0.extract($,G))X.icon.className="icon customcolor",X.iconContainer.className="icon hide",X.colorspan.style.backgroundColor=G[0];else if(Y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){X.icon.className="icon hide",X.iconContainer.className="icon hide";let q=qW(this._modelService,this._languageService,m0.from({scheme:"fake",path:$.textLabel}),n4.FILE),U=qW(this._modelService,this._languageService,m0.from({scheme:"fake",path:Y.detail}),n4.FILE);Z.extraClasses=q.length>U.length?q:U}else if(Y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons)X.icon.className="icon hide",X.iconContainer.className="icon hide",Z.extraClasses=[qW(this._modelService,this._languageService,m0.from({scheme:"fake",path:$.textLabel}),n4.FOLDER),qW(this._modelService,this._languageService,m0.from({scheme:"fake",path:Y.detail}),n4.FOLDER)].flat();else X.icon.className="icon hide",X.iconContainer.className="",X.iconContainer.classList.add("suggest-icon",...c0.asClassNameArray(gZ.toIcon(Y.kind)));if(Y.tags&&Y.tags.indexOf(1)>=0)Z.extraClasses=(Z.extraClasses||[]).concat(["deprecated"]),Z.matches=[];if(X.iconLabel.setLabel($.textLabel,void 0,Z),typeof Y.label==="string")X.parametersLabel.textContent="",X.detailsLabel.textContent=Rx(Y.detail||""),X.root.classList.add("string-label");else X.parametersLabel.textContent=Rx(Y.label.detail||""),X.detailsLabel.textContent=Rx(Y.label.description||""),X.root.classList.remove("string-label");if(this._editor.getOption(117).showInlineDetails)p7(X.detailsLabel);else m7(X.detailsLabel);if(GW($))X.right.classList.add("can-expand-details"),p7(X.readMore),X.readMore.onmousedown=(q)=>{q.stopPropagation(),q.preventDefault()},X.readMore.onclick=(q)=>{q.stopPropagation(),q.preventDefault(),this._onDidToggleDetails.fire()};else X.right.classList.remove("can-expand-details"),m7(X.readMore),X.readMore.onmousedown=null,X.readMore.onclick=null}disposeTemplate($){$.disposables.dispose()}};vR=CY0([Dx(1,_5),Dx(2,H6),Dx(3,Z5)],vR);function Rx(J){return J.replace(/\r\n|\r|\n/g,"")}iq();KY();var fY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},hR=function(J,$){return function(Q,X){$(Q,X,J)}},xU;f("editorSuggestWidget.background",{dark:a6,light:a6,hcDark:a6,hcLight:a6},M("editorSuggestWidgetBackground","Background color of the suggest widget."));f("editorSuggestWidget.border",{dark:NJ,light:NJ,hcDark:NJ,hcLight:NJ},M("editorSuggestWidgetBorder","Border color of the suggest widget."));var fR=f("editorSuggestWidget.foreground",{dark:E$,light:E$,hcDark:E$,hcLight:E$},M("editorSuggestWidgetForeground","Foreground color of the suggest widget."));f("editorSuggestWidget.selectedForeground",{dark:I$,light:I$,hcDark:I$,hcLight:I$},M("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));f("editorSuggestWidget.selectedIconForeground",{dark:tQ,light:tQ,hcDark:tQ,hcLight:tQ},M("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var gY0=f("editorSuggestWidget.selectedBackground",{dark:y$,light:y$,hcDark:y$,hcLight:y$},M("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));f("editorSuggestWidget.highlightForeground",{dark:oQ,light:oQ,hcDark:oQ,hcLight:oQ},M("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));f("editorSuggestWidget.focusHighlightForeground",{dark:MH,light:MH,hcDark:MH,hcLight:MH},M("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));f("editorSuggestWidgetStatus.foreground",{dark:g0(fR,0.5),light:g0(fR,0.5),hcDark:g0(fR,0.5),hcLight:g0(fR,0.5)},M("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Fe{constructor(J,$){this._service=J,this._key=`suggestWidget.size/${$.getEditorType()}/${$ instanceof xR}`}restore(){var J;let $=(J=this._service.get(this._key,0))!==null&&J!==void 0?J:"";try{let Q=JSON.parse($);if(Y6.is(Q))return Y6.lift(Q)}catch(Q){}return}store(J){this._service.store(this._key,JSON.stringify(J),0,1)}reset(){this._service.remove(this._key,0)}}var bU=xU=class{constructor($,Q,X,Y,Z){this.editor=$,this._storageService=Q,this._state=0,this._isAuto=!1,this._pendingLayout=new r5,this._pendingShowDetails=new r5,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new E8,this._disposables=new q0,this._onDidSelect=new F4,this._onDidFocus=new F4,this._onDidHide=new p,this._onDidShow=new p,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new p,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ZW,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ke(this,$),this._persistedSize=new Fe(Q,$);class G{constructor(B,V,W=!1,K=!1){this.persistedSize=B,this.currentSize=V,this.persistHeight=W,this.persistWidth=K}}let q;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),q=new G(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize((B)=>{var V,W,K,A;if(this._resize(B.dimension.width,B.dimension.height),q)q.persistHeight=q.persistHeight||!!B.north||!!B.south,q.persistWidth=q.persistWidth||!!B.east||!!B.west;if(!B.done)return;if(q){let{itemHeight:F,defaultSize:P}=this.getLayoutInfo(),R=Math.round(F/2),{width:D,height:_}=this.element.size;if(!q.persistHeight||Math.abs(q.currentSize.height-_)<=R)_=(W=(V=q.persistedSize)===null||V===void 0?void 0:V.height)!==null&&W!==void 0?W:P.height;if(!q.persistWidth||Math.abs(q.currentSize.width-D)<=R)D=(A=(K=q.persistedSize)===null||K===void 0?void 0:K.width)!==null&&A!==void 0?A:P.width;this._persistedSize.store(new Y6(D,_))}this._contentWidget.unlockPreference(),q=void 0})),this._messageElement=P0(this.element.domNode,M0(".message")),this._listElement=P0(this.element.domNode,M0(".tree"));let U=this._disposables.add(Z.createInstance(SR,this.editor));U.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Px(U,this.editor);let z=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);z();let H=Z.createInstance(vR,this.editor);this._disposables.add(H),this._disposables.add(H.onDidToggleDetails(()=>this.toggleDetails())),this._list=new o8("SuggestWidget",this._listElement,{getHeight:(B)=>this.getLayoutInfo().itemHeight,getTemplateId:(B)=>"suggestion"},[H],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>M("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:(B)=>{let V=B.textLabel;if(typeof B.completion.label!=="string"){let{detail:F,description:P}=B.completion.label;if(F&&P)V=M("label.full","{0} {1}, {2}",V,F,P);else if(F)V=M("label.detail","{0} {1}",V,F);else if(P)V=M("label.desc","{0}, {1}",V,P)}if(!B.isResolved||!this._isDetailsVisible())return V;let{documentation:W,detail:K}=B.completion,A=tX("{0}{1}",K||"",W?typeof W==="string"?W:W.value:"");return M("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",V,A)}}}),this._list.style(EX({listInactiveFocusBackground:gY0,listInactiveFocusOutline:_6})),this._status=Z.createInstance(bR,this.element.domNode,zQ);let j=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);j(),this._disposables.add(Y.onDidColorThemeChange((B)=>this._onThemeChange(B))),this._onThemeChange(Y.getColorTheme()),this._disposables.add(this._list.onMouseDown((B)=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap((B)=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection((B)=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus((B)=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration((B)=>{if(B.hasChanged(117))j(),z();if(this._completionModel&&(B.hasChanged(50)||B.hasChanged(118)||B.hasChanged(119)))this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=V1.Visible.bindTo(X),this._ctxSuggestWidgetDetailsVisible=V1.DetailsVisible.bindTo(X),this._ctxSuggestWidgetMultipleSuggestions=V1.MultipleSuggestions.bindTo(X),this._ctxSuggestWidgetHasFocusedSuggestion=V1.HasFocusedSuggestion.bindTo(X),this._disposables.add(q6(this._details.widget.domNode,"keydown",(B)=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown((B)=>this._onEditorMouseDown(B)))}dispose(){var $;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown($){if(this._details.widget.domNode.contains($.target.element))this._details.widget.domNode.focus();else if(this.element.domNode.contains($.target.element))this.editor.focus()}_onCursorSelectionChanged(){if(this._state!==0)this._contentWidget.layout()}_onListMouseDownOrTap($){if(typeof $.element>"u"||typeof $.index>"u")return;$.browserEvent.preventDefault(),$.browserEvent.stopPropagation(),this._select($.element,$.index)}_onListSelection($){if($.elements.length)this._select($.elements[0],$.indexes[0])}_select($,Q){let X=this._completionModel;if(X)this._onDidSelect.fire({item:$,index:Q,model:X}),this.editor.focus()}_onThemeChange($){this._details.widget.borderWidth=S4($.type)?2:1}_onListFocus($){var Q;if(this._ignoreFocusEvents)return;if(!$.elements.length){if(this._currentSuggestionDetails)this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0;this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);let X=$.elements[0],Y=$.indexes[0];if(X!==this._focusedItem)(Q=this._currentSuggestionDetails)===null||Q===void 0||Q.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=X,this._list.reveal(Y),this._currentSuggestionDetails=tZ(async(Z)=>{let G=$Y(()=>{if(this._isDetailsVisible())this.showDetails(!0)},250),q=Z.onCancellationRequested(()=>G.dispose());try{return await X.resolve(Z)}finally{G.dispose(),q.dispose()}}),this._currentSuggestionDetails.then(()=>{if(Y>=this._list.length||X!==this._list.element(Y))return;if(this._ignoreFocusEvents=!0,this._list.splice(Y,1,[X]),this._list.setFocus([Y]),this._ignoreFocusEvents=!1,this._isDetailsVisible())this.showDetails(!1);else this.element.domNode.classList.remove("docs-side");this.editor.setAriaOptions({activeDescendant:Mx(Y)})}).catch(Z1);this._onDidFocus.fire({item:X,index:Y,model:this._completionModel})}_setState($){if(this._state===$)return;switch(this._state=$,this.element.domNode.classList.toggle("frozen",$===4),this.element.domNode.classList.remove("message"),$){case 0:m7(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=xU.LOADING_MESSAGE,m7(this._listElement,this._status.element),p7(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,O$(xU.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=xU.NO_SUGGESTIONS_MESSAGE,m7(this._listElement,this._status.element),p7(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,O$(xU.NO_SUGGESTIONS_MESSAGE);break;case 3:m7(this._messageElement),p7(this._listElement,this._status.element),this._show();break;case 4:m7(this._messageElement),p7(this._listElement,this._status.element),this._show();break;case 5:m7(this._messageElement),p7(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered($,Q){if(this._state!==0)return;if(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!$,!this._isAuto)this._loadingTimeout=$Y(()=>this._setState(1),Q)}showSuggestions($,Q,X,Y,Z){var G,q;if(this._contentWidget.setPosition(this.editor.getPosition()),(G=this._loadingTimeout)===null||G===void 0||G.dispose(),(q=this._currentSuggestionDetails)===null||q===void 0||q.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==$)this._completionModel=$;if(X&&this._state!==2&&this._state!==0){this._setState(4);return}let U=this._completionModel.items.length,z=U===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(U>1),z){this._setState(Y?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(X?4:3),this._list.reveal(Q,0),this._list.setFocus(Z?[]:[Q])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=H3(L0(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){if(this._list.length>0)this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel};return}toggleDetailsFocus(){if(this._state===5)this._setState(3),this._details.widget.domNode.classList.remove("focused");else if(this._state===3&&this._isDetailsVisible())this._setState(5),this._details.widget.domNode.classList.add("focused")}toggleDetails(){if(this._isDetailsVisible())this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details");else if((GW(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4))this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1)}showDetails($){this._pendingShowDetails.value=H3(L0(this.element.domNode),()=>{if(this._pendingShowDetails.clear(),this._details.show(),$)this._details.widget.renderLoading();else this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode);if(!this._details.widget.isEmpty)this._positionDetails(),this.element.domNode.classList.add("shows-details");else this._details.hide();this.editor.focus()})}toggleExplainMode(){if(this._list.getFocusedElements()[0])if(this._explainMode=!this._explainMode,!this._isDetailsVisible())this.toggleDetails();else this.showDetails(!1)}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var $;this._pendingLayout.clear(),this._pendingShowDetails.clear(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let Q=this._persistedSize.restore(),X=Math.ceil(this.getLayoutInfo().itemHeight*4.3);if(Q&&Q.height<X)this._persistedSize.store(Q.with(void 0,X))}isFrozen(){return this._state===4}_afterRender($){if($===null){if(this._isDetailsVisible())this._details.hide();return}if(this._state===2||this._state===1)return;if(this._isDetailsVisible()&&!this._details.widget.isEmpty)this._details.show();this._positionDetails()}_layout($){var Q,X,Y;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;let Z=K$(this.element.domNode.ownerDocument.body),G=this.getLayoutInfo();if(!$)$=G.defaultSize;let{height:q,width:U}=$;if(this._status.element.style.height=`${G.itemHeight}px`,this._state===2||this._state===1)q=G.itemHeight+G.borderHeight,U=G.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Y6(U,q),this._contentWidget.setPreference(2);else{let z=Z.width-G.borderHeight-2*G.horizontalPadding;if(U>z)U=z;let H=this._completionModel?this._completionModel.stats.pLabelLen*G.typicalHalfwidthCharacterWidth:U,j=G.statusBarHeight+this._list.contentHeight+G.borderHeight,B=G.itemHeight+G.statusBarHeight,V=x5(this.editor.getDomNode()),W=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=V.top+W.top+W.height,A=Math.min(Z.height-K-G.verticalPadding,j),F=V.top+W.top-G.verticalPadding,P=Math.min(F,j),R=Math.min(Math.max(P,A)+G.borderHeight,j);if(q===((Q=this._cappedHeight)===null||Q===void 0?void 0:Q.capped))q=this._cappedHeight.wanted;if(q<B)q=B;if(q>R)q=R;let D=150;if(q>A||this._forceRenderingAbove&&F>D)this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),R=P;else this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),R=A;this.element.preferredSize=new Y6(H,G.defaultSize.height),this.element.maxSize=new Y6(z,R),this.element.minSize=new Y6(220,B),this._cappedHeight=q===j?{wanted:(Y=(X=this._cappedHeight)===null||X===void 0?void 0:X.wanted)!==null&&Y!==void 0?Y:$.height,capped:q}:void 0}this._resize(U,q)}_resize($,Q){let{width:X,height:Y}=this.element.maxSize;$=Math.min(X,$),Q=Math.min(Y,Q);let{statusBarHeight:Z}=this.getLayoutInfo();this._list.layout(Q-Z,$),this._listElement.style.height=`${Q-Z}px`,this.element.layout(Q,$),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var $;if(this._isDetailsVisible())this._details.placeAtAnchor(this.element.domNode,(($=this._contentWidget.getPosition())===null||$===void 0?void 0:$.preference[0])===2)}getLayoutInfo(){let $=this.editor.getOption(50),Q=Y8(this.editor.getOption(119)||$.lineHeight,8,1000),X=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:Q,Y=this._details.widget.borderWidth,Z=2*Y;return{itemHeight:Q,statusBarHeight:X,borderWidth:Y,borderHeight:Z,typicalHalfwidthCharacterWidth:$.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Y6(430,X+12*Q+Z)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible($){this._storageService.store("expandSuggestionDocs",$,0,0)}forceRenderingAbove(){if(!this._forceRenderingAbove)this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore())}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};bU.LOADING_MESSAGE=M("suggestWidget.loading","Loading...");bU.NO_SUGGESTIONS_MESSAGE=M("suggestWidget.noSuggestions","No suggestions.");bU=xU=fY0([hR(1,gJ),hR(2,s0),hR(3,Z5),hR(4,r0)],bU);class Ke{constructor(J,$){this._widget=J,this._editor=$,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){if(this._added)this._added=!1,this._editor.removeContentWidget(this)}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){if(this._hidden=!1,!this._added)this._added=!0,this._editor.addContentWidget(this)}hide(){if(!this._hidden)this._hidden=!0,this.layout()}layout(){this._editor.layoutContentWidget(this)}getPosition(){if(this._hidden||!this._position||!this._preference)return null;return{position:this._position,preference:[this._preference]}}beforeRender(){let{height:J,width:$}=this._widget.element.size,{borderWidth:Q,horizontalPadding:X}=this._widget.getLayoutInfo();return new Y6($+2*Q+X,J+2*Q)}afterRender(J){this._widget._afterRender(J)}setPreference(J){if(!this._preferenceLocked)this._preference=J}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(J){this._position=J}}JY();u$();XY();x0();hY();var pY0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},SU=function(J,$){return function(Q,X){$(Q,X,J)}},Ox,mY0=!1;class Ae{constructor(J,$){if(this._model=J,this._position=$,this._decorationOptions=C1.register({description:"suggest-line-suffix",stickiness:1}),J.getLineMaxColumn($.lineNumber)!==$.column){let X=J.getOffsetAt($),Y=J.getPositionAt(X+1);J.changeDecorations((Z)=>{if(this._marker)Z.removeDecoration(this._marker);this._marker=Z.addDecoration(v.fromPositions($,Y),this._decorationOptions)})}}dispose(){if(this._marker&&!this._model.isDisposed())this._model.changeDecorations((J)=>{J.removeDecoration(this._marker),this._marker=void 0})}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){let $=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt($.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}var AZ=Ox=class{static get($){return $.getContribution(Ox.ID)}constructor($,Q,X,Y,Z,G,q){this._memoryService=Q,this._commandService=X,this._contextKeyService=Y,this._instantiationService=Z,this._logService=G,this._telemetryService=q,this._lineSuffix=new r5,this._toDispose=new q0,this._selectors=new Pe((j)=>j.priority),this._onWillInsertSuggestItem=new p,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=$,this.model=Z.createInstance(yR,this.editor),this._selectors.register({priority:0,select:(j,B,V)=>this._memoryService.select(j,B,V)});let U=V1.InsertMode.bindTo(Y);U.set($.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>U.set($.getOption(117).insertMode))),this.widget=this._toDispose.add(new bz(L0($.getDomNode()),()=>{let j=this._instantiationService.createInstance(bU,this.editor);this._toDispose.add(j),this._toDispose.add(j.onDidSelect((A)=>this._insertSuggestion(A,0),this));let B=new Bx(this.editor,j,this.model,(A)=>this._insertSuggestion(A,2));this._toDispose.add(B);let V=V1.MakesTextEdit.bindTo(this._contextKeyService),W=V1.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=V1.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(y0(()=>{V.reset(),W.reset(),K.reset()})),this._toDispose.add(j.onDidFocus(({item:A})=>{let F=this.editor.getPosition(),P=A.editStart.column,R=F.column,D=!0;if(this.editor.getOption(1)==="smart"&&this.model.state===2&&!A.completion.additionalTextEdits&&!(A.completion.insertTextRules&4)&&R-P===A.completion.insertText.length)D=this.editor.getModel().getValueInRange({startLineNumber:F.lineNumber,startColumn:P,endLineNumber:F.lineNumber,endColumn:R})!==A.completion.insertText;V.set(D),W.set(!s.equals(A.editInsertEnd,A.editReplaceEnd)),K.set(Boolean(A.provider.resolveCompletionItem)||Boolean(A.completion.documentation)||A.completion.detail!==A.completion.label)})),this._toDispose.add(j.onDetailsKeyDown((A)=>{if(A.toKeyCodeChord().equals(new v9(!0,!1,!1,!1,33))||$1&&A.toKeyCodeChord().equals(new v9(!1,!1,!1,!0,33))){A.stopPropagation();return}if(!A.toKeyCodeChord().isModifierKey())this.editor.focus()})),j})),this._overtypingCapturer=this._toDispose.add(new bz(L0($.getDomNode()),()=>{return this._toDispose.add(new YW(this.editor,this.model))})),this._alternatives=this._toDispose.add(new bz(L0($.getDomNode()),()=>{return this._toDispose.add(new VZ(this.editor,this._contextKeyService))})),this._toDispose.add(Z.createInstance(yU,$)),this._toDispose.add(this.model.onDidTrigger((j)=>{this.widget.value.showTriggered(j.auto,j.shy?250:50),this._lineSuffix.value=new Ae(this.editor.getModel(),j.position)})),this._toDispose.add(this.model.onDidSuggest((j)=>{if(j.triggerOptions.shy)return;let B=-1;for(let W of this._selectors.itemsOrderedByPriorityDesc)if(B=W.select(this.editor.getModel(),this.editor.getPosition(),j.completionModel.items),B!==-1)break;if(B===-1)B=0;if(this.model.state===0)return;let V=!1;if(j.triggerOptions.auto){let W=this.editor.getOption(117);if(W.selectionMode==="never"||W.selectionMode==="always")V=W.selectionMode==="never";else if(W.selectionMode==="whenTriggerCharacter")V=j.triggerOptions.triggerKind!==1;else if(W.selectionMode==="whenQuickSuggestion")V=j.triggerOptions.triggerKind===1&&!j.triggerOptions.refilter}this.widget.value.showSuggestions(j.completionModel,B,j.isFrozen,j.triggerOptions.auto,V)})),this._toDispose.add(this.model.onDidCancel((j)=>{if(!j.retrigger)this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{if(!mY0)this.model.cancel(),this.model.clear()}));let z=V1.AcceptSuggestionsOnEnter.bindTo(Y),H=()=>{let j=this.editor.getOption(1);z.set(j==="on"||j==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>H())),H()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion($,Q){if(!$||!$.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let X=a5.get(this.editor);if(!X)return;this._onWillInsertSuggestItem.fire({item:$.item});let Y=this.editor.getModel(),Z=Y.getAlternativeVersionId(),{item:G}=$,q=[],U=new M5;if(!(Q&1))this.editor.pushUndoStop();let z=this.getOverwriteInfo(G,Boolean(Q&8));this._memoryService.memorize(Y,this.editor.getPosition(),G);let H=G.isResolved,j=-1,B=-1;if(Array.isArray(G.completion.additionalTextEdits)){this.model.cancel();let W=l4.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",G.completion.additionalTextEdits.map((K)=>{let A=v.lift(K.range);if(A.startLineNumber===G.position.lineNumber&&A.startColumn>G.position.column){let F=this.editor.getPosition().column-G.position.column,P=F,R=v.spansMultipleLines(A)?0:F;A=new v(A.startLineNumber,A.startColumn+P,A.endLineNumber,A.endColumn+R)}return X4.replaceMove(A,K.text)})),W.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!H){let W=new R5,K,A=Y.onDidChangeContent((D)=>{if(D.isFlush){U.cancel(),A.dispose();return}for(let _ of D.changes){let O=v.getEndPosition(_.range);if(!K||s.isBefore(O,K))K=O}}),F=Q;Q|=2;let P=!1,R=this.editor.onWillType(()=>{if(R.dispose(),P=!0,!(F&2))this.editor.pushUndoStop()});q.push(G.resolve(U.token).then(()=>{if(!G.completion.additionalTextEdits||U.token.isCancellationRequested)return;if(K&&G.completion.additionalTextEdits.some((_)=>s.isBefore(K,v.getStartPosition(_.range))))return!1;if(P)this.editor.pushUndoStop();let D=l4.capture(this.editor);if(this.editor.executeEdits("suggestController.additionalTextEdits.async",G.completion.additionalTextEdits.map((_)=>X4.replaceMove(v.lift(_.range),_.text))),D.restoreRelativeVerticalPositionOfCursor(this.editor),P||!(F&2))this.editor.pushUndoStop();return!0}).then((D)=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",W.elapsed(),D),B=D===!0?1:D===!1?0:-2}).finally(()=>{A.dispose(),R.dispose()}))}let{insertText:V}=G.completion;if(!(G.completion.insertTextRules&4))V=jZ.escape(V);if(this.model.cancel(),X.insert(V,{overwriteBefore:z.overwriteBefore,overwriteAfter:z.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(G.completion.insertTextRules&1),clipboardText:$.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),!(Q&2))this.editor.pushUndoStop();if(G.completion.command)if(G.completion.command.id===UW.id)this.model.trigger({auto:!0,retrigger:!0});else{let W=new R5;q.push(this._commandService.executeCommand(G.completion.command.id,...G.completion.command.arguments?[...G.completion.command.arguments]:[]).catch((K)=>{if(G.completion.extensionId)Y$(K);else Z1(K)}).finally(()=>{j=W.elapsed()}))}if(Q&4)this._alternatives.value.set($,(W)=>{U.cancel();while(Y.canUndo()){if(Z!==Y.getAlternativeVersionId())Y.undo();this._insertSuggestion(W,3|(Q&8?8:0));break}});this._alertCompletionItem(G),Promise.all(q).finally(()=>{this._reportSuggestionAcceptedTelemetry(G,Y,H,j,B),this.model.clear(),U.dispose()})}_reportSuggestionAcceptedTelemetry($,Q,X,Y,Z){var G,q,U;if(Math.floor(Math.random()*100)===0)return;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(q=(G=$.extensionId)===null||G===void 0?void 0:G.value)!==null&&q!==void 0?q:"unknown",providerId:(U=$.provider._debugDisplayName)!==null&&U!==void 0?U:"unknown",kind:$.completion.kind,basenameHash:QY(c2(Q.uri)).toString(16),languageId:Q.getLanguageId(),fileExtension:Xc(Q.uri),resolveInfo:!$.provider.resolveCompletionItem?-1:X?1:0,resolveDuration:$.resolveDuration,commandDuration:Y,additionalEditsAsync:Z})}getOverwriteInfo($,Q){D5(this.editor.hasModel());let X=this.editor.getOption(117).insertMode==="replace";if(Q)X=!X;let Y=$.position.column-$.editStart.column,Z=(X?$.editReplaceEnd.column:$.editInsertEnd.column)-$.position.column,G=this.editor.getPosition().column-$.position.column,q=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Y+G,overwriteAfter:Z+q}}_alertCompletionItem($){if(y9($.completion.additionalTextEdits)){let Q=M("aria.alert.snippet","Accepting '{0}' made {1} additional edits",$.textLabel,$.completion.additionalTextEdits.length);x3(Q)}}triggerSuggest($,Q,X){if(this.editor.hasModel())this.model.trigger({auto:Q!==null&&Q!==void 0?Q:!1,completionOptions:{providerFilter:$,kindFilter:X?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus()}triggerSuggestAndAcceptBest($){if(!this.editor.hasModel())return;let Q=this.editor.getPosition(),X=()=>{if(Q.equals(this.editor.getPosition()))this._commandService.executeCommand($.fallback)},Y=(Z)=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;let G=this.editor.getPosition(),q=Z.editStart.column,U=G.column;if(U-q!==Z.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:G.lineNumber,startColumn:q,endLineNumber:G.lineNumber,endColumn:U})!==Z.completion.insertText};V0.once(this.model.onDidTrigger)((Z)=>{let G=[];V0.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{h1(G),X()},void 0,G),this.model.onDidSuggest(({completionModel:q})=>{if(h1(G),q.items.length===0){X();return}let U=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.items),z=q.items[U];if(!Y(z)){X();return}this.editor.pushUndoStop(),this._insertSuggestion({index:U,item:z,model:q},7)},void 0,G)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Q,0),this.editor.focus()}acceptSelectedSuggestion($,Q){let X=this.widget.value.getFocusedItem(),Y=0;if($)Y|=4;if(Q)Y|=8;this._insertSuggestion(X,Y)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){if(!this.widget.isInitialized)return;this.widget.value.stopForceRenderingAbove()}registerSelector($){return this._selectors.register($)}};AZ.ID="editor.contrib.suggestController";AZ=Ox=pY0([SU(1,Vx),SU(2,T5),SU(3,s0),SU(4,r0),SU(5,A5),SU(6,z7)],AZ);class Pe{constructor(J){this.prioritySelector=J,this._items=[]}register(J){if(this._items.indexOf(J)!==-1)throw Error("Value is already registered");return this._items.push(J),this._items.sort(($,Q)=>this.prioritySelector(Q)-this.prioritySelector($)),{dispose:()=>{let $=this._items.indexOf(J);if($>=0)this._items.splice($,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class UW extends k4{constructor(){super({id:UW.id,label:M("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:v0.and(H0.writable,H0.hasCompletionItemProvider,V1.Visible.toNegated()),kbOpts:{kbExpr:H0.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(J,$,Q){let X=AZ.get($);if(!X)return;let Y;if(Q&&typeof Q==="object"){if(Q.auto===!0)Y=!0}X.triggerSuggest(void 0,Y,void 0)}}UW.id="editor.action.triggerSuggest";m9(AZ.ID,AZ,2);F5(UW);var I9=190,K7=u7.bindToContribution(AZ.get);f0(new K7({id:"acceptSelectedSuggestion",precondition:v0.and(V1.Visible,V1.HasFocusedSuggestion),handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:v0.and(V1.Visible,H0.textInputFocus),weight:I9},{primary:3,kbExpr:v0.and(V1.Visible,H0.textInputFocus,V1.AcceptSuggestionsOnEnter,V1.MakesTextEdit),weight:I9}],menuOpts:[{menuId:zQ,title:M("accept.insert","Insert"),group:"left",order:1,when:V1.HasInsertAndReplaceRange.toNegated()},{menuId:zQ,title:M("accept.insert","Insert"),group:"left",order:1,when:v0.and(V1.HasInsertAndReplaceRange,V1.InsertMode.isEqualTo("insert"))},{menuId:zQ,title:M("accept.replace","Replace"),group:"left",order:1,when:v0.and(V1.HasInsertAndReplaceRange,V1.InsertMode.isEqualTo("replace"))}]}));f0(new K7({id:"acceptAlternativeSelectedSuggestion",precondition:v0.and(V1.Visible,H0.textInputFocus,V1.HasFocusedSuggestion),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:1027,secondary:[1026]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:zQ,group:"left",order:2,when:v0.and(V1.HasInsertAndReplaceRange,V1.InsertMode.isEqualTo("insert")),title:M("accept.replace","Replace")},{menuId:zQ,group:"left",order:2,when:v0.and(V1.HasInsertAndReplaceRange,V1.InsertMode.isEqualTo("replace")),title:M("accept.insert","Insert")}]}));O6.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");f0(new K7({id:"hideSuggestWidget",precondition:V1.Visible,handler:(J)=>J.cancelSuggestWidget(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:9,secondary:[1033]}}));f0(new K7({id:"selectNextSuggestion",precondition:v0.and(V1.Visible,v0.or(V1.MultipleSuggestions,V1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));f0(new K7({id:"selectNextPageSuggestion",precondition:v0.and(V1.Visible,v0.or(V1.MultipleSuggestions,V1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextPageSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:12,secondary:[2060]}}));f0(new K7({id:"selectLastSuggestion",precondition:v0.and(V1.Visible,v0.or(V1.MultipleSuggestions,V1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectLastSuggestion()}));f0(new K7({id:"selectPrevSuggestion",precondition:v0.and(V1.Visible,v0.or(V1.MultipleSuggestions,V1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));f0(new K7({id:"selectPrevPageSuggestion",precondition:v0.and(V1.Visible,v0.or(V1.MultipleSuggestions,V1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevPageSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:11,secondary:[2059]}}));f0(new K7({id:"selectFirstSuggestion",precondition:v0.and(V1.Visible,v0.or(V1.MultipleSuggestions,V1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectFirstSuggestion()}));f0(new K7({id:"focusSuggestion",precondition:v0.and(V1.Visible,V1.HasFocusedSuggestion.negate()),handler:(J)=>J.focusSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));f0(new K7({id:"focusAndAcceptSuggestion",precondition:v0.and(V1.Visible,V1.HasFocusedSuggestion.negate()),handler:(J)=>{J.focusSuggestion(),J.acceptSelectedSuggestion(!0,!1)}}));f0(new K7({id:"toggleSuggestionDetails",precondition:v0.and(V1.Visible,V1.HasFocusedSuggestion),handler:(J)=>J.toggleSuggestionDetails(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:zQ,group:"right",order:1,when:v0.and(V1.DetailsVisible,V1.CanResolve),title:M("detail.more","show less")},{menuId:zQ,group:"right",order:1,when:v0.and(V1.DetailsVisible.toNegated(),V1.CanResolve),title:M("detail.less","show more")}]}));f0(new K7({id:"toggleExplainMode",precondition:V1.Visible,handler:(J)=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));f0(new K7({id:"toggleSuggestionFocus",precondition:V1.Visible,handler:(J)=>J.toggleSuggestionFocus(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:2570,mac:{primary:778}}}));f0(new K7({id:"insertBestCompletion",precondition:v0.and(H0.textInputFocus,v0.equals("config.editor.tabCompletion","on"),yU.AtEnd,V1.Visible.toNegated(),VZ.OtherSuggestions.toNegated(),a5.InSnippetMode.toNegated()),handler:(J,$)=>{J.triggerSuggestAndAcceptBest(z5($)?{fallback:"tab",...$}:{fallback:"tab"})},kbOpts:{weight:I9,primary:2}}));f0(new K7({id:"insertNextSuggestion",precondition:v0.and(H0.textInputFocus,v0.equals("config.editor.tabCompletion","on"),VZ.OtherSuggestions,V1.Visible.toNegated(),a5.InSnippetMode.toNegated()),handler:(J)=>J.acceptNextSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:2}}));f0(new K7({id:"insertPrevSuggestion",precondition:v0.and(H0.textInputFocus,v0.equals("config.editor.tabCompletion","on"),VZ.OtherSuggestions,V1.Visible.toNegated(),a5.InSnippetMode.toNegated()),handler:(J)=>J.acceptPrevSuggestion(),kbOpts:{weight:I9,kbExpr:H0.textInputFocus,primary:1026}}));F5(class extends k4{constructor(){super({id:"editor.action.resetSuggestSize",label:M("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,$){var Q;(Q=AZ.get($))===null||Q===void 0||Q.resetWidgetSize()}});G$();u9();a0();class De extends k4{constructor(){super({id:"editor.action.forceRetokenize",label:M("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(J,$){if(!$.hasModel())return;let Q=$.getModel();Q.tokenization.resetTokenization();let X=new R5;Q.tokenization.forceTokenization(Q.getLineCount()),X.stop(),console.log(`tokenization took ${X.elapsed()}`)}}F5(De);a4();a4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var kZ0=class{constructor(J,$,Q){this._onDidChange=new iy,this._languageId=J,this.setDiagnosticsOptions($),this.setModeConfiguration(Q)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(J){this._diagnosticsOptions=J||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(J){this._modeConfiguration=J||Object.create(null),this._onDidChange.fire(this)}},EZ0={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},IZ0={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},M00=new kZ0("json",EZ0,IZ0),yZ0=()=>O00().then((J)=>J.getWorker());CX.json={jsonDefaults:M00,getWorker:yZ0};function O00(){return Promise.resolve().then(() => (R00(),D00))}CX.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});CX.onLanguage("json",()=>{O00().then((J)=>J.setupMode(M00))});a4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var{defineProperty:xZ0,getOwnPropertyDescriptor:bZ0,getOwnPropertyNames:SZ0}=Object,CZ0=Object.prototype.hasOwnProperty,_00=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of SZ0($))if(!CZ0.call(J,Y)&&Y!==Q)xZ0(J,Y,{get:()=>$[Y],enumerable:!(X=bZ0($,Y))||X.enumerable})}return J},vZ0=(J,$,Q)=>(_00(J,$,"default"),Q&&_00(Q,$,"default")),PW={};vZ0(PW,L9);var N00={},yx={},hZ0=class J{static getOrCreate($){if(!yx[$])yx[$]=new J($);return yx[$]}constructor($){this._languageId=$,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((Q,X)=>{this._lazyLoadPromiseResolve=Q,this._lazyLoadPromiseReject=X})}load(){if(!this._loadingTriggered)this._loadingTriggered=!0,N00[this._languageId].loader().then(($)=>this._lazyLoadPromiseResolve($),($)=>this._lazyLoadPromiseReject($));return this._lazyLoadPromise}};function oJ(J){let $=J.id;N00[$]=J,PW.languages.register(J);let Q=hZ0.getOrCreate($);PW.languages.registerTokensProviderFactory($,{create:async()=>{return(await Q.load()).language}}),PW.languages.onLanguageEncountered($,async()=>{let X=await Q.load();PW.languages.setLanguageConfiguration($,X.conf)})}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/oJ({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>{return Promise.resolve().then(() => (w00(),T00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/oJ({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>{return Promise.resolve().then(() => (k00(),L00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/oJ({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>{return Promise.resolve().then(() => (x00(),y00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/oJ({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>{return Promise.resolve().then(() => (C00(),S00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/oJ({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>{return Promise.resolve().then(() => (Sx(),bx))}});oJ({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>{return Promise.resolve().then(() => (Sx(),bx))}});a4();HZ.defineTheme("bc",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#F9F9F9","editor.foreground":"#575E75","editor.lineHighlightBackground":"#E5F0FF","editor.lineHighlightBorder":"#E5F0FF","scrollbarSlider.background":"#CECDCE","scrollbarSlider.hoverBackground":"#CECDCE","scrollbarSlider.activeBackground":"#CECDCE"}});window.MonacoEnvironment={getWorker:(J,$)=>{switch($){case"json":return new Worker("/monaco-editor/workers/json-worker.js",{type:"module"});default:return new Worker("/monaco-editor/workers/editor-worker.js",{type:"module"})}}};var Y20={theme:"bc",autoClosingBrackets:"languageDefined",autoClosingDelete:"auto",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",automaticLayout:!0,bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},contextmenu:!1,copyWithSyntaxHighlighting:!0,fontSize:16,formatOnPaste:!0,inlineSuggest:{enabled:!0},minimap:{enabled:!1},hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollbar:{horizontal:"visible",horizontalScrollbarSize:6,vertical:"visible",verticalScrollbarSize:6},showDeprecated:!0,smoothScrolling:!0};async function v00(J,$){return HZ.create(J,Object.assign({},Y20,$))}a4();var Cx=CX.CompletionItemKind,Z20=CX.getLanguages(),G20=new RegExp("([a-zA-Z_]\\w*)","g");function q20(J){let $,Q=[];while(($=G20.exec(J))!==null)Q.push($[0]);return Array.from(new Set(Q))}async function h00(J,$){let Q=await Z20.find((Y)=>Y.id===J)?.loader();return CX.registerCompletionItemProvider(J,{provideCompletionItems(Y,Z){let G=Y.getWordUntilPosition(Z),q={startLineNumber:Z.lineNumber,endLineNumber:Z.lineNumber,startColumn:G.startColumn,endColumn:G.endColumn},U=$.map((j)=>{if(typeof j==="string")j=[j];if(Array.isArray(j))j={label:{label:j[0],description:j[2]},kind:j[1]??Cx.Keyword,insertText:j[0],range:q};if(typeof j.label==="string")j.label={label:j.label,description:j.description??j.documentation};if(!j.insertText)j.insertText=j.label.label;return j.range=q,j}),z=[];if(Q?.language.keywords)z=Q.language.keywords.filter((j)=>j!==G.word&&!U.find((B)=>B.label.label===j)).map((j)=>({label:j,kind:Cx.Keyword,insertText:j,range:q}));let H=q20(Y.getValue()).filter((j)=>j!==G.word&&!U.find((B)=>B.label.label===j)).map((j)=>({label:j,kind:Cx.Text,insertText:j,range:q}));return{suggestions:z.concat(U,H)}}})}_0(".iWfOpa_editor-wrapper{width:100%;height:100%;position:relative}.iWfOpa_editor-wrapper .scrollbar.horizontal{bottom:1px!important}.iWfOpa_editor-wrapper .scrollbar.vertical{right:1px!important}.iWfOpa_editor-wrapper .slider{border-radius:3px;overflow:hidden}");var f00={editorWrapper:"iWfOpa_editor-wrapper"};import{jsx as W20}from"preact/jsx-runtime";var u00=(J,$,Q="content")=>{let X=m00.getExtension($.type??"text/plain"),Y=ny.file(`${J.getId()}/${$.id}.${X}`),Z=Y.toString(),G=HZ.getModel(Z);if(!G)G=HZ.createModel($[Q],void 0,Y),G.onDidChangeContent(()=>{if(J.getRawOptions().readOnly)return;let U=G.getValue();V20({[Q]:U})});let q=J.getModel();return J.setModel(G),q.dispose(),X},p00=(J,$,Q,X="content")=>{if(!J||!Q)return;let Y=m00.getExtension(Q.type??"text/plain");if(Y&&$!==Y)$=u00(J,Q,X);if(Q[X])J.getModel().setValue(Q[X]);return $};function vx({className:J,keyName:$,options:Q,readOnly:X,onLoad:Y,onRegisterCompletionItems:Z}){let{language:G}=H20(),{file:q,modified:U}=j20(),z=U20(null),H=g00(null),j=g00(null);return DW(()=>{if(!z.editor)return;z.editor.updateOptions({readOnly:X})},[z.editor,X]),DW(async()=>{if(!z.editor)return;let B=z.editor.getModel().getLanguageId(),V=Z?.(B);if(!V)return;j.value?.dispose(),j.value=await h00(B,V)},[z.editor,H.value,G.value,Z]),DW(()=>{H.value=p00(z.editor,H.value,q.value,$)},[$,q.value]),DW(()=>{if(!X)return;H.value=p00(z.editor,H.value,q.value,$)},[X,$,U.value]),DW(async()=>{if(z.current){if(z.editor=await v00(z.current,Q),q.value)H.value=u00(z.editor,q.value,$);if(Y)Y(z.editor)}return()=>{if(z.editor)z.editor.dispose(),z.editor=null}},[]),W20("div",{ref:z,className:z20(f00.editorWrapper,J)})}_0(".xterm{cursor:text;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{z-index:5;position:absolute;top:0}.xterm .xterm-helper-textarea{opacity:0;z-index:-5;white-space:nowrap;resize:none;border:0;width:0;height:0;margin:0;padding:0;position:absolute;top:0;left:-9999em;overflow:hidden}.xterm .composition-view{color:#fff;white-space:nowrap;z-index:1;background:#000;display:none;position:absolute}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{cursor:default;background-color:#000;position:absolute;inset:0;overflow-y:scroll}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;top:0;left:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{visibility:hidden;line-height:normal;display:inline-block;position:absolute;top:0;left:-9999em}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{z-index:10;color:#0000;pointer-events:none;position:absolute;inset:0}.xterm .xterm-accessibility-tree:not(.debug) ::selection{color:#0000}.xterm .xterm-accessibility-tree{user-select:text;white-space:pre}.xterm .live-region{width:1px;height:1px;position:absolute;left:-9999px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:underline double}.xterm-underline-3{text-decoration:underline wavy}.xterm-underline-4{text-decoration:underline dotted}.xterm-underline-5{text-decoration:underline dashed}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:underline overline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;pointer-events:none;position:absolute;top:0;right:0}.xterm-decoration-top{z-index:2;position:relative}");var t00=tR(c00(),1),e00=tR(l00(),1),J10=tR(d00(),1);import{useRef as r00,useEffect as mx,useCallback as MZ}from"preact/hooks";import{useSignal as i00}from"@preact/signals";import{keyMirror as K20}from"@blockcode/utils";import{useAppContext as A20,translate as t4,setAlert as P20,setAppState as n00}from"@blockcode/core";import{Text as D20,ToggleButtons as R20,BufferedInput as M20,Button as O20,Dropdown as _20,Keys as o00}from"@blockcode/core";import{isMac as s00,isWin32 as B20}from"@blockcode/utils";var px={cols:20,rows:10,disableStdin:!0,convertEol:!0,cursorBlink:!1,cursorInactiveStyle:"none",cursorStyle:"bar",cursorWidth:1,fontFamily:'"Cascadia Code", Menlo, monospace',fontSize:12,lineHeight:1.2,windowsMode:B20,macOptionIsMeta:s00,macOptionClickForcesSelection:s00,theme:{cursor:"#f8f8f8",foreground:"#f8f8f8",background:"#2d2e2c",selectionBackground:"#8abbff",black:"#1e1e1d",brightblack:"#262625",red:"#ce5c5c",brightred:"#ff7272",green:"#5bcc5b",brightgreen:"#72ff72",yellow:"#cccc5b",brightyellow:"#ffff72",blue:"#5d5dd3",brightblue:"#7279ff",magenta:"#bc5ed1",brightmagenta:"#e572ff",cyan:"#5da5d5",brightcyan:"#72f0ff",white:"#f8f8f8",brightwhite:"#ffffff"}};_0(".WwGKeG_terminal-wrapper{flex-direction:column;flex:1;display:flex}.WwGKeG_terminal{flex:1;padding:4px}.WwGKeG_terminal .xterm-viewport{scrollbar-width:none}.WwGKeG_input-wrapper{padding:var(--space);align-items:center;width:100%;display:flex}.WwGKeG_input{margin:0 var(--space);border-radius:calc(var(--space)/2);flex:1}.WwGKeG_button-wrapper{display:flex}.WwGKeG_send-button,.WwGKeG_dropdown-button{background:var(--theme-primary);border:var(--theme-primary);color:var(--ui-white)}.WwGKeG_send-button{border-radius:calc(var(--space)/2)0 0 calc(var(--space)/2)}.WwGKeG_dropdown-button{border-radius:0 calc(var(--space)/2)calc(var(--space)/2)0;border-left:1px solid var(--ui-black-transparent);padding:var(--space)}.WwGKeG_dropdown-icon{filter:brightness(100)}.WwGKeG_icon{width:20px}");var jQ={terminalWrapper:"WwGKeG_terminal-wrapper",buttonWrapper:"WwGKeG_button-wrapper",icon:"WwGKeG_icon",terminal:"WwGKeG_terminal",sendButton:"WwGKeG_send-button",inputWrapper:"WwGKeG_input-wrapper",dropdownButton:"WwGKeG_dropdown-button",input:"WwGKeG_input",dropdownIcon:"WwGKeG_dropdown-icon"};var a00="./assets/icon-send-rhxrgr30.svg";import{jsx as gU,jsxs as rR}from"preact/jsx-runtime";var Z9=K20({REPL:null,Text:null,HEX:null});function ux({compactMode:J,textValue:$,disabledREPL:Q,options:X}){let Y=r00(null),Z=r00(null),{appState:G}=A20(),q=i00($),U=i00(typeof q.value==="string"||J||Q?Z9.Text:Z9.REPL);mx(()=>{if(Y.xterm&&typeof q.value==="string")Y.xterm.write($.replace(q.value,"")),q.value=$},[$]);let z=MZ((F)=>{if(U.value=F,Y.xterm)if(F===Z9.REPL)Y.xterm.focus(),Y.xterm.options.cursorStyle="block",Y.xterm.options.cursorBlink=!!G.value?.device,Y.xterm.options.disableStdin=!1,Z.current.base.value="";else Y.xterm.blur(),Y.xterm.options.cursorStyle="bar",Y.xterm.options.cursorBlink=!1,Y.xterm.options.disableStdin=!0},[]),H=MZ((F)=>{let P=G.value?.terminalCache??Uint8Array.from([]),R=new Uint8Array(P.length+F.length);R.set(P),R.set(F,P.length),n00("terminalCache",R)},[]),j=MZ((F)=>{Y.xterm?.write(F)},[]),B=MZ(()=>{if(typeof q.value==="string")return;let F=G.value?.device,P=Y.xterm;if(F&&P){let R=P.onData((D)=>F.serial.write(D));if(F.on("data",j),F.on("disconnect",()=>{R.dispose(),F.off("data",j)}),!G.value?.terminalCache)F.on("data",H),F.on("disconnect",()=>{n00("terminalCache",null),F.off("data",H)})}},[$]),V=MZ((F)=>()=>{if(G.value.device?.serial.write(F),U.value===Z9.REPL)Y.xterm.focus()},[]),W=MZ((F,P)=>{if(!F)return;if(U.value===Z9.REPL)P=!0;if(U.value===Z9.HEX){let R=F.replace(/\s+/g,"");if(/^[0-9A-Fa-f]+$/.test(R)&&R.length%2===0){let D=[];for(let _=0;_<R.length;_=_+2)D.push(parseInt(R.substring(_,_+2),16));if(P===!0)D.push(13,10);F=Uint8Array.from(D)}else{P20({mode:"warn",message:t4("code.terminalHexError","HEX data format error.")},2000);return}}else if(P===!0)F+=`\r
`;G.value?.device?.serial.write(F,typeof F==="string"?"text":"binary")},[]),K=MZ((F)=>{Z.current.base.blur(),W(Z.current.base.value),Z.current.base.focus()},[]),A=MZ(()=>{Z.current.base.blur(),W(Z.current.base.value,!0),Z.current.base.focus()},[]);return mx(()=>{if(typeof q.value==="string")return;if(!Y.xterm)return;if(Y.xterm.reset(),!G.value?.device){Y.xterm.write(t4("code.terminalWaitforConnect","Waiting for device connection..."));return}if(U.value===Z9.REPL)Y.xterm.focus(),Y.xterm.options.cursorStyle="block",Y.xterm.options.cursorBlink=!0;B()},[G.value?.device]),mx(()=>{if(Y.current){let F=Object.assign({},px.theme,X?.theme),P=new t00.Terminal(Object.assign({},px,X,{theme:F}));P.open(Y.current);let R=new e00.WebglAddon,D=new J10.FitAddon;if(P.loadAddon(R),P.loadAddon(D),typeof q.value==="string")P.write($);else if(!G.value?.device)P.write(t4("code.terminalWaitforConnect","Waiting for device connection..."));else if(G.value?.terminalCache)P.write(G.value.terminalCache);if(D.fit(),Y.xterm=P,Y.current.style.backgroundColor=P.options.theme.background,Y.resizeObserver=new ResizeObserver(()=>D.fit()),Y.resizeObserver.observe(Y.current),U.value===Z9.REPL)Y.xterm.focus(),Y.xterm.options.cursorStyle="block",Y.xterm.options.cursorBlink=!!G.value?.device,Y.xterm.options.disableStdin=!1;B()}return()=>{if(Y.xterm)Y.xterm.clear(),Y.xterm.dispose(),Y.xterm=null}},[]),rR("div",{className:jQ.terminalWrapper,children:[gU("div",{ref:Y,className:jQ.terminal}),typeof q.value!=="string"&&rR("div",{className:jQ.inputWrapper,children:[J!==!0&&gU(R20,{items:[!Q&&{title:t4("code.terminalMode.repl","REPL"),value:Z9.REPL},{title:t4("code.terminalMode.hex","HEX"),value:Z9.HEX},{title:t4("code.terminalMode.text","Text"),value:Z9.Text}].filter(Boolean),value:U.value,onChange:z}),gU(M20,{autoClear:!0,enterSubmit:!0,ref:Z,disabled:U.value===Z9.REPL||!G.value?.device,forceFocus:U.value!==Z9.REPL,className:jQ.input,onSubmit:W}),rR("div",{className:jQ.buttonWrapper,children:[rR(O20,{disabled:U.value===Z9.REPL||!G.value?.device,className:jQ.sendButton,onClick:K,children:[gU("img",{className:jQ.icon,src:a00}),gU(D20,{id:"code.terminalSend",defaultMessage:"Send"})]}),gU(_20,{placement:"top-end",className:jQ.dropdownButton,iconClassName:jQ.dropdownIcon,items:[J!==!0&&[{label:t4("code.terminalSendChar","Send {char}",{char:"Ctrl+A"}),disabled:!G.value?.device,onClick:V(String.fromCharCode(1))},{label:t4("code.terminalSendChar","Send {char}",{char:"Ctrl+B"}),disabled:!G.value?.device,onClick:V(String.fromCharCode(2))},{label:t4("code.terminalSendChar","Send {char}",{char:"Ctrl+C"}),disabled:!G.value?.device,onClick:V(String.fromCharCode(3))},{label:t4("code.terminalSendChar","Send {char}",{char:"Ctrl+D"}),disabled:!G.value?.device,onClick:V(String.fromCharCode(4))},{label:t4("code.terminalSendChar","Send {char}",{char:"Ctrl+E"}),disabled:!G.value?.device,onClick:V(String.fromCharCode(5))}],[{label:t4("code.terminalSendEnter","Send with Enter"),hotkey:[o00.CONTROL,o00.ENTER],disabled:U.value===Z9.REPL||!G.value?.device,onClick:A}]].filter(Boolean)})]})]})]})}import{Text as T20}from"@blockcode/core";var $10="./assets/icon-code-ts3t3bsf.svg";import{jsx as L20}from"preact/jsx-runtime";var w20={icon:$10,label:L20(T20,{id:"code.tabs.code",defaultMessage:"Code"}),Content:vx};import{useEffect as E20}from"preact/hooks";import{useSignal as I20}from"@preact/signals";import{useAppContext as y20,setAppState as X10,Text as x20}from"@blockcode/core";var Q10="./assets/icon-terminal-92ztq850.svg";import{jsx as Y10}from"preact/jsx-runtime";var b20={icon:Q10,label:Y10(x20,{id:"code.tabs.terminal",defaultMessage:"Terminal"}),Content:(J)=>{let{appState:$}=y20(),Q=I20(null);if($.value?.panelBoxId==="Serial")Q.value="Serial",X10("panelBoxId",null);else if($.value?.panelBoxId)Q.value=$.value?.panelBoxId;return E20(()=>{return()=>{if(Q.value==="Serial")X10("panelBoxId","Serial")}},[]),Y10(ux,{...J})}};export{b20 as terminalTab,L9 as monaco,w20 as codeTab,ux as Terminal,vx as CodeEditor};
