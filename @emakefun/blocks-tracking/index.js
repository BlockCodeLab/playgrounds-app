import{addLocalesMessages as A,Text as H}from"@blockcode/core";import{Text as o}from"@blockcode/core";import{jsx as d}from"preact/jsx-runtime";var m=(r)=>r.editor!=="@blockcode/gui-arduino",l=(r)=>r.editor==="@blockcode/gui-iotbit",a=(r)=>{r.definitions_.variable_5tracker="FiveLineTracker _5tracker;",r.definitions_.setup_wire="Wire.begin();",r.definitions_.setup_5tracker="_5tracker.Initialize();"},_=(r)=>[m(r)&&{id:"init5",text:d(o,{id:"blocks.tracking.init5",defaultMessage:"set 5-channel tracker pins SCL:[SCL] SDA:[SDA]"}),inputs:{SCL:r.boardPins?{menu:r.boardPins.out,defaultValue:l(r)?"22":"2"}:{type:"positive_integer",defaultValue:2},SDA:r.boardPins?{menu:r.boardPins.out,defaultValue:l(r)?"23":"3"}:{type:"positive_integer",defaultValue:3}},mpy(e){let i=r.boardPins?e.getFieldValue("SCL"):this.valueToCode(e,"SCL",this.ORDER_NONE),n=r.boardPins?e.getFieldValue("SDA"):this.valueToCode(e,"SDA",this.ORDER_NONE);return this.definitions_["5tracker"]=`_5tracker = five_line_tracker.FiveLineTracker(${i}, ${n})`,""}},{id:"threshold5",text:d(o,{id:"blocks.tracking.threshold5",defaultMessage:"set channel [CHAN] to sensing value [NUM1] to [NUM2]"}),inputs:{CHAN:{menu:"channels"},NUM1:{type:"integer",defaultValue:"800"},NUM2:{type:"integer",defaultValue:"850"}},ino(e){a(this);let i=this.valueToCode(e,"CHAN",this.ORDER_NONE),n=this.valueToCode(e,"NUM1",this.ORDER_NONE),t=this.valueToCode(e,"NUM2",this.ORDER_NONE),s="";return s+=`_5tracker.LowThreshold(${i}, min(${n}, ${t}));
`,s+=`_5tracker.HighThreshold(${i}, max(${n}, ${t}));
`,s},mpy(e){let i=this.valueToCode(e,"CHAN",this.ORDER_NONE),n=this.valueToCode(e,"NUM1",this.ORDER_NONE),t=this.valueToCode(e,"NUM2",this.ORDER_NONE),s="";return s+=`_5tracker.low_threshold(${i}, min(${n}, ${t}))
`,s+=`_5tracker.high_threshold(${i}, max(${n}, ${t}))
`,s}},{id:"tracking5",text:d(o,{id:"blocks.tracking.tracking5",defaultMessage:"channel [CHAN] sensing black line?"}),output:"boolean",inputs:{CHAN:{menu:"channels"}},ino(e){return a(this),[`(_5tracker.DigitalValue(${this.valueToCode(e,"CHAN",this.ORDER_NONE)}) == 0)`,this.ORDER_FUNCTION_CALL]},mpy(e){return[`(_5tracker.digital_value(${this.valueToCode(e,"CHAN",this.ORDER_NONE)}) == 0)`,this.ORDER_FUNCTION_CALL]}},{id:"value5",text:d(o,{id:"blocks.tracking.value5",defaultMessage:"channel [CHAN] sensing value"}),output:"number",inputs:{CHAN:{menu:"channels"}},ino(e){return a(this),[`_5tracker.AnalogValue(${this.valueToCode(e,"CHAN",this.ORDER_NONE)})`,this.ORDER_FUNCTION_CALL]},mpy(e){return[`_5tracker.analog_value(${this.valueToCode(e,"CHAN",this.ORDER_NONE)})`,this.ORDER_FUNCTION_CALL]}}].filter(Boolean),c={channels:{type:"integer",inputMode:!0,defaultValue:"0",items:[["1","0"],["2","1"],["3","2"],["4","3"],["5","4"]]}};var h="./assets/five_line_tracker-by7sj0q9.py";var k="./assets/five_line_tracker-jxegj9c2.h";var u="./assets/five_line_tracker-y12b2taa.cpp";var f=(r)=>{if(r.editor==="@blockcode/gui-arduino")return[{header:!0,name:"five_line_tracker.h",type:"text/x-c",uri:k},{name:"five_line_tracker.cpp",type:"text/x-c",uri:u}];return[{name:"five_line_tracker",type:"text/x-python",uri:h}]};var p="https://docs.emakefun.com/#/zh-cn/ph2.0_sensors/sensors/five_line_tracker_v3/five_line_tracker_v3";var w={en:{"blocks.tracking.name":"Tracking","blocks.tracking.tracking":"pin [PIN] sensing black line?","blocks.tracking.value":"pin [PIN] sensing value","blocks.tracking.threshold":"set pin [PIN] sensing value min [NUM1] max [NUM2]","blocks.tracking.init5":"set 5-channel tracker pins SCL:[SCL] SDA:[SDA]","blocks.tracking.addr5":"set 5-channel tracker I2C address [ADDR]","blocks.tracking.threshold5":"set channel [CHAN] to sensing value [NUM1] to [NUM2]","blocks.tracking.tracking5":"channel [CHAN] sensing black line?","blocks.tracking.value5":"channel [CHAN] sensing value"},"zh-Hans":{"blocks.tracking.name":"循迹模块","blocks.tracking.tracking":"引脚[PIN]侦测到黑线？","blocks.tracking.value":"引脚[PIN]的值","blocks.tracking.threshold":"将引脚[PIN]阈值设为[NUM1]到[NUM2]","blocks.tracking.init5":"初始五路循迹引脚 SCL:[SCL] SDA:[SDA]","blocks.tracking.addr5":"初始五路循迹 I2C 地址[ADDR]","blocks.tracking.threshold5":"将第[CHAN]路探头阈值设为[NUM1]到[NUM2]","blocks.tracking.tracking5":"第[CHAN]路探头侦测到黑线？","blocks.tracking.value5":"第[CHAN]路探头的值"},"zh-Hant":{"blocks.tracking.name":"循跡模組","blocks.tracking.tracking":"引腳[PIN]偵測到黑線？","blocks.tracking.value":"引腳[PIN]的值","blocks.tracking.threshold":"將引腳[PIN]閾值設為[NUM1]到[NUM2]","blocks.tracking.init5":"初始五路循跡引腳 SCL:[SCL] SDA:[SDA]","blocks.tracking.addr5":"初始五路循跡 I2C 地址[ADDR]","blocks.tracking.threshold5":"將第[CHAN]路探頭閾值設為[NUM1]到[NUM2]","blocks.tracking.tracking5":"第[CHAN]路探頭偵測到黑線？","blocks.tracking.value5":"第[CHAN]路探頭的值"}};var L="./assets/icon-sp2d1d7q.svg";import{jsx as S}from"preact/jsx-runtime";A(w);var K={icon:L,name:S(H,{id:"blocks.tracking.name",defaultMessage:"Tracking"}),readme:p,files:f,blocks:_,menus:c};export{K as default};
